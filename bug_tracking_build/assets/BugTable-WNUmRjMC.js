import{r as d,j as e,h as n,p as b,B as f}from"./index-Ih4Id1p_.js";import{a as g,S as y,f as w,P as T}from"./PriorityBadge-BwmyLdor.js";import{c as v}from"./index-CnLD1qET.js";import{E as R}from"./eye-yLj1w5ql.js";const k=v("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]),h=d.forwardRef(({className:t,...s},r)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:r,className:n("w-full caption-bottom text-sm",t),...s})}));h.displayName="Table";const p=d.forwardRef(({className:t,...s},r)=>e.jsx("thead",{ref:r,className:n("[&_tr]:border-b",t),...s}));p.displayName="TableHeader";const N=d.forwardRef(({className:t,...s},r)=>e.jsx("tbody",{ref:r,className:n("[&_tr:last-child]:border-0",t),...s}));N.displayName="TableBody";const C=d.forwardRef(({className:t,...s},r)=>e.jsx("tfoot",{ref:r,className:n("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...s}));C.displayName="TableFooter";const m=d.forwardRef(({className:t,...s},r)=>e.jsx("tr",{ref:r,className:n("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...s}));m.displayName="TableRow";const l=d.forwardRef(({className:t,...s},r)=>e.jsx("th",{ref:r,className:n("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...s}));l.displayName="TableHead";const o=d.forwardRef(({className:t,...s},r)=>e.jsx("td",{ref:r,className:n("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...s}));o.displayName="TableCell";const B=d.forwardRef(({className:t,...s},r)=>e.jsx("caption",{ref:r,className:n("mt-4 text-sm text-muted-foreground",t),...s}));B.displayName="TableCaption";function E({bugs:t,onViewDetails:s,onEdit:r}){const{user:c}=b(),x=(c==null?void 0:c.roleName)||"",j=a=>{if(!a)return"Low";const i=a.toLowerCase();return i==="critical"?"Critical":i==="high"?"High":i==="medium"?"Medium":"Low"};return e.jsx("div",{className:"overflow-hidden rounded-xl border bg-card/50 shadow-sm backdrop-blur-sm",children:e.jsxs(h,{children:[e.jsx(p,{children:e.jsxs(m,{className:"bg-muted/50 hover:bg-muted/50",children:[e.jsx(l,{className:"font-semibold text-muted-foreground",children:"Tracking No"}),e.jsx(l,{className:"font-semibold text-muted-foreground",children:"Title"}),e.jsx(l,{className:"font-semibold text-muted-foreground",children:"Module"}),e.jsx(l,{className:"font-semibold text-muted-foreground",children:"Type"}),e.jsx(l,{className:"font-semibold text-muted-foreground",children:"Source"}),e.jsx(l,{className:"text-center font-semibold text-muted-foreground",children:"Attachments"}),x==="Developer"&&e.jsx(l,{className:"font-semibold text-muted-foreground",children:"Priority"}),e.jsx(l,{className:"font-semibold text-muted-foreground",children:"Status"}),e.jsx(l,{className:"font-semibold text-muted-foreground",children:"Created Date"}),e.jsx(l,{className:"text-right font-semibold text-muted-foreground",children:"Actions"})]})}),e.jsx(N,{children:t.length===0?e.jsx(m,{children:e.jsx(o,{colSpan:9,className:"py-20 text-center italic text-muted-foreground",children:"No bugs found matching your criteria."})}):t.map(a=>{var u;const i=x==="Developer"||["Open","Re-Open"].includes(a.status);return e.jsxs(m,{className:"group transition-all duration-200 hover:bg-muted/30",children:[e.jsx(o,{className:"font-mono text-xs font-semibold text-muted-foreground",children:a.tracking_no}),e.jsx(o,{className:"max-w-[220px]",children:e.jsx("span",{className:"line-clamp-1 font-medium text-foreground",children:a.title})}),e.jsx(o,{className:"text-sm font-medium",children:a.module_name||"N/A"}),e.jsx(o,{className:"text-sm font-medium",children:a.entry_type||"N/A"}),e.jsx(o,{className:"text-sm font-medium",children:a.source||"N/A"}),e.jsx(o,{className:"text-center",children:(u=a.screenshots)!=null&&u.length?e.jsxs("div",{className:"mx-auto flex w-fit items-center justify-center gap-1 rounded-full bg-indigo-50 px-2 py-0.5 text-[10px] font-bold text-indigo-600",children:[e.jsx(k,{className:"h-3 w-3"}),a.screenshots.length]}):e.jsx("span",{className:"text-muted-foreground/30",children:"â€”"})}),x==="Developer"&&e.jsx(o,{children:e.jsx(g,{priority:j(a.priority)})}),e.jsx(o,{children:e.jsx(y,{status:a.status})}),e.jsx(o,{className:"text-xs text-muted-foreground",children:w(new Date(a.created_at),"MMM dd, yyyy HH:mm")}),e.jsx(o,{className:"text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i&&e.jsxs(f,{variant:"outline",size:"sm",onClick:()=>r(a),className:"h-8 border-muted-foreground font-semibold text-muted-foreground hover:bg-muted-foreground hover:text-white",children:[e.jsx(T,{className:"mr-1.5 h-3.5 w-3.5"}),"Edit"]}),e.jsxs(f,{variant:"default",size:"sm",onClick:()=>s(a.id.toString()),className:"h-8 bg-muted font-semibold text-muted-foreground hover:bg-muted/60",children:[e.jsx(R,{className:"mr-1.5 h-3.5 w-3.5"}),"View"]})]})})]},a.id)})})]})})}export{E as B};
