import{r as l,j as e,h as n,p as b,B as u}from"./index-BE-GwfWL.js";import{a as g,S as y,f as w,P as T}from"./PriorityBadge-Cy8ggSTf.js";import{c as v}from"./index-Gd_vjMWN.js";import{E as R}from"./eye-Ct5h2suF.js";const k=v("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]),f=l.forwardRef(({className:t,...s},a)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:a,className:n("w-full caption-bottom text-sm",t),...s})}));f.displayName="Table";const h=l.forwardRef(({className:t,...s},a)=>e.jsx("thead",{ref:a,className:n("[&_tr]:border-b",t),...s}));h.displayName="TableHeader";const N=l.forwardRef(({className:t,...s},a)=>e.jsx("tbody",{ref:a,className:n("[&_tr:last-child]:border-0",t),...s}));N.displayName="TableBody";const C=l.forwardRef(({className:t,...s},a)=>e.jsx("tfoot",{ref:a,className:n("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...s}));C.displayName="TableFooter";const m=l.forwardRef(({className:t,...s},a)=>e.jsx("tr",{ref:a,className:n("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...s}));m.displayName="TableRow";const d=l.forwardRef(({className:t,...s},a)=>e.jsx("th",{ref:a,className:n("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...s}));d.displayName="TableHead";const o=l.forwardRef(({className:t,...s},a)=>e.jsx("td",{ref:a,className:n("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...s}));o.displayName="TableCell";const B=l.forwardRef(({className:t,...s},a)=>e.jsx("caption",{ref:a,className:n("mt-4 text-sm text-muted-foreground",t),...s}));B.displayName="TableCaption";function E({bugs:t,onViewDetails:s,onEdit:a}){const{user:c}=b(),p=(c==null?void 0:c.roleName)||"",j=r=>{if(!r)return"Low";const i=r.toLowerCase();return i==="critical"?"Critical":i==="high"?"High":i==="medium"?"Medium":"Low"};return e.jsx("div",{className:"rounded-xl border bg-card/50 backdrop-blur-sm shadow-sm overflow-hidden",children:e.jsxs(f,{children:[e.jsx(h,{children:e.jsxs(m,{className:"bg-muted/50 hover:bg-muted/50",children:[e.jsx(d,{className:"font-semibold text-muted-foreground",children:"Tracking No"}),e.jsx(d,{className:"font-semibold text-muted-foreground",children:"Title"}),e.jsx(d,{className:"font-semibold text-muted-foreground",children:"Module"}),e.jsx(d,{className:"font-semibold text-muted-foreground",children:"Type"}),e.jsx(d,{className:"font-semibold text-muted-foreground",children:"Source"}),e.jsx(d,{className:"font-semibold text-muted-foreground text-center",children:"Attachments"}),e.jsx(d,{className:"font-semibold text-muted-foreground",children:"Priority"}),e.jsx(d,{className:"font-semibold text-muted-foreground",children:"Status"}),e.jsx(d,{className:"font-semibold text-muted-foreground",children:"Created Date"}),e.jsx(d,{className:"font-semibold text-muted-foreground text-right",children:"Actions"})]})}),e.jsx(N,{children:t.length===0?e.jsx(m,{children:e.jsx(o,{colSpan:9,className:"text-center py-20 text-muted-foreground italic",children:"No bugs found matching your criteria."})}):t.map(r=>{var x;const i=p==="Developer"||["Open","Re-Open"].includes(r.status);return e.jsxs(m,{className:"group transition-all duration-200 hover:bg-muted/30",children:[e.jsx(o,{className:"font-mono text-xs font-semibold text-muted-foreground",children:r.tracking_no}),e.jsx(o,{className:"max-w-[220px]",children:e.jsx("span",{className:"font-medium text-foreground line-clamp-1",children:r.title})}),e.jsx(o,{className:"text-sm font-medium",children:r.module_name||"N/A"}),e.jsx(o,{className:"text-sm font-medium",children:r.entry_type||"N/A"}),e.jsx(o,{className:"text-sm font-medium",children:r.source||"N/A"}),e.jsx(o,{className:"text-center",children:(x=r.screenshots)!=null&&x.length?e.jsxs("div",{className:"flex items-center justify-center gap-1 text-indigo-600 bg-indigo-50 w-fit mx-auto px-2 py-0.5 rounded-full text-[10px] font-bold",children:[e.jsx(k,{className:"h-3 w-3"}),r.screenshots.length]}):e.jsx("span",{className:"text-muted-foreground/30",children:"â€”"})}),e.jsx(o,{children:e.jsx(g,{priority:j(r.priority)})}),e.jsx(o,{children:e.jsx(y,{status:r.status})}),e.jsx(o,{className:"text-xs text-muted-foreground",children:w(new Date(r.created_at),"MMM dd, yyyy HH:mm")}),e.jsx(o,{className:"text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i&&e.jsxs(u,{variant:"outline",size:"sm",onClick:()=>a(r),className:"text-muted-foreground border-muted-foreground hover:bg-muted-foreground hover:text-white font-semibold h-8",children:[e.jsx(T,{className:"h-3.5 w-3.5 mr-1.5"}),"Edit"]}),e.jsxs(u,{variant:"default",size:"sm",onClick:()=>s(r.id.toString()),className:"bg-muted text-muted-foreground hover:bg-muted/60 font-semibold h-8",children:[e.jsx(R,{className:"h-3.5 w-3.5 mr-1.5"}),"View"]})]})})]},r.id)})})]})})}export{E as B};
