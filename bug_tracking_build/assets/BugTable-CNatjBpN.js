import{r as d,j as e,h as n,p as b,B as h}from"./index-DfbXr6sH.js";import{a as g,S as y,f as w,P as T}from"./PriorityBadge-_OtTB4L2.js";import{c as v}from"./index-Bg9ydgr6.js";import{E as R}from"./eye-Dm5uNFdi.js";const k=v("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]),u=d.forwardRef(({className:t,...s},a)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:a,className:n("w-full caption-bottom text-sm",t),...s})}));u.displayName="Table";const p=d.forwardRef(({className:t,...s},a)=>e.jsx("thead",{ref:a,className:n("[&_tr]:border-b",t),...s}));p.displayName="TableHeader";const N=d.forwardRef(({className:t,...s},a)=>e.jsx("tbody",{ref:a,className:n("[&_tr:last-child]:border-0",t),...s}));N.displayName="TableBody";const C=d.forwardRef(({className:t,...s},a)=>e.jsx("tfoot",{ref:a,className:n("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...s}));C.displayName="TableFooter";const c=d.forwardRef(({className:t,...s},a)=>e.jsx("tr",{ref:a,className:n("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...s}));c.displayName="TableRow";const o=d.forwardRef(({className:t,...s},a)=>e.jsx("th",{ref:a,className:n("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...s}));o.displayName="TableHead";const l=d.forwardRef(({className:t,...s},a)=>e.jsx("td",{ref:a,className:n("p-2 align-middle text-[14px] font-normal [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...s}));l.displayName="TableCell";const B=d.forwardRef(({className:t,...s},a)=>e.jsx("caption",{ref:a,className:n("mt-4 text-sm text-muted-foreground",t),...s}));B.displayName="TableCaption";function D({bugs:t,onViewDetails:s,onEdit:a}){const{user:m}=b(),x=(m==null?void 0:m.roleName)||"",j=r=>{if(!r)return"Low";const i=r.toLowerCase();return i==="critical"?"Critical":i==="high"?"High":i==="medium"?"Medium":"Low"};return e.jsx("div",{className:"overflow-hidden rounded-xl border bg-card/50 shadow-sm backdrop-blur-sm",children:e.jsxs(u,{children:[e.jsx(p,{children:e.jsxs(c,{className:"bg-muted/50 hover:bg-muted/50",children:[e.jsx(o,{className:"font-semibold text-muted-foreground",children:"Tracking No"}),e.jsx(o,{className:"font-semibold text-muted-foreground",children:"Title"}),e.jsx(o,{className:"font-semibold text-muted-foreground",children:"Ulb Name"}),e.jsx(o,{className:"font-semibold text-muted-foreground",children:"Module"}),e.jsx(o,{className:"font-semibold text-muted-foreground",children:"Type"}),e.jsx(o,{className:"text-center font-semibold text-muted-foreground",children:"Attachments"}),x==="Developer"&&e.jsx(o,{className:"font-semibold text-muted-foreground",children:"Priority"}),e.jsx(o,{className:"font-semibold text-muted-foreground",children:"Status"}),e.jsx(o,{className:"font-semibold text-muted-foreground",children:"Created Date"}),e.jsx(o,{className:"text-right font-semibold text-muted-foreground",children:"Actions"})]})}),e.jsx(N,{children:t.length===0?e.jsx(c,{children:e.jsx(l,{colSpan:9,className:"py-20 text-center italic text-muted-foreground",children:"No bugs found matching your criteria."})}):t.map(r=>{var f;const i=x==="Developer"||["Open","Re-Open"].includes(r.status);return e.jsxs(c,{className:"group transition-all duration-200 hover:bg-muted/30",children:[e.jsx(l,{className:"text-xs font-mono",children:r.tracking_no}),e.jsx(l,{className:"max-w-[180px]",children:e.jsx("span",{className:"line-clamp-1",children:r.title})}),e.jsx(l,{className:"max-w-[180px]",children:r.ulb_name||"N/A"}),e.jsx(l,{className:"font-semibold",children:r.module_name||"N/A"}),e.jsx(l,{children:r.entry_type||"N/A"}),e.jsx(l,{className:"text-center",children:(f=r.screenshots)!=null&&f.length?e.jsxs("div",{className:"mx-auto flex w-fit items-center justify-center gap-1 rounded-full bg-indigo-50 px-2 py-0.5 text-[10px] font-bold text-indigo-600",children:[e.jsx(k,{className:"h-3 w-3"}),r.screenshots.length]}):e.jsx("span",{className:"text-muted-foreground/30",children:"â€”"})}),x==="Developer"&&e.jsx(l,{className:"text-lg",children:e.jsx(g,{priority:j(r.priority)})}),e.jsx(l,{children:e.jsx(y,{status:r.status})}),e.jsx(l,{className:"text-xs text-muted-foreground",children:w(new Date(r.created_at),"MMM dd, yyyy HH:mm")}),e.jsx(l,{className:"text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-4",children:[i&&e.jsx(h,{variant:"outline",size:"icon",onClick:()=>a(r),className:"h-7 w-7",children:e.jsx(T,{className:"h-3.5 w-3.5"})}),e.jsx(h,{variant:"outline",size:"icon",onClick:()=>s(r.id.toString()),className:"h-7 w-7",children:e.jsx(R,{className:"h-3.5 w-3.5"})})]})})]},r.id)})})]})})}export{D as B};
