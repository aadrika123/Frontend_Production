import{r as c,w as T,u as a,W as C,a as r,F as W,j as s,B as H,f as p}from"./index-ad8703fe.js";import{u as E}from"./useSetTitle-18ff4fb6.js";import{h as b}from"./moment-fbc5633a.js";import{W as R}from"./WaterTopButtons-e143d6a3.js";const I=()=>{var h,l;const[e,v]=c.useState(),[n,w]=c.useState(""),[_,o]=c.useState(!1);c.useState();const{id:d}=T(),m=a();E("Water Payment History");const{api_waterConsumerPaymentHistory:A,api_waterApprovedApplicationDetails:u,header:i}=C(),P=()=>{o(!0),p.post(u,{id:d},i).then(function(t){console.log("water Approved Application Details",t.data.data),v(t.data.data),o(!1)}).catch(function(t){console.log("Error : water Approved Application Details",t),o(!1)})},S=()=>{o(!0),p.post(A,{consumerId:d},i).then(function(t){console.log("water payment history",t.data.data),w(t.data.data),o(!1)}).catch(function(t){console.log("Error : water payment history",t),o(!1)})};return c.useEffect(()=>{P(),S()},[d]),r(W,{children:[s(R,{active:"payment",consumerNo:e==null?void 0:e.consumer_no}),s("div",{className:"grid grid-cols-1 md:grid-cols-12 lg:grid-cols-12 gap-2 container mx-auto w-full",children:r("div",{className:"col-span-12 rounded-lg p-4",children:[s("div",{className:"",children:r("div",{className:"py-6 mt-2 bg-white rounded-lg shadow-lg p-4",children:[r("div",{className:"flex space-x-5 pl-4 ",children:[r("div",{className:"flex-1",children:[r("div",{className:"font-semibold text-md",children:[e!=null&&e.connection_type?e==null?void 0:e.connection_type:"N/A"," "]}),s("div",{className:"text-gray-500 text-xs",children:"Connection Type"})]}),r("div",{className:"flex-1",children:[s("div",{className:"font-bold text-sm",children:e!=null&&e.ward_name?e==null?void 0:e.ward_name:"N/A"}),s("div",{className:"text-gray-500 text-xs",children:"Ward No."})]}),r("div",{className:"flex-1",children:[s("div",{className:"font-semibold text-md",children:e!=null&&e.owner_char_type?e==null?void 0:e.owner_char_type:"N/A"}),s("div",{className:"text-gray-500 text-xs",children:"Ownership Type"})]}),r("div",{className:"flex-1",children:[s("div",{className:"font-bold text-sm",children:e!=null&&e.property_type?e==null?void 0:e.property_type:"N/A"}),s("div",{className:"text-gray-500 text-xs",children:"Property Type"})]}),r("div",{className:"flex-1",children:[s("div",{className:"font-bold text-sm",children:e!=null&&e.rule_set?e==null?void 0:e.rule_set:"N/A"}),s("div",{className:"text-gray-500 text-xs",children:"Rule Set"})]})]}),r("div",{className:"flex space-x-10  pl-4 mt-4",children:[r("div",{className:"flex-1",children:[s("div",{className:"font-bold text-sm",children:e!=null&&e.pipeline_type?e==null?void 0:e.pipeline_type:"N/A"}),s("div",{className:"text-gray-500 text-xs",children:"Pipeline Type"})]}),r("div",{className:"flex-1",children:[s("div",{className:"font-bold text-sm",children:e!=null&&e.connection_through?e==null?void 0:e.connection_through:"N/A"}),s("div",{className:"text-gray-500 text-xs",children:"Connection Through"})]}),(e==null?void 0:e.connection_through)=="SAF"?r("div",{className:"flex-1",children:[s("div",{className:"font-semibold text-md",children:e!=null&&e.saf_no?e==null?void 0:e.saf_no:"N/A"}),s("div",{className:"text-gray-500 text-xs",children:"SAF No"})]}):r("div",{className:"flex-1",children:[s("div",{className:"font-semibold text-md",children:e!=null&&e.holding_no?e==null?void 0:e.holding_no:"N/A"}),s("div",{className:"text-gray-500 text-xs",children:"Holding No"})]}),r("div",{className:"flex-1",children:[s("div",{className:"font-semibold text-md",children:e!=null&&e.area_sqft?e==null?void 0:e.area_sqft:"N/A"}),s("div",{className:"text-gray-500 text-xs",children:"Area (Sqft.)"})]}),r("div",{className:"flex-1",children:[s("div",{className:"font-bold text-sm",children:e!=null&&e.category?e==null?void 0:e.category:"N/A"}),s("div",{className:"text-gray-500 text-xs",children:"Category"})]})]})]})}),_&&s(H,{}),(n==null?void 0:n.length)==0&&s("div",{className:"text-center mt-10",children:s("span",{className:"text-red-600 font-bold text-lg px-4 py-2 border border-red-500  shadow-xl ",children:" No Payments Found Yet"})}),(n==null?void 0:n.length)!=0&&s("div",{className:"mt-10 bg-white shadow-xl  rounded-lg",children:r("table",{className:"min-w-full leading-normal mt-2",children:[s("thead",{className:"font-bold text-left text-sm bg-white text-gray-900",children:r("tr",{children:[s("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"#"}),s("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"Transaction No"}),s("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"Payment Mode"}),s("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"Date"}),s("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"Type"}),s("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"Paid For"}),s("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"Amount"}),s("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"Action"})]})}),r("tbody",{className:"text-sm",children:[(h=n==null?void 0:n.Consumer)==null?void 0:h.map((t,x)=>{var N,y,g,f;return r("tr",{className:"bg-white shadow-lg border-b border-gray-200",children:[s("td",{className:"px-2 py-2 text-sm text-left",children:x+1}),s("td",{className:"px-2 py-2 text-sm text-left",children:t==null?void 0:t.tran_no}),s("td",{className:"px-2 py-2 text-sm text-left",children:t==null?void 0:t.payment_mode}),s("td",{className:"px-2 py-2 text-sm text-left",children:t==null?void 0:t.tran_date}),s("td",{className:"px-2 py-2 text-sm text-left",children:t==null?void 0:t.tran_type}),r("td",{className:"px-2 py-2 text-sm text-left",children:[(y=b((N=t==null?void 0:t.demand)==null?void 0:N.demand_from))==null?void 0:y.format("MMM/yy")," - ",(f=b((g=t==null?void 0:t.demand)==null?void 0:g.demand_upto))==null?void 0:f.format("MMM/yy")]}),s("td",{className:"px-2 py-2 text-sm text-left",children:t==null?void 0:t.amount}),s("td",{className:"px-2 py-2 text-sm text-left",children:s("button",{onClick:()=>m(`/water-demand-payment-receipt/${t==null?void 0:t.tran_no}`),type:"button",className:"px-2 py-2.5 border border-indigo-500 text-indigo-500 font-medium text-xs leading-tight uppercase rounded shadow-xl hover:bg-indigo-700 hover:text-white hover:shadow-lg  active:shadow-lg transition duration-150 ease-in-out cursor-pointer",children:"View Receipt"})})]})}),(l=n==null?void 0:n.connection)==null?void 0:l.map((t,x)=>r("tr",{className:"bg-white shadow-lg border-b border-gray-200",children:[s("td",{className:"px-2 py-2 text-sm text-left",children:x+1}),r("td",{className:"px-2 py-2 text-sm text-left",children:[t==null?void 0:t.tran_no,s("span",{className:"bg-indigo-500 text-white text-xs px-2 rounded-sm ml-2",children:"Application"})]}),s("td",{className:"px-2 py-2 text-sm text-left",children:t==null?void 0:t.payment_mode}),s("td",{className:"px-2 py-2 text-sm text-left",children:t==null?void 0:t.tran_date}),s("td",{className:"px-2 py-2 text-sm text-left",children:t==null?void 0:t.tran_type}),s("td",{className:"px-2 py-2 text-sm text-left",children:"Application"}),s("td",{className:"px-2 py-2 text-sm text-left",children:t==null?void 0:t.amount}),s("td",{className:"px-2 py-2 text-sm text-left",children:s("button",{onClick:()=>m(`/water-payment-receipt/${t==null?void 0:t.tran_no}/application`),type:"button",className:"px-2 py-2.5 border border-indigo-500 text-indigo-500 font-medium text-xs leading-tight uppercase rounded shadow-xl hover:bg-indigo-700 hover:text-white hover:shadow-lg  active:shadow-lg transition duration-150 ease-in-out cursor-pointer",children:"View Receipt"})})]}))]})]})}),s("div",{className:"w-full h-40"})]})})]})};export{I as default};
