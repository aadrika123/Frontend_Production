import{x as K,u as Q,j as e,F as _,a,r as c,l as X,W as Z,o as ee,q as h,s as te,f as D,t as ae,B as ne,A as re}from"./index-3c06fb98.js";import{u as F}from"./useSetTitle-03a93f92.js";function se(){const{id:o}=K();console.log("param document",o);const x=Q();return e(_,{children:e("div",{className:"bg-gray-200   h-screen",children:e("div",{className:" w-2/6 mx-auto  bg-white p-12",children:a("div",{className:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-1 gap-1 mx-auto ",children:[e("div",{children:e("img",{src:"https://cdn-icons-png.flaticon.com/512/2169/2169862.png",className:"h-40 mx-auto"})}),e("div",{className:"ml-32 -mt-10",children:e("img",{src:"https://cdn-icons-png.flaticon.com/512/5610/5610944.png",className:"h-12 mx-auto opacity-75"})}),e("div",{children:e("h1",{className:"text-center text-2xl text-gray-600",children:"Payment Successful"})}),e("div",{children:a("h1",{className:"text-center text-sm text-gray-500",children:["Your payment is  successful!",e("br",{})," Now you upload your Document"]})}),a("div",{className:"mx-auto flex flex-row space-x-4",children:[e("button",{className:"w-32 text-xs p-3 mt-10 font-medium tracking-wide text-white capitalize transition-colors duration-200 transform bg-sky-400 rounded-md hover:bg-sky-600 focus:outline-none focus:bg-sky-600",onClick:()=>x(`/safdocumentupload/${o}`),children:"Upload Document"}),e("button",{className:"w-32 text-xs mt-10 font-medium tracking-wide text-white capitalize transition-colors duration-200 transform bg-sky-400 rounded-md hover:bg-sky-600 focus:outline-none focus:bg-sky-600",onClick:()=>x("/dashboardEntry"),children:"Dashboard"})]})]})})})})}let le=window.localStorage.getItem("token");console.log("token at basic details is post method...",le);function oe(o){var k,w,b,z,U,G;const[x,S]=c.useState(""),[t,p]=c.useState("no"),[I,q]=c.useState(),[P,$]=c.useState(),[g,A]=c.useState(0),[C,m]=c.useState(),[R,f]=c.useState(),{notify:u}=c.useContext(X),B=Q(),n=o==null?void 0:o.data,l=o==null?void 0:o.installment,M=o==null?void 0:o.applicationId,T=o==null?void 0:o.connCat;F("Payment Page");const{api_waterPayConnectionCharges:W,header:E}=Z();c.useEffect(()=>{if(t=="no"){const r=(n==null?void 0:n.penalty)/10;q((n==null?void 0:n.totalAmount)-r),f(r),(n==null?void 0:n.connectionFee)==0&&(p("yes"),f(0))}t=="yes"&&q(Number(n==null?void 0:n.connectionFee)+g)},[g,t,n]);const V=ee({isInstallmentRadio:h().required("select Is InstallmentRadio"),paymentMode:h().required("select payment mode"),remarks:h().required("Enter remarks"),branchName:h(),cheque_dd_no:h(),cheque_dd_date:h(),advanceAmount:h()}),s=te({enableReinitialize:!0,initialValues:{paymentMode:"",remarks:"",bankName:"",branchName:"",cheque_dd_no:"",cheque_dd_date:"",applicationId:M,chargeCategory:T,selectInstallment:"",isInstallmentRadio:"no"},onSubmit:(r,i)=>{j(r)},validationSchema:V}),j=r=>{console.log("items",r);const i={paymentMode:r==null?void 0:r.paymentMode,remarks:r==null?void 0:r.remarks,bankName:r==null?void 0:r.bankName,branchName:r==null?void 0:r.branchName,chequeNo:r==null?void 0:r.cheque_dd_no,chequeDate:r==null?void 0:r.cheque_dd_date,amount:I,isInstallment:t,penaltyAmount:n==null?void 0:n.penalty,applicationId:r==null?void 0:r.applicationId,penaltyIds:C,chargeCategory:r==null?void 0:r.chargeCategory};console.log("Final Payload",i),D.post(W,i,E).then(d=>{var H,J,Y;((H=d==null?void 0:d.data)==null?void 0:H.status)==!0?(B(`/water-payment-receipt/${(Y=(J=d==null?void 0:d.data)==null?void 0:J.data)==null?void 0:Y.TransactionNo}/application`),console.log("Payment Done",d),u("Payment Done Successfully","success")):u("Error While Payment","error")}).catch(d=>{u("Something Went Wrong","error"),console.log("Expecption while payment",d)})},L=r=>{console.log("This..",r.target.selectedIndex,l[0].id),r.target.selectedIndex==1&&m([l[0].id]),r.target.selectedIndex==2&&m([l[0].id,l[1].id]),r.target.selectedIndex==3&&(m([l[0].id,l[1].id,l[2].id]),p("no"),m(void 0))},O=r=>{let i=r.target.name,d=r.target.value;console.log(i,d),i=="paymentMode"&&$(d),i=="selectInstallment"&&L(r),i=="selectInstallment"&&r.target.selectedIndex==3&&p("no"),i=="selectInstallment"&&A(Number(d)),i=="isInstallmentRadio"&&p(r.target.value)};if(x==!0)return e(_,{children:e(se,{})});const y=(n==null?void 0:n.penalty)>0&&((k=l[0])==null?void 0:k.installment_amount),N=(n==null?void 0:n.penalty)>0&&Number((w=l[1])==null?void 0:w.installment_amount)+Number((b=l[0])==null?void 0:b.installment_amount),v=(n==null?void 0:n.penalty)>0&&Number((z=l[2])==null?void 0:z.installment_amount)+Number((U=l[1])==null?void 0:U.installment_amount)+Number((G=l[0])==null?void 0:G.installment_amount);return a(_,{children:[e(ae,{position:"top-right",autoClose:2e3}),e("div",{className:" block p-4 mt-4 w-full md:py-4 md:px-40 md:pb-0 md:pt-0 rounded-lg shadow-lg bg-white md:w-full mx-auto  overflow-x-auto mb-20 ",children:e("div",{className:" block p-4 w-full md:py-6 rounded-lg bg-white mx-auto ",children:a("form",{onSubmit:s.handleSubmit,onChange:O,className:"p-4 relative",children:[(n==null?void 0:n.connectionFee)!=0&&(n==null?void 0:n.penalty)!=0&&e("div",{className:"text-center text-green-600 font-semibold pb-2",children:"Note: 10% rebate on penalty in case whole penalty is paid"}),a("div",{className:"grid grid-cols-12",children:[a("div",{className:"bg-white col-span-12 grid grid-cols-12 pt-6 mb-4 border border-gray-200",children:[a("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:[e("span",{children:"Connection Fee :"})," ",e("span",{className:"font-mono font-semibold",children:n==null?void 0:n.connectionFee})]}),a("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:[e("span",{children:"Penalty :"})," ",e("span",{className:"font-mono font-semibold",children:n==null?void 0:n.penalty})]}),(n==null?void 0:n.penalty)>0&&a("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4 flex space-x-2",children:[e("span",{children:"Pay penalty on installment?:"})," ",e("span",{className:"font-mono font-semibold",children:a("span",{className:"flex space-x-2",children:[a("label",{children:[e("input",{...s.getFieldProps("isInstallmentRadio"),type:"radio",name:"isInstallmentRadio",value:"yes",checked:t==="yes",disabled:(n==null?void 0:n.connectionFee)==0}),"Yes"]}),a("label",{children:[e("input",{...s.getFieldProps("isInstallmentRadio"),type:"radio",name:"isInstallmentRadio",value:"no",checked:t==="no",disabled:(n==null?void 0:n.connectionFee)==0}),"No"]})]})})]}),(n==null?void 0:n.penalty)>0&&t=="yes"?a("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:[a("label",{children:["Select Installment",e("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),a("select",{...s.getFieldProps("selectInstallment"),type:"text",className:"form-control mx-2 px-1 py-1 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e("option",{value:"",children:"Select"}),e("option",{value:y,children:y}),l[1]&&e("option",{value:N,children:N}),l[2]&&e("option",{value:v,children:v})]}),e("p",{className:"text-red-600 text-xs",children:s.touched.selectInstallment&&s.errors.selectInstallment?s.errors.selectInstallment:null})]}):e("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4 flex"}),e("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:a("div",{className:"w-full",children:[e("span",{children:"Total Payable Amount :"})," ",a("span",{className:"font-mono font-semibold text-xl",children:[" â‚¹",I]})]})}),e("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:a("div",{className:"w-full",children:[e("span",{children:"Rebate :"})," ",e("span",{className:"font-mono font-semibold text-xl",children:t=="yes"?0:R})]})})]}),a("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:[a("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[e("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Payment Mode"]}),a("select",{...s.getFieldProps("paymentMode"),type:"text",className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e("option",{value:"",children:"Select"}),e("option",{value:"Cash",children:"Cash"}),e("option",{value:"Cheque",children:"Cheque"}),e("option",{value:"DD",children:"DD"}),e("option",{value:"online",children:"Online"})]}),e("span",{className:"text-red-600 absolute text-xs",children:s.touched.paymentMode&&s.errors.paymentMode?s.errors.paymentMode:null})]}),a("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:[a("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[e("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Remarks"]}),e("input",{...s.getFieldProps("remarks"),type:"text",className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md cursor-pointer",placeholder:"Enter new ward no."}),e("span",{className:"text-red-600 absolute text-xs",children:s.touched.remarks&&s.errors.remarks?s.errors.remarks:null})]}),(P=="Cheque"||P=="DD")&&a(_,{children:[a("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:[a("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[e("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Bank Name"]}),e("input",{...s.getFieldProps("bankName"),type:"text",className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",placeholder:"Enter Bank Name."}),e("span",{className:"text-red-600 absolute text-xs",children:s.touched.bankName&&s.errors.bankName?s.errors.bankName:null})]}),a("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:[a("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[e("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Branch Name"]}),e("input",{...s.getFieldProps("branchName"),type:"text",className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",placeholder:"Enter Branch Name"}),e("span",{className:"text-red-600 absolute text-xs",children:s.touched.branchName&&s.errors.branchName?s.errors.branchName:null})]}),a("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:[a("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[e("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Cheque/DD No"]}),e("input",{...s.getFieldProps("cheque_dd_no"),type:"text",className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e("span",{className:"text-red-600 absolute text-xs",children:s.touched.cheque_dd_no&&s.errors.cheque_dd_no?s.errors.cheque_dd_no:null})]}),a("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:[a("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[e("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Cheque/DD Date"]}),e("input",{...s.getFieldProps("cheque_dd_date"),type:"date",className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md cursor-pointer",placeholder:"Enter new ward no."}),e("span",{className:"text-red-600 absolute text-xs",children:s.touched.cheque_dd_date&&s.errors.cheque_dd_date?s.errors.cheque_dd_date:null})]})]}),e("div",{className:"col-span-12"}),a("div",{className:"col-span-12 grid grid-cols-2 mt-10",children:[e("div",{className:""}),e("div",{className:"md:pl-10 text-right",children:e("button",{type:"submit",className:" px-6 py-2.5 bg-green-600 text-white font-medium text-xs leading-tight  rounded shadow-md hover:bg-green-700 hover:shadow-lg focus:bg-green-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-green-800 active:shadow-lg transition duration-150 ease-in-out cursor-pointer",children:"Pay Tax"})})]})]})]})})})]})}function ie(o){var g,A,C,m,R,f,u,B,n,l,M,T,W,E,V,s,j,L,O,y,N,v,k,w;const[x,S]=c.useState(!1),[t,p]=c.useState(),{id:I}=K(),{notify:q}=c.useContext(X),{api_WaterGetDetailsById:P}=Z();F("Water Application Payment");const $=()=>{S(!0),console.log("before fetch property details in deactivation"),D.post(P,{applicationId:I},re()).then(function(b){console.log("view water details by id...",b.data.data),p(b.data.data),S(!1)}).catch(function(b){console.log("==2 details by id error...",b),S(!1),q("Something Went Wrong","error")})};return c.useEffect(()=>{$()},[]),a(_,{children:[x&&e(ne,{}),e("div",{className:"w-full bg-white shadow-xl mb-6",children:e("div",{className:"",children:a("div",{className:"py-6 mt-2 bg-white rounded-lg shadow-lg p-4",children:[a("div",{className:"flex space-x-5 pl-4 ",children:[a("div",{className:"flex-1",children:[e("div",{className:"font-bold text-sm",children:(g=t==null?void 0:t.applicationDetails)!=null&&g.application_no?(A=t==null?void 0:t.applicationDetails)==null?void 0:A.application_no:"N/A"}),e("div",{className:"text-gray-500 text-xs",children:"Application No"})]}),a("div",{className:"flex-1",children:[e("div",{className:"font-bold text-sm",children:(C=t==null?void 0:t.applicationDetails)!=null&&C.ward_name?(m=t==null?void 0:t.applicationDetails)==null?void 0:m.ward_name:"N/A"}),e("div",{className:"text-gray-500 text-xs",children:"Ward No."})]}),a("div",{className:"flex-1",children:[a("div",{className:"font-semibold text-md",children:[(R=t==null?void 0:t.applicationDetails)!=null&&R.connection_type?(f=t==null?void 0:t.applicationDetails)==null?void 0:f.connection_type:"N/A"," "]}),e("div",{className:"text-gray-500 text-xs",children:"Connection Type"})]}),a("div",{className:"flex-1",children:[e("div",{className:"font-semibold text-md",children:(u=t==null?void 0:t.applicationDetails)!=null&&u.owner_char_type?(B=t==null?void 0:t.applicationDetails)==null?void 0:B.owner_char_type:"N/A"}),e("div",{className:"text-gray-500 text-xs",children:"Ownership Type"})]}),a("div",{className:"flex-1",children:[e("div",{className:"font-bold text-sm",children:(n=t==null?void 0:t.applicationDetails)!=null&&n.property_type?(l=t==null?void 0:t.applicationDetails)==null?void 0:l.property_type:"N/A"}),e("div",{className:"text-gray-500 text-xs",children:"Property Type"})]})]}),a("div",{className:"flex space-x-10  pl-4 mt-4",children:[a("div",{className:"flex-1",children:[e("div",{className:"font-bold text-sm",children:(M=t==null?void 0:t.applicationDetails)!=null&&M.pipeline_type?(T=t==null?void 0:t.applicationDetails)==null?void 0:T.pipeline_type:"N/A"}),e("div",{className:"text-gray-500 text-xs",children:"Pipeline Type"})]}),a("div",{className:"flex-1",children:[e("div",{className:"font-bold text-sm",children:(W=t==null?void 0:t.applicationDetails)!=null&&W.connection_through?(E=t==null?void 0:t.applicationDetails)==null?void 0:E.connection_through:"N/A"}),e("div",{className:"text-gray-500 text-xs",children:"Connection Through"})]}),(t==null?void 0:t.connection_through)=="SAF"?a("div",{className:"flex-1",children:[e("div",{className:"font-semibold text-md",children:(V=t==null?void 0:t.applicationDetails)!=null&&V.saf_no?(s=t==null?void 0:t.applicationDetails)==null?void 0:s.saf_no:"N/A"}),e("div",{className:"text-gray-500 text-xs",children:"SAF No"})]}):a("div",{className:"flex-1",children:[e("div",{className:"font-semibold text-md",children:(j=t==null?void 0:t.applicationDetails)!=null&&j.holding_no?(L=t==null?void 0:t.applicationDetails)==null?void 0:L.holding_no:"N/A"}),e("div",{className:"text-gray-500 text-xs",children:"Holding No"})]}),a("div",{className:"flex-1",children:[e("div",{className:"font-semibold text-md",children:(O=t==null?void 0:t.applicationDetails)!=null&&O.area_sqft?(y=t==null?void 0:t.applicationDetails)==null?void 0:y.area_sqft:"N/A"}),e("div",{className:"text-gray-500 text-xs",children:"Area (Sqft.)"})]}),a("div",{className:"flex-1",children:[e("div",{className:"font-bold text-sm",children:(N=t==null?void 0:t.applicationDetails)!=null&&N.category?(v=t==null?void 0:t.applicationDetails)==null?void 0:v.category:"N/A"}),e("div",{className:"text-gray-500 text-xs",children:"Category"})]})]})]})})}),a("div",{children:[e(oe,{connCat:(k=t==null?void 0:t.applicationDetails)==null?void 0:k.connection_type,applicationId:(w=t==null?void 0:t.applicationDetails)==null?void 0:w.id,installment:t==null?void 0:t.penaltyInstallments,data:t==null?void 0:t.calculation}),e("div",{className:"flex justify-center",children:a("table",{class:"shadow-lg bg-white border-collapse",children:[e("thead",{className:"border border-black   ",children:a("tr",{className:"border border-black  ",children:[e("th",{className:"text-md px-6 py-3 border border-black ",children:"Description"}),e("th",{className:" border border-black  text-md px-6 py-3",children:"Criteria(Built up area)"}),e("th",{className:" border border-black  text-md px-6 py-3",children:"Connection Fees(in Rs)"})]})}),a("tbody",{className:"border border-black ",children:[a("tr",{className:"border border-black  ",children:[e("td",{rowspan:"4",className:" border border-black text-md px-6 py-3","data-aria-label":"Start date",children:e("span",{children:"Residential Consumer"})}),e("td",{className:" border border-black  text-md px-6 py-3","data-aria-label":"Start date",children:" Up to 1000 sqft"}),e("td",{className:" border border-black  text-md px-6 py-3","data-aria-label":"Start date",children:"7000"})]}),a("tr",{className:"border border-black  ",children:[e("td",{className:" border border-black text-md px-6 py-3","data-aria-label":"Start date",children:"  1001 to 3000 sqft"}),e("td",{className:"text-md px-6 py-3 border border-black ","data-aria-label":"Start date",children:" 14000"})]}),a("tr",{className:" border border-black ",children:[e("td",{className:" border border-black  text-md px-6 py-3","data-aria-label":"Start date",children:"  3000 to 5000 sqft"}),e("td",{className:" border border-black  text-md px-6 py-3","data-aria-label":"Start date",children:"28000"})]}),a("tr",{className:"border border-black  ",children:[e("td",{className:" border border-black  text-md px-6 py-3","data-aria-label":"Start date",children:" Above 5000 sqft"}),e("td",{className:" border border-black  text-md px-6 py-3","data-aria-label":"Start date",children:"  42000"})]}),a("tr",{className:"border border-black  ",children:[e("td",{className:" border border-black text-md px-6 py-3","data-aria-label":"Start date",children:e("span",{children:"Institutional and Government User"})}),e("td",{className:" border border-black  text-md px-6 py-3","data-aria-label":"Start date",children:" Built-up area(BA)"}),e("td",{className:" border border-black  text-md px-6 py-3","data-aria-label":"Start date",children:"26 Rs./sqft."})]}),a("tr",{className:"border border-black  ",children:[e("td",{className:" border border-black text-md px-6 py-3","data-aria-label":"Start date",children:e("span",{children:"Commercial consumer"})}),e("td",{className:" border border-black  text-md px-6 py-3","data-aria-label":"Start date",children:" Built-up area(BA)"}),e("td",{className:" border border-black  text-md px-6 py-3","data-aria-label":"Start date",children:"26 Rs./sqft."})]}),a("tr",{className:"border border-black  ",children:[e("td",{className:" border border-black text-md px-6 py-3","data-aria-label":"Start date",children:e("span",{children:"Industrial consumption"})}),e("td",{className:" border border-black  text-md px-6 py-3","data-aria-label":"Start date",children:" Built-up area(BA)"}),e("td",{className:" border border-black  text-md px-6 py-3","data-aria-label":"Start date",children:"26 Rs./sqft."})]})]})]})})]}),e("div",{className:"w-full h-40 md:none"})]})}export{ie as default};
