import{r as a,j as e,B as u,m as F}from"./index-B4b_osHm.js";import{a as ne}from"./index-D4Q12d4N.js";import{C as _,d as $,b as le,a as re,c as ce}from"./card-f_mZSNLJ.js";import{T as B,a as H,b,c as r,d as U,e as c,S as X}from"./separator-BgdfknP-.js";import{b as A,a as Z}from"./useCustomQuery-h_ByQs0a.js";import{S as q}from"./Spinner-DRZy3emU.js";import{a as ee,o as se,c as ae,b as P,F as de,S as ie,B as oe}from"./SelectField-BPaJ0zWa.js";import"./input-D2046blx.js";import{L as xe}from"./label-BmxwmphA.js";import{F as z,a as G}from"./index-CXWaoASY.js";import{P as J}from"./index-BSJeAWBy.js";import{D as ue,a as he,b as je}from"./dialog-CmV3NNiS.js";import{d as me,e as ge,f as pe,g as Y}from"./tabs-B_X1IXxK.js";import{X as fe}from"./x-CPTa5GzD.js";import"./createLucideIcon-DDazC7sV.js";function Ne(){var x,f,d;const[y]=a.useState(1),[o]=a.useState(10),[h,I]=a.useState(!1),[C,j]=a.useState(""),[w,m]=a.useState(!1),[L,g]=a.useState(!1),[T,S]=a.useState(null);console.log(C,w,h,L,T);const[M,p]=a.useState(1),[k,v]=a.useState(10),E=100,V=s=>{p(s)},R=s=>{v(s),p(1)},l=A({api:(x=F)==null?void 0:x.getMenuMasterList,key:"menuMasterList",options:{enabled:!0}}),i=s=>{S(s),g(!0)};return e.jsx("main",{className:"grid items-start ",children:e.jsx("div",{className:"grid auto-rows-max items-start gap-4 md:gap-2 lg:col-span-2",children:e.jsx(_,{className:"",children:e.jsx($,{children:l.isLoading?e.jsx("div",{className:"flex h-32 items-center justify-center",children:e.jsx(q,{})}):e.jsxs(e.Fragment,{children:[e.jsxs(B,{children:[e.jsx(H,{children:e.jsxs(b,{children:[e.jsx(r,{className:"",children:"#"}),e.jsx(r,{className:"",children:"Menu"}),e.jsx(r,{className:"",children:"Path"}),e.jsx(r,{className:"",children:"Serial"}),e.jsx(r,{className:"",children:"Actions"})]})}),e.jsx(U,{children:(d=(f=l==null?void 0:l.data)==null?void 0:f.data)==null?void 0:d.map((s,N)=>e.jsxs(b,{children:[e.jsx(c,{children:y*o-o+N+1}),e.jsx(c,{children:s==null?void 0:s.menu_string}),e.jsx(c,{children:s==null?void 0:s.route}),e.jsx(c,{children:s==null?void 0:s.serial}),e.jsxs(c,{children:[e.jsxs(u,{variant:"secondary",onClick:()=>{j(s==null?void 0:s.id),m(!0),I(!0)},children:[e.jsx(z,{})," Edit"]}),e.jsxs(u,{onClick:()=>i(s),className:"ml-2",variant:"secondary",children:[e.jsx(G,{})," View"]})]})]},s==null?void 0:s.id))})]}),e.jsx(X,{className:"mb-2 mt-4"}),e.jsx("div",{className:"flex w-full justify-end",children:e.jsx(J,{currentPage:M,totalItems:E,itemsPerPage:k,onPageChange:V,onItemsPerPageChange:R})})]})})})})})}const Se=ae().shape({ulbId:P(),moduleId:P(),complaintRefNo:P()});function ve(){var f,d,s,N,D;const[y]=a.useState(1),[o]=a.useState(10),[h,I]=a.useState(!1),[C,j]=a.useState(""),[w,m]=a.useState(!1),[L,g]=a.useState(!1),[T,S]=a.useState(null);console.log(C,w,h,L,T);const[M,p]=a.useState(1),[k,v]=a.useState(10),E=100,V=n=>{p(n)},R=n=>{v(n),p(1)},l=ee({resolver:se(Se),defaultValues:{ulbId:"",moduleId:"",complaintTypeId:"",priorityId:"",targetTypeId:"",complaintSourceTypeId:"",fDate:"",toDate:"",complaintRefNo:""}}),i=Z({api:`${(f=F)==null?void 0:f.serviceList}?module=${(d=l==null?void 0:l.watch())==null?void 0:d.moduleId}`,key:"serviceMasterList",options:{enabled:!0}});console.log("the service maste rlist..",i);const x=n=>{S(n),g(!0)};return e.jsx("main",{className:"grid items-start",children:e.jsx("div",{className:"grid auto-rows-max items-start gap-4 md:gap-2 lg:col-span-2",children:e.jsx(_,{children:e.jsx($,{children:i.isLoading?e.jsx("div",{className:"flex h-32 items-center justify-center",children:e.jsx(q,{})}):e.jsxs(e.Fragment,{children:[e.jsxs(B,{children:[e.jsx(H,{children:e.jsxs(b,{children:[e.jsx(r,{className:"",children:"#"}),e.jsx(r,{className:"",children:"Service"}),e.jsx(r,{className:"",children:"Actions"})]})}),e.jsx(U,{children:(D=(N=(s=i==null?void 0:i.data)==null?void 0:s.data)==null?void 0:N.data)==null?void 0:D.map((n,O)=>e.jsxs(b,{children:[e.jsx(c,{children:y*o-o+O+1}),e.jsx(c,{children:n==null?void 0:n.service_name}),e.jsxs(c,{children:[e.jsxs(u,{variant:"secondary",onClick:()=>{j(n==null?void 0:n.id),m(!0),I(!0)},children:[e.jsx(z,{})," Edit"]}),e.jsxs(u,{onClick:()=>x(n),className:"ml-2",variant:"secondary",children:[e.jsx(G,{})," View"]})]})]},n==null?void 0:n.id))})]}),e.jsx(X,{className:"mb-2 mt-4"}),e.jsx("div",{className:"flex w-full justify-end",children:e.jsx(J,{currentPage:M,totalItems:E,itemsPerPage:k,onPageChange:V,onItemsPerPageChange:R})})]})})})})})}const Pe=ae().shape({ulbId:P(),moduleId:P(),complaintRefNo:P()});function be(){var s,N,D,n,O,K,Q,W;const[y]=a.useState(1),[o]=a.useState(10),[h,I]=a.useState(!1),[C,j]=a.useState(!1),[w,m]=a.useState(""),[L,g]=a.useState(!1);console.log(w,C,L);const[T,S]=a.useState(1),[M,p]=a.useState(10),[k,v]=a.useState(!1),E=100,V=t=>{S(t)},R=t=>{p(t),S(1)},l=ee({resolver:se(Pe),defaultValues:{ulbId:"",moduleId:"",complaintTypeId:"",priorityId:"",targetTypeId:"",complaintSourceTypeId:"",fDate:"",toDate:"",complaintRefNo:""}}),i=async()=>{d==null||d.refetch()},x=A({api:(s=F)==null?void 0:s.getMenuRoleList,key:"menuRoleList",options:{enabled:!0}}),f=A({api:(N=F)==null?void 0:N.userManagementModuleList,key:"moduleMasterList",options:{enabled:!0}}),d=Z({api:`${(D=F)==null?void 0:D.serviceList}?module=${(n=l==null?void 0:l.watch())==null?void 0:n.moduleId}`,key:"serviceList",options:{enabled:!0}});return e.jsx("main",{className:"grid items-start",children:e.jsxs("div",{className:"grid auto-rows-max items-start gap-4 md:gap-2 lg:col-span-2",children:[e.jsxs(ue,{open:k,children:[e.jsx(he,{}),e.jsxs(je,{className:"sm:max-w-[1200px] h-auto max-h-[700px] overflow-scroll",children:[e.jsxs(le,{className:"mt-4 text-xl text-gray-500 font-bold flex justify-between",children:[e.jsxs("div",{children:["Role : ",e.jsx("span",{className:"font-bold text-lg text-yellow-500",children:h==null?void 0:h.menu_role_name})]}),e.jsx("div",{children:e.jsx("span",{children:e.jsx(fe,{className:"cursor-pointer hover:bg-red-100 rounded-lg inline",onClick:()=>v(!1)})})})]}),e.jsxs(me,{defaultValue:"MENULIST",className:"w-full",children:[e.jsxs("div",{className:"py-4 flex justify-between",children:[e.jsx(ge,{className:"grid w-auto grid-cols-2",children:e.jsx(pe,{className:"data-[state=active]:bg-yellow-400 data-[state=active]:text-white",value:"MENULIST",children:"Permitted Menu List"})}),e.jsx("div",{children:e.jsx("div",{className:"flex justify-end ",children:e.jsx(u,{type:"button",className:"flex items-center gap-2",onClick:()=>{m(""),g(!1),j(!0)},children:"Add More Menu Permission"})})})]}),e.jsx(Y,{value:"MENULIST",children:e.jsx(Ne,{})}),e.jsx(Y,{value:"SERVICE_LIST",children:e.jsx(ve,{})})]})]})]}),e.jsxs(_,{children:[e.jsx(de,{methods:l,onSubmit:l.handleSubmit(i),children:e.jsxs("div",{className:"grid grid-cols-4 gap-x-2 gap-y-4 bg-background px-10 pt-4",children:[e.jsxs("div",{children:[e.jsx(xe,{htmlFor:"moduleId",children:"Module name"}),e.jsx(ie,{className:"cursor-pointer bg-background",name:"moduleId",data:((K=(O=f.data)==null?void 0:O.data)==null?void 0:K.map(t=>({value:t==null?void 0:t.id,label:t==null?void 0:t.module_name})))??[]})]}),e.jsx("div",{className:"mt-6 flex justify-start",children:e.jsx(oe,{variant:"secondary",isLoading:l.formState.isSubmitting,type:"submit",className:"float-right w-auto px-10",children:"Search"})}),e.jsx("div",{className:"mt-6 flex justify-end "}),e.jsx("div",{className:"mt-6 flex justify-end ",children:e.jsx(u,{type:"button",className:"flex items-center gap-2",onClick:()=>{m(""),g(!1),j(!0)},children:"Add New"})})]})}),e.jsx(re,{className:"px-7",children:e.jsx(ce,{})}),e.jsx($,{children:d.isLoading?e.jsx("div",{className:"flex h-32 items-center justify-center",children:e.jsx(q,{})}):e.jsxs(e.Fragment,{children:[e.jsxs(B,{children:[e.jsx(H,{children:e.jsxs(b,{children:[e.jsx(r,{className:"",children:"#"}),e.jsx(r,{className:"",children:"Role"}),e.jsx(r,{className:"",children:"Actions"})]})}),e.jsx(U,{children:(W=(Q=x==null?void 0:x.data)==null?void 0:Q.data)==null?void 0:W.map((t,te)=>e.jsxs(b,{children:[e.jsx(c,{children:y*o-o+te+1}),e.jsx(c,{children:t==null?void 0:t.menu_role_name}),e.jsxs(c,{children:[e.jsxs(u,{variant:"secondary",onClick:()=>{m(t==null?void 0:t.id),g(!0),j(!0)},children:[e.jsx(z,{})," Edit"]}),e.jsxs(u,{variant:"secondary",onClick:()=>{I(t),v(!0)},className:"ml-2",children:[e.jsx(G,{})," View"]})]})]},t==null?void 0:t.id))})]}),e.jsx(X,{className:"mb-2 mt-4"}),e.jsx("div",{className:"flex w-full justify-end",children:e.jsx(J,{currentPage:T,totalItems:E,itemsPerPage:M,onPageChange:V,onItemsPerPageChange:R})})]})})]})]})})}function _e(){return e.jsx(ne,{title:"Menu Role List",subTitle:"Control all Module here",children:e.jsx("div",{children:e.jsx(be,{})})})}export{_e as default};
