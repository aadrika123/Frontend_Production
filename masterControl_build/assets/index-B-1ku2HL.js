import{u as te,r as t,k as W,j as e,m as A,z as D,B as H}from"./index-BdrzPVEg.js";import{a as pe}from"./index-CQhfZvuZ.js";import{C as ne,d as de,b as be,a as Re,c as Fe}from"./card-Bb5E5MAv.js";import{S as Q,a as ce,T as re,b as ie,c as X,d as $,e as oe,f as q}from"./Spinner-B6-WW71p.js";import{a as Z,F as ue,B as Ne,o as ee,c as J,e as Ve,b as F}from"./switch-CFxB9HYc.js";import"./input-DIdBMfNu.js";import{R as Ie}from"./SelectField-ChB-ujeg.js";import{L as De}from"./label-BMRTFLlG.js";import{F as he,a as Oe,b as ge}from"./index-Lr3WPhof.js";import{P as xe,D as Pe,a as we,b as Me}from"./dialog-DIVVaMuc.js";import{R as ae}from"./RHFTextField-CiT7CTm3.js";import{g as le}from"./services-KQnp_8oA.js";import{D as je}from"./index-DWrWknz-.js";import{T as _e,a as Le,b as ke,c as Ee,d as $e,e as qe,f as ye,g as Se}from"./tabs-4PusxU_U.js";import{X as Ce}from"./x-DYYgLIcp.js";import{t as Be}from"./switch-C6MuJYMe.js";import"./createLucideIcon-GWRbxQ0Z.js";const Ue=J().shape({menuName:F().required("menu name is required"),serial:F(),route:F(),parentId:F(),isSidebar:Ve()});function We({open:s,setOpen:p,title:O,edit:d,setEdit:c,menuMasterList:k,moduleList:N,id:o,paginatedMenuList:j,menuId:S,editData:i}){var g,E,L,C,y,B;const R=te({}),v=Z({defaultValues:{menuName:"",serial:"",route:"",isSidebar:!1},resolver:ee(Ue)}),{reset:I}=v;t.useEffect(()=>{s&&I(d&&o?i?{menuName:i.menu_string||"",serial:i.serial||"",route:i.route||"",parentId:i.parent_id||""}:{menuName:"",serial:"",route:"",parentId:""}:{menuName:"",serial:"",route:"",parentId:""})},[s,d,o,I,i]);const x=async r=>{var U,f,T,b,l;try{const P=d&&o?{...r,moduleId:o,id:S}:{...r,moduleId:o},m=d?(U=A)==null?void 0:U.editMenuDetailsByModule:(f=A)==null?void 0:f.addMenuByModule,a=await R.mutateAsync({api:m,data:P});(T=a==null?void 0:a.data)!=null&&T.status?(D.success((b=a==null?void 0:a.data)==null?void 0:b.message),p(!1),c(!1),k.refetch(),n.refetch()):D.error((l=a==null?void 0:a.data)==null?void 0:l.message)}catch(P){D.error(le(P))}};console.log("paginatedMenuList",j),console.log("paginatedMenuList",o),console.log("paginatedMenuList",S);const n=W({api:(g=A)==null?void 0:g.parentMenuList,key:"parentMenuListByModule",config:{moduleId:String(o)},options:{enabled:!0}}),w=W({api:(E=A)==null?void 0:E.workFlowByModule,key:"getWorkFlowByModule",config:{moduleId:String(o)},options:{enabled:!0}});return console.log(i),e.jsx(je,{open:s,setOpen:p,title:O,setEdit:c,edit:d,children:e.jsx(ue,{methods:v,onSubmit:v.handleSubmit(x),children:e.jsxs("div",{className:"grid grid-cols-1 gap-x-2 gap-y-4",children:[e.jsx("div",{children:e.jsx(Ie,{label:"Parent Menu Name",name:"parentId",data:((C=(L=n==null?void 0:n.data)==null?void 0:L.data)==null?void 0:C.map(r=>({label:String(r==null?void 0:r.menu_string),value:String(r==null?void 0:r.id)})))||[]})}),e.jsx("div",{children:e.jsx(ae,{label:"Menu Name",name:"menuName",placeholder:"Enter menu name"})}),e.jsx("div",{children:e.jsx(ae,{label:"Menu Route",name:"route",placeholder:"Enter menu url "})}),e.jsx("div",{children:e.jsx(ae,{label:"Serial No.",name:"serial",placeholder:"Enter Serial No."})}),e.jsx("div",{children:e.jsx(Ie,{label:e.jsxs(e.Fragment,{children:["Workflow"," ",e.jsx("span",{className:"text-sm",children:"(select module to get workflow list)"})]}),name:"workflowId",data:((B=(y=w==null?void 0:w.data)==null?void 0:y.data)==null?void 0:B.map(r=>({label:String(r==null?void 0:r.workflow_name),value:String(r==null?void 0:r.id)})))||[]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"isSidebar",...v.register("isSidebar"),defaultChecked:!1}),e.jsx("label",{htmlFor:"isSidebar",children:"Is Sidebar Show"})]}),e.jsx(Q,{}),e.jsx("div",{children:e.jsx(Ne,{isLoading:v.formState.isSubmitting,type:"submit",className:"h-11 w-full rounded-xl",children:d?"Update":"Submit"})})]})})})}function He({id:s,mid:p}){var f,T,b,l,P,m,a,h;const[O,d]=t.useState(1),[c,k]=t.useState(10),[N,o]=t.useState(!1),[j,S]=t.useState(!1),[i,R]=t.useState(null),[v,I]=t.useState(null),x=te({}),n=W({api:(f=A)==null?void 0:f.getMenuMasterList,key:"menuMasterList",options:{enabled:!0}}),w=W({api:(T=A)==null?void 0:T.getMenuDetailsByModule,key:"getMenuDetailsForEdit",config:{menuId:String(v)},value:[v],options:{enabled:!!v}});W({api:(b=A)==null?void 0:b.serviceList,key:"serviceMasterList",config:{moduleId:s},options:{enabled:!!s}});const g=W({api:(l=A)==null?void 0:l.getMenuRoleList,key:"menuRoleList",options:{enabled:!0}}),E=((m=(P=n==null?void 0:n.data)==null?void 0:P.data)==null?void 0:m.filter(u=>(u==null?void 0:u.module_id)==s))??[],L=E.slice((O-1)*c,O*c),C=u=>d(u),y=u=>{k(u),d(1)},B=u=>{I(u),S(!0),o(!0)},r=W({api:(a=A)==null?void 0:a.parentMenuList,key:"parentMenuListByModule",config:{moduleId:String(s)},options:{enabled:!0}}),U=async()=>{var u,z,Y,G;try{const V=await x.mutateAsync({api:(u=A)==null?void 0:u.deleteMenu,data:{id:i}});(z=V==null?void 0:V.data)!=null&&z.status?(D.success((Y=V==null?void 0:V.data)==null?void 0:Y.message),o(!1),S(!1),R(null),n.refetch(),g.refetch(),r.refetch()):(D.error((G=V==null?void 0:V.data)==null?void 0:G.message),R(null))}catch(V){console.error("Error deleting menu:",V),alert("An error occurred while deleting the menu. Please try again.")}};return e.jsx("main",{className:"grid items-start",children:e.jsxs("div",{className:"grid auto-rows-max items-start gap-4",children:[e.jsx("div",{className:"flex justify-end",children:e.jsx(H,{type:"button",className:"flex items-center gap-2",onClick:()=>{I(null),S(!1),o(!0)},children:"Add Menu List"})}),e.jsx(We,{open:N,setOpen:o,title:j?"Edit Menu":"Add Menu",id:p,edit:j,setEdit:S,paginatedMenuList:L,refetch:n==null?void 0:n.refetch,menuMasterList:n,menuId:v,editData:(h=w==null?void 0:w.data)==null?void 0:h.data}),i&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50 h-screen ",children:e.jsxs("div",{className:"bg-white py-6 px-8 w-[30%] rounded-lg shadow-lg",children:[e.jsx("div",{className:"flex justify-center items-center text-lg font-medium mb-4",children:"Are you sure you want to delete?"}),e.jsxs("div",{className:"flex justify-center items-center gap-4 mt-2",children:[e.jsx(H,{variant:"destructive",size:"sm",onClick:()=>U(),children:"Yes"}),e.jsx(H,{variant:"outline",size:"sm",onClick:()=>R(null),children:"No"})]})]})}),e.jsx(ne,{children:e.jsx(de,{children:n.isLoading?e.jsx("div",{className:"flex h-32 items-center justify-center",children:e.jsx(ce,{})}):n.isError?e.jsx("div",{className:"text-center text-red-500",children:"Failed to load menu list. Please try again."}):e.jsxs(e.Fragment,{children:[e.jsxs(re,{children:[e.jsx(ie,{children:e.jsxs(X,{children:[e.jsx($,{children:"#"}),e.jsx($,{children:"Parent Menu"}),e.jsx($,{children:"Menu"}),e.jsx($,{children:"Path"}),e.jsx($,{children:"Serial"}),e.jsx($,{children:"SideBar"}),e.jsx($,{children:"Actions"})]})}),e.jsx(oe,{children:L==null?void 0:L.map((u,z)=>e.jsxs(X,{children:[e.jsx(q,{children:O*c-c+z+1}),e.jsx(q,{children:u.parentName||"#"}),e.jsx(q,{children:u.menu_string}),e.jsx(q,{children:u.route}),e.jsx(q,{children:u.serial}),e.jsx(q,{children:u.is_sidebar?"Yes":"No"}),e.jsxs(q,{children:[e.jsxs(H,{variant:"secondary",onClick:()=>B(u.id),children:[e.jsx(he,{})," Edit"]}),e.jsx(H,{className:"ml-2",variant:"secondary",onClick:()=>R(u.id),children:e.jsx(Oe,{})})]})]},u.id))})]}),e.jsx(Q,{className:"my-4"}),e.jsx("div",{className:"flex w-full justify-end",children:e.jsx(xe,{currentPage:O,totalItems:E.length,itemsPerPage:c,onPageChange:C,onItemsPerPageChange:y})})]})})})]})})}const ze=J().shape({serviceName:F().required("menu name is required"),path:F().required("path is required")});function Ke({open:s,setOpen:p,title:O,edit:d,setEdit:c,serviceList:k,id:N,paginatedMenuList:o,moduleId:j}){const S=te({}),i=Z({defaultValues:{serviceName:""},resolver:ee(ze)}),{reset:R}=i;t.useEffect(()=>{var I,x;if(s)if(d&&N){const n=(x=(I=k==null?void 0:k.data)==null?void 0:I.data)==null?void 0:x.find(w=>w.id==N);n&&R({serviceName:n.service_name||"",path:n.path||""})}else R({serviceName:"",path:""})},[s,d,N,R]);const v=async I=>{var x,n,w,g,E;try{const L=d?(x=A)==null?void 0:x.updateServiceByModule:(n=A)==null?void 0:n.addServiceByModule,C=d?{...I,id:N}:{...I,moduleId:j},y=await S.mutateAsync({api:L,data:C});(w=y==null?void 0:y.data)!=null&&w.status?(D.success((g=y==null?void 0:y.data)==null?void 0:g.message),p(!1),c(!1),k.refetch()):D.error((E=y==null?void 0:y.data)==null?void 0:E.message)}catch(L){D.error(le(L))}};return console.log("paginatedMenuList",N),console.log(j),e.jsx(je,{open:s,setOpen:p,title:O,setEdit:c,edit:d,children:e.jsx(ue,{methods:i,onSubmit:i.handleSubmit(v),children:e.jsxs("div",{className:"grid grid-cols-1 gap-x-2 gap-y-4",children:[e.jsx("div",{children:e.jsx(ae,{label:"Service Name",name:"serviceName",placeholder:"Enter menu name"})}),e.jsx("div",{children:e.jsx(ae,{label:"service Path",name:"path",placeholder:"Enter path"})}),e.jsx(Q,{}),e.jsx("div",{children:e.jsx(Ne,{isLoading:i.formState.isSubmitting,type:"submit",className:"h-11 w-full rounded-xl",children:"Submit"})})]})})})}const Ye=J().shape({ulbId:F(),moduleId:F(),complaintRefNo:F()});function Xe(s){var f,T,b;const[p,O]=t.useState(1),[d,c]=t.useState(10),[k,N]=t.useState(!1),[o,j]=t.useState(""),[S,i]=t.useState(!1),[R,v]=t.useState(!1),[I,x]=t.useState(null),{moduleId:n}=s,[w,g]=t.useState(1),[E,L]=t.useState(10),C=100,y=l=>{g(l)},B=l=>{L(l),g(1)};console.log(s==null?void 0:s.id,"props id"),console.log(n,"props id"),Z({resolver:ee(Ye),defaultValues:{ulbId:"",moduleId:"",complaintTypeId:"",priorityId:"",targetTypeId:"",complaintSourceTypeId:"",fDate:"",toDate:"",complaintRefNo:""}});const r=W({api:(f=A)==null?void 0:f.serviceList,key:"serviceMasterList",config:{moduleId:s==null?void 0:s.mId},options:{enabled:!!(s!=null&&s.mId)}});console.log("the servicemId",s==null?void 0:s.mId);const U=l=>{x(l),v(!0)};return e.jsx("main",{className:"grid items-start",children:e.jsxs("div",{className:"grid auto-rows-max items-start gap-4 md:gap-2 lg:col-span-2",children:[e.jsx("div",{children:e.jsx("div",{className:"flex justify-end ",children:e.jsx(H,{type:"button",className:"flex items-center gap-2",onClick:()=>{j(""),i(!1),N(!0)},children:"Add Service List"})})}),e.jsx(Ke,{open:k,setOpen:N,title:S?"Edit Service":"Add Service",id:o,edit:S,setEdit:i,moduleId:s==null?void 0:s.id,serviceList:r}),e.jsx(ne,{children:e.jsx(de,{children:r.isLoading?e.jsx("div",{className:"flex h-32 items-center justify-center",children:e.jsx(ce,{})}):e.jsxs(e.Fragment,{children:[e.jsxs(re,{children:[e.jsx(ie,{children:e.jsxs(X,{children:[e.jsx($,{className:"",children:"#"}),e.jsx($,{className:"",children:"Service Name"}),e.jsx($,{className:"",children:"Service Path"}),e.jsx($,{className:"",children:"Actions"})]})}),e.jsx(oe,{children:(b=(T=r==null?void 0:r.data)==null?void 0:T.data)==null?void 0:b.map((l,P)=>e.jsxs(X,{children:[e.jsx(q,{children:p*d-d+P+1}),e.jsx(q,{children:l==null?void 0:l.service_name}),e.jsx(q,{children:l==null?void 0:l.path}),e.jsxs(q,{children:[e.jsxs(H,{variant:"secondary",onClick:()=>{j(l==null?void 0:l.id),i(!0),N(!0)},children:[e.jsx(he,{})," Edit"]}),e.jsxs(H,{onClick:()=>U(l),className:"ml-2",variant:"secondary",children:[e.jsx(ge,{})," View"]})]})]},l==null?void 0:l.id))})]}),e.jsx(Q,{className:"mb-2 mt-4"}),e.jsx("div",{className:"flex w-full justify-end",children:e.jsx(xe,{currentPage:w,totalItems:C,itemsPerPage:E,onPageChange:y,onItemsPerPageChange:B})})]})})})]})})}const Ge=J().shape({module_name:F().required("module name is required"),module_id:F().required("Module ID is required"),module_url:F().required("Module URL is required")});function Je({open:s,setOpen:p,title:O,edit:d,setEdit:c,serviceList:k,moduleList:N,id:o}){const j=te({}),S=Z({defaultValues:{module_name:"",module_id:"",module_url:""},resolver:ee(Ge)}),{reset:i}=S;t.useEffect(()=>{var v,I;if(s)if(d&&o){const x=(I=(v=N==null?void 0:N.data)==null?void 0:v.data)==null?void 0:I.find(n=>n.id==o);x&&i({module_name:x.module_name||"",module_id:x.id||"",module_url:x.url||""})}else i({module_name:"",module_id:"",module_url:""})},[s,d,o,N,i]);const R=async v=>{var I,x,n;try{const w=d?"EditModuleList":"AddmoduleList",g=await j.mutateAsync({api:w,data:v});(I=g==null?void 0:g.data)!=null&&I.success?(D.success((x=g==null?void 0:g.data)==null?void 0:x.message),p(!1),c(!1),k.refetch()):D.error((n=g==null?void 0:g.data)==null?void 0:n.message)}catch(w){D.error(le(w))}};return e.jsx(je,{open:s,setOpen:p,title:O,setEdit:c,edit:d,children:e.jsx(ue,{methods:S,onSubmit:S.handleSubmit(R),children:e.jsxs("div",{className:"grid grid-cols-1 gap-x-2 gap-y-4",children:[e.jsx("div",{children:e.jsx(ae,{label:"Module Name",name:"module_name",placeholder:"Enter module name"})}),e.jsx("div",{children:e.jsx(ae,{label:"Module ID",name:"module_id",placeholder:"Enter module id "})}),e.jsx("div",{children:e.jsx(ae,{label:"Module URL",name:"module_url",placeholder:"Enter module url "})}),e.jsx(Q,{}),e.jsx("div",{children:e.jsx(Ne,{isLoading:S.formState.isSubmitting,type:"submit",className:"h-11 w-full rounded-xl",children:"Submit"})})]})})})}const Qe=J().shape({menuRoleName:F().required("menu name is required")});function Ze({open:s,setOpen:p,title:O,edit:d,setEdit:c,id:k,menuRoleList:N,moduleId:o}){const j=te({}),S=Z({defaultValues:{menuRoleName:""},resolver:ee(Qe)}),{reset:i}=S;console.log(o,"id"),t.useEffect(()=>{var v,I;if(s)if(d&&k){const x=(I=(v=N==null?void 0:N.data)==null?void 0:v.data)==null?void 0:I.find(n=>n.id===k);x&&i({menuRoleName:x.menu_role_name||""})}else i({menuRoleName:""})},[s,d,k,N,i]);const R=async v=>{var I,x,n,w,g;try{const E=d?(I=A)==null?void 0:I.editMenuList:(x=A)==null?void 0:x.addMenuList,L=d&&k?{...v,id:k}:{...v,moduleId:o},C=await j.mutateAsync({api:E,data:L});(n=C==null?void 0:C.data)!=null&&n.status?(D.success((w=C==null?void 0:C.data)==null?void 0:w.message),p(!1),c(!1),N.refetch()):D.error((g=C==null?void 0:C.data)==null?void 0:g.message)}catch(E){D.error(le(E))}};return e.jsx(je,{open:s,setOpen:p,title:O,setEdit:c,edit:d,children:e.jsx(ue,{methods:S,onSubmit:S.handleSubmit(R),children:e.jsxs("div",{className:"grid grid-cols-1 gap-x-2 gap-y-4",children:[e.jsx("div",{children:e.jsx(ae,{label:"Service Name",name:"menuRoleName",placeholder:"Enter menu name"})}),e.jsx(Q,{}),e.jsx("div",{children:e.jsx(Ne,{isLoading:S.formState.isSubmitting,type:"submit",className:"h-11 w-full rounded-xl",children:"Submit"})})]})})})}const es=J().shape({service_name:F().required("menu name is required")});function ss({open:s,setOpen:p,title:O,edit:d,setEdit:c,serviceList:k,moduleList:N,id:o,menuRoleList:j,moduleId:S,menuRoleId:i,moduleName:R}){var L,C,y,B,r,U;const v=te({}),I=te({}),x=Z({defaultValues:{service_name:""},resolver:ee(es)}),{reset:n}=x;console.log(S,"id"),t.useEffect(()=>{var f,T;if(s)if(d&&o){const b=(T=(f=j==null?void 0:j.data)==null?void 0:f.data)==null?void 0:T.find(l=>l.id===o);b&&n({service_name:b.menu_role_name||""})}else n({service_name:""})},[s,d,o,j,n]);const w=async f=>{var T,b,l;try{const P=d?"EditModuleList":"AddmoduleList",m=d&&o?{...f,moduleId:o}:{...f,moduleId:S},a=await v.mutateAsync({api:P,data:m});(T=a==null?void 0:a.data)!=null&&T.success?(D.success((b=a==null?void 0:a.data)==null?void 0:b.message),p(!1),c(!1),k.refetch()):D.error((l=a==null?void 0:a.data)==null?void 0:l.message)}catch(P){D.error(le(P))}},g=W({api:(L=A)==null?void 0:L.getPermitedMenuList,key:"permitedMenuList",config:{menuRoleId:i,moduleId:S},options:{enabled:!0}}),E=async(f,T,b)=>{var l,P,m,a;console.log(b);try{const h={isSuspended:b,menuId:f,menuRoleId:i},u=await I.mutateAsync({api:(l=A)==null?void 0:l.addRemoveMenuPermission,data:h});(P=u==null?void 0:u.data)!=null&&P.status?(D.success(((m=u==null?void 0:u.data)==null?void 0:m.message)||"Permission updated successfully"),g.refetch()):D.error(((a=u==null?void 0:u.data)==null?void 0:a.message)||"Failed to update permission")}catch(h){D.error(le(h))}};return console.log(R),console.log((y=(C=g==null?void 0:g.data)==null?void 0:C.data)==null?void 0:y[R],"permitedMenuList"),e.jsx(je,{open:s,setOpen:p,title:O,setEdit:c,edit:d,children:e.jsx(ue,{methods:x,onSubmit:x.handleSubmit(w),children:e.jsx("div",{className:"grid grid-cols-1 gap-x-2 gap-y-4",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table-auto w-full border-collapse border border-gray-300",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-200",children:[e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Sl."}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Menu Name"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Permission"})]})}),e.jsx("tbody",{children:((U=(r=(B=g==null?void 0:g.data)==null?void 0:B.data)==null?void 0:r[R])==null?void 0:U.map((f,T)=>e.jsxs("tr",{className:"hover:bg-gray-100",children:[e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:T+1}),e.jsx("td",{className:`border border-gray-300 px-4 py-2 ${f.is_suspended?"text-black":"text-green-600"}`,children:f.menu_string}),e.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:f.is_suspended?e.jsx("button",{className:"text-green-600 bg-green-200 hover:bg-green-100 px-2 py-1 rounded-md text-xs font-bold",onClick:()=>E(f.id,f.menu_role_id,!f.is_suspended),children:"Add"}):e.jsx("button",{className:"text-red-600  bg-red-200 hover:bg-red-100 px-2 py-1 rounded-md text-xs font-bold",onClick:()=>E(f.id,f.menu_role_id,!f.is_suspended),children:"Remove"})})]},f.id)))||e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"text-center py-4",children:"No data available"})})})]})})})})})}J().shape({ulbId:F(),moduleId:F(),complaintRefNo:F()});function as(s){var f,T,b,l,P,m;const[p,O]=t.useState(1),[d,c]=t.useState(10),[k,N]=t.useState(!1),[o,j]=t.useState(""),[S,i]=t.useState(!1),[R,v]=t.useState(!1),[I,x]=t.useState(null),[n,w]=t.useState(1),[g,E]=t.useState(10),L=100,C=a=>{w(a)},y=a=>{E(a),w(1)},B=W({api:(f=A)==null?void 0:f.getMenuMasterList,key:"menuMasterList",options:{enabled:!0}}),r=W({api:(T=A)==null?void 0:T.getPermitedMenuList,key:"permitedMenuList",config:{menuRoleId:s==null?void 0:s.id,moduleId:s==null?void 0:s.moduleId},options:{enabled:!0}}),U=a=>{x(a),v(!0)};return console.log(s==null?void 0:s.moduleName),e.jsx("main",{className:"grid items-start ",children:e.jsxs("div",{className:"grid auto-rows-max items-start gap-4 md:gap-2 lg:col-span-2",children:[e.jsx("div",{children:e.jsx("div",{className:"flex justify-end ",children:e.jsx(H,{type:"button",className:"flex items-center gap-2",onClick:()=>{j(""),i(!1),N(!0)},children:"Add More Menu Permission"})})}),e.jsx(ss,{open:k,setOpen:N,title:S?"Edit Menu":"Add Menu",id:o,edit:S,setEdit:i,moduleId:s==null?void 0:s.moduleId,menuRoleId:s==null?void 0:s.id,moduleName:s==null?void 0:s.moduleName}),e.jsx(ne,{className:"",children:e.jsx(de,{children:B.isLoading?e.jsx("div",{className:"flex h-32 items-center justify-center",children:e.jsx(ce,{})}):e.jsxs(e.Fragment,{children:[e.jsxs(re,{children:[e.jsx(ie,{children:e.jsxs(X,{children:[e.jsx($,{className:"",children:"#"}),e.jsx($,{className:"",children:"Menu"}),e.jsx($,{className:"",children:"Actions"})]})}),e.jsx(oe,{children:(m=(P=(l=(b=r==null?void 0:r.data)==null?void 0:b.data)==null?void 0:l[s==null?void 0:s.moduleName])==null?void 0:P.filter(a=>(a==null?void 0:a.menu_role_id)==(s==null?void 0:s.id)))==null?void 0:m.map((a,h)=>e.jsxs(X,{children:[e.jsx(q,{children:p*d-d+h+1}),e.jsx(q,{children:a==null?void 0:a.menu_string}),e.jsxs(q,{children:[e.jsxs(H,{variant:"secondary",onClick:()=>{j(a==null?void 0:a.id),i(!0),N(!0)},children:[e.jsx(he,{})," Edit"]}),e.jsxs(H,{onClick:()=>U(a),className:"ml-2",variant:"secondary",children:[e.jsx(ge,{})," View"]})]})]},a==null?void 0:a.id))})]}),e.jsx(Q,{className:"mb-2 mt-4"}),e.jsx("div",{className:"flex w-full justify-end",children:e.jsx(xe,{currentPage:n,totalItems:L,itemsPerPage:g,onPageChange:C,onItemsPerPageChange:y})})]})})})]})})}const ts=J().shape({ulbId:F(),moduleId:F(),complaintRefNo:F()});function ls(s){var se,K,fe,_;const[p,O]=t.useState(!1),[d,c]=t.useState(""),[k,N]=t.useState(!1),[o,j]=t.useState(!1),[S,i]=t.useState(null),[R,v]=t.useState(!1),[I,x]=t.useState(!1),[n,w]=t.useState(1),[g,E]=t.useState(10),[L,C]=t.useState(!1),[y,B]=t.useState({}),[r,U]=t.useState(null),{moduleId:f}=s,T=M=>{w(M)},b=M=>{E(M),w(1)};console.log(s==null?void 0:s.moduleId,"props id"),console.log(f,"props id"),Z({resolver:ee(ts),defaultValues:{ulbId:"",moduleId:"",complaintTypeId:"",priorityId:"",targetTypeId:"",complaintSourceTypeId:"",fDate:"",toDate:"",complaintRefNo:""}});const l=W({api:(se=A)==null?void 0:se.apiRoleMasterActiveDeactive,key:"roleActiveDeactive",config:r??{},options:{enabled:!1}});t.useEffect(()=>{r&&l.refetch()},[r]);const P=M=>{const me=!m(M);B(Ae=>({...Ae,[M.id]:me}));const Te={roleId:Number(M.id),isSuspended:me?"inactive":"active"};C(!0),U(Te)},m=M=>y[M.id]!==void 0?y[M.id]:M.is_suspended===!0;t.useEffect(()=>{L&&(l.isSuccess&&(D.success("Role status updated successfully"),h.refetch(),U(null),C(!1)),l.isError&&(D.error(le(l.error)),B(M=>{const ve={...M};return delete ve[r==null?void 0:r.roleId],ve}),U(null),C(!1)))},[l.isSuccess,l.isError,L]);const a=W({api:(K=A)==null?void 0:K.serviceList,key:"serviceMasterList",config:{moduleId:s==null?void 0:s.mId},options:{enabled:!0}}),h=W({api:(fe=A)==null?void 0:fe.getMenuRoleList,key:"menuRoleList",options:{enabled:!0}});console.log(d);const u=((_=h==null?void 0:h.data)==null?void 0:_.data.filter(M=>(M==null?void 0:M.module_id)==(s==null?void 0:s.moduleId)))||[],z=(n-1)*g,Y=n*g,G=u.slice(z,Y),V=u.length;return console.log("the service maste rlist..",s==null?void 0:s.moduleName),e.jsx("main",{className:"grid items-start ",children:e.jsxs("div",{className:"grid auto-rows-max items-start gap-4 md:gap-2 lg:col-span-2 ",children:[e.jsxs("div",{children:[e.jsx("div",{className:"flex justify-end ",children:e.jsx(H,{type:"button",className:"flex items-center gap-2",onClick:()=>{c(""),N(!1),O(!0)},children:"Add Role List"})}),e.jsx(Ze,{open:p,setOpen:O,title:k?"Edit Role":"Add Role",id:d,edit:k,setEdit:N,menuRoleList:h,moduleId:s==null?void 0:s.moduleId})]}),e.jsxs(Pe,{open:I,children:[e.jsx(we,{}),e.jsxs(Me,{className:"h-[700px] max-h-[700px] overflow-scroll sm:max-w-[1200px]",children:[e.jsx(be,{className:" flex justify-between text-xl font-bold text-gray-500",children:e.jsxs("div",{children:["Module :"," ",e.jsx("span",{className:"text-lg font-bold text-yellow-500",children:s==null?void 0:s.moduleName})]})}),e.jsxs(be,{className:" flex justify-between text-xl font-bold text-gray-500",children:[e.jsxs("div",{children:["Role :"," ",e.jsx("span",{className:"text-lg font-bold text-yellow-500",children:R==null?void 0:R.menu_role_name})]}),e.jsx("div",{children:e.jsx("span",{children:e.jsx(Ce,{className:"inline cursor-pointer rounded-lg hover:bg-red-100",onClick:()=>x(!1)})})})]}),e.jsxs(_e,{defaultValue:"MENULIST",className:"w-full",children:[e.jsx("div",{className:"flex justify-between py-4",children:e.jsx(Le,{className:"grid w-auto grid-cols-2",children:e.jsx(ke,{className:"rounded-lg px-2 data-[state=active]:bg-yellow-400 data-[state=active]:text-white",value:"MENULIST",children:"Permitted Menu List"})})}),e.jsx(Ee,{value:"MENULIST",children:e.jsx(as,{moduleId:s==null?void 0:s.moduleId,id:d,moduleName:s==null?void 0:s.moduleName})})]})]})]}),e.jsx(ne,{children:e.jsx(de,{children:a.isLoading?e.jsx("div",{className:"flex h-32 items-center justify-center",children:e.jsx(ce,{})}):e.jsxs(e.Fragment,{children:[e.jsxs(re,{children:[e.jsx(ie,{children:e.jsxs(X,{children:[e.jsx($,{className:"",children:"#"}),e.jsx($,{className:"",children:"Role Name"}),e.jsx($,{className:"",children:"Actions"}),e.jsx($,{className:"",children:"Is Suspended"})]})}),e.jsx(oe,{children:G.map((M,ve)=>{const me=y[M.id]!==void 0?y[M.id]:M.is_suspended;return e.jsxs(X,{children:[e.jsx(q,{children:z+ve+1}),e.jsx(q,{children:M==null?void 0:M.menu_role_name}),e.jsxs(q,{children:[e.jsxs(H,{variant:"secondary",onClick:()=>{c(M==null?void 0:M.id),N(!0),O(!0)},children:[e.jsx(he,{})," Edit"]}),e.jsxs(H,{onClick:()=>{v(M),x(!0),c(M==null?void 0:M.id)},className:"ml-2",variant:"secondary",children:[e.jsx(ge,{})," View"]})]}),e.jsx(q,{children:e.jsxs(Be,{checked:me,onChange:()=>P(M),className:`${me?"bg-green-600":"bg-gray-300"} relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-200`,children:[e.jsx("span",{className:"sr-only",children:"Toggle suspend"}),e.jsx("span",{className:`${me?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white shadow transition-transform duration-200`})]})})]},M==null?void 0:M.id)})})]}),e.jsx(Q,{className:"mb-2 mt-4"}),e.jsx("div",{className:"flex w-full justify-end",children:e.jsx(xe,{currentPage:n,totalItems:V,itemsPerPage:g,onPageChange:T,onItemsPerPageChange:b})})]})})})]})})}const ns=J().shape({service_name:F().required("menu name is required")});function ds({open:s,setOpen:p,title:O,edit:d,setEdit:c,serviceList:k,moduleList:N,id:o,menuRoleList:j,moduleId:S,menuRoleId:i,moduleName:R,roleId:v,apiId:I}){var T,b,l,P,m;const[x,n]=t.useState(""),w=te({}),g=te({}),E=Z({defaultValues:{service_name:""},resolver:ee(ns)}),{reset:L}=E;t.useEffect(()=>{var a,h;if(s){if(d&&o){const u=(h=(a=j==null?void 0:j.data)==null?void 0:a.data)==null?void 0:h.find(z=>z.id===o);u&&L({service_name:u.menu_role_name||""})}else L({service_name:""});n("")}},[s,d,o,j,L]);const C=async a=>{var h,u,z;try{const Y=d?"EditModuleList":"AddmoduleList",G=d&&o?{...a,moduleId:o}:{...a,moduleId:S},V=await w.mutateAsync({api:Y,data:G});(h=V==null?void 0:V.data)!=null&&h.success?(D.success((u=V==null?void 0:V.data)==null?void 0:u.message),p(!1),c(!1),k.refetch()):D.error((z=V==null?void 0:V.data)==null?void 0:z.message)}catch(Y){D.error(le(Y))}},y=W({api:(T=A)==null?void 0:T.getPermitedApiList,key:"permitedApiList",config:{roleId:i,moduleId:S},options:{enabled:!0}}),B=async(a,h,u)=>{var z,Y,G,V;console.log(u);try{const se={isSuspended:u,apiId:a,roleId:i,moduleId:S},K=await g.mutateAsync({api:(z=A)==null?void 0:z.addRemoveApiPermission,data:se});(Y=K==null?void 0:K.data)!=null&&Y.status?(D.success(((G=K==null?void 0:K.data)==null?void 0:G.message)||"Permission updated successfully"),y.refetch()):D.error(((V=K==null?void 0:K.data)==null?void 0:V.message)||"Failed to update permission")}catch(se){D.error(le(se))}},r=((l=(b=y==null?void 0:y.data)==null?void 0:b.data)==null?void 0:l.filter(a=>{var h;return(h=a.end_point)==null?void 0:h.toLowerCase().includes(x.toLowerCase())}))||[],U=a=>{n(a.target.value)},f=()=>{n("")};return console.log(R),e.jsx(je,{open:s,setOpen:p,title:O,setEdit:c,edit:d,children:e.jsx(ue,{methods:E,onSubmit:E.handleSubmit(C),children:e.jsxs("div",{className:"grid grid-cols-1 gap-x-2 gap-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",placeholder:"Search API endpoints...",value:x,onChange:U,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),x&&e.jsx("button",{onClick:f,className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",type:"button",children:"âœ•"})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[r.length," of ",((m=(P=y==null?void 0:y.data)==null?void 0:P.data)==null?void 0:m.length)||0," endpoints"]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table-auto w-full border-collapse border border-gray-300",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-200",children:[e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Sl."}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Api End Point"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Restrict"})]})}),e.jsx("tbody",{children:r.length>0?r.map((a,h)=>e.jsxs("tr",{className:"hover:bg-gray-100",children:[e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:h+1}),e.jsx("td",{className:`border border-gray-300 px-4 py-2 ${a.is_suspended?"text-black":"text-green-600"}`,children:x?e.jsx("span",{dangerouslySetInnerHTML:{__html:a.end_point.replace(new RegExp(`(${x})`,"gi"),'<mark class="bg-yellow-200">$1</mark>')}}):a.end_point}),e.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:a.is_suspended?e.jsx("button",{className:"text-green-600 bg-green-200 hover:bg-green-100 px-2 py-1 rounded-md text-xs font-bold",onClick:()=>B(a.id,a.menu_role_id,!a.is_suspended),children:"Add"}):e.jsx("button",{className:"text-red-600 bg-red-200 hover:bg-red-100 px-2 py-1 rounded-md text-xs font-bold",onClick:()=>B(a.id,a.menu_role_id,!a.is_suspended),children:"Remove"})})]},a.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"text-center py-4",children:x?`No API endpoints found matching "${x}"`:"No data available"})})})]})})]})})})}J().shape({ulbId:F(),moduleId:F(),complaintRefNo:F()});function cs(s){var f,T,b,l,P;const[p,O]=t.useState(1),[d,c]=t.useState(10),[k,N]=t.useState(!1),[o,j]=t.useState(""),[S,i]=t.useState(!1),[R,v]=t.useState(!1),[I,x]=t.useState(null),[n,w]=t.useState(1),[g,E]=t.useState(10),L=100,C=m=>{w(m)},y=m=>{E(m),w(1)},B=W({api:(f=A)==null?void 0:f.getMenuMasterList,key:"menuMasterList",options:{enabled:!0}}),r=W({api:(T=A)==null?void 0:T.getPermitedApiList,key:"permitedApiList",config:{roleId:s==null?void 0:s.id,moduleId:s==null?void 0:s.moduleId},options:{enabled:!0}}),U=m=>{x(m),v(!0)};return console.log(s==null?void 0:s.moduleName),e.jsx("main",{className:"grid items-start ",children:e.jsxs("div",{className:"grid auto-rows-max items-start gap-4 md:gap-2 lg:col-span-2",children:[e.jsx("div",{children:e.jsx("div",{className:"flex justify-end ",children:e.jsx(H,{type:"button",className:"flex items-center gap-2",onClick:()=>{j(""),i(!1),N(!0)},children:"Add More Restrict API"})})}),e.jsx(ds,{open:k,setOpen:N,title:S?"Edit Menu":"Restrict Api",id:o,edit:S,setEdit:i,moduleId:s==null?void 0:s.moduleId,menuRoleId:s==null?void 0:s.id,moduleName:s==null?void 0:s.moduleName}),e.jsx(ne,{className:"",children:e.jsx(de,{children:B.isLoading?e.jsx("div",{className:"flex h-32 items-center justify-center",children:e.jsx(ce,{})}):e.jsxs(e.Fragment,{children:[e.jsxs(re,{children:[e.jsx(ie,{children:e.jsxs(X,{children:[e.jsx($,{className:"",children:"#"}),e.jsx($,{className:"",children:"Api end point"}),e.jsx($,{className:"",children:"Actions"})]})}),e.jsx(oe,{children:(P=(l=(b=r==null?void 0:r.data)==null?void 0:b.data)==null?void 0:l.filter(m=>(m==null?void 0:m.is_suspended)===!1))==null?void 0:P.map((m,a)=>e.jsxs(X,{children:[e.jsx(q,{children:p*d-d+a+1}),e.jsx(q,{children:m==null?void 0:m.end_point}),e.jsxs(q,{children:[e.jsxs(H,{variant:"secondary",onClick:()=>{j(m==null?void 0:m.id),i(!0),N(!0)},children:[e.jsx(he,{})," Edit"]}),e.jsxs(H,{onClick:()=>U(m),className:"ml-2",variant:"secondary",children:[e.jsx(ge,{})," View"]})]})]},m==null?void 0:m.id))})]}),e.jsx(Q,{className:"mb-2 mt-4"}),e.jsx("div",{className:"flex w-full justify-end",children:e.jsx(xe,{currentPage:n,totalItems:L,itemsPerPage:g,onPageChange:C,onItemsPerPageChange:y})})]})})})]})})}const rs=J().shape({ulbId:F(),moduleId:F(),complaintRefNo:F()});function is(s){var P,m,a;const[p,O]=t.useState(1),[d,c]=t.useState(10),[k,N]=t.useState(!1),[o,j]=t.useState(""),[S,i]=t.useState(!1),[R,v]=t.useState(!1),[I,x]=t.useState(null),[n,w]=t.useState(!1),[g,E]=t.useState(!1),[L,C]=t.useState(1),[y,B]=t.useState(10),r=100,{moduleId:U}=s,f=h=>{C(h)},T=h=>{B(h),C(1)};console.log(s==null?void 0:s.moduleId,"props id"),console.log(U,"props id"),Z({resolver:ee(rs),defaultValues:{ulbId:"",moduleId:"",complaintTypeId:"",priorityId:"",targetTypeId:"",complaintSourceTypeId:"",fDate:"",toDate:"",complaintRefNo:""}});const b=W({api:(P=A)==null?void 0:P.serviceList,key:"serviceMasterList",config:{moduleId:s==null?void 0:s.mId},options:{enabled:!0}}),l=W({api:(m=A)==null?void 0:m.getWorkFlowList,key:"workFlowList",config:{moduleId:s==null?void 0:s.moduleId},options:{enabled:!0}});return console.log("the service maste rlist..",s==null?void 0:s.moduleName),e.jsx("main",{className:"grid items-start ",children:e.jsxs("div",{className:"grid auto-rows-max items-start gap-4 md:gap-2 lg:col-span-2 ",children:[e.jsx("div",{children:e.jsx("div",{className:"flex justify-end "})}),e.jsxs(Pe,{open:g,children:[e.jsx(we,{}),e.jsxs(Me,{className:"sm:max-w-[1200px] h-[700px] max-h-[700px] overflow-scroll",children:[e.jsx(be,{className:" text-xl text-gray-500 font-bold flex justify-between",children:e.jsxs("div",{children:["Module : ",e.jsx("span",{className:"font-bold text-lg text-yellow-500",children:s==null?void 0:s.moduleName})]})}),e.jsxs(be,{className:" text-xl text-gray-500 font-bold flex justify-between",children:[e.jsxs("div",{children:["Work Flow Role : ",e.jsx("span",{className:"font-bold text-lg text-yellow-500",children:n==null?void 0:n.role_name})]}),e.jsx("div",{children:e.jsx("span",{children:e.jsx(Ce,{className:"cursor-pointer hover:bg-red-100 rounded-lg inline",onClick:()=>E(!1)})})})]}),e.jsxs(_e,{defaultValue:"MENULIST",className:"w-full",children:[e.jsx("div",{className:"py-4 flex justify-between",children:e.jsx(Le,{className:"grid w-auto grid-cols-2",children:e.jsx(ke,{className:"data-[state=active]:bg-yellow-400 data-[state=active]:text-white rounded-lg px-2",value:"MENULIST",children:"Restricted  API List"})})}),e.jsx(Ee,{value:"MENULIST",children:e.jsx(cs,{moduleId:s==null?void 0:s.moduleId,id:o,moduleName:s==null?void 0:s.moduleName})})]})]})]}),e.jsx(ne,{children:e.jsx(de,{children:b.isLoading?e.jsx("div",{className:"flex h-32 items-center justify-center",children:e.jsx(ce,{})}):e.jsxs(e.Fragment,{children:[e.jsxs(re,{children:[e.jsx(ie,{children:e.jsxs(X,{children:[e.jsx($,{className:"",children:"#"}),e.jsx($,{className:"",children:"Workflow Name"}),e.jsx($,{className:"",children:"Actions"})]})}),e.jsx(oe,{children:(a=l==null?void 0:l.data)==null?void 0:a.data.map((h,u)=>e.jsxs(X,{children:[e.jsx(q,{children:p*d-d+u+1}),e.jsx(q,{children:h==null?void 0:h.role_name}),e.jsxs(q,{children:[e.jsxs(H,{variant:"secondary",onClick:()=>{j(h==null?void 0:h.id),i(!0),N(!0)},children:[e.jsx(he,{})," Edit"]}),e.jsxs(H,{onClick:()=>{w(h),E(!0),j(h==null?void 0:h.id)},className:"ml-2",variant:"secondary",children:[e.jsx(ge,{})," View"]})]})]},h==null?void 0:h.id))})]}),e.jsx(Q,{className:"mb-2 mt-4"}),e.jsx("div",{className:"flex w-full justify-end",children:e.jsx(xe,{currentPage:L,totalItems:r,itemsPerPage:y,onPageChange:f,onItemsPerPageChange:T})})]})})})]})})}const os=J().shape({ulbId:F(),moduleId:F(),complaintRefNo:F()});function us(){var a,h,u,z,Y,G,V,se,K,fe;const[s,p]=t.useState(1),[O,d]=t.useState(10),[c,k]=t.useState(!1),[N,o]=t.useState(!1),[j,S]=t.useState(""),[i,R]=t.useState(""),[v,I]=t.useState(!1),[x,n]=t.useState(""),[w,g]=t.useState(1),[E,L]=t.useState(10),[C,y]=t.useState(!1),B=100,r=_=>{g(_)},U=_=>{L(_),g(1)},f=Z({resolver:ee(os),defaultValues:{ulbId:"",moduleId:"",complaintTypeId:"",priorityId:"",targetTypeId:"",complaintSourceTypeId:"",fDate:"",toDate:"",complaintRefNo:""}}),T=async _=>{console.log(_==null?void 0:_.moduleId),n(_.moduleId)},b=W({api:(a=A)==null?void 0:a.userManagementModuleList,key:"moduleMasterList",options:{enabled:!0}}),l=W({api:(h=A)==null?void 0:h.getMenuRoleList,key:"menuRoleList",options:{enabled:!0}}),P=W({api:(u=A)==null?void 0:u.serviceList,key:"serviceMasterList",config:{moduleId:j},options:{enabled:!!j}});console.log(c==null?void 0:c.id,"id");const m=(Y=(z=b==null?void 0:b.data)==null?void 0:z.data)==null?void 0:Y.filter(_=>_.id==x);return console.log(m),console.log((G=b==null?void 0:b.data)==null?void 0:G.data),e.jsx("main",{className:"grid items-start",children:e.jsxs("div",{className:"grid auto-rows-max items-start gap-4 md:gap-2 lg:col-span-2",children:[e.jsxs(Pe,{open:C,children:[e.jsx(we,{}),e.jsxs(Me,{className:"sm:max-w-[1200px] h-auto max-h-[700px]  overflow-scroll",children:[e.jsxs(be,{className:"mt-4 text-xl text-gray-500 font-bold flex justify-between",children:[e.jsxs("div",{children:["Module : ",e.jsx("span",{className:"font-bold text-lg text-yellow-500",children:c==null?void 0:c.module_name})]}),e.jsx("div",{children:e.jsx("span",{children:e.jsx(Ce,{className:"cursor-pointer hover:bg-red-100 rounded-lg inline",onClick:()=>y(!1)})})})]}),e.jsxs($e,{defaultValue:"MENULIST",className:"w-full",children:[e.jsx("div",{className:"py-4 flex justify-between",children:e.jsxs(qe,{className:"grid w-auto grid-cols-4",children:[e.jsx(ye,{className:"data-[state=active]:bg-yellow-400 data-[state=active]:text-white",value:"MENULIST",children:"Menu List Master"}),e.jsx(ye,{className:"data-[state=active]:bg-yellow-400 data-[state=active]:text-white",value:"SERVICE_LIST",children:"Service List Master"}),e.jsx(ye,{className:"data-[state=active]:bg-yellow-400 data-[state=active]:text-white",value:"ROLE_LIST",children:"Role List Master"}),e.jsx(ye,{className:"data-[state=active]:bg-yellow-400 data-[state=active]:text-white",value:"WORKFLOW_LIST",children:"WorkFlow Role List Master"})]})}),e.jsx(Se,{value:"MENULIST",children:e.jsx(He,{id:j,mid:c==null?void 0:c.id,setEdit:I,setOpen:o,edit:v,refetch:P==null?void 0:P.refetch,serviceList:P,moduleName:i,moduleId:c==null?void 0:c.id,menuRoleList:l})}),e.jsx(Se,{value:"SERVICE_LIST",children:e.jsx(Xe,{id:j,setEdit:I,setOpen:o,edit:v,refetch:P==null?void 0:P.refetch,serviceList:P,moduleId:c==null?void 0:c.id,moduleName:i,mId:j})}),e.jsx(Se,{value:"ROLE_LIST",children:e.jsx(ls,{id:j,setEdit:I,setOpen:o,edit:v,refetch:l==null?void 0:l.refetch,serviceList:l,moduleId:c==null?void 0:c.id,moduleName:i,mId:j})}),e.jsx(Se,{value:"WORKFLOW_LIST",children:e.jsx(is,{id:j,setEdit:I,setOpen:o,edit:v,refetch:l==null?void 0:l.refetch,serviceList:l,moduleId:c==null?void 0:c.id,moduleName:i,mId:j})})]})]})]}),e.jsxs(ne,{children:[e.jsx(ue,{methods:f,onSubmit:f.handleSubmit(T),children:e.jsxs("div",{className:"grid grid-cols-4 gap-x-2 gap-y-4 bg-background px-10 pt-4",children:[e.jsxs("div",{children:[e.jsx(De,{htmlFor:"moduleId",children:"Module name"}),e.jsx(Ie,{className:"cursor-pointer bg-background",name:"moduleId",data:((se=(V=b.data)==null?void 0:V.data)==null?void 0:se.map(_=>({value:_==null?void 0:_.id,label:_==null?void 0:_.module_name})))??[]})]}),e.jsx("div",{className:"mt-6 flex justify-start",children:e.jsx(Ne,{variant:"secondary",isLoading:f.formState.isSubmitting,type:"submit",className:"float-right w-auto px-10",children:"Search"})}),e.jsx("div",{className:"mt-6 flex justify-end "}),e.jsx(Je,{open:N,setOpen:o,title:v?"Edit Module":"Add Module",id:j,edit:v,setEdit:I,serviceList:P,moduleList:b})]})}),e.jsx(Re,{className:"px-7",children:e.jsx(Fe,{})}),e.jsx(de,{children:P.isLoading?e.jsx("div",{className:"flex h-32 items-center justify-center",children:e.jsx(ce,{})}):e.jsxs(e.Fragment,{children:[e.jsxs(re,{children:[e.jsx(ie,{children:e.jsxs(X,{children:[e.jsx($,{className:"",children:"#"}),e.jsx($,{className:"",children:"Module"}),e.jsx($,{className:"",children:"Actions"})]})}),e.jsx(oe,{children:(fe=(m==null?void 0:m.length)>0?m:(K=b==null?void 0:b.data)==null?void 0:K.data)==null?void 0:fe.map((_,M)=>e.jsxs(X,{children:[e.jsx(q,{children:s*O-O+M+1}),e.jsx(q,{children:_==null?void 0:_.module_name}),e.jsx(q,{children:e.jsxs(H,{variant:"secondary",onClick:()=>{S(_==null?void 0:_.id),R(_==null?void 0:_.module_name),k(_),y(!0)},className:"ml-2",children:[e.jsx(ge,{})," View"]})})]},_==null?void 0:_.id))})]}),e.jsx(Q,{className:"mb-2 mt-4"}),e.jsx("div",{className:"flex w-full justify-end",children:e.jsx(xe,{currentPage:w,totalItems:B,itemsPerPage:E,onPageChange:r,onItemsPerPageChange:U})})]})})]})]})})}function Ls(){return e.jsx(pe,{title:"Module List (master)",subTitle:"Control all Module here",children:e.jsx("div",{children:e.jsx(us,{})})})}export{Ls as default};
