import{u as te,r as a,k as H,j as e,m as T,z as F,B as z}from"./index-CAjEFoKT.js";import{a as pe}from"./index-D1S-7-76.js";import{C as ne,d as de,b as ve,a as Re,c as Ve}from"./card-D4epNph5.js";import{S as Q,a as re,T as ce,b as ie,c as X,d as q,e as oe,f as B}from"./Spinner-BssXC1AG.js";import{a as Z,F as ue,B as Ne,o as ee,c as J,e as Fe,b as p}from"./switch-CyMtw3em.js";import"./input-CGlpwASr.js";import{R as Ie}from"./SelectField-leHwCcXk.js";import{L as De}from"./label-M3sJvL_e.js";import{F as me,a as Oe,b as ge}from"./index-DYHIltLb.js";import{P as xe,D as Pe,a as we,b as Me}from"./dialog-DAEii59D.js";import{R as ae}from"./RHFTextField-B1eRuiUm.js";import{g as le}from"./services-KQnp_8oA.js";import{D as je}from"./index-C6oDUnME.js";import{T as _e,a as Le,b as ke,c as Ee,d as $e,e as qe,f as ye,g as Se}from"./tabs-B6mbEgj8.js";import{X as Ce}from"./x-6LaQdZLT.js";import{t as Be}from"./switch-Ci-lH2fU.js";import"./iconBase-LcP1rySH.js";import"./createLucideIcon-DwAcjRKN.js";const Ue=J().shape({menuName:p().required("menu name is required"),serial:p(),route:p(),parentId:p(),isSidebar:Fe()});function We({open:s,setOpen:A,title:D,edit:d,setEdit:c,menuMasterList:k,moduleList:N,id:x,paginatedMenuList:m,menuId:I,editData:o}){var b,E,_,M,y,U;const O=te({}),f=Z({defaultValues:{menuName:"",serial:"",route:"",isSidebar:!1},resolver:ee(Ue)}),{reset:P}=f;a.useEffect(()=>{s&&P(d&&x?o?{menuName:o.menu_string||"",serial:o.serial||"",route:o.route||"",parentId:o.parent_id||""}:{menuName:"",serial:"",route:"",parentId:""}:{menuName:"",serial:"",route:"",parentId:""})},[s,d,x,P,o]);const h=async i=>{var W,$,g,j,l;try{const S=d&&x?{...i,moduleId:x,id:I}:{...i,moduleId:x},u=d?(W=T)==null?void 0:W.editMenuDetailsByModule:($=T)==null?void 0:$.addMenuByModule,t=await O.mutateAsync({api:u,data:S});(g=t==null?void 0:t.data)!=null&&g.status?(F.success((j=t==null?void 0:t.data)==null?void 0:j.message),A(!1),c(!1),k.refetch(),r.refetch()):F.error((l=t==null?void 0:t.data)==null?void 0:l.message)}catch(S){F.error(le(S))}};console.log("paginatedMenuList",m),console.log("paginatedMenuList",x),console.log("paginatedMenuList",I);const r=H({api:(b=T)==null?void 0:b.parentMenuList,key:"parentMenuListByModule",config:{moduleId:String(x)},options:{enabled:!0}}),w=H({api:(E=T)==null?void 0:E.workFlowByModule,key:"getWorkFlowByModule",config:{moduleId:String(x)},options:{enabled:!0}});return console.log(o),e.jsx(je,{open:s,setOpen:A,title:D,setEdit:c,edit:d,hideSearch:!0,children:e.jsx(ue,{methods:f,onSubmit:f.handleSubmit(h),children:e.jsxs("div",{className:"grid grid-cols-1 gap-x-2 gap-y-4",children:[e.jsx("div",{children:e.jsx(Ie,{label:"Parent Menu Name",name:"parentId",data:((M=(_=r==null?void 0:r.data)==null?void 0:_.data)==null?void 0:M.map(i=>({label:String(i==null?void 0:i.menu_string),value:String(i==null?void 0:i.id)})))||[]})}),e.jsx("div",{children:e.jsx(ae,{label:"Menu Name",name:"menuName",placeholder:"Enter menu name"})}),e.jsx("div",{children:e.jsx(ae,{label:"Menu Route",name:"route",placeholder:"Enter menu url "})}),e.jsx("div",{children:e.jsx(ae,{label:"Serial No.",name:"serial",placeholder:"Enter Serial No."})}),e.jsx("div",{children:e.jsx(Ie,{label:e.jsxs(e.Fragment,{children:["Workflow"," ",e.jsx("span",{className:"text-sm",children:"(select module to get workflow list)"})]}),name:"workflowId",data:((U=(y=w==null?void 0:w.data)==null?void 0:y.data)==null?void 0:U.map(i=>({label:String(i==null?void 0:i.workflow_name),value:String(i==null?void 0:i.id)})))||[]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"isSidebar",...f.register("isSidebar"),defaultChecked:!1}),e.jsx("label",{htmlFor:"isSidebar",children:"Is Sidebar Show"})]}),e.jsx(Q,{}),e.jsx("div",{children:e.jsx(Ne,{isLoading:f.formState.isSubmitting,type:"submit",className:"h-11 w-full rounded-xl",children:d?"Update":"Submit"})})]})})})}function He({id:s,mid:A}){var $,g,j,l,S,u,t,n;const[D,d]=a.useState(1),[c,k]=a.useState(10),[N,x]=a.useState(!1),[m,I]=a.useState(!1),[o,O]=a.useState(null),[f,P]=a.useState(null),h=te({}),r=H({api:($=T)==null?void 0:$.getMenuMasterList,key:"menuMasterList",options:{enabled:!0}}),w=H({api:(g=T)==null?void 0:g.getMenuDetailsByModule,key:"getMenuDetailsForEdit",config:{menuId:String(f)},value:[f],options:{enabled:!!f}});H({api:(j=T)==null?void 0:j.serviceList,key:"serviceMasterList",config:{moduleId:s},options:{enabled:!!s}});const b=H({api:(l=T)==null?void 0:l.getMenuRoleList,key:"menuRoleList",options:{enabled:!0}}),E=((u=(S=r==null?void 0:r.data)==null?void 0:S.data)==null?void 0:u.filter(v=>(v==null?void 0:v.module_id)==s))??[],_=E.slice((D-1)*c,D*c),M=v=>d(v),y=v=>{k(v),d(1)},U=v=>{P(v),I(!0),x(!0)},i=H({api:(t=T)==null?void 0:t.parentMenuList,key:"parentMenuListByModule",config:{moduleId:String(s)},options:{enabled:!0}}),W=async()=>{var v,V,Y,G;try{const R=await h.mutateAsync({api:(v=T)==null?void 0:v.deleteMenu,data:{id:o}});(V=R==null?void 0:R.data)!=null&&V.status?(F.success((Y=R==null?void 0:R.data)==null?void 0:Y.message),x(!1),I(!1),O(null),r.refetch(),b.refetch(),i.refetch()):(F.error((G=R==null?void 0:R.data)==null?void 0:G.message),O(null))}catch(R){console.error("Error deleting menu:",R),alert("An error occurred while deleting the menu. Please try again.")}};return e.jsx("main",{className:"grid items-start",children:e.jsxs("div",{className:"grid auto-rows-max items-start gap-4",children:[e.jsx("div",{className:"flex justify-end",children:e.jsx(z,{type:"button",className:"flex items-center gap-2",onClick:()=>{P(null),I(!1),x(!0)},children:"Add Menu List"})}),e.jsx(We,{open:N,setOpen:x,title:m?"Edit Menu":"Add Menu",id:A,edit:m,setEdit:I,paginatedMenuList:_,refetch:r==null?void 0:r.refetch,menuMasterList:r,menuId:f,editData:(n=w==null?void 0:w.data)==null?void 0:n.data}),o&&e.jsx("div",{className:"fixed inset-0 z-50 flex h-screen items-center justify-center bg-black bg-opacity-50 ",children:e.jsxs("div",{className:"w-[30%] rounded-lg bg-white px-8 py-6 shadow-lg",children:[e.jsx("div",{className:"mb-4 flex items-center justify-center text-lg font-medium",children:"Are you sure you want to delete?"}),e.jsxs("div",{className:"mt-2 flex items-center justify-center gap-4",children:[e.jsx(z,{variant:"destructive",size:"sm",onClick:()=>W(),children:"Yes"}),e.jsx(z,{variant:"outline",size:"sm",onClick:()=>O(null),children:"No"})]})]})}),e.jsx(ne,{children:e.jsx(de,{children:r.isLoading?e.jsx("div",{className:"flex h-32 items-center justify-center",children:e.jsx(re,{})}):r.isError?e.jsx("div",{className:"text-center text-red-500",children:"Failed to load menu list. Please try again."}):e.jsxs(e.Fragment,{children:[e.jsxs(ce,{children:[e.jsx(ie,{children:e.jsxs(X,{children:[e.jsx(q,{children:"#"}),e.jsx(q,{children:"Parent Menu"}),e.jsx(q,{children:"Menu"}),e.jsx(q,{children:"Path"}),e.jsx(q,{children:"Serial"}),e.jsx(q,{children:"SideBar"}),e.jsx(q,{children:"Actions"})]})}),e.jsx(oe,{children:_==null?void 0:_.map((v,V)=>e.jsxs(X,{children:[e.jsx(B,{children:D*c-c+V+1}),e.jsx(B,{children:v.parentName||"#"}),e.jsx(B,{children:v.menu_string}),e.jsx(B,{children:v.route}),e.jsx(B,{children:v.serial}),e.jsx(B,{children:v.is_sidebar?"Yes":"No"}),e.jsxs(B,{children:[e.jsxs(z,{variant:"secondary",onClick:()=>U(v.id),children:[e.jsx(me,{})," Edit"]}),e.jsx(z,{className:"ml-2",variant:"secondary",onClick:()=>O(v.id),children:e.jsx(Oe,{})})]})]},v.id))})]}),e.jsx(Q,{className:"my-4"}),e.jsx("div",{className:"flex w-full justify-end",children:e.jsx(xe,{currentPage:D,totalItems:E.length,itemsPerPage:c,onPageChange:M,onItemsPerPageChange:y})})]})})})]})})}const ze=J().shape({serviceName:p().required("menu name is required"),path:p().required("path is required")});function Ke({open:s,setOpen:A,title:D,edit:d,setEdit:c,serviceList:k,id:N,paginatedMenuList:x,moduleId:m}){const I=te({}),o=Z({defaultValues:{serviceName:""},resolver:ee(ze)}),{reset:O}=o;a.useEffect(()=>{var P,h;if(s)if(d&&N){const r=(h=(P=k==null?void 0:k.data)==null?void 0:P.data)==null?void 0:h.find(w=>w.id==N);r&&O({serviceName:r.service_name||"",path:r.path||""})}else O({serviceName:"",path:""})},[s,d,N,O]);const f=async P=>{var h,r,w,b,E;try{const _=d?(h=T)==null?void 0:h.updateServiceByModule:(r=T)==null?void 0:r.addServiceByModule,M=d?{...P,id:N}:{...P,moduleId:m},y=await I.mutateAsync({api:_,data:M});(w=y==null?void 0:y.data)!=null&&w.status?(F.success((b=y==null?void 0:y.data)==null?void 0:b.message),A(!1),c(!1),k.refetch()):F.error((E=y==null?void 0:y.data)==null?void 0:E.message)}catch(_){F.error(le(_))}};return console.log("paginatedMenuList",N),console.log(m),e.jsx(je,{open:s,setOpen:A,title:D,setEdit:c,edit:d,hideSearch:!0,children:e.jsx(ue,{methods:o,onSubmit:o.handleSubmit(f),children:e.jsxs("div",{className:"grid grid-cols-1 gap-x-2 gap-y-4",children:[e.jsx("div",{children:e.jsx(ae,{label:"Service Name",name:"serviceName",placeholder:"Enter menu name"})}),e.jsx("div",{children:e.jsx(ae,{label:"service Path",name:"path",placeholder:"Enter path"})}),e.jsx(Q,{}),e.jsx("div",{children:e.jsx(Ne,{isLoading:o.formState.isSubmitting,type:"submit",className:"h-11 w-full rounded-xl",children:"Submit"})})]})})})}const Ye=J().shape({ulbId:p(),moduleId:p(),complaintRefNo:p()});function Xe(s){var $,g,j;const[A,D]=a.useState(1),[d,c]=a.useState(10),[k,N]=a.useState(!1),[x,m]=a.useState(""),[I,o]=a.useState(!1),[O,f]=a.useState(!1),[P,h]=a.useState(null),{moduleId:r}=s,[w,b]=a.useState(1),[E,_]=a.useState(10),M=100,y=l=>{b(l)},U=l=>{_(l),b(1)};console.log(s==null?void 0:s.id,"props id"),console.log(r,"props id"),Z({resolver:ee(Ye),defaultValues:{ulbId:"",moduleId:"",complaintTypeId:"",priorityId:"",targetTypeId:"",complaintSourceTypeId:"",fDate:"",toDate:"",complaintRefNo:""}});const i=H({api:($=T)==null?void 0:$.serviceList,key:"serviceMasterList",config:{moduleId:s==null?void 0:s.mId},options:{enabled:!!(s!=null&&s.mId)}});console.log("the servicemId",s==null?void 0:s.mId);const W=l=>{h(l),f(!0)};return e.jsx("main",{className:"grid items-start",children:e.jsxs("div",{className:"grid auto-rows-max items-start gap-4 md:gap-2 lg:col-span-2",children:[e.jsx("div",{children:e.jsx("div",{className:"flex justify-end ",children:e.jsx(z,{type:"button",className:"flex items-center gap-2",onClick:()=>{m(""),o(!1),N(!0)},children:"Add Service List"})})}),e.jsx(Ke,{open:k,setOpen:N,title:I?"Edit Service":"Add Service",id:x,edit:I,setEdit:o,moduleId:s==null?void 0:s.id,serviceList:i}),e.jsx(ne,{children:e.jsx(de,{children:i.isLoading?e.jsx("div",{className:"flex h-32 items-center justify-center",children:e.jsx(re,{})}):e.jsxs(e.Fragment,{children:[e.jsxs(ce,{children:[e.jsx(ie,{children:e.jsxs(X,{children:[e.jsx(q,{className:"",children:"#"}),e.jsx(q,{className:"",children:"Service Name"}),e.jsx(q,{className:"",children:"Service Path"}),e.jsx(q,{className:"",children:"Actions"})]})}),e.jsx(oe,{children:(j=(g=i==null?void 0:i.data)==null?void 0:g.data)==null?void 0:j.map((l,S)=>e.jsxs(X,{children:[e.jsx(B,{children:A*d-d+S+1}),e.jsx(B,{children:l==null?void 0:l.service_name}),e.jsx(B,{children:l==null?void 0:l.path}),e.jsxs(B,{children:[e.jsxs(z,{variant:"secondary",onClick:()=>{m(l==null?void 0:l.id),o(!0),N(!0)},children:[e.jsx(me,{})," Edit"]}),e.jsxs(z,{onClick:()=>W(l),className:"ml-2",variant:"secondary",children:[e.jsx(ge,{})," View"]})]})]},l==null?void 0:l.id))})]}),e.jsx(Q,{className:"mb-2 mt-4"}),e.jsx("div",{className:"flex w-full justify-end",children:e.jsx(xe,{currentPage:w,totalItems:M,itemsPerPage:E,onPageChange:y,onItemsPerPageChange:U})})]})})})]})})}const Ge=J().shape({module_name:p().required("module name is required"),module_id:p().required("Module ID is required"),module_url:p().required("Module URL is required")});function Je({open:s,setOpen:A,title:D,edit:d,setEdit:c,serviceList:k,moduleList:N,id:x}){const m=te({}),I=Z({defaultValues:{module_name:"",module_id:"",module_url:""},resolver:ee(Ge)}),{reset:o}=I;a.useEffect(()=>{var f,P;if(s)if(d&&x){const h=(P=(f=N==null?void 0:N.data)==null?void 0:f.data)==null?void 0:P.find(r=>r.id==x);h&&o({module_name:h.module_name||"",module_id:h.id||"",module_url:h.url||""})}else o({module_name:"",module_id:"",module_url:""})},[s,d,x,N,o]);const O=async f=>{var P,h,r;try{const w=d?"EditModuleList":"AddmoduleList",b=await m.mutateAsync({api:w,data:f});(P=b==null?void 0:b.data)!=null&&P.success?(F.success((h=b==null?void 0:b.data)==null?void 0:h.message),A(!1),c(!1),k.refetch()):F.error((r=b==null?void 0:b.data)==null?void 0:r.message)}catch(w){F.error(le(w))}};return e.jsx(je,{open:s,setOpen:A,title:D,setEdit:c,edit:d,children:e.jsx(ue,{methods:I,onSubmit:I.handleSubmit(O),children:e.jsxs("div",{className:"grid grid-cols-1 gap-x-2 gap-y-4",children:[e.jsx("div",{children:e.jsx(ae,{label:"Module Name",name:"module_name",placeholder:"Enter module name"})}),e.jsx("div",{children:e.jsx(ae,{label:"Module ID",name:"module_id",placeholder:"Enter module id "})}),e.jsx("div",{children:e.jsx(ae,{label:"Module URL",name:"module_url",placeholder:"Enter module url "})}),e.jsx(Q,{}),e.jsx("div",{children:e.jsx(Ne,{isLoading:I.formState.isSubmitting,type:"submit",className:"h-11 w-full rounded-xl",children:"Submit"})})]})})})}const Qe=J().shape({menuRoleName:p().required("menu name is required")});function Ze({open:s,setOpen:A,title:D,edit:d,setEdit:c,id:k,menuRoleList:N,moduleId:x}){const m=te({}),I=Z({defaultValues:{menuRoleName:""},resolver:ee(Qe)}),{reset:o}=I;console.log(x,"id"),a.useEffect(()=>{var f,P;if(s)if(d&&k){const h=(P=(f=N==null?void 0:N.data)==null?void 0:f.data)==null?void 0:P.find(r=>r.id===k);h&&o({menuRoleName:h.menu_role_name||""})}else o({menuRoleName:""})},[s,d,k,N,o]);const O=async f=>{var P,h,r,w,b;try{const E=d?(P=T)==null?void 0:P.editMenuList:(h=T)==null?void 0:h.addMenuList,_=d&&k?{...f,id:k}:{...f,moduleId:x},M=await m.mutateAsync({api:E,data:_});(r=M==null?void 0:M.data)!=null&&r.status?(F.success((w=M==null?void 0:M.data)==null?void 0:w.message),A(!1),c(!1),N.refetch()):F.error((b=M==null?void 0:M.data)==null?void 0:b.message)}catch(E){F.error(le(E))}};return e.jsx(je,{open:s,setOpen:A,title:D,setEdit:c,edit:d,hideSearch:!0,children:e.jsx(ue,{methods:I,onSubmit:I.handleSubmit(O),children:e.jsxs("div",{className:"grid grid-cols-1 gap-x-2 gap-y-4",children:[e.jsx("div",{children:e.jsx(ae,{label:"Service Name",name:"menuRoleName",placeholder:"Enter menu name"})}),e.jsx(Q,{}),e.jsx("div",{children:e.jsx(Ne,{isLoading:I.formState.isSubmitting,type:"submit",className:"h-11 w-full rounded-xl",children:"Submit"})})]})})})}const es=J().shape({service_name:p().required("menu name is required")});function ss({open:s,setOpen:A,title:D,edit:d,setEdit:c,serviceList:k,moduleList:N,id:x,menuRoleList:m,moduleId:I,menuRoleId:o,moduleName:O}){var U,i,W,$;const f=te({}),P=te({}),[h,r]=a.useState(""),w=Z({defaultValues:{service_name:""},resolver:ee(es)}),{reset:b}=w;console.log(I,"id"),a.useEffect(()=>{var g,j;if(s)if(d&&x){const l=(j=(g=m==null?void 0:m.data)==null?void 0:g.data)==null?void 0:j.find(S=>S.id===x);l&&b({service_name:l.menu_role_name||""})}else b({service_name:""})},[s,d,x,m,b]);const E=async g=>{var j,l,S;try{const u=d?"EditModuleList":"AddmoduleList",t=d&&x?{...g,moduleId:x}:{...g,moduleId:I},n=await f.mutateAsync({api:u,data:t});(j=n==null?void 0:n.data)!=null&&j.success?(F.success((l=n==null?void 0:n.data)==null?void 0:l.message),A(!1),c(!1),k.refetch()):F.error((S=n==null?void 0:n.data)==null?void 0:S.message)}catch(u){F.error(le(u))}},_=H({api:(U=T)==null?void 0:U.getPermitedMenuList,key:"permitedMenuList",config:{menuRoleId:o,moduleId:I},options:{enabled:!0}}),M=($=(W=(i=_==null?void 0:_.data)==null?void 0:i.data)==null?void 0:W[O])==null?void 0:$.filter(g=>{var j;return(j=g.menu_string)==null?void 0:j.toLowerCase().includes(h.toLowerCase())}),y=async(g,j,l)=>{var S,u,t,n;console.log(l);try{const v={isSuspended:l,menuId:g,menuRoleId:o},V=await P.mutateAsync({api:(S=T)==null?void 0:S.addRemoveMenuPermission,data:v});(u=V==null?void 0:V.data)!=null&&u.status?(F.success(((t=V==null?void 0:V.data)==null?void 0:t.message)||"Permission updated successfully"),_.refetch()):F.error(((n=V==null?void 0:V.data)==null?void 0:n.message)||"Failed to update permission")}catch(v){F.error(le(v))}};return e.jsx(je,{open:s,setOpen:A,title:D,setEdit:c,edit:d,setSearchValue:r,value:h,children:e.jsx(ue,{methods:w,onSubmit:w.handleSubmit(E),children:e.jsx("div",{className:"grid grid-cols-1 gap-x-2 gap-y-4",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full table-auto border-collapse border border-gray-300",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-200",children:[e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Sl."}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Menu Name"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Permission"})]})}),e.jsx("tbody",{children:(M==null?void 0:M.map((g,j)=>e.jsxs("tr",{className:"hover:bg-gray-100",children:[e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:j+1}),e.jsxs("td",{className:`border border-gray-300 px-4 py-2 text-sm ${g.is_suspended?"text-black":"text-green-600"}`,children:[g.menu_string," ",e.jsx("span",{className:"block text-xs text-gray-600",children:g.route})]}),e.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:g.is_suspended?e.jsx("button",{className:"rounded-md bg-green-200 px-2 py-1 text-xs font-bold text-green-600 hover:bg-green-100",onClick:()=>y(g.id,g.menu_role_id,!g.is_suspended),children:"Add"}):e.jsx("button",{className:"rounded-md  bg-red-200 px-2 py-1 text-xs font-bold text-red-600 hover:bg-red-100",onClick:()=>y(g.id,g.menu_role_id,!g.is_suspended),children:"Remove"})})]},g.id)))||e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"py-4 text-center",children:"No data available"})})})]})})})})})}J().shape({ulbId:p(),moduleId:p(),complaintRefNo:p()});function as(s){var $,g,j,l,S,u;const[A,D]=a.useState(1),[d,c]=a.useState(10),[k,N]=a.useState(!1),[x,m]=a.useState(""),[I,o]=a.useState(!1),[O,f]=a.useState(!1),[P,h]=a.useState(null),[r,w]=a.useState(1),[b,E]=a.useState(10),_=100,M=t=>{w(t)},y=t=>{E(t),w(1)},U=H({api:($=T)==null?void 0:$.getMenuMasterList,key:"menuMasterList",options:{enabled:!0}}),i=H({api:(g=T)==null?void 0:g.getPermitedMenuList,key:"permitedMenuList",config:{menuRoleId:s==null?void 0:s.id,moduleId:s==null?void 0:s.moduleId},options:{enabled:!0}}),W=t=>{h(t),f(!0)};return console.log(s==null?void 0:s.moduleName),e.jsx("main",{className:"grid items-start ",children:e.jsxs("div",{className:"grid auto-rows-max items-start gap-4 md:gap-2 lg:col-span-2",children:[e.jsx("div",{children:e.jsx("div",{className:"flex justify-end ",children:e.jsx(z,{type:"button",className:"flex items-center gap-2",onClick:()=>{m(""),o(!1),N(!0)},children:"Add More Menu Permission"})})}),e.jsx(ss,{open:k,setOpen:N,title:I?"Edit Menu":"Add Menu",id:x,edit:I,setEdit:o,moduleId:s==null?void 0:s.moduleId,menuRoleId:s==null?void 0:s.id,moduleName:s==null?void 0:s.moduleName}),e.jsx(ne,{className:"",children:e.jsx(de,{children:U.isLoading?e.jsx("div",{className:"flex h-32 items-center justify-center",children:e.jsx(re,{})}):e.jsxs(e.Fragment,{children:[e.jsxs(ce,{children:[e.jsx(ie,{children:e.jsxs(X,{children:[e.jsx(q,{className:"",children:"#"}),e.jsx(q,{className:"",children:"Menu"}),e.jsx(q,{className:"",children:"Actions"})]})}),e.jsx(oe,{children:(u=(S=(l=(j=i==null?void 0:i.data)==null?void 0:j.data)==null?void 0:l[s==null?void 0:s.moduleName])==null?void 0:S.filter(t=>(t==null?void 0:t.menu_role_id)==(s==null?void 0:s.id)))==null?void 0:u.map((t,n)=>e.jsxs(X,{children:[e.jsx(B,{children:A*d-d+n+1}),e.jsx(B,{children:t==null?void 0:t.menu_string}),e.jsxs(B,{children:[e.jsxs(z,{variant:"secondary",onClick:()=>{m(t==null?void 0:t.id),o(!0),N(!0)},children:[e.jsx(me,{})," Edit"]}),e.jsxs(z,{onClick:()=>W(t),className:"ml-2",variant:"secondary",children:[e.jsx(ge,{})," View"]})]})]},t==null?void 0:t.id))})]}),e.jsx(Q,{className:"mb-2 mt-4"}),e.jsx("div",{className:"flex w-full justify-end",children:e.jsx(xe,{currentPage:r,totalItems:_,itemsPerPage:b,onPageChange:M,onItemsPerPageChange:y})})]})})})]})})}const ts=J().shape({ulbId:p(),moduleId:p(),complaintRefNo:p()});function ls(s){var se,K,fe,L;const[A,D]=a.useState(!1),[d,c]=a.useState(""),[k,N]=a.useState(!1),[x,m]=a.useState(!1),[I,o]=a.useState(null),[O,f]=a.useState(!1),[P,h]=a.useState(!1),[r,w]=a.useState(1),[b,E]=a.useState(10),[_,M]=a.useState(!1),[y,U]=a.useState({}),[i,W]=a.useState(null),{moduleId:$}=s,g=C=>{w(C)},j=C=>{E(C),w(1)};console.log(s==null?void 0:s.moduleId,"props id"),console.log($,"props id"),Z({resolver:ee(ts),defaultValues:{ulbId:"",moduleId:"",complaintTypeId:"",priorityId:"",targetTypeId:"",complaintSourceTypeId:"",fDate:"",toDate:"",complaintRefNo:""}});const l=H({api:(se=T)==null?void 0:se.apiRoleMasterActiveDeactive,key:"roleActiveDeactive",config:i??{},options:{enabled:!1}});a.useEffect(()=>{i&&l.refetch()},[i]);const S=C=>{const he=!u(C);U(Ae=>({...Ae,[C.id]:he}));const Te={roleId:Number(C.id),isSuspended:he?"inactive":"active"};M(!0),W(Te)},u=C=>y[C.id]!==void 0?y[C.id]:C.is_suspended===!0;a.useEffect(()=>{_&&(l.isSuccess&&(F.success("Role status updated successfully"),n.refetch(),W(null),M(!1)),l.isError&&(F.error(le(l.error)),U(C=>{const be={...C};return delete be[i==null?void 0:i.roleId],be}),W(null),M(!1)))},[l.isSuccess,l.isError,_]);const t=H({api:(K=T)==null?void 0:K.serviceList,key:"serviceMasterList",config:{moduleId:s==null?void 0:s.mId},options:{enabled:!0}}),n=H({api:(fe=T)==null?void 0:fe.getMenuRoleList,key:"menuRoleList",options:{enabled:!0}});console.log(d);const v=((L=n==null?void 0:n.data)==null?void 0:L.data.filter(C=>(C==null?void 0:C.module_id)==(s==null?void 0:s.moduleId)))||[],V=(r-1)*b,Y=r*b,G=v.slice(V,Y),R=v.length;return console.log("the service maste rlist..",s==null?void 0:s.moduleName),e.jsx("main",{className:"grid items-start ",children:e.jsxs("div",{className:"grid auto-rows-max items-start gap-4 md:gap-2 lg:col-span-2 ",children:[e.jsxs("div",{children:[e.jsx("div",{className:"flex justify-end ",children:e.jsx(z,{type:"button",className:"flex items-center gap-2",onClick:()=>{c(""),N(!1),D(!0)},children:"Add Role List"})}),e.jsx(Ze,{open:A,setOpen:D,title:k?"Edit Role":"Add Role",id:d,edit:k,setEdit:N,menuRoleList:n,moduleId:s==null?void 0:s.moduleId})]}),e.jsxs(Pe,{open:P,children:[e.jsx(we,{}),e.jsxs(Me,{className:"h-[700px] max-h-[700px] overflow-scroll sm:max-w-[1200px]",children:[e.jsx(ve,{className:" flex justify-between text-xl font-bold text-gray-500",children:e.jsxs("div",{children:["Module :"," ",e.jsx("span",{className:"text-lg font-bold text-yellow-500",children:s==null?void 0:s.moduleName})]})}),e.jsxs(ve,{className:" flex justify-between text-xl font-bold text-gray-500",children:[e.jsxs("div",{children:["Role :"," ",e.jsx("span",{className:"text-lg font-bold text-yellow-500",children:O==null?void 0:O.menu_role_name})]}),e.jsx("div",{children:e.jsx("span",{children:e.jsx(Ce,{className:"inline cursor-pointer rounded-lg hover:bg-red-100",onClick:()=>h(!1)})})})]}),e.jsxs(_e,{defaultValue:"MENULIST",className:"w-full",children:[e.jsx("div",{className:"flex justify-between py-4",children:e.jsx(Le,{className:"grid w-auto grid-cols-2",children:e.jsx(ke,{className:"rounded-lg px-2 data-[state=active]:bg-yellow-400 data-[state=active]:text-white",value:"MENULIST",children:"Permitted Menu List"})})}),e.jsx(Ee,{value:"MENULIST",children:e.jsx(as,{moduleId:s==null?void 0:s.moduleId,id:d,moduleName:s==null?void 0:s.moduleName})})]})]})]}),e.jsx(ne,{children:e.jsx(de,{children:t.isLoading?e.jsx("div",{className:"flex h-32 items-center justify-center",children:e.jsx(re,{})}):e.jsxs(e.Fragment,{children:[e.jsxs(ce,{children:[e.jsx(ie,{children:e.jsxs(X,{children:[e.jsx(q,{className:"",children:"#"}),e.jsx(q,{className:"",children:"Role Name"}),e.jsx(q,{className:"",children:"Actions"}),e.jsx(q,{className:"",children:"Is Suspended"})]})}),e.jsx(oe,{children:G.map((C,be)=>{const he=y[C.id]!==void 0?y[C.id]:C.is_suspended;return e.jsxs(X,{children:[e.jsx(B,{children:V+be+1}),e.jsx(B,{children:C==null?void 0:C.menu_role_name}),e.jsxs(B,{children:[e.jsxs(z,{variant:"secondary",onClick:()=>{c(C==null?void 0:C.id),N(!0),D(!0)},children:[e.jsx(me,{})," Edit"]}),e.jsxs(z,{onClick:()=>{f(C),h(!0),c(C==null?void 0:C.id)},className:"ml-2",variant:"secondary",children:[e.jsx(ge,{})," View"]})]}),e.jsx(B,{children:e.jsxs(Be,{checked:he,onChange:()=>S(C),className:`${he?"bg-green-600":"bg-gray-300"} relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-200`,children:[e.jsx("span",{className:"sr-only",children:"Toggle suspend"}),e.jsx("span",{className:`${he?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white shadow transition-transform duration-200`})]})})]},C==null?void 0:C.id)})})]}),e.jsx(Q,{className:"mb-2 mt-4"}),e.jsx("div",{className:"flex w-full justify-end",children:e.jsx(xe,{currentPage:r,totalItems:R,itemsPerPage:b,onPageChange:g,onItemsPerPageChange:j})})]})})})]})})}const ns=J().shape({service_name:p().required("menu name is required")});function ds({open:s,setOpen:A,title:D,edit:d,setEdit:c,serviceList:k,moduleList:N,id:x,menuRoleList:m,moduleId:I,menuRoleId:o,moduleName:O,roleId:f,apiId:P}){var g,j,l,S,u;const[h,r]=a.useState(""),w=te({}),b=te({}),E=Z({defaultValues:{service_name:""},resolver:ee(ns)}),{reset:_}=E;a.useEffect(()=>{var t,n;if(s){if(d&&x){const v=(n=(t=m==null?void 0:m.data)==null?void 0:t.data)==null?void 0:n.find(V=>V.id===x);v&&_({service_name:v.menu_role_name||""})}else _({service_name:""});r("")}},[s,d,x,m,_]);const M=async t=>{var n,v,V;try{const Y=d?"EditModuleList":"AddmoduleList",G=d&&x?{...t,moduleId:x}:{...t,moduleId:I},R=await w.mutateAsync({api:Y,data:G});(n=R==null?void 0:R.data)!=null&&n.success?(F.success((v=R==null?void 0:R.data)==null?void 0:v.message),A(!1),c(!1),k.refetch()):F.error((V=R==null?void 0:R.data)==null?void 0:V.message)}catch(Y){F.error(le(Y))}},y=H({api:(g=T)==null?void 0:g.getPermitedApiList,key:"permitedApiList",config:{roleId:o,moduleId:I},options:{enabled:!0}}),U=async(t,n,v)=>{var V,Y,G,R;console.log(v);try{const se={isSuspended:v,apiId:t,roleId:o,moduleId:I},K=await b.mutateAsync({api:(V=T)==null?void 0:V.addRemoveApiPermission,data:se});(Y=K==null?void 0:K.data)!=null&&Y.status?(F.success(((G=K==null?void 0:K.data)==null?void 0:G.message)||"Permission updated successfully"),y.refetch()):F.error(((R=K==null?void 0:K.data)==null?void 0:R.message)||"Failed to update permission")}catch(se){F.error(le(se))}},i=((l=(j=y==null?void 0:y.data)==null?void 0:j.data)==null?void 0:l.filter(t=>{var n;return(n=t.end_point)==null?void 0:n.toLowerCase().includes(h.toLowerCase())}))||[],W=t=>{r(t.target.value)},$=()=>{r("")};return e.jsx(je,{open:s,setOpen:A,title:D,setEdit:c,edit:d,children:e.jsx(ue,{methods:E,onSubmit:E.handleSubmit(M),children:e.jsxs("div",{className:"grid grid-cols-1 gap-x-2 gap-y-4",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",placeholder:"Search API endpoints...",value:h,onChange:W,className:"w-full rounded-md border border-gray-300 px-3 py-2 focus:border-transparent focus:outline-none focus:ring-2 focus:ring-blue-500"}),h&&e.jsx("button",{onClick:$,className:"absolute right-2 top-1/2 -translate-y-1/2 transform text-gray-400 hover:text-gray-600",type:"button",children:"âœ•"})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[i.length," of"," ",((u=(S=y==null?void 0:y.data)==null?void 0:S.data)==null?void 0:u.length)||0," endpoints"]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full table-auto border-collapse border border-gray-300",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-200",children:[e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Sl."}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Api End Point"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Restrict"})]})}),e.jsx("tbody",{children:i.length>0?i.map((t,n)=>e.jsxs("tr",{className:"hover:bg-gray-100",children:[e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:n+1}),e.jsx("td",{className:`border border-gray-300 px-4 py-2 ${t.is_suspended?"text-black":"text-green-600"}`,children:h?e.jsx("span",{dangerouslySetInnerHTML:{__html:t.end_point.replace(new RegExp(`(${h})`,"gi"),'<mark class="bg-yellow-200">$1</mark>')}}):t.end_point}),e.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:t.is_suspended?e.jsx("button",{className:"rounded-md bg-green-200 px-2 py-1 text-xs font-bold text-green-600 hover:bg-green-100",onClick:()=>U(t.id,t.menu_role_id,!t.is_suspended),children:"Add"}):e.jsx("button",{className:"rounded-md bg-red-200 px-2 py-1 text-xs font-bold text-red-600 hover:bg-red-100",onClick:()=>U(t.id,t.menu_role_id,!t.is_suspended),children:"Remove"})})]},t.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"py-4 text-center",children:h?`No API endpoints found matching "${h}"`:"No data available"})})})]})})]})})})}J().shape({ulbId:p(),moduleId:p(),complaintRefNo:p()});function rs(s){var $,g,j,l,S;const[A,D]=a.useState(1),[d,c]=a.useState(10),[k,N]=a.useState(!1),[x,m]=a.useState(""),[I,o]=a.useState(!1),[O,f]=a.useState(!1),[P,h]=a.useState(null),[r,w]=a.useState(1),[b,E]=a.useState(10),_=100,M=u=>{w(u)},y=u=>{E(u),w(1)},U=H({api:($=T)==null?void 0:$.getMenuMasterList,key:"menuMasterList",options:{enabled:!0}}),i=H({api:(g=T)==null?void 0:g.getPermitedApiList,key:"permitedApiList",config:{roleId:s==null?void 0:s.id,moduleId:s==null?void 0:s.moduleId},options:{enabled:!0}}),W=u=>{h(u),f(!0)};return console.log(s==null?void 0:s.moduleName),e.jsx("main",{className:"grid items-start ",children:e.jsxs("div",{className:"grid auto-rows-max items-start gap-4 md:gap-2 lg:col-span-2",children:[e.jsx("div",{children:e.jsx("div",{className:"flex justify-end ",children:e.jsx(z,{type:"button",className:"flex items-center gap-2",onClick:()=>{m(""),o(!1),N(!0)},children:"Add More Restrict API"})})}),e.jsx(ds,{open:k,setOpen:N,title:I?"Edit Menu":"Restrict Api",id:x,edit:I,setEdit:o,moduleId:s==null?void 0:s.moduleId,menuRoleId:s==null?void 0:s.id,moduleName:s==null?void 0:s.moduleName}),e.jsx(ne,{className:"",children:e.jsx(de,{children:U.isLoading?e.jsx("div",{className:"flex h-32 items-center justify-center",children:e.jsx(re,{})}):e.jsxs(e.Fragment,{children:[e.jsxs(ce,{children:[e.jsx(ie,{children:e.jsxs(X,{children:[e.jsx(q,{className:"",children:"#"}),e.jsx(q,{className:"",children:"Api end point"}),e.jsx(q,{className:"",children:"Actions"})]})}),e.jsx(oe,{children:(S=(l=(j=i==null?void 0:i.data)==null?void 0:j.data)==null?void 0:l.filter(u=>(u==null?void 0:u.is_suspended)===!1))==null?void 0:S.map((u,t)=>e.jsxs(X,{children:[e.jsx(B,{children:A*d-d+t+1}),e.jsx(B,{children:u==null?void 0:u.end_point}),e.jsxs(B,{children:[e.jsxs(z,{variant:"secondary",onClick:()=>{m(u==null?void 0:u.id),o(!0),N(!0)},children:[e.jsx(me,{})," Edit"]}),e.jsxs(z,{onClick:()=>W(u),className:"ml-2",variant:"secondary",children:[e.jsx(ge,{})," View"]})]})]},u==null?void 0:u.id))})]}),e.jsx(Q,{className:"mb-2 mt-4"}),e.jsx("div",{className:"flex w-full justify-end",children:e.jsx(xe,{currentPage:r,totalItems:_,itemsPerPage:b,onPageChange:M,onItemsPerPageChange:y})})]})})})]})})}const cs=J().shape({ulbId:p(),moduleId:p(),complaintRefNo:p()});function is(s){var S,u,t;const[A,D]=a.useState(1),[d,c]=a.useState(10),[k,N]=a.useState(!1),[x,m]=a.useState(""),[I,o]=a.useState(!1),[O,f]=a.useState(!1),[P,h]=a.useState(null),[r,w]=a.useState(!1),[b,E]=a.useState(!1),[_,M]=a.useState(1),[y,U]=a.useState(10),i=100,{moduleId:W}=s,$=n=>{M(n)},g=n=>{U(n),M(1)};console.log(s==null?void 0:s.moduleId,"props id"),console.log(W,"props id"),Z({resolver:ee(cs),defaultValues:{ulbId:"",moduleId:"",complaintTypeId:"",priorityId:"",targetTypeId:"",complaintSourceTypeId:"",fDate:"",toDate:"",complaintRefNo:""}});const j=H({api:(S=T)==null?void 0:S.serviceList,key:"serviceMasterList",config:{moduleId:s==null?void 0:s.mId},options:{enabled:!0}}),l=H({api:(u=T)==null?void 0:u.getWorkFlowList,key:"workFlowList",config:{moduleId:s==null?void 0:s.moduleId},options:{enabled:!0}});return console.log("the service maste rlist..",s==null?void 0:s.moduleName),e.jsx("main",{className:"grid items-start ",children:e.jsxs("div",{className:"grid auto-rows-max items-start gap-4 md:gap-2 lg:col-span-2 ",children:[e.jsx("div",{children:e.jsx("div",{className:"flex justify-end "})}),e.jsxs(Pe,{open:b,children:[e.jsx(we,{}),e.jsxs(Me,{className:"h-[700px] max-h-[700px] overflow-scroll sm:max-w-[1200px]",children:[e.jsx(ve,{className:" flex justify-between text-xl font-bold text-gray-500",children:e.jsxs("div",{children:["Module :"," ",e.jsx("span",{className:"text-lg font-bold text-yellow-500",children:s==null?void 0:s.moduleName})]})}),e.jsxs(ve,{className:" flex justify-between text-xl font-bold text-gray-500",children:[e.jsxs("div",{children:["Work Flow Role :"," ",e.jsx("span",{className:"text-lg font-bold text-yellow-500",children:r==null?void 0:r.role_name})]}),e.jsx("div",{children:e.jsx("span",{children:e.jsx(Ce,{className:"inline cursor-pointer rounded-lg hover:bg-red-100",onClick:()=>E(!1)})})})]}),e.jsxs(_e,{defaultValue:"MENULIST",className:"w-full",children:[e.jsx("div",{className:"flex justify-between py-4",children:e.jsx(Le,{className:"grid w-auto grid-cols-2",children:e.jsx(ke,{className:"rounded-lg px-2 data-[state=active]:bg-yellow-400 data-[state=active]:text-white",value:"MENULIST",children:"Restricted API List"})})}),e.jsx(Ee,{value:"MENULIST",children:e.jsx(rs,{moduleId:s==null?void 0:s.moduleId,id:x,moduleName:s==null?void 0:s.moduleName})})]})]})]}),e.jsx(ne,{children:e.jsx(de,{children:j.isLoading?e.jsx("div",{className:"flex h-32 items-center justify-center",children:e.jsx(re,{})}):e.jsxs(e.Fragment,{children:[e.jsxs(ce,{children:[e.jsx(ie,{children:e.jsxs(X,{children:[e.jsx(q,{className:"",children:"#"}),e.jsx(q,{className:"",children:"Workflow Name"}),e.jsx(q,{className:"",children:"Actions"})]})}),e.jsx(oe,{children:(t=l==null?void 0:l.data)==null?void 0:t.data.map((n,v)=>e.jsxs(X,{children:[e.jsx(B,{children:A*d-d+v+1}),e.jsx(B,{children:n==null?void 0:n.role_name}),e.jsxs(B,{children:[e.jsxs(z,{variant:"secondary",onClick:()=>{m(n==null?void 0:n.id),o(!0),N(!0)},children:[e.jsx(me,{})," Edit"]}),e.jsxs(z,{onClick:()=>{w(n),E(!0),m(n==null?void 0:n.id)},className:"ml-2",variant:"secondary",children:[e.jsx(ge,{})," View"]})]})]},n==null?void 0:n.id))})]}),e.jsx(Q,{className:"mb-2 mt-4"}),e.jsx("div",{className:"flex w-full justify-end",children:e.jsx(xe,{currentPage:_,totalItems:i,itemsPerPage:y,onPageChange:$,onItemsPerPageChange:g})})]})})})]})})}const os=J().shape({ulbId:p(),moduleId:p(),complaintRefNo:p()});function us(){var t,n,v,V,Y,G,R,se,K,fe;const[s,A]=a.useState(1),[D,d]=a.useState(10),[c,k]=a.useState(!1),[N,x]=a.useState(!1),[m,I]=a.useState(""),[o,O]=a.useState(""),[f,P]=a.useState(!1),[h,r]=a.useState(""),[w,b]=a.useState(1),[E,_]=a.useState(10),[M,y]=a.useState(!1),U=100,i=L=>{b(L)},W=L=>{_(L),b(1)},$=Z({resolver:ee(os),defaultValues:{ulbId:"",moduleId:"",complaintTypeId:"",priorityId:"",targetTypeId:"",complaintSourceTypeId:"",fDate:"",toDate:"",complaintRefNo:""}}),g=async L=>{console.log(L==null?void 0:L.moduleId),r(L.moduleId)},j=H({api:(t=T)==null?void 0:t.userManagementModuleList,key:"moduleMasterList",options:{enabled:!0}}),l=H({api:(n=T)==null?void 0:n.getMenuRoleList,key:"menuRoleList",options:{enabled:!0}}),S=H({api:(v=T)==null?void 0:v.serviceList,key:"serviceMasterList",config:{moduleId:m},options:{enabled:!!m}});console.log(c==null?void 0:c.id,"id");const u=(Y=(V=j==null?void 0:j.data)==null?void 0:V.data)==null?void 0:Y.filter(L=>L.id==h);return console.log(u),console.log((G=j==null?void 0:j.data)==null?void 0:G.data),e.jsx("main",{className:"grid items-start",children:e.jsxs("div",{className:"grid auto-rows-max items-start gap-4 md:gap-2 lg:col-span-2",children:[e.jsx(Pe,{open:M,children:e.jsx(we,{children:e.jsxs(Me,{className:"flex h-[90%] max-h-[90%] flex-col overflow-hidden sm:max-w-[1200px]",children:[e.jsxs(ve,{className:"flex justify-between border-b pb-2 text-xl font-bold text-gray-500",children:[e.jsxs("div",{children:["Module :"," ",e.jsx("span",{className:"text-lg font-bold text-yellow-500",children:c==null?void 0:c.module_name})]}),e.jsx("div",{children:e.jsx("span",{children:e.jsx(Ce,{className:"inline cursor-pointer rounded-lg hover:bg-red-100",onClick:()=>y(!1)})})})]}),e.jsxs($e,{defaultValue:"MENULIST",className:"flex flex-1 flex-col overflow-hidden",children:[e.jsxs(qe,{className:"mb-2 grid w-auto grid-cols-4",children:[e.jsx(ye,{className:"data-[state=active]:bg-yellow-400 data-[state=active]:text-white",value:"MENULIST",children:"Menu List Master"}),e.jsx(ye,{className:"data-[state=active]:bg-yellow-400 data-[state=active]:text-white",value:"SERVICE_LIST",children:"Service List Master"}),e.jsx(ye,{className:"data-[state=active]:bg-yellow-400 data-[state=active]:text-white",value:"ROLE_LIST",children:"Role List Master"}),e.jsx(ye,{className:"data-[state=active]:bg-yellow-400 data-[state=active]:text-white",value:"WORKFLOW_LIST",children:"WorkFlow Role List Master"})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto",children:[e.jsx(Se,{value:"MENULIST",children:e.jsx(He,{id:m,mid:c==null?void 0:c.id,setEdit:P,setOpen:x,edit:f,refetch:S==null?void 0:S.refetch,serviceList:S,moduleName:o,moduleId:c==null?void 0:c.id,menuRoleList:l})}),e.jsx(Se,{value:"SERVICE_LIST",children:e.jsx(Xe,{id:m,setEdit:P,setOpen:x,edit:f,refetch:S==null?void 0:S.refetch,serviceList:S,moduleId:c==null?void 0:c.id,moduleName:o,mId:m})}),e.jsx(Se,{value:"ROLE_LIST",children:e.jsx(ls,{id:m,setEdit:P,setOpen:x,edit:f,refetch:l==null?void 0:l.refetch,serviceList:l,moduleId:c==null?void 0:c.id,moduleName:o,mId:m})}),e.jsx(Se,{value:"WORKFLOW_LIST",children:e.jsx(is,{id:m,setEdit:P,setOpen:x,edit:f,refetch:l==null?void 0:l.refetch,serviceList:l,moduleId:c==null?void 0:c.id,moduleName:o,mId:m})})]})]})]})})}),e.jsxs(ne,{children:[e.jsx(ue,{methods:$,onSubmit:$.handleSubmit(g),children:e.jsxs("div",{className:"grid grid-cols-4 gap-x-2 gap-y-4 bg-background px-10 pt-4",children:[e.jsxs("div",{children:[e.jsx(De,{htmlFor:"moduleId",children:"Module name"}),e.jsx(Ie,{className:"cursor-pointer bg-background",name:"moduleId",data:((se=(R=j.data)==null?void 0:R.data)==null?void 0:se.map(L=>({value:L==null?void 0:L.id,label:L==null?void 0:L.module_name})))??[]})]}),e.jsx("div",{className:"mt-6 flex justify-start",children:e.jsx(Ne,{variant:"secondary",isLoading:$.formState.isSubmitting,type:"submit",className:"float-right w-auto px-10",children:"Search"})}),e.jsx("div",{className:"mt-6 flex justify-end "}),e.jsx(Je,{open:N,setOpen:x,title:f?"Edit Module":"Add Module",id:m,edit:f,setEdit:P,serviceList:S,moduleList:j})]})}),e.jsx(Re,{className:"px-7",children:e.jsx(Ve,{})}),e.jsx(de,{children:S.isLoading?e.jsx("div",{className:"flex h-32 items-center justify-center",children:e.jsx(re,{})}):e.jsxs(e.Fragment,{children:[e.jsxs(ce,{children:[e.jsx(ie,{children:e.jsxs(X,{children:[e.jsx(q,{className:"",children:"#"}),e.jsx(q,{className:"",children:"Module"}),e.jsx(q,{className:"",children:"Actions"})]})}),e.jsx(oe,{children:(fe=(u==null?void 0:u.length)>0?u:(K=j==null?void 0:j.data)==null?void 0:K.data)==null?void 0:fe.map((L,C)=>e.jsxs(X,{children:[e.jsx(B,{children:s*D-D+C+1}),e.jsx(B,{children:L==null?void 0:L.module_name}),e.jsx(B,{children:e.jsxs(z,{variant:"secondary",onClick:()=>{I(L==null?void 0:L.id),O(L==null?void 0:L.module_name),k(L),y(!0)},className:"ml-2",children:[e.jsx(ge,{})," View"]})})]},L==null?void 0:L.id))})]}),e.jsx(Q,{className:"mb-2 mt-4"}),e.jsx("div",{className:"flex w-full justify-end",children:e.jsx(xe,{currentPage:w,totalItems:U,itemsPerPage:E,onPageChange:i,onItemsPerPageChange:W})})]})})]})]})})}function ks(){return e.jsx(pe,{title:"Module List (master)",subTitle:"Control all Module here",children:e.jsx("div",{children:e.jsx(us,{})})})}export{ks as default};
