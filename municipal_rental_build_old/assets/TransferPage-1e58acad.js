import{r as d,h as y,t as C,d as F,e as H,V as t,j as T,k as _,a as z}from"./index-01d78755.js";function J(){const[P,i]=d.useState(!1),l=y(),{api_getFreeMenuList:U}=z(),{setmenuList:V}=d.useContext(C);d.useEffect(()=>{let u=window.localStorage.getItem("token");if(i(!0),u==null){l("/");return}q()},[]);const q=()=>{let u={moduleId:28};F.post(U,u,H()).then(function(a){var c,m,f,g,L,r,e,x,D,h,I,N,b,S,j,k,A,E,M,v,w,B;a.data.status==!0&&(t("menuList",(m=(c=a==null?void 0:a.data)==null?void 0:c.data)==null?void 0:m.permission),t("userName",(L=(g=(f=a==null?void 0:a.data)==null?void 0:f.data)==null?void 0:g.userDetails)==null?void 0:L.userName),t("roles",(x=(e=(r=a==null?void 0:a.data)==null?void 0:r.data)==null?void 0:e.userDetails)==null?void 0:x.roles),t("userUlbName",(I=(h=(D=a==null?void 0:a.data)==null?void 0:D.data)==null?void 0:h.userDetails)==null?void 0:I.ulb),t("userMobile",(S=(b=(N=a==null?void 0:a.data)==null?void 0:N.data)==null?void 0:b.userDetails)==null?void 0:S.mobileNo),t("userEmail",(A=(k=(j=a==null?void 0:a.data)==null?void 0:j.data)==null?void 0:k.userDetails)==null?void 0:A.email),t("userImage",(v=(M=(E=a==null?void 0:a.data)==null?void 0:E.data)==null?void 0:M.userDetails)==null?void 0:v.imageUrl),V((B=(w=a==null?void 0:a.data)==null?void 0:w.data)==null?void 0:B.permission),l("/home")),i(!0)}).catch(function(a){i(!0)})};if(P)return T(_,{})}export{J as default};
