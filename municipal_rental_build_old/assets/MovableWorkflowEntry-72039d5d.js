import{r as x,c as g,b as I,u as z,d as C,e as k,Q as s,j as a,f as L,A as S,P as B,B as V,n as r,a as H}from"./index-01d78755.js";function U(c){const{api_movableZoneSubmit:p,api_movableApplicationFullDetailById:m}=S(),[y,h]=x.useState(!1),[A,d]=x.useState(),[D,f]=x.useState(),v=g({zone:I().required("This is required field")}),b={applicationId:c==null?void 0:c.applicationId,zone:""},l=z({initialValues:b,onSubmit:t=>{f(t),_(t)},validationSchema:v}),_=t=>{i(!0),C.post(`${p}`,t,k()).then(function(o){o.data.status?(d(o.data.status),w(t.applicationId),n("Zone Updated Successfully","success")):n("Update Failed","notice"),i(!1)}).catch(function(o){i(!1)})},w=t=>{i(!0);const o={applicationId:t};C.post(`${m}`,o,k()).then(function(u){u.data.status?(d(u.data.data.zone),n("Application Details Fetched Successfully","success")):n("Failed to fetch application details","error"),i(!1)}).catch(function(u){i(!1),n("Failed to fetch application details","error")})},i=t=>{h(t)},n=(t,o)=>{s.dismiss(),o=="escalated"&&s.success(t),o=="success"&&s.success(t),o=="de-escalated"&&s.warn(t),o=="notice"&&s.warn(t),o=="error"&&s.error(t)};return a("div",{className:"w-full  h-screen",children:a("form",{onSubmit:l.handleSubmit,children:a("div",{className:"grid grid-cols-1 w-full text-center",children:L("div",{className:"w-full",children:[a("h1",{className:"bg-red-100 px-4 py-1.5 rounded-sm shadow-sm text-sm",children:"ðŸ‘‰Update zone for this application.ðŸ‘ˆ"}),L("select",{className:"px-2 py-1.5 border rounded w-1/3 mx-auto my-4",name:"zone",value:l.values.zone,onChange:l.handleChange,children:[a("option",{value:"",children:"Select a Zone"}),a("option",{value:1,children:"A"}),a("option",{value:2,children:"B"}),a("option",{value:3,children:"C"})]}),a("p",{children:l.touched.zone&&l.errors.zone?l.errors.zone:null}),a("button",{type:"submit",className:"px-2 py-1 rounded w-1/3 mx-auto  bg-indigo-500 hover:bg-indigo-600",children:"Submit"})]})})})})}function j(){const{api_postDepartmental:c,api_getDepartmentalData:p,api_fieldVerificationList:m}=H(),{api_workflowInfo:y,api_movableInboxList:h,api_movableOutboxList:A,api_movableApplicationFullDetailById:d,api_movableEscalateApplication:D,api_movableIndependentComment:f,api_movableSpecialboxList:v,api_movablePostNextLevel:b,api_movableViewDocuments:l,api_movableUploadDocuments:_,api_movableVerifyDocument:w,api_movableApprovedReject:i,api_movableBTC:n,api_movableBTCList:t,api_uploadVehicleDocumentShow:o}=S();return a(B,{workflowData:{api:{api_inboxList:{method:"post",url:h},api_outboxList:{method:"post",url:A},api_specialList:{method:"post",url:v},apt_btcList:{method:"post",url:t},api_fieldVerificationList:{method:"post",url:m},api_details:{method:"post",url:d},api_workflowInfo:{method:"post",url:y},api_independentComment:{method:"post",url:f},api_sendLevel:{method:"post",url:b},api_escalate:{method:"post",url:D},api_btc:{method:"post",url:n},api_approveReject:{method:"post",url:i},api_postDepartmentalData:{method:"post",url:c},api_getDepartmentalData:{method:"post",url:p},api_uploadDocumentShow:{method:"post",url:o},api_uploadDocument:{method:"post",url:_},api_verifyDocuments:{method:"post",url:w},api_documentList:{method:"post",url:l},documentBaseUrl:V},workflow:{workflowName:"Movable Workflow",workflowId:19,moduleId:28,fullDetailsUrl:"/advertisement/movableApplicationDetail"},tableColumns:[{Header:"#",Cell:({row:e})=>a("div",{className:"pr-2",children:e.index+1})},{Header:"Application No.",accessor:"application_no",Cell:e=>r(e==null?void 0:e.value)},{Header:"Applicant Name",accessor:"applicant",Cell:e=>r(e==null?void 0:e.value)},{Header:"Entity Name",accessor:"entity_name",Cell:e=>r(e==null?void 0:e.value)},{Header:"Applied Date",accessor:"application_date",Cell:e=>r(e==null?void 0:e.value)},{Header:"Application Type",accessor:"application_type",Cell:({cell:e})=>a("div",{className:" rounded-full shadow-lg h-7 mx-auto w-7 font-semibold text-center py-1 text-sm px-1 -ml-1 "+(e.row.values.application_type=="New Apply"?"bg-sky-200 text-sky-900 ":"")+(e.row.values.application_type=="Renew"?"bg-indigo-200 text-indigo-900 ":""),children:Array.from(e.row.values.application_type)[0]}),Cell:e=>r(e==null?void 0:e.value)}],customTabs:{label:"Select Zone",tabComponent:(e,N)=>a(U,{applicationId:e,workflowData:N})}}})}export{j as default};
