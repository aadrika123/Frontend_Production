"use strict";(self.webpackChunkcitizen_landing=self.webpackChunkcitizen_landing||[]).push([[7044],{70894:function(e,a,l){var t=l(29439),s=l(31243),o=l(72791),i=l(70348),n=l(40399),r=l(64491),d=l(23178),c=l(71507),p=l(25229),u=l(80184);a.Z=function(e){var a,l,x=(0,d.Z)(),h=x.api_getHoardingApplicationFullDetail,g=x.api_getHoardingAppliedDocumentList;console.log("application data in list application",e.data);var m=(0,o.useState)(),v=(0,t.Z)(m,2),f=v[0],j=v[1],b=(0,o.useState)(),N=(0,t.Z)(b,2),y=N[0],w=N[1],Z=(0,o.useState)(!1),S=(0,t.Z)(Z,2),P=S[0],k=S[1],D=(0,o.useState)(!1),A=(0,t.Z)(D,2),C=A[0],_=A[1],F=e.data,M=e.applicationType;console.log("onclick close modal",e.closeModal),console.log("application id..1",F),console.log("application type",M),(0,o.useEffect)((function(){H()}),[]);var H=function(){_(!1),k(!0),console.log("application no through props..",null===e||void 0===e?void 0:e.data);var a={applicationId:F,type:M};console.log("request body for application full detail",a),s.Z.post("".concat(h),a,(0,c.Z)()).then((function(e){console.log("application view details 1",e),j(e.data.data),k(!1)})).catch((function(e){console.log("errorrr.... ",e),_(!0),k(!1)}))};console.log("details of application...hoarding",null===f||void 0===f?void 0:f.fullDetailsData),(0,o.useEffect)((function(){L()}),[]);var L=function(){var e={applicationId:F,type:M};s.Z.post("".concat(g),e,(0,c.Z)()).then((function(e){console.log("document list 22",e.data.data),w(e.data.data)})).catch((function(e){console.log("errorrr.... ",e)}))};return P?(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(n.Z,{})}):C?(0,u.jsx)(r.Z,{children:(0,u.jsx)(p.Z,{title:"Server is busy",desc:"Server is too busy to respond. Please try again later.",buttonText:"View Dashboard",buttonUrl:"/propertyDashboard"})}):(console.log("document list...2",y),(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:"border border-violet-400 shadow-lg rounded leading-5 z-50",children:[(0,u.jsxs)("div",{className:" shadow-md shadow-violet-200 p-2 ",children:[(0,u.jsx)("h1",{className:"text-2xl px-4 font-semibold text-gray-700 ",children:"Application Details"}),(0,u.jsx)("h1",{className:"text-xs px-4 text-gray-500",children:"Review your application"}),(0,u.jsx)("button",{className:"float-right -mt-9 mr-4",onClick:function(){e.closeModal()},children:(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 bg-red-400 text-white  shadow-lg  rounded-full",children:(0,u.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),(0,u.jsx)("div",{className:"ml-96"}),e.showLoader,(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-12 lg:grid-cols-12 p-4 gap-4",children:[(0,u.jsxs)("div",{className:"col-span-7 ",children:[(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 p-4 bg-violet-100 rounded leading-5",children:[(0,u.jsxs)("div",{className:"flex ",children:[(0,u.jsx)("h1",{className:"font-normal text-md ",children:"Application No."}),(0,u.jsx)("h1",{className:"font-bold text-lg text-gray-900 ml-4 -mt-1",children:null===f||void 0===f?void 0:f.application_no})]}),(0,u.jsxs)("div",{className:"flex",children:[(0,u.jsx)("h1",{className:"font-normal text-md ",children:"Apply Date"}),(0,u.jsx)("h1",{className:"font-bold text-lg text-gray-900 ml-4 -mt-1",children:null===f||void 0===f?void 0:f.apply_date})]})]}),null===f||void 0===f||null===(a=f.fullDetailsData)||void 0===a||null===(l=a.dataArray)||void 0===l?void 0:l.map((function(e){var a;return(0,u.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-3 container mx-auto bg-white rounded leading-5 p-2 mt-4",children:null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.map((function(e){return(0,u.jsxs)("div",{className:"bg-violet-100 border border-white p-2",children:[(0,u.jsxs)("h1",{className:"font-bold text-lg text-gray-900 ",children:[(null===e||void 0===e?void 0:e.value)||"N/A"," "]}),(0,u.jsx)("h1",{className:" font-normal text-sm text-gray-600 ",children:null===e||void 0===e?void 0:e.displayString})]})}))})}))]}),(0,u.jsxs)("div",{className:"col-span-5 bg-white rounded leading-5",children:[(0,u.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-1 bg-violet-100 p-4 rounded leading-5 container",children:(0,u.jsx)("div",{className:"   ",children:(0,u.jsx)("h1",{className:"font-semibold text-gray-800 text-lg text-center ",children:"Documents Uploaded"})})}),null===y||void 0===y?void 0:y.map((function(e){return(0,u.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-1 p-4 bg-white  rounded leading-5",children:(0,u.jsxs)("div",{className:"flex  bg-violet-100",children:[(0,u.jsx)("h1",{className:"flex-1 font-semibold text-sm text-gray-600 p-6 uppercase",children:null===e||void 0===e?void 0:e.doc_val}),(0,u.jsx)("h1",{className:"flex-1 ",children:(0,u.jsx)("embed",{className:"w-16 h-16 float-right",src:"".concat(i.Z,"/").concat(null===e||void 0===e?void 0:e.doc_path)})})]})})}))]})]})]})}))}},37044:function(e,a,l){l.r(a),l.d(a,{default:function(){return N}});var t=l(29439),s=l(72791),o=l(97948),i=l.n(o),n=l(70894),r=l(31243),d=(l(7058),l(57689)),c=l(75985),p=l(10917),u=l(23178),x=l(71507),h=l(80184),g={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"",border:"none"}};var m=function(e){var a,l,o,n,m,v,f=s.useState(!1),j=(0,t.Z)(f,2),b=j[0],N=j[1],y=(0,u.Z)().api_getHoardingOrderIdForPayment,w=(0,s.useState)(),Z=(0,t.Z)(w,2),S=(Z[0],Z[1]),P=(0,d.s0)();function k(){N(!1)}(0,s.useEffect)((function(){e.openPaymentModal>0&&N(!0)}),[e.openPaymentModal]),console.log("payment card details",null===e||void 0===e?void 0:e.applicationDetails);var D=function(e,a){c.Am.dismiss(),"success"==a&&c.Am.success(e),"error"==a&&c.Am.error(e)},A=function(a){var l;(console.log("Payment Status =>",a),1==(null===a||void 0===a?void 0:a.status))?(P("/paymentScreen/".concat(a.data.razorpay_payment_id,"/").concat(null===e||void 0===e||null===(l=e.applicationDetails)||void 0===l?void 0:l.workflow_id)),D("Payment Successfull","success")):(c.Am.error("Payment failed...."),D("Payment Failed","error"),P("/advertDashboard"))};return(0,h.jsx)("div",{className:"",children:(0,h.jsx)(i(),{isOpen:b,onAfterOpen:function(){},onRequestClose:k,style:g,contentLabel:"Example Modal",children:(0,h.jsx)("div",{className:"bg-violet-200 text-slate-50 drop-shadow-2xl border border-violet-500 p-5 m-5 rounded-md",children:(0,h.jsxs)("div",{className:"",children:[(0,h.jsxs)("div",{className:"shadow-md shadow-violet-300 py-1 pl-3 bg-white border-gray-400 text-gray-600 flex",children:["Make Payment For",(0,h.jsxs)("span",{className:"font-bold text-md ml-4 uppercase ",children:[null===e||void 0===e||null===(a=e.applicationDetails)||void 0===a?void 0:a.type," "]})]}),(0,h.jsxs)("div",{className:"md:flex block w-full h-56",children:[(0,h.jsxs)("div",{className:"grid grid-cols-12 px-8 pt-3 leading-8 ",children:[(0,h.jsx)("div",{className:"md:col-span-6 col-span-12",children:(0,h.jsxs)("div",{className:"grid grid-cols-12",children:[(0,h.jsxs)("div",{className:"col-span-6  text-gray-600",children:[(0,h.jsx)("p",{children:"Application No. -"}),(0,h.jsx)("p",{children:"Applied date -"})]}),(0,h.jsxs)("div",{className:"col-span-6 text-gray-500 font-bold",children:[(0,h.jsxs)("p",{children:[null===e||void 0===e||null===(l=e.applicationDetails)||void 0===l?void 0:l.application_no," "]}),(0,h.jsx)("p",{children:null===e||void 0===e||null===(o=e.applicationDetails)||void 0===o?void 0:o.application_date})]})]})}),(0,h.jsx)("div",{className:"md:col-span-6 col-span-12",children:(0,h.jsxs)("div",{className:"grid grid-cols-12",children:[(0,h.jsx)("div",{className:"col-span-6  text-gray-600",children:(0,h.jsx)("p",{children:"Approve Date -"})}),(0,h.jsx)("div",{className:"col-span-6 text-gray-500 font-bold",children:(0,h.jsxs)("p",{children:[null===e||void 0===e||null===(n=e.applicationDetails)||void 0===n?void 0:n.approve_date,"  "]})})]})}),(0,h.jsx)("div",{className:"md:col-span-6 col-span-12",children:(0,h.jsx)("div",{className:"grid grid-cols-12",children:(0,h.jsx)("div",{className:"col-span-6  text-gray-600",children:(0,h.jsx)("h1",{className:"font-bold text-lg ",children:"Payable Amount"})})})}),(0,h.jsx)("div",{className:"md:col-span-6 col-span-12",children:(0,h.jsx)("div",{className:"grid grid-cols-12",children:(0,h.jsx)("div",{className:"col-span-6  text-gray-600",children:(0,h.jsx)("h1",{className:"font-bold text-lg bg-violet-300 px-2 ",children:null===e||void 0===e||null===(m=e.applicationDetails)||void 0===m?void 0:m.payment_amount})})})}),(0,h.jsx)("div",{className:"md:col-span-6 col-span-12",children:(0,h.jsx)("div",{className:"grid grid-cols-12",children:(0,h.jsxs)("div",{className:"col-span-6  text-gray-600",children:[(0,h.jsx)("button",{onClick:k,className:"mx-2 bg-red-600 hover:bg-red-700 transition duration-200 hover:scale-105 font-normal text-white px-6 py-1 text-sm  rounded-sm shadow-xl",children:"Cancel"}),(0,h.jsx)("button",{onClick:function(e){console.log("payment id on click pay",e.target.id);var a={id:e.target.id};r.Z.post("".concat(y),a,(0,x.Z)()).then((function(e){console.log("generate order id",e.data),1==e.data.status&&(console.log("OrderId Generated True",e.data),(0,p.Z)(e.data.data,A)),S(e)})).catch((function(e){alert("Backend Server error. Unable to Generate Order Id")}))},id:null===e||void 0===e||null===(v=e.applicationDetails)||void 0===v?void 0:v.id,className:"mx-2 bg-indigo-600 hover:bg-indigo-700 transition duration-200 hover:scale-105 font-normal text-white px-6 py-1 text-sm  rounded-sm shadow-xl",children:"Pay Now"})]})})}),(0,h.jsx)("div",{className:"md:col-span-6 col-span-12",children:(0,h.jsx)("div",{className:"grid grid-cols-12",children:(0,h.jsx)("div",{className:"col-span-6  text-gray-600",children:(0,h.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/256/7057/7057515.png",className:"h-16"})})})})]}),(0,h.jsx)("div",{className:"",children:(0,h.jsx)("div",{className:""})})]})]})})})})},v=l(800),f=l(40399),j=l(64491),b=l(25229);var N=function(){var e=(0,s.useState)(),a=(0,t.Z)(e,2),l=a[0],o=a[1],d=(0,s.useState)(),c=(0,t.Z)(d,2),p=c[0],g=c[1],N=(0,u.Z)(),y=N.api_getHoardingUnpaidApplicationList,w=N.api_getHoardingApplicationDetailForPayment,Z=(0,s.useState)([]),S=(0,t.Z)(Z,2),P=S[0],k=S[1],D=(0,s.useState)(),A=(0,t.Z)(D,2),C=A[0],_=A[1],F=(0,s.useState)(!1),M=(0,t.Z)(F,2),H=(M[0],M[1]),L=(0,s.useState)(!1),I=(0,t.Z)(L,2),T=I[0],O=I[1],E=(0,s.useState)(!1),z=(0,t.Z)(E,2),G=z[0],R=z[1],U=(0,s.useState)(!1),B=(0,t.Z)(U,2),V=B[0],q=B[1],J=function(){return O(!1)},K=(0,s.useState)(0),Q=(0,t.Z)(K,2),W=Q[0],X=Q[1],Y=(0,s.useState)(!1),$=(0,t.Z)(Y,2),ee=$[0],ae=$[1],le=[{Header:"#",Cell:function(e){var a=e.row;return(0,h.jsx)("div",{className:"pr-2",children:a.index+1})}},{Header:"Application No",accessor:"application_no"},{Header:"Apply Date.",accessor:"application_date"},{Header:"Payment Amount",accessor:"payment_amount"},{Header:"Action",accessor:"id",Cell:function(e){var a=e.cell;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("button",{onClick:function(){return te(a.row.values.id,"Approve")},className:"bg-indigo-500 px-3 py-1 rounded leading-5 shadow-lg hover:shadow-xl hover:bg-indigo-700\r hover:text-white text-white",children:"View"}),(0,h.jsx)("button",{onClick:function(){return se(a.row.values.id)},className:"bg-indigo-500 ml-4 px-3 py-1 rounded leading-5 shadow-lg hover:shadow-xl hover:bg-indigo-700\r hover:text-white text-white",children:"Pay"})]})}}],te=function(e,a){console.log("..............application id..............",e),console.log("..............application type..............",a),g(e),o(a),O(!0)},se=function(e){var a={applicationId:e};r.Z.post("".concat(w),a,(0,x.Z)()).then((function(e){console.log("application detail for payment 1",e),_(e.data.data),X((function(e){return e+1}))})).catch((function(e){console.log("errorrr.... ",e)}))};return(0,s.useEffect)((function(){q(!1),R(!0),r.Z.post(y,{},(0,x.Z)()).then((function(e){console.log("res",e.data),e.data.status&&(k(e.data.data),ae(!0),R(!1))})).catch((function(e){console.log(e),q(!0),R(!1)}))}),[]),G?(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(f.Z,{})}):V?(0,h.jsx)(j.Z,{children:(0,h.jsx)(b.Z,{title:"Server is busy",desc:"Server is too busy to respond. Please try again later.",buttonText:"View Dashboard",buttonUrl:"/propertyDashboard"})}):(console.log("unpaid application full list",null===P||void 0===P?void 0:P.data),(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("div",{className:"container bg-white text-gray-600 h-screen mx-auto mt-16",children:(0,h.jsxs)("div",{children:[(0,h.jsx)(m,{openPaymentModal:W,applicationDetails:C}),(0,h.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-12 lg:grid-cols-12 gap-4 container mx-auto pt-4 ",children:(0,h.jsx)("div",{className:"col-span-12 p-2",children:(0,h.jsxs)("div",{className:"flex flex-row bg-white mb-4 rounded leading-5 shadow-md shadow-violet-100 ",children:[(0,h.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/3288/3288006.png",className:"h-10 ml-3 mt-2"}),(0,h.jsx)("h1",{className:"text-xl text-gray-700 font-semibold p-4",children:"HOARDING UNPAID APPLICATIONS"})]})})}),(0,h.jsx)("div",{className:"grid grid-cols-1 p-2",children:ee&&(0,h.jsx)(v.Z,{assessmentType:!1,columns:le,dataList:null===P||void 0===P?void 0:P.data})}),(0,h.jsx)("div",{className:"grid grid-cols-1",children:(0,h.jsx)(i(),{isOpen:T,onAfterOpen:function(){},onRequestClose:J,contentLabel:"Example Modal",children:(0,h.jsx)("div",{class:" rounded-lg shadow-xl border-2 border-gray-50 mx-auto px-0 ",style:{width:"80vw",height:"100%"},children:(0,h.jsx)("div",{className:"h-[44rem] bg-white overflow-y-auto",children:(0,h.jsx)(n.Z,{data:p,applicationType:l,showLoader:function(e){H(e)},closeModal:J})})})})})]})})}))}},7058:function(e,a,l){l(72791),l(80184)},800:function(e,a,l){l.d(a,{Z:function(){return p}});var t=l(1413),s=l(29439),o=l(72791),i=l(71358),n=l(78820),r=l(98472),d=l(80184);var c=function(e){var a=e.filter,l=e.setFilter;return(0,d.jsxs)("div",{className:"px-1",children:["Search : "," ",(0,d.jsx)("input",{className:"border border-gray-300 px-2  bg-gray-50 shadow-lg rounded leading-5 py-1.5 ",type:"text",value:a||"",onChange:function(e){return l(e.target.value)}})]})};var p=function(e){var a=(0,o.useState)("hidden"),l=(0,s.Z)(a,2),p=l[0],u=l[1],x=(0,o.useMemo)((function(){return e.columns}),[]),h=(0,o.useMemo)((function(){return e.dataList}),[e.dataList]);(0,o.useEffect)((function(){k(5)}),[]);var g=(0,i.useTable)({columns:x,data:h,initialState:{pageIndex:0}},i.useGlobalFilter,i.useSortBy,i.usePagination),m=(g.getTableProps,g.getTableBodyProps),v=g.headerGroups,f=g.page,j=g.nextPage,b=g.previousPage,N=g.canNextPage,y=g.canPreviousPage,w=g.prepareRow,Z=g.pageOptions,S=g.gotoPage,P=g.pageCount,k=g.setPageSize,D=g.state,A=g.setGlobalFilter,C=D.globalFilter,_=D.pageIndex,F=D.pageSize;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"flex mb-2 pb-2",children:[(0,d.jsx)("div",{className:"flex-initial",children:(0,d.jsx)(c,{filter:C,setFilter:A})}),(0,d.jsx)("div",{className:"flex-initial ml-2",children:(0,d.jsxs)("button",{className:"bg-sky-400 px-3 pr-3  shadow-lg rounded py-1 text-white hover:shadow-2xl hover:bg-green-600 text-center relative",onMouseEnter:function(){return u("")},onMouseLeave:function(){return u("hidden")},children:[(0,d.jsx)(r.CSVLink,{data:e.dataList,children:"Export"}),(0,d.jsx)("div",{className:p+" absolute h-full top-3 text-sm left-0 text-center animate-bounce",children:(0,d.jsx)(n.Duv,{})})]})}),(0,d.jsx)("div",{className:"flex-1",children:e.children})]}),(0,d.jsx)("div",{className:"overflow-x-auto bg-white",children:(0,d.jsxs)("div",{className:"inline-block min-w-full rounded-lg overflow-hidden bg-white",children:[(0,d.jsxs)("table",(0,t.Z)((0,t.Z)({},m),{},{className:"min-w-full leading-normal",children:[(0,d.jsx)("thead",{className:"font-bold text-left text-sm bg-violet-100 hover:bg-violet-100",children:null===v||void 0===v?void 0:v.map((function(e){return(0,d.jsx)("tr",(0,t.Z)((0,t.Z)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return(0,d.jsxs)("th",(0,t.Z)((0,t.Z)({},e.getHeaderProps(e.getSortByToggleProps())),{},{className:"px-2 py-3 border-b border-gray-200 text-gray-800  text-left text-xs uppercase text-left",children:[e.render("Header"),(0,d.jsx)("span",{children:e.isSorted?e.isSortedDesc?"\u2b06\ufe0f":"\u2b07\ufe0f":""})]}))}))}))}))}),(0,d.jsxs)("tbody",(0,t.Z)((0,t.Z)({},m()),{},{className:"text-sm",children:[" ",null===f||void 0===f?void 0:f.map((function(e){var a;return w(e),(0,d.jsx)("tr",(0,t.Z)((0,t.Z)({},e.getRowProps()),{},{className:"bg-white shadow-md border border-slate-100 hover:bg-slate-50 ",children:null===e||void 0===e||null===(a=e.cells)||void 0===a?void 0:a.map((function(e){return(0,d.jsx)("td",(0,t.Z)((0,t.Z)({},e.getCellProps()),{},{className:"px-2 py-2 text-sm text-left",children:e.render("Cell")}))}))}))})),(0,d.jsx)("tr",{children:(0,d.jsx)("td",{})})]}))]})),(0,d.jsxs)("div",{className:"mt-3 grid grid-cols-12",children:[(0,d.jsxs)("div",{className:"col-span-2 ml-2",children:["  ",(0,d.jsx)("select",{className:"h-10 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 ",value:F,onChange:function(e){return k(Number(e.target.value))},children:[5,10,25,50].map((function(e){return(0,d.jsxs)("option",{value:e,children:["show ",e]},e)}))})]}),(0,d.jsxs)("div",{className:"col-span-4 text-center col-start-5",children:["   ",(0,d.jsxs)("span",{children:["page ","",(0,d.jsxs)("strong",{children:[_+1," of ",Z.length]}),""]})]}),(0,d.jsxs)("div",{className:"col-span-4 text-right",children:[(0,d.jsxs)("button",{className:"cursor-pointer hover:bg-sky-300 p-2 hover:text-white",onClick:function(){return S(0)},disabled:!y,children:[(0,d.jsx)(n.xN8,{})," "]}),(0,d.jsx)("button",{className:(y?"opacity-100":"opacity-50")+" text-xl hover:bg-sky-300 hover:text-white",onClick:function(){return b()},disabled:!y,children:"\u2b05\ufe0f"}),(0,d.jsx)("button",{className:(N?"opacity-100":"opacity-50")+" text-xl hover:bg-sky-300 hover:text-white",onClick:function(){return j()},disabled:!N,children:"\u27a1\ufe0f"}),(0,d.jsxs)("button",{className:"cursor-pointer hover:bg-sky-300 p-2 hover:text-white",onClick:function(){return S(P-1)},disabled:!N,children:["  ",(0,d.jsx)(n.yci,{})]})]})]})]})})]})}}}]);
//# sourceMappingURL=7044.09101390.chunk.js.map