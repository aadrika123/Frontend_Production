import{a as f,h as n,j as e,b as p,A as b}from"./index-7f456209.js";import{C as j}from"./index-93abbe38.js";import{c as v,a as S,u as C}from"./index.esm-be8b4273.js";function N(s){var o;const{api_csvadd:c}=b,r=f(),{isOpen:d,toggle:i}=s;n.useState(!1),n.useState(null),n.useState(!1);const x={uploadCSV:""},u=v({uploadCSV:S().required("Upload CSV File")}),t=C({initialValues:x,onSubmit:a=>{const l=new FormData;l.append("uploadCSV",a.uploadCSV),m(l)},validationSchema:u}),m=async a=>{try{(await p.post(`${c}`,a)).status==200&&r("/csms/student/view")}catch(l){console.log(l)}},h=a=>{};return e.jsx(e.Fragment,{children:e.jsxs(j,{isOpen:d,children:[e.jsx("div",{toggle:i,className:" flex justify-between w-full px-64 py-[20px] text-[2.5vh] font-bold bg-[#115e59] text-white ",children:e.jsx("h1",{className:"w-full flex items-center justify-center",children:"Add Student CSV"})}),e.jsx("div",{className:"flex items-center  justify-center overflow-hidden bg-white  h-auto max-[606px]:h-[35vh]",children:e.jsx("div",{className:"block w-full m-[20px] max[784px]:m-[10]",children:e.jsxs("form",{className:"flex flex-col justify-center",onSubmit:t.handleSubmit,onChange:h,children:[e.jsx("div",{className:"w-full h-auto bg-white ",children:e.jsx("div",{className:"m-3 block",children:e.jsx("div",{className:"flex justify-center max-[425px]:block",children:e.jsxs("div",{className:" items-center justify-center block",children:[e.jsxs("label",{htmlFor:"uploadCSV",className:" h-[5vh] w-full flex justify-center border border-[#115e59] items-center px-4    rounded-l font-semibold cursor-pointer text-sm text-black tracking-widest  active:bg-white focus:outline-none focus:border-gray-900 focus:ring focus:ring-gray-300 disabled:opacity-25 transition ",children:[" ","Choose Student CSV File"]}),e.jsx("input",{type:"file",name:"uploadCSV",accept:".csv",id:"uploadCSV",className:"sr-only  ",value:t.values.uploadCSV[0],onChange:a=>{t.setFieldValue("uploadCSV",a.target.files[0])}}),e.jsxs("span",{className:"w-full flex items-center justify-center",children:[" ",t.values.uploadCSV?(o=t.values.uploadCSV)==null?void 0:o.name:"No file selected"]}),e.jsx("br",{}),e.jsx("span",{className:"text-red-600 text-xs ",children:t.touched.uploadCSV&&t.errors.uploadCSV?t.errors.uploadCSV:null})]})})})}),e.jsxs("div",{className:" w-full h-[8vh] flex items-center justify-center max-[768px]:block mb-5 max-[768px]:ml-5",children:[e.jsx("button",{type:"submit",className:"text-[2vh] bg-[#115e59] text-white border border-[#115e59]  py-[7px] px-[20px] rounded-[5px] m-[20px] hover:text-[#115e59] hover:border-[#115e59] hover:bg-white",children:"Upload"}),e.jsx("button",{onClick:()=>{i(),s!=null&&s.Link&&r(`${s==null?void 0:s.Link}`)},type:"cancel",className:"text-[2vh] border-red-600 border text-white bg-red-600 px-[20px] py-[7px]  rounded-[5px] hover:border-red-600 hover:bg-white hover:text-red-600",children:"Cancel"})]}),e.jsx("div",{className:"mb-5 w-full flex justify-center items-center max-[350px]:items-end max-[350px]:mt-12",children:e.jsxs("h1",{className:"text-gray-500",children:["Note : (",e.jsx("span",{className:"text-red-600",children:"*"}),") marks is mandatory."]})})]})})})]})})}export{N as S};
