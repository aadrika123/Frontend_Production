import{a as Y,h as i,j as s,L as P,b as l,A as M}from"./index-7f456209.js";import{P as G}from"./Page-602aa055.js";import{B as H}from"./Breadcrumb-8cadac2e.js";import{c as O,a as n,u as T,F as U,b as J}from"./index.esm-be8b4273.js";import{S as K}from"./StudentAdd-bfd6a4af.js";import{g as b}from"./index-3bf96aa8.js";import{S as r,a as u,L as Q}from"./LoadingButton-cc24ff28.js";import"./TextField-4b7b68fa.js";import"./index-93abbe38.js";function ne(){var h,j,g,y,v;const N=Y(),[q,a]=i.useState(!1),{api_category:S,api_class:I,api_financialYear:L,api_section:F,api_add_student:A}=M,[m,R]=i.useState(),[c,w]=i.useState(),[o,C]=i.useState(),[d,z]=i.useState(),[x,_]=i.useState(!1),p=()=>_(!x),$=O({fullName:n().required("Required"),fatherName:n().required("Required"),admissionNo:n().required("Required"),admissionDate:n().required("Required"),specialAbility:n().required("Required"),quotaId:n().required("Required")}),t=T({initialValues:{fullName:"",fatherName:"",admissionNo:"",fyId:"1",admissionDate:"",classId:"1",sectionId:"1",status:"1",gender:"1",specialAbility:"0",quotaId:"0",categoryId:"4"},onSubmit:async e=>{console.log("at submit",e);try{(await l.post(`${A}`,e)).status&&(N("/csms/student/view"),alert("Student Added Successfully"))}catch(f){console.log(f)}},validationSchema:$}),B=async()=>{try{a(!0);const e=await l.post(`${I}`,{});e.status==200&&(console.log(e.data),w(e.data.data)),a(!1)}catch(e){console.log(e),a(!1)}},D=async()=>{try{a(!0);const e=await l.post(`${L}`,{});e.status==200&&(console.log(e.data),R(e.data.data)),a(!1)}catch(e){console.log(e),a(!1)}},E=async()=>{try{const e=await l.post(`${F}`,{});e.status==200&&(console.log(e.data),C(e.data.data))}catch(e){console.log(e)}},V=async()=>{try{const e=await l.post(`${S}`,{});e.status==200&&(console.log(e.data),z(e.data.data))}catch(e){console.log(e)}};return i.useEffect(()=>{B(),D(),E(),V()},[]),s.jsxs(s.Fragment,{children:[s.jsx(K,{isOpen:x,toggle:p,Link:"/csms/student/view"}),s.jsxs(G,{title:"Student",pageName:"Student Entry Form",children:[s.jsx(H,{list:[{title:"Home",path:"/csms/home"},{title:"Student List",path:"/csms/student/view"},{title:"Student Entry",path:"/csms/add-new-student"}]}),s.jsx("div",{className:"mt-5 mx-auto px-4",children:q?s.jsx(P,{}):s.jsx("div",{className:" w-full",children:s.jsxs("div",{className:"  rounded-lg shadow ",children:[s.jsxs("div",{className:"flex items-center justify-between py-1 px-4 border-b rounded-t bg-[#115e59]",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-100 ",children:"Student Entry Form"}),s.jsx("button",{onClick:()=>{p()},type:"button",className:'text-white bg-indigo-700 hover:bg-indigo-800 focus:ring-4 focus:ring-indigo-300 font-medium rounded-lg text-sm px-5 mt-2 py-2 mr-2 mb-2  focus:outline-none "',children:"Add Bulk"})]}),s.jsx("div",{className:"p-6 space-y-6",children:s.jsx(U,{value:t,children:s.jsxs(J,{children:[s.jsxs("div",{className:"grid grid-cols-1 gap-6 mt-4 sm:grid-cols-4",children:[s.jsx("div",{children:s.jsx(r,{label:"Financial Year",name:"fyId",formik:t,size:"sm",isRequiredLabel:!0,isBlankSelect:!0,children:m==null?void 0:m.map(e=>s.jsx("option",{value:e.id,children:e==null?void 0:e.financial_year},e.id))})}),s.jsx("div",{children:s.jsx(u,{label:"Admission Date",name:"admissionDate",type:"date",formik:t,size:"sm",isRequiredLabel:!0})}),s.jsx("div",{children:s.jsx(u,{label:"Admission No",name:"admissionNo",formik:t,size:"sm",isRequiredLabel:!0})}),s.jsx("div",{children:s.jsx(u,{label:"Full Name",name:"fullName",formik:t,size:"sm",isRequiredLabel:!0})}),s.jsx("div",{children:s.jsx(u,{label:"Father Name",name:"fatherName",formik:t,size:"sm",isRequiredLabel:!0})}),s.jsx("div",{children:s.jsx(r,{label:"Class",name:"classId",formik:t,size:"sm",isRequiredLabel:!0,children:c&&(c==null?void 0:c.map(e=>s.jsx("option",{value:e==null?void 0:e.id,children:e==null?void 0:e.class_name})))})}),s.jsx("div",{children:s.jsx(r,{label:"Section",name:"sectionId",formik:t,size:"sm",isRequiredLabel:!0,children:o&&(o==null?void 0:o.map(e=>s.jsx("option",{value:e==null?void 0:e.id,children:e==null?void 0:e.section})))})}),s.jsx("div",{children:s.jsx(r,{label:"Select Gender",name:"gender",formik:t,size:"sm",isRequiredLabel:!0,children:b&&((h=b)==null?void 0:h.map(e=>s.jsx("option",{value:e==null?void 0:e.value,children:e==null?void 0:e.name})))})}),s.jsx("div",{children:s.jsx(r,{label:"Select Category",name:"categoryId",formik:t,size:"sm",isRequiredLabel:!0,children:d&&(d==null?void 0:d.map(e=>s.jsx("option",{value:e==null?void 0:e.id,children:e==null?void 0:e.category_name})))})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text ",children:"Special Ability"}),s.jsxs("div",{className:"flex mr-2",children:[s.jsxs("div",{className:"flex items-center justify-center mt-2 text-[22px]",children:[s.jsx("input",{type:"radio",name:"specialAbility",value:"1",onChange:e=>t==null?void 0:t.setFieldValue("specialAbility",e.target.value),checked:((j=t==null?void 0:t.values)==null?void 0:j.specialAbility)==="1"}),s.jsx("span",{className:"ml-1 text-sm",children:"Yes"})]}),"    ",s.jsxs("div",{className:"flex items-center justify-center mt-2 text-[22px]",children:[s.jsx("input",{type:"radio",name:"specialAbility",value:"0",onChange:e=>t==null?void 0:t.setFieldValue("specialAbility",e.target.value),checked:((g=t==null?void 0:t.values)==null?void 0:g.specialAbility)==="0"}),s.jsx("span",{className:"ml-1 text-sm",children:"No"})]})]})]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text ",children:"Is your parent staff of this school"}),s.jsxs("div",{className:"flex mr-2",children:[s.jsxs("div",{className:"flex items-center justify-center mt-2 text-[22px]",children:[s.jsx("input",{type:"radio",name:"quotaId",value:"1",onChange:e=>t==null?void 0:t.setFieldValue("quotaId",e.target.value),checked:((y=t==null?void 0:t.values)==null?void 0:y.quotaId)==="1"}),s.jsx("span",{className:"ml-1 text-sm",children:"Yes"})]}),"    ",s.jsxs("div",{className:"flex items-center justify-center mt-2 text-[22px]",children:[s.jsx("input",{type:"radio",name:"quotaId",value:"0",onChange:e=>t==null?void 0:t.setFieldValue("quotaId",e.target.value),checked:((v=t==null?void 0:t.values)==null?void 0:v.quotaId)==="0"}),s.jsx("span",{className:"ml-1 text-sm",children:"No"})]})]})]})]}),s.jsx("hr",{className:"mt-5"}),s.jsx("div",{className:"flex justify-center mt-6",children:s.jsxs(Q,{color:"primary",type:"submit",isLoading:t.isSubmitting,children:[" ","SUBMIT"," "]})})]})})})]})})})]})]})}export{ne as default};
