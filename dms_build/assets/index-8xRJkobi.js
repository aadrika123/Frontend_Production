import{j as e,I as N,u as k,a as C,b as S,c as A,_ as g}from"./index-CrYQN9xb.js";import{u as D,C as F,a as L,o as E,F as I,R as P,B as z,c as U,b as w,g as Z}from"./switch-9vIixrm_.js";import"./select-BonloYbR.js";import{u as M}from"./useCustomQuery-cZPMMMip.js";function y(l,s){if(s.includes("mobile")){const a=l.target.value;a.length>10&&(l.target.value=a.slice(0,10))}if(s.includes("zip")){const a=l.target.value;a.length>6&&(l.target.value=a.slice(0,6))}if(s.includes("aadhar")){const a=l.target.value;a.length>12&&(l.target.value=a.slice(0,12))}if(s.includes("removeDoubleSpace")){const a=l.target.value;l.target.value=a.replace(/\s+/g," ")}if(s.includes("removeSpecialCharacter")){const a=l.target.value;l.target.value=a.replace(/[^a-zA-Z0-9]/g,"")}if(s.includes("removeSpecialCharacterExceptSpace")){const a=l.target.value;l.target.value=a.replace(/[^a-zA-Z0-9 ]/g,"")}if(s.includes("removeSpecialCharacterExceptSpaceAndDot")){const a=l.target.value;l.target.value=a.replace(/[^a-zA-Z0-9 .]/g,"")}if(s.includes("sqlInjectionGuard")){const a=l.target.value;(a.includes("drop")||a.includes("select"))&&(l.target.value="")}if(s.includes("address")){const a=l.target.value;l.target.value=a.replace(/[^a-zA-Z0-9 ,]/g,"")}if(s.includes("phone")){const a=l.target.value;l.target.value=a.replace(/[^0-9]/g,"")}if(s.includes("email")){const a=l.target.value;l.target.value=a.replace(/[^a-zA-Z0-9@.]/g,"")}if(s.includes("string")){const a=l.target.value;l.target.value=a.replace(/[^a-zA-Z ]/g,"")}if(s.includes("number")){const a=l.target.value;l.target.value=a.replace(/[^0-9]/g,"")}if(s.includes("removeDoubleQuote")){const a=l.target.value;l.target.value=a.replace(/"/g,"")}if(s.includes("removeSingleQuote")){const a=l.target.value;l.target.value=a.replace(/'/g,"")}if(s.includes("removeSpecialCharacterWithDoubleSpace")){const a=l.target.value;l.target.value=a.replace(/[^a-zA-Z0-9 ]/g,"");const r=l.target.value;l.target.value=r.replace(/\s+/g," ")}if(s.includes("CapitalFirstLetter")){const a=l.target.value;l.target.value=a.charAt(0).toUpperCase()+a.slice(1)}if(s.includes("UppercaseAfterSpace")){const a=l.target.value;l.target.value=a.split(" ").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" ")}if(s.includes("Uppercase")){const a=l.target.value;l.target.value=a.toUpperCase()}if(s.includes("removeSpace")){const a=l.target.value;l.target.value=a.replace(/\s+/g,"")}if(s.includes("Lowercase")){const a=l.target.value;l.target.value=a.toLowerCase()}if(s.includes("none")){const a=l.target.value;l.target.value=a}if(s.includes("decimal")){let r=l.target.value.replace(/[^0-9.]/g,"");const c=r.split(".");c.length>2&&(r=c[0]+"."+c.slice(1).join("")),c.length===2&&c[1].length>2&&(r=c[0]+"."+c[1].slice(0,2)),l.target.value=r}}function R({name:l,label:s,isDynamic:a,inputValidation:r,inputSize:c,isRequired:x,...i}){const{control:d}=D();return e.jsx(e.Fragment,{children:l?e.jsx(F,{name:l,control:d,render:({field:{ref:m,...n},fieldState:{error:o}})=>e.jsxs("div",{children:[e.jsxs("h1",{className:"mb-1 text-gray-700 dark:text-gray-200",children:[s," ",x&&s&&e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx(N,{...n,value:typeof n.value=="number"&&n.value===0?"":n.value,ref:m,className:`${o?"border-red-400":null}
            ${c==="small"&&"h-8"||c==="medium"&&"h-10"||c==="large"&&"h-12"||"h-9"}`,onInput:u=>{r&&y(u,r)},...i}),o&&e.jsx("span",{className:"text-xs text-red-400",children:o.message})]})}):e.jsxs("div",{children:[e.jsx("h1",{className:"mb-1 text-gray-700 dark:text-gray-200",children:s}),e.jsx(N,{...i,className:`
        ${c==="small"&&"h-8"||c==="medium"&&"h-10"||c==="large"&&"h-12"||"h-9"}`,onInput:m=>{r&&y(m,r)}})]})})}const T=U({email:w().email("Enter a valid email").required("Email is required"),password:w().min(6,"Password must be at least 8 characters").required()});function H(){const l=M({});k();const s=C(),a=L({defaultValues:{email:"",password:""},resolver:E(T)}),r=i=>(i.preventDefault(),!1),c=i=>{(i.ctrlKey||i.metaKey)&&["c","v","x"].includes(i.key.toLowerCase())&&i.preventDefault()},x=async i=>{var d,m,n,o,u,v,h,f,p,j,b;try{const t=await l.mutateAsync({api:A.login,data:{email:i.email,password:i.password}});(d=t==null?void 0:t.data)!=null&&d.status?(localStorage.setItem("token",(n=(m=t==null?void 0:t.data)==null?void 0:m.tempToken)==null?void 0:n.token),localStorage.setItem("userEmail",(u=(o=t==null?void 0:t.data)==null?void 0:o.tempToken)==null?void 0:u.userEmail),localStorage.setItem("userName",((h=(v=t==null?void 0:t.data)==null?void 0:v.tempToken)==null?void 0:h.firstName)+" "+((p=(f=t==null?void 0:t.data)==null?void 0:f.tempToken)==null?void 0:p.lastName)),s("/dms-panel/dashboard/home"),g.success((j=t==null?void 0:t.data)==null?void 0:j.message)):g.error((b=t==null?void 0:t.data)==null?void 0:b.message)}catch(t){g.error(Z(t.message))}finally{a.reset({...a.getValues(),email:"",password:""})}};return e.jsxs(e.Fragment,{children:[e.jsx("header",{className:"bg-gray-200 text-black h-[10vh] w-full border-b border-gray-200 bg-white",children:e.jsx("div",{className:"container mx-auto xl:max-w-6xl",children:e.jsx("nav",{className:"",id:"desktop-menu",children:e.jsx("a",{className:"",href:"",children:e.jsx("div",{className:"pt-6",children:e.jsx("span",{className:"text-xl font-bold",children:"Login - Document Management System"})})})})})}),e.jsx("main",{className:"flex h-[80vh] items-center justify-center bg-gray-100 text-gray-800",children:e.jsx("div",{className:"darks:bg-gray-900 darks:bg-opacity-40 bg-gray-100",children:e.jsx("div",{className:"container mx-auto px-4 xl:max-w-6xl",children:e.jsxs("div",{className:"-mx-4 flex flex-row flex-wrap",children:[e.jsx("div",{className:"w-full max-w-full flex-shrink px-4 lg:w-1/2",children:e.jsx("div",{className:"mb-12 w-full max-w-full px-2 sm:px-12 lg:mb-0 lg:pr-20",children:e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"darks:bg-gray-800 rounded-lg bg-white p-6 shadow-xl sm:px-12 sm:py-8",children:[e.jsxs("div",{className:"space-y-3 text-center",children:[e.jsx("h1",{className:"darks:text-gray-300 mb- text-center text-2xl font-bold leading-normal text-gray-800",children:"Welcome Back"}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("div",{className:"mb-7 w-10 border border-b border-black"})})]}),e.jsx(I,{methods:a,onSubmit:a.handleSubmit(x),children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"space-y-2",children:e.jsx(R,{className:"w-full bg-gray-100 px-5 py-5",name:"email",inputValidation:["removeSpace","email"],placeholder:"Enter your User Name",autoComplete:"off",onPaste:r,onCopy:r,onCut:r,onKeyDown:c})}),e.jsx("div",{className:"space-y-2",children:e.jsx(P,{className:"w-full bg-gray-100 px-5 py-5",name:"password",placeholder:"Enter your password",autoComplete:"off",onPaste:r,onCopy:r,onCut:r,onKeyDown:c})}),e.jsx("div",{children:e.jsxs(z,{type:"submit",isLoading:a.formState.isSubmitting,className:"mt-2 w-full px-4 py-5 shadow-none",children:[e.jsxs("svg",{xmlnsXlink:"http://www.w3.org/2000/svg",fill:"currentColor",className:"bi bi-box-arrow-in-right mr-1 inline-block h-4 w-4 ltr:mr-2 rtl:ml-2",viewBox:"0 0 16 16",children:[e.jsx("path",{fillRule:"evenodd",d:"M6 3.5a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 0-1 0v2A1.5 1.5 0 0 0 6.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-8A1.5 1.5 0 0 0 5 3.5v2a.5.5 0 0 0 1 0v-2z"}),e.jsx("path",{fillRule:"evenodd",d:"M11.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H1.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z"})]}),"Login"]})})]})})]})})})}),e.jsx("div",{className:"w-full max-w-full flex-shrink px-4 lg:w-1/2",children:e.jsxs("div",{className:"mt-6 text-center lg:mt-0",children:[e.jsx(S,{src:"/images/setting.png",alt:"welcome",className:"h-68"}),e.jsxs("div",{className:"mt-2 px-4",children:[e.jsx("h1",{className:"text-bold mb-2 text-2xl",children:"Serve Citizen Services with Ease of Access"}),e.jsx("p",{className:"mb-4 text-base text-gray-500",children:"Manage citizen government services with easy of access and serve them in on time."})]})]})})]})})})}),e.jsx("footer",{className:"darks:bg-gray-800 darks:border-gray-800 h-[10vh] w-full border-t border-gray-200 bg-white py-6",children:e.jsx("div",{className:"container mx-auto w-full px-4 xl:max-w-6xl",children:e.jsx("div",{className:"mx-auto px-4",children:e.jsxs("div",{className:"-mx-4 flex flex-row flex-wrap",children:[e.jsx("div",{className:"w-full max-w-full flex-shrink px-4 text-center md:w-1/2 md:ltr:text-left md:rtl:text-right",children:e.jsxs("ul",{className:"space-x-4 ltr:pl-0 rtl:pr-0",children:[e.jsx("li",{className:"inline-block ltr:mr-3 rtl:ml-3",children:e.jsx("a",{className:"hover:text-indigo-500",href:"#",children:"Support |"})}),e.jsx("li",{className:"inline-block ltr:mr-3 rtl:ml-3",children:e.jsx("a",{className:"hover:text-indigo-500",href:"#",children:"Help Center |"})}),e.jsx("li",{className:"inline-block ltr:mr-3 rtl:ml-3",children:e.jsx("a",{className:"hover:text-indigo-500",href:"#",children:"Privacy |"})}),e.jsx("li",{className:"inline-block ltr:mr-3 rtl:ml-3",children:e.jsx("a",{className:"hover:text-indigo-500",href:"#",children:"Terms of Service"})})]})}),e.jsx("div",{className:"w-full max-w-full flex-shrink px-4 text-center md:w-1/2 md:ltr:text-right md:rtl:text-left",children:e.jsxs("p",{className:"mb-0 mt-3 md:mt-0",children:[e.jsx("a",{href:"#",className:"hover:text-indigo-500",children:"UD&HD"})," ","| All right reserved"]})})]})})})})]})}function Q(){return e.jsx("div",{className:"",children:e.jsx(H,{})})}export{Q as default};
