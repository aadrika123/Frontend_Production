import{N as f,r,an as w,ao as b,ap as k,aq as S,j as e,T as i,ae as A,af as _,U as C,ar as P,as as h,at as u,au as U,av as z}from"./index-zFowLZvW.js";import{U as H}from"./upload-CWT8FQ28.js";const L=f("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);const O=f("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);function R({filter:n="all"}){const[p,j]=r.useState(!1),[g,T]=r.useState(null),[s,c]=r.useState(null),[o,N]=r.useState([]),v=localStorage.getItem("token")||"",{data:t,loading:d,error:x}=w(`${b}/${k.getAllFolders}`,"POST",{},v);r.useEffect(()=>{if(t){const y=(Array.isArray(t)?t:t.data||[]).map(l=>({id:l.folder_id,name:l.folder_name,count:l.total_files||0,created_date:l.created_date,last_modified:l.last_modified}));N(y)}x&&S.error("Failed to load folders")},[t,x]);const F=()=>{if(s)return s;switch(n){case"recent":return"Recent Files";case"favorites":return"Favorites";case"trash":return"Trash";default:return"All Folders"}},m=n==="all"&&!s;return e.jsxs(i,{children:[e.jsx(i.Header,{sticky:!0,children:e.jsxs("div",{className:"ml-auto flex items-center space-x-4",children:[e.jsx(A,{}),e.jsx(_,{}),e.jsx(C,{})]})}),e.jsxs(i.Body,{children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between space-y-2",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("div",{className:"flex items-center text-sm text-muted-foreground mb-1",children:[e.jsxs("span",{className:`flex items-center gap-1 cursor-pointer hover:text-primary transition-colors ${s?"":"font-semibold text-foreground"}`,onClick:()=>c(null),children:[e.jsx(P,{size:14})," Home"]}),s&&e.jsxs(e.Fragment,{children:[e.jsx(h,{size:14}),e.jsx("span",{className:"font-semibold text-foreground",children:s})]}),n!=="all"&&e.jsxs(e.Fragment,{children:[e.jsx(h,{size:14}),e.jsx("span",{className:"font-semibold text-foreground capitalize",children:n})]})]}),e.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:F()})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(u,{variant:"outline",children:[e.jsx(L,{className:"mr-2 h-4 w-4"}),"New Folder"]}),e.jsxs(u,{children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Upload"]})]})]}),e.jsxs("div",{className:"flex-1 overflow-auto py-4",children:[m&&e.jsx(e.Fragment,{children:d&&o.length===0?e.jsx("div",{className:"flex items-center justify-center h-full min-h-[400px]",children:e.jsx(U,{className:"h-8 w-8 animate-spin text-primary"})}):e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:[o.map(a=>e.jsxs("div",{onClick:()=>c(a.name),className:"group flex flex-col items-center justify-center p-6 bg-card border rounded-xl shadow-sm hover:shadow-md hover:border-primary/50 cursor-pointer transition-all duration-300",children:[e.jsx(O,{size:64,className:"text-blue-200 fill-blue-200/40 group-hover:scale-110 transition-transform duration-300 mb-4"}),e.jsx("h3",{className:"font-semibold text-center",children:a.name}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.count," items"]})]},a.id)),o.length===0&&!d&&e.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center h-64 text-muted-foreground",children:[e.jsx("h1",{className:"font-thin text-3xl",children:"ü§î Oops!"}),e.jsx("p",{className:"text-2xl font-thin",children:"No folders found."})]})]})}),!m&&e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:e.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center h-64 text-muted-foreground",children:[e.jsx("h1",{className:"font-thin text-3xl",children:"üìÅ"}),e.jsx("p",{className:"text-2xl font-thin",children:"Folder contents will be displayed here."})]})})]}),e.jsx(z,{open:p,onOpenChange:j,file:g})]})]})}export{R as default};
