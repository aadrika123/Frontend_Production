import{j as e,r as N,u as $,I as q,a as I,_ as P}from"./index-CU4IbLop.js";import{u as z,C as D,I as U,a as H,o as G,F as W,R as Z,B as K,c as O,b as T,d as X,e as R,g as Q}from"./useCrypto-DXxo2Hg_.js";import{u as Y,a as J}from"./useCustomQuery-G48-NcG-.js";function _(t,n){if(n.includes("mobile")){const a=t.target.value;a.length>10&&(t.target.value=a.slice(0,10))}if(n.includes("zip")){const a=t.target.value;a.length>6&&(t.target.value=a.slice(0,6))}if(n.includes("aadhar")){const a=t.target.value;a.length>12&&(t.target.value=a.slice(0,12))}if(n.includes("removeDoubleSpace")){const a=t.target.value;t.target.value=a.replace(/\s+/g," ")}if(n.includes("removeSpecialCharacter")){const a=t.target.value;t.target.value=a.replace(/[^a-zA-Z0-9]/g,"")}if(n.includes("removeSpecialCharacterExceptSpace")){const a=t.target.value;t.target.value=a.replace(/[^a-zA-Z0-9 ]/g,"")}if(n.includes("removeSpecialCharacterExceptSpaceAndDot")){const a=t.target.value;t.target.value=a.replace(/[^a-zA-Z0-9 .]/g,"")}if(n.includes("sqlInjectionGuard")){const a=t.target.value;(a.includes("drop")||a.includes("select"))&&(t.target.value="")}if(n.includes("address")){const a=t.target.value;t.target.value=a.replace(/[^a-zA-Z0-9 ,]/g,"")}if(n.includes("phone")){const a=t.target.value;t.target.value=a.replace(/[^0-9]/g,"")}if(n.includes("email")){const a=t.target.value;t.target.value=a.replace(/[^a-zA-Z0-9@.]/g,"")}if(n.includes("string")){const a=t.target.value;t.target.value=a.replace(/[^a-zA-Z ]/g,"")}if(n.includes("number")){const a=t.target.value;t.target.value=a.replace(/[^0-9]/g,"")}if(n.includes("removeDoubleQuote")){const a=t.target.value;t.target.value=a.replace(/"/g,"")}if(n.includes("removeSingleQuote")){const a=t.target.value;t.target.value=a.replace(/'/g,"")}if(n.includes("removeSpecialCharacterWithDoubleSpace")){const a=t.target.value;t.target.value=a.replace(/[^a-zA-Z0-9 ]/g,"");const d=t.target.value;t.target.value=d.replace(/\s+/g," ")}if(n.includes("CapitalFirstLetter")){const a=t.target.value;t.target.value=a.charAt(0).toUpperCase()+a.slice(1)}if(n.includes("UppercaseAfterSpace")){const a=t.target.value;t.target.value=a.split(" ").map(d=>d.charAt(0).toUpperCase()+d.slice(1)).join(" ")}if(n.includes("Uppercase")){const a=t.target.value;t.target.value=a.toUpperCase()}if(n.includes("removeSpace")){const a=t.target.value;t.target.value=a.replace(/\s+/g,"")}if(n.includes("Lowercase")){const a=t.target.value;t.target.value=a.toLowerCase()}if(n.includes("none")){const a=t.target.value;t.target.value=a}if(n.includes("decimal")){let d=t.target.value.replace(/[^0-9.]/g,"");const u=d.split(".");u.length>2&&(d=u[0]+"."+u.slice(1).join("")),u.length===2&&u[1].length>2&&(d=u[0]+"."+u[1].slice(0,2)),t.target.value=d}}function B({name:t,label:n,isDynamic:a,inputValidation:d,inputSize:u,isRequired:E,...x}){const{control:l}=z();return e.jsx(e.Fragment,{children:t?e.jsx(D,{name:t,control:l,render:({field:{ref:S,...m},fieldState:{error:w}})=>e.jsxs("div",{children:[e.jsxs("h1",{className:"mb-1 text-gray-700 dark:text-gray-200",children:[n," ",E&&n&&e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx(U,{...m,value:typeof m.value=="number"&&m.value===0?"":m.value,ref:S,className:`${w?"border-red-400":null}
            ${u==="small"&&"h-8"||u==="medium"&&"h-10"||u==="large"&&"h-12"||"h-9"}`,onInput:A=>{d&&_(A,d)},...x}),w&&e.jsx("span",{className:"text-xs text-red-400",children:w.message})]})}):e.jsxs("div",{children:[e.jsx("h1",{className:"mb-1 text-gray-700 dark:text-gray-200",children:n}),e.jsx(U,{...x,className:`
        ${u==="small"&&"h-8"||u==="medium"&&"h-10"||u==="large"&&"h-12"||"h-9"}`,onInput:S=>{d&&_(S,d)}})]})})}function V(){const[t,n]=N.useState(""),[a,d]=N.useState(""),[u,E]=N.useState(null),[x,l]=N.useState(!1),[S,m]=N.useState(!0);N.useEffect(()=>{w()},[]);const w=async()=>{const r=[];r.push(window.screen.width),r.push(window.screen.height),r.push(window.screen.colorDepth),r.push(window.screen.pixelDepth),r.push(window.devicePixelRatio),r.push(navigator.userAgent),r.push(navigator.language),r.push(navigator.platform),r.push(navigator.hardwareConcurrency),r.push(navigator.maxTouchPoints),r.push(navigator.vendor),r.push(navigator.deviceMemory||0),r.push(Intl.DateTimeFormat().resolvedOptions().timeZone),r.push(new Date().getTimezoneOffset());const s=A();r.push(s);const o=L();o&&(r.push(o.vendor),r.push(o.renderer));const h=await g();r.push(h);const v=i();r.push(v.join(","));const p=Array.from(navigator.plugins||[]).map(C=>C.name).join(",");r.push(p);const y=r.join("|"),j=await c(y),f=b(j);d(j),n(f),E({screenResolution:`${window.screen.width}x${window.screen.height}`,colorDepth:window.screen.colorDepth,platform:navigator.platform,cpuCores:navigator.hardwareConcurrency,deviceMemory:navigator.deviceMemory||"N/A",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,language:navigator.language,canvasFingerprint:s.substring(0,16),webglVendor:(o==null?void 0:o.vendor)||"N/A",audioFingerprint:h.substring(0,16),fontsDetected:v.length}),m(!1)},A=()=>{try{const r=document.createElement("canvas"),s=r.getContext("2d");return s?(r.width=200,r.height=50,s.textBaseline="top",s.font='14px "Arial"',s.textBaseline="alphabetic",s.fillStyle="#f60",s.fillRect(125,1,62,20),s.fillStyle="#069",s.fillText("UniqueSystemðŸŽ¨",2,15),s.fillStyle="rgba(102, 204, 0, 0.7)",s.fillText("UniqueSystemðŸŽ¨",4,17),r.toDataURL()):"canvas_error"}catch{return"canvas_error"}},L=()=>{try{const r=document.createElement("canvas"),s=r.getContext("webgl")||r.getContext("experimental-webgl");if(!s)return null;const o=s.getExtension("WEBGL_debug_renderer_info");return o?{vendor:s.getParameter(o.UNMASKED_VENDOR_WEBGL),renderer:s.getParameter(o.UNMASKED_RENDERER_WEBGL)}:null}catch{return null}},g=()=>new Promise(r=>{try{const s=window.AudioContext||window.webkitAudioContext;if(!s){r("no_audio");return}const o=new s,h=o.createOscillator(),v=o.createAnalyser(),p=o.createGain(),y=o.createScriptProcessor(4096,1,1);p.gain.value=0,h.connect(v),v.connect(y),y.connect(p),p.connect(o.destination),y.onaudioprocess=j=>{const f=j.outputBuffer.getChannelData(0);let C=0;for(let M=0;M<f.length;M++)C+=Math.abs(f[M]);const F=C.toString();h.disconnect(),y.disconnect(),p.disconnect(),o.close(),r(F)},h.start(0),setTimeout(()=>r("audio_timeout"),100)}catch{r("audio_error")}}),i=()=>{const r=["monospace","sans-serif","serif"],s=["Arial","Verdana","Times New Roman","Courier New","Georgia","Palatino","Garamond","Bookman","Comic Sans MS","Trebuchet MS","Impact","Lucida Console","Tahoma","Helvetica","Century Gothic"],h=document.createElement("canvas").getContext("2d");if(!h)return[];const v="mmmmmmmmmmlli",p="72px",y={};r.forEach(f=>{h.font=`${p} ${f}`,y[f]=h.measureText(v).width});const j=[];return s.forEach(f=>{r.forEach(C=>{h.font=`${p} '${f}', ${C}`,h.measureText(v).width!==y[C]&&(j.includes(f)||j.push(f))})}),j},c=async r=>{const o=new TextEncoder().encode(r),h=await crypto.subtle.digest("SHA-256",o);return Array.from(new Uint8Array(h)).map(p=>p.toString(16).padStart(2,"0")).join("")},b=r=>{const s=r.match(/.{1,4}/g);return s?s.join("-").toUpperCase():r.toUpperCase()};return{loading:S,uniqueId:t,fingerprint:a,details:u,copied:x,copyToClipboard:()=>{navigator.clipboard.writeText(t).then(()=>{l(!0),setTimeout(()=>l(!1),2e3)})},getCanvasFingerprint:A}}const ee=O({email:T().email("Enter a valid email").required("Email is required"),password:T().min(6,"Password must be at least 8 characters").required(),captcha:T().required("Please enter the captcha")});function te(){const[t,n]=N.useState(""),{uniqueId:a,fingerprint:d}=V(),u=Y({}),{login:E}=$(),x=H({defaultValues:{email:"",password:"",captcha:""},resolver:G(ee)}),l=J({api:`${I.getCaptcha}`,key:"getCaptcha",value:[],options:{enabled:!0}}),S=async()=>{if(l!=null&&l.data){const g=X(l==null?void 0:l.data.data.captcha_code),i=document.createElement("canvas");i.width=200,i.height=50;const c=i.getContext("2d");if(c){const b=c.createLinearGradient(0,0,i.width,i.height);b.addColorStop(0,"#f9fafb"),b.addColorStop(1,"#e5e7eb"),c.fillStyle=b,c.fillRect(0,0,i.width,i.height);for(let s=0;s<30;s++)c.fillStyle=`rgba(0, 0, 0, ${Math.random()*.2})`,c.fillRect(Math.random()*i.width,Math.random()*i.height,1,1);for(let s=0;s<3;s++)c.strokeStyle=`rgba(0, 0, 0, ${Math.random()*.15})`,c.lineWidth=1,c.beginPath(),c.moveTo(Math.random()*i.width,Math.random()*i.height),c.lineTo(Math.random()*i.width,Math.random()*i.height),c.stroke();c.font="bold 26px Arial",c.fillStyle="#374151",c.textAlign="center",c.textBaseline="middle",c.shadowColor="rgba(0, 0, 0, 0.2)",c.shadowBlur=2,c.shadowOffsetX=1,c.shadowOffsetY=1;const k=g.split(""),r=(i.width-k.length*20)/2;k.forEach((s,o)=>{const h=r+o*24+15,v=i.height/2+(Math.random()-.5)*5;c.save(),c.translate(h,v),c.rotate((Math.random()-.5)*.3),c.fillText(s,0,0),c.restore()}),n(i.toDataURL())}}};N.useEffect(()=>{S()},[l==null?void 0:l.data]);const m=g=>(g.preventDefault(),!1),w=g=>{(g.ctrlKey||g.metaKey)&&["c","v","x"].includes(g.key.toLowerCase())&&g.preventDefault()},A=async g=>{var i,c,b,k,r;try{const s=await u.mutateAsync({api:I.login,data:{email:g.email,password:R(g.password),captcha_code:R(g.captcha),captcha_id:(c=(i=l==null?void 0:l.data)==null?void 0:i.data)==null?void 0:c.captcha_id,moduleId:0,systemUniqueId:d}});(b=s==null?void 0:s.data)!=null&&b.status?(await E(s==null?void 0:s.data),P.success((k=s==null?void 0:s.data)==null?void 0:k.message)):(P.error((r=s==null?void 0:s.data)==null?void 0:r.message),l==null||l.refetch(),x.setValue("captcha",""))}catch(s){P.error(Q(s.message)),l==null||l.refetch(),x.setValue("captcha","")}finally{x.reset({...x.getValues(),email:"",password:"",captcha:""})}},L=()=>{l==null||l.refetch(),x.setValue("captcha","")};return e.jsxs(e.Fragment,{children:[e.jsx("header",{className:"darks:bg-gray-800 darks:border-gray-800 h-[7vh] w-full border-b border-gray-200 bg-white",children:e.jsx("div",{className:"container mx-auto xl:max-w-6xl",children:e.jsx("nav",{className:"",id:"desktop-menu",children:e.jsx("a",{className:"",href:"",children:e.jsx("div",{className:"mt-6",children:e.jsx("span",{className:"text-xl font-bold",children:"Login - Profile Management System"})})})})})}),e.jsx("main",{className:"flex h-[80vh] items-center justify-center bg-gray-100",children:e.jsx("div",{className:"darks:bg-gray-900 darks:bg-opacity-40 bg-gray-100",children:e.jsx("div",{className:"container mx-auto px-4 xl:max-w-6xl",children:e.jsxs("div",{className:"-mx-4 flex flex-row flex-wrap",children:[e.jsx("div",{className:"w-full max-w-full flex-shrink px-4 lg:w-1/2",children:e.jsx("div",{className:"mb-12 w-full max-w-full px-2 sm:px-12 lg:mb-0 lg:pr-20",children:e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"darks:bg-gray-800 rounded-lg bg-white p-6 shadow-xl sm:px-12 sm:py-8",children:[e.jsxs("div",{className:"space-y-3 text-center",children:[e.jsx("h1",{className:"darks:text-gray-300 mb- text-center text-2xl font-bold leading-normal text-gray-800",children:"Welcome Back"}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("div",{className:"mb-7 w-10 border border-b border-black"})})]}),e.jsx(W,{methods:x,onSubmit:x.handleSubmit(A),children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"space-y-2",children:e.jsx(B,{className:"w-full bg-background px-5 py-5",name:"email",inputValidation:["removeSpace","email"],placeholder:"Enter your User Name",autoComplete:"off",onPaste:m,onCopy:m,onCut:m,onKeyDown:w})}),e.jsx("div",{className:"space-y-2",children:e.jsx(Z,{className:"w-full bg-background px-5 py-5",name:"password",placeholder:"Enter your password",autoComplete:"off",onPaste:m,onCopy:m,onCut:m,onKeyDown:w})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Enter CAPTCHA"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:l!=null&&l.isLoading?e.jsx("div",{className:"flex h-[50px] w-[150px] items-center justify-center rounded border border-gray-300 bg-gray-100",children:e.jsxs("svg",{className:"h-5 w-5 animate-spin text-gray-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):t?e.jsx("img",{src:t,alt:"CAPTCHA",className:"h-[50px] w-[150px] rounded border border-gray-300 object-contain"}):e.jsx("div",{className:"flex h-[50px] w-[150px] items-center justify-center rounded border border-gray-300 bg-gray-100 text-xs text-gray-500",children:"Failed to load"})}),e.jsx("button",{type:"button",onClick:L,disabled:l==null?void 0:l.isLoading,className:"p-2 text-gray-500 transition-colors hover:text-gray-700 disabled:cursor-not-allowed disabled:opacity-50",title:"Refresh CAPTCHA",children:e.jsx("svg",{className:`h-5 w-5 ${l!=null&&l.isLoading?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]}),e.jsx(B,{className:"w-full bg-background px-5 py-3",name:"captcha",placeholder:"Enter the text shown in the image",autoComplete:"off",onPaste:m,onCopy:m,onCut:m,onKeyDown:w})]}),e.jsx("div",{children:e.jsxs(K,{type:"submit",isLoading:x.formState.isSubmitting,className:"mt-2 w-full px-4 py-5 shadow-none",children:[e.jsxs("svg",{xmlnsXlink:"http://www.w3.org/2000/svg",fill:"currentColor",className:"bi bi-box-arrow-in-right mr-1 inline-block h-4 w-4 ltr:mr-2 rtl:ml-2",viewBox:"0 0 16 16",children:[e.jsx("path",{fillRule:"evenodd",d:"M6 3.5a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 0-1 0v2A1.5 1.5 0 0 0 6.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-8A1.5 1.5 0 0 0 5 3.5v2a.5.5 0 0 0 1 0v-2z"}),e.jsx("path",{fillRule:"evenodd",d:"M11.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H1.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z"})]}),"Login"]})})]})})]})})})}),e.jsx("div",{className:"w-full max-w-full flex-shrink px-4 lg:w-1/2",children:e.jsxs("div",{className:"mt-6 text-center lg:mt-0",children:[e.jsx(q,{src:"/images/setting.png",alt:"welcome",className:"h-68"}),e.jsxs("div",{className:"mt-2 px-4",children:[e.jsx("h1",{className:"text-bold mb-2 text-2xl",children:"Serve Citizen Services with Ease of Access"}),e.jsx("p",{className:"mb-4 text-base text-gray-500",children:"Manage citizen government services with easy of access and serve them in on time."})]})]})})]})})})}),e.jsx("footer",{className:"darks:bg-gray-800 darks:border-gray-800 h-[10vh] w-full border-t border-gray-200 bg-white py-6",children:e.jsx("div",{className:"container mx-auto w-full px-4 xl:max-w-6xl",children:e.jsx("div",{className:"mx-auto px-4",children:e.jsxs("div",{className:"-mx-4 flex flex-row flex-wrap",children:[e.jsx("div",{className:"w-full max-w-full flex-shrink px-4 text-center md:w-1/2 md:ltr:text-left md:rtl:text-right",children:e.jsxs("ul",{className:"space-x-4 ltr:pl-0 rtl:pr-0",children:[e.jsx("li",{className:"inline-block ltr:mr-3 rtl:ml-3",children:e.jsx("a",{className:"hover:text-indigo-500",href:"#",children:"Support |"})}),e.jsx("li",{className:"inline-block ltr:mr-3 rtl:ml-3",children:e.jsx("a",{className:"hover:text-indigo-500",href:"#",children:"Help Center |"})}),e.jsx("li",{className:"inline-block ltr:mr-3 rtl:ml-3",children:e.jsx("a",{className:"hover:text-indigo-500",href:"#",children:"Privacy |"})}),e.jsx("li",{className:"inline-block ltr:mr-3 rtl:ml-3",children:e.jsx("a",{className:"hover:text-indigo-500",href:"#",children:"Terms of Service"})})]})}),e.jsx("div",{className:"w-full max-w-full flex-shrink px-4 text-center md:w-1/2 md:ltr:text-right md:rtl:text-left",children:e.jsxs("p",{className:"mb-0 mt-3 md:mt-0",children:[e.jsx("a",{href:"#",className:"hover:text-indigo-500",children:"UD&HD"})," ","| All right reserved"]})})]})})})})]})}function le(){return e.jsx("div",{className:"",children:e.jsx(te,{})})}export{le as default};
