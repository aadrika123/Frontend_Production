import{r as a,j as e,A as U,Q as n,b as k}from"./index-f916f929.js";import{A as P}from"./ApiHeader2-f80ad0bc.js";import{T as E}from"./TextField-22b2c8ae.js";import"./Select-d451ae47.js";import"./hoist-non-react-statics.cjs-fb57390d.js";const J=()=>{const[m,v]=a.useState(void 0),[u,b]=a.useState(""),[y,j]=a.useState(""),[i,x]=a.useState([]),[o,c]=a.useState([]),[d,w]=a.useState({val:[]}),[f,N]=a.useState([]);a.useState([]);const[L,g]=a.useState(!1);a.useState(!1),a.useState(null),a.useRef(null);const{api_postvehicleData:S}=k(),C=s=>{let t=[];for(let l=0;l<s.target.files.length;l++)t.push(URL.createObjectURL(s.target.files[l]));v(s.target.files),c([...o,...t]),w({val:[]}),N([]),x([...i,...s.target.files])};console.log(m),console.log(i);const A=()=>{const s=new FormData;s.append("category",u),s.append("coverpic",y),i.forEach((l,r)=>{s.append(`videoUpload[${r}]`,l)});for(var t of s.entries())console.log(t[0]+" - "+t[1]);U.post(S,s,P()).then(function(l){var r,h,p;console.log("bank master..",(r=l==null?void 0:l.data)==null?void 0:r.data),((h=l==null?void 0:l.data)==null?void 0:h.status)===!0?(n.success("Data Added Successfully"),c([])):n.error(`${(p=l==null?void 0:l.data)==null?void 0:p.message}`),g(!1)}).catch(function(l){console.log("==2 error list...",l),n.warning("Error occured in submitting form."),g(!1)})},F=s=>{x(t=>t.filter(l=>{if(t.indexOf(l)!=s)return l})),c(t=>t.filter(l=>{if(t.indexOf(l)!=s)return l}))};return console.log(o,u),e.jsxs("div",{className:"w-full h-[76vh] lg:h-auto overflow-auto ",children:[e.jsxs("div",{className:"flex items-start justify-start flex-col mt-5 ml-5 ",children:[e.jsx("h1",{className:"text-4xl font-semibold text-gray-700",children:"Video Gallery Master"}),e.jsx("h1",{className:"text-gray-600 text-sm",children:"Unlock Your Potential. Join Our Journey Of Education And Excellence"})]}),e.jsx("div",{className:" mt-1 ml-3 mr-3 ",children:e.jsx("div",{className:"flex h-auto  items-start justify-start w-full",children:e.jsxs("div",{className:"grid grid-cols-12 w-full  ml-3 mr-3 ",children:[e.jsx("div",{className:"col-span-12  lg:col-span-4 w-full flex justify-center",children:e.jsxs("div",{className:"mt-8 border w-full  rounded-md relative",children:[e.jsxs("div",{className:"bg-white px-3 ",children:[" ",e.jsx("h1",{className:" absolute text-2xl bg-white flex font-semibold  -mt-4 text-gray-500 ml-9",children:"Add"})]}),e.jsxs("div",{className:"col-8 mt-[10vh] px-[20%]",children:[e.jsx("div",{className:"my-3 flex w-full",children:e.jsx(E,{id:"category",name:"category",label:"category",fullWidth:!0,size:"small",type:"text",onChange:s=>b(s.target.value),className:"form-control h-10 block w-full border border-gray-200 px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding  rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"})}),e.jsxs("div",{className:"my-3 flex w-full",children:[e.jsx("label",{htmlFor:"coverpicUpload",className:"form-control h-10 block w-full border border-gray-200 px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding  rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:"Choose Cover Pic"}),e.jsx("input",{id:"coverpicUpload",type:"file",accept:"image/*",onChange:s=>j(s.target.files[0]),className:"sr-only"})]}),e.jsxs("div",{className:"my-3 flex w-full",children:[e.jsx("label",{htmlFor:"videoUpload",className:"form-control h-10 block w-full border border-gray-200 px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding  rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:"Choose Video"}),e.jsx("input",{id:"videoUpload",type:"file",multiple:!0,accept:".mp4",onChange:C,className:"sr-only"})]})]}),e.jsx("div",{className:"col-4 mt-7",children:e.jsx("button",{className:"px-9 py-2.5 bg-[#6AB783] text-white font-medium text-sm leading-tight  rounded shadow-md hover:bg-green-700 hover:shadow-lg focus:bg-green-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-green-800 active:shadow-lg transition duration-150 ease-in-out",disabled:!m,onClick:A,children:"Save"})})]})}),e.jsx("div",{className:"col-span-12 md:col-span-12 lg:col-span-8 w-full lg:ml-2 ",children:e.jsxs("div",{className:"mt-8 border   rounded-md relative",children:[e.jsxs("div",{className:"bg-white px-3 ",children:[" ",e.jsx("h1",{className:" absolute text-2xl bg-white flex font-semibold  -mt-4 text-gray-500 ml-9",children:"Preview"})]}),e.jsx("div",{className:"mt-5  ",children:e.jsxs("div",{className:"flex flex-wrap justify-between",children:[d&&d.val.length>0&&d.val.map((s,t)=>e.jsxs("div",{className:"mb-2 ",children:[e.jsx("span",{children:s.fileName}),e.jsx("div",{className:"progress",children:e.jsxs("div",{className:"progress-bar progress-bar-info",role:"progressbar","aria-valuenow":s.percentage,"aria-valuemin":"0","aria-valuemax":"100",style:{width:s.percentage+"%"},children:[s.percentage,"%"]})})]},t)),o&&e.jsx("div",{className:" h-[70vh] overflow-auto flex flex-wrap items-center justify-center",children:o.map((s,t)=>e.jsxs("div",{className:"block",children:[e.jsxs("video",{controls:!0,className:"w-[40vh] h-[40vh] mx-4 my-3",children:[e.jsx("source",{src:s,type:"video/mp4"}),"Your browser does not support the video tag."]}),e.jsx("button",{className:"text-white bg-gradient-to-r from-[yellow] to-[#0c0a09] font-bold px-12 py-2 rounded-[10px]",onClick:()=>F(t),children:"Remove"})]}))}),f.length>0&&e.jsx("div",{className:"alert alert-secondary mt-2",role:"alert",children:e.jsx("ul",{children:f.map((s,t)=>e.jsx("li",{children:s},t))})})]})})]})})]})})})]})};export{J as default};
