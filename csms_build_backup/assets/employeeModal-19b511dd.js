import{r as c,u as I,j as e,C as q,A as M,a as $,b as D}from"./index-f916f929.js";import{u as V}from"./formik.esm-2de3563d.js";import{B as _}from"./BarLoader-858f75dd.js";import{B as H}from"./BottomErrorCard-20c0353c.js";import{c as O,a as R}from"./index.esm-b3999377.js";function P(l){const{isOpen:v,toggle:s}=l,[p,y]=c.useState(!1),[E,w]=c.useState(null),[k,x]=c.useState(!1),{api_searchEmployeeByIdList:S}=D(),d=I(),C={empNo:""},F=O({empNo:R().required("Employee Number is required feild")}),r=V({initialValues:C,onSubmit:a=>{console.log(a),B(a)},validationSchema:F}),B=a=>{x(!0);let i,o,A={empNo:a.empNo};i=S,o=A,M.post(i,o,$()).then(function(t){var n,h,u,f,b,g,N,j;console.log("category master..",(n=t==null?void 0:t.data)==null?void 0:n.data),((h=t==null?void 0:t.data)==null?void 0:h.status)===!0?((u=t==null?void 0:t.data)==null?void 0:u.message)==="Employee Not Found"?(localStorage.setItem("employee number",(b=(f=t==null?void 0:t.data)==null?void 0:f.data)==null?void 0:b.emp_no),d("/step-form")):((g=t==null?void 0:t.data)==null?void 0:g.message)==="Employee ID Already Existing"&&(d(`/editstep-form/${(j=(N=t==null?void 0:t.data)==null?void 0:N.data)==null?void 0:j.id}`),m(!0,"Employee ID already existing.")):m(!0,"Error occured while fetching data."),x(!1)}).catch(function(t){console.log("==2 error list...",t),m(!0,"Error occured while fetching data."),x(!1)})},m=(a,i)=>{w(i),y(a)},L=a=>{let i=a.target.name,o=a.target.value;i=="empNo"&&r.setFieldValue("empNo",o.trim())};return e.jsxs(e.Fragment,{children:[k&&e.jsx(_,{}),p&&e.jsx(H,{activateBottomErrorCard:m,errorTitle:E}),e.jsxs(q,{isOpen:v,children:[e.jsx("div",{toggle:s,className:"flex justify-between w-full px-[20px] py-[20px] text-[2.5vh] font-bold bg-[#0F766E] text-white rounded-t-[15px]",close:e.jsx("button",{onClick:()=>s(),children:"Ã—"}),children:e.jsx("h1",{children:"Search Employee No"})}),e.jsx("div",{className:"flex items-center  justify-center overflow-hidden bg-white rounded-b-[15px] h-auto max-[606px]:h-[35vh]",children:e.jsx("div",{className:"block w-full   m-[20px] max[784px]:m-[10]",children:e.jsxs("form",{onSubmit:r.handleSubmit,onChange:L,children:[e.jsx("div",{className:"w-full h-auto bg-white px-[20px] py-[20px] max[784px]:px-[0px]",children:e.jsx("div",{className:"m-3 block ",children:e.jsxs("div",{className:"flex max-[425px]:block",children:[e.jsxs("label",{className:"w-[25vh] mr-2 text-[2vh] text-teal-900 flex items-center justify-center max-[625px]:w-full",children:["Employee No.",e.jsx("span",{className:"text-red-600 ml-1 mr-1",children:"*"})]}),e.jsxs("div",{className:"block",children:[e.jsx("input",{name:"empNo",type:"text",onChange:r.handleChange,value:r.values.empNo,className:"w-[40vh] h-11  p-3 flex text-[2vh]  items-start justify-start  border border-[#E5E7E9] bg-white rounded-[5px] max-[825px]:w-full max-[825px]:h-full"}),e.jsx("br",{}),e.jsx("span",{className:"text-red-600 text-xs",children:r.touched.empNo&&r.errors.empNo?r.errors.empNo:null})]})]})})}),e.jsxs("div",{className:" w-full h-[8vh] flex items-center justify-center max-[768px]:block mb-5 max-[768px]:ml-5",children:[e.jsx("button",{type:"submit",className:"text-[2vh] bg-[#0F766E] text-white border border-[#0F766E]  py-[7px] px-[20px] rounded-[5px] m-[20px] hover:text-[#0F766E] hover:border-[#0F766E] hover:bg-white",children:"Search"}),e.jsx("button",{onClick:()=>{s(),l!=null&&l.Link&&d(`${l==null?void 0:l.Link}`)},type:"cancel",className:"text-[2vh] border-red-600 border text-white bg-red-600 px-[20px] py-[7px]  rounded-[5px] hover:border-red-600 hover:bg-white hover:text-red-600",children:"Cancel"})]}),e.jsx("div",{className:"mb-5 w-full flex justify-center items-center max-[350px]:items-end max-[350px]:mt-12",children:e.jsxs("h1",{className:"text-gray-500",children:["Note : (",e.jsx("span",{className:"text-red-600",children:"*"}),") marks is mandatory."]})})]})})})]})]})}export{P as s};
