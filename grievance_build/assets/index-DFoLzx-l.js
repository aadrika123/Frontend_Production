import{Q as g,b as x,r as i,w as G,g as V,j as e,a6 as k,a7 as A,a8 as C,a9 as O,a5 as W,A as Q,ak as J,al as f,am as X,an as L,ai as j,ao as Z,ap as ee,T as ae,aq as se,ar as te,as as ne,at as oe,au as h,av as re,U as le,aw as ie,ax as ce,C as m,L as w,ay as p,az as N,aA as de,aB as xe}from"./index-D1hQ8xza.js";/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b=g("BellRing",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=g("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=g("Clock4",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=g("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=g("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);function me(a=""){const{setTitle:t}=x();return i.useEffect(()=>{t(a)},[a]),null}function pe({notificationSide:a,notificationType:t}){var c,d;const[s,r]=i.useState(null),l=G({api:`${V.getUserNotificationAuth}?notificationSide=${a}&notificationType=${t}`,key:"myNotificationsAuth",options:{enabled:!0}});return e.jsxs(k,{children:[e.jsx(A,{}),e.jsx(C,{className:"sm:max-w-[500px]",children:e.jsx("div",{children:s&&e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold  text-lg text-amber-500",children:[e.jsx(b,{className:"inline mr-2"}),s==null?void 0:s.title]}),e.jsx("p",{className:"text-gray-600",children:s==null?void 0:s.description})]})})}),e.jsx("div",{className:" max-h-[95%] overflow-y-auto",children:(d=(c=l==null?void 0:l.data)==null?void 0:c.data)==null?void 0:d.docs.map(n=>e.jsx(O,{asChild:!0,onClick:()=>r(n),children:e.jsxs("div",{className:"relative flex items-start p-4 bg-white border border-gray-200 rounded-lg shadow-md mb-2 cursor-pointer",children:[e.jsx(b,{className:"h-6 w-6 text-amber-500"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"font-semibold text-gray-900 ",children:n==null?void 0:n.title}),e.jsx("div",{className:"w-60 overflow-hidden text-ellipsis whitespace-nowrap mb-2",children:n==null?void 0:n.description})]}),e.jsx(W,{className:"text-xs absolute bottom-0 right-0",variant:"outline",children:Q(n==null?void 0:n.createdAt).format("DD-MM-YYYY hh:mm a")})]})},n==null?void 0:n.id))})]})}var v="Avatar",[fe,be]=J(v),[je,S]=fe(v),R=i.forwardRef((a,t)=>{const{__scopeAvatar:s,...r}=a,[l,c]=i.useState("idle");return e.jsx(je,{scope:s,imageLoadingStatus:l,onImageLoadingStatusChange:c,children:e.jsx(f.span,{...r,ref:t})})});R.displayName=v;var T="AvatarImage",D=i.forwardRef((a,t)=>{const{__scopeAvatar:s,src:r,onLoadingStatusChange:l=()=>{},...c}=a,d=S(T,s),n=ve(r),o=X(u=>{l(u),d.onImageLoadingStatusChange(u)});return L(()=>{n!=="idle"&&o(n)},[n,o]),n==="loaded"?e.jsx(f.img,{...c,ref:t,src:r}):null});D.displayName=T;var I="AvatarFallback",P=i.forwardRef((a,t)=>{const{__scopeAvatar:s,delayMs:r,...l}=a,c=S(I,s),[d,n]=i.useState(r===void 0);return i.useEffect(()=>{if(r!==void 0){const o=window.setTimeout(()=>n(!0),r);return()=>window.clearTimeout(o)}},[r]),d&&c.imageLoadingStatus!=="loaded"?e.jsx(f.span,{...l,ref:t}):null});P.displayName=I;function ve(a){const[t,s]=i.useState("idle");return L(()=>{if(!a){s("error");return}let r=!0;const l=new window.Image,c=d=>()=>{r&&s(d)};return s("loading"),l.onload=c("loaded"),l.onerror=c("error"),l.src=a,()=>{r=!1}},[a]),t}var B=R,E=D,z=P;const _=i.forwardRef(({className:a,...t},s)=>e.jsx(B,{ref:s,className:j("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...t}));_.displayName=B.displayName;const U=i.forwardRef(({className:a,...t},s)=>e.jsx(E,{ref:s,className:j("aspect-square h-full w-full",a),...t}));U.displayName=E.displayName;const $=i.forwardRef(({className:a,...t},s)=>e.jsx(z,{ref:s,className:j("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...t}));$.displayName=z.displayName;function ye(){var r,l;x();const{user:a}=x(),{logout:t}=x(),s=()=>{le("Are You Sure ?","Please confirm",async()=>{ie(),t()})};return console.log(a),console.log(a==null?void 0:a.email),e.jsxs(Z,{children:[e.jsx(ee,{asChild:!0,children:e.jsx(ae,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:e.jsxs(_,{className:"h-10 w-10",children:[e.jsx(U,{src:a!=null&&a.googleId?a==null?void 0:a.imageUrl:a==null?void 0:a.imgFullPath,alt:"profile"}),e.jsx($,{children:"SN"})]})})}),e.jsxs(se,{className:"w-56",align:"end",forceMount:!0,children:[e.jsx(te,{className:"font-normal",children:e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("p",{className:"text-sm font-medium leading-none",children:a==null?void 0:a.fullName}),e.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:(l=(r=a==null?void 0:a.email)==null?void 0:r.replace("@","[at]"))==null?void 0:l.replace(".","[dot]")})]})}),e.jsx(ne,{}),e.jsxs(oe,{children:[e.jsxs(h,{onClick:()=>window.location.replace("/settings/dashboard/home"),className:"flex items-center gap-2",children:[e.jsx(ue,{size:16}),e.jsx("span",{children:"Profile"})]}),e.jsxs(h,{onClick:()=>window.location.replace("/settings/dashboard/change-password"),className:"flex items-center gap-2",children:[e.jsx(he,{size:16}),e.jsx("span",{children:"Change Password"})]}),e.jsxs(h,{onClick:()=>window.location.replace("/settings/dashboard/notification"),className:"flex items-center gap-2",children:[e.jsx(M,{size:16}),e.jsx("span",{children:"Notifications"})]})]}),typeof window<"u"&&!window.ReactNativeWebView&&e.jsxs(h,{onClick:s,className:"flex items-center gap-2 text-red-600 focus:text-red-600",children:[e.jsx(re,{size:16}),e.jsx("span",{children:"Log out"})]})]})]})}const we=i.forwardRef(({children:a,title:t="",subTitle:s="",searchLink:r="",searchLabel:l="",meta:c,...d},n)=>{me(t);const{user:o}=x(),{currentLanguage:u,setcurrentLanguage:F,languageKey:H,setlanguageKey:q}=x();i.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},[t]);const Y=K=>{const y=K.target.value;F(xe(y)),q(y)};return e.jsxs(e.Fragment,{children:[e.jsxs(ce,{children:[e.jsx("title",{children:`${t} | Grievance`}),c]}),e.jsx("div",{ref:n,...d,children:e.jsxs(k,{children:[e.jsx(A,{}),e.jsxs(C,{className:"sm:max-w-[600px]",children:[e.jsxs(m,{className:"mt-4 flex justify-between text-xl font-bold text-gray-500",children:["This is your process",e.jsx(w,{to:"/grievance/citizen/complaint-registration-info",target:"_blank"})," "]}),e.jsx("div",{className:"py-4",children:e.jsxs("video",{controls:!0,autoPlay:!0,width:"fill",children:[e.jsx("source",{src:"/images/info1.mp4",type:"video/mp4"}),"Your browser does not support HTML video."]})})]}),e.jsxs(p,{fixed:!0,children:[e.jsxs(p.Header,{sticky:!0,className:"border-b border-r-2 border-r-muted",children:[e.jsxs("div",{className:"flex gap-3",children:[(o==null?void 0:o.ulbName)&&e.jsxs("h1",{className:"hidden text-lg font-bold  text-gray-700 sm:block",children:["ULB :- ",o==null?void 0:o.ulbName]}),e.jsxs("h1",{className:"hidden text-lg font-bold  text-gray-700 sm:block",children:["ROLE :-"," ",(o==null?void 0:o.role)=="Normal"?"Workflow Member":o==null?void 0:o.role]})]}),e.jsxs("div",{className:"ml-auto flex items-center space-x-4 ",children:[e.jsxs(N,{trigger:e.jsx(ge,{size:25,className:"cursor-pointer text-black hover:scale-110"}),children:[e.jsx(m,{className:"mb-4 text-lg text-[#0D7538]",children:"Recent Updates"}),e.jsx(de,{notificationSide:0,notificationType:1})]}),e.jsxs(N,{trigger:e.jsx(M,{size:25,className:"cursor-pointer text-black hover:scale-110"}),children:[e.jsxs(m,{className:"mb-4 text-lg text-[#0D7538] ",children:["My Notifications"," "]}),e.jsx(pe,{notificationSide:0,notificationType:0})]}),e.jsx("div",{children:(o==null?void 0:o.role)==="Citizen user"?e.jsx("div",{className:"relative",children:e.jsxs("select",{value:H,onChange:Y,className:"h-10 cursor-pointer bg-transparent outline-none",children:[e.jsx("option",{value:"english",children:"English"}),e.jsx("option",{value:"hindi",children:"हिन्दी"})]})}):e.jsx("div",{style:{display:"none"}})}),e.jsx(ye,{})]})]}),e.jsxs(p.Body,{children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between space-y-2",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:t}),e.jsx("p",{className:"text-muted-foreground",children:s})]}),l&&e.jsx(w,{className:"font-semibold text-blue-800 hover:underline",to:r,target:"_blank",children:e.jsx("div",{children:l})})]}),e.jsx("div",{className:"-mx-4 flex-1 overflow-auto px-4 py-1 lg:flex-row lg:space-x-12 lg:space-y-0",children:a})]})]})]})})]})}),ke=we;export{ke as P};
