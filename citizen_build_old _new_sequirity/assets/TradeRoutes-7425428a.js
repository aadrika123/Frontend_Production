import{j as e,L as Ms,D as qs,B as ea,T as Ks,d as zs,e as sa,c as ht,b as gt,s as ta,f as aa,P as Ot,C as la,U as Wt,S as na,g as Qs,p as ia,k as ca,F as At,W as ra,l as Ws,m as Hs,n as tt,G as Ys,A as at,H as da,o as oa,q as ma,u as ua,v as kt,w as Et,x as xa}from"./mui-8bd1858b.js";import{r as a,g as ha,b as ft,u as is,L as Ee,f as ks,a as ga,h as fa,i as ja,j as ke}from"./router-56e993c5.js";import{T as oe,H as fe,u as ba,M as Na}from"./TradeApiListFile-013a12bb.js";import{o as Zs,c as Ve,d as Z,u as Pe,A as me,e as ya,q as va,r as jt,s as wa,t as mt,v as Us,U as pa,M as ns,h as Sa,Q as J,j as Xs,T as Ca,w as Da,H as lt,B as Ls,x as Bs,y as Ht,z as Ut,b as Es,k as _a,D as $a,L as Yt,n as we,E as bt,f as Gt,C as Gs,G as Fa,I as Ta,J as Oa,K as Lt,g as nt,i as it,O as Aa,S as ka,V as Ea,X as La,Y as Ia,Z as Va}from"./index-10c1abd5.js";import{O as Pa,C as ut,c as ze,N as Te,S as Ba,I as ct,a as Ra,b as Ma}from"./UsefulFunctions-b11be696.js";import{r as Nt}from"./createSvgIcon-26269e90.js";import{R as yt}from"./index-a188d691.js";import{a as Os,b as qa}from"./axios-ab7cc016.js";import"./sweetalert2.esm.all-93f49e75.js";import{C as za}from"./ChatBot-72c5dcd2.js";import{p as Wa,a as It}from"./approved-b4ef6d66.js";import{S as Kt}from"./ServerErrorCard-29f15f90.js";import{G as Ha}from"./index.esm-f9520c1e.js";import{d as rt}from"./demoUser-c2d710fd.js";import{I as Ua}from"./index.esm-6f17e113.js";import Ya from"./ProtectedRoutes-3785cdaf.js";import"./reactIcons-d26c0b2d.js";import"./materialTailwind-51fe8e6d.js";import"./moment-a9aaa855.js";/* empty css                */import"./redux-a3f69129.js";import"./i18next-2edfafb0.js";import"./localstorage-fbfe5679.js";import"./user-9843d999.js";import"./index.esm-79e01f48.js";import"./useSetLogout-66bb89a9.js";import"./TitleBar-06bc13cd.js";const w="w-full block flex-shrink flex-grow max-w-full leading-5 relative text-sm py-2 px-4 ltr:rounded-l rtl:rounded-r text-gray-800  overflow-x-auto focus:outline-none border border-gray-200 focus:border-gray-300 focus:ring-0  ",Ga="w-full block flex-shrink flex-grow max-w-full leading-5 relative text-md py-2 px-4 bg-gray-200 ltr:rounded-l rtl:rounded-r text-gray-800  overflow-x-auto focus:outline-none border border-gray-200 focus:border-gray-300 focus:ring-0  ",q="form-group col-span-4 md:col-span-1 mb-4 md:px-4 ",ae="text-red-600 absolute text-xs",B="form-label inline-block mb-1 text-gray-600 text-sm font-semibold",Ie="capitalize shadow hover:shadow-md py-2 px-5 mr-2 mb-2 text-sm font-medium text-white focus:outline-none bg-red-500 rounded-lg border border-red-200 hover:bg-red-600 hover:text-white focus:z-10 focus:ring-4 focus:ring-gray-200 ",Fe="capitalize hover:shadow-md text-white bg-indigo-600 hover:bg-indigo-700 focus:ring-4 focus:ring-indigo-300 font-medium rounded-lg text-sm px-5 py-2 mr-2 mb-2 focus:outline-none ",Vt="capitalize text-white bg-gradient-to-r from-cyan-500 to-blue-500 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-cyan-300 font-medium rounded-lg text-sm px-5 py-2 text-center mr-2 mb-2";function et(s){const n=s.applicationType,u="w-full md:mx-4",C="flex text-gray-500 text-lg font-mono",b="w-full  border shadow  shadow-zinc-50 hover:shadow-lg hover:shadow-zinc-100 md:mr-6 text-slate-600 rounded-lg text-lg font-poppins font-semibold uppercase text-center";return e.jsxs("div",{className:`${u} `,children:[n==1&&e.jsx("div",{className:"flex text-gray-500 text-lg font-mono",children:e.jsx("div",{className:`${b}`,children:e.jsxs("h1",{className:"flex justify-start",children:[e.jsx(Zs,{anchorId:"applicationNo"}),e.jsxs("span",{className:"p-2",children:[e.jsx(Ms,{fontSize:"large"}),"   You are"," ",s!=null&&s.updateStatus?e.jsxs("span",{children:["updating a New Trade Application :",e.jsxs("span",{className:"underline cursor-pointer active:text-blue-600 focus:text-blue-600",onClick:()=>{navigator.clipboard.writeText(s==null?void 0:s.applicationNo),window.document.getElementById("checkMark").style.display=""},id:"applicationNo","data-tooltip-content":"click to copy Application No.",children:[s==null?void 0:s.applicationNo,e.jsx("span",{style:{display:"none",color:"green"},id:"checkMark",children:e.jsx(qs,{})})]})]}):e.jsx("span",{children:"applying for a New Trade License"})]})]})})}),n==2&&e.jsx("div",{className:`${C}`,children:e.jsx("div",{className:`${b}`,children:e.jsx("h1",{className:"flex justify-start",children:e.jsxs("span",{className:"p-2",children:[e.jsx(Ms,{fontSize:"large"}),"   You are"," ",s!=null&&s.updateStatus?e.jsxs("span",{children:["updating a Renewal Trade Application :",e.jsxs("span",{className:"underline cursor-pointer active:text-blue-600 focus:text-blue-600",onClick:()=>{navigator.clipboard.writeText(s==null?void 0:s.applicationNo),window.document.getElementById("checkMark").style.display=""},id:"applicationNo","data-tooltip-content":"click to copy Application No.",children:[s==null?void 0:s.applicationNo,e.jsx("span",{style:{display:"none",color:"green"},id:"checkMark",children:e.jsx(qs,{})})]})]}):e.jsx("span",{children:"applying for a Trade License Renewal"})]})})})}),n==3&&e.jsx("div",{className:`${C}`,children:e.jsx("div",{className:`${b}`,children:e.jsx("h1",{className:"flex justify-start",children:e.jsxs("span",{className:"p-2",children:[e.jsx(Ms,{fontSize:"large"}),"   You are"," ",s!=null&&s.updateStatus?e.jsxs("span",{children:["updating an Amendment Trade Application :",e.jsxs("span",{className:"underline cursor-pointer active:text-blue-600 focus:text-blue-600",onClick:()=>{navigator.clipboard.writeText(s==null?void 0:s.applicationNo),window.document.getElementById("checkMark").style.display=""},id:"applicationNo","data-tooltip-content":"click to copy Application No.",children:[s==null?void 0:s.applicationNo,e.jsx("span",{style:{display:"none",color:"green"},id:"checkMark",children:e.jsx(qs,{})})]})]}):e.jsx("span",{children:"applying for a Trade License Amendment"})]})})})}),n==4&&e.jsx("div",{className:`${C}`,children:e.jsx("div",{className:`${b}`,children:e.jsx("h1",{className:"flex justify-start",children:e.jsxs("span",{className:"p-2",children:[e.jsx(Ms,{fontSize:"large"}),"   You are"," ",s!=null&&s.updateStatus?e.jsxs("span",{children:["updating an Surrender Trade Application :",e.jsxs("span",{className:"underline cursor-pointer active:text-blue-600 focus:text-blue-600",onClick:()=>{navigator.clipboard.writeText(s==null?void 0:s.applicationNo),window.document.getElementById("checkMark").style.display=""},id:"applicationNo","data-tooltip-content":"click to copy Application No.",children:[s==null?void 0:s.applicationNo,e.jsx("span",{style:{display:"none",color:"green"},id:"checkMark",children:e.jsx(qs,{})})]})]}):e.jsx("span",{children:"applying for a Trade License Surrender"})]})})})})]})}function Re(s){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"w-full flex justify-start outline outline-1 outline-blue-500 bg-blue-100 hover:bg-blue-100 hover:shadow-lg p-2 my-2 rounded md:mr-4",children:[e.jsxs("h1",{className:" font-serif font-semibold text-xs ",children:[e.jsx(ea,{})," ",s==null?void 0:s.heading," "]}),e.jsxs("p",{className:"md:ml-4 italic font-mono text-xs  capitalize  rounded-lg w-1/2 md:w-auto flex",children:[e.jsx("span",{className:"text-amber-600"}),e.jsxs("span",{className:"p-1",children:[s==null?void 0:s.message," "]})]})]})})}function Ka(s){var f,O,M;const{applicationType:n,colorCode:u,currentStep:C,currentStepFun:b,collectAllFormData:r,collectFormDataFun:t,firmStepFun:g,firmStep:h,colorCodeFun:x,fieldData:m,licenseData:p,showLoader:$}=s==null?void 0:s.values,[S,E]=a.useState(!1);a.useState(!1),a.useState(!1),a.useState();const[A,k]=a.useState(!1),[c,z]=a.useState(!0),[d,L]=a.useState(!1);console.log("applicationType initial ",n);const I=Ve({applyWith:Z().required("Select an option"),firmType:Z().required("Select firm type"),ownershipType:Z().required("Select ownership type"),categoryTypeId:Z().required("select an option"),noticeNo:Z().when("applyWith",{is:"1",then:Z().required("Notice No. is required")}),noticeDate:Z().when("applyWith",{is:"1",then:Z().required("Notice date is required")})}),o=Pe({initialValues:{applyWith:"",noticeNo:"",noticeDate:"",firmType:"",ownershipType:"",licenseNo:"",licenseNo:"",otherFirmType:"",categoryTypeId:""},enableReinitialize:!0,onSubmit:(l,N)=>{$(!0),console.log("basic deatils ",l),t("initialBusinessDetails",l,0),setTimeout(()=>{g(2),b(2),x(1),$(!1)},500)},validationSchema:I}),y=[{option:"Notice No.",value:1},{option:"New Application",value:2}],j=l=>{var _;$(!0);const N=l.target.value;N!=""?me.post(oe.GET_DENIAL_DETAILS,{noticeNo:N,ulbId:(_=s==null?void 0:s.values)==null?void 0:_.ulbId},fe()).then(function(U){console.log("notice data ",U.data),s==null||s.denialDetailsFun(U.data),U.data.status?(s.toast("Notice No. found","success"),o.setFieldValue("noticeDate",U.data.data.denialDetails.noticedate),L(!0)):(s.toast("Invalid Notice No.","notice"),F(),L(!0)),$(!1)}).catch(function(U){console.log(U),s.toast("Something Went Wrong !","error"),$(!1)}):(F(),s==null||s.denialDetailsFun({})),$(!1)},F=()=>{o.setFieldValue("noticeDate",""),o.setFieldValue("noticeNo",""),s==null||s.denialDetailsFun({})},T=l=>{let N=l.target.name,_=l.target.value;N==="applyWith"&&E(_==="1"),N==="applyWith"&&_==="2"&&F(),N==="firmType"&&k(_==="5")},V=()=>{z(!c)};return e.jsx(e.Fragment,{children:e.jsx("div",{className:" absolute w-full md:w-full sm:w-full  pl-2 md:pr-4  pb-24 ",children:e.jsx("form",{onChange:T,onSubmit:o.handleSubmit,children:e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:" md:h-auto  bg-white p-2  ",children:[e.jsx(Re,{heading:"Basic Details",message:"Some basic details about your business...",iconTitle:"Initial Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4",children:[e.jsxs("div",{className:`${q}`,children:[e.jsx(Ks,{title:e.jsxs("div",{className:"",children:[e.jsx(zs,{color:"primary",fontWeight:"bold",children:"DIRECTION"}),e.jsxs(zs,{variant:"caption",gutterBottom:!0,children:[e.jsx(e.Fragment,{children:` 
1. Apply with NOTICE NO if a denial notice has been issued against you.`})," ",e.jsx("br",{}),e.jsx(e.Fragment,{children:`
2.If your FIRM TYPE is other than the options listed. A box will appear for you to define it.`})," ",e.jsx("br",{}),e.jsx("u",{children:`
3. All starred (*) fields are marked mandatory.`}),".",e.jsx("br",{})]}),e.jsxs(zs,{color:"primary",fontWeight:"bold",children:[e.jsx("br",{})," निर्देश ",e.jsx("br",{})]}),e.jsxs(zs,{variant:"caption",gutterBottom:!0,children:["1. यदि आपके खिलाफ एक इनकार नोटिस जारी हुआ  है तो नोटिस नंबर के साथ आवेदन करें।",e.jsx("br",{}),"2.यदि आपकी फर्म प्रकार सूचीबद्ध विकल्पों के अलावा अन्य है। इसे परिभाषित करने के लिए आपको एक बॉक्स दिखाई देगा।",e.jsx("br",{}),"3. सभी तारांकित (*) बॉक्स अनिवार्य रूप से चिह्नित हैं। ",e.jsx("br",{})]}),"------*--------"]}),children:e.jsxs("label",{className:`${B} text-xs`,children:["Apply With",e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),e.jsx(sa,{})]})}),e.jsxs("select",{...o.getFieldProps("applyWith"),className:`${w} `,value:o.values.applyWith,onChange:o.handleChange,children:[e.jsx("option",{value:"",selected:!0,children:"SELECT"}),y==null?void 0:y.map(l=>e.jsx("option",{value:l.value,children:l.option}))]}),e.jsx("span",{className:`${ae}`,children:o.touched.applyWith&&o.errors.applyWith?o.errors.applyWith:null})]}),e.jsxs("div",{className:`relative  col-span-4 md:col-span-3 ${S?"grid":"hidden"} grid-cols-1 md:grid-cols-3 `,children:[e.jsxs("div",{className:`${d?"":"hidden"}`,children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-xs font-normal",children:["Notice Date",e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{name:"noticeDate",type:"date",className:`read-only:bg-gray-100  ${w} `,placeholder:"2021/04/12",value:o.values.noticeDate,onChange:o.handleChange,readOnly:"readonly"}),e.jsx("span",{className:`${ae}`,children:o.touched.noticeDate&&o.errors.noticeDate?o.errors.noticeDate:null})]}),e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-xs font-normal",children:["Notice No.",e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("div",{className:"flex",children:e.jsx("div",{className:"flex-1",children:e.jsx("input",{name:"noticeNo",type:"text",className:` ${w} `,placeholder:"Enter Notice No.",min:6,onBlur:j,value:o.values.noticeNo,onChange:o.handleChange})})}),e.jsx("span",{className:`${ae}`,children:o.touched.noticeNo&&o.errors.noticeNo?o.errors.noticeNo:null})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4",children:[e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[" ","Firm Type"," ",e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsxs("select",{...o.getFieldProps("firmType"),className:`${w}  text-xs`,value:o.values.firmType,onChange:o.handleChange,children:[e.jsx("option",{value:"",disabled:!0,selected:!0,children:"SELECT"}),(f=m==null?void 0:m.firmTypeList)==null?void 0:f.map(l=>e.jsx("option",{value:l.id,children:l.firm_type}))]}),e.jsx("span",{className:`${ae}`,children:o.touched.firmType&&o.errors.firmType?o.errors.firmType:null})]}),e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:["Premises Owner Type",e.jsx("small",{className:"block mt-1 text-xs font-semibold text-red-600 inline ",children:"*"})]}),e.jsxs("select",{...o.getFieldProps("ownershipType"),className:`${w}  text-xs `,children:[e.jsx("option",{value:"",disabled:!0,selected:!0,children:"SELECT"}),(O=m==null?void 0:m.ownershipTypeList)==null?void 0:O.map(l=>e.jsx("option",{value:l.id,children:l.ownership_type}))]}),e.jsx("span",{className:`${ae}`,children:o.touched.ownershipType&&o.errors.ownershipType?o.errors.ownershipType:null})]}),e.jsxs("div",{className:`${q} ${A?"":"hidden"}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:["Other Firm Type",e.jsx("small",{className:"block mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{type:"text",name:"otherFirmType",className:`${w}  text-xs `,placeholder:"Other Firm type",onChange:l=>{const N=l.target.value;/^[a-zA-Z]*$/.test(N)&&o.handleChange(l)},value:o.values.otherFirmType}),e.jsx("span",{className:`${ae}`,children:o.touched.ownershipType&&o.errors.ownershipType?o.errors.ownershipType:null})]}),e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:["Category Type Id",e.jsx("small",{className:"block mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsxs("select",{...o.getFieldProps("categoryTypeId"),className:`${w}  text-xs `,children:[e.jsx("option",{value:"",disabled:!0,selected:!0,children:"SELECT"}),(M=m==null?void 0:m.categoryTypeList)==null?void 0:M.map(l=>e.jsx("option",{value:l.id,children:l.category_type}))]}),e.jsx("span",{className:`${ae}`,children:o.touched.categoryTypeId&&o.errors.categoryTypeId?o.errors.categoryTypeId:null})]}),e.jsx("div",{className:"col-span-4 grid grid-cols-2",children:e.jsx("div",{className:"md:px-10"})})]}),e.jsxs("div",{className:"text-sm md:mt-8 h-full ",children:[e.jsxs("button",{type:"button",className:"underline text-xs text-blue-400 my-2",onClick:V,children:[c?"Hide":"Show"," info box..."]}),e.jsxs("div",{className:`shadow-sm border border-cyan-50 shadow-gray-300 md:pr-10 ${c?"block":"hidden"}`,children:[e.jsx("h1",{className:"md:h-8 underline hover:underline bg-slate-50 rounded text-dark p-2 mb-2 font-medium ",children:"1. Apply with NOTICE NO if a denial notice has been issued against you."}),e.jsx("h1",{className:"md:h-8 hover:underline bg-slate-50  rounded text-dark p-2 mb-2 font-medium ",children:"2. If your FIRM TYPE is other than the options listed. A box will appear for you to define it."}),e.jsxs("h1",{className:"md:h-8 hover:underline bg-slate-50 rounded text-dark p-2 mb-2 font-medium ",children:["3. All starred ",e.jsx("span",{className:"text-red-500",children:"(*)"})," ","fields are marked mandatory."]}),e.jsx("p",{className:"",children:" "}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-2 w-full "})]})]})]}),e.jsx("div",{className:"md:px-10 text-right  w-full",children:e.jsx("button",{type:"submit",className:`${Fe}`,children:"Save & Next"})})]})})})})}var Zt={exports:{}},Js={};Object.defineProperty(Js,"__esModule",{value:!0});var Vs,xt=a,ve=(Vs=xt)&&typeof Vs=="object"&&"default"in Vs?Vs.default:Vs;function Jt(s,n){return(Jt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(u,C){return u.__proto__=C,u})(s,n)}function De(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(function(s,n){n===void 0&&(n={});var u=n.insertAt;if(typeof document<"u"){var C=document.head||document.getElementsByTagName("head")[0],b=document.createElement("style");b.type="text/css",u==="top"&&C.firstChild?C.insertBefore(b,C.firstChild):C.appendChild(b),b.styleSheet?b.styleSheet.cssText=s:b.appendChild(document.createTextNode(s))}})('.multiSelectContainer,.multiSelectContainer *,.multiSelectContainer :after,.multiSelectContainer :before{box-sizing:border-box}.multiSelectContainer{position:relative;text-align:left;width:100%}.disable_ms{opacity:.5;pointer-events:none}.display-none{display:none}.searchWrapper{border:1px solid #ccc;border-radius:4px;min-height:22px;padding:5px;position:relative}.multiSelectContainer input{background:transparent;border:none;margin-top:3px}.multiSelectContainer input:focus{outline:none}.chip{align-items:center;background:#0096fb;border-radius:11px;color:#fff;display:inline-flex;font-size:13px;line-height:19px;margin-bottom:5px;margin-right:5px;padding:4px 10px}.chip,.singleChip{white-space:nowrap}.singleChip{background:none;border-radius:none;color:inherit}.singleChip i{display:none}.closeIcon{cursor:pointer;float:right;height:13px;margin-left:5px;width:13px}.optionListContainer{background:#fff;border-radius:4px;margin-top:1px;position:absolute;width:100%;z-index:2}.multiSelectContainer ul{border:1px solid #ccc;border-radius:4px;display:block;margin:0;max-height:250px;overflow-y:auto;padding:0}.multiSelectContainer li{padding:10px}.multiSelectContainer li:hover{background:#0096fb;color:#fff;cursor:pointer}.checkbox{margin-right:10px}.disableSelection{opacity:.5;pointer-events:none}.highlightOption{background:#0096fb;color:#fff}.displayBlock{display:block}.displayNone{display:none}.notFound{display:block;padding:10px}.singleSelect{padding-right:20px}li.groupHeading{color:#908e8e;padding:5px 15px;pointer-events:none}li.groupChildEle{padding-left:30px}.icon_down_dir{position:absolute;right:10px;top:50%;transform:translateY(-50%);width:14px}.icon_down_dir:before{content:"\\e803"}.custom-close{display:flex}');var Pt={circle:"data:image/svg+xml,%3Csvg%20height%3D%22512px%22%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%20512%20512%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%20512%20512%22%20width%3D%22512px%22%20xml%3Aspace%3D%22preserve%22%20%20%20%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20%20%20%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Cstyle%20type%3D%22text%2Fcss%22%3E%20%20%20%20%20%20%20%20.st0%7B%20%20%20%20%20%20%20%20%20%20%20%20fill%3A%23fff%3B%20%20%20%20%20%20%20%20%7D%20%3C%2Fstyle%3E%20%20%20%20%3Cg%3E%20%20%20%20%20%20%20%20%3Cpath%20class%3D%22st0%22%20d%3D%22M256%2C33C132.3%2C33%2C32%2C133.3%2C32%2C257c0%2C123.7%2C100.3%2C224%2C224%2C224c123.7%2C0%2C224-100.3%2C224-224C480%2C133.3%2C379.7%2C33%2C256%2C33z%20%20%20%20M364.3%2C332.5c1.5%2C1.5%2C2.3%2C3.5%2C2.3%2C5.6c0%2C2.1-0.8%2C4.2-2.3%2C5.6l-21.6%2C21.7c-1.6%2C1.6-3.6%2C2.3-5.6%2C2.3c-2%2C0-4.1-0.8-5.6-2.3L256%2C289.8%20%20%20l-75.4%2C75.7c-1.5%2C1.6-3.6%2C2.3-5.6%2C2.3c-2%2C0-4.1-0.8-5.6-2.3l-21.6-21.7c-1.5-1.5-2.3-3.5-2.3-5.6c0-2.1%2C0.8-4.2%2C2.3-5.6l75.7-76%20%20%20l-75.9-75c-3.1-3.1-3.1-8.2%2C0-11.3l21.6-21.7c1.5-1.5%2C3.5-2.3%2C5.6-2.3c2.1%2C0%2C4.1%2C0.8%2C5.6%2C2.3l75.7%2C74.7l75.7-74.7%20%20%20c1.5-1.5%2C3.5-2.3%2C5.6-2.3c2.1%2C0%2C4.1%2C0.8%2C5.6%2C2.3l21.6%2C21.7c3.1%2C3.1%2C3.1%2C8.2%2C0%2C11.3l-75.9%2C75L364.3%2C332.5z%22%2F%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",circle2:"data:image/svg+xml,%3Csvg%20viewBox%3D%220%200%2096%2096%22%20%20%20%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%20%20%20%20%3Cstyle%20type%3D%22text%2Fcss%22%3E%20%20%20%20%20%20%20%20.st0%7B%20%20%20%20%20%20%20%20%20%20%20%20fill%3A%23fff%3B%20%20%20%20%20%20%20%20%7D%20%3C%2Fstyle%3E%20%20%20%20%3Cg%3E%20%20%20%20%20%20%20%20%3Cpath%20class%3D%22st0%22%20d%3D%22M48%2C0A48%2C48%2C0%2C1%2C0%2C96%2C48%2C48.0512%2C48.0512%2C0%2C0%2C0%2C48%2C0Zm0%2C84A36%2C36%2C0%2C1%2C1%2C84%2C48%2C36.0393%2C36.0393%2C0%2C0%2C1%2C48%2C84Z%22%2F%3E%20%20%20%20%20%20%20%20%3Cpath%20class%3D%22st0%22%20d%3D%22M64.2422%2C31.7578a5.9979%2C5.9979%2C0%2C0%2C0-8.4844%2C0L48%2C39.5156l-7.7578-7.7578a5.9994%2C5.9994%2C0%2C0%2C0-8.4844%2C8.4844L39.5156%2C48l-7.7578%2C7.7578a5.9994%2C5.9994%2C0%2C1%2C0%2C8.4844%2C8.4844L48%2C56.4844l7.7578%2C7.7578a5.9994%2C5.9994%2C0%2C0%2C0%2C8.4844-8.4844L56.4844%2C48l7.7578-7.7578A5.9979%2C5.9979%2C0%2C0%2C0%2C64.2422%2C31.7578Z%22%2F%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",close:"data:image/svg+xml,%3Csvg%20height%3D%22135.467mm%22%20style%3D%22shape-rendering%3AgeometricPrecision%3B%20text-rendering%3AgeometricPrecision%3B%20image-rendering%3AoptimizeQuality%3B%20fill-rule%3Aevenodd%3B%20clip-rule%3Aevenodd%22%20viewBox%3D%220%200%2013547%2013547%22%20width%3D%22135.467mm%22%20xml%3Aspace%3D%22preserve%22%20%20%20%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20%20%20%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Cdefs%3E%20%20%20%20%20%20%20%20%3Cstyle%20type%3D%22text%2Fcss%22%3E%20%20%20%20%20%20%20%20%20%20%20%20.fil0%20%7Bfill%3Anone%7D%20%20%20%20%20%20%20%20%20%20%20%20.fil1%20%7Bfill%3A%23fff%7D%20%20%20%20%20%20%20%20%3C%2Fstyle%3E%20%20%20%20%3C%2Fdefs%3E%20%20%20%20%3Cg%20id%3D%22Ebene_x0020_1%22%3E%20%20%20%20%20%20%20%20%3Cpolygon%20class%3D%22fil0%22%20points%3D%220%2C0%2013547%2C0%2013547%2C13547%200%2C13547%20%22%2F%3E%20%20%20%20%20%20%20%20%3Cpath%20class%3D%22fil1%22%20d%3D%22M714%2012832l12118%200%200%20-12117%20-12118%200%200%2012117zm4188%20-2990l1871%20-1871%201871%201871%201197%20-1197%20-1871%20-1871%201871%20-1871%20-1197%20-1197%20-1871%201871%20-1871%20-1871%20-1197%201197%201871%201871%20-1871%201871%201197%201197z%22%2F%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",cancel:"data:image/svg+xml,%3Csvg%20height%3D%22512px%22%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%20512%20512%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%20512%20512%22%20width%3D%22512px%22%20xml%3Aspace%3D%22preserve%22%20%20%20%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20%20%20%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Cstyle%20type%3D%22text%2Fcss%22%3E%20%20%20%20%20%20%20%20.st0%7B%20%20%20%20%20%20%20%20%20%20%20%20fill%3A%23fff%3B%20%20%20%20%20%20%20%20%7D%20%3C%2Fstyle%3E%20%20%20%20%3Cpath%20class%3D%22st0%22%20d%3D%22M443.6%2C387.1L312.4%2C255.4l131.5-130c5.4-5.4%2C5.4-14.2%2C0-19.6l-37.4-37.6c-2.6-2.6-6.1-4-9.8-4c-3.7%2C0-7.2%2C1.5-9.8%2C4%20%20L256%2C197.8L124.9%2C68.3c-2.6-2.6-6.1-4-9.8-4c-3.7%2C0-7.2%2C1.5-9.8%2C4L68%2C105.9c-5.4%2C5.4-5.4%2C14.2%2C0%2C19.6l131.5%2C130L68.4%2C387.1%20%20c-2.6%2C2.6-4.1%2C6.1-4.1%2C9.8c0%2C3.7%2C1.4%2C7.2%2C4.1%2C9.8l37.4%2C37.6c2.7%2C2.7%2C6.2%2C4.1%2C9.8%2C4.1c3.5%2C0%2C7.1-1.3%2C9.8-4.1L256%2C313.1l130.7%2C131.1%20%20c2.7%2C2.7%2C6.2%2C4.1%2C9.8%2C4.1c3.5%2C0%2C7.1-1.3%2C9.8-4.1l37.4-37.6c2.6-2.6%2C4.1-6.1%2C4.1-9.8C447.7%2C393.2%2C446.2%2C389.7%2C443.6%2C387.1z%22%2F%3E%3C%2Fsvg%3E"};function Za(s){var n,u,C=xt.useRef(null);return u=s.outsideClick,xt.useEffect(function(){function b(r){n.current&&!n.current.contains(r.target)&&u()}return document.addEventListener("mousedown",b),function(){document.removeEventListener("mousedown",b)}},[n=C]),ve.createElement("div",{ref:C},s.children)}var dt=function(s){var n,u;function C(r){var t;return(t=s.call(this,r)||this).state={inputValue:"",options:r.options,filteredOptions:r.options,unfilteredOptions:r.options,selectedValues:Object.assign([],r.selectedValues),preSelectedValues:Object.assign([],r.selectedValues),toggleOptionsList:!1,highlightOption:r.avoidHighlightFirstOption?-1:0,showCheckbox:r.showCheckbox,keepSearchTerm:r.keepSearchTerm,groupedObject:[],closeIconType:Pt[r.closeIcon]||Pt.circle},t.optionTimeout=null,t.searchWrapper=ve.createRef(),t.searchBox=ve.createRef(),t.onChange=t.onChange.bind(De(t)),t.onKeyPress=t.onKeyPress.bind(De(t)),t.onFocus=t.onFocus.bind(De(t)),t.onBlur=t.onBlur.bind(De(t)),t.renderMultiselectContainer=t.renderMultiselectContainer.bind(De(t)),t.renderSelectedList=t.renderSelectedList.bind(De(t)),t.onRemoveSelectedItem=t.onRemoveSelectedItem.bind(De(t)),t.toggelOptionList=t.toggelOptionList.bind(De(t)),t.onArrowKeyNavigation=t.onArrowKeyNavigation.bind(De(t)),t.onSelectItem=t.onSelectItem.bind(De(t)),t.filterOptionsByInput=t.filterOptionsByInput.bind(De(t)),t.removeSelectedValuesFromOptions=t.removeSelectedValuesFromOptions.bind(De(t)),t.isSelectedValue=t.isSelectedValue.bind(De(t)),t.fadeOutSelection=t.fadeOutSelection.bind(De(t)),t.isDisablePreSelectedValues=t.isDisablePreSelectedValues.bind(De(t)),t.renderGroupByOptions=t.renderGroupByOptions.bind(De(t)),t.renderNormalOption=t.renderNormalOption.bind(De(t)),t.listenerCallback=t.listenerCallback.bind(De(t)),t.resetSelectedValues=t.resetSelectedValues.bind(De(t)),t.getSelectedItems=t.getSelectedItems.bind(De(t)),t.getSelectedItemsCount=t.getSelectedItemsCount.bind(De(t)),t.hideOnClickOutside=t.hideOnClickOutside.bind(De(t)),t.onCloseOptionList=t.onCloseOptionList.bind(De(t)),t.isVisible=t.isVisible.bind(De(t)),t}u=s,(n=C).prototype=Object.create(u.prototype),n.prototype.constructor=n,Jt(n,u);var b=C.prototype;return b.initialSetValue=function(){var r=this.props,t=r.groupBy,g=this.state.options;r.showCheckbox||r.singleSelect||this.removeSelectedValuesFromOptions(!1),t&&this.groupByOptions(g)},b.resetSelectedValues=function(){var r=this,t=this.state.unfilteredOptions;return new Promise(function(g){r.setState({selectedValues:[],preSelectedValues:[],options:t,filteredOptions:t},function(){g(),r.initialSetValue()})})},b.getSelectedItems=function(){return this.state.selectedValues},b.getSelectedItemsCount=function(){return this.state.selectedValues.length},b.componentDidMount=function(){this.initialSetValue(),this.searchWrapper.current.addEventListener("click",this.listenerCallback)},b.componentDidUpdate=function(r){var t=this.props,g=t.options,h=t.selectedValues,x=r.selectedValues;JSON.stringify(r.options)!==JSON.stringify(g)&&this.setState({options:g,filteredOptions:g,unfilteredOptions:g},this.initialSetValue),JSON.stringify(x)!==JSON.stringify(h)&&this.setState({selectedValues:Object.assign([],h),preSelectedValues:Object.assign([],h)},this.initialSetValue)},b.listenerCallback=function(){this.searchBox.current.focus()},b.componentWillUnmount=function(){this.optionTimeout&&clearTimeout(this.optionTimeout),this.searchWrapper.current.removeEventListener("click",this.listenerCallback)},b.removeSelectedValuesFromOptions=function(r){var t=this.props,g=t.isObject,h=t.displayValue,x=t.groupBy,m=this.state,p=m.selectedValues,$=p===void 0?[]:p,S=m.unfilteredOptions;if(!r&&x&&this.groupByOptions(m.options),$.length||r){if(g){var E=S.filter(function(k){return $.findIndex(function(c){return c[h]===k[h]})===-1});return x&&this.groupByOptions(E),void this.setState({options:E,filteredOptions:E},this.filterOptionsByInput)}var A=S.filter(function(k){return $.indexOf(k)===-1});this.setState({options:A,filteredOptions:A},this.filterOptionsByInput)}},b.groupByOptions=function(r){var t=this.props.groupBy,g=r.reduce(function(h,x){var m=x[t]||"Others";return h[m]=h[m]||[],h[m].push(x),h},Object.create({}));this.setState({groupedObject:g})},b.onChange=function(r){var t=this.props.onSearch;this.setState({inputValue:r.target.value},this.filterOptionsByInput),t&&t(r.target.value)},b.onKeyPress=function(r){var t=this.props.onKeyPressFn;t&&t(r,r.target.value)},b.filterOptionsByInput=function(){var r,t=this,g=this.state,h=g.inputValue,x=this.props,m=x.displayValue;r=g.filteredOptions.filter(x.isObject?function(p){return t.matchValues(p[m],h)}:function(p){return t.matchValues(p,h)}),this.groupByOptions(r),this.setState({options:r})},b.matchValues=function(r,t){return this.props.caseSensitiveSearch?r.indexOf(t)>-1:r.toLowerCase?r.toLowerCase().indexOf(t.toLowerCase())>-1:r.toString().indexOf(t)>-1},b.onArrowKeyNavigation=function(r){var t=this.state,g=t.options,h=t.highlightOption,x=t.toggleOptionsList,m=t.selectedValues;if(r.keyCode!==8||t.inputValue||this.props.disablePreSelectedValues||!m.length||this.onRemoveSelectedItem(m.length-1),g.length){if(r.keyCode===38)this.setState(h>0?function(p){return{highlightOption:p.highlightOption-1}}:{highlightOption:g.length-1});else if(r.keyCode===40)this.setState(h<g.length-1?function(p){return{highlightOption:p.highlightOption+1}}:{highlightOption:0});else if(r.key==="Enter"&&g.length&&x){if(h===-1)return;this.onSelectItem(g[h])}}},b.onRemoveSelectedItem=function(r){var t,g=this,h=this.state.selectedValues,x=this.props,m=x.onRemove,p=x.showCheckbox,$=x.displayValue;t=x.isObject?h.findIndex(function(S){return S[$]===r[$]}):h.indexOf(r),h.splice(t,1),m(h,r),this.setState({selectedValues:h},function(){p||g.removeSelectedValuesFromOptions(!0)}),this.props.closeOnSelect||this.searchBox.current.focus()},b.onSelectItem=function(r){var t=this,g=this.state.selectedValues,h=this.props,x=h.selectionLimit,m=h.onSelect,p=h.singleSelect,$=h.showCheckbox;if(this.state.keepSearchTerm||this.setState({inputValue:""}),p)return this.onSingleSelect(r),void m([r],r);this.isSelectedValue(r)?this.onRemoveSelectedItem(r):x!=g.length&&(g.push(r),m(g,r),this.setState({selectedValues:g},function(){$?t.filterOptionsByInput():t.removeSelectedValuesFromOptions(!0)}),this.props.closeOnSelect||this.searchBox.current.focus())},b.onSingleSelect=function(r){this.setState({selectedValues:[r],toggleOptionsList:!1})},b.isSelectedValue=function(r){var t=this.props,g=t.displayValue,h=this.state.selectedValues;return t.isObject?h.filter(function(x){return x[g]===r[g]}).length>0:h.filter(function(x){return x===r}).length>0},b.renderOptionList=function(){var r=this.props,t=r.groupBy,g=r.style,h=r.emptyRecordMsg,x=r.loadingMessage,m=x===void 0?"loading...":x,p=this.state.options;return r.loading?ve.createElement("ul",{className:"optionContainer",style:g.optionContainer},typeof m=="string"&&ve.createElement("span",{style:g.loadingMessage,className:"notFound"},m),typeof m!="string"&&m):ve.createElement("ul",{className:"optionContainer",style:g.optionContainer},p.length===0&&ve.createElement("span",{style:g.notFound,className:"notFound"},h),t?this.renderGroupByOptions():this.renderNormalOption())},b.renderGroupByOptions=function(){var r=this,t=this.props,g=t.isObject,h=g!==void 0&&g,x=t.displayValue,m=t.showCheckbox,p=t.style,$=t.singleSelect,S=this.state.groupedObject;return Object.keys(S).map(function(E){return ve.createElement(ve.Fragment,{key:E},ve.createElement("li",{className:"groupHeading",style:p.groupHeading},E),S[E].map(function(A,k){var c=r.isSelectedValue(A);return ve.createElement("li",{key:"option"+k,style:p.option,className:"groupChildEle option "+(c?"selected":"")+" "+(r.fadeOutSelection(A)?"disableSelection":"")+" "+(r.isDisablePreSelectedValues(A)?"disableSelection":""),onClick:function(){return r.onSelectItem(A)}},m&&!$&&ve.createElement("input",{type:"checkbox",className:"checkbox",readOnly:!0,checked:c}),r.props.optionValueDecorator(h?A[x]:(A||"").toString(),A))}))})},b.renderNormalOption=function(){var r=this,t=this.props,g=t.isObject,h=g!==void 0&&g,x=t.displayValue,m=t.showCheckbox,p=t.style,$=t.singleSelect,S=this.state.highlightOption;return this.state.options.map(function(E,A){var k=r.isSelectedValue(E);return ve.createElement("li",{key:"option"+A,style:p.option,className:"option "+(k?"selected":"")+" "+(S===A?"highlightOption highlight":"")+" "+(r.fadeOutSelection(E)?"disableSelection":"")+" "+(r.isDisablePreSelectedValues(E)?"disableSelection":""),onClick:function(){return r.onSelectItem(E)}},m&&!$&&ve.createElement("input",{type:"checkbox",readOnly:!0,className:"checkbox",checked:k}),r.props.optionValueDecorator(h?E[x]:(E||"").toString(),E))})},b.renderSelectedList=function(){var r=this,t=this.props,g=t.isObject,h=g!==void 0&&g,x=t.displayValue,m=t.style,p=t.singleSelect,$=t.customCloseIcon,S=this.state,E=S.closeIconType;return S.selectedValues.map(function(A,k){return ve.createElement("span",{className:"chip  "+(p&&"singleChip")+" "+(r.isDisablePreSelectedValues(A)&&"disableSelection"),key:k,style:m.chips},r.props.selectedValueDecorator(h?A[x]:(A||"").toString(),A),!r.isDisablePreSelectedValues(A)&&($?ve.createElement("i",{className:"custom-close",onClick:function(){return r.onRemoveSelectedItem(A)}},$):ve.createElement("img",{className:"icon_cancel closeIcon",src:E,onClick:function(){return r.onRemoveSelectedItem(A)}})))})},b.isDisablePreSelectedValues=function(r){var t=this.props,g=t.displayValue,h=this.state.preSelectedValues;return!(!t.disablePreSelectedValues||!h.length)&&(t.isObject?h.filter(function(x){return x[g]===r[g]}).length>0:h.filter(function(x){return x===r}).length>0)},b.fadeOutSelection=function(r){var t=this.props,g=t.selectionLimit;if(!t.singleSelect){var h=this.state.selectedValues;return g!=-1&&g==h.length&&(g==h.length?!t.showCheckbox||!this.isSelectedValue(r):void 0)}},b.toggelOptionList=function(){this.setState({toggleOptionsList:!this.state.toggleOptionsList,highlightOption:this.props.avoidHighlightFirstOption?-1:0})},b.onCloseOptionList=function(){this.setState({toggleOptionsList:!1,highlightOption:this.props.avoidHighlightFirstOption?-1:0,inputValue:""})},b.onFocus=function(){this.state.toggleOptionsList?clearTimeout(this.optionTimeout):this.toggelOptionList()},b.onBlur=function(){this.setState({inputValue:""},this.filterOptionsByInput),this.optionTimeout=setTimeout(this.onCloseOptionList,250)},b.isVisible=function(r){return!!r&&!!(r.offsetWidth||r.offsetHeight||r.getClientRects().length)},b.hideOnClickOutside=function(){var r=this,t=document.getElementsByClassName("multiselect-container")[0];document.addEventListener("click",function(g){t&&!t.contains(g.target)&&r.isVisible(t)&&r.toggelOptionList()})},b.renderMultiselectContainer=function(){var r=this.state,t=r.inputValue,g=r.toggleOptionsList,h=r.selectedValues,x=this.props,m=x.placeholder,p=x.style,$=x.singleSelect,S=x.id,E=x.name,A=x.hidePlaceholder,k=x.disable,c=x.showArrow,z=x.customArrow;return ve.createElement("div",{className:"multiselect-container multiSelectContainer "+(k?"disable_ms":"")+" "+(x.className||""),id:S||"multiselectContainerReact",style:p.multiselectContainer},ve.createElement("div",{className:"search-wrapper searchWrapper "+($?"singleSelect":""),ref:this.searchWrapper,style:p.searchBox,onClick:$?this.toggelOptionList:function(){}},!x.hideSelectedList&&this.renderSelectedList(),ve.createElement("input",{type:"text",ref:this.searchBox,className:"searchBox "+($&&h.length?"display-none":""),id:(S||"search")+"_input",name:(E||"search_name")+"_input",onChange:this.onChange,onKeyPress:this.onKeyPress,value:t,onFocus:this.onFocus,onBlur:this.onBlur,placeholder:$&&h.length||A&&h.length?"":m,onKeyDown:this.onArrowKeyNavigation,style:p.inputField,autoComplete:"off",disabled:$||k}),($||c)&&ve.createElement(ve.Fragment,null,z?ve.createElement("span",{className:"icon_down_dir"},z):ve.createElement("img",{src:"data:image/svg+xml,%3Csvg%20height%3D%2232%22%20viewBox%3D%220%200%2032%2032%22%20width%3D%2232%22%20%20%20%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%20%20%20%20%3Cg%20id%3D%22background%22%3E%20%20%20%20%20%20%20%20%3Crect%20fill%3D%22none%22%20height%3D%2232%22%20width%3D%2232%22%2F%3E%20%20%20%20%3C%2Fg%3E%20%20%20%20%3Cg%20id%3D%22arrow_x5F_down%22%3E%20%20%20%20%20%20%20%20%3Cpolygon%20points%3D%222.002%2C10%2016.001%2C24%2030.002%2C10%20%20%22%2F%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",className:"icon_cancel icon_down_dir"}))),ve.createElement("div",{className:"optionListContainer "+(g?"displayBlock":"displayNone"),onMouseDown:function(d){d.preventDefault()}},this.renderOptionList()))},b.render=function(){return ve.createElement(Za,{outsideClick:this.onCloseOptionList},this.renderMultiselectContainer())},C}(ve.Component);dt.defaultProps={options:[],disablePreSelectedValues:!1,selectedValues:[],isObject:!0,displayValue:"model",showCheckbox:!1,selectionLimit:-1,placeholder:"Select",groupBy:"",style:{},emptyRecordMsg:"No Options Available",onSelect:function(){},onRemove:function(){},onKeyPressFn:function(){},closeIcon:"circle2",singleSelect:!1,caseSensitiveSearch:!1,id:"",name:"",closeOnSelect:!0,avoidHighlightFirstOption:!1,hidePlaceholder:!1,showArrow:!1,keepSearchTerm:!1,customCloseIcon:"",className:"",customArrow:void 0,selectedValueDecorator:function(s){return s},optionValueDecorator:function(s){return s}},Js.Multiselect=dt,Js.default=dt;Zt.exports=Js;var Ja=Zt.exports;const Qa=ha(Ja);function Xa(s){var H,Y;const{applicationType:n,colorCode:u,currentStep:C,currentStepFun:b,collectFormDataFun:r,firmStepFun:t,firmStep:g,colorCodeFun:h,fieldData:x,allFormData:m,showLoader:p,ulbId:$}=s.values,[S,E]=a.useState(!1);a.useState({});const[A,k]=a.useState(!1);a.useState(!1),a.useState(!1);const[c,z]=a.useState();let d=[];const[L,I]=a.useState(!0),v=a.useRef(),[o,y]=a.useState([]),[j,F]=a.useState(!1),T=()=>{S==!0?E(!1):E(!0)},V=(R,W)=>{l.values.natureOfBusiness=R},f=(R,W)=>{l.values.natureOfBusiness=R},O=Ve({wardNo:Z().required("Select ward"),newWardNo:Z().required("Select New Ward."),areaSqft:ya().required("Enter Area of the premises"),firmName:Z().required("Enter Name of the firm").matches(/^[a-z0-9][a-z0-9\.&\s-\,]+$/i,"Firm name is Alphanumeric. "),firmEstdDate:va().required("Choose establishment date"),businessAddress:Z().required("Enter Business address").matches(/^[a-z0-9][a-z0-9\.\s\-\,]+$/i,"BusinessAddress is Alphanumeric. "),landmark:Z().required("Enter landmark").matches(/^[a-z0-9][a-z0-9\.\s-\,]+$/i,"landmark is Alphanumeric. "),pincode:Z().required("Enter pincode").matches(/[0-9]{6}/,"pincode must be 6 digits."),premisesOwner:Z().required("Enter premises owner name").matches(/^[a-zA-Z1-9][a-zA-Z1-9\.\,\s-\,]+$/,"Firm name is Alphanumeric. "),businessDescription:Z().required("Enter Business Description").matches(/^[a-zA-Z1-9][a-zA-Z1-9\.\'\&\s-\,]+$/,"landmark is Alphanumeric. ")}),l=Pe({initialValues:{wardNo:"",holdingNo:"",newWardNo:"",areaSqft:"",firmName:"",firmEstdDate:c,businessAddress:"",landmark:"",pincode:"",premisesOwner:"",businessDescription:"",natureOfBusiness:"",tocStatus:0,propDtlId:""},enableReinitialize:!0,onSubmit:(R,W)=>{p(!0),console.log("Firm deatils ",R),R.natureOfBusiness!=null&&R.natureOfBusiness!=""?(r("firmDetails",R,0),setTimeout(()=>{t(3),b(3),h(2),p(!1)},500)):(p(!1),s.toast("Nature of business cann't be empty","notice"),document.getElementById("natureOfBusiness").focus())},validationSchema:O});let N=[];function _(){var W;let R={};return(W=x==null?void 0:x.natureOfBusiness)==null||W.forEach(K=>{R={name:"("+K.trade_code+")"+K.trade_item,id:K.id},N.push(R)}),N.reverse()}console.log("natureOfBusiness",_()),s.denialDetails.status&&console.log("denialDetails",s.denialDetails),a.useEffect(()=>{var R,W,K,X,re,de,ne,xe,he,_e,Ce,$e,pe,ye,i,ce,ue,je,Oe;(R=s==null?void 0:s.denialDetails)!=null&&R.status?(l.setFieldValue("firmName",(X=(K=(W=s==null?void 0:s.denialDetails)==null?void 0:W.data)==null?void 0:K.denialDetails)==null?void 0:X.firm_name),l.setFieldValue("wardNo",(ne=(de=(re=s==null?void 0:s.denialDetails)==null?void 0:re.data)==null?void 0:de.denialDetails)==null?void 0:ne.ward_id),l.setFieldValue("pincode",(_e=(he=(xe=s==null?void 0:s.denialDetails)==null?void 0:xe.data)==null?void 0:he.denialDetails)==null?void 0:_e.pincode),l.setFieldValue("premisesOwner",(pe=($e=(Ce=s==null?void 0:s.denialDetails)==null?void 0:Ce.data)==null?void 0:$e.denialDetails)==null?void 0:pe.applicant_name),l.setFieldValue("landmark",(ce=(i=(ye=s==null?void 0:s.denialDetails)==null?void 0:ye.data)==null?void 0:i.denialDetails)==null?void 0:ce.landmark),l.setFieldValue("businessAddress",(Oe=(je=(ue=s==null?void 0:s.denialDetails)==null?void 0:ue.data)==null?void 0:je.denialDetails)==null?void 0:Oe.address),F(!0)):console.log("hello")},[(H=s==null?void 0:s.denialDetails)==null?void 0:H.status]);const U=()=>{t(1)},ee=R=>{var K;p(!0);const W=R.target.value;console.log("validate holding ",W),W!=""&&W!=null&&W!=null?me.post(oe.VALIDATE_HOLDING,{ulbId:(K=s==null?void 0:s.values)==null?void 0:K.ulbId,holdingNo:W},fe()).then(function(X){console.log("validate holding ",X.data),X.data.status?(G(X.data.data.property),F(!0)):(s==null||s.toast("Invalid Holding No. !","notice"),le(),F(!1)),p(!1)}).catch(function(X){console.log(X),s.toast("Something went wrong !","error"),p(!1)}):(le(),p(!1),F(!1))},G=R=>{l.setFieldValue("businessAddress",R.prop_address),l.setFieldValue("pincode",R.prop_pin_code),l.setFieldValue("premisesOwner",R.owner_name),l.setFieldValue("wardNo",R.ward_mstr_id),l.setFieldValue("newWardNo",R.new_ward_mstr_id),Q(R.ward_mstr_id)},le=()=>{l.setFieldValue("holdingNo",""),l.setFieldValue("businessAddress",""),l.setFieldValue("pincode",""),l.setFieldValue("premisesOwner","")},te=R=>{let W=R.target.name,K=R.target.value;W==="applyWith"&&k(K==="1"),W==="pincode"&&l.setFieldValue("pincode",jt(K,l.values.pincode,6)),W==="areaSqft"&&l.setFieldValue("areaSqft",wa(K,l.values.areaSqft,20)),W==="firmName"&&l.setFieldValue("firmName",mt(K,l.values.firmName,50)),W==="businessAddress"&&l.setFieldValue("businessAddress",Us(K,l.values.businessAddress,50)),W==="landmark"&&l.setFieldValue("landmark",Us(K,l.values.landmark,50)),W==="premisesOwner"&&l.setFieldValue("premisesOwner",Us(K,l.values.premisesOwner,50)),W==="businessDescription"&&l.setFieldValue("businessDescription",Us(K,l.values.businessDescription,50)),W==="tocStatus"&&se(R),W==="wardNo"&&Q(K)},Q=R=>{var K;p(!0);let W={oldWardMstrId:R,ulbId:(K=s==null?void 0:s.values)==null?void 0:K.ulbId};me.post(oe.DEPENDENT_WARD_CITIZEN,W,fe()).then(X=>{console.log("dependent wards",X.data),X.data.status?y(X.data.data):s.toast("Nature of business can't be empty","notice"),p(!1)}).catch(X=>{console.log(X),s.toast("Something went wrong","error"),p(!1)})},se=R=>{R.target.checked===!0?(I(!1),l.setFieldValue("tocStatus",1),l.setFieldValue("natureOfBusiness",[{id:187}])):(I(!0),l.setFieldValue("tocStatus",0),ie())},ie=()=>{v.current.resetSelectedValues()},D=R=>{var K,X,re,de;let W=R.target.value;(K=s==null?void 0:s.denialDetails)!=null&&K.status&&W>((de=(re=(X=s==null?void 0:s.denialDetails)==null?void 0:X.data)==null?void 0:re.denialDetails)==null?void 0:de.noticedate)&&(l.setFieldValue("firmEstdDate",""),s==null||s.toast("Firm Establishment date should not be greater than the notice date","notice"))};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"absolute w-full pb-16 h-full pl-2 md:pr-4 bg-white ",children:e.jsx("div",{className:"",children:e.jsx("form",{onChange:te,onSubmit:l.handleSubmit,autoComplete:"off",children:e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:" md:px-4  ",children:[e.jsx(Re,{heading:"Firm Details",message:"Your Firm Details will help us reach you easily...",iconTitle:"Firm Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-1",children:[e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" text-sm font-semibold text-red-600 inline ",children:" "})," ","Holding No."]}),e.jsx("input",{type:"text",name:"holdingNo",className:`${w}  uppercase `,onBlur:ee,value:l.values.holdingNo,onChange:l.handleChange,placeholder:"eg: HOL/12345"}),e.jsx("span",{className:`${ae}`,children:l.touched.holdingNo&&l.errors.holdingNo?l.errors.holdingNo:null}),e.jsx("input",{type:"hidden",name:"propDtlId",value:l.values.propDtlId})]}),e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" text-sm font-semibold text-red-600 inline ",children:"*"}),"Ward No",e.jsx("span",{className:"text-gray-500",children:e.jsxs("small",{children:[e.jsx(ht,{fontSize:"10px"})," select a ward to get the list of new wards"]})})]}),e.jsxs("select",{...l.getFieldProps("wardNo"),className:`${w}  `,children:[e.jsx("option",{value:"",selected:!0,children:"SELECT"}),(Y=x==null?void 0:x.wardList)==null?void 0:Y.map(R=>e.jsx("option",{value:R.id,children:R.ward_no}))]}),e.jsx("span",{className:`${ae}`,children:l.touched.wardNo&&l.errors.wardNo?l.errors.wardNo:null})]}),e.jsxs("div",{className:`${q} overflow-y-scroll`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" text-sm font-semibold text-red-600 inline ",children:"*"}),"New Ward No."]}),e.jsxs("select",{...l.getFieldProps("newWardNo"),className:`${w}  `,children:[e.jsx("option",{value:"",selected:!0,children:"select ward no."}),o==null?void 0:o.map(R=>e.jsx("option",{className:"",value:R.new_ward_mstr_id,children:R.ward_name}))]}),e.jsx("span",{className:`${ae}`,children:l.touched.newWardNo&&l.errors.newWardNo?l.errors.newWardNo:null})]}),e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" text-sm font-semibold text-red-600 inline ",children:"*"}),"Total Area (sqft)."]}),e.jsx("input",{type:"text",name:"areaSqft",className:`${w}  `,placeholder:"Enter area in sqft",value:l.values.areaSqft,onChange:l.handleChange,maxLength:10}),e.jsx("span",{className:`${ae}`,children:l.touched.areaSqft&&l.errors.areaSqft?l.errors.areaSqft:null})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-1",children:[e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" text-sm font-semibold text-red-600 inline ",children:"*"}),"Firm Name."]}),e.jsx("input",{type:"text",name:"firmName",placeholder:"Enter Firm Name",className:`${w}  `,value:l.values.firmName,onChange:l.handleChange,maxLength:50}),e.jsx("span",{className:`${ae}`,children:l.touched.firmName&&l.errors.firmName?l.errors.firmName:null})]}),e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:"text-sm font-semibold text-red-600 inline ",children:"*"}),"Firm Establishment Date"]}),e.jsx("input",{type:"date",name:"firmEstdDate",placeholder:"Firm Establishment Date",className:`${w}  `,value:l.values.firmEstdDate,onChange:l.handleChange,onBlur:D,max:Pa()}),e.jsx("span",{className:`${ae}`,children:l.touched.firmEstdDate&&l.errors.firmEstdDate?l.errors.firmEstdDate:null})]}),e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" text-sm font-semibold text-red-600 inline ",children:"*"}),"Business Address"]}),e.jsx("input",{type:"text",name:"businessAddress",className:`${w}  `,value:l.values.businessAddress,onChange:l.handleChange,placeholder:"Business Address"}),e.jsx("span",{className:`${ae}`,children:l.touched.businessAddress&&l.errors.businessAddress?l.errors.businessAddress:null})]}),e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:"text-sm font-semibold text-red-600 inline ",children:"*"}),"Landmark"]}),e.jsx("input",{type:"text",name:"landmark",className:`${w}  `,value:l.values.landmark,onChange:l.handleChange,placeholder:"landmark",maxLength:50}),e.jsx("span",{className:`${ae}`,children:l.touched.landmark&&l.errors.landmark?l.errors.landmark:null})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-1",children:[e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Pin Code"]}),e.jsx("input",{type:"text",name:"pincode",placeholder:"pincode",className:`${w}  `,value:l.values.pincode,onChange:l.handleChange}),e.jsx("span",{className:`${ae}`,children:l.touched.pincode&&l.errors.pincode?l.errors.pincode:null})]}),e.jsxs("div",{className:`${q} `,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" text-sm font-semibold text-red-600 inline ",children:"*"}),"Owner of Business Premises"]}),e.jsx("input",{type:"text",name:"premisesOwner",placeholder:"premisesOwner",className:`${j?Ga:w}  `,value:l.values.premisesOwner,onChange:l.handleChange,readOnly:j}),e.jsx("span",{className:`${ae}`,children:l.touched.premisesOwner&&l.errors.premisesOwner?l.errors.premisesOwner:null})]}),e.jsxs("div",{className:"form-group col-span-2 md:px-4 ",children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" text-sm font-semibold text-red-600 inline ",children:"*"}),"Business Description"]}),e.jsx("textarea",{name:"businessDescription",placeholder:"businessDescription",className:"border h-14 px-1 w-full rounded shadow-lg   ",value:l.values.businessDescription,onChange:l.handleChange}),e.jsx("p",{className:`${ae}`,children:l.touched.businessDescription&&l.errors.businessDescription?l.errors.businessDescription:null})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-1",children:[e.jsxs("div",{className:"form-group md:mb-6 md:px-4 col-span-3",children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" mt-1 text-md font-semibold text-red-600 inline ",children:"*"}),"Nature of Business"]}),e.jsxs("div",{className:`${L?"grid":"hidden"} w-full  border-2 rounded-lg shadow-md bg-white whitespace-pre-line`,onClick:T,children:[e.jsx(Qa,{options:_(),selectedValues:d,onSelect:V,onRemove:f,displayValue:"name",name:"natureOfBusiness",style:{searchBox:{border:"none",fontSize:"12px",minHeight:S?"50px":""},chips:{background:"dodgerblue",whiteSpace:"pre-wrap"}},showArrow:"true",selectionLimit:"3",closeIcon:"circle",onChange:l.handleChange,value:l.values.natureOfBusiness,autoComplete:!1,id:"natureOfBusiness",ref:v}),e.jsx("p",{className:`${ae}`,children:l.touched.natureOfBusiness&&l.errors.natureOfBusiness?l.errors.natureOfBusiness:null})]})]}),e.jsxs("div",{className:"col-span-1 text-center p-2 mr-4",children:[e.jsx("br",{}),e.jsxs("div",{className:" shadow-md rounded cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"tocStatus",onChange:l.handleChange,value:l.values.tocStatus,className:"cursor-pointer"}),e.jsx(Zs,{anchorId:"isTobacco"}),e.jsxs("button",{type:"button",className:`${B} m-1 px-2 py-1 rounded bg-rose-300  text-xs  capitalize font-poppins`,id:"isTobacco","data-tooltip-content":"Check if you are applying for a tobacco license",children:[e.jsx("small",{className:" text-sm font-semibold text-red-600 inline "}),"check for tobacco license"]})]})]})]})]}),e.jsxs("div",{className:"w-full grid grid-cols-2 gap-2 my-4 max-sm:mb-4",children:[e.jsx("div",{className:"w-full",children:e.jsxs("button",{type:"button",onClick:U,className:`${Ie}`,children:[" ","Previous"," "]})}),e.jsx("div",{className:"w-full text-right",children:e.jsxs("button",{type:"submit",className:`${Fe}`,children:["Save & Next"," "]})})]})]})})})})})}var vt={},el=gt;Object.defineProperty(vt,"__esModule",{value:!0});var Ps=vt.default=void 0,sl=el(Nt()),tl=e;Ps=vt.default=(0,sl.default)((0,tl.jsx)("path",{d:"M18 23H4c-1.1 0-2-.9-2-2V7h2v14h14zM15 1H8c-1.1 0-1.99.9-1.99 2L6 17c0 1.1.89 2 1.99 2H19c1.1 0 2-.9 2-2V7zm1.5 14h-6v-2h6zm0-6h-2v2h-2V9h-2V7h2V5h2v2h2z"}),"Difference");var wt={},al=gt;Object.defineProperty(wt,"__esModule",{value:!0});var pt=wt.default=void 0,ll=al(Nt()),nl=e;pt=wt.default=(0,ll.default)((0,nl.jsx)("path",{d:"M22 9V7h-2v2h-2v2h2v2h2v-2h2V9zM8 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 1c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4m4.51-8.95C13.43 5.11 14 6.49 14 8s-.57 2.89-1.49 3.95C14.47 11.7 16 10.04 16 8s-1.53-3.7-3.49-3.95m4.02 9.78C17.42 14.66 18 15.7 18 17v3h2v-3c0-1.45-1.59-2.51-3.47-3.17"}),"GroupAdd");var St={},il=gt;Object.defineProperty(St,"__esModule",{value:!0});var Ct=St.default=void 0,cl=il(Nt()),rl=e;Ct=St.default=(0,cl.default)((0,rl.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");function dl(s){var ee,G,le,te,Q,se,ie,D,H;const{applicationType:n,colorCode:u,currentStep:C,currentStepFun:b,collectFormDataFun:r,firmStepFun:t,firmStep:g,colorCodeFun:h,showLoader:x,setError:m,ErrorMessage:p,ErrorOrigin:$}=s==null?void 0:s.values;console.log("firm step is :",g);const[S,E]=a.useState(!1);a.useState(!1),a.useState(!1);const[A,k]=a.useState(!0),[c,z]=a.useState(!1),[d,L]=a.useState(!1),[I,v]=a.useState([]),[o,y]=a.useState(!0),j=Y=>{let R=[];R=I;let W=R.filter(K=>R.indexOf(K)!=Y);v(W),W.length==0&&k(!0)},F=Y=>!/<script.*?>.*?<\/script>/i.test(Y);console.log("Multiple owner details ",I);const T=Ve({businessOwnerName:Z().required("Enter Business Owner Name").matches(/^[a-zA-Z1-9][a-zA-Z1-9\., \s]+$/,"Please Enter Valid owner Name. "),guardianName:Z().required("Enrter Guardian Name").matches(/^[a-zA-Z1-9][a-zA-Z1-9\., \s]+$/,"Please Enter Valid Guardian Name. "),mobileNo:Z().length(10).required("Enter Mobile No."),email:Z().email("Please enter a valid email address").test("is-safe-email","Email contains invalid characters",F).required("Email is required")}),f=Pe({initialValues:{businessOwnerName:"",guardianName:"",mobileNo:"",email:"",natureOfBusiness:""},enableReinitialize:!0,onSubmit:(Y,R)=>{if(l(Y.businessOwnerName,Y.mobileNo)){m("Warning : Duplicate Owners are not allowed","ownerDetails");return}else k(!1),z(!0),v([...I,Y]),L(!0),m("",""),f.resetForm()},validationSchema:T}),O=()=>{x(!0),console.log("Final submission of the form ",I),n==1&&I.length==0?(alert("Atleast One Owner is required !"),x(!1)):(r("ownerDetails",I,0),setTimeout(()=>{t(4),b(4),h(3),x(!1)},500))},M=()=>{t(2)},l=(Y,R)=>{if((I==null?void 0:I.length)==0)return!1;{let W=I==null?void 0:I.filter(K=>K.businessOwnerName==Y&&K.mobileNo==R);return console.log("duplicate",W),W.length!=0}},N=Y=>{let R=Y.target.name,W=Y.target.value;R==="applyWith"&&E(W==="1"),R==="mobileNo"&&f.setFieldValue("mobileNo",jt(W,f.values.mobileNo,10)),R==="businessOwnerName"&&f.setFieldValue("businessOwnerName",mt(W,f.values.businessOwnerName,30)),R==="guardianName"&&f.setFieldValue("guardianName",mt(W,f.values.guardianName,30))},_=()=>{A==!1?(k(!0),L(!1)):k(!1)},U=()=>{y(!o)};return a.useEffect(()=>{var Y,R,W;((W=(R=(Y=s==null?void 0:s.values)==null?void 0:Y.allFormData)==null?void 0:R.initialBusinessDetails)==null?void 0:W.firmType)==1&&(I==null?void 0:I.length)>0?(k(!1),L(!1)):L(!0)},[(le=(G=(ee=s==null?void 0:s.values)==null?void 0:ee.allFormData)==null?void 0:G.initialBusinessDetails)==null?void 0:le.firmType]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"absolute w-full h-auto bg-white md:pb-24 ",children:[e.jsxs("form",{onChange:N,onSubmit:f.handleSubmit,children:[e.jsxs("div",{className:` ${A?"bg-white ":"bg-white"}`,children:[e.jsx("div",{className:"p-4",children:e.jsx(Re,{heading:"Owner Details",message:"You can add Multiple Owners Here. ",iconTitle:"Owner Details"})}),e.jsx(e.Fragment,{children:e.jsxs("div",{className:`${A?"":"hidden"}`,children:[e.jsxs("div",{className:"grid grid-cols-3 w-full md:grid-cols-3 gap-2",children:[e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Owner Name"]}),e.jsx("input",{type:"text",name:"businessOwnerName",className:`${w}  `,placeholder:"Ex: John Doe",value:f.values.businessOwnerName,onChange:f.handleChange}),e.jsx("span",{className:`${ae}`,children:f.touched.businessOwnerName&&f.errors.businessOwnerName?f.errors.businessOwnerName:null})]}),e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})," ","Guardian Name"]}),e.jsx("input",{type:"text",name:"guardianName",className:`${w}  `,value:f.values.guardianName,onChange:f.handleChange}),e.jsx("span",{className:`${ae}`,children:f.touched.guardianName&&f.errors.guardianName?f.errors.guardianName:null})]}),e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Mobile No."]}),e.jsx("input",{type:"text",name:"mobileNo",className:`${w}  `,value:f.values.mobileNo,onChange:f.handleChange}),e.jsx("span",{className:`${ae}`,children:f.touched.mobileNo&&f.errors.mobileNo?f.errors.mobileNo:null})]})]}),e.jsx("div",{className:"grid grid-cols-3 md:grid-cols-3 gap-1",children:e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Email"]}),e.jsx("input",{type:"email",name:"email",className:`${w}  `,value:f.values.email,onChange:f.handleChange}),e.jsx("span",{className:`${ae}`,children:f.touched.email&&f.errors.email?f.errors.email:null})]})}),e.jsx("div",{className:"flex justify-center items-center p-4",children:e.jsxs("button",{type:"submit",onClick:()=>L(!0),className:`${Ie}`,children:["Confirm this owner",e.jsx(pt,{})," "]})})]})})]}),e.jsxs("div",{className:"text-sm md:mt-8",children:[e.jsxs("button",{type:"button",className:"underline text-xs text-blue-400 my-2",onClick:U,children:[o?"Hide":"Show"," info box..."]}),e.jsxs("div",{className:`md:pr-10 ${o?"block":"hidden"}`,children:[e.jsx("h1",{className:"md:h-8 bg-slate-50 rounded text-dark p-2 underline hover:underline font-medium ",children:"1. The number of owners you add will be listed on the bottom of this form."}),e.jsx("h1",{className:"md:h-8 bg-slate-50  rounded text-dark p-2 hover:underline font-medium ",children:"2. You can ADD New Owners or DELETE them if the data in wrong."}),e.jsx("h1",{className:"md:h-8 bg-slate-50 rounded text-dark p-2 hover:underline font-medium ",children:"3. Kindly refrain from adding an owner twice in the list. Delete the duplicate owner before finally submitting the application."}),e.jsx("p",{className:"hover:underline",children:" "}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-2 w-full "})]})]}),e.jsxs("div",{className:"grid w-full md:px-10",children:[e.jsx("div",{className:"md:hidden max-sm:w-full max-sm:mb-4",children:((se=(Q=(te=s==null?void 0:s.values)==null?void 0:te.allFormData)==null?void 0:Q.initialBusinessDetails)==null?void 0:se.firmType)!=1?e.jsxs("button",{type:"button",className:`max-sm:w-full ${d?"":"hidden"} ${Vt}`,onClick:_,children:[" ","Add More Owners ",e.jsx(Ps,{})," "]}):e.jsxs("button",{type:"button",className:"text-red-500 bg-sky-50 hover:bg-sky-50 px-4 py-1.5 rounded-lg uppercase text-xs  font-mono mt-4",onClick:_,children:[" ",e.jsx("span",{className:"text-red-500",children:"Single Owner Firm"})," ","(Proprietorship)"," "]})}),e.jsxs("div",{className:"flex md:justify-between",children:[e.jsx("div",{className:"text-left max-sm:w-full",children:e.jsxs("button",{type:"button",onClick:M,className:`${Ie}`,children:[" ","Previous"," "]})}),e.jsx("div",{className:"max-sm:hidden",children:((H=(D=(ie=s==null?void 0:s.values)==null?void 0:ie.allFormData)==null?void 0:D.initialBusinessDetails)==null?void 0:H.firmType)!=1?e.jsxs("button",{type:"button",className:`${d?"":"hidden"} ${Vt}`,onClick:_,children:[" ","Add More Owners ",e.jsx(Ps,{})," "]}):e.jsxs("button",{type:"button",className:"text-red-500 bg-sky-50 hover:bg-sky-50 px-4 py-1.5 rounded-lg uppercase text-xs  font-mono mt-4",onClick:_,children:[" ",e.jsx("span",{className:"text-red-500",children:"Single Owner Firm"})," ","(Proprietorship)"," "]})}),e.jsx("div",{className:"text-right max-sm:w-full",children:e.jsxs("button",{type:I.length===0?"submit":"button",onClick:O,className:`${Fe}`,children:["Save & Next"," "]})})]})]})]}),e.jsxs("div",{className:`${c?"":"hidden"}  h-56 md:mr-8 max-sm:mt-8 `,children:[$=="ownerDetails"&&e.jsx(ut,{message:p,callback:m}),e.jsxs("table",{className:"table-auto text-slate-700 w-full mx-auto ",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-100 text-gray-600 text-xs h-8 hover:bg-amber-200 uppercase",children:[e.jsx("th",{children:"Owner Name"}),e.jsx("th",{children:"Guardian Name"}),e.jsx("th",{children:"Mobile No."}),e.jsx("th",{children:"Email."}),e.jsx("th",{children:"Action."})]})}),e.jsx("tbody",{children:I==null?void 0:I.map((Y,R)=>e.jsxs("tr",{className:"border-t-2 hover:bg-slate-50 text-sm hover:shadow-lg text-center  my-2",children:[e.jsx("td",{children:e.jsx("input",{type:"text",name:"businessOwnerName[]",value:Y.businessOwnerName,className:`${w}   my-2`,readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{type:"text",name:"guardianName[]",value:Y.guardianName,className:`${w}  `,readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{type:"text",name:"mobileNo[]",value:Y.mobileNo,className:`${w}  `,readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{type:"text",name:"email[]",value:Y.email,className:`${w}  `,readOnly:!0})}),e.jsx("td",{children:e.jsx("button",{type:"button",className:"text-red-400",onClick:()=>j(R),children:e.jsx(Ct,{color:"secondary"})})})]}))})]})]})]})})}function ol(s){var O,M,l;const{colorCode:n,currentStep:u,currentStepFun:C,collectFormDataFun:b,firmStepFun:r,firmStep:t,colorCodeFun:g,allFormData:h,showLoader:x,finalSubmit:m}=s.values;console.log("props values :",s.values);const[p,$]=a.useState(!1);a.useState(!1),a.useState(!1);const[S,E]=a.useState(!1),[A,k]=a.useState(!0),[c,z]=a.useState(!1),d=N=>{z(N.target.checked)},L=Ve({licenseFor:Z().required("Select License For")}),v=Pe({initialValues:{licenseFor:"",licenseCharge:"",penalty:"",denialAmount:"",totalCharge:"",bankName:"",chequeNo:"",chequeDate:"",branchName:""},onSubmit:(N,_)=>{console.log("Firm Details ",N),x(!0),b("licenseDetails",N,1),setTimeout(()=>{x(!1)},1e3)},validationSchema:L}),o=()=>{r(3)},y=[{option:"1",value:1},{option:"2",value:2},{option:"3",value:3},{option:"4",value:4},{option:"5",value:5},{option:"6",value:6},{option:"7",value:7},{option:"8",value:8},{option:"9",value:9},{option:"10",value:10}],j=[{option:"CASH",value:"CASH"},{option:"CHEQUE",value:"CHEQUE"},{option:"DEMAND DRAFT",value:"DD"}],F=N=>{let _=N.target.name,U=N.target.value;_==="applyWith"&&$(U==="1"),_==="licenseFor"&&T(U),_==="paymentMode"&&(U=="CASH"||U=="")?E(!1):E(!0),_==="chequeNo"&&U.length>20&&v.setFieldValue("chequeNo",U.slice(0,20))},T=N=>{var U,ee,G,le,te,Q,se,ie,D;x(!0);let _=[];_.licenseFor=N,_.firmEstdDate=(U=h.firmDetails)==null?void 0:U.firmEstdDate,_.natureOfBusiness=(ee=h.firmDetails)==null?void 0:ee.natureOfBusiness,_.areaSqft=(G=h.firmDetails)==null?void 0:G.areaSqft,_.applicationType=ze((le=s.values)==null?void 0:le.applicationType),_.tocStatus=(te=h.firmDetails)==null?void 0:te.tocStatus,(((Q=h.initialBusinessDetails)==null?void 0:Q.noticeDate)!=null||((se=h.initialBusinessDetails)==null?void 0:se.noticeDate)!=""||((ie=h.initialBusinessDetails)==null?void 0:ie.noticeDate)!=null)&&(_.noticeDate=(D=h.initialBusinessDetails)==null?void 0:D.noticeDate),console.log("charge calculation data",Object.assign({},_)),me.post(oe.GET_CHARGE,Object.assign({},_),fe()).then(function(H){console.log("license Charge ",H.data),H.data.status?(V(H.data.data),setTimeout(()=>{x(!1)},500)):(s.toast("Unable to get license charge !","notice"),x(!1))}).catch(function(H){console.log(H),x(!1)})},V=N=>{v.setFieldValue("licenseCharge",N.rate),v.setFieldValue("denialAmount",N.arear_amount+N.notice_amount),v.setFieldValue("totalCharge",N.total_charge),v.setFieldValue("penalty",N.penalty)},f=()=>{k(!A)};return console.log("tocStatus",(O=h==null?void 0:h.firmDetails)==null?void 0:O.tocStatus),e.jsx(e.Fragment,{children:e.jsx("div",{className:"absolute w-full h-auto bg-white",children:e.jsx("div",{className:"w-full mr-4",children:e.jsxs("form",{onChange:F,onSubmit:v.handleSubmit,children:[e.jsxs("div",{className:" px-4  ",children:[e.jsx("div",{className:"p-2",children:e.jsx(Re,{heading:"License Details",message:"Depicted below is your license Charge, as per the given information...",iconTitle:"license charge!"})}),e.jsxs("div",{className:"relative top-2",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-1",children:[e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:"text-sm font-semibold text-red-600 inline ",children:"*"}),"License Duration"," ",e.jsx("small",{className:"font-thin",children:"(in years)"})]}),((M=h==null?void 0:h.firmDetails)==null?void 0:M.holdingNo)!=""&&((l=h==null?void 0:h.firmDetails)==null?void 0:l.tocStatus)==0?e.jsxs("select",{name:"licenseFor",className:`${w}   `,value:v.values.licenseFor,onChange:v.handleChange,children:[e.jsx("option",{value:"",selected:!0,children:"Select"}),y.map(N=>e.jsxs("option",{value:N.value,children:[N.option," Yrs"]}))]}):e.jsxs("select",{name:"licenseFor",className:`${w}   `,value:v.values.licenseFor,onChange:v.handleChange,children:[e.jsx("option",{value:"",selected:!0,children:"Select"}),e.jsx("option",{value:"1",children:"1 Yrs"})]}),e.jsxs("span",{className:`${ae}`,children:[" ",v.touched.licenseFor&&v.errors.licenseFor?v.errors.licenseFor:null]})]}),e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" text-sm font-semibold text-red-600 inline ",children:"*"})," ","Charge Applied"," "]}),e.jsx("input",{type:"number",name:"licenseCharge",className:`${w} pointer-events-none bg-gray-100 `,readOnly:"readOnly",value:v.values.licenseCharge,onChange:v.handleChange}),e.jsxs("span",{className:`${ae}`,children:[" ",v.touched.licenseCharge&&v.errors.licenseCharge?v.errors.licenseCharge:null]})]}),e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:"text-sm font-semibold text-red-600 inline ",children:"*"}),"Penalty."]}),e.jsx("input",{type:"number",name:"penalty",className:`${w} pointer-events-none bg-gray-100 `,readOnly:"readOnly",value:v.values.penalty}),e.jsxs("span",{className:`${ae}`,children:[" ",v.touched.penalty&&v.errors.penalty?v.errors.penalty:null]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-1",children:[e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" text-sm font-semibold text-red-600 inline ",children:"*"}),"Denial / Arrears Amount."]}),e.jsx("input",{type:"number",name:"denialAmount",className:`${w} pointer-events-none bg-gray-100   `,value:v.values.denialAmount,onChange:v.handleChange}),e.jsxs("span",{className:`${ae}`,children:[" ",v.touched.denialAmount&&v.errors.denialAmount?v.errors.denialAmount:null]})]}),e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" text-sm font-semibold text-red-600 inline ",children:"*"}),"Total Charge."]}),e.jsx("input",{type:"number",name:"totalCharge",className:`${w} pointer-events-none bg-gray-100 `,value:v.values.totalCharge,onChange:v.handleChange}),e.jsxs("span",{className:`${ae}`,children:[" ",v.touched.totalCharge&&v.errors.totalCharge?v.errors.totalCharge:null]})]}),e.jsxs("div",{className:`${q} hidden`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" text-sm font-semibold text-red-600 inline ",children:"*"}),"Payment Mode"]}),e.jsxs("select",{name:"paymentMode",className:`${w}  `,value:v.values.paymentMode,onChange:v.handleChange,disabled:!0,children:[e.jsx("option",{value:"",disabled:!0,selected:!0,children:"SELECT"}),j==null?void 0:j.map(N=>e.jsx("option",{value:N.value,children:N.option}))]}),e.jsxs("span",{className:`${ae}`,children:[" ",v.touched.paymentMode&&v.errors.paymentMode?v.errors.paymentMode:null]})]})]}),e.jsx("div",{className:`${S?"":"hidden"} hidden`,children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-1",children:[e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" text-sm font-semibold text-red-600 inline ",children:"*"}),"Cheque/DD Date"]}),e.jsx("input",{type:"date",name:"chequeDate",className:`${w} `,value:v.values.chequeDate,onChange:v.handleChange,min:JSON.stringify(new Date).slice(1,11)}),e.jsxs("span",{className:`${ae}`,children:[" ",v.touched.chequeDate&&v.errors.chequeDate?v.errors.chequeDate:null]})]}),e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" text-sm font-semibold text-red-600 inline ",children:"*"}),"Cheque/DD No."]}),e.jsx("input",{type:"number",name:"chequeNo",className:`${w} `,value:v.values.chequeNo,onChange:v.handleChange}),e.jsxs("span",{className:`${ae}`,children:[" ",v.touched.chequeNo&&v.errors.chequeNo?v.errors.chequeNo:null]})]}),e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" text-sm font-semibold text-red-600 inline ",children:"*"}),"Bank Name"]}),e.jsx("input",{type:"text",name:"bankName",className:`${w}  `,value:v.values.bankName,onChange:v.handleChange,maxLength:50}),e.jsxs("span",{className:`${ae}`,children:[" ",v.touched.bankName&&v.errors.bankName?v.errors.bankName:null]})]}),e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" text-sm font-semibold text-red-600 inline ",children:"*"}),"Branch Name"]}),e.jsx("input",{type:"text",name:"branchName",className:`${w}  `,value:v.values.branchName,onChange:v.handleChange,maxLength:50}),e.jsxs("span",{className:`${ae}`,children:[" ",v.touched.branchName&&v.errors.branchName?v.errors.branchName:null]})]})]})}),e.jsxs("div",{className:"text-sm",children:[e.jsxs("button",{type:"button",className:"underline text-xs text-blue-400 my-2",onClick:f,children:[A?"Hide":"Show"," Calculation parameters..."]}),e.jsxs("div",{className:`md:pr-10 ${A?"block":"hidden"}`,children:[e.jsx("h1",{className:"md:h-10 bg-slate-200 p-2 shadow-inner font-bold ",children:"Yearly rate According To The Area Range"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-2 w-full ",children:[e.jsxs("div",{className:" p-1 shadow-md text-center hover:bg-sky-50",children:[e.jsxs("h1",{className:"text-xl  font-bold text-primary",title:"Between 1 To 100",children:[" "," ₹ 300"]}),e.jsx("p",{className:"text-sm  font-medium text-gray-500",children:"Between 1 To 100 sqft. "})]}),e.jsxs("div",{className:" p-1 shadow-md text-center hover:bg-sky-50",children:[e.jsxs("h1",{className:"text-xl  font-bold text-primary",title:"Between 1 To 100",children:[" "," ₹ 500"]}),e.jsx("p",{className:"text-sm  font-medium text-gray-500",children:"Between 101 To 500 sqft. "})]}),e.jsxs("div",{className:" p-1 shadow-md text-center hover:bg-sky-50",children:[e.jsxs("h1",{className:"text-xl  font-bold text-primary",title:"Between 1 To 100",children:[" "," ₹ 1500"]}),e.jsx("p",{className:"text-sm  font-medium text-gray-500",children:"Between 501 To 1000 sqft. "})]}),e.jsxs("div",{className:" p-1 shadow-md text-center hover:bg-sky-50",children:[e.jsxs("h1",{className:"text-xl  font-bold text-primary",title:"Between 1 To 100",children:[" "," ₹ 2500"]}),e.jsx("p",{className:"text-sm  font-medium text-gray-500",children:"Between 1001 To 9999999 sqft. "})]})]})]})]})]})]}),e.jsx("div",{className:`${q} max-sm:p-2`,children:e.jsxs("label",{className:`${B} text-l text-center text-gray-700`,children:[e.jsx("input",{type:"checkbox",name:"declaration",className:"mr-2 mt-6",checked:c,onChange:d}),"I hereby declare that the above particulars of facts and information stated are true, correct and complete to the best of my belief and knowledge."]})}),e.jsxs("div",{className:"flex justify-between w-full gap-2 my-4 ",children:[e.jsx("div",{children:e.jsxs("button",{type:"button",onClick:o,className:`${Ie}`,children:["Previous"," "]})}),c?e.jsx("div",{className:"text-right md:mr-4",children:e.jsx(Ks,{title:"Submit your form now.",children:e.jsx("button",{type:"submit",className:`${Fe}`,children:"Submit This Form"})})}):null]})]})})})})}const ml={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"transparent",border:"none"}};function Dt(s){var p,$,S,E,A,k;const{handlePayment:n}=pa(),[u,C]=ft.useState(!1),b=is();console.log("order data",s==null?void 0:s.OrderResponse),a.useEffect(()=>{s.openPaymentModal>0&&C(!0)},[s.openPaymentModal]);function r(){}function t(){C(!1)}const g=async c=>{s==null||s.showLoader(!0),console.log("generateReceipt",c),console.log(c);let z={applicationId:c==null?void 0:c.applicationId,departmentId:c==null?void 0:c.departmentId,status:"",captured:"1",card_id:"",amount:c==null?void 0:c.amount,payment_method:"upi/netbanking",workflow_id:c==null?void 0:c.workflowId,user_id:c==null?void 0:c.userId,ulb_id:c==null?void 0:c.ulbId,user_id:localStorage.getItem("citizenId"),payment_order_id:c==null?void 0:c.razorpay_order_id,payment_id:c==null?void 0:c.razorpay_payment_id,created_at:""};console.log("Receipt",c),me.post(oe.api_generatedreceipt,z,fe()).then(d=>{console.log("genereted receipt",d),d.data.status==!0?(s==null||s.showLoader(!1),console.log("Oder ID Generated ++++dddddddddddddddddddddddd+++++",d.data),b("/trade-view/"+(s==null?void 0:s.id)),window.location.reload()):s==null||s.showLoader(!1)}).catch(d=>{console.log("Error genrating order id",d),J.error(d,"error")})},h=()=>{var c,z,d,L,I,v;if(console.log("Clicked.."),s==null||s.showLoader(!0),s==null||s.id,window.ReactNativeWebView)confirm("app"),Sa({generatedOrder:s==null?void 0:s.OrderResponse,payload:{applicationId:(c=s==null?void 0:s.OrderResponse)==null?void 0:c.applicationId,departmentId:(z=s==null?void 0:s.OrderResponse)==null?void 0:z.departmentId,status:"",captured:"1",card_id:"",amount:(d=s==null?void 0:s.OrderResponse)==null?void 0:d.amount,payment_method:"upi/netbanking",workflow_id:(L=s==null?void 0:s.OrderResponse)==null?void 0:L.workflowId,user_id:(I=s==null?void 0:s.OrderResponse)==null?void 0:I.userId,ulb_id:(v=s==null?void 0:s.OrderResponse)==null?void 0:v.ulbId,user_id:localStorage.getItem("citizenId"),created_at:""},api:oe.api_generatedreceipt,returnUrl:`/citizen/trade-view/${s==null?void 0:s.id}`,isParam:!0});else{console.log(s==null?void 0:s.OrderResponse,"checking.......");let o=n(s==null?void 0:s.OrderResponse,g);Promise.resolve(o).then(j=>{console.log("payment response",j)})}setTimeout(()=>{t(),s.showLoader(!1)},500)},x="  shadow-gray-300 rounded-lg  bg-white  ",m="text-md text-[#454646] opacity-80 ";return e.jsx("div",{className:"",children:e.jsx(ns,{isOpen:u,onAfterOpen:r,onRequestClose:t,style:ml,contentLabel:"Example Modal",children:e.jsx("div",{className:"bg-gradient-to-tr from-white to-white text-slate-50 shadow-2xl border border-gray-200 p-5 m-5 rounded-md w-[44rem]",children:e.jsx("div",{className:"",children:e.jsxs("div",{className:`${x} w-full mx-auto flex flex-col `,children:[e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 hover:bg-white opacity-0 transition duration-700 hover:opacity-10"}),e.jsx("img",{className:"max-w-full h-64 mx-auto animate-wiggle p-12 ",src:"https://img.freepik.com/free-vector/hand-holding-phone-with-credit-card-screen-man-making-purchase-shopping-paying-online-using-banking-app-flat-vector-illustration-transaction-e-commerce-concept_74855-26014.jpg?w=1380&t=st=1686898919~exp=1686899519~hmac=4b0ddb44860ec647fa33a1a0416ea0c1cc8167693a13fdba3f09058d099f0e76",alt:"alt title"})]}),e.jsxs("div",{className:"px-2 ",children:[e.jsx("div",{className:" flex-1",children:e.jsxs("div",{className:"mb-2",children:[e.jsxs("h3",{className:"text-xl  text-center max-sm:mb-4 text-gray-500 font-openSans font-semibold",children:["Application No. - ",(p=s==null?void 0:s.OrderResponse)==null?void 0:p.applicationNo]}),e.jsxs("h3",{className:"text-xl  text-center mb-2 text-[#40AA15] font-openSans font-semibold ",children:["Amount - Rs.",($=s==null?void 0:s.OrderResponse)==null?void 0:$.amount," "]})]})}),e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"valid-form flex flex-wrap flex-row mt-4 text-center",children:[e.jsxs("div",{className:"form-group flex-shrink max-w-full mx-auto space-x-2 px-4 w-full md:w-1/2 mb-4 max-sm:mb-2",children:[e.jsx("label",{className:`${m} `,children:"Firm Name: -"}),e.jsx("label",{className:`${m} `,children:(S=s==null?void 0:s.OrderResponse)==null?void 0:S.firmName})]}),e.jsxs("div",{className:"form-group flex-shrink max-w-full mx-auto space-x-2 px-4 w-full md:w-1/2 mb-4 max-sm:mb-2",children:[e.jsx("label",{className:`${m} `,children:"Applicant Name :-"}),e.jsx("label",{className:`${m} `,children:(E=s==null?void 0:s.OrderResponse)==null?void 0:E.name})]})]}),e.jsxs("div",{className:"valid-form flex flex-wrap flex-row  text-center",children:[e.jsxs("div",{className:"form-group flex-shrink max-w-full mx-auto space-x-2 px-4 w-full md:w-1/2 mb-4 max-sm:mb-2",children:[e.jsx("label",{className:`${m} `,children:"License for years :-"}),e.jsx("label",{className:`${m} `,children:(A=s==null?void 0:s.OrderResponse)==null?void 0:A.licenceForYears})]}),e.jsxs("div",{className:"form-group flex-shrink max-w-full mx-auto space-x-2 px-4 w-full md:w-1/2 mb-4 max-sm:mb-2",children:[e.jsx("label",{className:`${m} `,children:"Application Type :-"}),e.jsx("label",{className:`${m} `,children:(k=s==null?void 0:s.OrderResponse)==null?void 0:k.applicationType})]})]})]}),e.jsx("div",{className:" flex-1 py-8",children:e.jsxs("div",{className:"flex justify-center gap-4",children:[e.jsx("button",{className:"bg-[#f04e4e] text-sm px-8 py-2 text-white  rounded leading-5 shadow-lg",onClick:t,children:"Cancel"}),e.jsx("button",{className:"bg-[#1A4D8C] text-sm px-8 py-2 text-white  rounded leading-5 shadow-lg",onClick:h,children:"Pay Now"})]})})]})]})})})})})}const ot="/assets/logo-3109eaef.png";class _n extends ft.Component{render(){var L,I,v,o,y,j,F,T,V;const{paymentRecipt:n,applicationNo:u,applyLicenseId:C}=(L=this.props)==null?void 0:L.successData,{transaction_no:b,payment_mode:r,paid_amount:t,transaction_date:g,penalty:h,rate:x,delay_fee:m,denial_fee:p,paid_amount_in_words:$}=(v=(I=this.props)==null?void 0:I.paymentData)==null?void 0:v.transaction,{application_no:S,firm_name:E,address:A,mobile:k,owner_name:c,provisional_license_no:z,ward_no:d}=(y=(o=this.props)==null?void 0:o.paymentData)==null?void 0:y.application;return(F=(j=this.props)==null?void 0:j.paymentData)==null||F.penalty[0],console.log("===successData=====",(V=(T=this.props)==null?void 0:T.paymentData)==null?void 0:V.application),e.jsx("div",{className:"py-4 w-[92%] mx-auto text-xs font-sans text-justify",id:"printableArea",children:e.jsxs("div",{className:"border-2 border-gray-800  font-normal py-2 px-2",styles:{backgroundImage:`url(${ot})`},children:[e.jsx("img",{src:ot,alt:"",className:"h-16 w-16 mx-auto"}),e.jsx("img",{src:ot,alt:"",className:" w-72 h-72 absolute z-10 bg-transparent opacity-20 mt-[10rem] ml-40 rounded-full"}),e.jsx("h1",{className:"font-bold text-xl text-center",children:" RANCHI MUNICIPAL CORPORATION "}),e.jsx("div",{className:" w-64 mx-auto mt-2 text-center",children:e.jsx("h1",{className:"border-2 border-gray-800 font-bold  py-1 my-1",children:" MUNICIPAL LICENSE PAYMENT RECEIPT "})}),e.jsxs("div",{className:"w-full px-1  ",children:[e.jsxs("table",{className:"table-auto mx-auto w-full",children:[e.jsxs("tr",{children:[e.jsxs("td",{children:["Receipt No :",e.jsxs("span",{className:"font-semibold",children:[" ",b]})," "]}),e.jsxs("td",{children:["Date :",e.jsxs("span",{className:"font-semibold",children:["  ",g]})]})]}),e.jsxs("tr",{children:[e.jsxs("td",{children:["Department/Section :",e.jsx("span",{className:"font-semibold",children:"  Municipal License Section"})," "]}),e.jsxs("td",{children:["Ward No No :",e.jsxs("span",{className:"font-semibold",children:[" ",d]})," "]})]}),e.jsxs("tr",{children:[e.jsxs("td",{children:["Account Description:",e.jsx("span",{className:"font-semibold",children:"Municipal License Fee Charges"})," "]}),e.jsxs("td",{children:[" Application No:",e.jsxs("span",{className:"font-semibold",children:[" ",u]})," "]})]})]}),e.jsxs("table",{className:"table-auto mx-auto w-full mt-4 capitalize",children:[e.jsx("tr",{children:e.jsxs("td",{children:["Firm Name :",e.jsxs("span",{className:"font-semibold",children:[" ",E]})," "]})}),e.jsx("tr",{children:e.jsxs("td",{children:["Received From Shri.Smt :",e.jsxs("span",{className:"font-semibold",children:[" ",c]})," "]})}),e.jsx("tr",{children:e.jsxs("td",{children:["Address : ",e.jsxs("span",{className:"font-semibold",children:[" ",A]})]})}),e.jsx("tr",{children:e.jsxs("td",{children:["A Sum of Rs :",e.jsxs("span",{className:"font-semibold",children:[" ",t," "]})," "]})}),e.jsx("tr",{children:e.jsxs("td",{className:"w-80 ",children:["(in words)",e.jsxs("span",{className:"font-semibold border-b-2 border-gray-600 border-dashed",children:[" ",$]})]})}),e.jsx("tr",{children:e.jsxs("td",{children:["towards : ",e.jsxs("span",{className:"font-semibold",children:[" Municipal License Fee vide ",r]})," "]})})]}),e.jsx("h1",{className:"font-bold  mt-4",children:" N.B.Online Payment/Cheque/Draft/ Bankers Cheque are Subject to realisation "}),e.jsx("h1",{className:"font-bold mt-4  py-1",children:" MUNICIPAL LICENSE FEE DETAILS "}),e.jsxs("table",{className:"table-auto mx-auto w-[92%] border  border-gray-800",children:[e.jsxs("tr",{className:"border-b border-gray-800 py-1",children:[e.jsx("th",{className:"text-left",children:" Description "}),e.jsx("th",{className:"text-left",children:" Total Amount "})]}),e.jsxs("tr",{className:"border-b border-gray-800 py-1",children:[e.jsx("td",{children:"Municipal License Fee "}),e.jsx("td",{children:x})]}),e.jsxs("tr",{className:"border-b border-gray-800 py-1",children:[e.jsx("td",{children:"Delay Fee "}),e.jsx("td",{children:m})]}),e.jsxs("tr",{className:"border-b border-gray-800 py-1",children:[e.jsx("td",{children:"Denial Fee "}),e.jsx("td",{children:p})]}),e.jsxs("tr",{className:"border-b border-gray-800 py-1",children:[e.jsx("td",{children:"Total"}),e.jsx("td",{children:t})]})]})]}),e.jsxs("div",{className:" mt-4 px-2  text-justify",children:[e.jsx("div",{className:"text-center",children:e.jsx(Xs,{size:"60",url:"http://smartulb.co.in/"})}),e.jsx("table",{children:e.jsxs("tr",{className:" py-1 font-mono",children:[e.jsxs("td",{children:[e.jsx("p",{children:"For Details Please Visit : www.ranchimunicipal.com"}),e.jsx("p",{children:"Call us at 18008904115 OR 0651-3500700"})]}),e.jsxs("td",{children:[e.jsx("p",{children:"In Association with"}),e.jsx("p",{children:"Sri Publication & Stationers Pvt. Ltd."})]})]})}),e.jsx("div",{className:"mt-8 mb-4 text-center",children:e.jsx("p",{children:"**This is a computer-generated receipt and it does not require a signature.** "})})]})]})})}}ta(aa)(({theme:s})=>({"& .MuiDialogContent-root":{padding:s.spacing(2)},"& .MuiDialogActions-root":{padding:s.spacing(1)}}));Ot.node,Ot.func.isRequired;function As(s){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"w-56 h-56 absolute top-1/3 left-1/2",children:e.jsx(Ca,{height:"80",width:"80",radius:"9",color:"#6666ff",ariaLabel:"three-dots-loading",wrapperStyle:{},wrapperClassName:"",visible:s.show})})})}function st(s){var E,A;s==null||s.values;const[n,u]=a.useState(0),[C,b]=a.useState("");a.useState(!1);const{successData:r,successFun:t}=s.successData,[g,h]=a.useState(),[x,m]=a.useState(!1),p=is(),$=k=>{navigator.clipboard.writeText(k),m(!0),document.getElementById("copyapn").style.backgroundColor="white",document.getElementById("copyapn").style.color="green"};console.log("successData",r);const S=()=>{var k;p(`/trade-document-upload/${btoa((k=r==null?void 0:r.data)==null?void 0:k.applyLicenseId)}`,{replace:!0})};return e.jsxs(e.Fragment,{children:[e.jsx(Dt,{openPaymentModal:n,id:C,OrderResponse:g,toast:s==null?void 0:s.toast,showLoader:(E=s==null?void 0:s.values)==null?void 0:E.showLoader}),e.jsx("div",{className:"h-full mb-4",children:e.jsx("div",{children:e.jsxs("div",{className:"md:grid grid-cols-2  w-full  ml-2 mr-4 shadow-md shadow-zinc-200 hover:shadow-lg bg-indigo-100  rounded gap-2 ",children:[e.jsxs("div",{className:"flex lg:flex-row bg-white  border rounded-br-full overflow-hidden w-full px-10",children:[e.jsx("div",{className:"relative overflow-hidden lg:flex-shrink   rounded",children:e.jsx("a",{href:"#",children:e.jsx("div",{className:"absolute inset-0 hover:bg-white opacity-0 transition duration-700 hover:opacity-10"})})}),e.jsxs("div",{className:"p-6 flex-1 lg:flex-shrink w-full font-openSans max-sm:mb-[40px]",children:[e.jsxs("div",{className:"mb-2 text-md lg:text-md capitalize ",children:[e.jsx("h3",{className:"leading-normal mb-2 font-semibold text-gray-500",children:e.jsx("p",{href:"#",className:"hover:text-indigo-700 ",children:"This application is submitted."})}),e.jsxs("div",{className:"text-gray-500 ",children:[e.jsxs("svg",{className:"bi bi-calendar ltr:mr-2 rtl:ml-2 inline-block",width:".8rem",height:".8rem",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{fillRule:"evenodd",d:"M14 0H2a2 2 0 00-2 2v12a2 2 0 002 2h12a2 2 0 002-2V2a2 2 0 00-2-2zM1 3.857C1 3.384 1.448 3 2 3h12c.552 0 1 .384 1 .857v10.286c0 .473-.448.857-1 .857H2c-.552 0-1-.384-1-.857V3.857z",clipRule:"evenodd"}),e.jsx("path",{fillRule:"evenodd",d:"M6.5 7a1 1 0 100-2 1 1 0 000 2zm3 0a1 1 0 100-2 1 1 0 000 2zm3 0a1 1 0 100-2 1 1 0 000 2zm-9 3a1 1 0 100-2 1 1 0 000 2zm3 0a1 1 0 100-2 1 1 0 000 2zm3 0a1 1 0 100-2 1 1 0 000 2zm3 0a1 1 0 100-2 1 1 0 000 2zm-9 3a1 1 0 100-2 1 1 0 000 2zm3 0a1 1 0 100-2 1 1 0 000 2zm3 0a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})]}),e.jsxs("span",{className:"px-1 font-openSans text-sm",children:["Generated Application No :"," ",e.jsxs("strong",{className:"text-gray-600 underline ",children:[(A=r==null?void 0:r.data)==null?void 0:A.applicationNo," "]})]}),e.jsxs("div",{className:" mt-2 flex",children:[e.jsxs("button",{className:`${Ie}`,variant:"contained",size:"small",onClick:()=>{var k;return $((k=r==null?void 0:r.data)==null?void 0:k.applicationNo)},children:[e.jsx(la,{fontSize:"small"})," Copy application no"," "]})," ",e.jsxs("span",{id:"copyapn",children:[" ",x&&e.jsx(Da,{color:"green",size:30})]})]})]})]}),e.jsxs("div",{className:"text-xs ",children:[e.jsxs("p",{className:"flex text-gray-500 font-openSans",children:[e.jsx("span",{className:"pt-1 ",children:e.jsx(lt,{})}),e.jsxs("span",{className:"px-2 ",children:[" ","Keep Your application No for future reference."]})]}),e.jsxs("p",{className:"flex  text-gray-500 ",children:[e.jsx("span",{className:"pt-1 ",children:e.jsx(lt,{})}),e.jsxs("span",{className:"px-2 ",children:[" ","You can always find your applications in trade"," ",e.jsxs(Ee,{to:"/trade-dashboard",children:[" ",e.jsxs("span",{className:"text-blue-500 hover:underline",children:[" ","Dashboard"]})]})]})]})]})]})]}),e.jsx("div",{className:"flex  lg:flex-row  darks:bg-gray-800  overflow-hidden w-full px-5  bg-indigo-100  ",children:e.jsxs("div",{className:"p-4 flex-1 lg:flex-shrink lg:w-2/3",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("h3",{className:"text-md lg:text-xl leading-normal mb-4 font-semibold text-gray-700 darks:text-gray-300 font-openSans",children:e.jsx("p",{className:"hover:text-indigo-700",children:"Documents are pending. Upload them now...."})}),e.jsx("div",{className:"text-gray-500",children:e.jsxs("button",{className:`${Fe}`,onClick:S,children:[" ",e.jsx(Wt,{})," Upload Documents"]})})]}),e.jsxs("p",{className:"flex text-gray-700 text-sm",children:[e.jsx("span",{className:"pt-1 text-sm",children:e.jsx(lt,{})}),e.jsxs("span",{className:"px-2 ",children:[" ","Keep Your application No. for future reference."]})]})]})})]})})})]})}function ul(s){var b,r,t,g,h,x,m;const{initialBusinessDetails:n,firmDetails:u,ownerDetails:C}=s==null?void 0:s.allFormData;return console.log("fieldData",(b=s==null?void 0:s.fieldData)==null?void 0:b.wardList),e.jsx("div",{className:"",children:e.jsxs("div",{className:"p-2 items-center overflow-hidden mx-auto bg-white  font-mono text-xs mt-5",children:[e.jsx("h1",{className:"font-bold text-lg text-slate-500 my-2 bg-stone-100 py-1.5 uppercase font-mono text-center",children:"Your Selected Options"}),"Basic Details :",(n==null?void 0:n.applyWith)!=""&&e.jsxs("div",{className:" flex justify-between  my-2 px-4 border-b bg-slate-50 hover:bg-slate-200",children:[e.jsxs("div",{className:"py-2",children:[" ",e.jsx("p",{children:"Apply With : "})," "]}),e.jsx("div",{children:e.jsxs("p",{className:"py-2",children:[(n==null?void 0:n.applyWith)==1&&" Notice No",(n==null?void 0:n.applyWith)==2&&" New Application"]})})]}),(n==null?void 0:n.applyWith)!=""&&(n==null?void 0:n.applyWith)==1&&e.jsxs("div",{className:" flex justify-between  my-2 px-4 border-b bg-slate-100 hover:bg-slate-200",children:[e.jsxs("div",{className:"py-2",children:[" ",e.jsx("p",{children:"Notice No :"})," "]}),e.jsxs("div",{children:[" ",e.jsx("p",{className:"py-2",children:n==null?void 0:n.noticeNo})]})]}),(n==null?void 0:n.noticeDate)!=""&&(n==null?void 0:n.applyWith)==1&&e.jsxs("div",{className:" flex justify-between  my-2 px-4 border-b bg-slate-50 hover:bg-slate-200",children:[e.jsxs("div",{className:"py-2",children:[" ",e.jsx("p",{children:"Notice Date :"})," "]}),e.jsxs("div",{children:[" ",e.jsx("p",{className:"py-2",children:n==null?void 0:n.noticeDate})]})]}),(u==null?void 0:u.firmName)!=""&&e.jsxs("div",{className:" flex justify-between  my-2 px-4 border-b bg-slate-100 hover:bg-slate-200",children:[e.jsxs("div",{className:"py-2",children:[" ",e.jsx("p",{children:"Firm Name :"})," "]}),e.jsxs("div",{children:[" ",e.jsx("p",{className:"py-2",children:u==null?void 0:u.firmName})]})]}),(u==null?void 0:u.areaSqft)!=""&&e.jsxs("div",{className:" flex justify-between  my-2 px-4 border-b bg-slate-50 hover:bg-slate-200",children:[e.jsxs("div",{className:"py-2",children:[" ",e.jsx("p",{children:"Plot Area (in Sqft.) :"})," "]}),e.jsxs("div",{children:[" ",e.jsx("p",{className:"py-2",children:u==null?void 0:u.areaSqft})]})]}),(n==null?void 0:n.onwershipType)!=""&&e.jsxs("div",{className:" flex justify-between  my-2 px-4 border-b bg-slate-100 hover:bg-slate-200",children:[e.jsxs("div",{className:"py-2",children:[" ",e.jsx("p",{children:"ownershipType :"})," "]}),e.jsx("div",{children:e.jsxs("p",{className:"py-2",children:[(n==null?void 0:n.ownershipType)=="1"&&"Own Property ",(n==null?void 0:n.ownershipType)=="2"&&"On Rent ",(n==null?void 0:n.ownershipType)=="3"&&"Own Lease"]})})]}),(n==null?void 0:n.categroyTypeId)!=""&&e.jsxs("div",{className:" flex justify-between  my-2 px-4 border-b bg-slate-50 hover:bg-slate-200",children:[e.jsxs("div",{className:"py-2",children:[" ",e.jsx("p",{children:"categoryType :"})," "]}),e.jsx("div",{children:e.jsxs("p",{className:"py-2",children:[(n==null?void 0:n.categoryTypeId)=="1"&&"H/L/B/D",(n==null?void 0:n.categoryTypeId)=="2"&&"Dangerous Trade",(n==null?void 0:n.categoryTypeId)=="3"&&"Others",(n==null?void 0:n.categoryTypeId)==""&&"..."]})})]}),(u==null?void 0:u.wardNo)!=""&&e.jsxs("div",{className:" flex justify-between  my-2 px-4 border-b bg-slate-100 hover:bg-slate-200",children:[e.jsxs("div",{className:"py-2",children:[" ",e.jsx("p",{children:"Ward No :"})," "]}),e.jsxs("div",{children:[" ",e.jsx("p",{className:"py-2",children:JSON.stringify((g=(t=(r=s==null?void 0:s.fieldData)==null?void 0:r.wardList)==null?void 0:t.filter(p=>p.id==(u==null?void 0:u.wardNo))[0])==null?void 0:g.ward_name)})]})]}),(u==null?void 0:u.newwardNo)!=""&&e.jsxs("div",{className:" flex justify-between  my-2 px-4 border-b bg-slate-50 hover:bg-slate-200",children:[e.jsxs("div",{className:"py-2",children:[" ",e.jsx("p",{children:"newwardNo :"})," "]}),e.jsxs("div",{children:[" ",e.jsxs("p",{className:"py-2",children:[JSON.stringify((m=(x=(h=s==null?void 0:s.fieldData)==null?void 0:h.wardList)==null?void 0:x.filter(p=>p.id==(u==null?void 0:u.newWardNo))[0])==null?void 0:m.ward_name)," "]})]})]}),(u==null?void 0:u.holdingNo)!=""&&e.jsxs("div",{className:" flex justify-between  my-2 px-4 border-b bg-slate-100 hover:bg-slate-200",children:[e.jsxs("div",{className:"py-2",children:[" ",e.jsx("p",{children:"holdingNo :"})," "]}),e.jsxs("div",{children:[" ",e.jsx("p",{className:"py-2",children:u==null?void 0:u.holdingNo})]})]}),(u==null?void 0:u.premisesOwner)!=""&&e.jsxs("div",{className:" flex justify-between  my-2 px-4 border-b bg-slate-50 hover:bg-slate-200",children:[e.jsxs("div",{className:"py-2",children:[" ",e.jsx("p",{children:"premisesOwner :"})," "]}),e.jsxs("div",{children:[" ",e.jsx("p",{className:"py-2",children:u==null?void 0:u.premisesOwner})]})]}),(u==null?void 0:u.businessAddress)!=""&&e.jsxs("div",{className:" flex justify-between  my-2 px-4 border-b bg-slate-100 hover:bg-slate-200",children:[e.jsxs("div",{className:"py-2",children:[" ",e.jsx("p",{children:"businessAddress :"})," "]}),e.jsxs("div",{children:[" ",e.jsx("p",{className:"py-2",children:u==null?void 0:u.businessAddress})]})]}),(u==null?void 0:u.landmark)!=""&&e.jsxs("div",{className:" flex justify-between  my-2 px-4 border-b bg-slate-50 hover:bg-slate-200",children:[e.jsxs("div",{className:"py-2",children:[" ",e.jsx("p",{children:"landmark :"})," "]}),e.jsxs("div",{children:[" ",e.jsx("p",{className:"py-2",children:u==null?void 0:u.landmark})]})]}),(u==null?void 0:u.pincode)!=""&&e.jsxs("div",{className:" flex justify-between  my-2 px-4 border-b bg-slate-100 hover:bg-slate-200",children:[e.jsxs("div",{className:"py-2",children:[" ",e.jsx("p",{children:"pincode :"})," "]}),e.jsxs("div",{children:[" ",e.jsx("p",{className:"py-2",children:u==null?void 0:u.pincode})]})]}),(u==null?void 0:u.businessDescription)!=""&&e.jsxs("div",{className:" flex justify-between  my-2 px-4 border-b bg-slate-50 hover:bg-slate-200",children:[e.jsxs("div",{className:"py-2",children:[" ",e.jsx("p",{children:"businessDescription: "}),e.jsxs("p",{className:"py-2",children:[" ",u==null?void 0:u.businessDescription]})," "]}),e.jsx("br",{})]}),"Owner Details :",(C==null?void 0:C.length)>0&&(C==null?void 0:C.map((p,$)=>e.jsxs(e.Fragment,{children:[e.jsx("div",{className:" flex justify-between  my-2 px-4 border-b bg-slate-300 hover:bg-slate-200",children:e.jsxs("div",{className:"font-bold text-gray-600",children:[" ",e.jsxs("p",{children:["owner :",$+1]})," "]})}),e.jsxs("div",{className:" flex justify-between  my-2 px-4 border-b  bg-slate-50  hover:bg-slate-200",children:[e.jsxs("div",{className:"py-2",children:[" ",e.jsx("p",{children:"ownerName :"})," "]}),e.jsxs("div",{children:[" ",e.jsx("p",{className:"py-2",children:p==null?void 0:p.businessOwnerName})]})]}),e.jsxs("div",{className:" flex justify-between  my-2 px-4 border-b  bg-slate-100  hover:bg-slate-200",children:[e.jsxs("div",{className:"py-2",children:[" ",e.jsx("p",{children:"guardianName :"})," "]}),e.jsxs("div",{children:[" ",e.jsx("p",{className:"py-2",children:p==null?void 0:p.guardianName})]})]}),e.jsxs("div",{className:" flex justify-between  my-2 px-4 border-b  bg-slate-50  hover:bg-slate-200",children:[e.jsxs("div",{className:"py-2",children:[" ",e.jsx("p",{children:"mobile :"})," "]}),e.jsxs("div",{children:[" ",e.jsx("p",{className:"py-2",children:p==null?void 0:p.mobileNo})]})]}),e.jsxs("div",{className:" flex justify-between  my-2 px-4 border-b  bg-slate-100  hover:bg-slate-200",children:[e.jsxs("div",{className:"py-2",children:[" ",e.jsx("p",{children:"email :"})," "]}),e.jsxs("div",{children:[" ",e.jsx("p",{className:"py-2",children:p==null?void 0:p.email})]})]})]})))]})})}Os.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";function xl(s){const[n,u]=a.useState([]),[C,b]=a.useState(1),[r,t]=a.useState(1),[g,h]=a.useState(!1);a.useState([]),a.useState([]),a.useState([]),a.useState([]);const[x,m]=a.useState(s.applicationType),[p,$]=a.useState(),[S,E]=a.useState(),[A,k]=a.useState(""),[c,z]=a.useState("");let d;const L=(f,O,M)=>{d={...n,[f]:O},u({...n,[f]:O}),console.log("allformdata 2",d),M&&I(d)},I=f=>{let O=JSON.parse(JSON.stringify(f));O.applicationType=ze(x),O.ulbId=s==null?void 0:s.ulbId;let M=O;setTimeout(()=>{me.post(oe.POST_APPLY_APPLICATION_FOR_CITIZEN,Object.assign({},M),fe()).then(function(l){console.log("response ",l.data),l.data.status?(V("Application Submitted Successfully !","success"),$(l.data),j(l.data),b(5)):(b(4),V("Something went wrong !","notice"))}).catch(function(l){console.log(l),V("Invalid response received !","error"),s.showLoader(!1)})},500)},v=(f,O)=>{z(f),k(O)},o={applicationType:s.applicationType,colorCode:g,currentStep:r,currentStepFun:t,collectFormDataFun:L,firmStepFun:b,firmStep:C,colorCodeFun:h,fieldData:s.fieldData,allFormData:n,showLoader:s==null?void 0:s.showLoader,finalSubmit:I,ulbId:s==null?void 0:s.ulbId,setError:v,ErrorMessage:c,ErrorOrigin:A},y={successData:p,successFun:$};console.log("values ",o);const j=f=>{console.log("===getting payment data====",f.data.paymentRecipt),me.get(f.data.paymentRecipt).then(function(O){O.data.status&&(E(O.data.data),console.log("===getting payment data thorugh api====",O.data))}).catch(function(O){console.log("===getting payment data thorugh api erro====",O)})},[F,T]=a.useState({}),V=(f,O)=>{J.dismiss(),O=="escalated"&&J.success(f),O=="success"&&J.success(f),O=="de-escalated"&&J.warn(f),O=="notice"&&J.warn(f),O=="error"&&J.error(f)};return e.jsxs("div",{children:[e.jsx("div",{className:"",children:e.jsx(et,{applicationType:s.applicationType,ulbName:s==null?void 0:s.ulbName})}),e.jsxs("div",{className:"flex md:flex-row max-sm:flex-wrap mb-28",children:[e.jsx("div",{className:"col-span-12 md:col-span-9 pt-4 border-l-8 border-white bg-white mt-1 md:mt-0 relative ",children:e.jsxs("div",{className:" overflow-x-clip ",children:[e.jsxs("div",{className:`mt-1 border border-gray-50 mr-2 md:pl-5 transition-all ${C==1?"translate-x-0 max-sm:mb-[8rem]":"translate-x-full"}`,children:[e.jsx(Ka,{values:o,denialDetailsFun:T,toast:V})," "]}),e.jsx("div",{className:`mt-8 mr-2 md:pl-5 transition-all ${C==2?" translate-x-0  max-sm:mb-[50rem] ":"translate-x-full hidden"}`,children:e.jsx(Xa,{values:o,denialDetails:F,toast:V})}),e.jsx("div",{className:`mt-8 mr-2 md:pl-5 transition-all ${C==3?" translate-x-0 max-sm:mb-[25rem] ":"translate-x-full hidden"}`,children:e.jsx(dl,{values:o,toast:V})}),e.jsx("div",{className:`mt-8 mr-2 md:pl-5 transition-all ${C==4?" translate-x-0  max-sm:mb-[33rem]":"translate-x-full hidden"}`,children:e.jsx(ol,{values:o,successData:y,toast:V})}),e.jsx("div",{className:`mt-8 transition-all ${C==5?" translate-x-0  ":"translate-x-full "}`,children:e.jsx(st,{values:o,successData:y,paymentData:S,toast:V})})]})}),e.jsx("div",{className:`${C==5?"hidden":"md:block"} max-sm:w-full col-span-12 md:col-span-3 pt-4 border-l-8 bg-white border-white mt-10 md:mt-0 h-full mb-4`,children:e.jsx(ul,{allFormData:n,fieldData:s.fieldData})})]})]})}function hl(s){var j,F,T,V,f,O,M,l,N,_,U,ee,G,le,te,Q,se,ie,D,H,Y,R,W,K,X,re,de,ne,xe,he,_e,Ce,$e,pe,ye,i,ce,ue,je,Oe,Me,We,He,Ue,Ye,Ge,Ke,Ze,Je,Qe,Xe,es,ss,P,ge,Le,ts,cs,rs,ds,os,ms,us,xs,hs,gs,fs,js,bs,Ns,ys,vs,ws,ps,Ss,Cs,Ds,_s,$s;const{applicationType:n,colorCode:u,currentStep:C,currentStepFun:b,collectFormDataFun:r,firmStepFun:t,firmStep:g,colorCodeFun:h,allFormData:x,showLoader:m}=s==null?void 0:s.values;a.useState(!1),a.useState({});const[p,$]=a.useState(!1);a.useState(!1),a.useState(!1),a.useState();const[S,E]=a.useState(!0),[A,k]=a.useState([]),c=Ve({holdingNo:Z().required("This field is required !"),areaSqft:Z().required("This field is required !"),businessDescription:Z().required("This field is required !"),pincode:Z().required("Enter pincode").matches(/[0-9]{6}/,"pincode must be numeric 6 digits."),businessDescription:Z().required("Enter Business Description").matches(/^[a-zA-Z1-9][a-zA-Z1-9\.\&\s]+$/,"Business Description is Alphanumeric. "),landmark:Z().required("Enter Landmark").matches(/^[a-zA-Z1-9][a-zA-Z1-9\.\,\s]+$/,"Business Description is Alphanumeric."),wardNo:Z().required("Enter Ward No."),newWardNo:Z().required("Enter New Ward No.")}),z={wardNo:(T=(F=(j=s==null?void 0:s.values)==null?void 0:j.licenseData)==null?void 0:F.licenceDtl)==null?void 0:T.ward_id,holdingNo:(O=(f=(V=s==null?void 0:s.values)==null?void 0:V.licenseData)==null?void 0:f.licenceDtl)==null?void 0:O.holding_no,newWardNo:(N=(l=(M=s==null?void 0:s.values)==null?void 0:M.licenseData)==null?void 0:l.licenceDtl)==null?void 0:N.new_ward_id,areaSqft:(ee=(U=(_=s==null?void 0:s.values)==null?void 0:_.licenseData)==null?void 0:U.licenceDtl)==null?void 0:ee.area_in_sqft,firmName:(te=(le=(G=s==null?void 0:s.values)==null?void 0:G.licenseData)==null?void 0:le.licenceDtl)==null?void 0:te.firm_name,firmEstdDate:(ie=(se=(Q=s==null?void 0:s.values)==null?void 0:Q.licenseData)==null?void 0:se.licenceDtl)==null?void 0:ie.valid_upto,businessAddress:(Y=(H=(D=s==null?void 0:s.values)==null?void 0:D.licenseData)==null?void 0:H.licenceDtl)==null?void 0:Y.address,landmark:(K=(W=(R=s==null?void 0:s.values)==null?void 0:R.licenseData)==null?void 0:W.licenceDtl)==null?void 0:K.landmark,pincode:(de=(re=(X=s==null?void 0:s.values)==null?void 0:X.licenseData)==null?void 0:re.licenceDtl)==null?void 0:de.pin_code,premisesOwner:(he=(xe=(ne=s==null?void 0:s.values)==null?void 0:ne.licenseData)==null?void 0:xe.licenceDtl)==null?void 0:he.premises_owner_name,businessDescription:($e=(Ce=(_e=s==null?void 0:s.values)==null?void 0:_e.licenseData)==null?void 0:Ce.licenceDtl)==null?void 0:$e.brief_firm_desc,natureOfBusiness:(i=(ye=(pe=s==null?void 0:s.values)==null?void 0:pe.licenseData)==null?void 0:ye.licenceDtl)==null?void 0:i.nature_of_bussiness,tocStatus:(je=(ue=(ce=s==null?void 0:s.values)==null?void 0:ce.licenseData)==null?void 0:ue.licenceDtl)==null?void 0:je.tobacco_status,propDtlId:(We=(Me=(Oe=s==null?void 0:s.values)==null?void 0:Oe.licenseData)==null?void 0:Me.licenceDtl)==null?void 0:We.prop_dtl_id},d=Pe({initialValues:z,enableReinitialize:!0,onSubmit:(be,Be)=>{m(!0),console.log("Firm deatils ",be),be.natureOfBusiness!=null&&be.natureOfBusiness!=""?(r("firmDetails",be,0),setTimeout(()=>{t(3),b(3),h(2),m(!1)},500)):alert("nature of business cann't be empty")},validationSchema:c}),L=()=>{t(1)},I=be=>{var Se,Ae,as;const Be=be.target.value;Be!==""&&(m(!0),me.post(oe.VALIDATE_HOLDING,{holdingNo:Be,ulbId:(as=(Ae=(Se=s==null?void 0:s.values)==null?void 0:Se.licenseData)==null?void 0:Ae.licenceDtl)==null?void 0:as.ulb_id},fe()).then(function(ls){console.log("validate holding ",ls.data),ls.data.status?s.toast("Correct Holding No.","success"):(d.setFieldValue("holdingNo",""),s.toast("Invalid Holding No.","notice"))}).catch(function(ls){console.log(ls),s.toast("Something Went Wrong !","error")}).finally(()=>{setTimeout(()=>{m(!1)},500)}))},v=be=>{var Se;m(!0);let Be={oldWardMstrId:be,ulbId:(Se=s==null?void 0:s.values)==null?void 0:Se.ulbId};me.post(oe.DEPENDENT_WARD_CITIZEN,Be,fe()).then(Ae=>{console.log("dependent wards",Ae.data),Ae.data.status?k(Ae.data.data):s.toast("Nature of business cann't be empty","notice"),m(!1)}).catch(Ae=>{console.log(Ae),m(!1)})},o=be=>{let Be=be.target.name,Se=be.target.value;Be==="applyWith"&&$(Se==="1"),Be==="tocStatus"&&y(be),Be==="wardNo"&&v(Se)},y=be=>{be.target.checked===!0?(E(!1),d.setFieldValue("tocStatus",1),d.setFieldValue("natureOfBusiness",[{id:187}])):(E(!0),d.setFieldValue("tocStatus",0),d.setFieldValue("natureOfBusiness",""))};return a.useEffect(()=>{v(d.values.wardNo)},[d.values.wardNo]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"absolute w-full h-auto bg-white ",children:e.jsxs("div",{className:"md:mr-4  max-sm:px-3 max-sm:mb-[100px]",children:[e.jsx(Re,{heading:"Firm Details",message:"Your Firm Details will help us reach you easily...",iconTitle:"Firm Details"}),e.jsx("form",{onChange:o,onSubmit:d.handleSubmit,autoComplete:"off",children:e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-1",children:[e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Ward No"]}),e.jsxs("select",{name:"wardNo",className:`${w} cursor-pointer `,value:d.values.wardNo,onChange:d.handleChange,children:[e.jsx("option",{value:"",children:"Select New Ward"}),(Ye=(Ue=(He=s==null?void 0:s.values)==null?void 0:He.licenseData)==null?void 0:Ue.wardList)==null?void 0:Ye.map(be=>e.jsx("option",{value:be.id,children:be.ward_no}))]}),e.jsx("p",{className:`${ae}`,children:d.touched.wardNo&&d.errors.wardNo?d.errors.wardNo:null})]}),e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})," ","Holding No."," "]}),e.jsx("input",{type:"text",name:"holdingNo",className:`${w} cursor-pointer uppercase `,placeholder:"Enter Holding No",value:d.values.holdingNo,onChange:d.handleChange,onBlur:I}),e.jsx("span",{className:`${ae}`,children:d.touched.holdingNo&&d.errors.holdingNo?d.errors.holdingNo:null})]}),e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"New Ward No."]}),e.jsxs("select",{name:"newWardNo",className:`${w} cursor-pointer `,value:d.values.newWardNo,onChange:d.handleChange,children:[e.jsx("option",{value:"",children:"Select New Ward"}),A==null?void 0:A.map(be=>e.jsx("option",{className:"",value:be.new_ward_mstr_id,children:be.ward_name}))]}),e.jsx("p",{className:`${ae}`,children:d.touched.newWardNo&&d.errors.newWardNo?d.errors.newWardNo:null})]}),e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Total Area (sqft)."]}),e.jsx("input",{type:"text",name:"areaSqft",className:`${w} cursor-pointer `,value:d.values.areaSqft,onChange:d.handleChange}),e.jsx("p",{className:"text-xs text-red-500",children:d.touched.areaSqft&&d.errors.areaSqft?d.errors.areaSqft:null})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-1",children:[e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Firm Name."]}),e.jsx("input",{type:"hidden",name:"firmName",className:`${w} cursor-pointer `,value:d.values.firmName,readOnly:!0}),e.jsx("div",{className:`${w} bg-gray-100 cursor-pointer `,children:((Ze=(Ke=(Ge=s==null?void 0:s.values)==null?void 0:Ge.licenseData)==null?void 0:Ke.licenceDtl)==null?void 0:Ze.firm_name)!=null?(Xe=(Qe=(Je=s==null?void 0:s.values)==null?void 0:Je.licenseData)==null?void 0:Qe.licenceDtl)==null?void 0:Xe.firm_name:"N/A"})]}),e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Firm Establishment Date"]}),e.jsx("input",{type:"hidden",name:"firmEstdDate",className:`${w} cursor-pointer `,value:d.values.firmEstdDate,readOnly:!0}),e.jsx("div",{className:`${w} bg-gray-100 cursor-pointer `,children:((P=(ss=(es=s==null?void 0:s.values)==null?void 0:es.licenseData)==null?void 0:ss.licenceDtl)==null?void 0:P.establishment_date)!=null?(ts=(Le=(ge=s==null?void 0:s.values)==null?void 0:ge.licenseData)==null?void 0:Le.licenceDtl)==null?void 0:ts.establishment_date:"N/A"})]}),e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Business Address"]}),e.jsx("input",{type:"hidden",name:"businessAddress",className:`${w} cursor-pointer `,value:d.values.businessAddress,readOnly:!0}),e.jsx("div",{className:`${w} bg-gray-100 cursor-pointer `,children:((ds=(rs=(cs=s==null?void 0:s.values)==null?void 0:cs.licenseData)==null?void 0:rs.licenceDtl)==null?void 0:ds.address)!=null?(us=(ms=(os=s==null?void 0:s.values)==null?void 0:os.licenseData)==null?void 0:ms.licenceDtl)==null?void 0:us.address:"N/A"})]}),e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Landmark"]}),e.jsx("input",{type:"text",name:"landmark",className:`${w}  cursor-pointer `,value:d.values.landmark,onChange:d.handleChange}),e.jsxs("p",{className:"text-xs text-red-500",children:[" ",d.touched.landmark&&d.errors.landmark?d.errors.landmark:null]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-1",children:[e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Pin Code"]}),e.jsx("input",{type:"text",name:"pincode",className:`${w} cursor-pointer `,value:d.values.pincode,onChange:d.handleChange,maxLength:6}),e.jsxs("p",{className:"text-xs text-red-500",children:[" ",d.touched.pincode&&d.errors.pincode?d.errors.pincode:null]})]}),e.jsxs("div",{className:`${q} `,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Owner of Business Premises"]}),e.jsx("input",{type:"hidden",name:"premisesOwner",className:`${w} cursor-pointer `,value:d.values.wardNo,readOnly:!0}),e.jsx("div",{className:`${w} bg-gray-100 cursor-pointer `,children:(gs=(hs=(xs=s==null?void 0:s.values)==null?void 0:xs.licenseData)==null?void 0:hs.licenceDtl)!=null&&gs.premisesOwner?(bs=(js=(fs=s==null?void 0:s.values)==null?void 0:fs.licenseData)==null?void 0:js.licenceDtl)==null?void 0:bs.premisesOwner:(vs=(ys=(Ns=s==null?void 0:s.values)==null?void 0:Ns.licenseData)==null?void 0:ys.licenceDtl)!=null&&vs.premises_owner_name?(Ss=(ps=(ws=s==null?void 0:s.values)==null?void 0:ws.licenseData)==null?void 0:ps.licenceDtl)==null?void 0:Ss.premises_owner_name:"N/A"})]}),e.jsxs("div",{className:" col-span-2 mx-4",children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Business Description"]}),e.jsx("input",{type:"text",name:"businessDescription",className:`${w} cursor-pointer uppercase `,value:d.values.businessDescription,onChange:d.handleChange}),e.jsxs("p",{className:"text-xs text-red-500",children:[" ",d.touched.businessDescription&&d.errors.businessDescription?d.errors.businessDescription:null]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-1",children:e.jsxs("div",{className:"mx-4",children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Nature of Business"]}),e.jsx("input",{type:"hidden",name:"natureOfBusiness",className:`${w} cursor-pointer `,value:d.values.natureOfBusiness,readOnly:!0}),e.jsx("div",{className:`${w} bg-gray-100 cursor-pointer `,children:($s=(_s=(Ds=(Cs=s==null?void 0:s.values)==null?void 0:Cs.licenseData)==null?void 0:Ds.licenceDtl)==null?void 0:_s.nature_of_bussiness)==null?void 0:$s.map(be=>e.jsxs("p",{children:[be.trade_item," "]}))})]})}),e.jsxs("div",{className:"grid grid-cols-2 my-4",children:[e.jsx("div",{className:"",children:e.jsxs("button",{type:"button",onClick:L,className:`${Ie}`,children:[" ","Back"," "]})}),e.jsx("div",{className:"text-right",children:e.jsxs("button",{type:"submit",className:`${Fe}`,children:["Save & Next"," "]})})]})]})})]})})})}function gl(s){var v,o,y,j,F,T,V,f,O,M,l,N,_,U,ee,G,le,te,Q,se,ie,D,H,Y,R,W,K,X,re,de;const{applicationType:n,colorCode:u,currentStep:C,currentStepFun:b,collectAllFormData:r,collectFormDataFun:t,firmStepFun:g,firmStep:h,colorCodeFun:x,licenseData:m,showLoader:p}=s==null?void 0:s.values,[$,S]=a.useState(!1);a.useState(!1),a.useState(!1),a.useState();const[E,A]=a.useState(!1),[k,c]=a.useState(!1);console.log("license data ",m);const z=Ve({firmType:Z().required("This field is required !"),ownershipType:Z().required("This field is required !")}),d={oldLicenseId:(y=(o=(v=s==null?void 0:s.values)==null?void 0:v.licenseData)==null?void 0:o.licenceDtl)==null?void 0:y.id,applicationType:(T=(F=(j=s==null?void 0:s.values)==null?void 0:j.licenseData)==null?void 0:F.licenceDtl)==null?void 0:T.application_type,firmType:(O=(f=(V=s==null?void 0:s.values)==null?void 0:V.licenseData)==null?void 0:f.licenceDtl)==null?void 0:O.firm_type_id,ownershipType:(N=(l=(M=s==null?void 0:s.values)==null?void 0:M.licenseData)==null?void 0:l.licenceDtl)==null?void 0:N.ownership_type_id,licenseNo:(ee=(U=(_=s==null?void 0:s.values)==null?void 0:_.licenseData)==null?void 0:U.licenceDtl)==null?void 0:ee.license_no,categoryTypeId:(te=(le=(G=s==null?void 0:s.values)==null?void 0:G.licenseData)==null?void 0:le.licenceDtl)==null?void 0:te.category_type_id},L=Pe({initialValues:d,enableReinitialize:!0,onSubmit:(ne,xe)=>{p(!0),console.log("basic deatils ",ne),t("initialBusinessDetails",ne,0),setTimeout(()=>{g(2),b(2),x(1),p(!1)},500)},validationSchema:z}),I=ne=>{let xe=ne.target.name,he=ne.target.value;xe==="applyWith"&&S(he==="1"),xe==="firmType"&&A(he==="5"),xe==="noticeNo"&&c(he==="1")};return e.jsx(e.Fragment,{children:e.jsx("div",{className:" absolute w-full md:w-full sm:w-full h-auto bg-white ",children:e.jsxs("div",{className:"md:mr-4  max-sm:px-3",children:[e.jsx(Re,{heading:"Basic Details",message:"Some basic details about your business...",iconTitle:"Initial Details"}),e.jsx("form",{onChange:I,onSubmit:L.handleSubmit,children:e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3",children:[e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Application type"]}),e.jsx("input",{type:"hidden",name:"oldLicenseId",className:`${w} cursor-pointer `,value:L.values.oldLicenseId,readOnly:!0}),e.jsx("input",{type:"hidden",name:"applicationType",className:`${w} cursor-pointer `,value:L.values.applicationType,readOnly:!0}),e.jsx("div",{className:`${w} bg-gray-100 cursor-pointer `,children:ze(3)})]}),e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"License No."]}),e.jsx("input",{name:"licenseNo",type:"hidden",value:L.values.licenseNo,className:`read-only:bg-gray-100  ${w}`,readOnly:!0}),e.jsxs("div",{className:`${w} bg-gray-100 cursor-pointer `,children:[" ",((ie=(se=(Q=s==null?void 0:s.values)==null?void 0:Q.licenseData)==null?void 0:se.licenceDtl)==null?void 0:ie.license_no)!=""?(Y=(H=(D=s==null?void 0:s.values)==null?void 0:D.licenseData)==null?void 0:H.licenceDtl)==null?void 0:Y.license_no:"N/A"," "]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3",children:[e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})," ","Firm Type"," "]}),e.jsxs("select",{name:"firmType",id:"firmType",className:`${w} cursor-pointer text-xs`,onChange:L.handleChange,value:L.values.firmType,children:[e.jsx("option",{value:"",children:"SELECT"}),(K=(W=(R=s==null?void 0:s.values)==null?void 0:R.licenseData)==null?void 0:W.firmTypeList)==null?void 0:K.map(ne=>e.jsx("option",{value:ne.id,children:ne.firm_type}))]}),e.jsx("p",{className:"text-xs text-red-500",children:L.touched.firmType&&L.errors.firmType?L.errors.firmType:null})]}),e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:"block mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Premises Ownership Type"]}),e.jsxs("select",{name:"ownershipType",id:"ownershipType",className:`${w} cursor-pointer text-xs`,onChange:L.handleChange,value:L.values.ownershipType,children:[e.jsx("option",{value:"",children:"SELECT"}),(de=(re=(X=s==null?void 0:s.values)==null?void 0:X.licenseData)==null?void 0:re.ownershipTypeList)==null?void 0:de.map(ne=>e.jsx("option",{value:ne.id,children:ne.ownership_type}))]}),e.jsx("p",{className:"text-xs text-red-500",children:L.touched.ownershipType&&L.errors.ownershipType?L.errors.ownershipType:null})]})]}),e.jsxs("div",{className:"grid grid-cols-2 my-4",children:[e.jsx("div",{className:"w-full"}),e.jsx("div",{className:"w-full text-right ",children:e.jsx("button",{type:"submit",className:`${Fe}`,children:"Save & Next"})})]})]})})]})})})}function fl(s){const{colorCode:n,currentStep:u,currentStepFun:C,collectFormDataFun:b,firmStepFun:r,firmStep:t,colorCodeFun:g,allFormData:h,showLoader:x,finalSubmit:m}=s.values;console.log("props values :",s.values);const[p,$]=a.useState(!1);a.useState(!1),a.useState(!1);const[S,E]=a.useState(!1),A=Ve({licenseFor:Z().required("Select License For"),bankName:Z().when("paymentMode",{is:o=>o=="CHEQUE"||o=="DD",then:Z().required("Bank Name is required")}),chequeNo:Z().when("paymentMode",{is:o=>o=="CHEQUE"||o=="DD",then:Z().required("Cheque No is required")}),chequeDate:Z().when("paymentMode",{is:o=>o=="CHEQUE"||o=="DD",then:Z().required("Cheque Date is required")}),branchName:Z().when("paymentMode",{is:o=>o=="CHEQUE"||o=="DD",then:Z().required("Cheque Date is required")})}),c=Pe({initialValues:{licenseFor:"",licenseCharge:"0",penalty:"0",denialAmount:"0",totalCharge:"0",paymentMode:"",bankName:"",chequeNo:"",chequeDate:"",branchName:""},enableReinitialize:!0,onSubmit:(o,y)=>{console.log("Firm Details ",o),x(!0),b("licenseDetails",o,1),setTimeout(()=>{x(!1)},1e3)},validationSchema:A}),z=()=>{r(3)},d=[{option:"1",value:1}],L=o=>{let y=o.target.name,j=o.target.value;y==="applyWith"&&$(j==="1"),y==="licenseFor"&&I(j),y==="paymentMode"&&j=="CASH"?E(!1):E(!0),y==="chequeNo"&&j.length>20&&c.setFieldValue("chequeNo",j.slice(0,20))},I=o=>{var j,F,T,V,f,O,M,l,N;x(!0);let y=[];y.licenseFor=o,y.firmEstdDate=(T=(F=(j=s==null?void 0:s.values)==null?void 0:j.licenseData)==null?void 0:F.licenceDtl)==null?void 0:T.valid_upto,y.natureOfBusiness=(V=h.firmDetails)==null?void 0:V.natureOfBusiness,y.areaSqft=(f=h.firmDetails)==null?void 0:f.areaSqft,y.applicationType=ze((O=s.values)==null?void 0:O.applicationType),y.tocStatus=(N=(l=(M=s==null?void 0:s.values)==null?void 0:M.licenseData)==null?void 0:l.licenceDtl)==null?void 0:N.is_tobacco,console.log("charge calculation data",Object.assign({},y)),me.post(oe.GET_CHARGE,Object.assign({},y),fe()).then(function(_){console.log("license Charge ",_.data),_.data.status?(v(_.data.data),setTimeout(()=>{x(!1)},500)):(alert("Unable to get license charge !"),x(!1))}).catch(function(_){console.log(_),x(!1)})},v=o=>{c.setFieldValue("licenseCharge",o.rate),c.setFieldValue("denialAmount",o.arear_amount),c.setFieldValue("totalCharge",o.total_charge),c.setFieldValue("penalty",o.penalty)};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"absolute w-full h-auto bg-white px-2",children:e.jsxs("form",{onChange:L,onSubmit:c.handleSubmit,className:"mb-[7rem]",children:[e.jsx(Re,{heading:"License Details",message:"Depicted below is your license Charge, as per the given information...",iconTitle:"license charge!"}),e.jsxs("div",{className:"relative top-4  ",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-1",children:[e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:"text-sm font-semibold text-red-600 inline ",children:"*"}),"License For"]}),e.jsxs("select",{name:"licenseFor",className:`${w}  cursor-pointer `,value:c.values.licenseFor,onChange:c.handleChange,children:[e.jsx("option",{value:"",disabled:!0,selected:!0,children:"SELECT"}),d.map(o=>e.jsxs("option",{value:o.value,children:[o.option," Yrs"]}))]}),e.jsxs("span",{className:`${ae}`,children:[" ",c.touched.licenseFor&&c.errors.licenseFor?c.errors.licenseFor:null]})]}),e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" text-sm font-semibold text-red-600 inline ",children:"*"})," ","Charge Applied"," "]}),e.jsx("input",{type:"number",name:"licenseCharge",className:`${w} pointer-events-none bg-gray-100 `,readOnly:"readOnly",value:c.values.licenseCharge,onChange:c.handleChange}),e.jsxs("span",{className:`${ae}`,children:[" ",c.touched.licenseCharge&&c.errors.licenseCharge?c.errors.licenseCharge:null]})]}),e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:"text-sm font-semibold text-red-600 inline ",children:"*"}),"Penalty."]}),e.jsx("input",{type:"number",name:"penalty",className:`${w} pointer-events-none bg-gray-100 `,readOnly:"readOnly",value:c.values.penalty}),e.jsxs("span",{className:`${ae}`,children:[" ",c.touched.penalty&&c.errors.penalty?c.errors.penalty:null]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-1",children:[e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" text-sm font-semibold text-red-600 inline ",children:"*"}),"Denial / Arrer Amount."]}),e.jsx("input",{type:"number",name:"denialAmount",className:`${w} pointer-events-none bg-gray-100   `,value:c.values.denialAmount,onChange:c.handleChange}),e.jsxs("span",{className:`${ae}`,children:[" ",c.touched.denialAmount&&c.errors.denialAmount?c.errors.denialAmount:null]})]}),e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" text-sm font-semibold text-red-600 inline ",children:"*"}),"Total Charge."]}),e.jsx("input",{type:"number",name:"totalCharge",className:`${w} pointer-events-none bg-gray-100 `,value:c.values.totalCharge,onChange:c.handleChange}),e.jsxs("span",{className:`${ae}`,children:[" ",c.touched.totalCharge&&c.errors.totalCharge?c.errors.totalCharge:null]})]})]}),e.jsx("div",{className:"hidden"}),e.jsx("div",{className:"grid grid-cols-1",children:e.jsxs("div",{className:"md:px-10 text-right ",children:[e.jsxs("button",{type:"button",onClick:z,className:`${Ie}`,children:[" ","Back"," "]}),e.jsxs("button",{type:"submit",className:`${Fe}`,children:[" ","Submit"," "]})]})})]})]})})})}function jl(s){var o,y,j,F,T,V;const{currentStepFun:n,collectFormDataFun:u,firmStepFun:C,firmStep:b,colorCodeFun:r,showLoader:t}=s.values;console.log("firm step is :",b);const[g,h]=a.useState(!1),[x,m]=a.useState(!0),[p,$]=a.useState(!1),[S,E]=a.useState([]),A=f=>{console.log("key ",f),E(O=>O.filter(M=>{if(O.indexOf(M)==f)console.log("value matched at ",f);else return M}))};console.log("Multiple owner details ",S);const k=Ve({businessOwnerName:Z().required("This field is required !"),guardianName:Z().required("This field is required !"),mobileNo:Z().length(10).required("This field is required !"),email:Z().required("This field is required !")});let c=[];(j=(y=(o=s==null?void 0:s.values)==null?void 0:o.licenseData)==null?void 0:y.ownerDtl)==null||j.forEach(f=>{console.log("OwnerForm===>",f);let O={businessOwnerName:f.owner_name,guardianName:f.guardian_name,mobileNo:f.mobile_no,email:f.email_id,documentId:f.document_id};c.push(O)}),console.log("ownerDtl converted",c);const d=Pe({initialValues:{businessOwnerName:"",guardianName:"",mobileNo:"",email:"",natureOfBusiness:""},enableReinitialize:!0,onSubmit:(f,O)=>{E([...S,f]),d.resetForm()},validationSchema:k}),L=()=>{t(!0),console.log("Final submission of the form ",S);let f=S.length>0?S:[];console.log("Owners data being sent:",f),u("ownerDetails",f,0),setTimeout(()=>{C(4),n(4),r(3),t(!1)},500)},I=()=>{C(2)},v=f=>{let O=f.target.name,M=f.target.value;O==="applyWith"&&h(M==="1"),O==="mobileNo"&&d.setFieldValue("mobileNo",jt(M,d.values.mobileNo,10))};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"absolute w-full h-auto bg-white px-2",children:[e.jsx("div",{className:"w-full text-center "}),e.jsxs("form",{onChange:v,onSubmit:d.handleSubmit,autoComplete:"off",className:"mb-[7rem]",children:[e.jsx(Re,{heading:"Owner Details",message:"You can add New Owners Here. Or You can move forward with the old data",iconTitle:""}),e.jsx("div",{className:"block",children:e.jsxs("div",{className:`${x?"":"hidden"}`,children:[e.jsxs("div",{className:"grid grid-cols-3 w-full md:grid-cols-3 gap-2",children:[e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Owner Name *"]}),e.jsx("input",{type:"text",name:"businessOwnerName",className:`${w} cursor-pointer `,placeholder:"Ex: John Doe",value:d.values.businessOwnerName,onChange:d.handleChange,maxLength:30,autoComplete:"off"}),e.jsx("span",{className:`${ae}`,children:d.touched.businessOwnerName&&d.errors.businessOwnerName?d.errors.businessOwnerName:null})]}),e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})," ","Guardian Name"]}),e.jsx("input",{type:"text",name:"guardianName",className:`${w} cursor-pointer `,value:d.values.guardianName,onChange:d.handleChange,maxLength:30,autoComplete:"off"}),e.jsx("span",{className:`${ae}`,children:d.touched.guardianName&&d.errors.guardianName?d.errors.guardianName:null})]}),e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Mobile No."]}),e.jsx("input",{type:"number",name:"mobileNo",className:`${w} cursor-pointer `,value:d.values.mobileNo,onChange:d.handleChange,autoComplete:"off"}),e.jsx("span",{className:`${ae}`,children:d.touched.mobileNo&&d.errors.mobileNo?d.errors.mobileNo:null})]})]}),e.jsx("div",{className:"grid grid-cols-3 md:grid-cols-3 gap-1",children:e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Email."]}),e.jsx("input",{type:"email",name:"email",className:`${w} cursor-pointer `,value:d.values.email,onChange:d.handleChange,autoComplete:"off"}),e.jsx("span",{className:`${ae}`,children:d.touched.email&&d.errors.email?d.errors.email:null})]})}),e.jsx("div",{className:"p-4 w-full flex justify-center",children:e.jsxs("button",{type:"submit",onClick:()=>$(!0),className:`${Ie} max-sm:w-full`,children:["Confirm this owner",e.jsx(pt,{})," "]})})]})}),e.jsxs("table",{className:"table-auto w-full text-center my-8 mr-4",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-100 text-gray-600 text-xs h-8 hover:bg-amber-200 uppercase",children:[e.jsx("th",{children:" Owner Name"}),e.jsx("th",{children:" Guardian Name"}),e.jsx("th",{children:" Mobile"}),e.jsx("th",{children:" Email"}),e.jsx("th",{children:" Action"})]})}),e.jsxs("tbody",{children:[(V=(T=(F=s==null?void 0:s.values)==null?void 0:F.licenseData)==null?void 0:T.ownerDtl)==null?void 0:V.map(f=>e.jsxs("tr",{className:"border-t-2 hover:bg-slate-50 text-sm hover:shadow-lg text-center",children:[e.jsx("td",{children:e.jsx("input",{type:"text",name:"businessOwnerName[]",value:f.owner_name,className:`${w} bg-gray-100 cursor-pointer `,readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{type:"text",name:"guardianName[]",value:f.guardian_name,className:`${w} bg-gray-100 cursor-pointer `,readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{type:"text",name:"mobileNo[]",value:f.mobile_no,className:`${w} bg-gray-100 cursor-pointer `,readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{type:"text",name:"email[]",value:f.email_id,className:`${w} bg-gray-200 cursor-pointer `,readOnly:!0})}),e.jsx("td",{className:"bg-gray-100",children:e.jsx("span",{children:"..."})})]})),S==null?void 0:S.map((f,O)=>e.jsxs("tr",{className:"border-t-2 hover:bg-slate-50 text-sm hover:shadow-lg text-center  my-2",children:[e.jsx("td",{children:e.jsx("input",{type:"text",name:"businessOwnerName[]",value:f.businessOwnerName,className:`${w} cursor-pointer  my-2`,readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{type:"text",name:"guardianName[]",value:f.guardianName,className:`${w} cursor-pointer `,readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{type:"text",name:"mobileNo[]",value:f.mobileNo,className:`${w} cursor-pointer `,readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{type:"text",name:"email[]",value:f.email,className:`${w} cursor-pointer `,readOnly:!0})}),e.jsx("td",{children:e.jsx("button",{type:"button",className:"text-red-400",onClick:()=>A(O),children:e.jsx(Ct,{color:"secondary"})})})]}))]})]}),e.jsxs("div",{className:"grid grid-cols-2",children:[e.jsx("div",{className:" text-left",children:e.jsxs("button",{type:"button",onClick:I,className:`${Ie}`,children:[" ","Back"," "]})}),e.jsx("div",{className:" text-right",children:e.jsxs("button",{type:"button",onClick:L,className:`${Fe}`,children:["Save & Next"," "]})})]})]})]})})}a.forwardRef(function(n,u){return e.jsx(na,{direction:"down",ref:u,...n})});function bl(s){const[n,u]=a.useState({}),[C,b]=a.useState(1),[r,t]=a.useState(1),[g,h]=a.useState(!1),[x,m]=a.useState(!1),[p,$]=a.useState(3),[S,E]=a.useState(),[A,k]=a.useState();a.useState([]),a.useState([]),a.useState([]),a.useState([]);let c;console.log("all form data is: "),console.log(n);const z=(y,j,F)=>{console.log("prev Data",n),c={...n,[y]:j},u({...n,[y]:j}),F&&d(c)},d=y=>{var V,f,O,M;let j=(V=y.initialBusinessDetails)==null?void 0:V.oldLicenseId;const F=JSON.parse(JSON.stringify(y));F.applicationType=ze(p),F.ulbId=(M=(O=(f=s==null?void 0:s.licenseValues)==null?void 0:f.licenseData)==null?void 0:O.licenceDtl)==null?void 0:M.ulb_id,F.licenseId=j;let T=F;setTimeout(()=>{console.log("allFormData in state",n),console.log("allFormData",y),me.post(oe.POST_APPLY_APPLICATION_FOR_CITIZEN,Object.assign({},T),fe()).then(function(l){console.log("success data ",l.data),l.data.status?(E(l.data),L(l.data),b(5),o("Application submitted Successfully","success")):(console.log("success",l.data.message),b(4),o(l.data.message,"notify"))}).catch(function(l){console.log(l),o("Invalid response received","error"),s.showLoader(!1)})},500)},L=y=>{console.log("===getting payment data====",y.data.paymentRecipt),me.get(y.data.paymentRecipt).then(function(j){j.data.status&&(k(j.data.data),console.log("===getting payment data thorugh api====",j.data))}).catch(function(j){console.log("===getting payment data thorugh api erro====",j)})},I={renewToggleStatus:x,renewToggleStatusFun:m,applicationTypeFun:$,applicationType:s.applicationType,showLoader:s.showLoader,currentStep:r,currentStepFun:t,collectFormDataFun:z,allFormData:n,firmStepFun:b,firmStep:C,colorCode:g,colorCodeFun:h,finalSubmit:d,licenseData:s.licenseValues.licenseData},v={successData:S,successFun:E},o=(y,j)=>{J.dismiss(),j=="escalated"&&J.success(y),j=="success"&&J.success(y),j=="de-escalated"&&J.warn(y),j=="notice"&&J.warn(y),j=="error"&&J.error(y)};return e.jsxs(e.Fragment,{children:[e.jsx(et,{applicationType:s.applicationType}),e.jsxs("div",{className:"overflow-x-clip bg-white py-2",children:[e.jsxs("div",{className:`mt-8 md:mr-2 md:pl-5 transition-all ${C==1?"translate-x-0":"translate-x-full hidden"}`,children:[e.jsx(gl,{values:I,toast:o})," "]}),e.jsx("div",{className:`mt-8 md:mr-2 md:pl-5 transition-all ${C==2?" translate-x-0  ":"translate-x-full hidden"}`,children:e.jsx(hl,{values:I,toast:o})}),e.jsx("div",{className:`mt-8 md:mr-2 md:pl-5 transition-all ${C==3?" translate-x-0  ":"translate-x-full hidden"}`,children:e.jsx(jl,{values:I,toast:o})}),e.jsx("div",{className:`mt-8 md:mr-2 md:pl-5 transition-all ${C==4?" translate-x-0  ":"translate-x-full hidden"}`,children:e.jsx(fl,{values:I,successData:v,toast:o})}),e.jsx("div",{className:`mt-8 md:mr-2 transition-all ${C==5?" translate-x-0  ":"translate-x-full"}`,children:e.jsx(st,{values:I,successData:v,paymentData:A,toast:o})})]})]})}function Nl(){a.useState(0),a.useState(0),a.useState({category:"Not Authenticated",created_at:"2022-08-02 05:37:55",created_by:"Anshu Kumar",created_on:"2022-06-29 00:00:00",description:"abc",discontinued:!1,end_point:"test2",id:3,post_condition:"None",pre_condition:"Authentication is required",remarks:"",request_payload:"Token Only",response_payload:"username,password,userid",revision_no:1,tags:"tag5,tag6",updated_at:"2022-08-02 05:37:55",usage:"For Saving API Keys",version:"Version 1.0"}),a.useState();const{licenceId:s}=ks();console.log("licenceId",s),a.useState([]),a.useState("pointer-events-none opacity-50"),a.useState("hidden");const[n,u]=a.useState(!1),[C,b]=a.useState([]);a.useEffect(()=>{t()},[]);const r=x=>{console.log("loader is called with value ",x),u(x)},t=x=>{console.log("searched license data",x),r(!0),me.post(oe.MASTER_DATA_API,{applicationType:ze(3),licenseId:s},fe()).then(m=>{console.log("licenceId Data",m.data),m.data.status?(b(m.data.data),r(!1)):(r(!1),h("No license Data found","notice"))}).catch(m=>{console.log(m),h("No license Data found","notice")})},g={licenseDetailsFun:t,licenseData:C},h=(x,m)=>{J.dismiss(),m=="escalated"&&J.success(x),m=="success"&&J.success(x),m=="de-escalated"&&J.warn(x),m=="notice"&&J.warn(x),m=="error"&&J.error(x)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"py-12 bg-white container mx-auto",children:[n&&e.jsx(Ls,{}),e.jsx("div",{className:"col-span-12 sm:col-span-10 shadow-lg  md:overflow-y-scroll",style:{height:"90vh"},children:e.jsx(bl,{licenseValues:g,title:"Amendment",showLoader:r,applicationType:"3"})})]})})}const yl="/assets/rmc_logo-5a260d09.png";function vl(s){var u,C,b,r,t,g,h,x,m,p,$,S,E,A,k,c,z,d,L,I,v,o,y,j,F,T,V,f,O,M,l,N,_,U,ee,G,le,te,Q,se,ie,D,H,Y,R,W,K,X,re,de,ne,xe,he,_e,Ce,$e,pe,ye,i,ce,ue,je,Oe;const{t:n}=Bs();return e.jsx("div",{className:"border-2 font-Lato w-[40rem] p-3 mx-auto ml-20 mt-12 border-gray-700 mb-[9rem]",id:"printableArea",children:e.jsxs("div",{className:"mx-auto border-2 border-dashed text-[12px]  border-red-700 bg-white text-red-700 overflow-auto",children:[e.jsx("img",{src:"http://203.129.217.246:8000/Uploads/Icon/jharkhand.png",alt:"",className:" w-72 h-72 absolute z-10 bg-transparent opacity-20 mt-[20rem] ml-40 rounded-full"}),e.jsx("div",{className:" text-justify font-poppins ",children:e.jsxs("div",{className:"  py-2 px-2 text-red-700 ",styles:{backgroundImage:`url(${`${Ht(n).ulb_logo}`})`},children:[e.jsx("img",{src:ba+((C=(u=s==null?void 0:s.licenceData)==null?void 0:u.application)==null?void 0:C.ulb_logo),alt:"",className:"h-16 w-16 mx-auto"}),e.jsxs("h1",{className:"font-bold text-center capitalize",children:["Municipal Trade License Approval Certificate"," "]}),e.jsx("img",{src:(r=(b=s==null?void 0:s.licenceData)==null?void 0:b.application)==null?void 0:r.state_logo,alt:"",className:" w-72 h-72 absolute z-10 bg-transparent opacity-20 mt-[10rem] ml-40 rounded-full"}),e.jsxs("h1",{className:"font-bold text-center uppercase",children:[(g=(t=s==null?void 0:s.licenceData)==null?void 0:t.application)==null?void 0:g.ulb_name," "]}),e.jsx("h1",{className:"font-bold text-center",children:" Municipal Trade License "}),e.jsx("div",{className:"mx-auto text-center",children:e.jsxs("p",{className:" py-1 my-1",children:[" ","(This Certificate relates to Section 455 (i) Under Jharkhand"," "," Municipal Act of 2011)"," "]})}),e.jsxs("div",{className:"w-full px-1.5 ",children:[e.jsxs("div",{className:"grid grid-cols-3 h-auto",children:[e.jsxs("div",{className:"col-span-2 ",children:[e.jsxs("p",{className:" font-semibold",children:["Municipal Trade License No :"," ",e.jsxs("span",{className:"font-normal leading-6",children:[(x=(h=s==null?void 0:s.licenceData)==null?void 0:h.application)==null?void 0:x.license_no," "]})]}),e.jsxs("p",{className:" font-semibold",children:["Provisional License No :"," ",e.jsxs("span",{className:"font-normal leading-6",children:[(p=(m=s==null?void 0:s.licenceData)==null?void 0:m.application)==null?void 0:p.provisional_license_no," "]})]}),e.jsxs("p",{className:" font-semibold",children:["Approval date of Municipal Trade License :"," ",e.jsxs("span",{className:"font-normal leading-6",children:[(S=($=s==null?void 0:s.licenceData)==null?void 0:$.application)==null?void 0:S.license_date," "]})," "]}),e.jsxs("p",{className:" font-semibold",children:["Validity of Municipal Trade License :"," ",e.jsxs("span",{className:"font-normal  leading-6",children:[(A=(E=s==null?void 0:s.licenceData)==null?void 0:E.application)==null?void 0:A.valid_from," to"," ",(c=(k=s==null?void 0:s.licenceData)==null?void 0:k.application)==null?void 0:c.valid_upto," "]})," "]}),e.jsxs("p",{className:" font-semibold",children:["Entity Name :"," ",e.jsxs("span",{className:"font-normal  leading-6",children:[" ",(d=(z=s==null?void 0:s.licenceData)==null?void 0:z.application)==null?void 0:d.firm_name]})]})]}),e.jsx("div",{className:" mx-auto mt-1",children:e.jsx(Xs,{size:"100",url:`http://192.168.0.173:3000/admin/trade-provisional-license/${(I=(L=s==null?void 0:s.licenceData)==null?void 0:L.application)==null?void 0:I.id}`})})]}),e.jsxs("div",{className:"grid grid-cols-3 w-full",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsxs("p",{className:" font-semibold",children:["Owner Name of entity :"," ",e.jsxs("span",{className:"font-normal capitalize",children:[" ",(o=(v=s==null?void 0:s.licenceData)==null?void 0:v.application)==null?void 0:o.owner_name.toLowerCase()]})]}),e.jsxs("p",{className:" font-semibold",children:["Nature of entity :"," ",e.jsxs("span",{className:"font-normal ",children:[" ",(j=(y=s==null?void 0:s.licenceData)==null?void 0:y.application)==null?void 0:j.brief_firm_desc]})]}),e.jsxs("p",{className:" font-semibold",children:["Holding No. of Business Premises :"," ",e.jsxs("span",{className:"font-normal ",children:[" ",(T=(F=s==null?void 0:s.licenceData)==null?void 0:F.application)==null?void 0:T.holding_no]})]}),e.jsxs("p",{className:" font-semibold",children:["Owner of business premises :"," ",e.jsxs("span",{className:"font-normal ",children:[" ",(f=(V=s==null?void 0:s.licenceData)==null?void 0:V.application)==null?void 0:f.premises_owner_name]})]}),e.jsxs("p",{className:" font-semibold",children:["Occupied Area of Business :"," ",e.jsxs("span",{className:"font-normal ",children:[" ",(M=(O=s==null?void 0:s.licenceData)==null?void 0:O.application)==null?void 0:M.area_in_sqft]})," ","sqft"," "]}),e.jsxs("p",{className:" font-semibold",children:["Business Code :"," ",e.jsxs("span",{className:"font-normal ",children:[" ",(N=(l=s==null?void 0:s.licenceData)==null?void 0:l.application)==null?void 0:N.items_code]})]}),e.jsxs("p",{className:" font-semibold",children:["Date of Establishment :"," ",e.jsxs("span",{className:"font-normal ",children:[" ",(U=(_=s==null?void 0:s.licenceData)==null?void 0:_.application)==null?void 0:U.establishment_date]})]})]}),e.jsxs("div",{className:"col-span-1 pb-2",children:[e.jsxs("p",{className:" font-semibold",children:["Ward No :"," ",e.jsxs("span",{className:"font-normal ",children:[" ",(G=(ee=s==null?void 0:s.licenceData)==null?void 0:ee.application)==null?void 0:G.ward_no]})]}),e.jsxs("p",{className:" font-semibold",children:["Address :"," ",e.jsxs("span",{className:"font-normal  capitalize",children:[" ",(Q=(te=(le=s==null?void 0:s.licenceData)==null?void 0:le.application)==null?void 0:te.address)==null?void 0:Q.toLowerCase()]})]}),e.jsxs("p",{className:" font-semibold",children:["Application No :"," ",e.jsxs("span",{className:"font-normal ",children:[" ",(ie=(se=s==null?void 0:s.licenceData)==null?void 0:se.application)==null?void 0:ie.application_no]})]}),e.jsxs("p",{className:" font-semibold",children:["Date of Application:",e.jsx("span",{className:"font-normal ",children:(H=(D=s==null?void 0:s.licenceData)==null?void 0:D.application)==null?void 0:H.application_date})]}),e.jsxs("p",{className:" font-semibold",children:["Mobile No :"," ",e.jsxs("span",{className:"font-normal ",children:[" ",(R=(Y=s==null?void 0:s.licenceData)==null?void 0:Y.application)==null?void 0:R.mobile]})]})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 w-full",children:e.jsxs("div",{children:["This is to declare that"," ",e.jsxs("span",{className:"font-semibold capitalize",children:[" ",(K=(W=s==null?void 0:s.licenceData)==null?void 0:W.application)==null?void 0:K.firm_name," "]}),"having application number"," ",e.jsxs("span",{className:"font-semibold capitalize",children:[" ",(re=(X=s==null?void 0:s.licenceData)==null?void 0:X.application)==null?void 0:re.application_no," "]})," ","has been successfully registered with us with satisfactory compliance of registration criteria and to certify that trade license number"," ",e.jsxs("span",{className:"font-semibold capitalize",children:[" ",(ne=(de=s==null?void 0:s.licenceData)==null?void 0:de.application)==null?void 0:ne.license_no," "]})," ","has been allocated to"," ",e.jsxs("span",{className:"font-semibold capitalize",children:[(he=(xe=s==null?void 0:s.licenceData)==null?void 0:xe.application)==null?void 0:he.firm_name," "]}),"for conducting business which is"," ",e.jsxs("span",{className:"font-semibold capitalize",children:["(",(Ce=(_e=s==null?void 0:s.licenceData)==null?void 0:_e.application)==null?void 0:Ce.items_code,")"]})," ","as per business code mentioned in Jharkhand"," "," Municipal Act 2011 in the regime of this local body. The validity of this subject to meeting the terms and conditions as specified in U/S 455 of Jharkhand"," "," Municipal Act 2011 and other applicable sections in the act along with following terms and conditions:-"]})}),e.jsxs("div",{className:" mt-4 px-1  text-justify ",children:[e.jsxs("p",{className:"py-0.5",children:["1. Business will run according to license issued."," "]}),e.jsx("p",{className:"py-0.5",children:"2. Prior Permission from local body is necessary if nature of business is changed."}),e.jsxs("p",{className:"py-0.5",children:["3. Information to local body is necessary for extension of area."," "]}),e.jsxs("p",{className:"py-0.5",children:["4. Prior information to local body regarding winding up/closer of business is necessary."," "]}),e.jsx("p",{className:"py-0.5",children:"5. Application for renewal of license is necessary one month before expiry of license."}),e.jsxs("p",{className:"py-0.5",children:["6. In the case of delay, penalty will be levied according to section 459 of Jharkhand "," Municipal Act 2011."]}),e.jsx("p",{className:"py-0.5",children:"7. Illegal Parking in front of firm in non-permissible."}),e.jsx("p",{className:"py-0.5",children:"8. Sufficient number of containers for disposing-garbage and refuse shall be made available within by the business owner/organisation."}),e.jsxs("p",{className:"py-0.5",children:["9. The premises and the licensee will co-operate with the ULB for disposal of such waste."," "]}),e.jsxs("p",{className:"py-0.5",children:["10. SWM Rules, 2016 and Plastic Waste Management Rules 2016 shall be adhered to in words as well as spirit."," "]}),e.jsxs("p",{className:"py-0.5",children:["11. The license can be downloaded from"," ",(pe=($e=s==null?void 0:s.licenceData)==null?void 0:$e.application)==null?void 0:pe.ulb_parent_website]})]}),e.jsxs("div",{className:" mt-4 mb-4 px-2  text-justify text-red-700",children:[e.jsxs("p",{children:["For More Details Please Visit :",(i=(ye=s==null?void 0:s.licenceData)==null?void 0:ye.application)==null?void 0:i.ulb_parent_website]}),e.jsxs("p",{children:["OR Call us at ",(ue=(ce=s==null?void 0:s.licenceData)==null?void 0:ce.application)==null?void 0:ue.ulb_mobile_no," ","OR ",(Oe=(je=s==null?void 0:s.licenceData)==null?void 0:je.application)==null?void 0:Oe.ulb_toll_free_no]}),e.jsx("p",{children:"Note : This is a computer generated License. This License does not require a physical signature."})]})]})})]})})}function wl(){const s=a.useRef(),[n,u]=a.useState(),{licenceId:C}=ks(),[b,r]=a.useState(!1);a.useEffect(()=>{t(atob(C))},[C]);const t=h=>{g(!0),Os.get(oe.GET_TRADE_LICENSE_DATA+h).then(x=>{console.log("License data",x.data.data),x.data.status?(u(x.data.data),setTimeout(()=>{g(!1)},500)):g(!1)}).catch(x=>{g(!1),console.log(x)})},g=h=>{r(h)};return e.jsx("div",{children:e.jsxs("div",{children:[e.jsx("div",{children:e.jsx(yt,{trigger:()=>e.jsxs("button",{className:"outline outline-1 outline-blue-500 px-2 py-1 rounded bg-blue-50 hover:bg-blue-100 uppercase font-medium text-sm text-gray-600",children:[e.jsx(Qs,{})," Print this out!"]}),content:()=>s.current})}),e.jsx("div",{ref:s,children:e.jsx(vl,{licenceData:n})})]})})}ns.setAppElement("#root");function pl(){Bs(),a.useState(0),a.useState(0),a.useState({category:"Not Authenticated",created_at:"2022-08-02 05:37:55",created_by:"Anshu Kumar",created_on:"2022-06-29 00:00:00",description:"abc",discontinued:!1,end_point:"test2",id:3,post_condition:"None",pre_condition:"Authentication is required",remarks:"",request_payload:"Token Only",response_payload:"username,password,userid",revision_no:1,tags:"tag5,tag6",updated_at:"2022-08-02 05:37:55",usage:"For Saving API Keys",version:"Version 1.0"});const[s,n]=a.useState(),[u,C]=a.useState([]),[b,r]=a.useState("pointer-events-none opacity-50");a.useState("hidden");const[t,g]=a.useState(!1),[h,x]=a.useState(),[m,p]=a.useState(),[$,S]=a.useState(""),[E,A]=a.useState(!0);a.useState([]);const k=is(),c={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"tranrsparent",border:"none"}};function z(){}function d(){console.log("Line 107"),A(!1)}const L=T=>{let V=T.target.selectedOptions[0].text,f=T.target.selectedOptions[0].value;x(f),S(V)},I=()=>{h==""||h==null||h==null?(j("No ulb selected","notice"),window.document.getElementById("ulbName").focus()):(x(h),j("ULB Selected","success"),d())};console.log("uldId",h,$);const v=()=>{y(!0),console.log("api url",fe()),me.post(oe.MASTER_DATA_API,{applicationType:ze(s),ulbId:h},fe()).then(function(T){C(T.data.data),r(""),y(!1)}).catch(function(T){console.log(T),console.log(T),y(!1)})};a.useEffect(()=>{o()},[h]);const o=()=>{y(!0),me.get(oe.GET_ULB_LIST,fe()).then(T=>{console.log("ulb list",T.data),T.data.status&&(p(T.data.data),v()),y(!1)}).catch(T=>{console.log("ulb list",T),y(!1)})},y=T=>{console.log("loader is called with value ",T),g(T)},j=(T,V)=>{J.dismiss(),V=="escalated"&&J.success(T),V=="success"&&J.success(T),V=="de-escalated"&&J.warn(T),V=="notice"&&J.warn(T),V=="error"&&J.error(T)},F=()=>{y(!0),setTimeout(()=>{y(!1),k("/trade-dashboard")},1e3)};return e.jsxs(e.Fragment,{children:[t&&e.jsx(Ls,{}),e.jsxs("div",{className:"py-12 bg-white",children:[!E&&e.jsx(xl,{fieldData:u,showLoader:y,applicationType:"1",title:"NewApplication",toast:j,ulbId:h,ulbName:$}),e.jsx("div",{children:e.jsx(ns,{isOpen:E,onAfterOpen:z,onRequestClose:d,style:c,contentLabel:"Example Modal",shouldCloseOnOverlayClick:!1,children:e.jsx("div",{className:"bg-white text-gray-600  border border-gray-200 p-3 min-h-[1vh] md:w-[45vw] rounded-md",children:e.jsxs("div",{className:"w-full text-gray-800",children:[e.jsx("div",{className:"flex items-start justify-between p-0 pb-3 border-b  rounded-t darks:border-gray-600",children:e.jsxs("h3",{className:"text-base md:text-2xl font-semibold text-gray-900 darks:text-white",children:[" ","Applying For a New Trade License"," "]})}),e.jsxs("div",{class:"space-y-2 pt-5",children:[e.jsx("p",{class:" hidden md:block md:text-sm leading-relaxed text-gray-600 text-xs",children:"Before applying for a Trade License, you may need to provide a declaration or some other documentation to the Trade authority ULB. The specific requirements may vary depending on your location and the regulations of the service provider."}),e.jsx("p",{class:" hidden md:block md:text-sm leading-relaxed text-gray-600 text-xs",children:"Typically, you may need to provide information about the property where you want the Business license, including the address, the type of property (residential or commercial), and the number of occupants or users. You may also need to provide proof of ownership or tenancy, such as a copy of your lease or property deed."})]}),e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"flex justify-center  flex-wrap",children:[e.jsxs("div",{className:"col-span-1 pr-7 font-semibold max-sm:text-sm",children:[e.jsx("br",{})," Please Select Your ULB"]}),e.jsx("div",{className:"col-span-2",children:e.jsxs("select",{name:"ulbName",id:"ulbName",className:"border bg-white text-gray-600 space-y-2 hover:bg-white-50 w-full px-2 py-2 my-4 rounded-md",onChange:L,required:!0,menuPlacement:"top",children:[e.jsx("option",{value:"",children:"SELECT ULB"}),m==null?void 0:m.map(T=>e.jsx("option",{value:T==null?void 0:T.id,children:T==null?void 0:T.ulb_name}))]})})]}),e.jsx("div",{className:"mb-2 flex justify-center ",children:$!=""&&e.jsxs("p",{children:["You have selected",e.jsxs("span",{className:"text-blue-600",children:[" ",$]})]})}),e.jsx("hr",{className:"mt-5 mb-5 h-1 border-gray-300"}),e.jsxs("div",{className:"grid grid-cols-2 ",children:[e.jsx("div",{className:"text-right",children:e.jsx("button",{className:`${Ie}`,onClick:F,children:"Cancel"})}),e.jsx("div",{children:e.jsx("button",{className:`${Fe}`,onClick:I,children:"Confirm"})})]})]})]})})})}),e.jsx(za,{topic:[{q:"How to apply form",a:"Click on Apply License"},{q:"what to do after apply license",a:"select any ULB"},{q:"Is declaration important to click",a:"Yes, it is important"}]})]})]})}function Sl(s){var v,o,y,j,F,T,V,f,O,M,l,N,_,U,ee,G,le,te,Q,se,ie,D,H,Y,R,W,K,X,re,de,ne,xe,he,_e,Ce,$e;const{applicationType:n,colorCode:u,currentStep:C,currentStepFun:b,collectAllFormData:r,collectFormDataFun:t,firmStepFun:g,firmStep:h,colorCodeFun:x,licenseData:m,showLoader:p}=s==null?void 0:s.values,[$,S]=a.useState(!1);a.useState(!1),a.useState(!1),a.useState();const[E,A]=a.useState(!1),[k,c]=a.useState(!1);console.log("applicationType initial ",n);const z=Ve({}),d={oldLicenseId:(y=(o=(v=s==null?void 0:s.values)==null?void 0:v.licenseData)==null?void 0:o.licenceDtl)==null?void 0:y.id,applicationType:(T=(F=(j=s==null?void 0:s.values)==null?void 0:j.licenseData)==null?void 0:F.licenceDtl)==null?void 0:T.application_type,firmType:(O=(f=(V=s==null?void 0:s.values)==null?void 0:V.licenseData)==null?void 0:f.licenceDtl)==null?void 0:O.firm_type_id,ownershipType:(N=(l=(M=s==null?void 0:s.values)==null?void 0:M.licenseData)==null?void 0:l.licenceDtl)==null?void 0:N.ownership_type_id,licenseNo:(ee=(U=(_=s==null?void 0:s.values)==null?void 0:_.licenseData)==null?void 0:U.licenceDtl)==null?void 0:ee.license_no,categoryTypeId:(te=(le=(G=s==null?void 0:s.values)==null?void 0:G.licenseData)==null?void 0:le.licenceDtl)==null?void 0:te.category_type_id},L=Pe({initialValues:d,enableReinitialize:!0,onSubmit:(pe,ye)=>{console.log("basic deatils ",pe),t("initialBusinessDetails",pe,0),g(2),b(2),x(1)},validationSchema:z}),I=pe=>{let ye=pe.target.name,i=pe.target.value;ye==="applyWith"&&S(i==="1"),ye==="firmType"&&A(i==="5"),ye==="noticeNo"&&c(i==="1")};return e.jsx(e.Fragment,{children:e.jsx("div",{className:" absolute w-full md:w-full sm:w-full h-auto bg-white ",children:e.jsxs("div",{className:"md:mr-4  max-sm:px-3 max-sm:mb-[6rem]",children:[e.jsx(Re,{heading:"Basic Details",message:"Some basic details about your business...",iconTitle:"Initial Details",style:{}}),e.jsx("form",{onChange:I,onSubmit:L.handleSubmit,children:e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3",children:[e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Application type"]}),e.jsx("input",{type:"hidden",name:"oldLicenseId",className:`${w} cursor-pointer `,value:L.values.oldLicenseId,readOnly:!0}),e.jsx("input",{type:"hidden",name:"applicationType",className:`${w} cursor-pointer `,value:L.values.applicationType,readOnly:!0}),e.jsx("div",{className:`${w} bg-gray-100`,children:ze(2)})]}),e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"License No."]}),e.jsx("input",{name:"licenseNo",type:"hidden",value:L.values.licenseNo,className:`read-only:bg-gray-100  ${w}`,readOnly:!0}),e.jsxs("div",{className:`${w} bg-gray-100`,children:[" ",((ie=(se=(Q=s==null?void 0:s.values)==null?void 0:Q.licenseData)==null?void 0:se.licenceDtl)==null?void 0:ie.license_no)!=null?(Y=(H=(D=s==null?void 0:s.values)==null?void 0:D.licenseData)==null?void 0:H.licenceDtl)==null?void 0:Y.license_no:"N/A"," "]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3",children:[e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})," ","Firm Type"," "]}),e.jsx("input",{type:"hidden",name:"firmType",className:`${w} cursor-pointer text-xs`,value:L.values.firmType,readOnly:!0}),e.jsx("div",{className:`${w} bg-gray-100`,children:((K=(W=(R=s==null?void 0:s.values)==null?void 0:R.licenseData)==null?void 0:W.licenceDtl)==null?void 0:K.firm_type)!=null?(de=(re=(X=s==null?void 0:s.values)==null?void 0:X.licenseData)==null?void 0:re.licenceDtl)==null?void 0:de.firm_type:"N/A"})]}),e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:"block mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Premises Ownership Type"]}),e.jsx("input",{type:"hidden",name:"ownershipType",className:`${w} cursor-pointer text-xs`,value:L.values.ownershipType,readOnly:!0}),e.jsx("div",{className:`${w} bg-gray-100`,children:((he=(xe=(ne=s==null?void 0:s.values)==null?void 0:ne.licenseData)==null?void 0:xe.licenceDtl)==null?void 0:he.ownership_type)!=null?($e=(Ce=(_e=s==null?void 0:s.values)==null?void 0:_e.licenseData)==null?void 0:Ce.licenceDtl)==null?void 0:$e.ownership_type:"N/A"})]}),e.jsxs("div",{className:"col-span-4 grid grid-cols-2",children:[e.jsx("div",{className:"md:px-10"}),e.jsx("div",{className:"md:px-10 text-right ",children:e.jsx("button",{type:"submit",className:`${Fe}`,children:"Save & Next"})})]})]})]})})]})})})}function Cl(s){var j,F,T,V,f,O,M,l,N,_,U,ee,G,le,te,Q,se,ie,D,H,Y,R,W,K,X,re,de,ne,xe,he,_e,Ce,$e,pe,ye,i,ce,ue,je,Oe,Me,We,He,Ue,Ye,Ge,Ke,Ze,Je,Qe,Xe,es,ss,P,ge,Le,ts,cs,rs,ds,os,ms,us,xs,hs,gs,fs,js,bs,Ns,ys,vs,ws,ps,Ss,Cs,Ds,_s,$s,be,Be,Se,Ae,as,ls,Is;const{applicationType:n,colorCode:u,currentStep:C,currentStepFun:b,collectFormDataFun:r,firmStepFun:t,firmStep:g,colorCodeFun:h,allFormData:x,showLoader:m}=s.values;a.useState(!1),a.useState({});const[p,$]=a.useState(!1);a.useState(!1),a.useState(!1),a.useState();const[S,E]=a.useState(!0),[A,k]=a.useState([]),c=Ve({holdingNo:Z().required("Enter a valid holding no"),pincode:Z().required("Enter pincode").matches(/[0-9]{6}/,"pincode must be numeric 6 digits."),businessDescription:Z().required("Enter Business Description").matches(/^[a-zA-Z1-9][a-zA-Z1-9\.\&\s]+$/,"Business Description is Alphanumeric. "),landmark:Z().required("Enter Landmark").matches(/^[a-zA-Z1-9][a-zA-Z1-9\.\,\s]+$/,"Business Description is Alphanumeric."),wardNo:Z().required("Enter Ward No."),newWardNo:Z().required("Enter New Ward No.")}),z={wardNo:(T=(F=(j=s==null?void 0:s.values)==null?void 0:j.licenseData)==null?void 0:F.licenceDtl)==null?void 0:T.ward_id,holdingNo:(O=(f=(V=s==null?void 0:s.values)==null?void 0:V.licenseData)==null?void 0:f.licenceDtl)==null?void 0:O.holding_no,newWardNo:(N=(l=(M=s==null?void 0:s.values)==null?void 0:M.licenseData)==null?void 0:l.licenceDtl)==null?void 0:N.new_ward_id,areaSqft:(ee=(U=(_=s==null?void 0:s.values)==null?void 0:_.licenseData)==null?void 0:U.licenceDtl)==null?void 0:ee.area_in_sqft,firmName:(te=(le=(G=s==null?void 0:s.values)==null?void 0:G.licenseData)==null?void 0:le.licenceDtl)==null?void 0:te.firm_name,firmEstdDate:(ie=(se=(Q=s==null?void 0:s.values)==null?void 0:Q.licenseData)==null?void 0:se.licenceDtl)==null?void 0:ie.valid_upto,businessAddress:(Y=(H=(D=s==null?void 0:s.values)==null?void 0:D.licenseData)==null?void 0:H.licenceDtl)==null?void 0:Y.address,landmark:(K=(W=(R=s==null?void 0:s.values)==null?void 0:R.licenseData)==null?void 0:W.licenceDtl)==null?void 0:K.landmark,pincode:(de=(re=(X=s==null?void 0:s.values)==null?void 0:X.licenseData)==null?void 0:re.licenceDtl)==null?void 0:de.pin_code,premisesOwner:(he=(xe=(ne=s==null?void 0:s.values)==null?void 0:ne.licenseData)==null?void 0:xe.licenceDtl)==null?void 0:he.premises_owner_name,businessDescription:($e=(Ce=(_e=s==null?void 0:s.values)==null?void 0:_e.licenseData)==null?void 0:Ce.licenceDtl)==null?void 0:$e.brief_firm_desc,natureOfBusiness:(i=(ye=(pe=s==null?void 0:s.values)==null?void 0:pe.licenseData)==null?void 0:ye.licenceDtl)==null?void 0:i.nature_of_bussiness,tocStatus:(je=(ue=(ce=s==null?void 0:s.values)==null?void 0:ce.licenseData)==null?void 0:ue.licenceDtl)==null?void 0:je.tobacco_status,propDtlId:(We=(Me=(Oe=s==null?void 0:s.values)==null?void 0:Oe.licenseData)==null?void 0:Me.licenceDtl)==null?void 0:We.prop_dtl_id},d=Pe({initialValues:z,enableReinitialize:!0,onSubmit:(Ne,qe)=>{console.log("Firm deatils ",Ne),Ne.natureOfBusiness!=null&&Ne.natureOfBusiness!=""?(r("firmDetails",Ne,0),t(3),b(3),h(2)):alert("nature of business cann't be empty")},validationSchema:c}),L=()=>{t(1)},I=Ne=>{var Fs,Ts,$t,Ft,Tt;const qe=Ne.target.value;qe!=""&&(console.log("ulbId",(Ts=(Fs=s==null?void 0:s.values)==null?void 0:Fs.licenseData)==null?void 0:Ts.licenceDtl),m(!0),me.post(oe.VALIDATE_HOLDING,{holdingNo:qe,ulbId:(Tt=(Ft=($t=s==null?void 0:s.values)==null?void 0:$t.licenseData)==null?void 0:Ft.licenceDtl)==null?void 0:Tt.ulb_id},fe()).then(function(Rs){console.log("validate holding ",Rs.data),Rs.data.status?setTimeout(()=>{m(!1),s.toast("Correct Holding No.","success")},500):(s.toast("Invalid Holding No.","notice"),d.setFieldValue("holdingNo",""),m(!1))}).catch(function(Rs){console.log(Rs)}))},v=Ne=>{var Fs;m(!0);let qe={oldWardMstrId:Ne,ulbId:(Fs=s==null?void 0:s.values)==null?void 0:Fs.ulbId};me.post(oe.DEPENDENT_WARD_CITIZEN,qe,fe()).then(Ts=>{console.log("dependent wards",Ts.data),Ts.data.status?k(Ts.data.data):s.toast("Nature of business cann't be empty","notice"),m(!1)}).catch(Ts=>{console.log(Ts),m(!1)})},o=Ne=>{let qe=Ne.target.name,Fs=Ne.target.value;qe==="applyWith"&&$(Fs==="1"),qe==="tocStatus"&&y(Ne),qe==="wardNo"&&v(Fs)},y=Ne=>{Ne.target.checked===!0?(E(!1),d.setFieldValue("tocStatus",1),d.setFieldValue("natureOfBusiness",[{id:187}])):(E(!0),d.setFieldValue("tocStatus",0),d.setFieldValue("natureOfBusiness",""))};return a.useEffect(()=>{var Ne;v((Ne=d==null?void 0:d.values)==null?void 0:Ne.wardNo)},[(He=d==null?void 0:d.values)==null?void 0:He.wardNo]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"absolute w-full h-auto bg-white ",children:e.jsxs("div",{className:"md:mr-4  max-sm:px-3 mb-[120px]",children:[e.jsx(Re,{heading:"Firm Details",message:"Your Firm Details will help us reach you easily...",iconTitle:"Firm Details"}),e.jsx("div",{className:"md:mr-4",children:e.jsx("form",{onChange:o,onSubmit:d.handleSubmit,autoComplete:"off",children:e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-1",children:[e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Ward No"]}),e.jsxs("select",{name:"wardNo",className:`${w} cursor-pointer `,value:d.values.wardNo,onChange:d.handleChange,children:[e.jsx("option",{value:"",children:"Select New Ward"}),(Ge=(Ye=(Ue=s==null?void 0:s.values)==null?void 0:Ue.licenseData)==null?void 0:Ye.wardList)==null?void 0:Ge.map(Ne=>e.jsx("option",{value:Ne.id,children:Ne.ward_no}))]})]}),e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})," ","Holding No."," "]}),e.jsx("input",{type:"text",name:"holdingNo",className:`${w} cursor-pointer uppercase `,placeholder:"Enter Holding No",value:d.values.holdingNo,onChange:d.handleChange,onBlur:I}),e.jsx("span",{className:`${ae}`,children:d.touched.holdingNo&&d.errors.holdingNo?d.errors.holdingNo:null})]}),e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"New Ward No."]}),e.jsxs("select",{name:"newWardNo",className:`${w} cursor-pointer `,value:d.values.newWardNo,onChange:d.handleChange,children:[e.jsx("option",{value:"",children:"Select New Ward"}),A==null?void 0:A.map(Ne=>e.jsx("option",{value:Ne.new_ward_mstr_id,children:Ne.ward_name}))]}),e.jsx("p",{className:`${ae}`,children:d.touched.newWardNo&&d.errors.newWardNo?d.errors.newWardNo:null})]}),e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Total Area (sqft)."]}),e.jsx("input",{type:"hidden",name:"areaSqft",className:`${w} cursor-pointer `,value:d.values.areaSqft,readOnly:!0}),e.jsx("div",{className:`${w} bg-gray-100 cursor-pointer `,children:((Je=(Ze=(Ke=s==null?void 0:s.values)==null?void 0:Ke.licenseData)==null?void 0:Ze.licenceDtl)==null?void 0:Je.area_in_sqft)!=null?(es=(Xe=(Qe=s==null?void 0:s.values)==null?void 0:Qe.licenseData)==null?void 0:Xe.licenceDtl)==null?void 0:es.area_in_sqft:"N/A"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-1",children:[e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Firm Name."]}),e.jsx("input",{type:"hidden",name:"firmName",className:`${w} cursor-pointer `,value:d.values.firmName,readOnly:!0}),e.jsx("div",{className:`${w} bg-gray-100 cursor-pointer `,children:((ge=(P=(ss=s==null?void 0:s.values)==null?void 0:ss.licenseData)==null?void 0:P.licenceDtl)==null?void 0:ge.firm_name)!=null?(cs=(ts=(Le=s==null?void 0:s.values)==null?void 0:Le.licenseData)==null?void 0:ts.licenceDtl)==null?void 0:cs.firm_name:"N/A"})]}),e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Firm Establishment Date"]}),e.jsx("input",{type:"hidden",name:"firmEstdDate",className:`${w} cursor-pointer `,value:d.values.firmEstdDate,readOnly:!0}),e.jsx("div",{className:`${w} bg-gray-100 cursor-pointer `,children:((os=(ds=(rs=s==null?void 0:s.values)==null?void 0:rs.licenseData)==null?void 0:ds.licenceDtl)==null?void 0:os.establishment_date)!=null?(xs=(us=(ms=s==null?void 0:s.values)==null?void 0:ms.licenseData)==null?void 0:us.licenceDtl)==null?void 0:xs.establishment_date:"N/A"})]}),e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Business Address"]}),e.jsx("input",{type:"hidden",name:"businessAddress",className:`${w} cursor-pointer `,value:d.values.businessAddress,readOnly:!0}),e.jsx("div",{className:`${w} bg-gray-100 cursor-pointer `,children:((fs=(gs=(hs=s==null?void 0:s.values)==null?void 0:hs.licenseData)==null?void 0:gs.licenceDtl)==null?void 0:fs.address)!=null?(Ns=(bs=(js=s==null?void 0:s.values)==null?void 0:js.licenseData)==null?void 0:bs.licenceDtl)==null?void 0:Ns.address:"N/A"})]}),e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Landmark"]}),e.jsx("input",{type:"text",name:"landmark",className:`${w}  cursor-pointer `,value:d.values.landmark,onChange:d.handleChange}),e.jsxs("p",{className:"text-xs text-red-500",children:[" ",d.touched.landmark&&d.errors.landmark?d.errors.landmark:null]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-1",children:[e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Pin Code"]}),e.jsx("input",{type:"text",name:"pincode",className:`${w} cursor-pointer `,value:d.values.pincode,onChange:d.handleChange,maxLength:6}),e.jsxs("p",{className:"text-xs text-red-500",children:[" ",d.touched.pincode&&d.errors.pincode?d.errors.pincode:null]})]}),e.jsxs("div",{className:`${q} `,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Owner of Business Premises"]}),e.jsx("input",{type:"hidden",name:"premisesOwner",className:`${w} cursor-pointer `,value:d.values.wardNo,readOnly:!0}),e.jsx("div",{className:`${w} bg-gray-100 cursor-pointer `,children:(ws=(vs=(ys=s==null?void 0:s.values)==null?void 0:ys.licenseData)==null?void 0:vs.licenceDtl)!=null&&ws.premisesOwner?(Cs=(Ss=(ps=s==null?void 0:s.values)==null?void 0:ps.licenseData)==null?void 0:Ss.licenceDtl)==null?void 0:Cs.premisesOwner:($s=(_s=(Ds=s==null?void 0:s.values)==null?void 0:Ds.licenseData)==null?void 0:_s.licenceDtl)!=null&&$s.premises_owner_name?(Se=(Be=(be=s==null?void 0:s.values)==null?void 0:be.licenseData)==null?void 0:Be.licenceDtl)==null?void 0:Se.premises_owner_name:"N/A"})]}),e.jsxs("div",{className:" col-span-2 mx-4",children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Business Description"]}),e.jsx("input",{type:"text",name:"businessDescription",className:`${w} cursor-pointer uppercase `,value:d.values.businessDescription,onChange:d.handleChange}),e.jsxs("p",{className:"text-xs text-red-500",children:[" ",d.touched.businessDescription&&d.errors.businessDescription?d.errors.businessDescription:null]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-1",children:e.jsxs("div",{className:"mx-4",children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Nature of Business"]}),e.jsx("input",{type:"hidden",name:"natureOfBusiness",className:`${w} cursor-pointer `,value:d.values.natureOfBusiness,readOnly:!0}),e.jsx("div",{className:`${w} bg-gray-100 cursor-pointer `,children:(Is=(ls=(as=(Ae=s==null?void 0:s.values)==null?void 0:Ae.licenseData)==null?void 0:as.licenceDtl)==null?void 0:ls.nature_of_bussiness)==null?void 0:Is.map(Ne=>e.jsxs("p",{children:[Ne.trade_item," "]}))})]})}),e.jsxs("div",{className:"grid grid-cols-2 my-4",children:[e.jsx("div",{children:e.jsxs("button",{type:"button",onClick:L,className:`${Ie}`,children:[" ","Back"," "]})}),e.jsx("div",{className:"text-right",children:e.jsxs("button",{type:"submit",className:`${Fe}`,children:["Save & Next"," "]})})]})]})})})]})})})}function Dl(s){var y,j;const{applicationType:n,colorCode:u,currentStep:C,currentStepFun:b,collectFormDataFun:r,firmStepFun:t,firmStep:g,colorCodeFun:h}=s.values;console.log("owner dtl",s.values.licenseData.ownerDtl),console.log("firm step is :",g);const[x,m]=a.useState(!1);a.useState(!1),a.useState(!1);const[p,$]=a.useState(!0);a.useState(!1);const[S,E]=a.useState(!1),[A,k]=a.useState([]);console.log("Multiple owner details ",A);const c=Ve({}),d=Pe({initialValues:{},onSubmit:(F,T)=>{k([...A,F])},validationSchema:c}),L=()=>{var T,V;let F=[];(V=(T=s.values.licenseData)==null?void 0:T.ownerDtl)==null||V.forEach(f=>{let O={businessOwnerName:f.owner_name,guardianName:f.guardian_name,mobileNo:f.mobile_no,email:f.email_id,documentId:f.document_id};F.push(O)}),console.log("ownerDtl converted",F),console.log("Final submission of the form ",F),r("ownerDetails",F,0),t(4),b(4),h(3)},I=()=>{t(2)},v=F=>{let T=F.target.name,V=F.target.value;T==="applyWith"&&m(V==="1")},o=()=>{alert(p),p==!1?$(!0):$(!1)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"absolute w-full h-auto bg-white px-2",children:[e.jsx("div",{className:"w-full text-center",children:e.jsxs("button",{type:"submit",className:`${S?"":"hidden"}  bg-green-600 px-4 py-2 rounded-lg`,onClick:o,children:[" ","Add More Owners ",e.jsx(Ps,{})," "]})}),e.jsx("div",{className:"md:mr-4",children:e.jsxs("form",{onChange:v,onSubmit:d.handleSubmit,children:[e.jsx("div",{className:"flex px-4",children:e.jsx(Re,{heading:"Owner Details",message:"Listed Below are the owners of this firm",iconTitle:"Owner Details"})}),e.jsxs("table",{className:"table-auto w-full text-center mt-4",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-100 text-gray-600 text-xs h-8 hover:bg-amber-200 uppercase",children:[e.jsx("th",{children:" Owner Name"}),e.jsx("th",{children:" Guardian Name"}),e.jsx("th",{children:" Mobile"}),e.jsx("th",{children:" Email"})]})}),e.jsx("tbody",{children:(j=(y=s.values.licenseData)==null?void 0:y.ownerDtl)==null?void 0:j.map(F=>e.jsxs("tr",{className:"border-t-2 hover:bg-slate-50 text-sm hover:shadow-lg text-center",children:[e.jsx("td",{children:e.jsx("input",{type:"text",name:"businessOwnerName[]",value:F.owner_name,className:`${w} bg-gray-200 cursor-pointer `,readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{type:"text",name:"guardianName[]",value:F.guardian_name!=null?F.guardian_name:"N/A",className:`${w} bg-gray-200 cursor-pointer `,readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{type:"text",name:"mobileNo[]",value:F.mobile_no!=null?F.mobile_no:"N/A",className:`${w} bg-gray-200 cursor-pointer `,readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{type:"text",name:"email[]",value:F.email_id!=""?F.email_id:"N/A",className:`${w} bg-gray-200 cursor-pointer `,readOnly:!0})})]}))})]}),e.jsxs("div",{className:"grid grid-cols-2 my-4",children:[e.jsx("div",{className:" text-left",children:e.jsxs("button",{type:"button",onClick:I,className:`${Ie}`,children:[" ","Back"," "]})}),e.jsx("div",{className:" text-right",children:e.jsxs("button",{type:"button",onClick:L,className:`${Fe}`,children:["Save & Next>>"," "]})})]})]})})]})})}function _l(s){const{colorCode:n,currentStep:u,currentStepFun:C,collectFormDataFun:b,firmStepFun:r,firmStep:t,colorCodeFun:g,allFormData:h,showLoader:x,finalSubmit:m}=s==null?void 0:s.values,[p,$]=a.useState(!1);a.useState(!1),a.useState(!1);const[S,E]=a.useState(!1),A=Ve({licenseFor:Z().required("Select License For"),bankName:Z().when("paymentMode",{is:o=>o=="CHEQUE"||o=="DD",then:Z().required("Bank Name is required")}),chequeNo:Z().when("paymentMode",{is:o=>o=="CHEQUE"||o=="DD",then:Z().required("Cheque No is required")}),chequeDate:Z().when("paymentMode",{is:o=>o=="CHEQUE"||o=="DD",then:Z().required("Cheque Date is required")}),branchName:Z().when("paymentMode",{is:o=>o=="CHEQUE"||o=="DD",then:Z().required("Cheque Date is required")})}),c=Pe({initialValues:{licenseFor:"",licenseCharge:"",penalty:"",denialAmount:"",totalCharge:"",paymentMode:"",bankName:"",chequeNo:"",chequeDate:"",branchName:""},onSubmit:(o,y)=>{console.log("Firm Details ",o),window.confirm(`Are you sure ?
 Your license will be processed`)&&(x(!0),b("licenseDetails",o,1),setTimeout(()=>{x(!1)},1e3))},validationSchema:A}),z=()=>{r(3)},d=[{option:"1",value:1},{option:"2",value:2},{option:"3",value:3},{option:"4",value:4},{option:"5",value:5},{option:"6",value:6},{option:"7",value:7},{option:"8",value:8},{option:"9",value:9},{option:"10",value:10}],L=o=>{let y=o.target.name,j=o.target.value;y==="applyWith"&&$(j==="1"),y==="licenseFor"&&I(j),y==="paymentMode"&&j=="CASH"?E(!1):E(!0),y==="chequeNo"&&j.length>20&&c.setFieldValue("chequeNo",j.slice(0,20))},I=o=>{var j,F,T,V,f,O,M,l,N;x(!0);let y=[];y.licenseFor=o,y.firmEstdDate=(T=(F=(j=s==null?void 0:s.values)==null?void 0:j.licenseData)==null?void 0:F.licenceDtl)==null?void 0:T.valid_upto,y.natureOfBusiness=(V=h.firmDetails)==null?void 0:V.natureOfBusiness,y.areaSqft=(f=h.firmDetails)==null?void 0:f.areaSqft,y.applicationType=ze((O=s.values)==null?void 0:O.applicationType),y.tocStatus=(N=(l=(M=s==null?void 0:s.values)==null?void 0:M.licenseData)==null?void 0:l.licenceDtl)==null?void 0:N.is_tobacco,console.log("charge calculation data",Object.assign({},y)),me.post(oe.GET_CHARGE,Object.assign({},y),fe()).then(function(_){console.log("license Charge ",_.data),_.data.status?(v(_.data.data),setTimeout(()=>{x(!1)},500)):(s.toast("Unable to get license charge !","notice"),x(!1))}).catch(function(_){console.log(_),x(!1)})},v=o=>{c.setFieldValue("licenseCharge",o.rate),c.setFieldValue("denialAmount",o.arear_amount),c.setFieldValue("totalCharge",o.total_charge),c.setFieldValue("penalty",o.penalty)};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"absolute w-full h-auto bg-white px-2",children:e.jsxs("div",{className:"md:mr-4",children:[e.jsx(Re,{heading:"License Details",message:"Depicted below is your license Charge, as per the given information...",iconTitle:"license charge!"}),e.jsx("form",{onChange:L,onSubmit:c.handleSubmit,children:e.jsxs("div",{className:"relative -top-2  ",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-1",children:[e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:"text-sm font-semibold text-red-600 inline ",children:"*"}),"License For"]}),e.jsxs("select",{name:"licenseFor",className:`${w}  cursor-pointer `,value:c.values.licenseFor,onChange:c.handleChange,children:[e.jsx("option",{value:"",disabled:!0,selected:!0,children:"SELECT"}),d.map(o=>e.jsxs("option",{value:o.value,children:[o.option," Yrs"]}))]}),e.jsxs("span",{className:`${ae}`,children:[" ",c.touched.licenseFor&&c.errors.licenseFor?c.errors.licenseFor:null]})]}),e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" text-sm font-semibold text-red-600 inline ",children:"*"})," ","Charge Applied"," "]}),e.jsx("input",{type:"number",name:"licenseCharge",className:`${w} pointer-events-none bg-gray-100 `,readOnly:"readOnly",value:c.values.licenseCharge,onChange:c.handleChange}),e.jsxs("span",{className:`${ae}`,children:[" ",c.touched.licenseCharge&&c.errors.licenseCharge?c.errors.licenseCharge:null]})]}),e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:"text-sm font-semibold text-red-600 inline ",children:"*"}),"Penalty."]}),e.jsx("input",{type:"number",name:"penalty",className:`${w} pointer-events-none bg-gray-100 `,readOnly:"readOnly",value:c.values.penalty}),e.jsxs("span",{className:`${ae}`,children:[" ",c.touched.penalty&&c.errors.penalty?c.errors.penalty:null]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-1",children:[e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" text-sm font-semibold text-red-600 inline ",children:"*"}),"Denial / Arrer Amount."]}),e.jsx("input",{type:"number",name:"denialAmount",className:`${w} pointer-events-none bg-gray-100   `,value:c.values.denialAmount,onChange:c.handleChange}),e.jsxs("span",{className:`${ae}`,children:[" ",c.touched.denialAmount&&c.errors.denialAmount?c.errors.denialAmount:null]})]}),e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" text-sm font-semibold text-red-600 inline ",children:"*"}),"Total Charge."]}),e.jsx("input",{type:"number",name:"totalCharge",className:`${w} pointer-events-none bg-gray-100 `,value:c.values.totalCharge,onChange:c.handleChange}),e.jsxs("span",{className:`${ae}`,children:[" ",c.touched.totalCharge&&c.errors.totalCharge?c.errors.totalCharge:null]})]})]}),e.jsx("div",{className:"hidden"}),e.jsxs("div",{className:"grid grid-cols-2 my-4",children:[e.jsx("div",{className:" text-left",children:e.jsxs("button",{type:"button",onClick:z,className:`${Ie}`,children:[" ","Back"," "]})}),e.jsx("div",{className:"text-right",children:e.jsxs("button",{type:"submit",className:`${Fe}`,children:["Submit"," "]})})]})]})})]})})})}function $l(s){const[n,u]=a.useState({}),[C,b]=a.useState(1),[r,t]=a.useState(1),[g,h]=a.useState(!1),[x,m]=a.useState(!1),[p,$]=a.useState(2),[S,E]=a.useState(),[A,k]=a.useState();a.useState([]),a.useState([]),a.useState([]),a.useState([]),console.log("all form data is: "),console.log(n);let c;const z=(y,j,F)=>{console.log("prev Data",n),c={...n,[y]:j},u({...n,[y]:j}),F&&d(c)},d=y=>{var V,f,O,M;let j=(V=y.initialBusinessDetails)==null?void 0:V.oldLicenseId;const F=JSON.parse(JSON.stringify(y));F.applicationType=ze(p),F.ulbId=(M=(O=(f=s==null?void 0:s.licenseValues)==null?void 0:f.licenseData)==null?void 0:O.licenceDtl)==null?void 0:M.ulb_id,F.licenseId=j;let T=F;setTimeout(()=>{console.log("allFormData in state",n),console.log("allFormData",y),me.post(oe.POST_APPLY_APPLICATION_FOR_CITIZEN,Object.assign({},T),fe()).then(function(l){console.log("success data ",l.data),l.data.status?(E(l.data),L(l.data),b(5)):(console.log("success",l.data.message),b(4))}).catch(function(l){console.log(l),alert("Invalid response received"),s.showLoader(!1)})},500)},L=y=>{console.log("===getting payment data====",y.data.paymentRecipt),me.get(y.data.paymentRecipt).then(function(j){j.data.status&&(k(j.data.data),console.log("===getting payment data thorugh api====",j.data))}).catch(function(j){console.log("===getting payment data thorugh api erro====",j)})},I={renewToggleStatus:x,renewToggleStatusFun:m,applicationTypeFun:$,applicationType:s.applicationType,showLoader:s.showLoader,currentStep:r,currentStepFun:t,collectFormDataFun:z,allFormData:n,firmStepFun:b,firmStep:C,colorCode:g,colorCodeFun:h,finalSubmit:d,licenseData:s.licenseValues.licenseData},v={successData:S,successFun:E},o=(y,j)=>{J.dismiss(),j=="escalated"&&J.success(y),j=="success"&&J.success(y),j=="de-escalated"&&J.warn(y),j=="notice"&&J.warn(y),j=="error"&&J.error(y)};return e.jsx(e.Fragment,{children:e.jsxs("div",{children:[e.jsx(et,{applicationType:s.applicationType}),e.jsxs("div",{className:" overflow-x-clip bg-white h-auto py-2",children:[e.jsxs("div",{className:`mt-8 md:mr-2 md:pl-5 transition-all ${C==1?"translate-x-0":"translate-x-full hidden"}`,children:[e.jsx(Sl,{values:I,toast:o})," "]}),e.jsx("div",{className:`mt-8 md:mr-2 md:pl-5 transition-all ${C==2?" translate-x-0  ":"translate-x-full hidden"}`,children:e.jsx(Cl,{values:I,toast:o})}),e.jsx("div",{className:`mt-8 md:mr-2 md:pl-5 transition-all ${C==3?" translate-x-0  ":"translate-x-full hidden"}`,children:e.jsx(Dl,{values:I,toast:o})}),e.jsx("div",{className:`mt-8 md:mr-2 md:pl-5 transition-all ${C==4?" translate-x-0  ":"translate-x-full hidden"}`,children:e.jsx(_l,{values:I,successData:v,toast:o})}),e.jsx("div",{className:`mt-8 mr-2 transition-all ${C==5?" translate-x-0  ":"translate-x-full hidden"}`,children:e.jsx(st,{values:I,successData:v,paymentData:A,toast:o})})]})]})})}function Fl(){a.useState(0),a.useState(0),a.useState({category:"Not Authenticated",created_at:"2022-08-02 05:37:55",created_by:"Anshu Kumar",created_on:"2022-06-29 00:00:00",description:"abc",discontinued:!1,end_point:"test2",id:3,post_condition:"None",pre_condition:"Authentication is required",remarks:"",request_payload:"Token Only",response_payload:"username,password,userid",revision_no:1,tags:"tag5,tag6",updated_at:"2022-08-02 05:37:55",usage:"For Saving API Keys",version:"Version 1.0"});const{licenceId:s}=ks();console.log("licenceId",s);const n=is();a.useState(),a.useState([]),a.useState("pointer-events-none opacity-50"),a.useState("hidden");const[u,C]=a.useState(!1),[b,r]=a.useState([]);a.useEffect(()=>{g()},[]);const t=m=>{console.log("loader is called with value ",m),C(m)},g=m=>{console.log("searched license data",m),t(!0),me.post(oe.MASTER_DATA_API,{applicationType:ze(2),licenseId:s},fe()).then(p=>{console.log("licenceId Data",p.data),p.data.status?(r(p.data.data),t(!1)):(t(!1),x("No license Data found","notice"))}).catch(p=>{console.log(p),x("Something unexpected occurred with this application","notice"),n("/view-trade")})},h={licenseDetailsFun:g,licenseData:b},x=(m,p)=>{J.dismiss(),p=="escalated"&&J.success(m),p=="success"&&J.success(m),p=="de-escalated"&&J.warn(m),p=="notice"&&J.warn(m),p=="error"&&J.error(m)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"py-12 bg-white",children:[u&&e.jsx(Ls,{}),e.jsx("div",{className:"col-span-12 sm:col-span-10 shadow-lg ",children:e.jsx($l,{licenseValues:h,showLoader:t,applicationType:"2",title:"Renewal"})})]})})}function Tl(s){var v,o,y,j,F,T,V,f,O,M,l,N,_,U,ee,G,le,te,Q,se,ie,D,H,Y,R,W,K,X,re,de,ne,xe,he,_e,Ce,$e,pe,ye,i,ce,ue,je,Oe,Me,We,He,Ue,Ye,Ge,Ke,Ze,Je,Qe,Xe,es,ss,P,ge,Le,ts,cs,rs,ds,os,ms,us,xs,hs,gs,fs,js,bs,Ns,ys,vs,ws,ps,Ss,Cs,Ds,_s,$s,be,Be;const{applicationType:n,colorCode:u,currentStep:C,currentStepFun:b,collectFormDataFun:r,firmStepFun:t,firmStep:g,colorCodeFun:h,allFormData:x,showLoader:m}=s==null?void 0:s.values;a.useState(!1),a.useState({});const[p,$]=a.useState(!1);a.useState(!1),a.useState(!1),a.useState();const[S,E]=a.useState(!0),A=Ve({}),k={wardNo:(y=(o=(v=s==null?void 0:s.values)==null?void 0:v.licenseData)==null?void 0:o.licenceDtl)==null?void 0:y.ward_id,holdingNo:(T=(F=(j=s==null?void 0:s.values)==null?void 0:j.licenseData)==null?void 0:F.licenceDtl)==null?void 0:T.holding_no,newWardNo:(O=(f=(V=s==null?void 0:s.values)==null?void 0:V.licenseData)==null?void 0:f.licenceDtl)==null?void 0:O.new_ward_id,areaSqft:(N=(l=(M=s==null?void 0:s.values)==null?void 0:M.licenseData)==null?void 0:l.licenceDtl)==null?void 0:N.area_in_sqft,firmName:(ee=(U=(_=s==null?void 0:s.values)==null?void 0:_.licenseData)==null?void 0:U.licenceDtl)==null?void 0:ee.firm_name,firmEstdDate:(te=(le=(G=s==null?void 0:s.values)==null?void 0:G.licenseData)==null?void 0:le.licenceDtl)==null?void 0:te.valid_upto,businessAddress:(ie=(se=(Q=s==null?void 0:s.values)==null?void 0:Q.licenseData)==null?void 0:se.licenceDtl)==null?void 0:ie.address,landmark:(Y=(H=(D=s==null?void 0:s.values)==null?void 0:D.licenseData)==null?void 0:H.licenceDtl)==null?void 0:Y.landmark,pincode:(K=(W=(R=s==null?void 0:s.values)==null?void 0:R.licenseData)==null?void 0:W.licenceDtl)==null?void 0:K.pin_code,premisesOwner:(de=(re=(X=s==null?void 0:s.values)==null?void 0:X.licenseData)==null?void 0:re.licenceDtl)==null?void 0:de.premises_owner_name,businessDescription:(he=(xe=(ne=s==null?void 0:s.values)==null?void 0:ne.licenseData)==null?void 0:xe.licenceDtl)==null?void 0:he.brief_firm_desc,natureOfBusiness:($e=(Ce=(_e=s==null?void 0:s.values)==null?void 0:_e.licenseData)==null?void 0:Ce.licenceDtl)==null?void 0:$e.nature_of_bussiness,tocStatus:(i=(ye=(pe=s==null?void 0:s.values)==null?void 0:pe.licenseData)==null?void 0:ye.licenceDtl)==null?void 0:i.tobacco_status,propDtlId:(je=(ue=(ce=s==null?void 0:s.values)==null?void 0:ce.licenseData)==null?void 0:ue.licenceDtl)==null?void 0:je.prop_dtl_id},c=Pe({initialValues:k,enableReinitialize:!0,onSubmit:(Se,Ae)=>{m(!0),Se.natureOfBusiness!=null&&Se.natureOfBusiness!=""?(r("firmDetails",Se,0),setTimeout(()=>{t(3),b(3),h(2),m(!1)},500)):(s.toast("Nature of business can't be empty","notice"),m(!1))},validationSchema:A}),z=()=>{t(1)},d=Se=>{var ls,Is,Ne;let Ae=(Ne=(Is=(ls=s==null?void 0:s.values)==null?void 0:ls.licenseData)==null?void 0:Is.licenceDtl)==null?void 0:Ne.ulb_id;const as=Se.target.value;as!=""&&(m(!0),me.post(oe.VALIDATE_HOLDING,{holdingNo:as,ulbId:Ae},fe()).then(function(qe){console.log("validate holding ",qe.data),qe.data.status?(setTimeout(()=>{m(!1)},500),s.toast("Correct Holding No. !","success")):(s.toast("Holding no not found !","notice"),c.setFieldValue("holdingNo",""),m(!1))}).catch(function(qe){s.toast("Something Went Wrong !","error"),console.log(qe)}),m(!1))},L=Se=>{let Ae=Se.target.name,as=Se.target.value;Ae==="applyWith"&&$(as==="1"),Ae==="tocStatus"&&I(Se)},I=Se=>{Se.target.checked===!0?(E(!1),c.setFieldValue("tocStatus",1),c.setFieldValue("natureOfBusiness",[{id:187}])):(E(!0),c.setFieldValue("tocStatus",0),c.setFieldValue("natureOfBusiness",""))};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"absolute w-full h-auto bg-white ",children:e.jsxs("div",{className:"md:mr-4  max-sm:px-3 max-sm:mb-[100px]",children:[e.jsx(Re,{heading:"Firm Details",message:"Your Firm Details will help us reach you easily...",iconTitle:"Firm Details"}),e.jsx("form",{onChange:L,onSubmit:c.handleSubmit,autoComplete:"off",children:e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-1",children:[e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Ward No"]}),e.jsx("input",{type:"hidden",name:"wardNo",value:c.values.wardNo,className:`${w} cursor-pointer `,readOnly:!0}),e.jsx("div",{className:"border bg-gray-400 px-4 py-1.5 rounded-lg",children:(We=(Me=(Oe=s==null?void 0:s.values)==null?void 0:Oe.licenseData)==null?void 0:Me.licenceDtl)==null?void 0:We.ward_no})]}),e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline "})," ","Holding No."," "]}),e.jsx("input",{type:"text",name:"holdingNo",className:`${w} cursor-pointer uppercase`,placeholder:"Enter Holding No",value:c.values.holdingNo,onChange:c.handleChange,onBlur:d}),e.jsx("span",{className:`${ae}`,children:c.touched.holdingNo&&c.errors.holdingNo?c.errors.holdingNo:null})]}),e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"New Ward No."]}),e.jsx("input",{type:"hidden",name:"newWardNo",className:`${w} cursor-pointer `,value:c.values.newWardNo,readOnly:!0}),e.jsx("div",{className:"border bg-gray-400 px-4 py-1.5 rounded-lg",children:(Ye=(Ue=(He=s==null?void 0:s.values)==null?void 0:He.licenseData)==null?void 0:Ue.licenceDtl)==null?void 0:Ye.ward_no})]}),e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Total Area (sqft)."]}),e.jsx("input",{type:"hidden",name:"areaSqft",className:`${w} cursor-pointer `,value:c.values.areaSqft,readOnly:!0}),e.jsx("div",{className:"border bg-gray-400 px-4 py-1.5 rounded-lg",children:(Ze=(Ke=(Ge=s==null?void 0:s.values)==null?void 0:Ge.licenseData)==null?void 0:Ke.licenceDtl)==null?void 0:Ze.area_in_sqft})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-1",children:[e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Firm Name."]}),e.jsx("input",{type:"hidden",name:"firmName",className:`${w} cursor-pointer `,value:c.values.firmName,readOnly:!0}),e.jsx("div",{className:"border bg-gray-400 px-4 py-1.5 rounded-lg",children:(Xe=(Qe=(Je=s==null?void 0:s.values)==null?void 0:Je.licenseData)==null?void 0:Qe.licenceDtl)==null?void 0:Xe.firm_name})]}),e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Firm Establishment Date"]}),e.jsx("input",{type:"hidden",name:"firmEstdDate",className:`${w} cursor-pointer `,value:c.values.firmEstdDate,readOnly:!0}),e.jsx("div",{className:"border bg-gray-400 px-4 py-1.5 rounded-lg",children:(P=(ss=(es=s==null?void 0:s.values)==null?void 0:es.licenseData)==null?void 0:ss.licenceDtl)==null?void 0:P.establishment_date})]}),e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Business Address"]}),e.jsx("input",{type:"hidden",name:"businessAddress",className:`${w} cursor-pointer `,value:c.values.businessAddress,readOnly:!0}),e.jsx("div",{className:"border bg-gray-400 px-4 py-1.5 rounded-lg",children:(ts=(Le=(ge=s==null?void 0:s.values)==null?void 0:ge.licenseData)==null?void 0:Le.licenceDtl)==null?void 0:ts.address})]}),e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Landmark"]}),e.jsx("input",{type:"hidden",name:"landmark",className:`${w} cursor-pointer `,value:c.values.landmark,readOnly:!0}),e.jsx("div",{className:"border bg-gray-400 px-4 py-1.5 rounded-lg",children:(ds=(rs=(cs=s==null?void 0:s.values)==null?void 0:cs.licenseData)==null?void 0:rs.licenceDtl)==null?void 0:ds.landmark})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-1",children:[e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Pin Code"]}),e.jsx("input",{type:"hidden",name:"pincode",className:`${w} cursor-pointer `,value:c.values.pincode,readOnly:!0}),e.jsx("div",{className:"border bg-gray-400 px-4 py-1.5 rounded-lg",children:(us=(ms=(os=s==null?void 0:s.values)==null?void 0:os.licenseData)==null?void 0:ms.licenceDtl)==null?void 0:us.pin_code})]}),e.jsxs("div",{className:`${q} `,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Owner of Business Premises"]}),e.jsx("input",{type:"hidden",name:"premisesOwner",className:`${w} cursor-pointer `,value:c.values.wardNo,readOnly:!0}),e.jsx("div",{className:"border bg-gray-400 px-4 py-1.5 rounded-lg",children:(gs=(hs=(xs=s==null?void 0:s.values)==null?void 0:xs.licenseData)==null?void 0:hs.licenceDtl)!=null&&gs.premisesOwner?(bs=(js=(fs=s==null?void 0:s.values)==null?void 0:fs.licenseData)==null?void 0:js.licenceDtl)==null?void 0:bs.premisesOwner:(vs=(ys=(Ns=s==null?void 0:s.values)==null?void 0:Ns.licenseData)==null?void 0:ys.licenceDtl)!=null&&vs.premises_owner_name?(Ss=(ps=(ws=s==null?void 0:s.values)==null?void 0:ws.licenseData)==null?void 0:ps.licenceDtl)==null?void 0:Ss.premises_owner_name:"N/A"})]}),e.jsxs("div",{className:" col-span-2 mx-4",children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Business Description"]}),e.jsx("input",{type:"hidden",name:"businessDescription",className:`${w} cursor-pointer `,value:c.values.businessDescription,readOnly:!0}),e.jsx("div",{className:"border bg-gray-400 px-4 py-2.5 rounded-lg",children:(_s=(Ds=(Cs=s==null?void 0:s.values)==null?void 0:Cs.licenseData)==null?void 0:Ds.licenceDtl)==null?void 0:_s.brief_firm_desc})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-1",children:e.jsxs("div",{className:"mx-4",children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Nature of Business"]}),e.jsx("input",{type:"hidden",name:"natureOfBusiness",className:`${w} cursor-pointer `,value:c.values.natureOfBusiness,readOnly:!0}),e.jsx("div",{className:"border bg-gray-400 px-4 py-2.5 rounded-lg",children:(Be=(be=($s=s==null?void 0:s.values)==null?void 0:$s.licenseData)==null?void 0:be.licenceDtl)==null?void 0:Be.nature_of_bussiness.map(Se=>e.jsxs("p",{children:[Se.trade_item," "]}))})]})}),e.jsxs("div",{className:"grid grid-cols-2 my-4",children:[e.jsx("div",{children:e.jsxs("button",{type:"button",onClick:z,className:`${Ie}`,children:[" ","Back"," "]})}),e.jsx("div",{className:"text-right",children:e.jsx("button",{type:"submit",className:`${Fe}`,children:"Save & Next"})})]})]})})]})})})}function Ol(s){var v,o,y,j,F,T,V,f,O,M,l,N,_,U,ee,G,le,te,Q,se,ie,D,H,Y,R,W,K;const{applicationType:n,colorCode:u,currentStep:C,currentStepFun:b,collectAllFormData:r,collectFormDataFun:t,firmStepFun:g,firmStep:h,colorCodeFun:x,licenseData:m,showLoader:p}=s==null?void 0:s.values,[$,S]=a.useState(!1);a.useState(!1),a.useState(!1),a.useState();const[E,A]=a.useState(!1),[k,c]=a.useState(!1);console.log("licenseData ",s==null?void 0:s.values);const z=Ve({}),d={oldLicenseId:(y=(o=(v=s==null?void 0:s.values)==null?void 0:v.licenseData)==null?void 0:o.licenceDtl)==null?void 0:y.id,applicationType:(T=(F=(j=s==null?void 0:s.values)==null?void 0:j.licenseData)==null?void 0:F.licenceDtl)==null?void 0:T.application_type,firmType:(O=(f=(V=s==null?void 0:s.values)==null?void 0:V.licenseData)==null?void 0:f.licenceDtl)==null?void 0:O.firm_type_id,ownershipType:(N=(l=(M=s==null?void 0:s.values)==null?void 0:M.licenseData)==null?void 0:l.licenceDtl)==null?void 0:N.ownership_type_id,licenseNo:(ee=(U=(_=s==null?void 0:s.values)==null?void 0:_.licenseData)==null?void 0:U.licenceDtl)==null?void 0:ee.license_no,categoryTypeId:(te=(le=(G=s==null?void 0:s.values)==null?void 0:G.licenseData)==null?void 0:le.licenceDtl)==null?void 0:te.category_type_id},L=Pe({initialValues:d,enableReinitialize:!0,onSubmit:(X,re)=>{p(!0),console.log("basic deatils ",X),t("initialBusinessDetails",X,0),setTimeout(()=>{g(2),b(2),x(1),p(!1)},500)},validationSchema:z}),I=X=>{let re=X.target.name,de=X.target.value;re==="applyWith"&&S(de==="1"),re==="firmType"&&A(de==="5"),re==="noticeNo"&&c(de==="1")};return e.jsx(e.Fragment,{children:e.jsx("div",{className:" absolute w-full md:w-full sm:w-full h-auto bg-white ",children:e.jsxs("div",{className:"md:mr-4  max-sm:px-3",children:[e.jsx(Re,{heading:"Basic Details",message:"Some basic details about your business...",iconTitle:"Initial Details"}),e.jsx("form",{onChange:I,onSubmit:L.handleSubmit,children:e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3",children:[e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Application type"]}),e.jsx("input",{type:"hidden",name:"oldLicenseId",className:`${w} cursor-pointer `,value:L.values.oldLicenseId,readOnly:!0}),e.jsx("input",{type:"hidden",name:"applicationType",className:`${w} cursor-pointer `,value:L.values.applicationType,readOnly:!0}),e.jsx("div",{className:`${w} cursor-pointer bg-gray-100 `,children:ze(4)})]}),e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"License No."]}),e.jsx("input",{name:"licenseNo",type:"hidden",value:L.values.licenseNo,className:`read-only:bg-gray-100  ${w}`,readOnly:!0}),e.jsxs("div",{className:`${w} cursor-pointer bg-gray-100 `,children:[" ",(ie=(se=(Q=s==null?void 0:s.values)==null?void 0:Q.licenseData)==null?void 0:se.licenceDtl)==null?void 0:ie.license_no," "]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3",children:[e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})," ","Firm Type"," "]}),e.jsx("input",{type:"hidden",name:"firmType",className:`${w} cursor-pointer text-xs`,value:L.values.firmType,readOnly:!0}),e.jsx("div",{className:`${w} cursor-pointer bg-gray-100 `,children:(Y=(H=(D=s==null?void 0:s.values)==null?void 0:D.licenseData)==null?void 0:H.licenceDtl)==null?void 0:Y.firm_type})]}),e.jsxs("div",{className:`${q}`,children:[e.jsxs("label",{className:`${B} text-xs`,children:[e.jsx("small",{className:"block mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Premises Ownership Type"]}),e.jsx("input",{type:"hidden",name:"ownershipType",className:`${w} cursor-pointer text-xs`,value:L.values.ownershipType,readOnly:!0}),e.jsx("div",{className:`${w} cursor-pointer bg-gray-100 `,children:(K=(W=(R=s==null?void 0:s.values)==null?void 0:R.licenseData)==null?void 0:W.licenceDtl)==null?void 0:K.ownership_type_id})]}),e.jsxs("div",{className:"col-span-4 grid grid-cols-2",children:[e.jsx("div",{className:"md:px-10"}),e.jsx("div",{className:"md:px-10 text-right ",children:e.jsx("button",{type:"submit",className:`${Fe}`,children:"Save & Next"})})]})]})]})})]})})})}function Al(s){var T,V,f;const{applicationType:n,colorCode:u,currentStep:C,currentStepFun:b,collectFormDataFun:r,firmStepFun:t,firmStep:g,colorCodeFun:h,showLoader:x}=s.values,[m,p]=a.useState(!1);a.useState(!1),a.useState(!1);const[$,S]=a.useState(!0),[E,A]=a.useState(!1),[k,c]=a.useState(!1),[z,d]=a.useState([]);console.log("Multiple owner details ",z);const L=Ve({businessOwnerName:Z().required("Enter Business Owner Name"),guardianName:Z().required("Enrter Guardian Name"),mobileNo:Z().length(10).required("Enter Mobile No."),email:Z().required("Enter Email")}),v=Pe({initialValues:{businessOwnerName:"",guardianName:"",mobileNo:"",email:"",natureOfBusiness:""},onSubmit:(O,M)=>{alert(O),S(!1),A(!0),d([...z,O]),c(!0)},validationSchema:L}),o=()=>{var O,M;x(!0),console.log("Final submission of the form ",z),n==1&&z.length==0?s.toast("Atleast One Owner is required !","notice"):(r("ownerDetails",(M=(O=s==null?void 0:s.values)==null?void 0:O.licenseData)==null?void 0:M.ownerDtl,1),setTimeout(()=>{s.toast("Application Submitted Successfully !","success"),x(!1)},500)),x(!1)},y=()=>{t(2)},j=O=>{let M=O.target.name,l=O.target.value;M==="applyWith"&&p(l==="1")},F=()=>{alert($),$==!1?S(!0):S(!1)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"absolute w-full h-auto bg-white px-2",children:[e.jsx("div",{className:"w-full text-center",children:e.jsxs("button",{type:"submit",className:`${k?"":"hidden"} bg-green-600 px-4 py-2 rounded-lg`,onClick:F,children:[" ","Add More Owners ",e.jsx(Ps,{})," "]})}),e.jsxs("form",{onChange:j,onSubmit:v.handleSubmit,children:[e.jsx(Re,{heading:"Owner Details",message:"Owners of your firm are listed below",iconTitle:""}),e.jsxs("table",{className:"table-auto w-full text-center",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-100 text-gray-600 text-xs h-8 hover:bg-amber-200 uppercase",children:[e.jsx("th",{children:" Owner Name"}),e.jsx("th",{children:" Guardian Name"}),e.jsx("th",{children:" Mobile"}),e.jsx("th",{children:" Email"})]})}),e.jsx("tbody",{children:(f=(V=(T=s==null?void 0:s.values)==null?void 0:T.licenseData)==null?void 0:V.ownerDtl)==null?void 0:f.map(O=>e.jsxs("tr",{className:"border-t-2 hover:bg-slate-50 text-sm hover:shadow-lg text-center",children:[e.jsx("td",{children:e.jsx("input",{type:"text",name:"businessOwnerName[]",value:O.owner_name,className:`${w} bg-gray-200 cursor-pointer `,readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{type:"text",name:"guardianName[]",value:O.guardian_name,className:`${w} bg-gray-200 cursor-pointer `,readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{type:"text",name:"mobileNo[]",value:O.mobile_no,className:`${w} bg-gray-200 cursor-pointer `,readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{type:"text",name:"email[]",value:O.email_id,className:`${w} bg-gray-200 cursor-pointer `,readOnly:!0})})]}))})]}),e.jsxs("div",{className:"grid grid-cols-2 my-4",children:[e.jsx("div",{className:" text-left",children:e.jsxs("button",{type:"button",onClick:y,className:`${Ie}`,children:[" ","Back"," "]})}),e.jsx("div",{className:" text-right",children:e.jsxs("button",{type:"submit",onClick:o,className:`${Fe}`,children:["Final submit"," "]})})]})]})]})})}function kl(s){var y;const[n,u]=a.useState({}),[C,b]=a.useState(1),[r,t]=a.useState(1),[g,h]=a.useState(!1),[x,m]=a.useState(!1),[p,$]=a.useState(4),[S,E]=a.useState(),[A,k]=a.useState();a.useState([]),a.useState([]),a.useState([]),a.useState([]),console.log("all form data is: ");let c;const z=(j,F,T)=>{console.log("prev Data",n),c={...n,[j]:F},u({...n,[j]:F}),T&&d(c)},d=j=>{var f,O,M,l;let F=(f=j.initialBusinessDetails)==null?void 0:f.oldLicenseId;const T=JSON.parse(JSON.stringify(j));T.applicationType=ze(p),T.ulbId=(l=(M=(O=s==null?void 0:s.licenseValues)==null?void 0:O.licenseData)==null?void 0:M.licenceDtl)==null?void 0:l.ulb_id,T.licenseId=F;let V=T;setTimeout(()=>{me.post(oe.POST_APPLY_APPLICATION_FOR_CITIZEN,Object.assign({},V),fe()).then(function(N){N.data.status?(E(N.data),L(N.data),b(4),o("Application Submitted Successfully !","success")):(o("Invalid response received","notice"),b(3))}).catch(function(N){console.log(N),o("Something Went Wrong !","error"),s.showLoader(!1)})},500)},L=j=>{me.get(j.data.paymentRecipt).then(function(F){F.data.status&&k(F.data.data)}).catch(function(F){})};console.log("license data",s);const I={renewToggleStatus:x,renewToggleStatusFun:m,applicationTypeFun:$,applicationType:s.applicationType,currentStep:r,currentStepFun:t,collectFormDataFun:z,allFormData:n,firmStepFun:b,firmStep:C,colorCode:g,colorCodeFun:h,showLoader:s.showLoader,finalSubmit:d,licenseData:(y=s==null?void 0:s.licenseValues)==null?void 0:y.licenseData},v={successData:S,successFun:E},o=(j,F)=>{J.dismiss(),F=="escalated"&&J.success(j),F=="success"&&J.success(j),F=="de-escalated"&&J.warn(j),F=="notice"&&J.warn(j),F=="error"&&J.error(j)};return e.jsxs(e.Fragment,{children:[e.jsx(et,{applicationType:s.applicationType}),e.jsxs("div",{className:" overflow-x-clip bg-white py-2",children:[e.jsxs("div",{className:`mt-8 md:mr-2 md:pl-5 transition-all ${C==1?"translate-x-0":"translate-x-full"}`,children:[e.jsx(Ol,{values:I,toast:o})," "]}),e.jsx("div",{className:`mt-8 md:mr-2 md:pl-5 transition-all ${C==2?" translate-x-0  ":"translate-x-full"}`,children:e.jsx(Tl,{values:I,toast:o})}),e.jsx("div",{className:`mt-8 md:mr-2 md:pl-5 transition-all ${C==3?" translate-x-0  ":"translate-x-full"}`,children:e.jsx(Al,{values:I,toast:o})}),e.jsx("div",{className:`mt-8 md:mr-2 transition-all ${C==4?" translate-x-0  ":"translate-x-full"}`,children:e.jsx(st,{values:I,successData:v,paymentData:A,toast:o})})]})]})}function El(){a.useState(0),a.useState(0),a.useState({category:"Not Authenticated",created_at:"2022-08-02 05:37:55",created_by:"Anshu Kumar",created_on:"2022-06-29 00:00:00",description:"abc",discontinued:!1,end_point:"test2",id:3,post_condition:"None",pre_condition:"Authentication is required",remarks:"",request_payload:"Token Only",response_payload:"username,password,userid",revision_no:1,tags:"tag5,tag6",updated_at:"2022-08-02 05:37:55",usage:"For Saving API Keys",version:"Version 1.0"}),a.useState();const[s,n]=a.useState([]),[u,C]=a.useState("pointer-events-none opacity-50");a.useState("hidden");const[b,r]=a.useState(!1),[t,g]=a.useState([]),{licenceId:h}=ks(),x=()=>{m(!0),me.post(oe.MASTER_DATA_API,{applicationType:ze(4),licenseId:h},fe()).then(function(S){n(S.data.data),C(""),m(!1)}).catch(function(S){console.log(S),m(!1)})};a.useEffect(()=>{x()},[]);const m=S=>{console.log("loader is called with value ",S),r(S)},$={licenseDetailsFun:S=>{console.log("searched license data",S),g(S)},licenseData:s};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"py-12 bg-white",children:[b&&e.jsx(Ls,{}),e.jsx("div",{className:"col-span-12 sm:col-span-10 shadow-lg  md:overflow-y-scroll",style:{height:"90vh"},children:e.jsx(kl,{licenseValues:$,showLoader:m,applicationType:"4",title:"Surrender"})})]})})}const Ll=ga(qa);var Il=a,Qt=_t(Il),Vl=ia,Bt=_t(Vl),Pl=Ll,Bl=_t(Pl);function _t(s){return s&&s.__esModule?s:{default:s}}var Rl=Qt.default.createContext(Bl.default),Xt=function(n){var u=n.instance,C=n.children;return Qt.default.createElement(Rl.Provider,{value:u},C)};Xt.defaultProps={};Xt.propTypes={instance:Bt.default.func.isRequired,children:Bt.default.any.isRequired};function Ml(){const[s,n]=a.useState([]),[u,C]=a.useState(!1),b=()=>{r(!0),me.post(oe.GET_AMENDABLE_LICENSE_LIST,{},fe()).then(t=>{console.log("amendment list",t.data),t.data.status&&n(t.data.data),r(!1)}).catch(t=>{console.log(t),r(!1)})};a.useEffect(()=>{b()},[]);const r=t=>{C(t)};return e.jsxs("div",{children:[e.jsx(As,{show:u}),e.jsx("div",{className:"w-full bg-white",children:e.jsx("div",{class:"flex flex-col",children:e.jsx("div",{class:"overflow-x-auto sm:-mx-6 lg:-mx-8",children:e.jsx("div",{class:"py-4 inline-block min-w-full sm:px-6 lg:px-8",children:e.jsxs("div",{class:"overflow-hidden m-4",children:[e.jsx("h1",{className:"h-12 rounded w-full bg-violet-100 px-4 py-2 my-4 text-lg font-semibold text-gray-600",children:"Licenses eligible for amendment"}),(s==null?void 0:s.length)>0?e.jsx(e.Fragment,{children:e.jsxs("table",{class:"w-full text-center",children:[e.jsx("thead",{class:"border-b bg-violet-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",class:"text-sm font-medium text-gray-900 px-6 py-4",children:"#"}),e.jsx("th",{scope:"col",class:"text-sm font-medium text-gray-900 px-6 py-4",children:"License No."}),e.jsx("th",{scope:"col",class:"text-sm font-medium text-gray-900 px-6 py-4",children:"Application No."}),e.jsx("th",{scope:"col",class:"text-sm font-medium text-gray-900 px-6 py-4",children:"Firm Name"}),e.jsx("th",{scope:"col",class:"text-sm font-medium text-gray-900 px-6 py-4",children:"Apply Date."}),e.jsx("th",{scope:"col",class:"text-sm font-medium text-gray-900 px-6 py-4",children:"Valid From"}),e.jsx("th",{scope:"col",class:"text-sm font-medium text-gray-900 px-6 py-4",children:"Valid Upto"}),e.jsx("th",{scope:"col",class:"text-sm font-medium text-gray-900 px-6 py-4",children:"Action"})]})}),e.jsx("tbody",{children:s==null?void 0:s.map(t=>e.jsxs("tr",{class:"bg-white border-b hover:bg-violet-50",children:[e.jsx("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"1"}),e.jsx("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",children:t==null?void 0:t.license_no}),e.jsx("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",children:t==null?void 0:t.application_no}),e.jsx("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",children:t==null?void 0:t.firm_name}),e.jsx("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",children:t==null?void 0:t.application_date}),e.jsx("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",children:t==null?void 0:t.valid_from}),e.jsx("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",children:t==null?void 0:t.valid_upto}),e.jsx("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",children:e.jsx("button",{className:"inline-block px-6 py-2.5 bg-blue-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out",children:e.jsx(Ee,{to:`/trade-amendment/${t==null?void 0:t.id}`,children:"Apply For Amendment"})})})]}))})]})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"w-64 mx-auto text-center",children:[e.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/7465/7465691.png",alt:""}),e.jsx("h1",{children:"You have no licenses eligible for Amendment"})]})})]})})})})})]})}function ql(s){var C,b,r,t,g,h,x,m,p,$,S,E,A,k,c,z,d,L,I,v,o,y,j,F,T,V,f,O,M,l,N,_,U,ee,G,le,te,Q,se,ie,D,H,Y,R,W,K,X;const{t:n}=Bs(),u=window.location.host;return e.jsx("div",{className:"border-2 w-[40rem] p-3 mx-auto ml-20 mt-12 mb-20 border-gray-700 ",id:"printableArea",children:e.jsx("div",{className:"mx-auto border-2 border-dashed  border-red-700 bg-white text-red-700 overflow-auto",children:e.jsx("div",{className:"text-[12px] font-sans text-justify ",children:e.jsxs("div",{className:" font-normal py-2 px-2",children:[e.jsx("img",{src:(b=(C=s==null?void 0:s.licenceData)==null?void 0:C.application)==null?void 0:b.ulb_logo,alt:"",className:"h-16 w-16 mx-auto"}),e.jsx("img",{src:(t=(r=s==null?void 0:s.licenceData)==null?void 0:r.application)==null?void 0:t.state_logo,alt:"",className:" w-72 h-72 absolute z-10 bg-transparent opacity-20 mt-[10rem] ml-40 rounded-full"}),e.jsxs("h1",{className:"font-bold text-sm text-center uppercase",children:[(h=(g=s==null?void 0:s.licenceData)==null?void 0:g.application)==null?void 0:h.ulb_name," "]}),e.jsxs("h1",{className:"font-bold text-xs text-center",children:[" ","Provisional Municipal Trade License"," "]}),e.jsx("div",{className:"mx-auto text-center",children:e.jsxs("p",{className:" py-1 my-1",children:[" ","(This Certificate relates to Section 155 (i) and 455 (i) Under Jharkhand "," Municipal Act of 2011)"," "]})}),e.jsx("div",{className:"w-full px-1.5",children:e.jsx("table",{className:"table-auto mx-auto w-full capitalize  text-xs text-red-700",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsxs("td",{className:"font-semibold",children:["Application No :"," ",e.jsxs("span",{className:"font-normal",children:[(m=(x=s==null?void 0:s.licenceData)==null?void 0:x.application)==null?void 0:m.application_no," "]})," "]}),e.jsxs("td",{className:"font-semibold",children:["Provisional License No :"," ",e.jsxs("span",{className:"font-normal",children:[($=(p=s==null?void 0:s.licenceData)==null?void 0:p.application)==null?void 0:$.provisional_license_no," "]})]})]}),e.jsxs("tr",{children:[e.jsxs("td",{className:"font-semibold",children:[" ",e.jsx("span",{className:"font-normal",children:" "})," "]}),e.jsxs("td",{className:"font-semibold",children:["Apply Date :",e.jsxs("span",{className:"font-normal",children:[(E=(S=s==null?void 0:s.licenceData)==null?void 0:S.application)==null?void 0:E.application_date," "]})," "]})]})]})})}),e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-cols-3 capitalize",children:[e.jsxs("div",{className:"col-span-2 px-1.5",children:[e.jsxs("p",{className:"font-semibold py-0.5",children:[" ","Mr/Mrs :",e.jsxs("span",{className:"font-normal",children:[" ",(k=(A=s==null?void 0:s.licenceData)==null?void 0:A.application)==null?void 0:k.owner_name]})]}),e.jsxs("p",{className:"font-semibold py-0.5",children:[" ","in the Area :",e.jsx("span",{className:"font-normal",children:Ht(n).ulb_name})]}),e.jsxs("p",{className:"font-semibold py-0.5",children:[" ","Firm / organization name :",e.jsxs("span",{className:"font-normal",children:[" ",(z=(c=s==null?void 0:s.licenceData)==null?void 0:c.application)==null?void 0:z.firm_name]})]}),e.jsxs("p",{className:"font-semibold py-0.5",children:[" ","Ward No :",e.jsxs("span",{className:"font-normal",children:[" ",(L=(d=s==null?void 0:s.licenceData)==null?void 0:d.application)==null?void 0:L.ward_no]})]}),e.jsxs("p",{className:"font-semibold py-0.5",children:[" ","Business Address :",e.jsxs("span",{className:"font-normal capitalize",children:[" ",(o=(v=(I=s==null?void 0:s.licenceData)==null?void 0:I.application)==null?void 0:v.address)==null?void 0:o.toLowerCase()]})]})]}),e.jsx("div",{className:"text-center",children:e.jsx(Xs,{size:"80",url:`${u}/citizen/trade-provisional-direct/${(j=(y=s==null?void 0:s.licenceData)==null?void 0:y.application)==null?void 0:j.id}`})})]}),e.jsxs("div",{className:"grid grid-cols-3 px-1.5 w-full capitalize",children:[e.jsx("div",{className:"",children:e.jsxs("p",{className:"font-semibold",children:[" ","For defined Fee :",e.jsxs("span",{className:"font-normal",children:[" ",(T=(F=s==null?void 0:s.licenceData)==null?void 0:F.transaction)==null?void 0:T.paid_amount]})]})}),e.jsx("div",{className:" text-center",children:e.jsxs("p",{className:"font-semibold",children:["Rate :",e.jsxs("span",{className:"font-normal",children:[" ",(f=(V=s==null?void 0:s.licenceData)==null?void 0:V.transaction)==null?void 0:f.rate]})]})}),e.jsx("div",{className:"",children:e.jsxs("p",{className:"font-semibold",children:[" ","Penalty :",e.jsxs("span",{className:"font-normal",children:[" ",(M=(O=s==null?void 0:s.licenceData)==null?void 0:O.transaction)==null?void 0:M.penalty]})]})})]}),e.jsx("div",{className:"grid grid-cols-3 capitalize",children:e.jsxs("div",{className:"col-span-2 px-1.5",children:[e.jsxs("p",{className:"font-semibold py-0.5",children:[" ","Having receipt no :",e.jsxs("span",{className:"font-normal",children:[" ",(N=(l=s==null?void 0:s.licenceData)==null?void 0:l.transaction)==null?void 0:N.tran_no]})]}),e.jsxs("p",{className:"font-semibold py-0.5",children:[" ","Establishment Date :",e.jsxs("span",{className:"font-normal",children:[" ",(U=(_=s==null?void 0:s.licenceData)==null?void 0:_.application)==null?void 0:U.establishment_date]})]}),e.jsxs("p",{className:"font-semibold py-0.5",children:[" ","Valid Upto :",e.jsxs("span",{className:"font-normal",children:[" ",(G=(ee=s==null?void 0:s.licenceData)==null?void 0:ee.application)==null?void 0:G.valid_upto]})]}),e.jsxs("p",{className:"font-normal py-0.5",children:[" ","Subject to the following terms, provisional license is granted."]})]})})]}),e.jsxs("div",{className:" mt-4 px-1  text-justify text-red-700",children:[e.jsxs("p",{className:"py-0.5",children:["1. Business will run according to provisional licence issued."," "]}),e.jsx("p",{className:"py-0.5",children:"2. Prior Permission from local body is necessary if business is changed."}),e.jsxs("p",{className:"py-0.5",children:["3. Information to local body is necessary for extension of area."," "]}),e.jsxs("p",{className:"py-0.5",children:["4. Prior information to local body regarding winding up/closer of business is necessary."," "]}),e.jsx("p",{className:"py-0.5",children:"5. In the case of delay, penalty will be levied according to section 459 of Jharkhand Municipal Act 2011."}),e.jsx("p",{className:"py-0.5",children:"6. Illegal Parking in front of firm is non-permissible."}),e.jsx("p",{className:"py-0.5",children:"7. Sufficient number of containers for disposing-garbage and refuse shall be made available within by the business owner/organisation."}),e.jsxs("p",{className:"py-0.5",children:["8. The premises and the licensee will co-operate with the ULB for disposal of such waste."," "]}),e.jsxs("p",{className:"py-0.5",children:["9. SWM Rules, 2016 and Plastic Waste Management Rules 2016 shall be adhered to in words as well as spirit."," "]}),e.jsxs("p",{className:"py-0.5",children:["10. This provisional license is valid for 22 days from the date of apply . In case of no-objection from"," ",e.jsx("b",{children:(te=(le=s==null?void 0:s.licenceData)==null?void 0:le.application)==null?void 0:te.ulb_name}),", The license shall be deemed approved."," "]}),e.jsxs("p",{className:"py-0.5",children:["11. The final license can be downloaded from"," ",(se=(Q=s==null?void 0:s.licenceData)==null?void 0:Q.application)==null?void 0:se.ulb_parent_website," "]})]}),e.jsxs("div",{className:" mt-4 mb-4 px-2  text-justify text-red-700",children:[e.jsxs("p",{children:["For More Details Please Visit : For Details Please Visit :",e.jsxs("span",{className:"font-normal",children:[" ",(D=(ie=s==null?void 0:s.licenceData)==null?void 0:ie.application)==null?void 0:D.ulb_parent_website]})]}),e.jsxs("p",{children:["OR Call us at"," ",e.jsxs("span",{className:"font-normal",children:[" ",(Y=(H=s==null?void 0:s.licenceData)==null?void 0:H.application)==null?void 0:Y.ulb_mobile_no]})," ","or"," ",e.jsxs("span",{className:"font-normal",children:[" ",(W=(R=s==null?void 0:s.licenceData)==null?void 0:R.application)==null?void 0:W.ulb_toll_free_no," OR"," ",(X=(K=s==null?void 0:s.licenceData)==null?void 0:K.application)==null?void 0:X.mobile_no]})]}),e.jsx("p",{children:"Note : This is a computer generated License. It does not require a physical signature."})]})]})})})})}function Rt(){const[s,n]=a.useState(!1),[u,C]=a.useState(),b=ft.useRef(),{licenceId:r}=ks();a.useEffect(()=>{t(atob(r))},[r]);const t=h=>{g(!0),me.get(oe.GET_PROVISIONAL_DATA+h).then(x=>{var m,p;console.log("License data 1",x),(m=x==null?void 0:x.data)!=null&&m.status?(C((p=x==null?void 0:x.data)==null?void 0:p.data),setTimeout(()=>{g(!1)},500)):g(!1)}).catch(x=>{g(!1),console.log(x,"error in provisional receipt")})},g=h=>{n(h)};return e.jsx("div",{children:e.jsxs("div",{children:[e.jsx(yt,{trigger:()=>e.jsxs("button",{id:"clickButton",className:"bg-teal-500 hover:bg-teal-800 text-white px-3 py-1.5 rounded-lg text-xs font-mono",children:[e.jsx(Qs,{})," Print this out!"]}),content:()=>b.current,copyStyles:!0}),e.jsx("div",{ref:b,children:e.jsx(ql,{licenceData:u})})]})})}function zl(){const[s,n]=a.useState([]),[u,C]=a.useState(!1),b=()=>{r(!0),me.post(oe.GET_RENEWABLE_LICENSE_LIST,{},fe()).then(t=>{console.log("renewable list",t.data),t.data.status&&n(t.data.data),r(!1)}).catch(t=>{console.log(t),r(!1)})};a.useEffect(()=>{b()},[]);const r=t=>{C(t)};return e.jsxs("div",{children:[e.jsx(As,{show:u}),e.jsx("div",{className:"w-full bg-white",children:e.jsx("div",{class:"flex flex-col",children:e.jsx("div",{class:"overflow-x-auto sm:-mx-6 lg:-mx-8",children:e.jsx("div",{class:"py-4 inline-block min-w-full sm:px-6 lg:px-8",children:e.jsxs("div",{class:"overflow-hidden m-4",children:[e.jsx("h1",{className:"h-12 rounded w-full bg-violet-100 px-4 py-2 my-4 text-lg font-semibold text-gray-600",children:"Licenses pending for renewal"}),(s==null?void 0:s.length)>0?e.jsx(e.Fragment,{children:e.jsxs("table",{class:"w-full text-center",children:[e.jsx("thead",{class:"border-b bg-violet-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",class:"text-sm font-medium text-gray-900 px-6 py-4",children:"#"}),e.jsx("th",{scope:"col",class:"text-sm font-medium text-gray-900 px-6 py-4",children:"License No."}),e.jsx("th",{scope:"col",class:"text-sm font-medium text-gray-900 px-6 py-4",children:"Application No."}),e.jsx("th",{scope:"col",class:"text-sm font-medium text-gray-900 px-6 py-4",children:"Firm Name"}),e.jsx("th",{scope:"col",class:"text-sm font-medium text-gray-900 px-6 py-4",children:"Apply Date."}),e.jsx("th",{scope:"col",class:"text-sm font-medium text-gray-900 px-6 py-4",children:"Valid From"}),e.jsx("th",{scope:"col",class:"text-sm font-medium text-gray-900 px-6 py-4",children:"Valid Upto"}),e.jsx("th",{scope:"col",class:"text-sm font-medium text-gray-900 px-6 py-4",children:"Action"})]})}),e.jsx("tbody",{children:s==null?void 0:s.map(t=>e.jsxs("tr",{class:"bg-white border-b hover:bg-violet-50",children:[e.jsx("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"1"}),e.jsx("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",children:t==null?void 0:t.license_no}),e.jsx("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",children:t==null?void 0:t.application_no}),e.jsx("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",children:t==null?void 0:t.firm_name}),e.jsx("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",children:t==null?void 0:t.application_date}),e.jsx("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",children:t==null?void 0:t.valid_from}),e.jsx("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",children:t==null?void 0:t.valid_upto}),e.jsx("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",children:e.jsx("button",{className:"inline-block px-6 py-2.5 bg-blue-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out",children:e.jsx(Ee,{to:`/trade-renewal/${t==null?void 0:t.id}`,children:"Apply For Renewal"})})})]}))})]})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"w-64 mx-auto text-center",children:[e.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/7465/7465691.png",alt:""}),e.jsx("h1",{children:"You have no eligible licenses for Renewal"})]})})]})})})})})]})}function Wl(){const[s,n]=a.useState([]),[u,C]=a.useState(!1),b=()=>{r(!0),me.post(oe.GET_SURRENDERABLE_LICENSE_LIST,{},fe()).then(t=>{console.log("surrender list",t.data),t.data.status&&n(t.data.data),r(!1)}).catch(t=>{console.log(t),r(!1)})};a.useEffect(()=>{b()},[]);const r=t=>{C(t)};return e.jsxs("div",{children:[e.jsx(As,{show:u}),e.jsx("div",{className:"w-full bg-white",children:e.jsx("div",{class:"flex flex-col",children:e.jsx("div",{class:"overflow-x-auto sm:-mx-6 lg:-mx-8",children:e.jsx("div",{class:"py-4 inline-block min-w-full sm:px-6 lg:px-8",children:e.jsxs("div",{class:"overflow-hidden m-4",children:[e.jsx("h1",{className:"h-12 rounded w-full bg-violet-100 px-4 py-2 my-4 text-lg font-semibold text-gray-600",children:"Licenses eligible for surrender"}),(s==null?void 0:s.length)>0?e.jsx(e.Fragment,{children:e.jsxs("table",{class:"w-full text-center",children:[e.jsx("thead",{class:"border-b bg-violet-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",class:"text-sm font-medium text-gray-900 px-6 py-4",children:"#"}),e.jsx("th",{scope:"col",class:"text-sm font-medium text-gray-900 px-6 py-4",children:"License No."}),e.jsx("th",{scope:"col",class:"text-sm font-medium text-gray-900 px-6 py-4",children:"Application No."}),e.jsx("th",{scope:"col",class:"text-sm font-medium text-gray-900 px-6 py-4",children:"Firm Name"}),e.jsx("th",{scope:"col",class:"text-sm font-medium text-gray-900 px-6 py-4",children:"Apply Date."}),e.jsx("th",{scope:"col",class:"text-sm font-medium text-gray-900 px-6 py-4",children:"Valid From"}),e.jsx("th",{scope:"col",class:"text-sm font-medium text-gray-900 px-6 py-4",children:"Valid Upto"}),e.jsx("th",{scope:"col",class:"text-sm font-medium text-gray-900 px-6 py-4",children:"Action"})]})}),e.jsx("tbody",{children:s==null?void 0:s.map(t=>e.jsxs("tr",{class:"bg-white border-b hover:bg-violet-50",children:[e.jsx("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"1"}),e.jsx("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",children:t==null?void 0:t.license_no}),e.jsx("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",children:t==null?void 0:t.application_no}),e.jsx("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",children:t==null?void 0:t.firm_name}),e.jsx("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",children:t==null?void 0:t.application_date}),e.jsx("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",children:t==null?void 0:t.valid_from}),e.jsx("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",children:t==null?void 0:t.valid_upto}),e.jsx("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",children:e.jsx("button",{className:"inline-block px-6 py-2.5 bg-blue-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out",children:e.jsx(Ee,{to:`/trade-surrender/${btoa(t==null?void 0:t.id)}`,children:"Apply For Surrender"})})})]}))})]})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"w-64 mx-auto text-center",children:[e.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/7465/7465691.png",alt:""}),e.jsx("h1",{children:"You have no active licenses for Surrender"})]})})]})})})})})]})}ns.setAppElement("#root");const Mt=()=>{var S,E,A,k,c,z,d,L,I,v,o,y,j,F,T,V,f,O,M,l,N,_,U,ee,G;Bs();const s=a.useRef(),[n,u]=a.useState(),[C,b]=a.useState(!1),[r,t]=a.useState(!1),{id:g,tranId:h}=ks();console.log("tranId, id",atob(h),g),a.useEffect(()=>{h!="undefined"&&m(atob(g),atob(h))},[g]);const x=window.location.host,m=(le,te)=>{if(p(!0),te==null){t(!0);return}else Os.get(oe.GET_PAYMENT_DATA+le+"/"+te).then(Q=>{console.log("payment data",Q.data),Q.data.status?(u(Q.data.data),setTimeout(()=>{p(!1)},500)):p(!1)}).catch(Q=>{p(!1),console.log(Q)})},p=le=>{b(le)},$=fa();return console.log("path===>",$==null?void 0:$.pathname),e.jsx("div",{className:"pb-12 bg-white h-full ",children:e.jsxs("div",{className:" bg-white shadow-lg md:w-2/3 w-full mx-auto ",children:[e.jsx(As,{show:C}),h=="undefined"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"h-auto bg-amber-300 p-4 w-full text-sm flex",children:[e.jsx("div",{children:e.jsx(ht,{})}),e.jsxs("div",{className:"px-2",children:["Payment is done but it is not updated in out server. It may take upto 24 hrs to reflect. ",e.jsx("br",{})," Be patient while we are working on your payment.",e.jsx("br",{})," ",e.jsx("br",{})," You can close this tab. your payment will be updated with your application no."]})]}),e.jsx("div",{className:"bg-white hover:bg-white px-2 py-1 my-1 rounded text-center cursor-pointer",children:e.jsxs(Ee,{to:`/trade-view/${g}`,target:"_blank",children:[e.jsx("p",{className:"text-xs text-gray-600",children:"You can track your applcation details here"}),e.jsx("button",{className:"text-xs my-1 text-white bg-violet-600 hover:bg-violet-700 focus:bg-violet-800 px-2 py-2 rounded font-medium uppercase",children:"View Application details"})]})})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-start",children:[e.jsx("div",{className:"pt-3",children:e.jsx(yt,{trigger:()=>e.jsxs("button",{className:"outline outline-1 outline-blue-500 px-2 py-1 rounded bg-blue-50 hover:bg-blue-100 uppercase font-medium text-sm text-gray-600",children:[e.jsx(Qs,{})," Print Receipt"]}),content:()=>s.current})}),($==null?void 0:$.pathname)==`/trade-payment-receipt/${g}/${h}`&&e.jsx("div",{className:"bg-white hover:bg-white mx-4 px-2 py-1 my-1 rounded text-center cursor-pointer",children:e.jsx(Ee,{to:`/trade-view/${g}`,target:"_blank",children:e.jsx("button",{className:"text-xs my-1 text-white bg-violet-600 hover:bg-violet-700 focus:bg-violet-800 px-2 py-2 rounded font-medium uppercase",children:"View Application details"})})})]}),e.jsx("div",{ref:s,className:"py-2   max-w-3xl mx-auto ml-10 text-xs font-sans  bg-white ",id:"printableArea",children:e.jsxs("div",{className:"border-2 border-gray-800  font-normal pt-2  px-2 mb-40",styles:{backgroundImage:`url(${yl})`},children:[e.jsx("img",{src:(S=n==null?void 0:n.application)==null?void 0:S.ulb_logo,alt:"",className:"h-16 w-16 mx-auto"}),e.jsx("img",{src:(E=n==null?void 0:n.application)==null?void 0:E.state_logo,alt:"",className:" w-72 h-72 absolute z-10 bg-transparent opacity-20 mt-[10rem] ml-40 rounded-full"}),e.jsxs("h1",{className:"font-bold text-xl text-center uppercase",children:[" ",(A=n==null?void 0:n.application)==null?void 0:A.ulb_name]}),e.jsx("div",{className:" w-64 mx-auto mt-2 text-center",children:e.jsxs("h1",{className:"border-2 border-gray-800 font-bold  py-1 my-1",children:[" ","MUNICIPAL LICENSE PAYMENT RECEIPT"," "]})}),e.jsxs("div",{className:"w-full px-1 text-[12px] ",children:[e.jsxs("table",{className:"table-auto mx-auto w-full",children:[e.jsxs("tr",{children:[e.jsxs("td",{className:"font-semibold",children:["Receipt No :",e.jsxs("span",{className:"font-normal",children:[" ",(k=n==null?void 0:n.transaction)==null?void 0:k.tran_no]})," "]}),e.jsxs("td",{className:"font-semibold",children:["Date :",e.jsxs("span",{className:"font-normal",children:[" ",(c=n==null?void 0:n.transaction)==null?void 0:c.tran_date]})]})]}),e.jsxs("tr",{children:[e.jsxs("td",{className:"font-semibold",children:["Department/Section :",e.jsx("span",{className:"font-normal",children:" Market Section"})," "]}),e.jsxs("td",{className:"font-semibold",children:["Ward No No :",e.jsxs("span",{className:"font-normal",children:[" ",(z=n==null?void 0:n.application)==null?void 0:z.ward_no]})," "]})]}),e.jsxs("tr",{children:[e.jsxs("td",{className:"font-semibold",children:["Account Description:",e.jsx("span",{className:"font-normal",children:"Municipal License Fee"})," "]}),e.jsxs("td",{className:"font-semibold",children:[" ","Application No:",e.jsxs("span",{className:"font-normal",children:[" ",(d=n==null?void 0:n.application)==null?void 0:d.application_no]})," "]})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"font-semibold",children:" "}),e.jsxs("td",{className:"font-semibold",children:[" ","Holding No:",e.jsxs("span",{className:"font-normal",children:[" ",(L=n==null?void 0:n.application)==null?void 0:L.holding_no]})," "]})]})]}),e.jsxs("table",{className:"table-auto mx-auto w-full  capitalize",children:[e.jsx("tr",{children:e.jsxs("td",{className:"font-semibold",children:["Firm Name :",e.jsxs("span",{className:"font-normal",children:[" ",(I=n==null?void 0:n.application)==null?void 0:I.firm_name]})," "]})}),e.jsx("tr",{children:e.jsxs("td",{className:"font-semibold",children:["Received From (Mr/Mrs) :",e.jsxs("span",{className:"font-normal",children:[" ",(v=n==null?void 0:n.application)==null?void 0:v.owner_name]})," "]})}),e.jsx("tr",{children:e.jsxs("td",{className:"font-semibold",children:["Address :"," ",e.jsxs("span",{className:"font-normal capitalize",children:[" ",(o=n==null?void 0:n.application)==null?void 0:o.address.toLowerCase()]})]})}),e.jsx("tr",{children:e.jsxs("td",{className:"font-semibold",children:["A Sum of Rs :",e.jsxs("span",{className:"font-normal",children:[" ",(y=n==null?void 0:n.transaction)==null?void 0:y.paid_amount," "]})," "]})}),e.jsx("tr",{children:e.jsxs("td",{className:"w-80 font-semibold",children:["(in words)",e.jsxs("span",{className:"font-normal border-b-2 border-gray-600 border-dashed",children:[" ","Rupee ",(j=n==null?void 0:n.transaction)==null?void 0:j.paid_amount_in_words," ","only"]})]})}),e.jsx("tr",{children:e.jsxs("td",{className:"font-semibold",children:["towards :"," ",e.jsxs("span",{className:"font-normal",children:[" ","Municipal License Fee vide"," ",(F=n==null?void 0:n.transaction)==null?void 0:F.payment_mode," payment"]})," "]})})]}),e.jsxs("h1",{className:"font-bold  mt-4",children:[" ","N.B.Online Payment/Cheque/Draft/ Bankers Cheque are Subject to realisation"," "]}),e.jsxs("h1",{className:"font-bold mt-4 py-1",children:[" ","MUNICIPAL LICENSE FEE DETAILS"," "]}),e.jsxs("table",{className:"table-auto mx-auto w-[92%] border  border-gray-800",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-800 py-1",children:[e.jsxs("th",{className:"text-left  px-2  border-r border-gray-800",children:[" ","Description"," "]}),e.jsxs("th",{className:" text-right px-2 border-r border-gray-800",children:[" ","Amount"," "]}),e.jsxs("th",{className:"  px-2 text-center border-r border-gray-800 ",children:[" ","Period"," "]})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{className:"border-b border-gray-800 py-1",children:[e.jsxs("td",{className:"border-r   px-2 border-gray-800",children:["Municipal License Fee"," "]}),e.jsx("td",{className:"px-2 text-right",children:(parseFloat((T=n==null?void 0:n.transaction)==null?void 0:T.paid_amount)-(parseFloat((V=n==null?void 0:n.transaction)==null?void 0:V.denial_fee)+parseFloat((f=n==null?void 0:n.transaction)==null?void 0:f.delay_fee))).toFixed(2)}),e.jsxs("td",{className:"border-l border-gray-800 text-center",rowSpan:4,children:[e.jsx("p",{className:"font-semibold",children:" From "}),(O=n==null?void 0:n.application)==null?void 0:O.valid_from,e.jsx("p",{className:"font-semibold",children:" To "}),(M=n==null?void 0:n.application)==null?void 0:M.valid_upto]})]}),e.jsxs("tr",{className:"border-b border-gray-800 py-1",children:[e.jsxs("td",{className:"border-r  px-2  border-gray-800",children:["Late Fee"," "]}),e.jsx("td",{className:"px-2 text-right",children:(l=n==null?void 0:n.transaction)==null?void 0:l.delay_fee})]}),e.jsxs("tr",{className:"border-b border-gray-800 py-1",children:[e.jsxs("td",{className:"border-r  px-2  border-gray-800",children:["Arrear/Denial Fee"," "]}),e.jsx("td",{className:"px-2 text-right",children:(N=n==null?void 0:n.transaction)==null?void 0:N.denial_fee})]}),e.jsxs("tr",{className:"border-b border-gray-800 py-1",children:[e.jsx("td",{className:"border-r  px-2  border-gray-800 font-semibold",children:"Total"}),e.jsx("td",{className:"px-2 text-right font-semibold",children:(_=n==null?void 0:n.transaction)==null?void 0:_.paid_amount})]})]})]})]}),e.jsxs("div",{className:" mt-4 px-2  text-justify",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(Xs,{size:"80",url:`${x}/citizen/trade-provisional-license-direct/${g}/${h}`}),console.log(h,"asdsadasd")]}),e.jsx("table",{className:"table table-auto w-full",children:e.jsxs("tr",{className:" py-1 font-mono w-full",children:[e.jsxs("td",{className:"font-semibold",children:[e.jsxs("p",{children:["For Details Please Visit :"," ",e.jsx("span",{className:"lowercase",children:(U=n==null?void 0:n.application)==null?void 0:U.ulb_parent_website})]}),e.jsxs("p",{children:["Call us at"," ",e.jsxs("span",{className:"lowercase",children:[(ee=n==null?void 0:n.application)==null?void 0:ee.ulb_mobile_no," OR"," ",(G=n==null?void 0:n.application)==null?void 0:G.ulb_toll_free_no]})," "]})]}),e.jsx("td",{className:"font-semibold px-2"})]})}),e.jsx("div",{className:"mt-8 mb-4 text-center",children:e.jsxs("p",{children:["**This is a computer-generated receipt and it does not require a signature.**"," "]})})]})]})})]})]})})};function Hl(s){var n,u,C,b,r,t,g,h,x,m,p,$,S,E,A,k,c,z,d,L,I,v,o,y,j,F,T,V,f,O,M;return e.jsx(e.Fragment,{children:e.jsxs("tr",{className:"text-left",children:[e.jsx("td",{className:"md:px-5 max-sm:pr-2 py-2 border-b border-gray-200 bg-white text-sm",children:e.jsx("p",{className:"text-gray-900 whitespace-no-wrap",children:(s==null?void 0:s.index)+1})}),e.jsx("td",{className:"md:px-5 py-2 border-b border-gray-200 bg-white text-sm",children:e.jsx("p",{className:"text-gray-900 whitespace-no-wrap",children:(n=s==null?void 0:s.docList)==null?void 0:n.doc_for})}),e.jsx("td",{className:"md:px-5 py-2 border-b border-gray-200 bg-white",children:e.jsx("div",{className:"flex items-center ",children:e.jsx("div",{className:"flex-shrink-0 text-gray-900/80 cursor-pointer",onClick:()=>{var l;return s==null?void 0:s.modalAction((l=s==null?void 0:s.docList)==null?void 0:l.doc_path)},children:e.jsx("div",{className:"flex items-center justify-center font-semibold text-[26px] cursor-pointer",children:e.jsxs("div",{className:"flex items-center",children:[((g=(t=(u=s==null?void 0:s.docList)==null?void 0:u.doc_path)==null?void 0:t.split(".")[((r=(b=(C=s==null?void 0:s.docList)==null?void 0:C.doc_path)==null?void 0:b.split("."))==null?void 0:r.length)-1])==null?void 0:g.toLowerCase())=="pdf"&&e.jsx("div",{className:"flex-shrink-0 w-[12px] cursor-pointer ",children:e.jsx("span",{className:"text-green-600 cursor-pointer",children:e.jsx(ca,{fontSize:"20"})})}),((S=($=(h=s==null?void 0:s.docList)==null?void 0:h.doc_path)==null?void 0:$.split(".")[((p=(m=(x=s==null?void 0:s.docList)==null?void 0:x.doc_path)==null?void 0:m.split("."))==null?void 0:p.length)-1])==null?void 0:S.toLowerCase())=="jpg"&&e.jsx("div",{className:"flex-shrink-0",children:e.jsx("img",{src:(E=s==null?void 0:s.docList)==null?void 0:E.doc_path,className:"md:w-[2vw] w-[5vw] text-xs",alt:"n/a",srcset:""})}),((L=(d=(A=s==null?void 0:s.docList)==null?void 0:A.doc_path)==null?void 0:d.split(".")[((z=(c=(k=s==null?void 0:s.docList)==null?void 0:k.doc_path)==null?void 0:c.split("."))==null?void 0:z.length)-1])==null?void 0:L.toLowerCase())=="jpeg"&&e.jsx("div",{className:"flex-shrink-0",children:e.jsx("img",{src:(I=s==null?void 0:s.docList)==null?void 0:I.doc_path,className:"md:w-[2vw] w-[5vw] text-xs",alt:"n/a",srcset:""})}),((T=(F=(v=s==null?void 0:s.docList)==null?void 0:v.doc_path)==null?void 0:F.split(".")[((j=(y=(o=s==null?void 0:s.docList)==null?void 0:o.doc_path)==null?void 0:y.split("."))==null?void 0:j.length)-1])==null?void 0:T.toLowerCase())=="png"&&e.jsx("div",{className:"flex-shrink-0",children:e.jsx("img",{src:(V=s==null?void 0:s.docList)==null?void 0:V.doc_path,className:"md:w-[2vw] w-[5vw] text-xs",alt:"n/a",srcset:""})})]})})})})}),e.jsx("td",{className:"md:px-5 py-2 border-b border-gray-200 bg-white text-sm",children:e.jsxs("p",{className:"text-red-900 whitespace-no-wrap",children:[((f=s==null?void 0:s.docList)==null?void 0:f.verify_status)==1&&e.jsx("span",{className:"text-emerald-400",children:"Verified"}),((O=s==null?void 0:s.docList)==null?void 0:O.verify_status)==2&&e.jsx("span",{className:"text-red-400",children:"Rejected"}),((M=s==null?void 0:s.docList)==null?void 0:M.verify_status)==0&&e.jsx("span",{className:"text-amber-400",children:"Pending"})]})})]})})}function Ul(){var O,M,l,N,_,U,ee,G,le,te,Q,se,ie,D,H,Y,R,W,K,X,re,de,ne,xe,he,_e,Ce,$e,pe,ye,i,ce,ue,je,Oe,Me,We,He,Ue,Ye,Ge,Ke,Ze,Je,Qe,Xe,es,ss;const[s,n]=a.useState(),{licenceId:u}=ks(),[C,b]=a.useState(!1),[r,t]=a.useState(!1),[g,h]=a.useState(""),x=()=>t(!0),m=()=>t(!1),[p,$]=a.useState(0),[S,E]=a.useState(),[A,k]=a.useState(""),[c,z]=a.useState(0),[d,L]=a.useState(!0),I=()=>{},v={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"white",border:"none"}},o=P=>{console.log("doc url",P),h(P),x()},y=P=>{T(!0);let ge={licenceId:P};me.post(oe.PAY_ONLINE,ge,fe()).then(Le=>{console.log("Oder ID Generated",Le),Le.data.status==!0?(E(Le.data.data),console.log("order response"),$(ts=>ts+1),k(P)):(console.log("order response",Le.data.message),V(Le.data.message,"success")),T(!1)}).catch(Le=>{console.log("Error genrating order id",Le),T(!1)})},j=P=>{console.log("Clicked PAy"),y(P)},F=P=>{T(!0),me.post(oe.GET_CITIZEN_APPLICATION_BY_ID,{id:P},fe()).then(function(ge){console.log("==2 details by id response...",ge.data),ge.data.status?n(ge.data.data):console.log("response.data.status",ge.data.message),T(!1)}).catch(function(ge){T(!1),console.log("==2 details by id error...",ge)})};a.useEffect(()=>{F(atob(u))},[u]);const T=P=>{b(P)},V=(P,ge)=>{J.dismiss(),ge=="escalated"&&J.success(P),ge=="success"&&J.success(P),ge=="de-escalated"&&J.warn(P),ge=="notice"&&J.warn(P),ge=="error"&&J.error(P)},f=P=>{P!=0?(z(P),L(!1)):(z(0),L(!0))};return console.log("applicationData",s),e.jsxs(e.Fragment,{children:[C?e.jsx(Ls,{}):e.jsxs("div",{className:"",children:[e.jsx(Dt,{openPaymentModal:p,id:u,OrderResponse:S,toast:V,showLoader:T}),e.jsxs("div",{className:"w-full h-auto bg-white font-poppins pb-24",children:[e.jsx("div",{className:"container  mx-auto p-2",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 w-full p-2",children:[e.jsxs("div",{className:" text-sm",children:[e.jsx(Zs,{anchorId:"copyapn"}),e.jsxs("h1",{className:"font-semibold text-3xl max-sm:text-xl font-sans text-gray-700",children:["Application"," ",e.jsxs("p",{"data-tooltip-content":"Copy Application No.",className:"cursor-pointer text-cyan-400 focus:text-green-500 active:text-green-500 max-sm:text-xl",id:"copyapn",onClick:()=>{var P;return navigator.clipboard.writeText(`${(P=s==null?void 0:s.licenceDtl)==null?void 0:P.application_no}`)},children:["#",(O=s==null?void 0:s.licenceDtl)==null?void 0:O.application_no]})]}),e.jsxs("p",{className:"text-gray-500 py-1",children:[e.jsx(At,{fontSize:"small"})," Application Type :"," ",e.jsx("span",{className:"text-blue-500",children:(M=s==null?void 0:s.licenceDtl)==null?void 0:M.application_type})]}),e.jsxs("p",{className:"text-gray-500",children:[e.jsx(At,{fontSize:"small"})," Pending Status :"," ",e.jsx("span",{className:"text-blue-500",children:s==null?void 0:s.pendingStatus})]})]}),e.jsxs("div",{className:"col-span-2 text-right max-sm:flex max-sm:flex-col max-sm:space-y-1 max-sm:mt-5",children:[((l=s==null?void 0:s.licenceDtl)==null?void 0:l.payment_status)==1&&((N=s==null?void 0:s.licenceDtl)==null?void 0:N.application_type_id)!=4&&e.jsx("button",{className:`${Fe}`,children:e.jsxs(Ee,{to:`/trade-payment-receipt/${btoa((_=s==null?void 0:s.transactionDtl[0])==null?void 0:_.temp_id)}/${btoa((U=s==null?void 0:s.transactionDtl[0])==null?void 0:U.id)}`,children:[e.jsx(Qs,{}),"Receipt"," "]})}),((ee=s==null?void 0:s.licenceDtl)==null?void 0:ee.document_upload_status)==0&&e.jsx("button",{className:`${Fe}`,children:e.jsxs(Ee,{to:`/trade-document-upload/${u}`,children:[e.jsx(Wt,{}),"Upload"]})}),((G=s==null?void 0:s.licenceDtl)==null?void 0:G.payment_status)==1&&((le=s==null?void 0:s.licenceDtl)==null?void 0:le.application_type_id)!=4&&((te=s==null?void 0:s.licenceDtl)==null?void 0:te.pending_status)<5&&e.jsx("button",{className:`${Fe} `,children:e.jsxs(Ee,{to:`/trade-provisional-license/${u}`,children:[e.jsx(ra,{})," Provisional License"]})}),((Q=s==null?void 0:s.licenceDtl)==null?void 0:Q.pending_status)==5&&e.jsx("button",{className:`${Fe} `,children:e.jsx(Ee,{to:`/trade-approved-license/${u}`,children:"Print Trade License"})}),((se=s==null?void 0:s.licenceDtl)==null?void 0:se.payment_status)==0&&((ie=s==null?void 0:s.licenceDtl)==null?void 0:ie.application_type)!=4&&e.jsxs("button",{className:`${Fe}`,onClick:()=>j(atob(u)),children:[e.jsx(Ws,{}),"Pay"]}),e.jsxs("div",{children:["Status :"," ",Te((D=s==null?void 0:s.licenceDtl)==null?void 0:D.is_active)?e.jsx("button",{id:"active","data-tooltip-content":"Application is in active state",className:"rounded bg-green-400 hover:text-white py-1 px-2 my-2 cursor-default",children:"Active"}):e.jsx("button",{id:"inactive","data-tooltip-content":"Application is inactive",className:"rounded bg-gray-200 hover:text-white  py-1 px-2 my-2  cursor-default",children:"Inactive"})]})]})]})}),e.jsx(Ba,{my:4}),e.jsx("div",{className:"container mx-auto max-sm:text-sm",children:e.jsxs("div",{className:"grid grid-cols-12  w-full bg-slate-100 p-1 ",children:[e.jsxs("div",{className:"col-span-7 w-full h-full flex overflow-x-scroll",children:[e.jsxs("div",{className:`${c==0?"bg-gray-200 text-blue-700":"bg-white text-gray-700"}  border-r border-gray-400 px-6 py-2 hover:bg-slate-100 cursor-pointer`,onClick:()=>f(0),children:[" ",e.jsx(Hs,{}),"All"," "]}),e.jsxs("div",{className:`${c==1?"bg-gray-200 text-blue-700":"bg-white text-gray-700"}  border-r border-gray-400 px-6 py-2 hover:bg-slate-100 cursor-pointer`,onClick:()=>f(1),children:[" ",e.jsx(Hs,{}),"Basic"," "]}),e.jsxs("div",{className:`${c==2?"bg-gray-200 text-blue-700":"bg-white text-gray-700"} border-r border-gray-400 px-6 py-2 hover:bg-slate-100 cursor-pointer`,onClick:()=>f(2),children:[" ",e.jsx(tt,{}),"Property"," "]}),e.jsxs("div",{className:`${c==3?"bg-gray-200 text-blue-700":"bg-white text-gray-700"} border-r border-gray-400 px-6 py-2 hover:bg-slate-100 cursor-pointer`,onClick:()=>f(3),children:[" ",e.jsx(Ys,{}),"Owner"," "]}),e.jsxs("div",{className:`${c==4?"bg-gray-200 text-blue-700":"bg-white text-gray-700"} border-r border-gray-400 px-6 py-2 hover:bg-slate-100 cursor-pointer`,onClick:()=>f(4),children:[" ",e.jsx(at,{}),"Document"," "]}),e.jsxs("div",{className:`${c==5?"bg-gray-200 text-blue-700":"bg-white text-gray-700"} border-r border-gray-400 px-6 py-2 hover:bg-slate-100 cursor-pointer`,onClick:()=>f(5),children:[" ",e.jsx(Ws,{}),"Payment"]})]}),e.jsx("div",{className:" col-span-5 max-sm:col-span-4 text-center p-1 max-sm:text-sm",children:e.jsxs("h1",{className:"text-xl pt-1 text-zinc-500 transition-all ease-in-out font-semibold",children:[d==!0&&e.jsxs("p",{children:[e.jsx(Hs,{})," All Details"," "]}),c==1&&e.jsxs("p",{children:[e.jsx(Hs,{})," Basic Details"," "]}),c==2&&e.jsxs("p",{children:[e.jsx(tt,{})," Property Details"," "]}),c==3&&e.jsxs("p",{children:[e.jsx(Ys,{})," Owner Details"," "]}),c==4&&e.jsxs("p",{children:[e.jsx(at,{})," Document Details"," "]}),c==5&&e.jsxs("p",{children:[e.jsx(Ws,{})," Payment Details"," "]})]})})]})}),e.jsxs("div",{className:"grid grid-cols-1",children:[(c==1||d==!0)&&e.jsxs("div",{className:"container mx-auto p-2 text-sm",children:[e.jsxs("div",{className:"border-b pb-6  text-lg capitalize",children:[e.jsxs("h1",{className:"w-full font-bold text-sky-600",children:[e.jsx(da,{}),"Basic Details"]}),e.jsx("p",{className:"text-xs text-gray-400 pl-1 ",children:"Initial Information about the business."})]}),e.jsxs("div",{className:"grid grid-cols-2 max-sm:flex max-sm:flex-wrap no-wrap w-full py-2 gap-1 h-auto px-2 shadow-md pb-6",children:[e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{}),e.jsx("th",{})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{className:" border-b h-12",children:[e.jsx("td",{children:"Ward No."}),e.jsx("td",{className:"font-semibold",children:Te((H=s==null?void 0:s.licenceDtl)==null?void 0:H.ward_no)})]}),e.jsxs("tr",{className:"border-b h-12",children:[e.jsx("td",{children:"New Ward No."}),e.jsx("td",{className:"font-semibold",children:Te((Y=s==null?void 0:s.licenceDtl)==null?void 0:Y.new_ward_no)})]}),e.jsxs("tr",{className:"border-b h-12",children:[e.jsx("td",{children:"Firm Type"}),e.jsx("td",{className:"font-semibold",children:Te((R=s==null?void 0:s.licenceDtl)==null?void 0:R.firm_type)})]}),e.jsxs("tr",{className:"border-b h-12",children:[e.jsx("td",{children:"Nature of Business"}),e.jsxs("td",{className:"font-semibold",children:[e.jsx(Zs,{anchorId:"item_code"}),e.jsxs("p",{className:"text-gray-500","data-tooltip-content":`${(W=s==null?void 0:s.licenceDtl)==null?void 0:W.items}`,id:"item_code",children:[Te((K=s==null?void 0:s.licenceDtl)==null?void 0:K.nature_of_bussiness),e.jsx(ht,{fontSize:"extrasmall"})]})]})]}),e.jsxs("tr",{className:"border-b h-12",children:[e.jsx("td",{children:"License For Years"}),e.jsx("td",{className:"font-semibold",children:e.jsxs("p",{className:"","data-tooltip-content":`${(X=s==null?void 0:s.licenceDtl)==null?void 0:X.items}`,id:"item_code",children:[Te((re=s==null?void 0:s.licenceDtl)==null?void 0:re.licence_for_years),"yrs"]})})]}),e.jsxs("tr",{className:" h-12",children:[e.jsx("td",{children:"Cateogry Type"}),e.jsx("td",{className:"font-semibold",children:Te((de=s==null?void 0:s.licenceDtl)==null?void 0:de.category_type)})]})]})]}),e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{}),e.jsx("th",{})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{className:" border-b h-12",children:[e.jsx("td",{children:"Firm Name"}),e.jsx("td",{className:"font-semibold",children:Te((ne=s==null?void 0:s.licenceDtl)==null?void 0:ne.firm_name)})]}),e.jsxs("tr",{className:" border-b h-12",children:[e.jsx("td",{children:"License No."}),e.jsx("td",{className:"font-semibold",children:Te((xe=s==null?void 0:s.licenceDtl)==null?void 0:xe.license_no)})]}),e.jsxs("tr",{className:"border-b h-12",children:[e.jsx("td",{children:"Ownership type"}),e.jsx("td",{className:"font-semibold",children:Te((he=s==null?void 0:s.licenceDtl)==null?void 0:he.ownership_type)})]}),e.jsxs("tr",{className:" border-b h-12",children:[e.jsx("td",{children:"Application Type"}),e.jsx("td",{className:"  font-semibold",children:Te((_e=s==null?void 0:s.licenceDtl)==null?void 0:_e.application_type)})]}),e.jsxs("tr",{className:"border-b h-12",children:[e.jsx("td",{children:"Apply Date"}),e.jsx("td",{className:"font-semibold",children:Te((Ce=s==null?void 0:s.licenceDtl)==null?void 0:Ce.application_date)})]}),e.jsxs("tr",{className:" h-12",children:[e.jsx("td",{children:"Valid Upto"}),e.jsx("td",{className:"font-semibold",children:Te(($e=s==null?void 0:s.licenceDtl)==null?void 0:$e.valid_upto)})]})]})]})]})]}),(c==2||d==!0)&&e.jsxs("div",{className:"container  mx-auto p-2 text-sm",children:[e.jsxs("div",{className:"border-b pb-6  text-lg capitalize",children:[e.jsxs("h1",{className:"w-full font-bold text-sky-600 ",children:[e.jsx(tt,{}),"Property Details"]}),e.jsx("p",{className:"text-xs text-gray-400 pl-1 ",children:"Property related information of the business."})]}),e.jsxs("div",{className:"grid grid-cols-2 max-sm:flex max-sm:flex-wrap px-2 shadow-md pb-6",children:[e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{}),e.jsx("th",{})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{className:" border-b h-12",children:[e.jsx("td",{children:"Khata No."}),e.jsx("td",{className:"font-semibold",children:Te((pe=s==null?void 0:s.licenceDtl)==null?void 0:pe.k_no)})]}),e.jsxs("tr",{className:"border-b h-12",children:[e.jsx("td",{children:"Apply Date"}),e.jsx("td",{className:"font-semibold",children:Te((ye=s==null?void 0:s.licenceDtl)==null?void 0:ye.application_date)})]}),e.jsxs("tr",{className:"border-b h-12",children:[e.jsx("td",{children:"Business Area"}),e.jsxs("td",{className:"font-semibold",children:[Te((i=s==null?void 0:s.licenceDtl)==null?void 0:i.area_in_sqft)," ","sqft."]})]}),e.jsxs("tr",{className:"border-b h-12",children:[e.jsx("td",{children:"Owner of Business Premises"}),e.jsx("td",{className:"font-semibold",children:Te((ce=s==null?void 0:s.licenceDtl)==null?void 0:ce.premises_owner_name)})]})]})]}),e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{}),e.jsx("th",{})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{className:"  border-b h-12",children:[e.jsx("td",{children:"Pincode"}),e.jsx("td",{className:"font-semibold",children:Te((ue=s==null?void 0:s.licenceDtl)==null?void 0:ue.pin_code)})]}),e.jsxs("tr",{className:"border-b h-12",children:[e.jsx("td",{children:"Business Address"}),e.jsx("td",{className:"font-semibold",children:Te((je=s==null?void 0:s.licenceDtl)==null?void 0:je.address)})]}),e.jsxs("tr",{className:"border-b h-12",children:[e.jsx("td",{children:"Landmark"}),e.jsx("td",{className:"font-semibold",children:Te((Oe=s==null?void 0:s.licenceDtl)==null?void 0:Oe.landmark)})]}),e.jsxs("tr",{className:"border-b h-12",children:[e.jsx("td",{children:"Firm Establishment Date"}),e.jsx("td",{className:"font-semibold",children:Te((Me=s==null?void 0:s.licenceDtl)==null?void 0:Me.establishment_date)})]})]})]})]})]}),(c==3||d==!0)&&e.jsxs("div",{className:"container mx-auto p-2 text-sm font-poppins",children:[e.jsxs("div",{className:"border-b pb-6  text-lg capitalize",children:[e.jsxs("h1",{className:"w-full font-bold text-sky-600 ",children:[e.jsx(Ys,{}),"Owner Details"]}),e.jsx("p",{className:"text-xs text-gray-400 pl-1 ",children:"Owner related information of the business."})]}),e.jsx("div",{className:"grid grid-cols-1 px-2 shadow-md pb-6 overflow-x-auto",children:e.jsxs("table",{className:"min-w-full leading-normal mt-2 ",children:[e.jsx("thead",{className:"font-bold text-left   ",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-left",children:"#"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-left",children:"Owner Name"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-left",children:"Guardian Name"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-left",children:"Mobile No."}),e.jsxs("th",{className:"px-2 py-3 border-b border-gray-200  text-left",children:["email"," "]}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-left",children:"Address"})]})}),e.jsx("tbody",{className:"text-xs",children:((We=s==null?void 0:s.ownerDtl)==null?void 0:We.length)>0&&((He=s==null?void 0:s.ownerDtl)==null?void 0:He.map((P,ge)=>e.jsx(e.Fragment,{children:e.jsxs("tr",{className:"bg-white  border-b border-gray-200",children:[e.jsx("td",{className:"px-2 py-2  text-left",children:ge+1}),e.jsx("td",{className:"px-2 py-2  text-left",children:(P==null?void 0:P.owner_name)==""?"NA":P==null?void 0:P.owner_name}),e.jsx("td",{className:"px-2 py-2  text-left",children:(P==null?void 0:P.guardian_name)==""?"NA":P==null?void 0:P.guardian_name}),e.jsx("td",{className:"px-2 py-2  text-left",children:(P==null?void 0:P.mobile_no)==""?"NA":P==null?void 0:P.mobile_no}),e.jsx("td",{className:"px-2 py-2  text-left",children:(P==null?void 0:P.email_id)==""?"NA":P==null?void 0:P.email_id}),e.jsx("td",{className:"px-2 py-2  text-left",children:(P==null?void 0:P.address)==""?"NA":P==null?void 0:P.address})]})})))})]})})]}),(c==4||d==!0)&&e.jsxs("div",{className:"container mx-auto p-2 text-sm",children:[e.jsxs("div",{className:"border-b pb-6  text-lg capitalize",children:[e.jsxs("h1",{className:"w-full font-bold text-sky-600 ",children:[e.jsx(at,{}),"Document Details"]}),e.jsx("p",{className:"text-xs text-gray-400 pl-1 ",children:"Document related information of the business."})]}),e.jsx("div",{className:"grid grid-cols-1 py-2 px-2 shadow-md pb-6",children:e.jsxs("table",{className:"leading-normal mt-2 w-full",children:[e.jsx("thead",{className:"font-bold text-left   ",children:e.jsxs("tr",{className:"",children:[e.jsx("th",{children:"#"}),e.jsx("th",{children:"Document Name"}),e.jsx("th",{children:"Preview "}),e.jsx("th",{children:" Status"})]})}),((Ue=s==null?void 0:s.documents)==null?void 0:Ue.length)>0?(Ye=s==null?void 0:s.documents)==null?void 0:Ye.map((P,ge)=>e.jsx(Hl,{docList:P,index:ge,modalAction:o},ge)):e.jsx("tr",{className:"",children:e.jsxs("td",{colSpan:"4",children:[e.jsxs("p",{className:"",children:[" ",e.jsx(ut,{message:"Documents not uploaded...",callback:null})," "]}),e.jsx("div",{className:"flex",children:((Ge=s==null?void 0:s.licenceDtl)==null?void 0:Ge.document_upload_status)==0&&e.jsx(Ee,{to:`/trade-document-upload/${u}`,children:e.jsx("button",{className:"px-2 py-1 bg-blue-500 hover:bg-blue-700 text-white rounded",children:"Upload Documents"})})})]})})]})})]}),(c==5||d==!0)&&e.jsxs("div",{className:"container mx-auto p-2 text-sm",children:[e.jsxs("div",{className:"border-b pb-6  text-lg capitalize",children:[e.jsxs("h1",{className:"w-full font-bold text-sky-600 ",children:[e.jsx(Ws,{}),"Payment Details"]}),e.jsx("p",{className:"text-xs text-gray-400 pl-1 ",children:"Payment related Information about the business."})]}),e.jsx("div",{className:"grid grid-cols-1 px-2 shadow-md pb-6 overflow-auto",children:e.jsxs("table",{className:"leading-normal mt-2 w-full",children:[e.jsx("thead",{className:"font-bold text-left   ",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-left text-xs  ",children:"#"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-left text-xs  ",children:"Processing Fee"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-left text-xs  ",children:"Transaction Date"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-left text-xs  ",children:"Payment Through"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-left text-xs  ",children:"Payment For"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-left text-xs  ",children:"View"})]})}),e.jsx("tbody",{className:"",children:((Ke=s==null?void 0:s.transactionDtl)==null?void 0:Ke.length)>0?(Ze=s==null?void 0:s.transactionDtl)==null?void 0:Ze.map((P,ge)=>e.jsx(e.Fragment,{children:e.jsxs("tr",{className:"bg-white shadow-md border-b border-gray-200",children:[e.jsx("td",{className:"px-2 py-2 text-left",children:ge+1}),e.jsx("td",{className:"px-2 py-2 text-left",children:(P==null?void 0:P.paid_amount)==""?"NA":P==null?void 0:P.paid_amount}),e.jsx("td",{className:"px-2 py-2 text-left",children:(P==null?void 0:P.tran_date)==""?"NA":P==null?void 0:P.tran_date}),e.jsx("td",{className:"px-2 py-2 text-left",children:(P==null?void 0:P.payment_mode)==""?"NA":P==null?void 0:P.payment_mode}),e.jsx("td",{className:"px-2 py-2 text-left",children:(P==null?void 0:P.tran_type)==""?"NA":P==null?void 0:P.tran_type}),e.jsx("td",{className:"px-2 py-2 text-left",children:e.jsx(Ee,{to:`/trade-payment-receipt/${btoa(P==null?void 0:P.temp_id)}/${btoa(P==null?void 0:P.id)}`,children:e.jsxs("button",{className:" bg-purple  hover:bg-purple text-white  px-3 py-1.5 rounded-lg text-xs font-mono",children:[" ","View Receipt"]})})})]})})):e.jsx("tr",{children:e.jsxs("td",{colSpan:6,children:[((Je=s==null?void 0:s.licenceDtl)==null?void 0:Je.application_type_id)!="4"&&((Qe=s==null?void 0:s.licenceDtl)==null?void 0:Qe.payment_status)==0&&e.jsxs("div",{children:[e.jsx(ut,{message:"Payment Unavailable",callback:null}),e.jsx("button",{className:"px-2 py-1 bg-blue-500 hover:bg-blue-700 text-white rounded",onClick:()=>j(atob(u)),children:"Pay Now"})]}),((Xe=s==null?void 0:s.licenceDtl)==null?void 0:Xe.application_type_id)=="4"&&e.jsx(e.Fragment,{children:e.jsx("span",{className:"text-blue-500 font-bold",children:"Surrender applications does not require payment"})})]})})})]})})]})]})]})]}),e.jsx(ns,{isOpen:r,onAfterOpen:I,onRequestClose:m,style:v,contentLabel:"Example Modal",children:e.jsxs("div",{className:" rounded-lg shadow-xl border-2 border-gray-50 ml-32 px-0",style:{width:"40vw",height:"80vh"},children:[e.jsx("button",{className:"text-red-300 float-right",onClick:m,children:e.jsx(oa,{})}),((ss=g==null?void 0:g.split(".")[((es=g==null?void 0:g.split("."))==null?void 0:es.length)-1])==null?void 0:ss.toLowerCase())!="pdf"?e.jsx("img",{className:"w-full h-full",src:g,frameBorder:"0",onLoadStart:()=>console.log("loading started")}):e.jsx("object",{className:"w-full h-full container",data:g,frameBorder:"0"})]})})]})}ns.setAppElement("#root");function Yl(s){var M;a.useState(!0);const[n,u]=a.useState(!1),[C,b]=a.useState(!1),[r,t]=a.useState(""),{api_sendMobileOtpAttachment:g,api_getAllUlb:h,header:x}=bt(),{notify:m}=a.useContext(Ut);is();const[p,$]=a.useState(!1),[S,E]=a.useState(""),[A,k]=a.useState(null),[c,z]=a.useState(""),[d,L]=a.useState([]),[I,v]=a.useState(!1),o=()=>{v(!0),me.get(h,{},x).then(l=>{var N,_;(N=l==null?void 0:l.data)!=null&&N.status?L(((_=l==null?void 0:l.data)==null?void 0:_.data)||[]):m("Failed to fetch ULB list","error")}).catch(l=>{console.log("Error while fetching ulb list",l),m("Error occurred while fetching ULB list","error")}).finally(()=>v(!1))};a.useEffect(()=>{o()},[]);const y=Ve({licenseNo:Z(),ulbId:Z().required("Please select ULB")}),j=Pe({initialValues:{licenseNo:"",ulbId:""},onSubmit:l=>{if(console.log("at submit form.....",l),!l.ulbId||l.ulbId===""){t("Please select ULB.");return}if(l.licenseNo.length<4){t("Please enter valid License No.");return}l.licenseNo.length==0?s==null||s.setholdingNo(l.holdingNo):s==null||s.setptnNo(l.licenseNo),f(l)},validationSchema:y}),F=l=>{let N=l.target.name,_=l.target.value;N==="ulbId"&&(z(_),j.setFieldValue("ulbId",_)),N=="licenseNo"&&_.length>=4&&c!==""?(j.setFieldValue(N,_),b(!0)):b(!1),r&&t("")},T=(l,N)=>{k(N),$(l)},V=(l,N,_,U)=>{console.log("object",l),$(!1),b(!1);let ee={moduleId:3,referenceNo:l,ulbId:U};console.log("before send otp for attachment...",ee),Os.post(oe.CARETAKER_OTP,ee,Es()).then(G=>{var le,te,Q,se;console.log("otp send for attachment response",G==null?void 0:G.data),(le=G==null?void 0:G.data)!=null&&le.status?(s==null||s.setpropertyAttachedMobileNo((Q=(te=G==null?void 0:G.data)==null?void 0:te.message)==null?void 0:Q.mobileNo),s==null||s.setptnCardStatus(!1),s==null||s.setotpCardStatus(!0)):E((se=G==null?void 0:G.data)==null?void 0:se.message),u(!1)}).catch(G=>{console.log("error otp send",G),m("Something went wrong in attachment...","error"),u(!1),$(!0),b(!0)})},f=l=>{$(!1),u(!0),b(!1);let N;l.licenseNo.length==0?N={holdingNo:l.holdingNo,ulbId:l.ulbId}:N={entityName:"LICENSE",entityValue:l.licenseNo,ulbId:l.ulbId},console.log("before send otp for attachment...",N),Os.post(oe.CARETAKER_LIST,N,Es()).then(_=>{var U,ee,G,le,te,Q,se,ie,D;console.log("list data=>",(ee=(U=_==null?void 0:_.data)==null?void 0:U.data)==null?void 0:ee.data),(G=_==null?void 0:_.data)!=null&&G.status?(s==null||s.setlicenseNo((te=(le=_==null?void 0:_.data)==null?void 0:le.data)==null?void 0:te.data),((ie=(se=(Q=_==null?void 0:_.data)==null?void 0:Q.data)==null?void 0:se.data)==null?void 0:ie.length)==0&&(console.log("entered if cond=======>>>"),T(!0,"No Data Found !!!"))):(console.log("entered else================"),T(!0,_a((D=_==null?void 0:_.data)==null?void 0:D.message))),u(!1)}).catch(_=>{console.log("error otp send",_),m("Something went wrong in attachment...","error"),u(!1),$(!0),b(!0)})},O=[{Header:"firm Name",accessor:"firm_name"},{Header:"Owner's Name",accessor:"owner_name"},{Header:"Application No.",accessor:"application_no"},{Header:"Valid Upto",accessor:"valid_upto"},{Header:"Mobile No.",accessor:"mobile_no",Cell:({cell:l})=>e.jsx("span",{children:we(l.row.original.mobile_no)})},{Header:"Email Id",accessor:"email_id",Cell:({cell:l})=>e.jsx("span",{children:we(l.row.original.email_id)})},{Header:"Action",accessor:"id",Cell:({cell:l})=>e.jsx("button",{onClick:()=>{var N,_,U,ee,G,le,te,Q;return V((_=(N=l==null?void 0:l.row)==null?void 0:N.original)==null?void 0:_.license_no,(ee=(U=l==null?void 0:l.row)==null?void 0:U.original)==null?void 0:ee.pt_no,(le=(G=l==null?void 0:l.row)==null?void 0:G.original)==null?void 0:le.new_holding_no,(Q=(te=l==null?void 0:l.row)==null?void 0:te.original)==null?void 0:Q.ulb_id)},className:"bg-indigo-500 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-indigo-700 text-white",children:"Attach"})}];return e.jsxs(e.Fragment,{children:[p&&e.jsx($a,{activateBottomErrorCard:T,errorTitle:A}),e.jsx("div",{class:"w-full sm:w-full  mx-auto",children:e.jsx("div",{class:"container mx-auto",children:e.jsxs("div",{class:"mx-auto flex flex-wrap gap-2 justify-center items-center",children:[e.jsx("div",{class:"w-max bg-white rounded text-center shadow-xl relative py-10 px-8",children:e.jsxs("div",{class:"",children:[e.jsx("button",{onClick:()=>s==null?void 0:s.closeModal(!1),type:"button",class:"absolute top-6 right-6 bg-transparent bg-gray-200 text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center shadow-sm  hover:bg-red-200 hover:border-none",children:e.jsx("svg",{class:"w-5 h-5",fill:"currentColor",children:e.jsx("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})})}),e.jsx("div",{class:"text-1xl font-bold px-10",children:"Enter License No."}),e.jsx("div",{class:"flex flex-col mt-4 text-center text-sm",children:e.jsxs("span",{className:"text-center",children:["Select ULB and enter License no.",e.jsx("br",{}),"to attach as a caretaker."]})}),e.jsx("div",{class:"flex flex-col mt-4 text-center",children:e.jsx("span",{className:"text-center text-red-400",children:S})}),e.jsx("div",{class:"flex flex-row justify-center text-center mt-2",children:e.jsxs("form",{onSubmit:j.handleSubmit,onChange:F,children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold w-full text-left",children:["Select ULB",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{name:"ulbId",value:j.values.ulbId,onChange:F,className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md appearance-none",disabled:I,children:[e.jsx("option",{value:"",children:I?"Loading ULBs...":"Select ULB"}),!I&&d.map(l=>e.jsx("option",{value:l.id,children:l.ulb_name||l.name},l.id))]}),I&&e.jsx("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2",children:e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-indigo-600"})})]}),j.touched.ulbId&&j.errors.ulbId&&e.jsx("div",{className:"text-red-500 text-xs mt-1",children:j.errors.ulbId})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold w-full text-left",children:["License No.",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("input",{type:"text",...j.getFieldProps("licenseNo"),className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),j.touched.licenseNo&&j.errors.licenseNo&&e.jsx("div",{className:"text-red-500 text-xs mt-1",children:j.errors.licenseNo})]}),e.jsx("div",{className:"font-semibold text-indigo-500 mt-2"}),e.jsx("div",{className:"text-red-500 mt-4",children:r}),e.jsxs("div",{class:"w-full text-center mt-4",children:[C&&!I&&e.jsx("button",{type:"submit",className:"w-full  py-2.5 bg-indigo-600 text-white font-medium text-xs leading-tight  rounded shadow-md hover:bg-indigo-700 hover:shadow-lg focus:bg-indigo-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-indigo-800 active:shadow-lg transition duration-150 ease-in-out",children:"Submit"}),(!C||I)&&e.jsx("button",{type:"button",className:"w-full  py-2.5 bg-gray-400 text-white font-medium text-xs leading-tight  rounded shadow-md  hover:shadow-lg  focus:shadow-lg focus:outline-none focus:ring-0  transition duration-150 ease-in-out cursor-default ",children:"Submit"})]})]})})]})}),((M=s.licenseNo)==null?void 0:M.length)>0&&e.jsx("div",{class:"bg-white py-10 px-8 rounded text-center shadow-xl relative md:w-auto w-[97vw]",children:e.jsx(Yt,{dataList:s.licenseNo,columns:O})})]})})})]})}function Gl(s){const[n,u]=a.useState(!1);a.useState("");const{api_verifyMobileOtp:C}=bt(),[b,r]=a.useState(!1),{notify:t}=a.useContext(Ut),[g,h]=a.useState(!1),[x,m]=a.useState(""),[p,$]=a.useState(60),[S,E]=a.useState({first:"",second:"",third:"",fourth:"",fifth:"",sixth:""}),A=a.useRef(),k=a.useRef(),c=a.useRef(),z=a.useRef(),d=a.useRef(),L=a.useRef(),I=is(),[v,o]=a.useState("first"),y=(N,_)=>{m("");let U={...S,[_]:N.target.value};if(E({...S,[_]:N.target.value}),N.target.value.length===1)switch(_){case"first":k.current.focus(),o("second");break;case"second":c.current.focus(),o("third");break;case"third":z.current.focus(),o("fourth");break;case"fourth":d.current.focus(),o("fifth");break;case"fifth":L.current.focus(),o("sixth");break;case"sixth":o("sixth");break}F(U)},j=N=>{switch(N){case"second":A.current.focus(),E({...S,second:""}),o("first");break;case"third":k.current.focus(),E({...S,third:""}),o("second");break;case"fourth":c.current.focus(),E({...S,fourth:""}),o("third");break;case"fifth":z.current.focus(),E({...S,fifth:""}),o("fouth");break;case"sixth":d.current.focus(),E({...S,sixth:""}),o("fifth");break}},F=N=>{console.table(N),N.first!=""&&N.second!=""&&N.third!=""&&N.fourth!=""&&N.fifth!=""&&N.sixth!=""?h(!0):h(!1)},T=()=>{l(!1),r(!0);let N={otp:`${S.first}${S.second}${S.third}${S.fourth}${S.fifth}${S.sixth}`,mobileNo:s==null?void 0:s.verifedMobileNo};console.log("before verify otp...",N),Os.post(C,N).then(_=>{var U,ee;console.log("otp verify response",_==null?void 0:_.data),(U=_==null?void 0:_.data)!=null&&U.status?(t((ee=_==null?void 0:_.data)==null?void 0:ee.message,"success"),s==null||s.callback()):t("Wrong OTP, Please enter correct OTP","error"),r(!1)}).catch(_=>{console.log("otp verify error",_),t("Something went wrong...","error"),m("Something went wrong !"),l(!0),r(!1)})};let V,f=60;const O=()=>{V=setInterval(()=>{$(N=>N-1),f=f-1,f==0&&(u(!0),console.log("inside static stop..."),clearInterval(V))},1e3)};a.useEffect(()=>{O()},[]);const[M,l]=a.useState(!1);return M?e.jsx(Kt,{title:"Server is busy",desc:"Server is too busy to respond. Please try again later.",buttonText:"View Dashboard",buttonUrl:"/propertyDashboard"}):e.jsxs(e.Fragment,{children:[b&&e.jsx(Gt,{}),e.jsx(Gs,{children:e.jsx("div",{class:"",children:e.jsx("div",{class:"container mx-auto",children:e.jsx("div",{class:"max-w-sm mx-auto md:max-w-lg",children:e.jsxs("div",{class:"w-full px-2 md:px-0",children:[e.jsxs("div",{className:"w-full text-center py-4  bg-gray-200 text-black relative",children:[s==null?void 0:s.headTitle,e.jsx("button",{onClick:()=>s==null?void 0:s.setotpCardStatus(!1),type:"button",class:"absolute top-1 right-6 bg-transparent bg-gray-200 text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center shadow-sm  hover:bg-red-200 hover:border-none",children:e.jsx("svg",{class:"w-5 h-5",fill:"currentColor",children:e.jsx("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})})})]}),e.jsxs("div",{class:"bg-white py-20 px-6 md:py-20 md:px-20 w-full md:w-auto rounded text-center shadow-xl relative",children:[e.jsx("div",{class:"text-2xl font-bold px-2",children:"OTP Verification"}),e.jsx("div",{class:"flex flex-col mt-4 text-center",children:e.jsx("span",{className:"text-center text-red-400",children:x})}),e.jsxs("div",{class:"flex flex-col mt-4",children:[e.jsx("span",{children:"Enter the OTP you received at"}),e.jsxs("span",{class:"font-bold",children:["+91 ",s==null?void 0:s.verifedMobileNo]})]}),e.jsxs("div",{id:"otp",class:"flex flex-row justify-center text-center px-2 mt-5",children:[e.jsx("input",{ref:A,type:"text",min:0,value:S.first,maxLength:1,onChange:N=>y(N,"first"),onKeyDown:N=>N.key==="Backspace"&&j("first"),className:`${v==="first"?"active":""} m-2 border h-10 w-10 text-center form-control rounded`}),e.jsx("input",{ref:k,type:"text",min:0,value:S.second,maxLength:1,onChange:N=>y(N,"second"),onKeyDown:N=>N.key==="Backspace"&&j("second"),className:`${v==="second"?"active":""} m-2 border h-10 w-10 text-center form-control rounded`}),e.jsx("input",{ref:c,type:"text",min:0,value:S.third,maxLength:1,onChange:N=>y(N,"third"),onKeyDown:N=>N.key==="Backspace"&&j("third"),className:`${v==="third"?"active":""} m-2 border h-10 w-10 text-center form-control rounded`}),e.jsx("input",{ref:z,type:"text",min:0,value:S.fourth,maxLength:1,onChange:N=>y(N,"fourth"),onKeyDown:N=>N.key==="Backspace"&&j("fourth"),className:`${v==="fourth"?"active":""} m-2 border h-10 w-10 text-center form-control rounded`}),e.jsx("input",{ref:d,type:"text",min:0,value:S.fifth,maxLength:1,onChange:N=>y(N,"fifth"),onKeyDown:N=>N.key==="Backspace"&&j("fifth"),className:`${v==="fifth"?"active":""} m-2 border h-10 w-10 text-center form-control rounded`}),e.jsx("input",{ref:L,type:"text",min:0,value:S.sixth,maxLength:1,onChange:N=>y(N,"sixth"),onKeyDown:N=>N.key==="Backspace"&&j("sixth"),className:`${v==="sixth"?"active":""} m-2 border h-10 w-10 text-center form-control rounded`})]}),e.jsxs("div",{class:"flex justify-center text-center mt-5",children:[!n&&e.jsx("div",{className:"w-10 h-10 bg-indigo-500 flex justify-center items-center rounded-full text-white",children:p}),e.jsxs("button",{disabled:!n,onClick:()=>{u(!1),$(60),f=60,O()},class:`ml-4 flex items-center ${n?"text-indigo-500 hover:text-blue-900 cursor-pointer":"text-gray-400 hover:text-none cursor-default"}`,children:[e.jsx("span",{class:"font-bold",children:"Resend OTP"}),e.jsx("i",{class:"bx bx-caret-right ml-1"})]})]}),e.jsxs("div",{class:"w-full text-center mt-5",children:[g&&e.jsx("button",{type:"button",onClick:T,className:"w-full  py-2.5 bg-indigo-600 text-white font-medium text-xs leading-tight  rounded shadow-md hover:bg-indigo-700 hover:shadow-lg focus:bg-indigo-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-indigo-800 active:shadow-lg transition duration-150 ease-in-out",children:"Submit"}),!g&&e.jsx("button",{type:"button",className:"w-full  py-2.5 bg-gray-400 text-white font-medium text-xs leading-tight  rounded shadow-md  hover:shadow-lg  focus:shadow-lg focus:outline-none focus:ring-0  transition duration-150 ease-in-out cursor-default ",children:"Submit"})]}),(s==null?void 0:s.bottomNaviation)!=!1&&e.jsxs("div",{className:"text-left w-full mt-10 flex justify-center items-center",children:[e.jsx("div",{className:"flex-1",children:e.jsx("span",{onClick:()=>I("/"),className:"text-indigo-500 font-semibold hover:bg-white px-3 py-1 cursor-pointer ",children:"Home"})}),e.jsx("div",{className:"flex-1",children:e.jsx("span",{onClick:()=>I("/login"),className:"text-indigo-500 font-semibold hover:bg-white px-3 py-1 cursor-pointer float-right",children:"Login "})})]})]})]})})})})})]})}function Kl(s){const[n,u]=a.useState(!1);is();const[C,b]=a.useState(!1);a.useState("");const[r,t]=a.useState(0);let g,h=0;const x=()=>{t(0),h=0,g=setInterval(()=>{t(m=>m+1),h=h+1,h===90&&(console.log("inside static stop..."),clearInterval(g),s==null||s.setpropertyAttachViewButtonStatus(!0))},50)};return a.useEffect(()=>{x()},[]),console.log("timeer...",r),C?e.jsx(Kt,{title:"Server is busy",desc:"Server is too busy to respond. Please try again later.",buttonText:"View Dashboard",buttonUrl:"/propertyDashboard"}):e.jsxs(e.Fragment,{children:[n&&e.jsx(Gt,{}),e.jsx("div",{class:"w-full sm:w-full  mx-auto",children:e.jsx("div",{class:"container mx-auto",children:e.jsx("div",{class:"max-w-sm mx-auto md:max-w-lg",children:e.jsx("div",{class:"w-full bg-white rounded text-center shadow-xl relative p-20",children:e.jsxs("div",{class:"",children:[!(s!=null&&s.propertyAttachViewButtonStatus)&&e.jsxs(e.Fragment,{children:[e.jsx("div",{class:"text-2xl font-bold px-10",children:"Attaching License"}),e.jsx("div",{class:"flex flex-col mt-4 text-center",children:e.jsx("span",{className:"text-center",children:"Please wait while we are attaching holding to your profile."})})]}),(s==null?void 0:s.propertyAttachViewButtonStatus)&&e.jsx(e.Fragment,{children:e.jsx("div",{class:"text-2xl font-bold px-10",children:"License attached successfully!"})}),e.jsxs("div",{class:"flex flex-row justify-center text-center mt-5",children:[!(s!=null&&s.propertyAttachViewButtonStatus)&&e.jsx("div",{class:"w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700",children:e.jsx("div",{class:"bg-green-500 h-2.5 rounded-full",style:{width:`${r}%`}})}),(s==null?void 0:s.propertyAttachViewButtonStatus)&&e.jsx(Ha,{className:"inline text-green-500 text-[50px]"})]}),e.jsx("div",{className:"mt-10",children:(s==null?void 0:s.propertyAttachViewButtonStatus)&&e.jsx("button",{onClick:()=>{s==null||s.setPropertyScrollStatus({...s==null?void 0:s.PropertyScrollStatus,careTaker:!0}),s==null||s.setpropertyAttachWaitingCardStatus(!1),s==null||s.setpropertyAttachViewButtonStatus(!1)},type:"submit",className:"py-2.5 px-10 bg-indigo-600 text-white font-medium text-xs leading-tight  rounded shadow-md hover:bg-indigo-700 hover:shadow-lg focus:bg-indigo-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-indigo-800 active:shadow-lg transition duration-150 ease-in-out",children:"View"})})]})})})})})]})}function Zl(s){const n=[{Header:"#",Cell:({row:u})=>e.jsx("div",{className:"h-6 w-6 outline-gray-500 outline outline-1 bg-slate-50 rounded-full text-gray-600 text-center pt-1 text-xs shadow-inner  shadow-gray-500",children:u.index+1})},{Header:"License No",accessor:"license_no"},{Header:"Application No.",accessor:"application_no"},{Header:"Firm Name",accessor:"firm_name"},{Header:"Application Type.",accessor:"application_type_id",Cell:({cell:u})=>e.jsxs("div",{className:"",children:[u.row.values.application_type_id==1&&e.jsx("span",{className:"text-green-500",children:"New Application"}),u.row.values.application_type_id==2&&e.jsx("span",{className:"text-blue-500",children:"Renewal"}),u.row.values.application_type_id==3&&e.jsx("span",{className:"text-amber-500",children:"Amendment"}),u.row.values.application_type_id==4&&e.jsx("span",{className:"text-gray-500",children:"Surrender"})]})},{Header:"Apply Date.",accessor:"application_date"},{Header:"Valid Upto",accessor:"valid_upto"},{Header:"Action",accessor:"id",Cell:({cell:u})=>e.jsx(Ee,{to:`/trade-view/${btoa(u.row.values.id)}`,children:e.jsx("button",{className:`bg-sky-200 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-sky-800 \r
                    hover:text-white text-black`,children:"View"})})}];return e.jsx("div",{className:"py-6",children:e.jsx(Yt,{assessmentType:!1,columns:n,dataList:s==null?void 0:s.renewalHistoryList})})}const Jl=()=>{Bs();const[s,n]=a.useState(null),[u,C]=a.useState(1),[b,r]=a.useState(!0),{api_applicationListByModule:t,api_getHoldingDetails:g,api_attachProperty:h,api_detachProperty:x}=bt(),[m,p]=a.useState(null);a.useState(null);const[$,S]=a.useState(null);a.useState(0);const[E,A]=a.useState(!1);a.useState(0),a.useState(!1),a.useState(0);const[k,c]=a.useState(!1),z=is(),[d,L]=a.useState(!1),[I,v]=a.useState(!1),[o,y]=a.useState(null),[j,F]=a.useState(""),[T,V]=a.useState(),[f,O]=a.useState([]),[M,l]=a.useState(!1),[N,_]=a.useState(!1),[U,ee]=a.useState([]),[G,le]=a.useState(""),[te,Q]=a.useState(!1),[se,ie]=a.useState([]),[D,H]=a.useState(!1),[Y,R]=a.useState(null);console.log("propertyAttachedMobileNo",se);const[W,K]=a.useState({reAssessment:!1,concession:!1,rainWater:!1,objection:!1,deactivation:!1,careTaker:!1}),X={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"white",border:"1px solid gray",minHeight:"49vh",minWidth:"59vw",overflow:"hidden"}},re=i=>{L(i),O([])},de=i=>{_(!0),le(i),me.post(oe.VALID_AND_EXPIRE_LIST,{licenseNo:i},fe()).then(ce=>{console.log("renewal history",ce.data.data.data),ce.data.status&&(console.log("renewal history status",ce.data.status),ee(ce.data.data.data))}).catch(ce=>{console.log(ce)})},ne=i=>{s===i.id?n(null):n(i.id)};a.useEffect(()=>{xe()},[k]);const xe=()=>{ye(!0),r(!0),me.post(oe.GET_CITIZEN_APPLICATION_LIST,{ulbId:""},Es()).then(function(i){var ce;console.log("apllication list----- ",i),r(!1),p((ce=i==null?void 0:i.data)==null?void 0:ce.data),ye(!1)}).catch(function(i){A(!0),ye(!1),r(!1)}),he()},he=()=>{me.post(oe.ATTACHED_LICENSE_LIST,{},Es()).then(function(i){var ce;console.log("attached list----- ",i.data.data),ie((ce=i==null?void 0:i.data)==null?void 0:ce.data)}).catch(function(i){A(!0)})},_e=(i=null)=>{let ce={module:"careTakeTrade"};me.post(t,ce,Es()).then(function(ue){var je,Oe,Me;((je=ue==null?void 0:ue.data)==null?void 0:je.status)==!0?(S((Me=(Oe=ue==null?void 0:ue.data)==null?void 0:Oe.data)==null?void 0:Me.CareTaker),i!=null&&c(!0)):i!=null&&c(!1)}).catch(function(ue){i!=null&&c(!1),A(!0)})},Ce=i=>{J.dismiss(i),J.info(i)},$e=()=>{ye(!0);let i;j.length===0?i={referenceNo:T,moduleId:3}:i={referenceNo:j,moduleId:3},me.post(oe.ATTACH_PROPERTY,i,Es()).then(function(ce){var ue;((ue=ce==null?void 0:ce.data)==null?void 0:ue.status)==1?(Ce("Property Attached Successfully !"),F(""),V(""),O(""),_e("attach")):Ce("Problem in property attachment !")}).catch(function(ce){Ce("Something went wrong !")})},pe=()=>{v(!1),l(!0),$e()},ye=i=>{Q(i)};return console.log(f,"dsghfjgkj"),e.jsx(e.Fragment,{children:b?e.jsx(Ls,{}):e.jsxs("div",{className:"md:mx-8 max-sm:px-3 h-full",children:[e.jsx(As,{show:te}),e.jsx("div",{children:e.jsxs("div",{className:"flex flex-wrap items-center justify-between md:mt-8 mb-4",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("h2",{className:"text-4xl text-gray-800 font-semibold  font-poppins",children:"Trade Dashboard"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 ",children:"View all of your municipal trade licenses."})]}),e.jsxs("div",{className:"flex gap-2",children:[d&&e.jsx(Gs,{children:e.jsx(Yl,{setpropertyAttachedMobileNo:y,closeModal:re,setptnNo:F,setotpCardStatus:v,setholdingNo:V,setlicenseNo:O,licenseNo:f,setptnCardStatus:L})}),I&&e.jsx(Gs,{children:e.jsx(Gl,{verifedMobileNo:o,callback:pe,setotpCardStatus:v})}),M&&e.jsx(Gs,{children:e.jsx(Kl,{setPropertyScrollStatus:K,setpropertyAttachViewButtonStatus:c,propertyAttachViewButtonStatus:k,setpropertyAttachWaitingCardStatus:l})}),e.jsx(Ks,{title:"Click to attach License as a caretaker.",children:e.jsx("button",{id:"attach-holding","data-tooltip-content":"Click to attach License as a caretaker.",className:Fa,onClick:()=>L(!0),children:"Link License"})}),e.jsx(Ks,{title:"    Click to apply for new license.",children:e.jsx("button",{className:Ta,children:e.jsx(Ee,{to:"/trade-new-apply",children:e.jsxs("span",{className:"flex justify-center items-center",children:[e.jsx("span",{className:"mt-1 mr-2",children:e.jsx(Oa,{size:20})}),"Apply New License"]})})})})]})]})}),e.jsx("div",{className:"overflow-auto",children:e.jsxs("ul",{className:"bg-white max-w-screen-xl border-b  flex items-center gap-x-6 overflow-x-auto text-sm",children:[e.jsx("li",{className:`py-2 border-b-2 ${u==1?"text-indigo-500 border-indigo-500":"border-white text-gray-500"}  `,children:e.jsxs("button",{onClick:()=>C(1),role:"tab",className:"flex items-center font-semibold gap-x-2 py-2 px-2 rounded-lg duration-150 hover:text-indigo-500 hover:bg-gray-50 active:bg-gray-100",children:[e.jsx("img",{className:"h-5 w-5",src:Wa,alt:""}),"Pending Applications"]})}),e.jsx("li",{className:`py-2 border-b-2 ${u==2?"text-indigo-500 border-indigo-500":"border-white text-gray-500"} `,children:e.jsxs("button",{onClick:()=>C(2),role:"tab",className:"flex items-center font-semibold gap-x-2 py-2 px-2 rounded-lg duration-150 hover:text-indigo-500 hover:bg-gray-50 active:bg-gray-100 ",children:[e.jsx("img",{className:"h-5 w-5",src:It,alt:""}),"Approved Licenses"]})}),e.jsx("li",{className:`py-2 border-b-2 ${u==3?"text-indigo-500 border-indigo-500":"border-white text-gray-500"} `,children:e.jsxs("button",{onClick:()=>C(3),role:"tab",className:"flex items-center font-semibold gap-x-2 py-2 px-2 rounded-lg duration-150 hover:text-indigo-500 hover:bg-gray-50 active:bg-gray-100",children:[e.jsx("img",{className:"h-5 w-5",src:It,alt:""}),"Attached Licenses"]})})]})}),e.jsx("div",{children:te==!1&&e.jsxs("section",{className:" mx-auto py-3 ",children:[e.jsx("div",{className:"flex items-center justify-between mt-2 mb-5",children:e.jsx("div",{children:e.jsxs("h2",{className:"text-md font-medium text-gray-800 ",children:[u==1&&" No. of pending applications : "+Lt(m==null?void 0:m.filter(i=>i.pending_status!=5).length),u==2&&" No. of Active Licenses : "+Lt(m==null?void 0:m.filter(i=>i.pending_status==5).length),u==3&&" No. of Attached Licenses : "+(se==null?void 0:se.length)]})})}),u==1&&e.jsx("div",{className:"overflow-y-auto h-full md:w-full mb-40 md:mr-0 max-sm:p-1 max-sm:mb-20 max-sm:flex",children:(m==null?void 0:m.length)>0?e.jsxs("table",{className:"table table-auto w-full text-center  border-separate border-spacing-y-[2px] p-2 max-sm:p-0",children:[e.jsx("thead",{children:e.jsx("tr",{className:"h-0 text-gray-600 shadow-lg rounded-lg"})}),e.jsx("tbody",{children:m==null?void 0:m.map((i,ce)=>i.pending_status!=5&&e.jsxs(e.Fragment,{children:[e.jsxs("tr",{className:"outline outline-1 outline-gray-300 bg-white cursor-pointer flex max-sm:gap-0 overflow-auto md:flex grid-cols-12 p-2 w-full items-center max-sm:items-start justify-between border-b border-gray-100  max-sm:flex max-sm:flex-col",onClick:()=>ne(i),children:[e.jsx("td",{className:"px-2 py-2 whitespace-nowrap col-span-2 max-sm:w-full",children:e.jsx("div",{className:"flex flex-row justify-center items-center max-sm:w-full max-sm:mt-2 ",children:e.jsx("img",{src:rt,className:"h-10 ml-3 rounded-full"})})}),e.jsx("td",{className:"whitespace-nowrap col-span-2  max-sm:w-full max-sm:flex max-sm:justify-center",children:e.jsxs("div",{className:"max-sm:w-full max-sm:flex",children:[e.jsx("p",{className:"px-2 text-gray-500 max-sm:w-[40%] text-left",children:"Ulb Name"}),e.jsx("p",{className:"px-2 py-1 break-all font-manrope max-sm:w-[60%] text-left font-semibold col-span-2 text-sm truncate",children:we(i==null?void 0:i.ulb_name)})]})}),e.jsx("td",{className:"whitespace-nowrap col-span-2  max-sm:w-full max-sm:flex max-sm:justify-center",children:e.jsxs("div",{className:"max-sm:w-full max-sm:flex",children:[e.jsx("p",{className:"px-2 text-gray-500 max-sm:w-[40%] text-left",children:"Applicant No."}),e.jsx("p",{className:"px-2 py-1 break-all font-manrope max-sm:w-[60%] text-left font-semibold col-span-2 text-sm truncate",children:we(i==null?void 0:i.application_no)})]})}),e.jsx("td",{className:"whitespace-pre-wrap col-span-2  max-sm:w-full max-sm:flex max-sm:justify-center",children:e.jsxs("div",{className:"max-sm:w-full max-sm:flex",children:[e.jsx("p",{className:"px-2 text-gray-500 max-sm:w-[40%] text-left",children:"Firm Name"}),e.jsx("p",{className:"px-2 py-1 break-all font-manrope max-sm:w-[60%] text-left font-semibold col-span-2 text-sm truncate",children:we(i==null?void 0:i.firm_name)})]})}),(i==null?void 0:i.mobile_no)==""&&(i==null?void 0:i.mobile_no)==""?e.jsx("td",{className:"px-2 py-2 whitespace-nowrap col-span-2  max-sm:w-full max-sm:flex max-sm:justify-center",children:e.jsxs("div",{className:"max-sm:w-full max-sm:flex",children:[e.jsx("p",{className:"px-2 text-gray-500 max-sm:w-[40%] text-left",children:"Mobile No."}),e.jsx("p",{className:"px-2 py-1 break-all font-manrope max-sm:w-[60%] text-left font-semibold col-span-2 text-sm truncate",children:we(i==null?void 0:i.mobile_no)})]})}):e.jsx("td",{className:"px-2 py-2 whitespace-nowrap col-span-2  max-sm:w-full max-sm:flex max-sm:justify-center",children:e.jsxs("div",{className:"max-sm:w-full max-sm:flex",children:[e.jsx("p",{className:" text-gray-500 max-sm:w-[40%] text-left",children:"Mobile No."}),e.jsx("p",{className:"px-2 py-1 break-all font-manrope max-sm:w-[60%] text-left font-semibold col-span-2 text-sm truncate",children:we(((i==null?void 0:i.mobile_no)=="",i==null?void 0:i.mobile_no))})]})}),e.jsx("td",{className:"px-2 py-2 whitespace-nowrap col-span-2  max-sm:w-full max-sm:flex max-sm:justify-center",children:e.jsxs("div",{className:"max-sm:w-full max-sm:flex",children:[e.jsx("p",{className:" text-gray-500 max-sm:w-[40%] text-left",children:"Apply Date"}),e.jsx("p",{className:"px-2 py-1 break-all font-manrope max-sm:w-[60%] text-left font-semibold col-span-2 text-sm truncate",children:we(i==null?void 0:i.application_date)})]})}),e.jsx("td",{className:"px-2 py-2 whitespace-nowrap col-span-2  max-sm:w-full max-sm:flex max-sm:justify-center",children:e.jsx("span",{className:`text-xs px-2 py-1.5 ${(()=>{switch(we(i==null?void 0:i.application_type_id)){case 1:return"bg-green-200";case 2:return"bg-blue-200";case 3:return"bg-yellow-200";case 4:return"bg-red-200";default:return""}})()}`,children:(()=>{switch(we(i==null?void 0:i.application_type_id)){case 1:return"New Application";case 2:return"Renewal";case 3:return"Amendment";case 4:return"Surrender";default:return""}})()})}),e.jsx("td",{className:"px-2 py-2 whitespace-nowrap text-right text-sm font-medium col-span-1 cursor-pointer max-sm:w-full max-sm:flex max-sm:justify-end",onClick:()=>ne(i),children:s===i?e.jsx(nt,{size:24}):e.jsx(it,{size:24})})]}),e.jsx("tr",{children:e.jsx("td",{colSpan:6,children:e.jsx("div",{className:"flex-none bg-gray-200",children:s===i.id&&e.jsx("div",{className:"p-5 ease-in duration-300 shadow-lg",children:e.jsxs("div",{className:"flex justify-between gap-3 flex-wrap",children:[(i==null?void 0:i.license_type)=="expired"?e.jsx(e.Fragment,{children:e.jsx("div",{className:"text-sm text-success",children:"*License inactive"})}):e.jsxs(e.Fragment,{children:[(i==null?void 0:i.document_upload_status)==0&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"text-sm text-amber-500",children:["*Document Upload Pending... ",e.jsx("br",{})]})}),(i==null?void 0:i.payment_status)==0&&e.jsx(e.Fragment,{children:e.jsx("div",{className:"text-sm text-lightprimary",children:"*Waiting for Payment..."})}),(i==null?void 0:i.payment_status)==2&&e.jsx(e.Fragment,{children:e.jsx("div",{className:"text-sm text-red-500",children:"*Cheque not cleared..."})}),(i==null?void 0:i.document_upload_status)==1&&(i==null?void 0:i.payment_status)==1&&i.pending_status!=5&&e.jsx(e.Fragment,{children:e.jsx("div",{className:"text-sm text-[#800040]",children:e.jsxs("span",{children:["*",i.pending_at]})})})]}),e.jsx("button",{className:"px-3 py-1 rounded text-sm text-white bg-indigo-500 hover:bg-indigo-600 cursor-pointer",children:e.jsx(Ee,{to:`/trade-view/${btoa(i==null?void 0:i.id)}`,children:"View Application"})})]})})})})})]}))})]}):e.jsx("div",{children:e.jsx(ct,{message:"You do not have any pending trade applications. Apply for a new trade license.",title:"No Pending Licenses available. "})})}),u==2&&e.jsx("div",{className:"h-full md:w-full mb-40 md:mr-0 max-sm:mb-20 max-sm:flex",children:(m==null?void 0:m.length)>0?e.jsxs("table",{className:"table table-auto w-full text-center border-separate border-spacing-y-[2px] p-2 max-sm:p-0",children:[e.jsxs("thead",{className:"",children:[e.jsx("tr",{className:"h-0 bg-gray-200 text-gray-600 rounded-lg"}),e.jsx("div",{})]}),e.jsx("tbody",{children:m==null?void 0:m.map((i,ce)=>{var ue;return i.pending_status==5&&e.jsxs(e.Fragment,{children:[e.jsxs("tr",{className:"outline outline-1 outline-gray-300 bg-white cursor-pointer flex max-sm:gap-0 overflow-auto md:flex grid-cols-12 p-2 w-full items-center max-sm:items-start justify-between border-b border-gray-100  max-sm:flex max-sm:flex-col",onClick:()=>ne(i),children:[e.jsx("td",{className:"px-2 py-2 whitespace-nowrap col-span-2 max-sm:w-full",children:e.jsx("div",{className:"flex flex-row justify-center items-center max-sm:w-full max-sm:mt-2 ",children:e.jsx("img",{src:rt,className:"h-10 ml-3 rounded-full"})})}),e.jsx("td",{className:"whitespace-nowrap col-span-2  max-sm:w-full max-sm:flex max-sm:justify-center",children:e.jsxs("div",{className:"max-sm:w-full max-sm:flex",children:[e.jsx("p",{className:"px-2 text-gray-500 max-sm:w-[40%] text-left",children:"Ulb Name"}),e.jsx("p",{className:"px-2 py-1 break-all max-sm:w-[60%] text-left font-manrope font-semibold col-span-2 text-sm truncate",children:we(i==null?void 0:i.ulb_name)})]})}),e.jsx("td",{className:"whitespace-nowrap col-span-2  max-sm:w-full max-sm:flex max-sm:justify-center",children:e.jsxs("div",{className:"max-sm:w-full max-sm:flex",children:[e.jsx("p",{className:"px-2 text-gray-500 max-sm:w-[40%] text-left",children:"Application No."}),e.jsx("p",{className:"px-2 py-1 break-all max-sm:w-[60%]  text-left font-manrope font-semibold col-span-2 text-sm truncate",children:we(i==null?void 0:i.application_no)})]})}),e.jsx("td",{className:"whitespace-nowrap col-span-2  max-sm:w-full max-sm:flex max-sm:justify-center",children:e.jsxs("div",{className:"max-sm:w-full max-sm:flex",children:[e.jsx("p",{className:"px-2 text-gray-500 max-sm:w-[40%] text-left",children:"License No"}),e.jsx("p",{className:"px-2 py-1 break-all max-sm:w-[60%]  text-left font-manrope font-semibold col-span-2 text-sm truncate",children:we(i==null?void 0:i.license_no)})]})}),e.jsx("td",{className:"whitespace-nowrap col-span-2  max-sm:w-full max-sm:flex max-sm:justify-center",children:e.jsxs("div",{className:"max-sm:w-full max-sm:flex",children:[e.jsx("p",{className:"px-2 text-gray-500 max-sm:w-[40%] text-left",children:"Firm Name"}),e.jsx("p",{className:"px-2 py-1 break-all max-sm:w-[60%]  text-left font-manrope font-semibold col-span-2 text-sm truncate",children:we(i==null?void 0:i.firm_name)})]})}),e.jsx("td",{className:"whitespace-nowrap col-span-2  max-sm:w-full max-sm:flex max-sm:justify-center",children:e.jsxs("div",{className:"max-sm:w-full max-sm:flex",children:[e.jsx("p",{className:"px-2 text-gray-500 max-sm:w-[40%] text-left",children:"Application Date"}),e.jsx("p",{className:"px-2 py-1 break-all max-sm:w-[60%]  text-left font-manrope font-semibold col-span-2 text-sm truncate",children:we(i==null?void 0:i.application_date)})]})}),e.jsx("td",{className:"whitespace-nowrap col-span-2  max-sm:w-full max-sm:flex max-sm:justify-center",children:e.jsxs("div",{className:"max-sm:w-full max-sm:flex",children:[e.jsx("p",{className:"px-2 text-gray-500 max-sm:w-[40%] text-left",children:"valid Upto"}),e.jsx("p",{className:"px-2 py-1 break-all max-sm:w-[60%]  text-left font-manrope font-semibold col-span-2 text-sm truncate",children:we(((i==null?void 0:i.valid_upto)=="",i==null?void 0:i.valid_upto))})]})}),e.jsx("td",{className:"px-2 py-2 whitespace-nowrap col-span-2  max-sm:w-full max-sm:flex max-sm:justify-center",children:e.jsx("span",{className:`text-xs px-2 py-1.5 ${(()=>{switch(we(i==null?void 0:i.application_type_id)){case 1:return"bg-green-200";case 2:return"bg-blue-200";case 3:return"bg-yellow-200";case 4:return"bg-red-200";default:return""}})()}`,children:(()=>{switch(we(i==null?void 0:i.application_type_id)){case 1:return"New Application";case 2:return"Renewal";case 3:return"Amendment";case 4:return"Surrender";default:return""}})()})}),e.jsx("td",{className:"px-2 py-2 whitespace-nowrap text-right text-sm font-medium col-span-1 cursor-pointer max-sm:w-full max-sm:flex max-sm:justify-end",onClick:()=>ne(i),children:s===i?e.jsx(nt,{size:24}):e.jsx(it,{size:24})})]}),e.jsx("tr",{children:e.jsx("td",{colSpan:6,children:e.jsx("div",{className:"flex-none bg-gray-200",children:s===i.id&&e.jsx("div",{className:"p-5 ease-in duration-300",children:((i==null?void 0:i.license_type)!="old"||(i==null?void 0:i.license_type)!="rejected")&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-full  pl-2 text-xs -mt-5 mb-2",children:e.jsx("div",{className:"font-semibold 2xl:text-base text-sm font-poppins",children:"Actions Available for this license"})}),e.jsxs("div",{className:"grid grid-cols-2 w-full gap-4",children:[e.jsxs("div",{className:"flex w-full",children:[e.jsx("div",{onClick:()=>de(i==null?void 0:i.license_no),className:`flex-initial text-xs 2xl:text-sm poppins border border-indigo-600 text-indigo-700 px-2 shadow-inidgo-400 py-1 rounded-md cursor-pointer shadow-gray-400 hover:bg-indigo-600 transition-all duration-200 
                                                mx-2 hover:text-white hover:scale-105`,children:"Renewal History"}),(ue=i==null?void 0:i.option)==null?void 0:ue.map(je=>e.jsxs(e.Fragment,{children:[e.jsx("div",{onClick:()=>z(`/trade-renewal/${i==null?void 0:i.id}`),className:(je=="RENEWAL"?"visible":"hidden")+` flex-initial text-xs 2xl:text-sm poppins border border-indigo-600 text-indigo-700 px-2 shadow-inidgo-400 py-1 rounded-md cursor-pointer shadow-gray-400 hover:bg-indigo-600 transition-all duration-200 
                                                mx-2 hover:text-white hover:scale-105`,children:"Renewal"}),e.jsx("div",{onClick:()=>z(`/trade-amendment/${i==null?void 0:i.id}`),className:(je=="AMENDMENT"?"visible":"hidden")+` flex-initial text-xs 2xl:text-sm poppins border border-indigo-600 text-indigo-700 px-2 shadow-inidgo-400 py-1 rounded-md cursor-pointer shadow-gray-400 hover:bg-indigo-600 transition-all 
                                                mx-2
                                                duration-200 hover:text-white hover:scale-105`,children:"Amendment"}),e.jsx("div",{onClick:()=>z(`/trade-surrender/${i==null?void 0:i.id}`),className:(je=="SURRENDER"?"visible":"hidden")+` flex-initial text-xs 2xl:text-sm poppins border border-indigo-600 text-indigo-700 px-2 shadow-inidgo-400 py-1 rounded-md cursor-pointer shadow-gray-400 hover:bg-indigo-600 transition-all 
                                                mx-2
                                                duration-200 hover:text-white hover:scale-105`,children:"Surrender"})]}))]}),e.jsx("div",{className:"text-right",children:e.jsx("button",{className:"px-3 py-1 rounded w-36 text-sm text-white bg-indigo-500 hover:bg-indigo-600 cursor-pointer",children:e.jsx(Ee,{to:`/trade-view/${btoa(i==null?void 0:i.id)}`,children:"View Application"})})})]})]})})})})})]})})})]}):e.jsx("div",{children:e.jsx(ct,{message:"You do not have any approved trade Licenses yet. If you own a trade license and can't see it here. You can attach your existing licenses here.",title:"No Approved Licenses available. "})})}),u==3&&e.jsx("div",{className:"w-full text-sm max-sm:mb-20",children:(se==null?void 0:se.length)>0?e.jsxs("table",{className:"table table-auto w-full text-center border-separate border-spacing-y-[2px] p-2",children:[e.jsxs("thead",{className:"",children:[e.jsx("tr",{className:"h-0 bg-gray-200 text-gray-600 rounded-lg"}),e.jsx("div",{})]}),e.jsx("tbody",{children:se==null?void 0:se.map((i,ce)=>{var ue;return e.jsxs(e.Fragment,{children:[e.jsxs("tr",{className:"outline outline-1 outline-gray-300 bg-white cursor-pointer flex max-sm:gap-0 overflow-auto md:flex grid-cols-12 p-2 w-full items-center max-sm:items-start justify-between border-b border-gray-100  max-sm:flex max-sm:flex-col",onClick:()=>ne(i),children:[e.jsx("td",{className:"px-2 py-2 whitespace-nowrap col-span-2 max-sm:w-full",children:e.jsx("div",{className:"flex flex-row justify-center items-center max-sm:w-full max-sm:mt-2 ",children:e.jsx("img",{src:rt,className:"h-10 ml-3 rounded-full"})})}),e.jsx("td",{className:"px-2 py-2 whitespace-nowrap col-span-2  max-sm:w-full max-sm:flex max-sm:justify-center",children:e.jsxs("div",{className:"max-sm:w-full max-sm:flex",children:[e.jsx("p",{className:"px-2 text-gray-500 max-sm:w-[40%] text-left",children:"Ulb Name"}),e.jsx("p",{className:"px-2 py-1 break-all font-manrope font-semibold col-span-2 text-sm truncate",children:we(i==null?void 0:i.ulb_name)})]})}),e.jsx("td",{className:"px-2 py-2 whitespace-nowrap col-span-2  max-sm:w-full max-sm:flex max-sm:justify-center",children:e.jsxs("div",{className:"max-sm:w-full max-sm:flex",children:[e.jsx("p",{className:"px-2 text-gray-500 max-sm:w-[40%] text-left",children:"Application No."}),e.jsx("p",{className:"px-2 py-1 break-all font-manrope font-semibold col-span-2 text-sm truncate",children:we(i==null?void 0:i.application_no)})]})}),e.jsx("td",{className:"px-2 py-2 whitespace-nowrap col-span-2  max-sm:w-full max-sm:flex max-sm:justify-center",children:e.jsxs("div",{className:"max-sm:w-full max-sm:flex",children:[e.jsx("p",{className:"px-2 text-gray-500 max-sm:w-[40%] text-left",children:"License No."}),e.jsx("p",{className:"px-2 py-1 break-all font-manrope font-semibold col-span-2 text-sm truncate",children:we(i==null?void 0:i.license_no)})]})}),e.jsx("td",{className:"px-2 py-2 whitespace-nowrap col-span-2  max-sm:w-full max-sm:flex max-sm:justify-center",children:e.jsxs("div",{className:"max-sm:w-full max-sm:flex ",children:[e.jsx("p",{className:"px-2 text-gray-500 max-sm:w-[40%] text-left",children:"Firm Name"}),e.jsx("p",{className:"px-2 py-1 break-all font-manrope font-semibold col-span-2 text-sm truncate",children:we(i==null?void 0:i.firm_name)})]})}),e.jsx("td",{className:"px-2 py-2 whitespace-nowrap col-span-2  max-sm:w-full max-sm:flex max-sm:justify-center",children:e.jsxs("div",{className:"max-sm:w-full max-sm:flex",children:[e.jsx("p",{className:"px-2 text-gray-500 max-sm:w-[40%] text-left",children:"Apply Date"}),e.jsx("p",{className:"px-2 py-1 break-all font-manrope font-semibold col-span-2 text-sm truncate",children:we(i==null?void 0:i.application_date)})]})}),e.jsx("td",{className:"px-2 py-2 whitespace-nowrap col-span-2  max-sm:w-full max-sm:flex max-sm:justify-center",children:e.jsxs("div",{className:"max-sm:w-full max-sm:flex",children:[e.jsx("p",{className:"px-2 text-gray-500 max-sm:w-[40%] text-left",children:"valid upto"}),e.jsxs("p",{className:"px-2 py-1 break-all font-manrope font-semibold col-span-2 text-sm truncate",children:[we(((i==null?void 0:i.valid_upto)=="",i==null?void 0:i.valid_upto))," "]})]})}),e.jsx("td",{className:"px-2 py-2 whitespace-nowrap col-span-2  max-sm:w-full max-sm:flex max-sm:justify-center",children:e.jsx("span",{className:`text-xs px-2 py-1.5 ${(()=>{switch(we(i==null?void 0:i.application_type_id)){case 1:return"bg-green-200";case 2:return"bg-blue-200";case 3:return"bg-yellow-200";case 4:return"bg-red-200";default:return""}})()}`,children:(()=>{switch(we(i==null?void 0:i.application_type_id)){case 1:return"New Application";case 2:return"Renewal";case 3:return"Amendment";case 4:return"Surrender";default:return""}})()})}),e.jsx("td",{className:"px-2 py-2 whitespace-nowrap col-span-2  max-sm:w-full max-sm:flex max-sm:justify-end",onClick:()=>ne(i),children:s===i?e.jsx(nt,{size:24}):e.jsx(it,{size:24})})]}),e.jsx("tr",{children:e.jsx("td",{colSpan:6,children:e.jsx("div",{className:"flex-none bg-gray-200",children:s===i.id&&e.jsx("div",{className:"p-5 ease-in duration-300",children:((i==null?void 0:i.license_type)!="old"||(i==null?void 0:i.license_type)!="rejected")&&e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:"w-full  pl-2 text-xs -mt-5 mb-2",children:e.jsx("div",{className:"font-semibold 2xl:text-base text-sm font-poppins",children:"Actions Available for this license"})}),e.jsxs("div",{className:"grid grid-cols-2 w-full gap-4 max-sm:flex max-sm:flex-wrap",children:[e.jsxs("div",{className:"flex w-full flex-wrap max-sm:justify-between gap-2",children:[e.jsx("div",{onClick:()=>de(i==null?void 0:i.license_no),className:"flex-initial text-xs 2xl:text-sm poppins border border-indigo-600 text-indigo-700 px-2 shadow-inidgo-400 py-1 rounded-md cursor-pointer shadow-gray-400 hover:bg-indigo-600 transition-all duration-200 mx-2 hover:text-white hover:scale-105",children:"Renewal History"}),e.jsx("div",{onClick:()=>{R(i==null?void 0:i.license_no),H(!0)},className:"flex-initial flex items-center text-sm poppins text-red-600 px-2 shadow-inidgo-400 py-1 rounded-md cursor-pointer shadow-gray-400 bg-red-600 transition-all duration-200 text-white hover:scale-105",children:e.jsx("abbr",{className:"no-underline poppins",title:"Objection is for helping you in any issues related to Property.",children:"Detach Trade"})}),(ue=i==null?void 0:i.option)==null?void 0:ue.map(je=>e.jsxs(e.Fragment,{children:[e.jsx("div",{onClick:()=>z(`/trade-renewal/${i==null?void 0:i.id}`),className:(je=="RENEWAL"?"visible":"hidden")+" flex-initial text-xs 2xl:text-sm poppins border border-indigo-600 text-indigo-700 px-2 shadow-inidgo-400 py-1 rounded-md cursor-pointer shadow-gray-400 hover:bg-indigo-600 transition-all duration-200 mx-2 hover:text-white hover:scale-105",children:"Renewal"}),e.jsx("div",{onClick:()=>z(`/trade-amendment/${i==null?void 0:i.id}`),className:(je=="AMENDMENT"?"visible":"hidden")+" flex-initial text-xs 2xl:text-sm poppins border border-indigo-600 text-indigo-700 px-2 shadow-inidgo-400 py-1 rounded-md cursor-pointer shadow-gray-400 hover:bg-indigo-600 transition-all mx-2 duration-200 hover:text-white hover:scale-105",children:"Amendment"}),e.jsx("div",{onClick:()=>z(`/trade-surrender/${i==null?void 0:i.id}`),className:(je=="SURRENDER"?"visible":"hidden")+" flex-initial text-xs 2xl:text-sm poppins border border-indigo-600 text-indigo-700 px-2 shadow-inidgo-400 py-1 rounded-md cursor-pointer shadow-gray-400 hover:bg-indigo-600 transition-all  mx-2 duration-200 hover:text-white hover:scale-105",children:"Surrender"})]}))]}),e.jsx("div",{className:"text-right",children:e.jsx("button",{className:"px-3 py-1 rounded w-36 text-sm text-white bg-indigo-500 hover:bg-indigo-600 cursor-pointer",children:e.jsx(Ee,{to:`/trade-view/${btoa(i==null?void 0:i.id)}`,children:"View Application"})})})]})]})})})})})]})})})]}):e.jsx("div",{children:e.jsx(ct,{message:"You do not have any attached trade Licenses. Attached  your trade license to see them here.",title:"No Attached Licenses available. "})})})]})}),e.jsx("div",{className:"",children:e.jsx(ns,{isOpen:N,style:X,contentLabel:"Example Modal",children:e.jsxs("div",{className:"container",children:[e.jsx(As,{show:te}),e.jsxs("div",{className:"w-full flex justify-between p-4 shadow shadow-sky-200 hover:shadow-sky-300 text-gray-700",children:[e.jsxs("h1",{className:"font-bold font-inter text-xl",children:["Renewal History of License No :",e.jsx("span",{className:"text-md font-semibold",children:(G!=null||G!="")&&G})]}),e.jsx("button",{onClick:()=>_(!1),className:Aa,children:"Close"})]}),e.jsx("div",{className:"grid grid-cols-1 text-sm font-semibold text-gray-600",children:(U==null?void 0:U.length)>0?e.jsx(Zl,{renewalHistoryList:U}):e.jsx(e.Fragment,{children:e.jsx("div",{className:"",children:e.jsx(Ra,{})})})})]})})}),e.jsx(ka,{open:D,onClose:()=>H(!1),api:x,payload:{recordId:Y,type:"trade"},title:"Record Detachment",description:e.jsxs(e.Fragment,{children:["Do you want to detach this Record? ",e.jsx("br",{}),"You will not be able to access information related to this Record after detachment."]}),onSuccess:()=>{he(),H(!1)}})]})})};function qt(s){var t,g,h,x,m,p,$,S,E,A;const[n,u]=a.useState(),[C,b]=a.useState(),r=()=>{var z;if(console.log("docCode",C," fileData ",n),C==null||C==""){s==null||s.toast("Select the respective document type","notice");return}if(n==null||C==""){s==null||s.toast("Choose a file to upload","notice");return}let k=Ma(n);if(!k)return;console.log("size validation",k),s==null||s.showLoader(!0);let c=new FormData;console.log("document  => ",n),c.append("applicationId",atob(s==null?void 0:s.id)),console.log("props",s),(s==null?void 0:s.currentOwnerId)!=null&&c.append("ownerId",s==null?void 0:s.currentOwnerId),c.append("docCode",C),c.append("document",n),c.append("docName",(z=s==null?void 0:s.data)==null?void 0:z.docName),console.log("form data bo doc upload => ",c),console.log("fdataaa",n),n!=""?(b(""),console.log("before fetch doc to upload...",c),Os.post(oe.DOCUMENT_UPLOAD,c,Ea()).then(d=>{var L;console.log("data submitted bo doc upload => ",d.data),(L=d==null?void 0:d.data)!=null&&L.status?(s==null||s.docList(atob(s==null?void 0:s.id)),s==null||s.toast("file uploaded successfully","success")):(console.log("something went"),s==null||s.toast("file could not be uploaded","error")),s==null||s.showLoader(!1)}).catch(d=>{console.log("data submission error bo doc upload => ",d),s==null||s.toast("Something went wrong !","error"),s==null||s.showLoader(!1)})):s==null||s.toast("Select file","notice")};return e.jsx(e.Fragment,{children:e.jsxs("table",{className:"w-full mx-auto text-left border-b mb-1",children:[e.jsx("thead",{className:"",children:(s==null?void 0:s.index)==0&&(s==null?void 0:s.showHeader)&&e.jsxs("tr",{className:"bg-gray-200 h-12",children:[e.jsx("th",{className:"px-2",children:"Document Name"}),e.jsx("th",{className:"",children:"Type"}),e.jsx("th",{className:"",children:"Document"}),e.jsx("th",{className:"",children:"Upload"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{className:"text-left ",children:[e.jsx("td",{children:e.jsxs("div",{className:"px-2 py-6 w-36",children:[" ",((t=s==null?void 0:s.data)==null?void 0:t.docName)||"N/a"]})}),e.jsx("td",{children:e.jsx("div",{className:"text-left ",children:e.jsxs("span",{className:"font-medium",value:(g=s==null?void 0:s.data)==null?void 0:g.docName,children:[((h=s==null?void 0:s.data)==null?void 0:h.docType)=="R"&&e.jsx("span",{className:"text-red-500",children:"Mandatory"}),((x=s==null?void 0:s.data)==null?void 0:x.docType)=="O"&&e.jsx("span",{className:"text-gray-500",children:"Optional"}),((m=s==null?void 0:s.data)==null?void 0:m.docType)=="OR"&&e.jsx("span",{className:"text-red-500",children:"Mandatory"})]})})}),(($=(p=s==null?void 0:s.data)==null?void 0:p.uploadedDoc)==null?void 0:$.verifyStatus)!=1?e.jsxs("div",{children:[e.jsx("td",{children:e.jsx("div",{className:"w-36 ",children:e.jsxs("select",{name:"docs",id:"",className:`${w}  cursor-pointer`,onChange:k=>b(k.target.value),value:C,children:[e.jsx("option",{value:"",children:"Select"}),(E=(S=s==null?void 0:s.data)==null?void 0:S.masters)==null?void 0:E.map(k=>e.jsx("option",{value:k==null?void 0:k.documentCode,children:k==null?void 0:k.docVal}))]})})}),e.jsx("td",{children:e.jsxs("div",{className:"",children:[e.jsx("input",{type:"file",name:"docs",id:"",className:"p-2 mx-2 border ",onChange:k=>u(k.target.files[0])}),e.jsxs("button",{title:"upload",onClick:r,variant:"outlined",size:"small",className:`${Ie}`,children:[e.jsx(ma,{}),((A=s==null?void 0:s.data)==null?void 0:A.uploadedDoc)!=""?"Re-Upload. ":"Upload"]})]})})]}):e.jsx(e.Fragment,{children:e.jsx("td",{colSpan:2,className:"text-blue-500 font-semibold",children:"Document is uploaded and verified"})})]})})]})})}const zt={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",border:"none"}};ns.setAppElement("#root");function Ql(s){var te,Q,se,ie;const[n,u]=a.useState(!1),[C,b]=a.useState(!1),[r,t]=a.useState(!1),[g,h]=a.useState(""),[x,m]=a.useState(1),[p,$]=a.useState(!1),[S,E]=a.useState(),[A,k]=a.useState(null),[c,z]=a.useState(null),[d,L]=a.useState(!1),[I,v]=a.useState(!1),[o,y]=a.useState(0),[j,F]=a.useState(),T=is(),{id:V}=ks(),f=()=>v(!0),O=()=>{},M=D=>{u(D)},l=()=>{$(!1),L(!1),t(!1),v(!1),m(x+1),console.log("modal m end => ",r,p)},N=(D,H)=>{J.dismiss(),H=="escalated"&&J.success(D),H=="success"&&J.success(D),H=="de-escalated"&&J.warn(D),H=="notice"&&J.warn(D),H=="error"&&J.error(D)},_=D=>{M(!0),console.log("before fetch upload doc"),Os.post(oe.DOCUMENT_REQUIREMENT,{applicationId:D},fe()).then(H=>{var Y;console.log("list of doc to upload at pilotworkflowdocumentupload => ",H==null?void 0:H.data),E((Y=H==null?void 0:H.data)==null?void 0:Y.data),M(!1)}).catch(H=>{console.log("data submission error bo doc upload => ",H),t(!1),M(!1)})};a.useEffect(()=>{console.log("applicationIdss",s==null?void 0:s.id),_(V==null?atob(s==null?void 0:s.id):atob(V))},[V]);const U=D=>{A==D?k(null):k(D)},ee=D=>{c==D?z(null):z(D)},G=D=>{console.log("getting doc name => ",D),D==""&&J.error("File not uploaded !!!"),D!=""&&(h(D),f(),m(x+1))},le=D=>{M(!0);let H={licenceId:D};me.post(oe.PAY_ONLINE,H,fe()).then(Y=>{console.log("Oder ID Generated",Y),Y.data.status==!0?(F(Y.data.data),console.log("order response"),y(R=>R+1)):(N(Y.data.message,"success"),console.log("order response",Y.data.message),T(`/trade-view/${btoa(D)}`)),M(!1)}).catch(Y=>{console.log("Error genrating order id",Y),M(!1)})};return a.useState(!1),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"pb-24 pt-4 mb-12 container h-screen overflow-auto bg-white  border-red-500",children:[e.jsx(As,{show:n}),e.jsx(Dt,{openPaymentModal:o,id:V,OrderResponse:j,toast:N,showLoader:M}),e.jsxs("div",{className:"flex justify-between max-sm:flex-col p-2",children:[e.jsx("div",{children:((s==null?void 0:s.showHeader)==null||(s==null?void 0:s.showHeader))&&e.jsx("h1",{className:"text-lg md:text-4xl my-2 font-semibold font-roboto underline text-gray-600 bg-white",children:"Upload Documents"})}),(S==null?void 0:S.paymentStatus)==0&&e.jsx("div",{children:e.jsxs("button",{type:"button",className:"float-right max-sm:w-full  px-4  bg-green-500 text-white  text-xs leading-tight rounded shadow-md hover:bg-green-700 hover:shadow-lg focus:bg-green-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-green-800 active:shadow-lg transition duration-150 ease-in-out pb-3 my-1",children:[e.jsx("p",{className:"mb-2 text-slate-100 pt-5",children:"Mandatory documents uploaded. You can now"}),e.jsx(ua,{variant:"contained",size:"small",color:"success",onClick:()=>le(atob(V)),children:"Proceed to payment"})]})})]}),(S==null?void 0:S.ownerDocs)&&e.jsxs("div",{className:"grid grid-cols-1  p-2 ",children:[e.jsxs("h1",{className:"text-sm font-semibold font-poppins text-indigo-600 bg-white py-4",children:[e.jsx(Ys,{})," Owner Documents"]}),e.jsx("div",{className:"overflow-auto",children:e.jsxs("table",{className:"w-full table table-auto",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-sky-100 text-gray-600 uppercase text-sm",children:[e.jsx("th",{className:"py-3 px-6 text-left",children:"#"}),e.jsx("th",{className:"py-3 px-6 text-left ",children:"Applicant Image"}),e.jsx("th",{className:"py-3 px-6 text-left ",children:"Applicant Name"}),e.jsx("th",{className:"py-3 px-6 text-left ",children:"Guardian Name"}),e.jsx("th",{className:"py-3 px-6 text-left ",children:"Mobile"}),e.jsx("th",{className:"py-3 px-6",children:"Action"})]})}),e.jsx("tbody",{className:"text-gray-600 text-sm font-light bg-white",children:(te=S==null?void 0:S.ownerDocs)==null?void 0:te.map((D,H)=>{var Y,R,W,K,X,re,de;return e.jsxs(e.Fragment,{children:[e.jsxs("tr",{className:"border-b border-gray-200 text-center",children:[e.jsxs("td",{className:"py-6 px-2 text-left font-semibold whitespace-nowrap",children:[H+1,"."]}),e.jsx("td",{className:"py-3 px-6 text-left whitespace-pre-wrap",children:e.jsxs("div",{className:"flex items-start justify-start rounded-full ",children:[((Y=D==null?void 0:D.ownerDetails)==null?void 0:Y.uploadedDoc)!=""&&e.jsx("div",{className:"text-left cursor-pointer",onClick:()=>{var ne;return G(`${La}/${(ne=D==null?void 0:D.ownerDetails)==null?void 0:ne.uploadedDoc}`)},children:e.jsx("img",{src:`${Na}${(R=D==null?void 0:D.ownerDetails)==null?void 0:R.uploadedDoc}`,alt:"n/a",className:"md:w-[3vw] w-[5vw]",srcset:""})}),((W=D==null?void 0:D.ownerDetails)==null?void 0:W.uploadedDoc)==""&&e.jsx("span",{className:"text-red-500 font-semibold text-left",children:"Not Uploaded"})]})}),e.jsx("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:e.jsx("div",{className:"flex items-center",children:e.jsx("span",{className:"font-medium",children:(K=D==null?void 0:D.ownerDetails)==null?void 0:K.name})})}),e.jsx("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:e.jsx("div",{className:"flex items-center",children:e.jsx("span",{className:"font-medium",children:(X=D==null?void 0:D.ownerDetails)==null?void 0:X.guardian})})}),e.jsx("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:e.jsx("div",{className:"flex items-center",children:e.jsx("span",{className:"font-medium",children:(re=D==null?void 0:D.ownerDetails)==null?void 0:re.mobile})})}),e.jsx("td",{className:"py-3 px-6",children:e.jsx("div",{className:"font-semibold text-sm",children:e.jsx("div",{className:"",children:!C&&e.jsx("button",{onClick:()=>U(H),type:"button",children:A==H?e.jsx(kt,{}):e.jsx(Et,{})})})})})]}),e.jsx("tr",{className:"bg-gray-100 shadow-lg ",children:e.jsx("td",{colSpan:6,className:"border ",children:e.jsx("div",{className:"w-11/12 mx-auto overflow-x-auto",children:A==H&&((de=D==null?void 0:D.documents)==null?void 0:de.map((ne,xe)=>{var he;return e.jsx("div",{children:e.jsx(qt,{data:ne,currentOwnerId:(he=D==null?void 0:D.ownerDetails)==null?void 0:he.ownerId,index:xe,showHeader:!0,id:V||(s==null?void 0:s.id),docList:_,toast:N,showLoader:M})})}))})})})]})})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 p-2",children:[e.jsxs("h1",{className:"text-sm font-semibold font-poppins text-indigo-600 bg-white py-4 px-2",children:[e.jsx(xa,{})," Property Documents"]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full table table-auto text-left",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-sky-100 text-gray-600 uppercase text-sm leading-normal",children:[e.jsx("th",{className:"py-3 px-2 text-center",children:"#"}),e.jsx("th",{className:"py-3 px-2 text-left",children:"Document Name"}),e.jsx("th",{className:"py-3 px-2 text-left",children:"Type"}),e.jsx("th",{className:"py-3 px-2 text-center",children:"Preview"}),e.jsx("th",{className:"py-3 px-3 text-center",children:"Remarks"}),e.jsx("th",{className:"py-3 px-3 text-center",children:"Status"}),e.jsx("th",{className:"py-3 px-3 text-center",children:"Action"})]})}),e.jsx("tbody",{className:"text-gray-600 text-sm mt-2 font-light bg-white",children:(Q=S==null?void 0:S.listDocs)==null?void 0:Q.map((D,H)=>{var Y,R,W,K,X,re,de,ne;return e.jsxs(e.Fragment,{children:[e.jsxs("tr",{onClick:()=>ee(H),className:"border-b border-gray-200 cursor-pointer hover:bg-gray-100 transition-all duration-200 my-2",children:[e.jsx("td",{className:"py-6 px-2 font-semibold",children:H+1}),e.jsx("td",{className:"sm:text-sm sm:px-2 sm:py-3",children:D.docName}),e.jsx("td",{className:"sm:text-sm sm:px-2 sm:py-3 text-left whitespace-nowrap",children:e.jsx("div",{className:"flex sm:flex-col items-center",children:e.jsx("span",{className:"font-medium",children:(D==null?void 0:D.docType)==="R"||(D==null?void 0:D.docType)==="OR"?e.jsx("span",{className:"text-red-500",children:"Mandatory"}):"Optional"})})}),e.jsx("td",{className:"sm:text-sm sm:px-2 sm:py-3 text-center relative",children:(Y=D==null?void 0:D.uploadedDoc)!=null&&Y.docPath?e.jsx("div",{className:"flex sm:flex-col items-center justify-center font-semibold text-[26px] cursor-pointer",onClick:xe=>{var he;xe.stopPropagation(),G((he=D==null?void 0:D.uploadedDoc)==null?void 0:he.docPath)},children:(R=D==null?void 0:D.uploadedDoc)!=null&&R.docPath.toLowerCase().endsWith(".pdf")?e.jsx(Ia,{className:"text-red-500 w-[2vw] h-[2vw]"}):e.jsx("img",{src:(W=D==null?void 0:D.uploadedDoc)==null?void 0:W.docPath,className:"md:w-[2vw] sm:w-[10vw] w-[5vw] border rounded",alt:"Preview"})}):e.jsx("i",{className:"font-semibold",children:"N/A"})}),e.jsx("td",{className:"sm:text-sm sm:px-2 sm:py-3 text-center relative",children:(K=D==null?void 0:D.uploadedDoc)!=null&&K.remarks?(X=D==null?void 0:D.uploadedDoc)==null?void 0:X.remarks:e.jsx("i",{className:"font-semibold",children:"N/A"})}),e.jsx("td",{className:"sm:text-sm sm:px-2 sm:py-3 text-center relative",children:D!=null&&D.uploadedDoc?e.jsxs(e.Fragment,{children:[((re=D==null?void 0:D.uploadedDoc)==null?void 0:re.verifyStatus)===0&&e.jsx("span",{children:"Pending"}),((de=D==null?void 0:D.uploadedDoc)==null?void 0:de.verifyStatus)===1&&e.jsx("span",{className:"text-green-500",children:"Verified"}),((ne=D==null?void 0:D.uploadedDoc)==null?void 0:ne.verifyStatus)===2&&e.jsx("span",{className:"text-red-500",children:"Rejected"})]}):e.jsx("i",{className:"font-semibold",children:"N/A"})}),e.jsx("td",{className:"sm:text-sm sm:px-2 sm:py-3 text-center relative",children:!C&&e.jsx("button",{type:"button",className:"p-2 rounded focus:outline-none active:scale-95",onClick:xe=>{xe.stopPropagation(),ee(H)},children:c===H?e.jsx(kt,{}):e.jsx(Et,{})})})]}),c===H&&e.jsx("tr",{className:"bg-gray-50 shadow-md transition-all duration-300",children:e.jsx("td",{colSpan:7,className:"border",children:e.jsx("div",{className:"w-11/12 mx-auto overflow-x-auto p-4",children:e.jsx(qt,{data:D,currentOwnerId:null,index:H,showHeader:!1,id:V||(s==null?void 0:s.id),docList:_,toast:N,showLoader:M})})})})]})})})]})}),e.jsx("div",{className:"h-48 py-4"})]}),e.jsx(ns,{isOpen:d,onRequestClose:l,style:zt,contentLabel:"Example Modal",children:e.jsx("div",{class:""})}),e.jsxs(ns,{isOpen:I,onAfterOpen:O,onRequestClose:l,style:zt,contentLabel:"Example Modal",children:[e.jsx(As,{show:n}),e.jsxs("div",{className:" rounded-lg shadow-xl border-2 md:ml-32 px-0",style:{width:"60vw",height:"80vh"},children:[e.jsx("div",{className:"absolute top-10 bg-red-200 hover:bg-red-300 right-10 rounded-full p-2 cursor-pointer",onClick:l,children:e.jsx(Ua,{})}),((ie=g==null?void 0:g.split(".")[((se=g==null?void 0:g.split("."))==null?void 0:se.length)-1])==null?void 0:ie.toLowerCase())!="pdf"?e.jsx("img",{className:"w-full h-full",src:g,frameborder:"0",onLoadStart:()=>console.log("loading started")}):e.jsx("object",{className:"w-full h-full container",data:g,frameborder:"0"})]})]})]})})}function $n(){return e.jsxs(ja,{children:[e.jsx(ke,{path:"/trade-provisional-direct/:licenceId",element:e.jsx(Rt,{})}),e.jsx(ke,{path:"/trade-provisional-license-direct/:id/:tranId",element:e.jsx(Mt,{})}),e.jsxs(ke,{element:e.jsx(Ya,{}),children:[e.jsx(ke,{element:e.jsx(Va,{isMaintenance:!1}),children:e.jsx(ke,{path:"/trade-dashboard",element:e.jsx(Jl,{})})}),e.jsx(ke,{path:"/trade-new-apply",element:e.jsx(pl,{})}),e.jsx(ke,{path:"/trade-renewal-list",element:e.jsx(zl,{})}),e.jsx(ke,{path:"/trade-renewal/:licenceId",element:e.jsx(Fl,{})}),e.jsx(ke,{path:"/trade-amendment/:licenceId",element:e.jsx(Nl,{})}),e.jsx(ke,{path:"/trade-amendment-list",element:e.jsx(Ml,{})}),e.jsx(ke,{path:"/trade-surrender/:licenceId",element:e.jsx(El,{})}),e.jsx(ke,{path:"/trade-surrender-list",element:e.jsx(Wl,{})}),e.jsx(ke,{path:"/trade-view/:licenceId",element:e.jsx(Ul,{})}),e.jsx(ke,{path:"/trade-document-upload/:id",element:e.jsx(Ql,{})}),e.jsx(ke,{path:"/trade-payment-receipt/:id/:tranId",element:e.jsx(Mt,{})}),e.jsx(ke,{path:"/trade-provisional-license/:licenceId",element:e.jsx(Rt,{})}),e.jsx(ke,{path:"/trade-approved-license/:licenceId",element:e.jsx(wl,{})})]})]})}export{$n as default};
