import{r as m,u as w,a as q,C as R,j as a}from"./index-ab416760.js";import{u as T}from"./formik.esm-3439c16f.js";import{c as $,a as p}from"./index.esm-bb5cd0d1.js";import{b as P}from"./PowerupFunctions-83be0856.js";import{A as b,a as x,b as I}from"./AxiosInterceptors-f843a74a.js";import{B as O}from"./BarLoader-c0a4518a.js";import{B as V}from"./BottomErrorCard-b5de6692.js";import{T as G}from"./Tabs-32e44a7b.js";import"./hoist-non-react-statics.cjs-2a623d8a.js";function aa(){const[k,f]=m.useState(!1),[N,g]=m.useState(null),[j,r]=m.useState(!1),[J,B]=m.useState([]),{api_getBankData:y,api_postBankData:E,api_editBankData:S,api_getBankDataById:C}=I(),u=w(),{id:d}=q(),F=$({bankName:p().matches(R,"Please Enter value between A-Z to a-z").required("Bank name is required feild")}),s=T({initialValues:{bankName:""},onSubmit:(t,e)=>{console.log("at submit ",t),A(t)},validationSchema:F}),A=t=>{r(!0);let e,l,n={bankName:t.bankName};d!==void 0?(e=S,l=n,l.id=d):(e=E,l=n),b.post(e,l,x()).then(function(i){var c,h,v;console.log("bank master..",(c=i==null?void 0:i.data)==null?void 0:c.data),((h=i==null?void 0:i.data)==null?void 0:h.status)===!0?u("/bank"):o(!0,`${(v=i==null?void 0:i.data)==null?void 0:v.message}`),r(!1)}).catch(function(i){console.log("==2 error list...",i),o(!0,"Error occured in submitting form."),r(!1)})},L=()=>{r(!0);let t={id:d};b.post(C,t,x()).then(function(e){var l,n,i,c;console.log("fetch edit data response..",(l=e==null?void 0:e.data)==null?void 0:l.data),(n=e==null?void 0:e.data)!=null&&n.status?_((i=e==null?void 0:e.data)==null?void 0:i.data):o(!0,`${(c=e==null?void 0:e.data)==null?void 0:c.message}`),r(!1)}).catch(function(e){console.log("= edit data error...",e),f(!0),r(!1)})},_=t=>{console.log("existing property details in prop address...",t),s.setFieldValue("bankName",t==null?void 0:t.bank_name)},D=()=>{b.post(y,{},x()).then(function(t){var e,l,n;(e=t==null?void 0:t.data)!=null&&e.status?B((l=t==null?void 0:t.data)==null?void 0:l.data):o(!0,`${(n=t==null?void 0:t.data)==null?void 0:n.message}`),r(!1)}).catch(function(t){console.log("==2 error list...",t),o(!0,"Error occured while fetching data.")})};m.useEffect(()=>{D(),d!==void 0&&L()},[]);const M=t=>{let e=t.target.name,l=t.target.value;e=="bankName"&&s.setFieldValue("bankName",P(l,s.values.bankName,50))},o=(t,e)=>{g(e),f(t)};return a.jsx(a.Fragment,{children:a.jsx("div",{className:"main-div",children:a.jsxs("div",{className:"main-inner-div",children:[j&&a.jsx(O,{}),k&&a.jsx(V,{activateBottomErrorCard:o,errorTitle:N}),a.jsxs("div",{className:"main-sub-div",children:[a.jsx("div",{className:"main-sub-inner-div",children:a.jsxs("div",{className:"text-div",children:[a.jsx("div",{className:"big-text",children:"Bank Master Form"}),a.jsx("div",{className:"small-text",children:"Unlock Your Potential. Join Our Journey Of Education And Excellence"})]})}),d===void 0?a.jsx("div",{className:"tab-div",children:a.jsx("div",{className:"add-button-master-div",children:a.jsx("button",{onClick:()=>u("/bank-form"),type:"submit",className:" add-button-master",children:"Add "})})}):null]}),d!==void 0?"":a.jsx(G,{listRoute:"/bank",formRoute:"/bank-form"}),a.jsx("div",{className:"details-div",children:a.jsx("span",{className:"detailes",children:"Details of Bank"})}),a.jsx("div",{className:"form-div",children:a.jsx("form",{onSubmit:s.handleSubmit,onChange:M,children:a.jsxs("div",{className:"form",children:[a.jsx("div",{className:"col-span-4 grid grid-cols-12",children:a.jsxs("div",{className:" mb-6 col-span-12 md:col-span-2 md:pr-4",children:[a.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Bank Name",a.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),a.jsx("input",{...s.getFieldProps("bankName"),type:"text",className:"form-control h-10 block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",placeholder:"Enter bank"}),a.jsx("span",{className:"text-red-600 text-xs",children:s.touched.bankName&&s.errors.bankName?s.errors.bankName:null})]})}),a.jsxs("div",{className:"cancel-button-div",children:[a.jsx("div",{className:"    ",children:a.jsx("button",{onClick:()=>u("/bank"),type:"button",className:"cancel-button",children:"Back to List"})}),a.jsx("div",{className:"submit-button-div",children:a.jsx("button",{type:"submit",className:" cypress_next2_button submit-button",children:d!==void 0?"Update":"Save"})})]})]})})})]})})})}export{aa as default};
