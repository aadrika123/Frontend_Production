import{r as d,u as M,a as w,C as q,j as t}from"./index-0cd5b1c8.js";import{u as R}from"./formik.esm-59936898.js";import{c as T,a as $}from"./index.esm-2daf9377.js";import{b as P}from"./PowerupFunctions-8adc749f.js";import{A as u,a as g,b as V}from"./AxiosInterceptors-d192cef8.js";import{B as D}from"./BarLoader-475527d2.js";import{B as I}from"./BottomErrorCard-5e21225b.js";import{T as O}from"./Tabs-58ad7c2a.js";import"./hoist-non-react-statics.cjs-ef0c9066.js";function W(){const[h,f]=d.useState(!1),[b,v]=d.useState(null),[N,c]=d.useState(!1),[G,j]=d.useState([]),{api_fetchCategoryList:C,api_postCategory:E,api_editCategory:B,api_getCategoryById:S}=V(),n=M(),{id:l}=w(),F=T({miscCategoryName:$().matches(q,"Please Enter value between A-Z to a-z").required("Category is required feild")}),r=R({initialValues:{miscCategoryName:""},onSubmit:(a,e)=>{p(a)},validationSchema:F}),p=a=>{c(!0);let e,i,o={miscCategoryName:a.miscCategoryName};l!==void 0?(e=B,i=o,i.id=l):(e=E,i=o),u.post(e,i,g()).then(function(s){var x,y;((x=s==null?void 0:s.data)==null?void 0:x.status)===!0?n("/category"):m(!0,`${(y=s==null?void 0:s.data)==null?void 0:y.message}`),c(!1)}).catch(function(s){m(!0,"Error occured in submitting form."),c(!1)})},L=()=>{c(!0);let a={id:l};u.post(S,a,g()).then(function(e){var i,o,s;(i=e==null?void 0:e.data)!=null&&i.status?_((o=e==null?void 0:e.data)==null?void 0:o.data):m(!0,`${(s=e==null?void 0:e.data)==null?void 0:s.message}`),c(!1)}).catch(function(e){f(!0),c(!1)})},_=a=>{r.setFieldValue("id",a==null?void 0:a.id),r.setFieldValue("miscCategoryName",a==null?void 0:a.misc_category_name)},k=()=>{u.post(C,{},g()).then(function(a){var e,i,o;(e=a==null?void 0:a.data)!=null&&e.status?j((i=a==null?void 0:a.data)==null?void 0:i.data):m(!0,`${(o=a==null?void 0:a.data)==null?void 0:o.message}`),c(!1)}).catch(function(a){m(!0,"Error occured while fetching data.")})};d.useEffect(()=>{k(),l!==void 0&&L()},[]);const A=a=>{let e=a.target.name,i=a.target.value;e=="miscCategoryName"&&r.setFieldValue("miscCategoryName",P(i,r.values.miscCategoryName,50))},m=(a,e)=>{v(e),f(a)};return t.jsx(t.Fragment,{children:t.jsx("div",{className:"main-div",children:t.jsxs("div",{className:"main-inner-div",children:[N&&t.jsx(D,{}),h&&t.jsx(I,{activateBottomErrorCard:m,errorTitle:b}),t.jsxs("div",{className:"main-sub-div",children:[t.jsx("div",{className:"main-sub-inner-div",children:t.jsxs("div",{className:"text-div",children:[t.jsx("div",{className:"big-text",children:"Misc. Category Master Form"}),t.jsx("div",{className:"small-text",children:"Unlock Your Potential. Join Our Journey Of Education And Excellence"})]})}),l===void 0?t.jsx("div",{className:"add-button-master-div",children:t.jsxs("button",{onClick:()=>n("/category-form"),type:"submit",className:" add-button-master",children:["Add"," "]})}):null]}),l!==void 0?"":t.jsx(O,{listRoute:"/category",formRoute:"/category-form"}),t.jsx("div",{className:"details-div",children:t.jsx("span",{className:"detailes",children:"Details of Misc. Category "})}),t.jsx("div",{className:"form-div",children:t.jsx("form",{onSubmit:r.handleSubmit,onChange:A,children:t.jsxs("div",{className:"form",children:[t.jsx("div",{className:"col-span-4 grid grid-cols-12",children:t.jsxs("div",{className:"mb-6 col-span-12 md:col-span-2 md:pr-4",children:[t.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Misc. Category Name",t.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),t.jsx("input",{...r.getFieldProps("miscCategoryName"),type:"text",className:"form-control h-10 block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",placeholder:"Enter misc. category"}),t.jsx("span",{className:"text-red-600 text-xs",children:r.touched.miscCategoryName&&r.errors.miscCategoryName?r.errors.miscCategoryName:null})]})}),t.jsxs("div",{className:"cancel-button-div",children:[t.jsx("div",{className:"    ",children:t.jsx("button",{onClick:()=>n("/category"),type:"button",className:" cancel-button",children:"Back to List"})}),t.jsx("div",{className:"submit-button-div",children:t.jsx("button",{type:"submit",className:"cypress_next2_button submit-button",children:l!==void 0?"Update":"Save"})})]})]})})})]})})})}export{W as default};
