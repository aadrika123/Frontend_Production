import{r as o,u as V,j as e,A as w,a as N,S as k,b as F}from"./index-3941a546.js";import{c as A,a as D}from"./index.esm-6cf26a62.js";import{u as E}from"./formik.esm-f1168841.js";import{B}from"./BarLoader-5e24b4d4.js";import{s as L}from"./studentModal-57fc64af.js";import"./hoist-non-react-statics.cjs-39f77784.js";import"./BottomErrorCard-b06e7e18.js";function P(){var u;const[O,f]=o.useState(!1);o.useState(!1);const[M,x]=o.useState(null),[p,r]=o.useState(!1),[n,g]=o.useState(!1),d=()=>g(!n),h=V(),{api_bulkdataaddstudent:b}=F(),S={uploadCSV:""},j=A({uploadCSV:D().required("Select CSV File")}),s=E({initialValues:S,onSubmit:t=>{const l=new FormData;l.append("uploadCSV",t.uploadCSV),y(l)},validationSchema:j}),y=t=>{r(!0);let l,i;l=b,i=t,w.post(l,i,N()).then(function(a){var m;console.log("Registration.....",a==null?void 0:a.data),a!=null&&a.data?(k.fire({icon:"success",title:"Student",text:"Csv Data Added Successfully.",showConfirmButton:!1,timer:1500}),h("/view-student-list")):c(!0,`${(m=a==null?void 0:a.data)==null?void 0:m.response}`),r(!1)}).catch(function(a){console.log("==2 error list...",a),c(!0,"Error occured in submitting form."),r(!1)})},C=t=>{s.setFieldValue("uploadCSV",t)},v=t=>{if(t.target.name=="uploadCSV"){let i=t.target.files[0];C(i);return}},c=(t,l)=>{x(l),f(t)};return e.jsxs(e.Fragment,{children:[" ",p&&e.jsx(B,{}),e.jsxs("div",{className:"block w-full mx-[10px]",children:[e.jsxs("div",{className:"flex  max-[694px]:block",children:[e.jsx("div",{className:"flex w-full items-start justify-start ml-5 mt-5",children:e.jsxs("div",{className:"block w-full",children:[e.jsx("h1",{className:"text-4xl font-semibold text-gray-700 flex justify-start w-full ",children:"Student List"}),e.jsx("h1",{className:"text-gray-600 flex justify-start text-sm w-full",children:"Unlock Your Potential. Join Our Journey Of Education And Excellence"})]})}),e.jsx("div",{className:"flex items-end justify-end w-full mr-[10vh]",children:e.jsxs("a",{title:"Add Students",children:[" ",e.jsx("button",{type:"submit",className:"text-black text-[2.2vh] bg-[#fde047] font-bold py-[5px] px-[10px] rounded-[5px] h-[40px] w-[100px] flex items-center mr-2 justify-center ",onClick:()=>{d()},children:"+ ADD"}),n&&e.jsx(L,{isOpen:n,toggle:d})]})})]}),e.jsx("form",{onSubmit:s.handleSubmit,onChange:v,encType:"multipart/form-data",children:e.jsx("div",{className:"flex  items-end justify-center",children:e.jsxs("div",{className:"block",children:[e.jsxs("label",{htmlFor:"uploadCSV",className:" inline-flex items-center px-4 py-2 bg-white border border-gray-600 rounded-l font-semibold cursor-pointer text-sm text-black tracking-widest  active:bg-white focus:outline-none focus:border-gray-900 focus:ring focus:ring-gray-300 disabled:opacity-25 transition ",children:[" ","Choose Student CSV File"]}),e.jsxs("div",{children:[" ",e.jsx("input",{type:"file",name:"uploadCSV",accept:".csv",id:"uploadCSV",className:"sr-only inline-flex items-center px-4 py-2 bg-white border border-gray-600 rounded-l font-semibold cursor-pointer text-sm text-black tracking-widest  active:bg-white focus:outline-none focus:border-gray-900 focus:ring focus:ring-gray-300 disabled:opacity-25 transition ",value:s.values.uploadCSV[0],onChange:t=>{s.setFieldValue("uploadCSV",t.target.files[0])}}),s.values.uploadCSV?(u=s.values.uploadCSV)==null?void 0:u.name:"No file selected",e.jsx("br",{}),e.jsx("span",{className:"text-red-600 text-xs",children:s.touched.uploadCSV&&s.errors.uploadCSV?s.errors.uploadCSV:null})]}),e.jsx("button",{type:"submit",className:"next-btn",children:"Upload"})]})})})]})]})}export{P as default};
