import{r as c,u as R,j as e,H as U}from"./index-ab416760.js";import{A as u,a as j,b as $}from"./AxiosInterceptors-f843a74a.js";import{B as G}from"./BarLoader-c0a4518a.js";import{n as a}from"./PowerupFunctions-83be0856.js";import{u as K}from"./useSetTitle-af187b21.js";import{D as Q,L as W}from"./DeleteView-1777004f.js";import{T as X}from"./Tabs-ce5d62fa.js";import{B as Z,C as T}from"./BottomErrorCard-b5de6692.js";import{u as V}from"./formik.esm-3439c16f.js";import"./index-bfc4d799.js";import"./index-b7a813c7.js";import"./Link-e387959a.js";import"./hoist-non-react-statics.cjs-2a623d8a.js";function fe(){var C;const[v,S]=c.useState([]),[N,ee]=c.useState(!0),[L,d]=c.useState(!1),[g,p]=c.useState(!1),[H,A]=c.useState(null),[M,E]=c.useState(null),[D,h]=c.useState(!1),[w,b]=c.useState(!1),[_,B]=c.useState(),[s,k]=c.useState(),{api_fetchClassFeeList:Y,api_deleteClassFeeById:I,api_getClassFeeById:J,api_searchClassFeeList:P}=$(),y=R();K("Fee Head Type Master");const o=[{id:1,fee_head_type:10,is_annual:"Yes",is_optional:"No",is_latefee_applicable:"No"},{id:2,fee_head_type:10,is_annual:"No",is_optional:"Yes",is_latefee_applicable:"Yes"},{id:3,fee_head_type:10,is_annual:"Yes",is_optional:"No",is_latefee_applicable:"Yes"},{id:4,fee_head_type:10,is_annual:"No",is_optional:"Yes",is_latefee_applicable:"Yes"},{id:5,fee_head_type:10,is_annual:"Yes",is_optional:"No",is_latefee_applicable:"No"}],F=V({initialValues:{search:""},onSubmit:(t,i)=>{console.log("at submit ",t),f(t)}}),O=[{Header:"Sl No.",Cell:({cell:t})=>e.jsx("span",{children:a(t.row.index+1)})},{Header:"Class",accessor:"class_name"},{Header:"Section",accessor:"section_name"},{Header:"Head Type",accessor:"fee_head_type",Cell:({cell:t})=>e.jsx("span",{children:a(t.row.original.fee_head_type)})},{Header:"Fee Head",accessor:"fee_head",Cell:({cell:t})=>e.jsx("span",{children:a(t.row.original.fee_head)})},{Header:"Fee Amount",accessor:"fee_amount",Cell:({cell:t})=>e.jsx("span",{children:a(t.row.original.fee_amount)})},{Header:"Discount %",accessor:"discount",Cell:({cell:t})=>e.jsxs("span",{children:[" ",a(t.row.original.discount)]})},{Header:"Net Fee",accessor:"net_fee",Cell:({cell:t})=>e.jsx("span",{children:a(t.row.original.net_fee)})},{Header:"Created Date",accessor:"date",Cell:({cell:t})=>e.jsx("span",{children:a(t.row.original.date)})},{Header:"Created Time",accessor:"time",Cell:({cell:t})=>e.jsx("span",{children:a(t.row.original.date)})},{Header:"Status",Cell:({cell:t})=>{var i,l;return e.jsx("span",{className:((i=t.row.original)==null?void 0:i.status)==="Active"?"text-[green]":"text-[red]",children:a((l=t.row.original)==null?void 0:l.status)})}},{Header:"Action",Cell:({cell:t})=>{var i,l;return e.jsxs("div",{className:"flex",children:[e.jsx("button",{onClick:()=>{var r;return y(`/classfee-master-form/${(r=t.row.original)==null?void 0:r.id}`)},className:"edit-button-master",children:"Edit"}),e.jsx("button",{onClick:()=>{var r,n;E((r=t.row.original)==null?void 0:r.id),B(((n=t.row.original)==null?void 0:n.status)==="Active"?"deactive":"active"),h(!0)},className:`${((i=t.row.original)==null?void 0:i.status)=="Active"?"deactivate-button-master":"deactivate-second-button-master"}`,children:((l=t.row.original)==null?void 0:l.status)==="Active"?"Deactivate":"Activate"}),e.jsx("button",{onClick:()=>{var r;return z((r=t.row.original)==null?void 0:r.id)},className:"view-button-master",children:"View"})]})}}],q=()=>{d(!0),h(!1);let t={id:M,status:_};u.post(I,t,j()).then(function(i){var l,r;console.log("delete response..",(l=i==null?void 0:i.data)==null?void 0:l.data),(r=i==null?void 0:i.data)!=null&&r.status?f():x(!0,"Error occured in deletion."),d(!1)}).catch(function(i){console.log("==delete error...",i),x(!0,"Error occured in deletion."),d(!1)})},f=(t=null)=>{let i,l;t===null?(l={},i=Y):(l={search:t==null?void 0:t.search},i=P),d(!0),u.post(i,l,j()).then(function(r){var n,m;(n=r==null?void 0:r.data)!=null&&n.status?S((m=r==null?void 0:r.data)==null?void 0:m.data):x(!0,"Error occured while fetching data."),d(!1)}).catch(function(r){console.log("==2 error list...",r),x(!0,"Error occured while fetching data."),d(!1)})},z=t=>{d(!0);let i={id:t};u.post(J,i,j()).then(function(l){var r,n,m;console.log("fetch fee master view data response..",(r=l==null?void 0:l.data)==null?void 0:r.data),(n=l==null?void 0:l.data)!=null&&n.status?(k((m=l==null?void 0:l.data)==null?void 0:m.data),b(!0)):x(!0,"Error occured in submitting deactivation application. Please try again later."),d(!1)}).catch(function(l){console.log("= edit data error...",l),p(!0),d(!1)})};c.useEffect(()=>{f()},[]);const x=(t,i)=>{A(i),p(t)};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"main-div",children:e.jsxs("div",{className:"main-inner-div",children:[L&&e.jsx(G,{}),g&&e.jsx(Z,{activateBottomErrorCard:x,errorTitle:H}),g&&e.jsxs("div",{className:"alert-msg",role:"alert",children:[e.jsx("strong",{className:"sorry-msg",children:"Sorry! "}),e.jsx("span",{className:"some-error-msg",children:"Some error occured while fetching list. Please try again later"}),e.jsx("span",{className:"absolute-span"})]}),D&&e.jsx(Q,{setdeleteStatus:h,deleteItem:q,deactivate:_}),w&&e.jsx(T,{children:e.jsxs("div",{className:"w-full bg-[#ddf8f6] shadow-xl mb-6 relative",children:[e.jsx("button",{onClick:()=>b(!1),type:"button",class:"absolute top-3 right-10 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center darks:hover:bg-gray-800 darks:hover:text-white",children:e.jsx("svg",{class:"w-5 h-5",fill:"currentColor",children:e.jsx("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})})}),e.jsxs("div",{className:"py-6 mt-2 rounded-lg shadow-lg p-4",children:[e.jsx("div",{className:"font-semibold text-lg px-2 mb-5 text-[#1d807b]",children:"# School Fee"}),e.jsxs("div",{className:"flex flex-col md:flex-row space-y-2 md:space-x-5 pl-4 ",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold text-sm",children:a(s==null?void 0:s.class_name)}),e.jsx("div",{className:"text-gray-500 text-xs",children:"Class"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold text-sm",children:a(s==null?void 0:s.fee_head)}),e.jsx("div",{className:"text-gray-500 text-xs",children:"Fee Head"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold text-sm",children:a(s==null?void 0:s.fee_amount)}),e.jsx("div",{className:"text-gray-500 text-xs",children:"Fee Amount"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold text-sm",children:a(s==null?void 0:s.discount)}),e.jsx("div",{className:"text-gray-500 text-xs",children:"Discount"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold text-sm",children:a(s==null?void 0:s.net_fee)}),e.jsx("div",{className:"text-gray-500 text-xs",children:"Net Fee"})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row space-y-2 md:space-x-10  pl-4 mt-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold text-sm",children:a(s==null?void 0:s.jan_fee)}),e.jsx("div",{className:"text-gray-500 text-xs",children:"January Fee"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold text-sm",children:a(s==null?void 0:s.feb_fee)}),e.jsx("div",{className:"text-gray-500 text-xs",children:"February Fee"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold text-sm",children:a(s==null?void 0:s.mar_fee)}),e.jsx("div",{className:"text-gray-500 text-xs",children:"March Fee"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold text-sm",children:a(s==null?void 0:s.apr_fee)}),e.jsx("div",{className:"text-gray-500 text-xs",children:"April Fee"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold text-sm",children:a(s==null?void 0:s.may_fee)}),e.jsx("div",{className:"text-gray-500 text-xs",children:"May Fee"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold text-sm",children:a(s==null?void 0:s.jun_fee)}),e.jsx("div",{className:"text-gray-500 text-xs",children:"June Fee"})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row space-y-2 md:space-x-10  pl-4 mt-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold text-sm",children:a(s==null?void 0:s.jul_fee)}),e.jsx("div",{className:"text-gray-500 text-xs",children:"July Fee"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold text-sm",children:a(s==null?void 0:s.aug_fee)}),e.jsx("div",{className:"text-gray-500 text-xs",children:"August Fee"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold text-sm",children:a(s==null?void 0:s.sep_fee)}),e.jsx("div",{className:"text-gray-500 text-xs",children:"September Fee"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold text-sm",children:a(s==null?void 0:s.oct_fee)}),e.jsx("div",{className:"text-gray-500 text-xs",children:"October Fee"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold text-sm",children:a(s==null?void 0:s.nov_fee)}),e.jsx("div",{className:"text-gray-500 text-xs",children:"November Fee"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold text-sm",children:a(s==null?void 0:s.dec_fee)}),e.jsx("div",{className:"text-gray-500 text-xs",children:"December Fee"})]})]})]})]})}),e.jsxs("div",{className:"main-sub-div",children:[e.jsx("div",{className:"main-sub-inner-div",children:e.jsxs("div",{className:"text-div",children:[e.jsx("div",{className:"big-text",children:"Class Fee Master List"}),e.jsx("div",{className:"small-text",children:"Unlock Your Potential. Join Our Journey Of Education And Excellence"})]})}),e.jsx("div",{className:"tab-div",children:e.jsxs("div",{className:"global-filter-div",children:[e.jsx("form",{onSubmit:F.handleSubmit,children:e.jsxs("div",{className:"global-filter flex",children:[e.jsx("input",{type:"search",placeholder:"Search...",...F.getFieldProps("search"),className:"bg-[#F2F4F4] h-10 pl-4 "}),e.jsx("button",{className:"bg-[#3b82f6] w-14 max-[320px]:w-8 h-10 rounded-r-[5px] flex items-center justify-center text-white",type:"submit",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"h-5 w-5 ",children:e.jsx("path",{"fill-rule":"evenodd",d:"M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z","clip-rule":"evenodd"})})})," "]})}),e.jsx("div",{className:"hiplus-div",children:e.jsx("button",{onClick:()=>y("/classfee-master-form"),type:"button",className:"hiplus-button",children:e.jsx(U,{className:"hiplus"})})})]})})]}),e.jsx(X,{listRoute:"/classfee-master",formRoute:"/classfee-master-form"}),e.jsx("div",{className:"mt-6",children:e.jsxs("span",{className:"lists",children:[" Class Fee Master List  (",(C=v[0])==null?void 0:C.academic_year,")"]})}),N&&(o==null?void 0:o.length)!=0&&e.jsx(W,{filter:!1,exportStatus:!1,assessmentType:!1,columns:O,dataList:v}),N&&(o==null?void 0:o.length)==0&&e.jsx("div",{className:"data-not-found",children:"Data Not Found"})]})})})}export{fe as default};
