import{r as m,u as A,a as D,C as L,j as t}from"./index-0cd5b1c8.js";import{u as q}from"./formik.esm-59936898.js";import{c as M,a as R}from"./index.esm-2daf9377.js";import{d as $}from"./PowerupFunctions-8adc749f.js";import{A as h,a as g,b as P}from"./AxiosInterceptors-d192cef8.js";import{B as I}from"./BottomErrorCard-5e21225b.js";import{T as O}from"./Tabs-58ad7c2a.js";import"./hoist-non-react-statics.cjs-ef0c9066.js";function Q(){const[v,x]=m.useState(!1),[N,j]=m.useState(null),[V,d]=m.useState(!1),[G,T]=m.useState([]),{api_getteachingtitleData:y,api_postteachingtitleData:E,api_editteachingtitleData:S,api_getteachingtitleDataById:p}=P(),u=A(),{id:r}=D(),w=M({teachingTitleName:R().matches(L,"Please Enter value between A-Z to a-z").required("Teaching title is required feild")}),c=q({initialValues:{teachingTitleName:""},onSubmit:(a,e)=>{console.log("at submit ",a),B(a)},validationSchema:w}),B=a=>{d(!0);let e,l,s={teachingTitleName:a.teachingTitleName};r!==void 0?(e=S,l=s,l.id=r):(e=E,l=s),h.post(e,l,g()).then(function(i){var o,f,b;console.log("teaching title master..",(o=i==null?void 0:i.data)==null?void 0:o.data),((f=i==null?void 0:i.data)==null?void 0:f.status)===!0?u("/teaching-title"):n(!0,`${(b=i==null?void 0:i.data)==null?void 0:b.message}`),d(!1)}).catch(function(i){console.log("==2 error list...",i),n(!0,"Error occured in submitting form."),d(!1)})},C=()=>{d(!0);let a={id:r};h.post(p,a,g()).then(function(e){var l,s,i,o;console.log("fetch edit data response..",(l=e==null?void 0:e.data)==null?void 0:l.data),(s=e==null?void 0:e.data)!=null&&s.status?F((i=e==null?void 0:e.data)==null?void 0:i.data):n(!0,`${(o=e==null?void 0:e.data)==null?void 0:o.message}`),d(!1)}).catch(function(e){console.log("= edit data error...",e),x(!0),d(!1)})},F=a=>{console.log("existing property details in prop address...",a),c.setFieldValue("teachingTitleName",a==null?void 0:a.teaching_title_name)},_=()=>{h.post(y,{},g()).then(function(a){var e,l,s;(e=a==null?void 0:a.data)!=null&&e.status?T((l=a==null?void 0:a.data)==null?void 0:l.data):n(!0,`${(s=a==null?void 0:a.data)==null?void 0:s.message}`),d(!1)}).catch(function(a){console.log("==2 error list...",a),n(!0,"Error occured while fetching data.")})};m.useEffect(()=>{_(),r!==void 0&&C()},[]);const k=a=>{let e=a.target.name,l=a.target.value;e=="teachingTitleName"&&c.setFieldValue("teachingTitleName",$(l,c.values.teachingTitleName,50))},n=(a,e)=>{j(e),x(a)};return t.jsx(t.Fragment,{children:t.jsx("div",{className:"main-div",children:t.jsxs("div",{className:"main-inner-div",children:[v&&t.jsx(I,{activateBottomErrorCard:n,errorTitle:N}),t.jsxs("div",{className:"main-sub-div",children:[t.jsx("div",{className:"main-sub-inner-div",children:t.jsxs("div",{className:"text-div",children:[t.jsx("div",{className:"big-text",children:"Teaching Type Master Form"}),t.jsx("div",{className:"small-text",children:"Unlock Your Potential. Join Our Journey Of Education And Excellence"})]})}),r===void 0?t.jsx("div",{className:"tab-div",children:t.jsx("div",{className:"add-button-master-div",children:t.jsxs("button",{onClick:()=>u("/teaching-title-form"),type:"submit",className:" add-button-master",children:["Add"," "]})})}):null]}),r!==void 0?"":t.jsx(O,{listRoute:"/teaching-title",formRoute:"/teaching-title-form"}),t.jsx("div",{className:"details-div",children:t.jsx("span",{className:"detailes",children:"Details of Teaching Type"})}),t.jsx("div",{className:"form-div",children:t.jsx("form",{onSubmit:c.handleSubmit,onChange:k,children:t.jsxs("div",{className:"form",children:[t.jsx("div",{className:"col-span-4 grid grid-cols-12",children:t.jsxs("div",{className:"form-group mb-6 col-span-12 md:col-span-2 md:pr-4",children:[t.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Teaching Title",t.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),t.jsx("input",{...c.getFieldProps("teachingTitleName"),type:"text",className:"form-control h-10 block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",placeholder:"Enter teaching title"}),t.jsx("span",{className:"text-red-600 text-xs",children:c.touched.teachingTitleName&&c.errors.teachingTitleName?c.errors.teachingTitleName:null})]})}),t.jsxs("div",{className:"cancel-button-div",children:[t.jsx("div",{className:"    ",children:t.jsx("button",{onClick:()=>u("/teaching-title"),type:"button",className:" px-6 py-2.5 bg-gray-200 hover:bg-gray-400 text-gray-700 font-medium text-xs leading-tight uppercase rounded shadow-md hover:shadow-lg  active:shadow-lg transition duration-150 ease-in-out",children:"Back to List"})}),t.jsx("div",{className:"submit-button-div",children:t.jsx("button",{type:"submit",className:" cypress_next2_button submit-button",children:r!==void 0?"Update":"Save"})})]})]})})})]})})})}export{Q as default};
