import{u as se,r,j as e,S as h}from"./index-ab416760.js";import{a as ae}from"./index-b7a813c7.js";import{E as le,P as re,T as ie,C as ce,L as A,a as F,D as L,b as I,c as P,R as Y,d as xe}from"./left-37515d11.js";import{A as $,a as O,b as de}from"./AxiosInterceptors-f843a74a.js";import{B as ne}from"./BarLoader-c0a4518a.js";import{n as s}from"./PowerupFunctions-83be0856.js";import{B as oe}from"./BottomErrorCard-b5de6692.js";import"./Link-e387959a.js";import"./typeof-7fd5df1e.js";function ke(){const x=se(),[u,G]=r.useState(),[g,N]=r.useState(!0),[j,M]=r.useState(""),[p,b]=r.useState([]),[v,R]=r.useState(!1),[J,d]=r.useState(!1),[U,W]=r.useState(!1),[q,H]=r.useState(null);r.useState(null);const[me,K]=r.useState(!1),{api_addEmployeeData:fe,api_editEmployeeData:he,api_deleteEmployeeData:z,api_getEmployeeData:Q,api_getEmployeeDataById:ue}=de();r.useRef();const[o,X]=r.useState([]),[i,E]=r.useState(1),[n,je]=r.useState(10),C=()=>{d(!0),$.post(Q,{},O()).then(function(t){var a,l,y,c;console.log("view Employee Data..",(a=t==null?void 0:t.data)==null?void 0:a.data),((l=t==null?void 0:t.data)==null?void 0:l.status)===!0?(G((y=t==null?void 0:t.data)==null?void 0:y.data),X((c=t==null?void 0:t.data)==null?void 0:c.data)):f(!0,"Error occured while fetching data."),d(!1)}).catch(function(t){console.log("==2 error list...",t),f(!0,"Error occured while fetching data."),d(!1)})};r.useEffect(()=>{C()},[]);const k=i*n,Z=k-n,w=o.slice(Z,k),m=Math.ceil((o==null?void 0:o.length)/n);for(let t=1;t<=Math.ceil(o.length/n);t++);const _=()=>{i!==1&&E(i-1)},D=()=>{i!==m&&E(i+1)},V=[{title:"Emp No",feild:"empNo"},{title:"Name",feild:"full_name"},{title:"Gender",feild:"gender_name"},{title:"Category",feild:"category_name"},{title:"DOB",feild:"dob"},{title:"DOJ",feild:"doj"},{title:"Mobile",feild:"mobile"},{title:"Email",feild:"email"},{title:"Blood Group",feild:"blood_group_name"},{title:"Department",feild:"department_name"}],ee=()=>{const t=new xe;t.text("Employee Details",10,10),t.autoTable({theme:"grid",columns:V.map(a=>({...a,dataKey:a.feild})),body:u}),t.save("employee.pdf")},te=t=>{if(M(t),j!==""){const a=u.filter(l=>Object.values(l).join("").toLowerCase().includes(j.toLowerCase()));b(a)}else b(u)},B=t=>{h.fire({icon:"warning",title:"Are you sure to delete?",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel!"}).then(l=>{l.value&&a(t)});const a=l=>{d(!0),K(!1);let y={id:l,status:"deactive"};$.post(z,y,O()).then(function(c){var S,T;console.log("delete response..",(S=c==null?void 0:c.data)==null?void 0:S.data),((T=c==null?void 0:c.data)==null?void 0:T.status)===!0?C():f(!0,"Error occured in deletion."),d(!1)}).catch(function(c){console.log("==delete error...",c),f(!0,"Error occured in deletion."),d(!1)})}},f=(t,a)=>{H(a),W(t)};return e.jsxs(e.Fragment,{children:[J&&e.jsx(ne,{}),U&&e.jsx(oe,{activateBottomErrorCard:f,errorTitle:q}),e.jsx("div",{className:"bg-white h-[80vh] overflow-auto  flex  justify-center",children:e.jsxs("div",{className:"block w-full mx-[10px]",children:[e.jsxs("div",{className:"flex  max-[694px]:block",children:[e.jsx("div",{className:"flex w-full items-start justify-start ml-5 mt-5",children:e.jsxs("div",{className:"block w-full",children:[e.jsx("h1",{className:"text-4xl font-semibold text-gray-700 flex justify-start w-full ",children:"Employee List"}),e.jsx("h1",{className:"text-gray-600 flex justify-start text-sm w-full",children:"Unlock Your Potential. Join Our Journey Of Education And Excellence"})]})}),e.jsx("div",{className:"flex items-end justify-end w-full",children:e.jsxs("a",{title:"Add Employees",children:[" ",e.jsx("button",{type:"submit",className:"text-black text-[2.2vh] bg-[#fde047] font-bold py-[5px] px-[10px] rounded-[5px] h-[40px] w-[100px] flex items-center mr-2 justify-center ",onClick:()=>{x("/employee/number")},children:"+ ADD"})]})})]}),e.jsxs("div",{className:"flex float-right mt-2",children:[e.jsx("a",{title:"Download CSV",children:e.jsx("img",{src:le,onClick:()=>R(!v),className:"  font-bold  mr-4 w-17 h-17 "})}),v&&e.jsx(ae,{data:u,target:"_blank"}),e.jsx("a",{title:"Download PDF",children:e.jsx("img",{src:re,className:"  font-bold  w-17 h-17",onClick:ee})})]}),e.jsx("div",{className:"block  py-2",children:e.jsx("div",{className:"w-auto mt-[10vh] h-[70vh] overflow-y-auto overflow-x-hidden flex pt-[3vh]  pr-[3vh] bg-white max-[1024px]:overflow-auto  max-[768px]:w-[95%] max-[425px]:overflow-auto mr-2",children:e.jsxs("div",{className:"block w-full mt-[-20px]",children:[e.jsxs("div",{className:"flex items-center text-[2.4vh] justify-end mr-4 mb-[10px] max-[918px]:block",children:[e.jsx("div",{className:"float-left w-full flex ml-4 max-[918px]:ml-0",children:e.jsxs("div",{className:"ml-5",children:[" ",e.jsx("h1",{className:"font-bold text-gray-500",children:"List Of Employee"})]})}),e.jsxs("div",{className:"items-center float-left  flex mr-4 max-[618px]:ml-4",children:[e.jsx("div",{className:"flex w-full mr-4",children:e.jsx("div",{className:`${g?" text-[#4ade80]":""}`,children:e.jsx("h1",{onClick:()=>N(!0),children:e.jsx("a",{title:"List View",children:e.jsx("img",{src:ie,alt:"table",className:"w-8 h-8"})})})})}),e.jsx("div",{className:"flex w-full",children:e.jsxs("div",{className:`${g?"":" text-[#4ade80]"}`,children:[" ",e.jsx("h2",{onClick:()=>N(!1),children:e.jsx("a",{title:"Card View",children:e.jsx("img",{src:ce,alt:"card",className:"w-14 h-10"})})})]})})]}),e.jsx("input",{placeholder:"search...",onChange:t=>te(t.target.value),className:"ml-2 bg-white border border-[gainsboro] pl-[10px] rounded-[5px] h-10 max-[618px]:w-full"})]}),e.jsx("div",{className:"ml-4 mb-4",children:e.jsx("hr",{className:" border-b-2"})}),g?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"w-full h-[60vh] block   ",children:[e.jsxs("table",{className:"w-full mx-4 my-1   border-b border-b-gray overflow-auto max-[1000px]:w-[100vh] max-[1000px]:relative max-[1000px]:overflow-auto",children:[e.jsx("thead",{className:" text-gray-600 bg-[#E7EFFC] text-[1.7vh] p-12 w-full border-b border-b-gray h-[6vh] ",children:e.jsxs("tr",{className:"py-2 pl-4 w-full flex items-start justify-start text-left",children:[e.jsx("th",{className:"w-[100%]"}),e.jsx("th",{className:"w-[100%]",children:"Sl no."}),e.jsx("th",{className:"w-[100%] flex items-start justify-start",children:"Emp ID"}),e.jsx("th",{className:"w-[100%] flex items-start justify-start",children:"Full Name"}),e.jsx("th",{className:"w-[100%] flex items-start justify-start",children:"Gender"}),e.jsx("th",{className:"w-[100%] flex items-start justify-start",children:"Category"}),e.jsx("th",{className:"w-[100%] flex items-start justify-start ",children:"Department"}),e.jsx("th",{className:"w-[100%] flex items-start justify-start ",children:"Blood Group"}),e.jsx("th",{className:"w-[100%] flex items-start justify-start",children:"DOB"}),e.jsx("th",{className:"w-[100%] flex items-start justify-start",children:"DOJ"}),e.jsx("th",{className:"w-[100%] flex items-start justify-start",children:"Mobile"}),e.jsx("th",{className:"w-[100%] flex items-start justify-start",children:"Email"}),e.jsx("th",{className:"w-[100%] flex items-center justify-center pr-1 mr-[2vh]",children:"Action"})]})}),e.jsx("tbody",{children:j.length>1?p&&p.map((t,a)=>e.jsx(e.Fragment,{children:e.jsxs("tr",{className:"py-2 pl-4 w-full text-[2vh] flex items-center justify-center text-[#696969] text-left verdana even:bg-gray-100",children:[e.jsx("td",{className:"w-[100%] flex items-start justify-start text-[1.5vh]",children:e.jsx("img",{src:A,className:"w-6 h-6"})}),e.jsx("td",{className:"w-[100%] flex items-start justify-start text-[1.5vh]  px-1",children:s((i-1)*n+a+1)}),e.jsx("td",{className:"w-[100%] flex items-start justify-start  px-1",children:s(t.emp_no)}),e.jsx("td",{className:"w-[100%] flex items-start justify-start  px-1",children:s(t.full_name)}),e.jsx("td",{className:"w-[100%] flex items-start justify-start  px-1",children:s(t.gender_name)}),e.jsx("td",{className:"w-[100%] flex items-start justify-start  px-1",children:s(t.category_name)}),e.jsx("td",{className:"w-[100%] flex items-start justify-start  px-1",children:s(t.department_name)}),e.jsx("td",{className:"w-[100%] flex items-center justify-center   px-1",children:s(t.blood_group_name)}),e.jsx("td",{className:"w-[100%] flex items-start justify-start  px-1",children:s(t.dob)}),e.jsx("td",{className:"w-[100%] flex items-start justify-start  px-1",children:s(t.doj)}),e.jsx("td",{className:"w-[100%] flex items-start justify-start  px-1",children:s(t.mobile)}),e.jsx("td",{className:"w-[100%] flex items-start justify-start  px-1",children:t.email}),e.jsxs("td",{className:" w-[100%] flex items-end justify-end pr-1 mr-[2vh]",children:[e.jsx("a",{title:"Edit",children:e.jsx("img",{src:F,className:"mr-2 text-indigo-600  hover:text-gray-500 w-6 h-6",onClick:()=>{h.fire({icon:"warning",title:"Are you sure?",text:"You want to update it!",showCancelButton:!0,confirmButtonText:"Yes, update it!",cancelButtonText:"No, cancel!"}).then(l=>{l.value&&x(`/editstep-form/${t.id}`)})}})}),e.jsx("a",{title:"Delete",children:e.jsx("img",{src:L,className:" text-red-600 hover:text-gray-500 mr-2 w-6 h-6",onClick:()=>B(t.id)})}),e.jsx("a",{title:"View",children:e.jsx("img",{src:I,className:"text-[#06b6d4] hover:text-gray-500 w-6 h-6",onClick:()=>x(`/viewstep-form/${t.id}`)})})]})]})})):w&&w.map((t,a)=>e.jsx(e.Fragment,{children:e.jsxs("tr",{className:"py-2 pl-4 w-full text-[2vh] flex items-center justify-center text-[#696969] text-left verdana even:bg-gray-100 border-b border-gray-b",children:[e.jsx("td",{className:"w-[100%] flex items-start justify-start text-[2.2vh]",children:e.jsx("img",{src:A,className:"w-6 h-6 hover:border-2 hover:border-[#4338ca]"})}),e.jsx("td",{className:"w-[100%] flex items-start justify-start text-[2.2vh]  px-1",children:s((i-1)*n+a+1)}),e.jsx("td",{className:"w-[100%] flex items-start justify-start  px-1",children:s(t.emp_no)}),e.jsx("td",{className:"w-[100%] flex items-start justify-start  px-1",children:s(t.full_name)}),e.jsx("td",{className:"w-[100%] flex items-start justify-start  px-1",children:s(t.gender_name)}),e.jsx("td",{className:"w-[100%] flex items-start justify-start  px-1",children:s(t.category_name)}),e.jsx("td",{className:"w-[100%] flex items-start justify-start  px-1",children:s(t.department_name)}),e.jsx("td",{className:"w-[100%] flex items-start justify-start  px-1",children:s(t.blood_group_name)}),e.jsx("td",{className:"w-[100%] flex items-start justify-start  px-1",children:s(t.dob)}),e.jsx("td",{className:"w-[100%] flex items-start justify-start  px-1",children:s(t.doj)}),e.jsx("td",{className:"w-[100%] flex items-start justify-start  px-1",children:s(t.mobile)}),e.jsx("td",{className:"w-[100%] flex items-start justify-start  px-1",children:s(t.email)}),e.jsxs("td",{className:" w-[100%] flex items-end justify-end pr-1 mr-[2vh] ",children:[e.jsx("a",{title:"Edit",children:e.jsx("img",{src:F,className:"mr-2 text-indigo-600  hover:text-gray-500 w-6 h-6",onClick:()=>{h.fire({icon:"warning",title:"Are you sure?",text:"You want to update it!",showCancelButton:!0,confirmButtonText:"Yes, update it!",cancelButtonText:"No, cancel!"}).then(l=>{l.value&&x(`/editstep-form/${t.id}`)})}})}),e.jsx("a",{title:"Delete",children:e.jsx("img",{src:L,className:" text-red-600 hover:text-gray-500 mr-2 w-6 h-6",onClick:()=>B(t.id)})}),e.jsx("a",{title:"View",children:e.jsx("img",{src:I,className:"text-[#06b6d4] hover:text-gray-500 w-6 h-6",onClick:()=>x(`/viewstep-form/${t.id}`)})})]})]})}))})]}),e.jsxs("div",{className:"flex justify-between mt-10 ",children:[e.jsxs("div",{className:"ml-10",children:[" ","Page ",i," to ",m," "]}),e.jsxs("div",{className:"flex float-right",children:[e.jsx("img",{src:P,className:i===1?"opacity-50 mr-2":"opacity-100 mr-2",onClick:_}),e.jsx("img",{src:Y,onClick:D,className:i===m?"opacity-50":"opacity-100"})]})]})]})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"block",children:[e.jsx("div",{className:"w-full h-auto mx-4 inline-grid grid-cols-5 gap-1 ",children:j.length>1?p&&p.map((t,a)=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:" w-full border my-2  h-auto block border-gray-100 shadow-md rounded-[5px] bg-white",children:[e.jsx("div",{className:"my-2 h-[17vh] flex items-center justify-center w-full",children:e.jsx("img",{src:t.upload_images,alt:"Generic placeholder image",className:"w-[130px] height-[130px] rounded-full "})}),e.jsxs("div",{className:"block items-center justify-center w-full",children:[e.jsx("h1",{className:"font-bold",children:s(t.full_name)}),e.jsx("h1",{children:s(t.email)}),e.jsx("h1",{children:s(t.dob)})]}),e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("button",{type:"submit",className:" hover:border-[gainsboro]  max-[1260px]:px-1 max-[840px]:mx-1  hover:text-gray-500  text-[2vh]  w-full py-[5px] px-[25px]  border  mx-[8px] mt-[20px] mb-[10px] text-indigo-600 border-indigo-600 bg-white",onClick:()=>{h.fire({icon:"warning",title:"Are you sure?",text:"You want to update it!",showCancelButton:!0,confirmButtonText:"Yes, update it!",cancelButtonText:"No, cancel!"}).then(l=>{l.value&&x(`/editstep-form/${t.id}`)})},children:"EDIT"}),e.jsx("button",{type:"submit",className:"hover:border-[gainsboro]  max-[1260px]:px-1 max-[840px]:mx-1  hover:text-gray-500 text-[2vh] w-full  border py-[5px] px-[25px]  mx-[8px] mt-[20px] mb-[10px] text-[#22d3ee] border-[#22d3ee] bg-white",onClick:()=>x(`/viewstep-form/${t.id}`),children:"VIEW"})," "]})]})," "]})):w&&w.map((t,a)=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:" w-full my-2  border  h-auto block border-gray-100 shadow-md  rounded-[5px] bg-white",children:[e.jsx("div",{className:"my-2 h-[15vh] flex items-center justify-center w-full",children:e.jsx("img",{src:t.upload_images,alt:"Generic placeholder image",className:"w-[150px] height-[150px] rounded-full "})}),e.jsxs("div",{className:"block items-center justify-center w-full",children:[e.jsx("h1",{className:"font-bold",children:s(t.full_name)}),e.jsx("h1",{children:s(t.email)}),e.jsx("h1",{children:s(t.dob)})]}),e.jsxs("div",{className:"flex w-full ",children:[e.jsx("button",{className:"text-[2vh] max-[1260px]:px-1 max-[840px]:mx-1 w-full py-[5px] px-[25px]  border  mx-[8px] mt-[20px] mb-[10px] text-indigo-600 border-indigo-600 bg-white hover:border-[gainsboro] hover:text-gray-500",onClick:()=>{h.fire({icon:"warning",title:"Are you sure?",text:"You want to update it!",showCancelButton:!0,confirmButtonText:"Yes, update it!",cancelButtonText:"No, cancel!"}).then(l=>{l.value&&x(`/editstep-form/${t.id}`)})},children:"EDIT"}),e.jsx("button",{className:"text-[2vh] max-[1260px]:px-1 max-[840px]:mx-1 w-full  border py-[5px] px-[25px]  mx-[8px] mt-[20px] mb-[10px] text-[#22d3ee] border-[#22d3ee] bg-white hover:border-[gainsboro] hover:text-gray-500",onClick:()=>x(`/viewstep-form/${t.id}`),children:"VIEW"})," "]})]})}))}),e.jsxs("div",{className:"flex justify-between mt-10 ",children:[e.jsxs("div",{className:"ml-10",children:[" ","Page ",i," to ",m," "]}),e.jsxs("div",{className:"flex float-right",children:[e.jsx("img",{src:P,className:i===1?"opacity-50 mr-2":"opacity-100 mr-2",onClick:_}),e.jsx("img",{src:Y,onClick:D,className:i===m?"opacity-50":"opacity-100"})]})]})]})})]})})})]})})]})}export{ke as default};
