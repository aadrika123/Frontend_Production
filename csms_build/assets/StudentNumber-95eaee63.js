import{u as lt,r as l,j as t,S as j,A as F,a as P,b as rt}from"./index-3941a546.js";import{C as nt}from"./index-e1c4c483.js";import{E as dt}from"./jspdf.plugin.autotable-2f7e7c6a.js";import{B as ot}from"./BarLoader-5e24b4d4.js";import{n as s}from"./PowerupFunctions-d2a7455a.js";import{B as xt}from"./BottomErrorCard-b06e7e18.js";import{s as ct}from"./studentModal-57fc64af.js";import{C as mt,D as I,E as Y}from"./image 44-32519075.js";import{E as ft,P as jt,T as ht,a as $,L as M,R as O}from"./left-c24e9a90.js";import{L as R}from"./image 37-ddb4d523.js";import"./Link-af3f82af.js";import"./typeof-7fd5df1e.js";import"./formik.esm-f1168841.js";import"./hoist-non-react-statics.cjs-39f77784.js";import"./index.esm-6cf26a62.js";function $t(){const d=lt(),[h,G]=l.useState([]),[y,N]=l.useState(!0),[u,J]=l.useState(""),[p,v]=l.useState([]),[C,U]=l.useState(!1),[W,o]=l.useState(!1),[q,H]=l.useState(!1),[K,z]=l.useState(null);l.useState(null);const[ut,Q]=l.useState(!1),[b,X]=l.useState(!0),_=()=>X(!b),{api_addEmployeeData:pt,api_editEmployeeData:wt,api_deleteEmployeeData:gt,api_getEmployeeData:yt,api_getEmployeeDataById:bt,api_retrieve_all_student:Z,api_masters_student_crud_delete:V}=rt();l.useRef();const[c,tt]=l.useState([]),[r,k]=l.useState(1),[x,Nt]=l.useState(10),E=()=>{o(!0),F.post(Z,{},P()).then(function(e){var i,a,g,n;console.log("view Employee Data..",(i=e==null?void 0:e.data)==null?void 0:i.data),((a=e==null?void 0:e.data)==null?void 0:a.status)===!0?(G((g=e==null?void 0:e.data)==null?void 0:g.data),tt((n=e==null?void 0:e.data)==null?void 0:n.data)):f(!0,"Error occured while fetching data."),o(!1)}).catch(function(e){console.log("==2 error list...",e),f(!0,"Error occured while fetching data."),o(!1)})};l.useEffect(()=>{E()},[]);const S=r*x,et=S-x,w=c.slice(et,S),m=Math.ceil((c==null?void 0:c.length)/x);for(let e=1;e<=Math.ceil(c.length/x);e++);const D=()=>{r!==1&&k(r-1)},B=()=>{r!==m&&k(r+1)},st=[{title:"Admission No",feild:"admission_no"},{title:"Name",feild:"full_name"},{title:"Class",feild:"class_name"},{title:"Category",feild:"category_name"},{title:"Section",feild:"section_name"},{title:"Admission date",feild:"admission_date"},{title:"DOB",feild:"dob"},{title:"Gender",feild:"gender_name"},{title:"Mobile",feild:"mobile"}],it=()=>{const e=new dt;e.text("Employee Details",10,10),e.autoTable({theme:"grid",columns:st.map(i=>({...i,dataKey:i.feild})),body:h}),e.save("employee.pdf")},at=e=>{if(J(e),u!==""){const i=h.filter(a=>Object.values(a).join("").toLowerCase().includes(u.toLowerCase()));v(i)}else v(h)},A=e=>{j.fire({icon:"warning",title:"Are you sure to deactivate ?",showCancelButton:!0,confirmButtonText:"Yes, deactivate it!",cancelButtonText:"No, cancel!"}).then(a=>{a.value&&i(e)});const i=a=>{o(!0),Q(!1);let g={id:a,status:"deactive"};F.post(V,g,P()).then(function(n){var T,L;console.log("delete response..",(T=n==null?void 0:n.data)==null?void 0:T.data),((L=n==null?void 0:n.data)==null?void 0:L.status)===!0?E():f(!0,"Error occured in deletion."),o(!1)}).catch(function(n){console.log("==delete error...",n),f(!0,"Error occured in deletion."),o(!1)})}},f=(e,i)=>{z(i),H(e)};return t.jsxs(t.Fragment,{children:[W&&t.jsx(ot,{}),q&&t.jsx(xt,{activateBottomErrorCard:f,errorTitle:K}),t.jsx("div",{className:"bg-white h-[80vh] overflow-auto  flex  justify-center",children:t.jsxs("div",{className:"block w-full mx-[10px]",children:[t.jsxs("div",{className:"flex  max-[694px]:block",children:[t.jsx("div",{className:"flex w-full items-start justify-start ml-5 mt-5",children:t.jsxs("div",{className:"block w-full",children:[t.jsx("h1",{className:"text-4xl font-semibold text-gray-700 flex justify-start w-full ",children:"Student List"}),t.jsx("h1",{className:"text-gray-600 flex justify-start text-sm w-full",children:"Unlock Your Potential. Join Our Journey Of Education And Excellence"})]})}),t.jsx("div",{className:"flex items-end justify-end w-full",children:t.jsxs("a",{title:"Add Employees",children:[" ",t.jsx("button",{type:"submit",className:"text-black text-[2.2vh] bg-[#fde047] font-bold py-[5px] px-[10px] rounded-[5px] h-[40px] w-[100px] flex items-center mr-2 justify-center ",onClick:()=>{_()},children:"+ ADD"}),b&&t.jsx(ct,{isOpen:b,toggle:_,Link:"/view-student-list"})]})})]}),t.jsxs("div",{className:"flex float-right mt-2",children:[t.jsx("a",{title:"Download CSV",children:t.jsx("img",{src:ft,onClick:()=>U(!C),className:"  font-bold  mr-4 w-17 h-17 "})}),C&&t.jsx(nt,{data:h,target:"_blank"}),t.jsx("a",{title:"Download PDF",children:t.jsx("img",{src:jt,className:"  font-bold  w-17 h-17",onClick:it})})]}),t.jsx("div",{className:"block  py-2",children:t.jsx("div",{className:"w-auto mt-[10vh] h-[70vh] overflow-y-auto overflow-x-hidden flex pt-[3vh]  pr-[3vh] bg-white max-[1024px]:overflow-auto  max-[768px]:w-[95%] max-[425px]:overflow-auto mr-2",children:t.jsxs("div",{className:"block w-full mt-[-20px]",children:[t.jsxs("div",{className:"flex items-center text-[2.4vh] justify-end mr-4 mb-[10px] max-[918px]:block",children:[t.jsx("div",{className:"float-left w-full flex ml-4 max-[918px]:ml-0",children:t.jsxs("div",{className:"ml-5",children:[" ",t.jsx("h1",{className:"font-bold text-gray-500",children:"List Of Student"})]})}),t.jsxs("div",{className:"items-center float-left  flex mr-4 max-[618px]:ml-4",children:[t.jsx("div",{className:"flex w-full mr-4",children:t.jsx("div",{className:`${y?" text-[#4ade80]":""}`,children:t.jsx("h1",{onClick:()=>N(!0),children:t.jsx("a",{title:"List View",children:t.jsx("img",{src:ht,alt:"table",className:"w-8 h-8"})})})})}),t.jsx("div",{className:"flex w-full",children:t.jsxs("div",{className:`${y?"":" text-[#4ade80]"}`,children:[" ",t.jsx("h2",{onClick:()=>N(!1),children:t.jsx("a",{title:"Card View",children:t.jsx("img",{src:mt,alt:"card",className:"w-14 h-10"})})})]})})]}),t.jsx("input",{placeholder:"search...",onChange:e=>at(e.target.value),className:"ml-2 bg-white border border-[gainsboro] pl-[10px] rounded-[5px] h-10 max-[618px]:w-full"})]}),t.jsx("div",{className:"ml-4 mb-4",children:t.jsx("hr",{className:" border-b-2"})}),y?t.jsx(t.Fragment,{children:t.jsxs("div",{className:"w-full h-[60vh] block   ",children:[t.jsxs("table",{className:"w-full mx-4 my-1   border-b border-b-gray overflow-auto max-[1000px]:w-[100vh] max-[1000px]:relative max-[1000px]:overflow-auto",children:[t.jsx("thead",{className:" text-gray-600 bg-[#E7EFFC] text-[1.7vh] p-12 w-full border-b border-b-gray h-[6vh] ",children:t.jsxs("tr",{className:"py-2 pl-4 w-full flex items-start justify-start text-left",children:[t.jsx("th",{className:"w-[100%]"}),t.jsx("th",{className:"w-[100%] flex items-start justify-start",children:"Sl no."}),t.jsx("th",{className:"w-[100%] flex items-start justify-start",children:"Admission no"}),t.jsx("th",{className:"w-[100%] flex items-start justify-start",children:"First name"}),t.jsx("th",{className:"w-[100%] flex items-start justify-start",children:"Class"}),t.jsx("th",{className:"w-[100%] flex items-start justify-start",children:"Category"}),t.jsx("th",{className:"w-[100%] flex items-start justify-start ",children:"Section"}),t.jsx("th",{className:"w-[100%] flex items-start justify-start ",children:"Admission date"}),t.jsx("th",{className:"w-[100%] flex items-start justify-start",children:"Gender"}),t.jsx("th",{className:"w-[100%] flex items-start justify-start",children:"Mobile"}),t.jsx("th",{className:"w-[100%] flex items-start justify-start",children:"Email"}),t.jsx("th",{className:"w-[100%] flex items-end justify-end pr-1 mr-[2vh]",children:"Action"})]})}),t.jsx("tbody",{children:u.length>1?p&&p.map((e,i)=>(console.log(e),t.jsx(t.Fragment,{children:t.jsxs("tr",{className:"py-2 pl-4 w-full text-[2vh] flex items-center justify-center text-[#696969] text-left verdana even:bg-gray-100 border-b border-gray-b",children:[t.jsx("td",{className:"w-[100%] flex items-start justify-start text-[2.2vh]",children:t.jsx("img",{src:R,className:"w-6 h-6 hover:border-2 hover:border-[#4338ca]"})}),t.jsx("td",{className:"w-[100%] flex items-start justify-start px-1",children:s((r-1)*x+i+1)}),t.jsx("td",{className:"w-[100%] flex items-start justify-start px-1",children:s(e==null?void 0:e.admission_no)}),t.jsx("td",{className:"w-[100%] flex items-start justify-start px-1",children:s(e==null?void 0:e.first_name)}),t.jsx("td",{className:"w-[100%] flex items-start justify-start px-1",children:s(e==null?void 0:e.class_name)}),t.jsx("td",{className:"w-[100%] flex items-start justify-start px-1",children:s(e==null?void 0:e.category_name)}),t.jsx("td",{className:"w-[100%] flex items-start justify-start px-1",children:s(e==null?void 0:e.section_name)}),t.jsx("td",{className:"w-[100%] flex items-start justify-start px-1",children:s(e==null?void 0:e.admission_date)}),t.jsx("td",{className:"w-[100%] flex items-start justify-start px-1",children:s(e==null?void 0:e.gender_name)}),t.jsx("td",{className:"w-[100%] flex items-start justify-start px-1",children:s(e==null?void 0:e.mobile)}),t.jsx("td",{className:"w-[100%] flex items-start justify-start px-1",children:s(e==null?void 0:e.email)}),t.jsxs("td",{className:" w-[100%] flex items-end justify-end pr-1 mr-[2vh] ",children:[t.jsx("a",{title:"Edit",children:t.jsx("img",{src:$,className:"mr-2 text-indigo-600  hover:text-gray-500 w-6 h-6",onClick:()=>{j.fire({icon:"warning",title:"Are you sure?",text:"You want to update it!",showCancelButton:!0,confirmButtonText:"Yes, update it!",cancelButtonText:"No, cancel!"}).then(a=>{a.value&&d(`/edit-student/${e==null?void 0:e.id}`)})}})}),t.jsx("a",{title:"Delete",children:t.jsx("img",{src:I,className:" text-red-600 hover:text-gray-500 mr-2 w-6 h-6",onClick:()=>A(e==null?void 0:e.id)})}),t.jsx("a",{title:"View",children:t.jsx("img",{src:Y,className:"text-[#06b6d4] hover:text-gray-500 w-6 h-6",onClick:()=>d(`/view-student-details/${e==null?void 0:e.id}`)})})]})]})}))):w&&w.map((e,i)=>t.jsx(t.Fragment,{children:t.jsxs("tr",{className:"py-2 pl-4 w-full text-[2vh] flex items-center justify-center text-[#696969] text-left verdana even:bg-gray-100 border-b border-gray-b",children:[t.jsx("td",{className:"w-[100%] flex items-start justify-start text-[2.2vh]",children:t.jsx("img",{src:R,className:"w-6 h-6 hover:border-2 hover:border-[#4338ca]"})}),t.jsx("td",{className:"w-[100%] flex items-start justify-start px-1",children:s((r-1)*x+i+1)}),t.jsx("td",{className:"w-[100%] flex items-start justify-start px-1",children:s(e.admission_no)}),t.jsx("td",{className:"w-[100%] flex items-start justify-start px-1",children:s(e.first_name)}),t.jsx("td",{className:"w-[100%] flex items-start justify-start px-1",children:s(e.class_name)}),t.jsx("td",{className:"w-[100%] flex items-start justify-start px-1",children:s(e.category_name)}),t.jsx("td",{className:"w-[100%] flex items-start justify-start px-1",children:s(e.section_name)}),t.jsx("td",{className:"w-[100%] flex items-start justify-start px-1",children:s(e.admission_date)}),t.jsx("td",{className:"w-[100%] flex items-start justify-start px-1",children:s(e.gender_name)}),t.jsx("td",{className:"w-[100%] flex items-start justify-start px-1",children:s(e.mobile)}),t.jsx("td",{className:"w-[100%] flex items-start justify-start px-1",children:s(e.email)}),t.jsxs("td",{className:" w-[100%] flex items-end justify-end pr-1 mr-[2vh] ",children:[t.jsx("a",{title:"Edit",children:t.jsx("img",{src:$,className:"mr-2 text-indigo-600  hover:text-gray-500 w-6 h-6",onClick:()=>{j.fire({icon:"warning",title:"Are you sure?",text:"You want to update it!",showCancelButton:!0,confirmButtonText:"Yes, update it!",cancelButtonText:"No, cancel!"}).then(a=>{a.value&&d(`/edit-student/${e==null?void 0:e.id}`)})}})}),t.jsx("a",{title:"Delete",children:t.jsx("img",{src:I,className:" text-red-600 hover:text-gray-500 mr-2 w-6 h-6",onClick:()=>A(e.id)})}),t.jsx("a",{title:"View",children:t.jsx("img",{src:Y,className:"text-[#06b6d4] hover:text-gray-500 w-6 h-6",onClick:()=>d(`/view-student-details/${e.id}`)})})]})]})}))})]}),t.jsxs("div",{className:"flex justify-between mt-10 ",children:[t.jsxs("div",{className:"ml-10",children:[" ","Page ",r," to ",m," "]}),t.jsxs("div",{className:"flex float-right",children:[t.jsx("img",{src:M,className:r===1?"opacity-50 mr-2":"opacity-100 mr-2",onClick:D}),t.jsx("img",{src:O,onClick:B,className:r===m?"opacity-50":"opacity-100"})]})]})]})}):t.jsx(t.Fragment,{children:t.jsxs("div",{className:"block",children:[t.jsx("div",{className:"w-full h-auto mx-4 inline-grid grid-cols-5 gap-1 ",children:u.length>1?p&&p.map((e,i)=>t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:" w-full border my-2  h-auto block border-gray-100 shadow-md rounded-[5px] bg-white",children:[t.jsx("div",{className:"my-2 h-[17vh] flex items-center justify-center w-full",children:t.jsx("img",{src:e.upload_images,alt:"Generic placeholder image",className:"w-[130px] height-[130px] rounded-full "})}),t.jsxs("div",{className:"block items-center justify-center w-full",children:[t.jsx("h1",{className:"font-bold",children:s(e.full_name)}),t.jsx("h1",{children:s(e.email)})]}),t.jsxs("div",{className:"flex items-center justify-center",children:[t.jsx("button",{type:"submit",className:" hover:border-[gainsboro]  max-[1260px]:px-1 max-[840px]:mx-1  hover:text-gray-500  text-[2vh]  w-full py-[5px] px-[25px]  border  mx-[8px] mt-[20px] mb-[10px] text-indigo-600 border-indigo-600 bg-white",onClick:()=>{j.fire({icon:"warning",title:"Are you sure?",text:"You want to update it!",showCancelButton:!0,confirmButtonText:"Yes, update it!",cancelButtonText:"No, cancel!"}).then(a=>{a.value&&d(`/editstep-form/${e.id}`)})},children:"EDIT"}),t.jsx("button",{type:"submit",className:"hover:border-[gainsboro]  max-[1260px]:px-1 max-[840px]:mx-1  hover:text-gray-500 text-[2vh] w-full  border py-[5px] px-[25px]  mx-[8px] mt-[20px] mb-[10px] text-[#22d3ee] border-[#22d3ee] bg-white",onClick:()=>d(`/view-student-details/${e.id}`),children:"VIEW"})," "]})]})," "]})):w&&w.map((e,i)=>t.jsx(t.Fragment,{children:t.jsxs("div",{className:" w-full my-2  border  h-auto block border-gray-100 shadow-md  rounded-[5px] bg-white",children:[t.jsx("div",{className:"my-2 h-[15vh] flex items-center justify-center w-full",children:t.jsx("img",{src:e.upload_images,alt:"Generic placeholder image",className:"w-[150px] height-[150px] rounded-full "})}),t.jsxs("div",{className:"block items-center justify-center w-full",children:[t.jsx("h1",{className:"font-bold",children:s(e.full_name)}),t.jsx("h1",{children:s(e.email)}),t.jsx("h1",{children:s(e.dob)})]}),t.jsxs("div",{className:"flex w-full ",children:[t.jsx("button",{className:"text-[2vh] max-[1260px]:px-1 max-[840px]:mx-1 w-full py-[5px] px-[25px]  border  mx-[8px] mt-[20px] mb-[10px] text-indigo-600 border-indigo-600 bg-white hover:border-[gainsboro] hover:text-gray-500",onClick:()=>{j.fire({icon:"warning",title:"Are you sure?",text:"You want to update it!",showCancelButton:!0,confirmButtonText:"Yes, update it!",cancelButtonText:"No, cancel!"}).then(a=>{a.value&&d(`/editstep-form/${e.id}`)})},children:"EDIT"}),t.jsx("button",{className:"text-[2vh] max-[1260px]:px-1 max-[840px]:mx-1 w-full  border py-[5px] px-[25px]  mx-[8px] mt-[20px] mb-[10px] text-[#22d3ee] border-[#22d3ee] bg-white hover:border-[gainsboro] hover:text-gray-500",onClick:()=>d(`/view-student-details/${e.id}`),children:"VIEW"})," "]})]})}))}),t.jsxs("div",{className:"flex justify-between mt-10 ",children:[t.jsxs("div",{className:"ml-10",children:[" ","Page ",r," to ",m," "]}),t.jsxs("div",{className:"flex float-right",children:[t.jsx("img",{src:M,className:r===1?"opacity-50 mr-2":"opacity-100 mr-2",onClick:D}),t.jsx("img",{src:O,onClick:B,className:r===m?"opacity-50":"opacity-100"})]})]})]})})]})})})]})})]})}export{$t as default};
