import{r,u as j,j as e,S as v}from"./index-0cd5b1c8.js";import{c as C,a as V}from"./index.esm-2daf9377.js";import{A as w,a as N,b as k}from"./AxiosInterceptors-d192cef8.js";import{u as F}from"./formik.esm-59936898.js";import{B as A}from"./BarLoader-475527d2.js";import"./hoist-non-react-statics.cjs-ef0c9066.js";function J(){var c;const[E,m]=r.useState(!1);r.useState(!1);const[B,f]=r.useState(null),[x,o]=r.useState(!1),n=j(),{api_bulkdataaddstudent:p}=k(),b={uploadCSV:""},h=C({uploadCSV:V().required("Select CSV File")}),l=F({initialValues:b,onSubmit:t=>{const s=new FormData;s.append("uploadCSV",t.uploadCSV),g(s)},validationSchema:h}),g=t=>{o(!0);let s,i;s=p,i=t,w.post(s,i,N()).then(function(a){var u;console.log("Registration.....",a==null?void 0:a.data),a!=null&&a.data?(v.fire({icon:"success",title:"Student",text:"Csv Data Added Successfully.",showConfirmButton:!1,timer:1500}),n("/view-student-list")):d(!0,`${(u=a==null?void 0:a.data)==null?void 0:u.response}`),o(!1)}).catch(function(a){console.log("==2 error list...",a),d(!0,"Error occured in submitting form."),o(!1)})},S=t=>{l.setFieldValue("uploadCSV",t)},y=t=>{if(t.target.name=="uploadCSV"){let i=t.target.files[0];S(i);return}},d=(t,s)=>{f(s),m(t)};return e.jsxs(e.Fragment,{children:[" ",x&&e.jsx(A,{}),e.jsxs("div",{className:"block w-full mx-[10px]",children:[e.jsxs("div",{className:"flex  max-[694px]:block",children:[e.jsx("div",{className:"flex w-full items-start justify-start ml-5 mt-5",children:e.jsxs("div",{className:"block w-full",children:[e.jsx("h1",{className:"text-4xl font-semibold text-gray-700 flex justify-start w-full ",children:"Student List"}),e.jsx("h1",{className:"text-gray-600 flex justify-start text-sm w-full",children:"Unlock Your Potential. Join Our Journey Of Education And Excellence"})]})}),e.jsx("div",{className:"flex items-end justify-end w-full mr-[10vh]",children:e.jsxs("a",{title:"Add Students",children:[" ",e.jsx("button",{type:"submit",className:"text-black text-[2.2vh] bg-[#fde047] font-bold py-[5px] px-[10px] rounded-[5px] h-[40px] w-[100px] flex items-center mr-2 justify-center ",onClick:()=>{n("/student-number")},children:"+ ADD"})]})})]}),e.jsx("form",{onSubmit:l.handleSubmit,onChange:y,encType:"multipart/form-data",children:e.jsx("div",{className:"flex  items-end justify-center",children:e.jsxs("div",{className:"block",children:[e.jsxs("label",{htmlFor:"uploadCSV",className:" inline-flex items-center px-4 py-2 bg-white border border-gray-600 rounded-l font-semibold cursor-pointer text-sm text-black tracking-widest  active:bg-white focus:outline-none focus:border-gray-900 focus:ring focus:ring-gray-300 disabled:opacity-25 transition ",children:[" ","Choose Student CSV File"]}),e.jsxs("div",{children:[" ",e.jsx("input",{type:"file",name:"uploadCSV",accept:".csv",id:"uploadCSV",className:"sr-only inline-flex items-center px-4 py-2 bg-white border border-gray-600 rounded-l font-semibold cursor-pointer text-sm text-black tracking-widest  active:bg-white focus:outline-none focus:border-gray-900 focus:ring focus:ring-gray-300 disabled:opacity-25 transition ",value:l.values.uploadCSV[0],onChange:t=>{l.setFieldValue("uploadCSV",t.target.files[0])}}),l.values.uploadCSV?(c=l.values.uploadCSV)==null?void 0:c.name:"No file selected"]}),e.jsx("button",{type:"submit",className:"next-btn",children:"Upload"})]})})})]})]})}export{J as default};
