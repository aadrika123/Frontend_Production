import{r as n,u as S,N as C,j as r,A as b,a as h,Q as d,b as E}from"./index-3941a546.js";/* empty css                      */import{B}from"./BarLoader-5e24b4d4.js";import{c as P,a as A}from"./index.esm-6cf26a62.js";import{u as F}from"./formik.esm-f1168841.js";import"./hoist-non-react-statics.cjs-39f77784.js";function M(){const[e,I]=n.useState(JSON.parse(sessionStorage.getItem("loginInfo")));n.useState(!1),n.useState(null);const[f,o]=n.useState(!1),{api_aadrikaChangePassword:y,api_passwordChangeUserData:p}=E(),g=S(),w=P({password:A().required("Enter Password").matches(C,"Please Enter Valid password")});e==null||e.token;const k=e==null?void 0:e.name;e==null||e.schoolName,e==null||e.email,e.userName;const x=e==null?void 0:e.roleId,t=F({initialValues:{email:"",password:"",userName:""},onSubmit:s=>{x===1?N(s):x===2&&j(s)},validationSchema:w}),N=s=>{o(!0);let l,i,u={email:s.email,password:s==null?void 0:s.password};l=y,i=u,b.post(l,i,h()).then(function(a){var m,c;console.log("Login.....",a==null?void 0:a.data),((m=a==null?void 0:a.data)==null?void 0:m.status)===!0?(g("/"),d.success("Password changed Successfully")):d.error(`${(c=a==null?void 0:a.data)==null?void 0:c.message}`),o(!1)}).catch(function(a){console.log("==2 error list...",a),d.warning("Error occured in submitting form."),o(!1)})},j=s=>{o(!0);let l,i,u={userName:s==null?void 0:s.userName,password:s==null?void 0:s.password};l=p,i=u,b.post(l,i,h()).then(function(a){var m,c;console.log("Login.....",a==null?void 0:a.data),((m=a==null?void 0:a.data)==null?void 0:m.status)===!0?(g("/"),d.success("Password changed Successfully")):d.error(`${(c=a==null?void 0:a.data)==null?void 0:c.message}`),o(!1)}).catch(function(a){console.log("==2 error list...",a),d.warning("Error occured in submitting form."),o(!1)})};return r.jsxs(r.Fragment,{children:[f&&r.jsx(B,{}),r.jsx("div",{className:"bg-gray-50 dark:bg-gray-900",children:r.jsx("div",{className:"flex flex-col items-center justify-center px-6 mx-auto md:h-screen lg:py-0",children:r.jsxs("div",{className:"w-full p-6 bg-white rounded-lg shadow dark:border md:mt-0 sm:max-w-md dark:bg-gray-800 dark:border-gray-700 sm:p-8",children:[r.jsx("h2",{className:"mb-1 text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white",children:"Change Password"}),r.jsxs("form",{className:"mt-4 space-y-4 lg:mt-5 md:space-y-5",onSubmit:t.handleSubmit,children:[r.jsx("div",{children:k==="Aadrika"?r.jsxs(r.Fragment,{children:[r.jsxs("label",{for:"email",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:[" ","Your email"]}),r.jsx("input",{type:"email",name:"email",id:"email",className:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",onChange:t.handleChange,value:t.values.email}),r.jsx("br",{}),r.jsx("span",{className:"text-red-600 text-xs",children:t.touched.email&&t.errors.email?t.errors.email:null})]}):r.jsxs(r.Fragment,{children:[r.jsx("label",{for:"email",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Your User Name"}),r.jsx("input",{type:"text",name:"userName",id:"userName",className:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",onChange:t.handleChange,value:t.values.userName}),r.jsx("br",{}),r.jsx("span",{className:"text-red-600 text-xs",children:t.touched.userName&&t.errors.userName?t.errors.userName:null})]})}),r.jsxs("div",{children:[r.jsx("label",{for:"password",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"New Password"}),r.jsx("input",{type:"password",name:"password",id:"password",className:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",onChange:t.handleChange,value:t.values.password}),r.jsx("br",{}),r.jsx("span",{className:"text-red-600 text-xs",children:t.touched.password&&t.errors.password?t.errors.password:null})]}),r.jsx("button",{type:"submit",className:"w-full text-white bg-indigo-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800",children:"Reset passwod"})]})]})})})]})}export{M as default};
