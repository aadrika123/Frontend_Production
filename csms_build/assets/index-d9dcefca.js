import{r as i,u as j,j as e,S as v}from"./index-0cd5b1c8.js";import{c as C,a as V}from"./index.esm-2daf9377.js";import{A as w,a as N,b as k}from"./AxiosInterceptors-d192cef8.js";import{u as E}from"./formik.esm-59936898.js";import{B as F}from"./BarLoader-475527d2.js";import"./hoist-non-react-statics.cjs-ef0c9066.js";function J(){var d;const[A,m]=i.useState(!1),[B,f]=i.useState(null);i.useState(""),i.useState([]),i.useState(!1);const[x,r]=i.useState(!1),n=j(),{api_bulkdataaddemployee:p}=k(),h={uploadCSV:""},b=C({uploadCSV:V().required("Select CSV File")}),s=E({initialValues:h,onSubmit:t=>{const l=new FormData;l.append("uploadCSV",t.uploadCSV),g(l)},validationSchema:b}),g=t=>{r(!0);let l,o;l=p,o=t,w.post(l,o,N()).then(function(a){var u;console.log("Registration.....",a==null?void 0:a.data),a!=null&&a.data?(v.fire({icon:"success",title:"Employee",text:"Csv Data Added Successfully.",showConfirmButton:!1,timer:1500}),n("/employee/view")):c(!0,`${(u=a==null?void 0:a.data)==null?void 0:u.response}`),r(!1)}).catch(function(a){console.log("==2 error list...",a),c(!0,"Error occured in submitting form."),r(!1)})},y=t=>{s.setFieldValue("uploadCSV",t)},S=t=>{if(t.target.name=="uploadCSV"){let o=t.target.files[0];y(o);return}},c=(t,l)=>{f(l),m(t)};return e.jsxs(e.Fragment,{children:[" ",x&&e.jsx(F,{}),e.jsxs("div",{className:"block  w-full mx-[10px]",children:[e.jsxs("div",{className:"flex  max-[694px]:block",children:[e.jsx("div",{className:"flex w-full items-start justify-start ml-5 mt-5",children:e.jsxs("div",{className:"block w-full",children:[e.jsx("h1",{className:"text-4xl font-semibold text-gray-700 flex justify-start w-full ",children:"Employee List"}),e.jsx("h1",{className:"text-gray-600 flex justify-start text-sm w-full",children:"Unlock Your Potential. Join Our Journey Of Education And Excellence"})]})}),e.jsx("div",{className:"flex items-end justify-end w-full mr-[10vh]",children:e.jsxs("a",{title:"Add Employees",children:[" ",e.jsx("button",{type:"submit",className:"text-black text-[2.2vh] bg-[#fde047] font-bold py-[5px] px-[10px] rounded-[5px] h-[40px] w-[100px] flex items-center mr-2 justify-center ",onClick:()=>{n("/employee/number")},children:"+ ADD"})]})})]}),e.jsx("form",{onSubmit:s.handleSubmit,onChange:S,encType:"multipart/form-data",children:e.jsx("div",{className:"flex  items-end justify-center",children:e.jsxs("div",{className:"block",children:[e.jsxs("label",{htmlFor:"uploadCSV",className:" inline-flex items-center px-4 py-2 bg-white border border-gray-600 rounded-l font-semibold cursor-pointer text-sm text-black tracking-widest  active:bg-white focus:outline-none focus:border-gray-900 focus:ring focus:ring-gray-300 disabled:opacity-25 transition ",children:[" ","Choose Employee CSV File"]}),e.jsxs("div",{children:[e.jsx("input",{type:"file",name:"uploadCSV",accept:".csv",id:"uploadCSV",className:"sr-only inline-flex items-center px-4 py-2 bg-white border  active:bg-white focus:outline-none focus:border-gray-900 focus:ring focus:ring-gray-300 disabled:opacity-25 transition ",value:s.values.uploadCSV[0],onChange:t=>{s.setFieldValue("uploadCSV",t.target.files[0])}}),s.values.uploadCSV?(d=s.values.uploadCSV)==null?void 0:d.name:"No file selected"]}),e.jsx("button",{type:"submit",className:"next-btn",children:"Upload"})]})})})]})]})}export{J as default};
