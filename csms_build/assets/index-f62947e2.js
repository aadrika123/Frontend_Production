import{R as E,j as e,c as S,d as F,r as m,u as B,E as C,N as A,A as L,a as T,S as P,b as R}from"./index-f916f929.js";import{B as I}from"./BarLoader-858f75dd.js";import{B as V}from"./BottomErrorCard-20c0353c.js";import{c as q,a as j}from"./index.esm-b3999377.js";import{a as M,b as _,u as G}from"./formik.esm-2de3563d.js";import{B as H}from"./index.esm-3ff8c7a6.js";import{R as $}from"./logo1-3aadcd17.js";import"./hoist-non-react-statics.cjs-fb57390d.js";function O({formik:s}){var i;const{handleSubmit:n,handleChange:d,values:x}=s,[l,r]=E.useState(!1);return e.jsx("div",{className:"block",children:e.jsxs("div",{className:"h-auto w-auto bg-[#FFFFFF] border-2 max-[425px]:w-full max-[425px]:pl-4 max-[375px]:pr-8 max-[375px]:pl-8 flex items-center justify-center py-1 pr-20  rounded-[10px] pb-[20px]",children:[e.jsxs("div",{className:"w-full h-full",children:[e.jsxs("div",{className:"text-[cornflowerblue] flex flex-row items-start justify-start w-full ml-5 gap-5",children:[e.jsxs("div",{className:"flex justify-start items-center",children:[e.jsx("input",{type:"radio",name:"userType",className:"ml-2",checked:s.values.userType==="admin",onChange:()=>s.setFieldValue("userType","admin")}),e.jsx("label",{className:"ml-2 text-lg",children:"Admin"})]}),e.jsxs("div",{className:"flex justify-start items-center",children:[e.jsx("input",{type:"radio",name:"userType",className:"ml-2",checked:s.values.userType==="employee",onChange:()=>s.setFieldValue("userType","employee")}),e.jsx("label",{className:"ml-2 text-lg",children:"Employee"})]})]}),e.jsx("img",{src:$,alt:"user",className:"image2"}),e.jsx("a",{href:"/csms/landing-csms",children:e.jsxs("span",{className:"flex text-[cornflowerblue] ",children:[e.jsx(H,{title:"Back to Home",className:"mt-1 ml-6"}),"Go to Home"]})})]}),e.jsx("div",{className:"max-[425px]:w-full ml-4",children:e.jsx(M,{value:s,children:e.jsx(_,{onSubmit:n,children:e.jsxs("div",{className:"pt-4",children:[e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("h1",{className:"flex items-center justify-start text-4xl font-bold text-[cornflowerblue] gill ",children:((i=s==null?void 0:s.values)==null?void 0:i.userType)==="admin"?"Admin":"Employee"})}),e.jsxs("div",{className:"my-[10%]",children:[e.jsx("label",{className:"flex items-start justify-start text-xl text-[cornflowerblue] font-bold ml-2 arial",children:"Email"}),e.jsx("br",{}),e.jsx("input",{name:"email",placeholder:"Email",type:"text",onChange:s.handleChange,value:s.values.email,className:"border-b-2 border-[gainsboro] h-10 w-full pl-4"}),e.jsx("span",{className:"text-red-500 text-sm text-start",children:s.errors.email})]}),e.jsxs("div",{className:"my-[10%]",children:[e.jsx("label",{className:"flex items-start justify-start text-xl text-[cornflowerblue] font-bold ml-2 arial",children:"Password"}),e.jsx("br",{}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:l?"text":"password",name:"password",placeholder:"password",onChange:s.handleChange,value:s.values.password,className:"border-b-2 border-[gainsboro] h-10 w-full pl-4"}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center text-sm leading-5",children:l?e.jsx(S,{className:"cursor-pointer text-gray-500 hover:text-gray-700 w-5 h-5",onClick:()=>r(!l)}):e.jsx(F,{className:"cursor-pointer text-gray-500 hover:text-gray-700 w-5 h-5",onClick:()=>r(!l)})})]}),e.jsx("span",{className:"text-red-500 text-sm text-start",children:s.errors.password})]}),e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("div",{className:"mx-[10%]",children:e.jsx("button",{type:"submit",className:"bg-[cornflowerblue] text-white flex items-center justify-center text-xl font-bold mt-4 mx-24 px-3 py-3 rounded-lg gill",children:"Login"})})})]})})})})]})})}function Z(){const[s,n]=m.useState(!1),[d,x]=m.useState(null),[l,r]=m.useState(!1),{api_loginData:i}=R(),g=B(),y=q({email:j().required("Enter Email-Id").matches(C,"Please Enter Valid E-mail"),password:j().required("Enter Password").matches(A,"Please Enter Valid E-mail")}),b=G({initialValues:{userType:"admin",email:"",password:""},onSubmit:t=>{w(t),console.log("values",t)},validationSchema:y}),w=t=>{r(!0);let c,u,N={email:t.email,password:t==null?void 0:t.password};c=i,u=N,L.post(c,u,T()).then(function(a){var h,f,p;if(console.log("Login.....",a==null?void 0:a.data),((h=a==null?void 0:a.data)==null?void 0:h.status)===!0){const v=JSON.stringify((f=a==null?void 0:a.data)==null?void 0:f.data);sessionStorage.setItem("loginInfo",v),g("/"),P.fire({icon:"success",title:"User",text:"User Login Successfully.",showConfirmButton:!1,timer:1500})}else o(!0,`${(p=a==null?void 0:a.data)==null?void 0:p.message}`);r(!1)}).catch(function(a){console.log("==2 error list...",a),o(!0,"Error occured in submitting form."),r(!1)})},o=(t,c)=>{x(c),n(t)};return e.jsxs(e.Fragment,{children:[l&&e.jsx(I,{}),s&&e.jsx(V,{activateBottomErrorCard:o,errorTitle:d}),e.jsx("div",{className:"h-full",children:e.jsx("div",{className:"h-full lg:w-full max-[425px]:w-full max-[425px]:px-4  flex flex-row items-center justify-center  py-[13%] image",children:e.jsx(O,{formik:b})})})]})}export{Z as default};
