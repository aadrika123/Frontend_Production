import{r as s,u as A,j as e,H as C}from"./index-ab416760.js";import{A as b,a as g,b as F}from"./AxiosInterceptors-f843a74a.js";import{B}from"./BarLoader-c0a4518a.js";import{n as N}from"./PowerupFunctions-83be0856.js";import{u as O}from"./useSetTitle-af187b21.js";import{D as P,L as R}from"./DeleteView-1777004f.js";import{T as I}from"./Tabs-32e44a7b.js";import{B as z}from"./BottomErrorCard-b5de6692.js";import{u as J}from"./formik.esm-3439c16f.js";import"./index-bfc4d799.js";import"./index-b7a813c7.js";import"./Link-e387959a.js";import"./hoist-non-react-statics.cjs-2a623d8a.js";function le(){const[_,S]=s.useState([]),[m,U]=s.useState(!0),[v,i]=s.useState(!1),[u,p]=s.useState(!1),[y,k]=s.useState(null),[H,V]=s.useState(null),[M,h]=s.useState(!1),[f,Y]=s.useState(),{api_getMarksTabulationData:w,api_searchMarksTabulationData:$,api_deleteMarksTabulationData:L}=F(),T=A();O("Marks Entry Master");const l=[{id:1,fee_head:10,fee_head_type:10,desc:"hello"},{id:2,fee_head:10,fee_head_type:10,desc:"hello"},{id:3,fee_head:10,fee_head_type:10,desc:"hello"},{id:4,fee_head:10,fee_head_type:10,desc:"hello"},{id:5,fee_head:10,fee_head_type:10,desc:"hello"}],x=J({initialValues:{search:""},onSubmit:(t,a)=>{console.log("at submit ",t),n(t)}}),E=[{Header:"Sl No.",Cell:({cell:t})=>e.jsx("span",{children:N(t.row.index+1)})},{Header:"Academic Year",accessor:"academic_year"},{Header:"Class Name",accessor:"class_name"},{Header:"Section Name",accessor:"section_name"},{Header:"Admission No",accessor:"admission_no"},{Header:"Term",accessor:"term_name"},{Header:"Subject",accessor:"subject_name"},{Header:"Full marks",accessor:"full_marks"},{Header:"Pass Marks",accessor:"pass_marks"},{Header:"Obtained Marks",accessor:"obtained_marks"},{Header:"Main Subject",accessor:"is_main_subject"},{Header:"Optional Subject ",accessor:"is_optional_subject"},{Header:"Status",Cell:({cell:t})=>{var a,r;return e.jsx("span",{className:((a=t.row.original)==null?void 0:a.status)==="Active"?"text-[green]":"text-[red]",children:N((r=t.row.original)==null?void 0:r.status)})}},{Header:"Created Date",accessor:"date"},{Header:"Created Time",accessor:"time"},,],D=()=>{i(!0),h(!1);let t={id:H,status:f};b.post(L,t,g()).then(function(a){var r,d,o;console.log("delete response..",(r=a==null?void 0:a.data)==null?void 0:r.data),((d=a==null?void 0:a.data)==null?void 0:d.status)===!0?n():c(!0,`${(o=a==null?void 0:a.data)==null?void 0:o.message}`),i(!1)}).catch(function(a){console.log("==delete error...",a),c(!0,"Error occured in deletion."),i(!1)})},n=(t=null)=>{t===null||t==null||t.search,i(!0),b.post(w,{},g()).then(function(a){var r,d,o,j;console.log("view driver master..",(r=a==null?void 0:a.data)==null?void 0:r.data),(d=a==null?void 0:a.data)!=null&&d.status?S((o=a==null?void 0:a.data)==null?void 0:o.data):c(!0,`${(j=a==null?void 0:a.data)==null?void 0:j.message}`),i(!1)}).catch(function(a){console.log("==2 error list...",a),c(!0,"Error occured while fetching data."),i(!1)})};s.useEffect(()=>{n()},[]);const c=(t,a)=>{k(a),p(t)};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"main-div",children:e.jsxs("div",{className:"main-inner-div",children:[v&&e.jsx(B,{}),u&&e.jsx(z,{activateBottomErrorCard:c,errorTitle:y}),u&&e.jsxs("div",{className:"alert-msg",role:"alert",children:[e.jsx("strong",{className:"sorry-msg",children:"Sorry! "}),e.jsx("span",{className:"some-error-msg",children:"Some error occured while fetching list. Please try again later"}),e.jsx("span",{className:"absolute-span"})]}),M&&e.jsx(P,{setdeleteStatus:h,deleteItem:D,deactivate:f}),e.jsxs("div",{className:"main-sub-div",children:[e.jsx("div",{className:"main-sub-inner-div",children:e.jsxs("div",{className:"text-div",children:[e.jsx("div",{className:"big-text",children:"Marks Entry Report Master List"}),e.jsx("div",{className:"small-text",children:"Unlock Your Potential. Join Our Journey Of Education And Excellence"})]})}),e.jsx("div",{className:"tab-div",children:e.jsxs("div",{className:"global-filter-div",children:[e.jsx("form",{onSubmit:x.handleSubmit,children:e.jsxs("div",{className:"global-filter flex",children:[e.jsx("input",{type:"search",placeholder:"Search...",...x.getFieldProps("search"),className:"bg-[#F2F4F4] h-10 pl-4 "}),e.jsx("button",{className:"bg-[#3b82f6] w-14 max-[320px]:w-8 h-10 rounded-r-[5px] flex items-center justify-center text-white",type:"submit",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"h-5 w-5 ",children:e.jsx("path",{"fill-rule":"evenodd",d:"M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z","clip-rule":"evenodd"})})})," "]})}),e.jsx("div",{className:"hiplus-div",children:e.jsx("button",{onClick:()=>T("/marks-tabulation-form"),type:"button",className:"hiplus-button",children:e.jsx(C,{className:"hiplus"})})})]})})]}),e.jsx(I,{listRoute:"/marks-tabulation",formRoute:"/marks-tabulation-form"}),e.jsx("div",{className:"mt-6",children:e.jsx("span",{className:"lists",children:"Marks Entry Report List"})}),m&&(l==null?void 0:l.length)!=0&&e.jsx(R,{filter:!1,exportStatus:!1,assessmentType:!1,columns:E,dataList:_}),m&&(l==null?void 0:l.length)==0&&e.jsx("div",{className:"data-not-found",children:"Data Not Found"})]})})})}export{le as default};
