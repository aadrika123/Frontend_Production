import{r as l,u as ua,A as z,a as J,j as t,H as ha,D as ga,I as xa,b as fa}from"./index-f916f929.js";import{B as ja}from"./BarLoader-858f75dd.js";import{n as g}from"./PowerupFunctions-6790304d.js";import{u as va}from"./useSetTitle-649e2a77.js";import{D as Na,L as ba}from"./DeleteView-67799ae7.js";import{T as Sa}from"./Tabs-02c9d570.js";import{B as _a}from"./BottomErrorCard-20c0353c.js";import{u as ya}from"./formik.esm-2de3563d.js";import{P as wa}from"./Pagination-570e9fe7.js";import"./index-39e9bbf5.js";import"./index-3c33807a.js";import"./Link-dfdf966c.js";import"./hoist-non-react-statics.cjs-fb57390d.js";function $a(){const[x,f]=l.useState([]),[j,Ca]=l.useState(!0),[p,c]=l.useState(!1),[v,Y]=l.useState(!1),[G,K]=l.useState(null),[Q,W]=l.useState(null),[X,h]=l.useState(!1),[N,Z]=l.useState(),[n,b]=l.useState(1),[m,aa]=l.useState(10),[ta,S]=l.useState(),[ea,_]=l.useState();l.useState();const{api_getVehicle_inchargeData:ia,api_deleteVehicle_inchargeData:la,api_searchVehicle_inchargeData:sa}=fa(),y=ua();va("City Type Master");const d=[{id:1,fee_head:10,fee_head_type:10,desc:"hello"},{id:2,fee_head:10,fee_head_type:10,desc:"hello"},{id:3,fee_head:10,fee_head_type:10,desc:"hello"},{id:4,fee_head:10,fee_head_type:10,desc:"hello"},{id:5,fee_head:10,fee_head_type:10,desc:"hello"}],w=ya({initialValues:{search:""},onSubmit:(e,i)=>{console.log("at submit ",e),o(e)}}),ra=[{Header:"Sl No.",Cell:({cell:e})=>t.jsx("span",{children:(n-1)*m+e.row.index+1})},{Header:"Incharge Name",accessor:"incharge_name"},{Header:"Email",accessor:"email"},{Header:"Mobile No.",accessor:"mobile"},{Header:"Address",accessor:"address"},{Header:"Aadhar No.",accessor:"aadhar_no"},{Header:"Country",accessor:"country_name"},{Header:"State",accessor:"state_name"},{Header:"City",accessor:"city_name"},{Header:"View",accessor:"aadhar_doc",Cell:({cell:e})=>{var i;return t.jsx("a",{href:`${ga}/api/${(i=e.row.original)==null?void 0:i.aadhar_doc}`,target:"_blank",className:"text-xl text-red-700 ",children:t.jsx(xa,{className:"text-red bg-red w-8 h-8"})})}},{Header:"Status",Cell:({cell:e})=>{var i,s;return t.jsx("span",{className:((i=e.row.original)==null?void 0:i.status)==="Active"?"text-[green]":"text-[red]",children:g((s=e.row.original)==null?void 0:s.status)})}},{Header:"Created Date & Time",Cell:({cell:e})=>{var i,s;return t.jsxs("span",{children:[g((i=e.row.original)==null?void 0:i.date)," | ",g((s=e.row.original)==null?void 0:s.time)]})}},{Header:"Action",Cell:({cell:e})=>{var i,s;return t.jsxs("div",{className:"flex",children:[t.jsx("button",{onClick:()=>{var a;return y(`/vehicleincharge-form/${(a=e.row.original)==null?void 0:a.id}`)},className:"edit-button-master",children:"Edit"}),t.jsx("button",{onClick:()=>{var a,r;W((a=e.row.original)==null?void 0:a.id),Z(((r=e.row.original)==null?void 0:r.status)==="Active"?"deactive":"active"),h(!0)},className:`${((i=e.row.original)==null?void 0:i.status)=="Active"?"deactivate-button-master":"deactivate-second-button-master"}`,children:((s=e.row.original)==null?void 0:s.status)==="Active"?"Deactivate":"Activate"})]})}}],ca=()=>{c(!0),h(!1);let e={id:Q,status:N};z.post(la,e,J()).then(function(i){var s,a,r;console.log("delete response..",(s=i==null?void 0:i.data)==null?void 0:s.data),(a=i==null?void 0:i.data)!=null&&a.status?o():u(!0,`${(r=i==null?void 0:i.data)==null?void 0:r.message}`),c(!1)}).catch(function(i){console.log("==delete error...",i),u(!0,"Error occured in deletion."),c(!1)})},o=(e=null)=>{let i,s;e===null?(s={perPage:m,page:n},i=ia):(s={search:e==null?void 0:e.search},i=sa),c(!0),z.post(i,s,J()).then(function(a){var r,C,E,H,A,D,L,F,P,T,I,B,M,V,k,$,O,R,U,q;((r=a==null?void 0:a.data)==null?void 0:r.status)===!0?((E=(C=a==null?void 0:a.data)==null?void 0:C.data)==null?void 0:E.total)===0||((A=(H=a==null?void 0:a.data)==null?void 0:H.data)==null?void 0:A.data.length)===0?(toast.error("Data not Found"),f((L=(D=a==null?void 0:a.data)==null?void 0:D.data)==null?void 0:L.data),S((P=(F=a==null?void 0:a.data)==null?void 0:F.data)==null?void 0:P.last_page),_((I=(T=a==null?void 0:a.data)==null?void 0:T.data)==null?void 0:I.total)):(console.log("Teaching Title data",(M=(B=a==null?void 0:a.data)==null?void 0:B.data)==null?void 0:M.data),f((k=(V=a==null?void 0:a.data)==null?void 0:V.data)==null?void 0:k.data),S((O=($=a==null?void 0:a.data)==null?void 0:$.data)==null?void 0:O.last_page),_((U=(R=a==null?void 0:a.data)==null?void 0:R.data)==null?void 0:U.total)):toast.error(`${(q=a==null?void 0:a.data)==null?void 0:q.message}`),c(!1)}).catch(function(a){console.log("==2 error list...",a),u(!0,"Error occured while fetching data."),c(!1)})},da=x;console.log(x);const oa=e=>{aa(parseInt(e))},na=e=>{b(e-1)},ma=e=>{b(e+1)};l.useEffect(()=>{o()},[n]),l.useEffect(()=>{o()},[m]),l.useEffect(()=>{o()},[]);const u=(e,i)=>{K(i),Y(e)};return t.jsx(t.Fragment,{children:t.jsx("div",{className:"main-div",children:t.jsxs("div",{className:"main-inner-div",children:[p&&t.jsx(ja,{}),v&&t.jsx(_a,{activateBottomErrorCard:u,errorTitle:G}),v&&t.jsxs("div",{className:"alert-msg",role:"alert",children:[t.jsx("strong",{className:"sorry-msg",children:"Sorry! "}),t.jsx("span",{className:"some-error-msg",children:"Some error occured while fetching list. Please try again later"}),t.jsx("span",{className:"absolute-span"})]}),X&&t.jsx(Na,{setdeleteStatus:h,deleteItem:ca,deactivate:N}),t.jsxs("div",{className:"main-sub-div",children:[t.jsx("div",{className:"main-sub-inner-div",children:t.jsxs("div",{className:"text-div",children:[t.jsx("div",{className:"big-text",children:"Vehicle Incharge Master List"}),t.jsx("div",{className:"small-text text-teal-500",children:"Unlock Your Potential. Join Our Journey Of Education And Excellence"})]})}),t.jsx("div",{className:"tab-div",children:t.jsxs("div",{className:"global-filter-div",children:[t.jsx("form",{onSubmit:w.handleSubmit,children:t.jsxs("div",{className:"global-filter flex",children:[t.jsx("input",{type:"search",placeholder:"Search...",...w.getFieldProps("search"),className:"bg-[#F2F4F4] h-10 pl-4 "}),t.jsx("button",{className:"bg-[#0F766E] w-14 max-[320px]:w-8 h-10 rounded-r-[5px] flex items-center justify-center text-white",type:"submit",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"h-5 w-5 ",children:t.jsx("path",{"fill-rule":"evenodd",d:"M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z","clip-rule":"evenodd"})})})," "]})}),t.jsx("div",{className:"hiplus-div",children:t.jsx("button",{onClick:()=>y("/vehicleincharge-form"),type:"button",className:"hiplus-button bg-[#0F766E]",children:t.jsx(ha,{className:"hiplus"})})})]})})]}),t.jsx(Sa,{listRoute:"/vehicleincharge",formRoute:"/vehicleincharge-form"}),t.jsx("div",{className:"mt-6",children:t.jsx("span",{className:"lists text-[#0F766E]",children:"Vehicle Incharge List "})}),j&&(d==null?void 0:d.length)!=0&&t.jsx(ba,{filter:!1,exportStatus:!1,assessmentType:!1,columns:ra,dataList:da,pageNumber:ea}),t.jsx(wa,{ChangePage:oa,number:n,lastPage:ta,nextPage:ma,prevPage:na,postperpage:m}),j&&(d==null?void 0:d.length)==0&&t.jsx("div",{className:"data-not-found",children:"Data Not Found"})]})})})}export{$a as default};
