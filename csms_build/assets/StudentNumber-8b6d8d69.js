import{r as s,u as A,j as e}from"./index-2d137de0.js";import{u as B}from"./formik.esm-d65f4248.js";import{c as C,a as L}from"./index.esm-aa041152.js";import{A as q,a as D,b as I}from"./AxiosInterceptors-ca7a5259.js";import{B as F}from"./BarLoader-702b4bef.js";import{B as M}from"./BottomErrorCard-bf717467.js";import"./hoist-non-react-statics.cjs-b8781c68.js";function K(){const[g,N]=s.useState(!1),[j,w]=s.useState(null),[y,d]=s.useState(!1),{api_searchStudentByIdList:S}=I(),[_,l]=s.useState(!0);s.useEffect(()=>{l(!0)},[]);const x=A(),a=B({initialValues:{admissionNo:""},onSubmit:i=>{E(i)},validationSchema:C({admissionNo:L().required("Required")})}),E=i=>{d(!0);let o,n,k={admissionNo:i.admissionNo};o=S,n=k,q.post(o,n,D()).then(function(t){var m,c,u,h,f,p,b,v;console.log("category master..",(m=t==null?void 0:t.data)==null?void 0:m.data),((c=t==null?void 0:t.data)==null?void 0:c.status)===!0?((h=(u=t==null?void 0:t.data)==null?void 0:u.data)==null?void 0:h.message)==="Admission No. not found"?(localStorage.setItem("admission_no",(p=(f=t==null?void 0:t.data)==null?void 0:f.data)==null?void 0:p.admission_no),x("/add-new-student")):((v=(b=t==null?void 0:t.data)==null?void 0:b.data)==null?void 0:v.message)==="Admission No. already existing"&&r(!0,"Admission No. already existing"):r(!0,"Error occured while fetching data."),d(!1)}).catch(function(t){console.log("==2 error list...",t),r(!0,"Error occured while fetching data."),d(!1)})},r=(i,o)=>{w(o),N(i)};return e.jsxs(e.Fragment,{children:[y&&e.jsx(F,{}),g&&e.jsx(M,{className:"absolute",style:{zIndex:5e3},activateBottomErrorCard:r,errorTitle:j}),e.jsx("div",{className:"bg-white text-black  flex items-center justify-center  px-[30%] pt-[10vh] max-[1421px]:px-[10%] max-[425px]:px-[1%] max-[390px]:pb-[5vh]",children:e.jsxs("div",{className:"block w-[100%] border border-[gainsboro] rounded-[15px] h-full",children:[e.jsx("div",{className:"flex justify-between px-[20px] py-[20px] text-[2.5vh] font-bold bg-[#98D4D2] text-white rounded-t-[15px]",children:e.jsx("h1",{children:"Search Admission No"})}),e.jsx("div",{className:"flex items-center justify-center overflow-hidden bg-white ml-1 h-auto max-[606px]:h-[35vh]",children:e.jsx("div",{className:"block w-full   m-[20px] max[784px]:m-[10]",children:e.jsxs("form",{onSubmit:a.handleSubmit,children:[e.jsx("div",{className:"w-full h-auto bg-white px-[20px] py-[20px] max[784px]:px-[0px]",children:e.jsx("div",{className:"m-3 block ",children:e.jsxs("div",{className:"flex max-[1025px]:block",children:[e.jsxs("label",{className:"w-[25vh] mr-2 text-[2vh] flex items-center justify-center max-[1025px]:w-full",children:["Admission No.",e.jsx("span",{className:"text-red-600 ml-1 mr-1",children:"*"})]}),e.jsx("input",{name:"admissionNo",type:"text",onChange:a.handleChange,value:a.values.admissionNo,className:"w-[40vh] h-11  p-3 flex text-[2vh]  items-start justify-start  border border-[#E5E7E9] bg-white rounded-[5px] max-[1025px]:w-full max-[1025px]:h-full"}),e.jsx("p",{className:"text-red-500 text-sm flex items-start justify-start ml-[40px]",children:a.touched.admissionNo&&a.errors.admissionNo?a.errors.admissionNo:null})]})})}),e.jsxs("div",{className:"w-full h-[8vh] flex items-center justify-center max-[768px]:block mb-5",children:[e.jsx("button",{type:"submit",className:"text-[2vh] bg-indigo-600 text-white border border-indigo-600  py-[7px] px-[20px] rounded-[5px] m-[20px] hover:text-indigo-600 hover:border-indigo-600 hover:bg-white",children:"Search"}),e.jsx("button",{onClick:()=>{l(!1),x("/employee/view")},type:"cancel",className:"text-[2vh] border-red-600 border text-white bg-red-600 px-[20px] py-[7px]  rounded-[5px] hover:border-red-600 hover:bg-white hover:text-red-600",children:"Cancel"})]})]})})})]})})]})}export{K as default};
