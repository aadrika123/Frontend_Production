import{r as e,b as n}from"./router-BHBZNT6y.js";import{j as t}from"../vendor/data-layer-BGlUSpHP.js";import{u as r}from"./radix-core-CDbki3D7.js";function o(e,n,{checkForDefaultPrevented:t=!0}={}){return function(r){if(e?.(r),!1===t||!r.defaultPrevented)return n?.(r)}}function u(n,r){const o=e.createContext(r),u=n=>{const{children:r,...u}=n,s=e.useMemo(()=>u,Object.values(u));return t.jsx(o.Provider,{value:s,children:r})};return u.displayName=n+"Provider",[u,function(t){const u=e.useContext(o);if(u)return u;if(void 0!==r)return r;throw new Error(`\`${t}\` must be used within \`${n}\``)}]}function s(n,r=[]){let o=[];const u=()=>{const t=o.map(n=>e.createContext(n));return function(r){const o=r?.[n]||t;return e.useMemo(()=>({[`__scope${n}`]:{...r,[n]:o}}),[r,o])}};return u.scopeName=n,[function(r,u){const s=e.createContext(u),i=o.length;o=[...o,u];const c=r=>{const{scope:o,children:u,...c}=r,a=o?.[n]?.[i]||s,f=e.useMemo(()=>c,Object.values(c));return t.jsx(a.Provider,{value:f,children:u})};return c.displayName=r+"Provider",[c,function(t,o){const c=o?.[n]?.[i]||s,a=e.useContext(c);if(a)return a;if(void 0!==u)return u;throw new Error(`\`${t}\` must be used within \`${r}\``)}]},i(u,...r)]}function i(...n){const t=n[0];if(1===n.length)return t;const r=()=>{const r=n.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(n){const o=r.reduce((e,{useScope:t,scopeName:r})=>({...e,...t(n)[`__scope${r}`]}),{});return e.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function c(n){const t=e.useRef(n);return e.useEffect(()=>{t.current=n}),e.useMemo(()=>(...e)=>t.current?.(...e),[])}var a=globalThis?.document?e.useLayoutEffect:()=>{},f=n[" useId ".trim().toString()]||(()=>{}),d=0;function l(n){const[t,r]=e.useState(f());return a(()=>{r(e=>e??String(d++))},[n]),n||(t?`radix-${t}`:"")}function m(n){const[t,r]=e.useState(void 0);return a(()=>{if(n){r({width:n.offsetWidth,height:n.offsetHeight});const e=new ResizeObserver(e=>{if(!Array.isArray(e))return;if(!e.length)return;const t=e[0];let o,u;if("borderBoxSize"in t){const e=t.borderBoxSize,n=Array.isArray(e)?e[0]:e;o=n.inlineSize,u=n.blockSize}else o=n.offsetWidth,u=n.offsetHeight;r({width:o,height:u})});return e.observe(n,{box:"border-box"}),()=>e.unobserve(n)}r(void 0)},[n]),t}var p=n=>{const{present:t,children:o}=n,u=function(n){const[t,r]=e.useState(),o=e.useRef(null),u=e.useRef(n),s=e.useRef("none"),i=n?"mounted":"unmounted",[c,f]=function(n,t){return e.useReducer((e,n)=>t[e][n]??e,n)}(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return e.useEffect(()=>{const e=N(o.current);s.current="mounted"===c?e:"none"},[c]),a(()=>{const e=o.current,t=u.current;if(t!==n){const r=s.current,o=N(e);if(n)f("MOUNT");else if("none"===o||"none"===e?.display)f("UNMOUNT");else{f(t&&r!==o?"ANIMATION_OUT":"UNMOUNT")}u.current=n}},[n,f]),a(()=>{if(t){let e;const n=t.ownerDocument.defaultView??window,r=r=>{const s=N(o.current).includes(CSS.escape(r.animationName));if(r.target===t&&s&&(f("ANIMATION_END"),!u.current)){const r=t.style.animationFillMode;t.style.animationFillMode="forwards",e=n.setTimeout(()=>{"forwards"===t.style.animationFillMode&&(t.style.animationFillMode=r)})}},i=e=>{e.target===t&&(s.current=N(o.current))};return t.addEventListener("animationstart",i),t.addEventListener("animationcancel",r),t.addEventListener("animationend",r),()=>{n.clearTimeout(e),t.removeEventListener("animationstart",i),t.removeEventListener("animationcancel",r),t.removeEventListener("animationend",r)}}f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:e.useCallback(e=>{o.current=e?getComputedStyle(e):null,r(e)},[])}}(t),s="function"==typeof o?o({present:u.isPresent}):e.Children.only(o),i=r(u.ref,function(e){let n=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,t=n&&"isReactWarning"in n&&n.isReactWarning;if(t)return e.ref;if(n=Object.getOwnPropertyDescriptor(e,"ref")?.get,t=n&&"isReactWarning"in n&&n.isReactWarning,t)return e.props.ref;return e.props.ref||e.ref}(s));return"function"==typeof o||u.isPresent?e.cloneElement(s,{ref:i}):null};function N(e){return e?.animationName||"none"}p.displayName="Presence";var v=n[" useInsertionEffect ".trim().toString()]||a;function h({prop:n,defaultProp:t,onChange:r=()=>{},caller:o}){const[u,s,i]=function({defaultProp:n,onChange:t}){const[r,o]=e.useState(n),u=e.useRef(r),s=e.useRef(t);return v(()=>{s.current=t},[t]),e.useEffect(()=>{u.current!==r&&(s.current?.(r),u.current=r)},[r,u]),[r,o,s]}({defaultProp:t,onChange:r}),c=void 0!==n,a=c?n:u;{const t=e.useRef(void 0!==n);e.useEffect(()=>{const e=t.current;if(e!==c){}t.current=c},[c,o])}const f=e.useCallback(e=>{if(c){const t=function(e){return"function"==typeof e}(e)?e(n):e;t!==n&&i.current?.(t)}else s(e)},[c,n,s,i]);return[a,f]}export{p as P,s as a,m as b,o as c,a as d,h as e,l as f,u as g,c as u};
