"use strict";(self.webpackChunkcitizen_landing=self.webpackChunkcitizen_landing||[]).push([[1916],{59053:function(s,e,t){t(72791);e.Z=t.p+"static/media/login.87869fc525b0d287313575a3778c74e4.svg"},41916:function(s,e,t){t.r(e);var a=t(1413),r=t(29439),o=t(72791),l=t(55705),d=t(81724),n=t(59053),i=(t(21893),t(57689)),c=t(99008),x=t(18966),m=t(60786),u=t(5055),p=(t(97948),t(75985)),w=t(32612),h=(t(62037),t(7278),t(82536)),f=t(93157),g=t(80184);e.default=function(s){var e=(0,o.useState)(!1),t=(0,r.Z)(e,2),b=t[0],y=t[1],v=(0,c.Z)(),N=v.api_changePassword,j=v.api_forgotPassword,P=((0,o.useContext)(u.n).notify,(0,i.s0)()),Z=(0,o.useState)(),C=(0,r.Z)(Z,2),S=C[0],k=(C[1],(0,o.useState)(!1)),_=(0,r.Z)(k,2),E=_[0],F=_[1],q=(0,o.useState)(null),A=(0,r.Z)(q,2),O=A[0],z=A[1],T=(0,i.UO)().type,D=d.Ry().shape({oldPassword:d.Z_().when([],{is:function(){return"change"==T},then:function(){return d.Z_().required("Enter old password")}}),newPassword:d.Z_().min(6,"Minimum six character !").max(50,"Too Long!").required("Enter new password !").matches(/^(?=.*\d)(?=.*[!@#$%^&*])(?=.*[a-z])(?=.*[A-Z]).{6,}$/,"Password Must Contains (Capital, Smail, Number, Special) eg - Abc123#."),matchNewPassword:d.Z_().required("Confirm your new password").oneOf([d.iH("newPassword"),null],"Password not match")}),M=(0,l.TA)({initialValues:{oldPassword:"",newPassword:"",matchNewPassword:""},onSubmit:function(s,e){console.log("post data",s),U(s)},validationSchema:D}),U=function(s){var e={password:s.oldPassword,newPassword:s.newPassword};console.log("request body before hit api => ",e),y(!0),f.Z.post("change"==T?N:j,e,(0,w.Z)()).then((function(s){var e,t;1==(null===s||void 0===s||null===(e=s.data)||void 0===e?void 0:e.status)&&(console.log("successfully changed => ",s),p.Am.success("Password changed successfully !!!"),P("change"==T?"/landingDashboard":"/login")),0==(null===s||void 0===s||null===(t=s.data)||void 0===t?void 0:t.status)&&V(!0,"Error occured. Please try again later."),y(!1)})).catch((function(s){V(!0,"Error occured. Please try again later."),y(!1)}))},V=function(s,e){z(e),F(s)};return(0,g.jsxs)(g.Fragment,{children:[E&&(0,g.jsx)(h.Z,{activateBottomErrorCard:V,errorTitle:O}),(0,g.jsx)("div",{className:"w-full text-center mx-auto h-max relative",children:(0,g.jsx)("div",{className:"w-full h-max mx-auto rounded-lg ",children:(0,g.jsx)("form",{onChange:function(s){var e=s.target.name,t=s.target.value;"mobile"==e&&M.setFieldValue("mobile",(0,m.Ud)(t,M.values.mobile,10))},children:(0,g.jsxs)("div",{className:"grid grid-cols-12 px-4 md:px-0 shadow-none md:shadow-lg ",children:[(0,g.jsx)("div",{className:"col-span-6 hidden md:block bg-white py-10",children:(0,g.jsx)("img",{className:"w-3/4",src:n.Z})}),(0,g.jsx)("div",{className:"w-full md:px-10 col-span-12 md:col-span-6 shadow-lg md:shadow-none bg-white py-10",children:(0,g.jsxs)("div",{className:"px-6 py-6 mt-10 text-gray-700 md:px-14",children:[(0,g.jsx)("h1",{className:"text-center font-semibold my-1 flex justify-center",children:(0,g.jsxs)("span",{className:"px-1 text-indigo-500 text-semibold text-2xl poppins uppercase",children:[T," Password"]})}),"change"==T&&(0,g.jsxs)("div",{className:"my-3 relative text-sm",children:[(0,g.jsx)("div",{className:"text-gray-600 static mb-1 font-semibold text-left poppins",children:"Old Password"}),(0,g.jsxs)("div",{className:"flex flex-row flex-wrap gap-x-2 gap-y-2",children:[(0,g.jsx)("input",(0,a.Z)((0,a.Z)({type:"password"},M.getFieldProps("oldPassword")),{},{className:"form-control px-3 text-xs 2xl:text-sm py-1 font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none shadow-md poppins w-full",placeholder:"Enter Your Old Password"})),(0,g.jsx)("div",{className:"w-full text-start",children:(0,g.jsx)("span",{className:"text-red-600 text-xs poppins text-start",children:M.touched.oldPassword&&M.errors.oldPassword?M.errors.oldPassword:null})})," "]})]}),(0,g.jsxs)("div",{className:"my-3 relative text-sm",children:[(0,g.jsx)("div",{className:"text-gray-600 static mb-1 font-semibold text-left poppins",children:"New Password"}),(0,g.jsxs)("div",{className:"flex flex-row flex-wrap gap-x-2 gap-y-2",children:[(0,g.jsx)("input",(0,a.Z)((0,a.Z)({type:"password"},M.getFieldProps("newPassword")),{},{className:"form-control px-3 text-xs 2xl:text-sm py-1 font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none shadow-md poppins w-full",placeholder:"Enter Your New Password"})),(0,g.jsx)("div",{className:"w-full text-start",children:(0,g.jsx)("span",{className:"text-red-600 text-xs poppins text-start",children:M.touched.newPassword&&M.errors.newPassword?M.errors.newPassword:null})})," "]})]}),(0,g.jsxs)("div",{className:"my-3 relative text-sm",children:[(0,g.jsx)("div",{className:"text-gray-600 static mb-1 font-semibold text-left poppins",children:"Confirm New Password"}),(0,g.jsxs)("div",{className:"flex flex-row flex-wrap gap-x-2 gap-y-2",children:[(0,g.jsx)("input",(0,a.Z)((0,a.Z)({type:"password"},M.getFieldProps("matchNewPassword")),{},{className:"form-control px-3 text-xs 2xl:text-sm py-1 font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none shadow-md poppins w-full",placeholder:"Confirm your new password"})),(0,g.jsx)("div",{className:"w-full text-start",children:(0,g.jsx)("span",{className:"text-red-600 text-xs poppins text-start",children:M.touched.matchNewPassword&&M.errors.matchNewPassword?M.errors.matchNewPassword:null})})," "]})]}),(0,g.jsx)("div",{className:" my-10"}),(0,g.jsx)("div",{className:"text-center mt-3 text-xs"}),(0,g.jsxs)("div",{className:"my-5   relative",children:[(0,g.jsxs)("div",{className:"text-red-600 text-sm font-semibold my-3 ",children:[" ",(0,g.jsxs)("span",{className:"",children:[" ",S]})]}),b?(0,g.jsx)("div",{className:"flex w-full justify-center",children:(0,g.jsx)(x.s5,{strokeColor:"grey",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0})}):(0,g.jsx)("button",{type:"submit",onClick:M.handleSubmit,disabled:b,className:" bg-indigo-500 hover:bg-indigo-700 px-5 shadow-xl py-2 w-[16rem]  rounded-md text-white text-md font-semibold",children:"Submit"})]})]})})]})})})})]})}},21893:function(){}}]);
//# sourceMappingURL=1916.02fadb57.chunk.js.map