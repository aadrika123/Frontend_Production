"use strict";(self.webpackChunkcitizen_landing=self.webpackChunkcitizen_landing||[]).push([[6597,9140],{67619:function(e,t,a){a(72791);t.Z=a.p+"static/media/jlogo.41a02df9a836214de482e1efb2168a7c.svg"},58253:function(e,t){t.Z="http://203.129.217.246:8000"},65064:function(e,t,a){a.d(t,{Z:function(){return s}});var n=a(58253);function s(){var e=n.Z,t=window.localStorage.getItem("citizen_token");return{header:{headers:{Authorization:"Bearer ".concat(t),Accept:"application/json"}},api_ulbList:"".concat(e,"/api/get-all-ulb"),api_wardList:"".concat(e,"/api/get-all-ulb-wards"),api_userProfileDetails:"".concat(e,"/api/my-profile-details"),api_NewWaterConnection:"".concat(e,"/api/water/application/apply-new-connection"),api_getSafHoldingDetails:"".concat(e,"/api/water/search-holding-saf"),api_citizenApplications:"".concat(e,"/api/water/citizenApplications"),api_citizenApprovedApplications:"".concat(e,"/api/water/consumer/get-listed-details"),api_rzpWaterOrderId:"".concat(e,"/api/water/Razorpay-Orderid"),api_getTranNo:"".concat(e,"/api/water/getTranNo"),api_paymentReceipt:"".concat(e,"/api/water/generate-payment-receipt"),api_waterConsumerPaymentReceipt:"".concat(e,"/api/water/consumer/demand/generate-payment-receipt"),api_waterApplicationDelete:"".concat(e,"/api/water/application/delete "),api_waterViewPendingApplication:"".concat(e,"/api/water/application/get-by-id "),api_waterViewDocumetTobeuploaded:"".concat(e,"/api/water/citizen/get-doc-list"),api_waterUploadDoc:"".concat(e,"/api/water/upload-document"),api_waterApprovedApplicationDetails:"".concat(e,"/api/water/consumer/get-listed-details"),api_waterConsumerPaymentHistory:"".concat(e,"/api/water/consumer/get-payment-history"),api_waterListDemand:"".concat(e,"/api/water/consumer/list-demand"),api_getHoldingSafOfLogin:"".concat(e,"/api/property/citizen-holding-saf"),api_waterDemandCalculation:"".concat(e,"/api/water/consumer/calculate-month-demand"),api_waterDemandPayment:"".concat(e,"/api/water/consumer/offline-demand-payment")}}},39723:function(e,t,a){a(72791),a(39883),a(67619);var n=a(80184);t.Z=function(){return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"p-4 w-screen h-screen fixed top-0 left-0 flex flex-col justify-center items-center",style:{zIndex:1e3},children:[(0,n.jsx)("div",{className:"h-screen w-screen top-0 left-0 opacity-30 absolute flex justify-center items-center",children:(0,n.jsx)("div",{className:"w-1/3 h-1/3 "})}),(0,n.jsx)("div",{className:"",children:(0,n.jsx)("span",{className:"loader px-20 py-20 text-center"})}),(0,n.jsx)("div",{className:"text-center -ml-16",children:"Loading.."})]})})}},98336:function(e,t,a){a.r(t);var n=a(70885),s=a(72791),l=a(57689),i=a(61044),o=a(16856),r=a(39723),c=a(65064),d=a(72426),x=a.n(d),m=a(80184);t.default=function(e){var t,a,d,p,u=(0,s.useState)(!1),h=(0,n.Z)(u,2),f=h[0],v=h[1],g=(0,s.useState)(),y=(0,n.Z)(g,2),N=y[0],j=y[1],w=(0,s.useState)(),b=(0,n.Z)(w,2),D=b[0],_=b[1],A=(0,l.UO)().id,M=(0,l.s0)(),C=(0,c.Z)(),P=C.api_waterApprovedApplicationDetails,O=C.api_waterListDemand,z=C.header;return(0,s.useEffect)((function(){i.ZP.post(O,{ConsumerId:A},z).then((function(e){e.data.status?(console.log("Fetched Water Demand List",e.data.data),_(e.data.data)):console.log("Demand not found")})).catch((function(e){console.log("Exception while fetching Water Demand",e)}))}),[A]),(0,s.useEffect)((function(){v(!0),i.ZP.post(P,{id:A},z).then((function(e){console.log("water Approved Application Details",e.data.data),j(e.data.data),v(!1)})).catch((function(e){console.log("Error : water Approved Application Details",e),v(!1)}))}),[A]),(0,m.jsxs)(m.Fragment,{children:[f&&(0,m.jsx)(r.Z,{}),(0,m.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-12 lg:grid-cols-12 gap-2 container mx-auto w-full",children:(0,m.jsxs)("div",{className:"col-span-12 rounded-lg p-4",children:[(0,m.jsxs)("div",{className:"flex py-2 justify-center items-center",children:[(0,m.jsxs)("div",{className:"flex-1 flex pl-2 font-bold text-2xl text-gray-700",children:[" Demand Details - ",null===N||void 0===N?void 0:N.consumer_no]}),(0,m.jsxs)("div",{className:"flex justify-right items-center",children:[(0,m.jsx)("button",{onClick:function(){return M("/waterViewConsumer/".concat(A))},className:"mr-4 bg-white border border-indigo-500 text-indigo-500 px-4 py-1 shadow-lg hover:scale-105 rounded-sm",children:"Consumer Details"}),(0,m.jsx)("button",{className:"mr-4 bg-indigo-500  text-white px-4 py-1 shadow-lg hover:scale-105 rounded-sm",children:"Demand Details"}),(0,m.jsx)("button",{onClick:function(){return M("/waterViewPaymentHistory/".concat(A))},className:"mr-4 bg-white border border-indigo-500 text-indigo-500 px-4 py-1 shadow-lg hover:scale-105 rounded-sm",children:"Payment History"})]})]}),(0,m.jsxs)("div",{className:"p-4",children:[(0,m.jsxs)("div",{className:"",children:[(0,m.jsxs)("h1",{className:"px-1 font-semibold font-serif  text-gray-500",children:[(0,m.jsx)(o.XN7,{className:"inline"})," Basic Details"]}),(0,m.jsx)("div",{className:"py-6 mt-2 bg-white rounded-lg shadow-xl p-4",children:(0,m.jsxs)("div",{className:"flex space-x-5 pl-4 ",children:[(0,m.jsxs)("div",{className:"flex-1",children:[(0,m.jsx)("div",{className:"font-semibold text-sm",children:null!==N&&void 0!==N&&N.ulb_name?null===N||void 0===N?void 0:N.ulb_name:"N/A"}),(0,m.jsx)("div",{className:"text-gray-500 text-xs",children:"ULB Name"})]}),(0,m.jsxs)("div",{className:"flex-1",children:[(0,m.jsx)("div",{className:"font-bold text-sm",children:null!==N&&void 0!==N&&N.ward_name?null===N||void 0===N?void 0:N.ward_name:"N/A"}),(0,m.jsx)("div",{className:"text-gray-500 text-xs",children:"Ward No."})]}),(0,m.jsxs)("div",{className:"flex-1",children:[(0,m.jsx)("div",{className:"font-bold text-sm",children:null!==N&&void 0!==N&&N.consumer_no?null===N||void 0===N?void 0:N.consumer_no:"N/A"}),(0,m.jsx)("div",{className:"text-gray-500 text-xs",children:"Consumer No"})]}),(0,m.jsxs)("div",{className:"flex-1",children:[(0,m.jsx)("div",{className:"font-bold text-sm",children:null!==N&&void 0!==N&&N.connection_through?null===N||void 0===N?void 0:N.connection_through:"N/A"}),(0,m.jsx)("div",{className:"text-gray-500 text-xs",children:"Connection Through"})]}),"SAF"==(null===N||void 0===N?void 0:N.connection_through)?(0,m.jsxs)("div",{className:"flex-1",children:[(0,m.jsx)("div",{className:"font-semibold text-md",children:null!==N&&void 0!==N&&N.saf_no?null===N||void 0===N?void 0:N.saf_no:"N/A"}),(0,m.jsx)("div",{className:"text-gray-500 text-xs",children:"SAF No"})]}):(0,m.jsxs)("div",{className:"flex-1",children:[(0,m.jsx)("div",{className:"font-semibold text-md",children:null!==N&&void 0!==N&&N.holding_no?null===N||void 0===N?void 0:N.holding_no:"N/A"}),(0,m.jsx)("div",{className:"text-gray-500 text-xs",children:"Holding No"})]}),(0,m.jsxs)("div",{className:"flex-1",children:[(0,m.jsx)("div",{className:"font-semibold text-md",children:null!==N&&void 0!==N&&N.owner_char_type?null===N||void 0===N?void 0:N.owner_char_type:"N/A"}),(0,m.jsx)("div",{className:"text-gray-500 text-xs",children:"Ownership Type"})]})]})})]}),D?(0,m.jsxs)("div",{children:[(0,m.jsxs)("div",{className:"flex flex-wrap w-full space-x-0 my-5",children:[(0,m.jsxs)("div",{className:"grow",children:[(0,m.jsx)("span",{className:"text-sm",children:"Total Dues :"})," ",(0,m.jsxs)("span",{className:"font-semibold text-gray-700 text-lg",children:["\u20b9 ",null===D||void 0===D?void 0:D.totalSumDemand]})]}),(0,m.jsxs)("div",{className:"grow",children:[(0,m.jsx)("span",{className:"text-sm",children:"Due From :"})," ",(0,m.jsxs)("span",{className:"font-semibold text-gray-700 text-lg",children:[x()(null===D||void 0===D||null===(t=D.consumerDemands[0])||void 0===t?void 0:t.demand_from,"YYYY-MM-DD").format("DD-MMM-yy")," "]})]}),(0,m.jsxs)("div",{className:"grow",children:[(0,m.jsx)("span",{className:"text-sm",children:"Due Upto :"})," ",(0,m.jsxs)("span",{className:"font-semibold text-gray-700 text-lg",children:[x()(null===D||void 0===D||null===(a=D.consumerDemands.at(-1))||void 0===a?void 0:a.demand_upto,"YYYY-MM-DD").format("DD-MMM-yy")," "]})]}),(0,m.jsxs)("div",{className:"grow",children:[(0,m.jsx)("span",{className:"text-sm",children:"Total Due Months :"})," ",(0,m.jsx)("span",{className:"font-semibold text-gray-700 text-lg",children:null===D||void 0===D||null===(d=D.consumerDemands)||void 0===d?void 0:d.length})]})]}),(0,m.jsxs)("div",{className:"mt-5",children:[(0,m.jsxs)("h1",{className:"px-1 font-semibold font-serif text-gray-500",children:[(0,m.jsx)(o.XN7,{className:"inline"})," Demand Details"]}),(0,m.jsxs)("table",{className:"min-w-full leading-normal mt-2 bg-white rounded-lg shadow-xl p-4",children:[(0,m.jsx)("thead",{className:"font-bold text-left text-sm border text-gray-800 bg-white",children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"#"}),(0,m.jsx)("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"Demand From"}),(0,m.jsx)("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"Demand Upto"}),(0,m.jsx)("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"Demand Amount"}),(0,m.jsx)("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"Penalty"}),(0,m.jsx)("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"Connection Type"}),(0,m.jsx)("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"Payable Amount "})]})}),(0,m.jsx)("tbody",{className:"text-sm",children:(0,m.jsx)(m.Fragment,{children:null===D||void 0===D||null===(p=D.consumerDemands)||void 0===p?void 0:p.map((function(e,t){return(0,m.jsxs)("tr",{className:"bg-white shadow-xl border-b border-gray-200",children:[(0,m.jsx)("td",{className:"px-2 py-2 text-left text-gray-500 text-xs",children:t+1}),(0,m.jsx)("td",{className:"px-2 py-2 text-left text-gray-500 text-xs",children:null!==e&&void 0!==e&&e.demand_from?x()(null===e||void 0===e?void 0:e.demand_from,"YYYY-MM-DD").format("DD-MMM-yy"):"N/A"}),(0,m.jsx)("td",{className:"px-2 py-2 text-left text-gray-500 text-xs",children:null!==e&&void 0!==e&&e.demand_upto?x()(null===e||void 0===e?void 0:e.demand_upto,"YYYY-MM-DD").format("DD-MMM-yy"):"N/A"}),(0,m.jsx)("td",{className:"px-2 py-2 text-left text-gray-500 text-xs",children:null!==e&&void 0!==e&&e.balance_amount?null===e||void 0===e?void 0:e.balance_amount:"N/A"}),(0,m.jsx)("td",{className:"px-2 py-2 text-left text-gray-500 text-xs",children:null!==e&&void 0!==e&&e.penalty?null===e||void 0===e?void 0:e.penalty:"N/A"}),(0,m.jsx)("td",{className:"px-2 py-2 text-left text-gray-500 text-xs",children:null!==e&&void 0!==e&&e.connection_type?null===e||void 0===e?void 0:e.connection_type:"N/A"}),(0,m.jsx)("td",{className:"px-2 py-2 text-left text-gray-500 text-xs",children:null!==e&&void 0!==e&&e.amount?"\u20b9 "+(null===e||void 0===e?void 0:e.amount):"N/A"})]})}))})})]})]}),(0,m.jsxs)("div",{className:"mt-6 mx-3",children:[(0,m.jsxs)("div",{className:"float-left flex space-x-8",children:[(0,m.jsx)("p",{className:"text-gray-600 text-xl font-semibold",children:"Total Payable Amount"}),(0,m.jsxs)("p",{className:"text-black text-3xl font-semibold",children:["\u20b9 ",null===D||void 0===D?void 0:D.totalSumDemand]})]}),(0,m.jsx)("div",{className:"float-right",children:(0,m.jsx)("button",{onClick:function(){return M("/waterDemandPayment/".concat(A))},className:"bg-indigo-700 hover:bg-indigo-600 px-4 py-2 rounded shadow-2xl text-white text-sm",children:"Pay Now"})})]})]}):(0,m.jsx)("div",{className:"text-center mt-5 border border-indigo-300 shadow-md rounded py-2 font-semibold text-red-600",children:"Demand Not Found !"})]}),(0,m.jsx)("div",{className:"mt-6"})]})}),(0,m.jsx)("div",{className:"w-full h-60"})]})}},89983:function(e,t,a){a.d(t,{w_:function(){return c}});var n=a(72791),s={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},l=n.createContext&&n.createContext(s),i=function(){return i=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var s in t=arguments[a])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},i.apply(this,arguments)},o=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(a[n[s]]=e[n[s]])}return a};function r(e){return e&&e.map((function(e,t){return n.createElement(e.tag,i({key:t},e.attr),r(e.child))}))}function c(e){return function(t){return n.createElement(d,i({attr:i({},e.attr)},t),r(e.child))}}function d(e){var t=function(t){var a,s=e.attr,l=e.size,r=e.title,c=o(e,["attr","size","title"]),d=l||t.size||"1em";return t.className&&(a=t.className),e.className&&(a=(a?a+" ":"")+e.className),n.createElement("svg",i({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,c,{className:a,style:i(i({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),r&&n.createElement("title",null,r),e.children)};return void 0!==l?n.createElement(l.Consumer,null,(function(e){return t(e)})):t(s)}},39883:function(){}}]);
//# sourceMappingURL=6597.cb924dba.chunk.js.map