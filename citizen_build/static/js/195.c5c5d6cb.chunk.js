"use strict";(self.webpackChunkcitizen_landing=self.webpackChunkcitizen_landing||[]).push([[195],{70195:function(e,t,o){o.r(t);var l=o(1413),n=o(29439),i=o(72791),s=o(97948),a=o.n(s),d=(o(60786),o(55705)),r=o(81724),u=o(99008),c=o(62037),g=o(31243),h=o(5055),x=o(57689),m=o(32612),f=(o(64491),o(25229),o(82536)),p=o(80184);a().setAppElement("#root"),t.default=function(e){var t=(0,i.useState)(!0),o=(0,n.Z)(t,2),s=(o[0],o[1],(0,i.useState)(!1)),a=(0,n.Z)(s,2),b=a[0],v=a[1],N=(0,i.useState)(!1),w=(0,n.Z)(N,2),j=w[0],y=w[1],Z=(0,i.useState)(""),S=(0,n.Z)(Z,2),k=S[0],C=S[1],P=(0,u.Z)().api_sendMobileOtpAttachment,F=(0,i.useContext)(h.n).notify,T=((0,x.s0)(),(0,i.useState)(!1)),E=(0,n.Z)(T,2),V=E[0],_=E[1],A=(0,i.useState)(null),L=(0,n.Z)(A,2),M=L[0],z=L[1],H=(0,i.useState)(""),O=(0,n.Z)(H,2),B=O[0],R=(O[1],r.Ry({ptnNo:r.Z_(),holdingNo:r.Z_()})),q=(0,d.TA)({initialValues:{ptnNo:"",holdingNo:""},onSubmit:function(t){console.log("at submit form.....",t),t.ptnNo.length<14&&t.holdingNo<15?C("Please enter PTN or holding no."):(0==t.ptnNo.length?null===e||void 0===e||e.setholdingNo(t.holdingNo):null===e||void 0===e||e.setptnNo(t.ptnNo),D(t))},validationSchema:R}),D=function(t){var o;_(!1),v(!0),y(!1),o=0==t.ptnNo.length?{holdingNo:t.holdingNo}:{ptNo:t.ptnNo},console.log("before send otp for attachment...",o),g.Z.post(P,o,(0,m.Z)()).then((function(t){var o,l,n,i;(console.log("otp send for attachment response",null===t||void 0===t?void 0:t.data),null!==t&&void 0!==t&&null!==(o=t.data)&&void 0!==o&&o.status)?(null===e||void 0===e||e.setpropertyAttachedMobileNo(null===t||void 0===t||null===(l=t.data)||void 0===l||null===(n=l.data)||void 0===n?void 0:n.mobileNo),null===e||void 0===e||e.setptnCardStatus(!1),null===e||void 0===e||e.setotpCardStatus(!0)):G(!0,null===t||void 0===t||null===(i=t.data)||void 0===i?void 0:i.message);v(!1)})).catch((function(e){console.log("error otp send",e),F("Something went wrong in attachment...","error"),v(!1),G(!0,"Error occured. Please try again later."),y(!0)}))},G=function(e,t){z(t),_(e)};return(0,p.jsxs)(p.Fragment,{children:[b&&(0,p.jsx)(c.Z,{}),V&&(0,p.jsx)(f.Z,{activateBottomErrorCard:G,errorTitle:M}),(0,p.jsx)("div",{class:"w-full sm:w-full  mx-auto",children:(0,p.jsx)("div",{class:"container mx-auto",children:(0,p.jsx)("div",{class:"max-w-sm mx-auto md:max-w-lg",children:(0,p.jsx)("div",{class:"w-full bg-white rounded text-center shadow-xl relative p-20",children:(0,p.jsxs)("div",{class:"",children:[(0,p.jsx)("button",{onClick:function(){return null===e||void 0===e?void 0:e.closeModal(!1)},type:"button",class:"absolute top-6 right-6 bg-transparent bg-gray-200 text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center shadow-sm  hover:bg-red-200 hover:border-none",children:(0,p.jsx)("svg",{class:"w-5 h-5",fill:"currentColor",children:(0,p.jsx)("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})})}),(0,p.jsx)("div",{class:"text-2xl font-bold px-10",children:"Enter PTN No."}),(0,p.jsx)("div",{class:"flex flex-col mt-4 text-center",children:(0,p.jsxs)("span",{className:"text-center",children:["Enter 14 digit PTN no, or Holding no.",(0,p.jsx)("br",{}),"to attach a property"]})}),(0,p.jsx)("div",{class:"flex flex-col mt-4 text-center",children:(0,p.jsx)("span",{className:"text-center text-red-400",children:B})}),(0,p.jsx)("div",{class:"flex flex-row justify-center text-center mt-5",children:(0,p.jsxs)("form",{onSubmit:q.handleSubmit,onChange:function(t){var o=t.target.name,l=t.target.value;"ptnNo"==o?(q.setFieldValue("holdingNo",""),null===e||void 0===e||e.setholdingNo("")):(q.setFieldValue("ptnNo",""),null===e||void 0===e||e.setptnNo("")),"ptnNo"==o&&q.setFieldValue("ptnNo",l),"holdingNo"==o&&q.setFieldValue("holdingNo",l),"ptnNo"==o&&l.length>=14||"holdingNo"==o&&l.length>=14?y(!0):y(!1)},children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold w-full text-left",children:"PTN"}),(0,p.jsx)("input",(0,l.Z)((0,l.Z)({type:"text"},q.getFieldProps("ptnNo")),{},{className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}))]}),(0,p.jsx)("div",{className:"font-semibold text-indigo-500 mt-2",children:"Or"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold w-full text-left",children:"Holding No."}),(0,p.jsx)("input",(0,l.Z)((0,l.Z)({type:"text"},q.getFieldProps("holdingNo")),{},{className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}))]}),(0,p.jsx)("div",{className:"text-red-500 mt-10",children:k}),(0,p.jsxs)("div",{class:"w-full text-center",children:[j&&(0,p.jsx)("button",{type:"submit",className:"w-full  py-2.5 bg-indigo-600 text-white font-medium text-xs leading-tight  rounded shadow-md hover:bg-indigo-700 hover:shadow-lg focus:bg-indigo-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-indigo-800 active:shadow-lg transition duration-150 ease-in-out",children:"Submit"}),!j&&(0,p.jsx)("button",{type:"button",className:"w-full  py-2.5 bg-gray-400 text-white font-medium text-xs leading-tight  rounded shadow-md  hover:shadow-lg  focus:shadow-lg focus:outline-none focus:ring-0  transition duration-150 ease-in-out cursor-default ",children:"Submit"})]})]})})]})})})})})]})}}}]);
//# sourceMappingURL=195.c5c5d6cb.chunk.js.map