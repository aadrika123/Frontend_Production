"use strict";(self.webpackChunkcitizen_landing=self.webpackChunkcitizen_landing||[]).push([[6463,4225,7440],{87440:function(e,t,s){s.r(t);var r=s(15671),n=s(43144),a=s(60136),l=s(27277),i=s(72791),o=s(80184),d=function(e){(0,a.Z)(s,e);var t=(0,l.Z)(s);function s(e){var n;return(0,r.Z)(this,s),(n=t.call(this,e)).state={hasError:!1},n}return(0,n.Z)(s,[{key:"render",value:function(){var e;return this.state.hasError?(0,o.jsx)("h1",{className:"text-red-600 text-lg font-semibold",children:null===(e=this.props)||void 0===e?void 0:e.errorMsg}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),s}(i.Component);t.default=d},66463:function(e,t,s){s.r(t);s(72791);var r=s(99008),n=s(87440),a=s(14225),l=s(80184);t.default=function(){var e={api:{api_getTranscationHistory:{method:"get",url:(0,r.Z)().api_getTranscationHistory}},transactionInfo:{title:"Property Payment History"},tableColumns:[{Header:"#",Cell:function(e){var t=e.row;return(0,l.jsx)("div",{className:"pr-2",children:t.index+1})}},{Header:"Application No.",accessor:"saf_no"},{Header:"Transaction No.",accessor:"tran_no"},{Header:"Payment Mode",accessor:"payment_mode"},{Header:"Transaction Date",accessor:"created_at"},{Header:"Amount",accessor:"amount"}],filters:{applicationNo:!0}};return(0,l.jsx)(n.default,{errorMsg:"Bug in TransactionHistoryFactory",children:(0,l.jsx)(a.default,{transactionRules:e})})}},14225:function(e,t,s){s.r(t),s.d(t,{default:function(){return b}});var r=s(42982),n=s(70885),a=s(72791),l=s(61044),i=s(1413),o=s(71358),d=s(78820),c=s(98472),u=s(80184);var x=function(e){var t=e.filter,s=e.setFilter;return(0,u.jsxs)(u.Fragment,{children:["Search : "," ",(0,u.jsx)("input",{className:"border-2 border-gray-600 px-2 bg-gray-200",type:"text",value:t||"",onChange:function(e){return s(e.target.value)}})]})};var h=function(e){var t=(0,a.useState)("hidden"),s=(0,n.Z)(t,2),r=s[0],l=s[1],h=(0,a.useMemo)((function(){return e.columns}),[]),v=(0,a.useMemo)((function(){return e.dataList}),[e.dataList]);(0,a.useEffect)((function(){S(10)}),[]);var m=(0,o.useTable)({columns:h,data:v,initialState:{pageIndex:0}},o.useGlobalFilter,o.useSortBy,o.usePagination),f=(m.getTableProps,m.getTableBodyProps),p=m.headerGroups,g=m.page,b=m.nextPage,j=m.previousPage,y=m.canNextPage,N=m.canPreviousPage,w=m.prepareRow,Z=m.pageOptions,P=m.gotoPage,k=m.pageCount,S=m.setPageSize,C=m.state,H=m.setGlobalFilter,T=C.globalFilter,F=C.pageIndex,M=C.pageSize;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"flex mb-2 pb-2",children:[(0,u.jsx)("div",{className:"flex-initial",children:(0,u.jsx)(x,{filter:T,setFilter:H})}),0!=(null===e||void 0===e?void 0:e.export)&&(0,u.jsx)("div",{className:"flex-initial ml-2",children:(0,u.jsxs)("button",{className:"bg-sky-400 px-3 pr-3  shadow-lg rounded py-1 text-white hover:shadow-2xl hover:bg-green-600 text-center relative",onMouseEnter:function(){return l("")},onMouseLeave:function(){return l("hidden")},children:[(0,u.jsx)(c.CSVLink,{data:e.dataList,children:"Export"}),(0,u.jsx)("div",{className:r+" absolute h-full top-3 text-sm left-0 text-center animate-bounce",children:(0,u.jsx)(d.Duv,{})})]})}),(0,u.jsx)("div",{className:"flex-1",children:e.children}),e.assessmentType&&(0,u.jsxs)("div",{className:"flex-initial flex",children:[(0,u.jsxs)("div",{className:"flex",children:[(0,u.jsx)("div",{className:"flex-initial h-4 w-4 text-green-900 text-xs font-semibold text-center bg-green-200 rounded-full flex-initial ml-4 ",children:"N"}),(0,u.jsx)("div",{className:"flex-initial text-xs ml-2",children:" New Assessment"}),(0,u.jsx)("div",{className:"flex-initial h-4 w-4 bg-blue-200 h-4 w-4 text-blue-900 text-xs font-semibold text-center rounded-full flex-initial ml-4",children:"R"}),(0,u.jsx)("div",{className:"flex-initial text-xs ml-2",children:" Re-Assessment"}),(0,u.jsx)("div",{className:"flex-initial h-4 w-4 bg-red-200 h-4 w-4 text-red-900 text-xs font-semibold text-center rounded-full flex-initial ml-4",children:"M"}),(0,u.jsx)("div",{className:"flex-initial text-xs ml-2",children:" Mutation"})]}),(0,u.jsx)("div",{}),(0,u.jsx)("div",{})]})]}),(0,u.jsx)("div",{className:" py-2 overflow-x-auto",children:(0,u.jsxs)("div",{className:"inline-block min-w-full rounded-lg overflow-hidden bg-white shadow-lg",children:[(0,u.jsxs)("table",(0,i.Z)((0,i.Z)({},f),{},{className:"min-w-full leading-normal",children:[(0,u.jsx)("thead",{className:"font-bold text-left text-sm bg-sky-50",children:null===p||void 0===p?void 0:p.map((function(e){return(0,u.jsx)("tr",(0,i.Z)((0,i.Z)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return(0,u.jsxs)("th",(0,i.Z)((0,i.Z)({},e.getHeaderProps(e.getSortByToggleProps())),{},{className:"px-2 py-3 border-b border-gray-200 text-gray-800  text-left text-xs uppercase text-left",children:[e.render("Header"),(0,u.jsx)("span",{children:e.isSorted?e.isSortedDesc?"\u2b06\ufe0f":"\u2b07\ufe0f":""})]}))}))}))}))}),(0,u.jsxs)("tbody",(0,i.Z)((0,i.Z)({},f()),{},{className:"text-sm",children:[" ",null===g||void 0===g?void 0:g.map((function(e){var t;return w(e),(0,u.jsx)("tr",(0,i.Z)((0,i.Z)({},e.getRowProps()),{},{className:"bg-white shadow-lg border-b border-gray-200",children:null===e||void 0===e||null===(t=e.cells)||void 0===t?void 0:t.map((function(e){return(0,u.jsx)("td",(0,i.Z)((0,i.Z)({},e.getCellProps()),{},{className:"px-2 py-2 text-sm text-left",children:e.render("Cell")}))}))}))})),(0,u.jsx)("tr",{children:(0,u.jsx)("td",{})})]}))]})),(0,u.jsxs)("div",{className:"mt-3 grid grid-cols-12",children:[(0,u.jsxs)("div",{className:"col-span-2",children:["  ",(0,u.jsx)("select",{className:"h-10 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 ",value:M,onChange:function(e){return S(Number(e.target.value))},children:[5,10,25,50].map((function(e){return(0,u.jsxs)("option",{value:e,children:["show ",e]},e)}))})]}),(0,u.jsxs)("div",{className:"col-span-4 text-center col-start-5",children:["   ",(0,u.jsxs)("span",{children:["page ","",(0,u.jsxs)("strong",{children:[F+1," of ",Z.length]}),""]})]}),(0,u.jsxs)("div",{className:"col-span-4 text-right",children:[(0,u.jsxs)("button",{className:"cursor-pointer hover:bg-sky-300 p-2 hover:text-white",onClick:function(){return P(0)},disabled:!N,children:[(0,u.jsx)(d.xN8,{})," "]}),(0,u.jsx)("button",{className:(N?"opacity-100":"opacity-50")+" text-xl hover:bg-sky-300 hover:text-white",onClick:function(){return j()},disabled:!N,children:"\u2b05\ufe0f"}),(0,u.jsx)("button",{className:(y?"opacity-100":"opacity-50")+" text-xl hover:bg-sky-300 hover:text-white",onClick:function(){return b()},disabled:!y,children:"\u27a1\ufe0f"}),(0,u.jsxs)("button",{className:"cursor-pointer hover:bg-sky-300 p-2 hover:text-white",onClick:function(){return P(k-1)},disabled:!y,children:["  ",(0,u.jsx)(d.yci,{})]})]})]})]})})]})},v=s(87440),m=s(32612),f=s(40399),p=s(25229),g=s(64491);var b=function(e){var t,s=(0,a.useState)(),i=(0,n.Z)(s,2),o=i[0],d=i[1],c=(0,a.useState)(!1),x=(0,n.Z)(c,2),b=x[0],j=x[1],y=(0,a.useState)(!1),N=(0,n.Z)(y,2),w=N[0],Z=N[1],P=(0,a.useState)(!1),k=(0,n.Z)(P,2),S=k[0],C=k[1],H=(0,r.Z)(null===e||void 0===e||null===(t=e.transactionRules)||void 0===t?void 0:t.tableColumns);(0,a.useEffect)((function(){T()}),[]);var T=function(){var t,s,r,n,a,i;C(!0),Z(!1),j(!1),l.ZP[null===e||void 0===e||null===(t=e.transactionRules)||void 0===t||null===(s=t.api)||void 0===s||null===(r=s.api_getTranscationHistory)||void 0===r?void 0:r.method](null===e||void 0===e||null===(n=e.transactionRules)||void 0===n||null===(a=n.api)||void 0===a||null===(i=a.api_getTranscationHistory)||void 0===i?void 0:i.url,(0,m.Z)()).then((function(e){var t,s;null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.status?(d(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.data),j(!0)):Z(!0);C(!1)})).catch((function(e){console.log("Server is too busy to respond, Please try again later",e),Z(!0),j(!1),C(!1)}))};return w?(0,u.jsx)(g.Z,{children:(0,u.jsx)(p.Z,{title:"Server is busy",desc:"Server is too busy to respond. Please try again later.",buttonText:"View Dashboard",buttonUrl:"/propertyDashboard"})}):w?void 0:(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:"w-ful md:px-10 md:pt-5 mx-auto",children:[S&&(0,u.jsx)(f.Z,{}),b&&(0,u.jsx)(v.default,{errorMsg:"Some bug found",children:(0,u.jsx)(h,{assessmentType:!1,columns:H,dataList:o,export:!1})})]})})}}}]);
//# sourceMappingURL=6463.2e5d48f0.chunk.js.map