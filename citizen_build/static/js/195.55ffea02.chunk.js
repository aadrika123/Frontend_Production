"use strict";(self.webpackChunkcitizen_landing=self.webpackChunkcitizen_landing||[]).push([[195],{70195:function(e,t,o){o.r(t);var l=o(1413),n=o(29439),s=o(72791),i=o(97948),a=o.n(i),d=(o(60786),o(55705)),r=o(81724),u=o(99008),c=o(62037),g=o(31243),h=o(5055),x=o(57689),m=o(73870),f=o(32612),p=(o(64491),o(25229),o(82536)),b=o(80184);a().setAppElement("#root"),t.default=function(e){var t=(0,s.useState)(!0),o=(0,n.Z)(t,2),i=(o[0],o[1],(0,s.useState)(!1)),a=(0,n.Z)(i,2),v=a[0],N=a[1],w=(0,s.useState)(!1),j=(0,n.Z)(w,2),y=j[0],Z=j[1],S=(0,s.useState)(""),k=(0,n.Z)(S,2),C=k[0],P=k[1],F=(0,u.Z)().api_sendMobileOtpAttachment,T=(0,s.useContext)(h.n).notify,E=((0,x.s0)(),(0,s.useState)(!1)),V=(0,n.Z)(E,2),_=V[0],A=V[1],L=(0,s.useState)(null),M=(0,n.Z)(L,2),z=M[0],B=M[1],H=(0,s.useState)(""),O=(0,n.Z)(H,2),R=O[0],q=(O[1],r.Ry({ptnNo:r.Z_(),holdingNo:r.Z_()})),D=(0,d.TA)({initialValues:{ptnNo:"",holdingNo:""},onSubmit:function(t){console.log("at submit form.....",t),t.ptnNo.length<14&&t.holdingNo<15?P("Please enter PTN or holding no."):(0==t.ptnNo.length?null===e||void 0===e||e.setholdingNo(t.holdingNo):null===e||void 0===e||e.setptnNo(t.ptnNo),G(t))},validationSchema:q}),G=function(t){var o;A(!1),N(!0),Z(!1),o=0==t.ptnNo.length?{holdingNo:t.holdingNo}:{ptNo:t.ptnNo},console.log("before send otp for attachment...",o),g.Z.post(F,o,(0,f.Z)()).then((function(t){var o,l,n,s;(console.log("otp send for attachment response",null===t||void 0===t?void 0:t.data),null!==t&&void 0!==t&&null!==(o=t.data)&&void 0!==o&&o.status)?(null===e||void 0===e||e.setpropertyAttachedMobileNo(null===t||void 0===t||null===(l=t.data)||void 0===l||null===(n=l.data)||void 0===n?void 0:n.mobileNo),null===e||void 0===e||e.setptnCardStatus(!1),null===e||void 0===e||e.setotpCardStatus(!0)):I(!0,null===t||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message);N(!1)})).catch((function(e){console.log("error otp send",e),T("Something went wrong in attachment...","error"),N(!1),I(!0,"Error occured. Please try again later."),Z(!0)}))},I=function(e,t){B(t),A(e)};return(0,b.jsxs)(b.Fragment,{children:[v&&(0,b.jsx)(c.Z,{}),_&&(0,b.jsx)(p.Z,{activateBottomErrorCard:I,errorTitle:z}),(0,b.jsx)("div",{class:"w-full sm:w-full  mx-auto",children:(0,b.jsx)("div",{class:"container mx-auto",children:(0,b.jsx)("div",{class:"max-w-sm mx-auto md:max-w-lg",children:(0,b.jsx)("div",{class:"w-full bg-white rounded text-center shadow-xl relative p-20",children:(0,b.jsxs)("div",{class:"",children:[(0,b.jsx)("button",{onClick:function(){return null===e||void 0===e?void 0:e.closeModal(!1)},type:"button",class:"absolute top-6 right-6 bg-transparent bg-gray-200 text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center shadow-sm  hover:bg-red-200 hover:border-none",children:(0,b.jsx)("svg",{class:"w-5 h-5",fill:"currentColor",children:(0,b.jsx)("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})})}),(0,b.jsx)("div",{class:"text-2xl font-bold px-10",children:"Enter PTN No."}),(0,b.jsx)("div",{class:"flex flex-col mt-4 text-center",children:(0,b.jsxs)("span",{className:"text-center",children:["Enter 14 digit PTN no, or Holding no.",(0,b.jsx)("br",{}),"to attach a property"]})}),(0,b.jsx)("div",{class:"flex flex-col mt-4 text-center",children:(0,b.jsx)("span",{className:"text-center text-red-400",children:R})}),(0,b.jsx)("div",{class:"flex flex-row justify-center text-center mt-5",children:(0,b.jsxs)("form",{onSubmit:D.handleSubmit,onChange:function(t){var o=t.target.name,l=t.target.value;"ptnNo"==o?(D.setFieldValue("holdingNo",""),null===e||void 0===e||e.setholdingNo("")):(D.setFieldValue("ptnNo",""),null===e||void 0===e||e.setptnNo("")),"ptnNo"==o&&D.setFieldValue("ptnNo",(0,m.jB)(l,D.values.ptnNo,17)),"holdingNo"==o&&D.setFieldValue("holdingNo",(0,m.jB)(l,D.values.holdingNo,16)),"ptnNo"==o&&l.length>=14||"holdingNo"==o&&l.length>=14?Z(!0):Z(!1)},children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold w-full text-left",children:"PTN"}),(0,b.jsx)("input",(0,l.Z)((0,l.Z)({type:"text"},D.getFieldProps("ptnNo")),{},{className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}))]}),(0,b.jsx)("div",{className:"font-semibold text-indigo-500 mt-2",children:"Or"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold w-full text-left",children:"Holding No."}),(0,b.jsx)("input",(0,l.Z)((0,l.Z)({type:"text"},D.getFieldProps("holdingNo")),{},{className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}))]}),(0,b.jsx)("div",{className:"text-red-500 mt-10",children:C}),(0,b.jsxs)("div",{class:"w-full text-center",children:[y&&(0,b.jsx)("button",{type:"submit",className:"w-full  py-2.5 bg-indigo-600 text-white font-medium text-xs leading-tight  rounded shadow-md hover:bg-indigo-700 hover:shadow-lg focus:bg-indigo-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-indigo-800 active:shadow-lg transition duration-150 ease-in-out",children:"Submit"}),!y&&(0,b.jsx)("button",{type:"button",className:"w-full  py-2.5 bg-gray-400 text-white font-medium text-xs leading-tight  rounded shadow-md  hover:shadow-lg  focus:shadow-lg focus:outline-none focus:ring-0  transition duration-150 ease-in-out cursor-default ",children:"Submit"})]})]})})]})})})})})]})}}}]);
//# sourceMappingURL=195.55ffea02.chunk.js.map