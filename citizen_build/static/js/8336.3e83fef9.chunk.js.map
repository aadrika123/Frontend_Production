{"version":3,"file":"static/js/8336.3e83fef9.chunk.js","mappings":"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","sources":["Pages/Water/ViewConsumer/WaterViewDemand.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { useNavigate, useParams } from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport { MdTag } from 'react-icons/md'\r\nimport BarLoader from '../../../Components/Common/BarLoader'\r\nimport WaterApiList from '../../../Components/ApiList/WaterApiList'\r\nimport moment from 'moment'\r\n\r\n\r\n\r\nfunction WaterViewDemand(props) {\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [applicationFullData, setApplicationFullData] = useState()\r\n    const [demandData, setDemandData] = useState()\r\n\r\n    const { id } = useParams()\r\n    const navigate = useNavigate()\r\n\r\n    const { api_waterApprovedApplicationDetails, api_waterListDemand, header } = WaterApiList();\r\n\r\n    const getApplicationDetail = () => {\r\n        setIsLoading(true)\r\n        axios.post(api_waterApprovedApplicationDetails, { id: id }, header)\r\n            .then(function (response) {\r\n                console.log('water Approved Application Details', response.data.data)\r\n                setApplicationFullData(response.data.data)\r\n                setIsLoading(false)\r\n            })\r\n            .catch(function (error) {\r\n                console.log('Error : water Approved Application Details', error)\r\n                setIsLoading(false)\r\n            })\r\n    }\r\n\r\n    useEffect(() => {\r\n        axios.post(api_waterListDemand, { \"ConsumerId\": id }, header)\r\n            .then((res) => {\r\n                if (res.data.status) {\r\n                    console.log(\"Fetched Water Demand List\", res.data.data)\r\n                    // setDemandData(null)\r\n                    setDemandData(res.data.data)\r\n                } else {\r\n                    console.log(\"Demand not found\")\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(\"Exception while fetching Water Demand\", err)\r\n            })\r\n\r\n    }, [id])\r\n\r\n\r\n    useEffect(() => {\r\n        getApplicationDetail()\r\n    }, [id])\r\n\r\n\r\n    return (\r\n        <>\r\n            {\r\n                isLoading && <BarLoader />\r\n            }\r\n\r\n            <div className='grid grid-cols-1 md:grid-cols-12 lg:grid-cols-12 gap-2 container mx-auto w-full'>\r\n\r\n                <div className=\"col-span-12 rounded-lg p-4\">\r\n\r\n                    <div className=\"flex py-2 justify-center items-center\">\r\n                        <div className=\"flex-1 flex pl-2 font-bold text-2xl text-gray-700\"> Demand Details - {applicationFullData?.consumer_no}</div>\r\n                        <div className=\"flex justify-right items-center\">\r\n                            <button onClick={() => navigate(`/waterViewConsumer/${id}`)} className={`mr-4 bg-white border border-indigo-500 text-indigo-500 px-4 py-1 shadow-lg hover:scale-105 rounded-sm`} >Consumer Details</button>\r\n                            <button className={`mr-4 bg-indigo-500  text-white px-4 py-1 shadow-lg hover:scale-105 rounded-sm`} >Demand Details</button>\r\n                            <button onClick={() => navigate(`/waterViewPaymentHistory/${id}`)} className={`mr-4 bg-white border border-indigo-500 text-indigo-500 px-4 py-1 shadow-lg hover:scale-105 rounded-sm`} >Payment History</button>\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n                    {/* Basic  details */}\r\n                    <div className='p-4'>\r\n                        <div className=''>\r\n                            <h1 className='px-1 font-semibold font-serif  text-gray-500'><MdTag className=\"inline\" /> Basic Details</h1>\r\n                            <div className='py-6 mt-2 bg-white rounded-lg shadow-xl p-4'>\r\n                                <div className=\"flex space-x-5 pl-4 \">\r\n                                    <div className='flex-1'>\r\n                                        <div className='font-semibold text-sm'>{applicationFullData?.ulb_name ? applicationFullData?.ulb_name : \"N/A\"}</div>\r\n                                        <div className='text-gray-500 text-xs'>ULB Name</div>\r\n                                    </div>\r\n                                    <div className='flex-1'>\r\n                                        <div className='font-bold text-sm'>{applicationFullData?.ward_name ? applicationFullData?.ward_name : \"N/A\"}</div>\r\n                                        <div className='text-gray-500 text-xs'>Ward No.</div>\r\n                                    </div>\r\n                                    <div className='flex-1'>\r\n                                        <div className='font-bold text-sm'>{applicationFullData?.consumer_no ? applicationFullData?.consumer_no : \"N/A\"}</div>\r\n                                        <div className='text-gray-500 text-xs'>Consumer No</div>\r\n                                    </div>\r\n                                    <div className='flex-1'>\r\n                                        <div className='font-bold text-sm'>{applicationFullData?.connection_through ? applicationFullData?.connection_through : \"N/A\"}</div>\r\n                                        <div className='text-gray-500 text-xs'>Connection Through</div>\r\n                                    </div>\r\n                                    {applicationFullData?.connection_through == 'SAF' ?\r\n                                        <div className='flex-1'>\r\n                                            <div className='font-semibold text-md'>{applicationFullData?.saf_no ? applicationFullData?.saf_no : \"N/A\"}</div>\r\n                                            <div className='text-gray-500 text-xs'>SAF No</div>\r\n                                        </div> :\r\n                                        <div className='flex-1'>\r\n                                            <div className='font-semibold text-md'>{applicationFullData?.holding_no ? applicationFullData?.holding_no : \"N/A\"}</div>\r\n                                            <div className='text-gray-500 text-xs'>Holding No</div>\r\n                                        </div>\r\n                                    }\r\n                                    <div className='flex-1'>\r\n                                        <div className='font-semibold text-md'>{applicationFullData?.owner_char_type ? applicationFullData?.owner_char_type : \"N/A\"}</div>\r\n                                        <div className='text-gray-500 text-xs'>Ownership Type</div>\r\n                                    </div>\r\n\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        {demandData ?\r\n                            <div>\r\n                                <div className='flex flex-wrap w-full space-x-0 my-5'>\r\n                                    <div className='grow'><span className='text-sm'>Total Dues :</span> <span className='font-semibold text-gray-700 text-lg'>₹ {demandData?.totalSumDemand}</span></div>\r\n                                    <div className='grow'><span className='text-sm'>Due From :</span> <span className='font-semibold text-gray-700 text-lg'>{moment(demandData?.consumerDemands[0]?.demand_from, 'YYYY-MM-DD').format('DD-MMM-yy')} </span></div>\r\n                                    <div className='grow'><span className='text-sm'>Due Upto :</span> <span className='font-semibold text-gray-700 text-lg'>{moment(demandData?.consumerDemands.at(-1)?.demand_upto, 'YYYY-MM-DD').format('DD-MMM-yy')} </span></div>\r\n                                    <div className='grow'><span className='text-sm'>Total Due Months :</span> <span className='font-semibold text-gray-700 text-lg'>{demandData?.consumerDemands?.length}</span></div>\r\n                                </div>\r\n\r\n                                {/* Demand details */}\r\n                                <div className='mt-5'>\r\n                                    <h1 className='px-1 font-semibold font-serif text-gray-500'><MdTag className=\"inline\" /> Demand Details</h1>\r\n\r\n                                    <table className='min-w-full leading-normal mt-2 bg-white rounded-lg shadow-xl p-4'>\r\n                                        <thead className='font-bold text-left text-sm border text-gray-800 bg-white'>\r\n                                            <tr>\r\n                                                <th className=\"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left\">#</th>\r\n                                                <th className=\"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left\">Demand From</th>\r\n                                                <th className=\"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left\">Demand Upto</th>\r\n                                                <th className=\"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left\">Demand Amount</th>\r\n                                                <th className=\"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left\">Penalty</th>\r\n                                                <th className=\"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left\">Connection Type</th>\r\n                                                <th className=\"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left\">Payable Amount </th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody className=\"text-sm\">\r\n\r\n                                            <>\r\n                                                {demandData?.consumerDemands?.map((items, i) => (\r\n                                                    <tr className=\"bg-white shadow-xl border-b border-gray-200\">\r\n                                                        <td className=\"px-2 py-2 text-left text-gray-500 text-xs\">{i + 1}</td>\r\n                                                        <td className=\"px-2 py-2 text-left text-gray-500 text-xs\">{items?.demand_from ? moment(items?.demand_from, 'YYYY-MM-DD').format('DD-MMM-yy') : \"N/A\"}</td>\r\n                                                        <td className=\"px-2 py-2 text-left text-gray-500 text-xs\">{items?.demand_upto ? moment(items?.demand_upto, 'YYYY-MM-DD').format('DD-MMM-yy') : \"N/A\"}</td>\r\n                                                        <td className=\"px-2 py-2 text-left text-gray-500 text-xs\">{items?.balance_amount ? items?.balance_amount : \"N/A\"}</td>\r\n                                                        <td className=\"px-2 py-2 text-left text-gray-500 text-xs\">{items?.penalty ? items?.penalty : \"N/A\"}</td>\r\n                                                        <td className=\"px-2 py-2 text-left text-gray-500 text-xs\">{items?.connection_type ? items?.connection_type : \"N/A\"}</td>\r\n                                                        <td className=\"px-2 py-2 text-left text-gray-500 text-xs\">{items?.amount ? '₹ ' + items?.amount : \"N/A\"}</td>\r\n\r\n                                                    </tr>\r\n                                                ))}\r\n                                            </>\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n\r\n                                <div className='mt-6 mx-3'>\r\n                                    <div className='float-left flex space-x-8'>\r\n                                        <p className='text-gray-600 text-xl font-semibold'>Total Payable Amount</p>\r\n                                        <p className='text-black text-3xl font-semibold'>₹ {demandData?.totalSumDemand}</p>\r\n                                    </div>\r\n                                    <div className='float-right'>\r\n                                        <button onClick={() => navigate(`/waterDemandPayment/${id}`)} className='bg-indigo-700 hover:bg-indigo-600 px-4 py-2 rounded shadow-2xl text-white text-sm'>Pay Now</button>\r\n                                    </div>\r\n\r\n                                </div>\r\n                            </div>\r\n                            :\r\n                            <div className='text-center mt-5 border border-indigo-300 shadow-md rounded py-2 font-semibold text-red-600'>Demand Not Found !</div>\r\n                        }\r\n\r\n                    </div>\r\n\r\n                    <div className='mt-6'></div>\r\n\r\n                </div>\r\n\r\n\r\n            </div>\r\n            <div className='w-full h-60'></div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default WaterViewDemand"],"names":["props","useState","isLoading","setIsLoading","applicationFullData","setApplicationFullData","demandData","setDemandData","id","useParams","navigate","useNavigate","WaterApiList","api_waterApprovedApplicationDetails","api_waterListDemand","header","useEffect","axios","then","res","data","status","console","log","catch","err","response","error","className","consumer_no","onClick","ulb_name","ward_name","connection_through","saf_no","holding_no","owner_char_type","totalSumDemand","moment","consumerDemands","demand_from","format","at","demand_upto","length","map","items","i","balance_amount","penalty","connection_type","amount"],"sourceRoot":""}