"use strict";(self.webpackChunkcitizen_landing=self.webpackChunkcitizen_landing||[]).push([[6645],{76645:function(e,t,n){n.r(t);var o=n(4942),r=n(1413),s=n(70885),i=n(72791),c=n(57689),a=n(99008),l=n(61044),u=n(5055),d=n(39723),f=n(64491),h=(n(25229),n(82536)),x=n(80184);t.default=function(e){var t,n=(0,i.useState)(!1),v=(0,s.Z)(n,2),m=v[0],g=v[1],p=(0,i.useState)(""),b=(0,s.Z)(p,2),y=(b[0],b[1],(0,a.Z)().api_verifyMobileOtp),w=(0,i.useState)(!1),j=(0,s.Z)(w,2),k=j[0],Z=j[1],N=(0,i.useContext)(u.n).notify,C=(0,i.useState)(!1),S=(0,s.Z)(C,2),L=S[0],O=S[1],P=(0,i.useState)(""),B=(0,s.Z)(P,2),R=B[0],T=B[1],D=(0,i.useState)(!1),K=(0,s.Z)(D,2),M=K[0],E=K[1],z=(0,i.useState)(null),F=(0,s.Z)(z,2),_=F[0],A=F[1],I=(0,i.useState)(60),H=(0,s.Z)(I,2),V=H[0],W=H[1],q=(0,i.useState)({first:"",second:"",third:"",fourth:"",fifth:"",sixth:""}),G=(0,s.Z)(q,2),J=G[0],Q=G[1],U=(0,i.useRef)(),X=(0,i.useRef)(),Y=(0,i.useRef)(),$=(0,i.useRef)(),ee=(0,i.useRef)(),te=(0,i.useRef)(),ne=(0,c.s0)(),oe=(0,i.useState)("first"),re=(0,s.Z)(oe,2),se=re[0],ie=re[1],ce=function(e,t){T("");var n=(0,r.Z)((0,r.Z)({},J),{},(0,o.Z)({},t,e.target.value));if(Q((0,r.Z)((0,r.Z)({},J),{},(0,o.Z)({},t,e.target.value))),1===e.target.value.length)switch(t){case"first":X.current.focus(),ie("second");break;case"second":Y.current.focus(),ie("third");break;case"third":$.current.focus(),ie("fourth");break;case"fourth":ee.current.focus(),ie("fifth");break;case"fifth":te.current.focus(),ie("sixth");break;case"sixth":ie("sixth")}le(n)},ae=function(e){switch(e){case"second":U.current.focus(),Q((0,r.Z)((0,r.Z)({},J),{},{second:""})),ie("first");break;case"third":X.current.focus(),Q((0,r.Z)((0,r.Z)({},J),{},{third:""})),ie("second");break;case"fourth":Y.current.focus(),Q((0,r.Z)((0,r.Z)({},J),{},{fourth:""})),ie("third");break;case"fifth":$.current.focus(),Q((0,r.Z)((0,r.Z)({},J),{},{fifth:""})),ie("fouth");break;case"sixth":ee.current.focus(),Q((0,r.Z)((0,r.Z)({},J),{},{sixth:""})),ie("fifth")}},le=function(e){console.table(e),""!=e.first&&""!=e.second&&""!=e.third&&""!=e.fourth&&""!=e.fifth&&""!=e.sixth?O(!0):O(!1)},ue=60,de=function(){t=setInterval((function(){W((function(e){return e-1})),0==(ue-=1)&&(g(!0),console.log("inside static stop..."),clearInterval(t))}),1e3)};(0,i.useEffect)((function(){de()}),[]);var fe=function(e,t){A(t),E(e)};return(0,x.jsxs)(x.Fragment,{children:[k&&(0,x.jsx)(d.Z,{}),M&&(0,x.jsx)(h.Z,{activateBottomErrorCard:fe,errorTitle:_}),(0,x.jsx)(f.Z,{children:(0,x.jsx)("div",{class:"",children:(0,x.jsx)("div",{class:"container mx-auto",children:(0,x.jsx)("div",{class:"max-w-sm mx-auto md:max-w-lg",children:(0,x.jsxs)("div",{class:"w-full px-2 md:px-0",children:[(0,x.jsxs)("div",{className:"w-full text-center py-2  bg-gray-200 text-black relative",children:[null===e||void 0===e?void 0:e.headTitle,(0,x.jsx)("button",{onClick:null===e||void 0===e?void 0:e.closeOtpModal,type:"button",class:"absolute top-1 right-6 bg-transparent bg-gray-200 text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center shadow-sm  hover:bg-red-200 hover:border-none",children:(0,x.jsx)("svg",{class:"w-5 h-5",fill:"currentColor",children:(0,x.jsx)("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})})})]}),(0,x.jsxs)("div",{class:"bg-white py-20 px-6 md:py-20 md:px-20 w-full md:w-auto rounded text-center shadow-xl relative",children:[(0,x.jsx)("div",{class:"text-2xl font-bold px-2",children:"OTP Verification"}),(0,x.jsx)("div",{class:"flex flex-col mt-4 text-center",children:(0,x.jsx)("span",{className:"text-center text-red-400",children:R})}),(0,x.jsxs)("div",{class:"flex flex-col mt-4",children:[(0,x.jsx)("span",{children:"Enter the OTP you received at"}),(0,x.jsxs)("span",{class:"font-bold",children:["+91 ",null===e||void 0===e?void 0:e.verifedMobileNo]})]}),(0,x.jsxs)("div",{id:"otp",class:"flex flex-row justify-center text-center px-2 mt-5",children:[(0,x.jsx)("input",{ref:U,type:"text",min:0,value:J.first,maxLength:1,onChange:function(e){return ce(e,"first")},onKeyDown:function(e){return"Backspace"===e.key&&ae("first")},className:"".concat("first"===se?"active":""," m-2 border h-10 w-10 text-center form-control rounded")}),(0,x.jsx)("input",{ref:X,type:"text",min:0,value:J.second,maxLength:1,onChange:function(e){return ce(e,"second")},onKeyDown:function(e){return"Backspace"===e.key&&ae("second")},className:"".concat("second"===se?"active":""," m-2 border h-10 w-10 text-center form-control rounded")}),(0,x.jsx)("input",{ref:Y,type:"text",min:0,value:J.third,maxLength:1,onChange:function(e){return ce(e,"third")},onKeyDown:function(e){return"Backspace"===e.key&&ae("third")},className:"".concat("third"===se?"active":""," m-2 border h-10 w-10 text-center form-control rounded")}),(0,x.jsx)("input",{ref:$,type:"text",min:0,value:J.fourth,maxLength:1,onChange:function(e){return ce(e,"fourth")},onKeyDown:function(e){return"Backspace"===e.key&&ae("fourth")},className:"".concat("fourth"===se?"active":""," m-2 border h-10 w-10 text-center form-control rounded")}),(0,x.jsx)("input",{ref:ee,type:"text",min:0,value:J.fifth,maxLength:1,onChange:function(e){return ce(e,"fifth")},onKeyDown:function(e){return"Backspace"===e.key&&ae("fifth")},className:"".concat("fifth"===se?"active":""," m-2 border h-10 w-10 text-center form-control rounded")}),(0,x.jsx)("input",{ref:te,type:"text",min:0,value:J.sixth,maxLength:1,onChange:function(e){return ce(e,"sixth")},onKeyDown:function(e){return"Backspace"===e.key&&ae("sixth")},className:"".concat("sixth"===se?"active":""," m-2 border h-10 w-10 text-center form-control rounded")})]}),(0,x.jsxs)("div",{class:"flex justify-center text-center mt-5",children:[!m&&(0,x.jsx)("div",{className:"w-10 h-10 bg-indigo-500 flex justify-center items-center rounded-full text-white",children:V}),(0,x.jsxs)("button",{disabled:!m,onClick:function(){null===e||void 0===e||e.reSendOtp(),g(!1),W(60),ue=60,de()},class:"ml-4 flex items-center ".concat(m?"text-indigo-500 hover:text-blue-900 cursor-pointer":"text-gray-400 hover:text-none cursor-default"),children:[(0,x.jsx)("span",{class:"font-bold",children:"Resend OTP"}),(0,x.jsx)("i",{class:"bx bx-caret-right ml-1"})]})]}),(0,x.jsxs)("div",{class:"w-full text-center mt-5",children:[L&&(0,x.jsx)("button",{type:"button",onClick:function(){E(!1),Z(!0);var t={otp:"".concat(J.first).concat(J.second).concat(J.third).concat(J.fourth).concat(J.fifth).concat(J.sixth),mobileNo:null===e||void 0===e?void 0:e.verifedMobileNo};console.log("before verify otp...",t),l.ZP.post(y,t).then((function(t){var n,o,r;(console.log("otp verify response",null===t||void 0===t?void 0:t.data),null!==t&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.status)?null===e||void 0===e||e.callback():(N("Wrong OTP, Please enter correct OTP","error"),T(null===t||void 0===t||null===(o=t.data)||void 0===o?void 0:o.message),fe(!0,null===t||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message),null===e||void 0===e||e.setpropertyAttachFailCase("attached"));Z(!1)})).catch((function(t){console.log("otp verify error",t),null===e||void 0===e||e.setpropertyAttachFailCase("error"),fe(!0,"Error occured. Please try again later."),Z(!1)}))},className:"w-full  py-2.5 bg-indigo-600 text-white font-medium text-xs leading-tight  rounded shadow-md hover:bg-indigo-700 hover:shadow-lg focus:bg-indigo-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-indigo-800 active:shadow-lg transition duration-150 ease-in-out",children:"Submit"}),!L&&(0,x.jsx)("button",{type:"button",className:"w-full  py-2.5 bg-gray-400 text-white font-medium text-xs leading-tight  rounded shadow-md  hover:shadow-lg  focus:shadow-lg focus:outline-none focus:ring-0  transition duration-150 ease-in-out cursor-default ",children:"Submit"})]}),0!=(null===e||void 0===e?void 0:e.bottomNaviation)&&(0,x.jsxs)("div",{className:"text-left w-full mt-10 flex justify-center items-center",children:[(0,x.jsx)("div",{className:"flex-1",children:(0,x.jsx)("span",{onClick:function(){return ne("/")},className:"text-indigo-500 font-semibold hover:bg-white px-3 py-1 cursor-pointer ",children:"Home"})}),(0,x.jsx)("div",{className:"flex-1",children:(0,x.jsx)("span",{onClick:function(){return ne("/login")},className:"text-indigo-500 font-semibold hover:bg-white px-3 py-1 cursor-pointer float-right",children:"Login "})})]})]})]})})})})})]})}}}]);
//# sourceMappingURL=6645.c943b10c.chunk.js.map