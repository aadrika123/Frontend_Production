"use strict";(self.webpackChunkcitizen_landing=self.webpackChunkcitizen_landing||[]).push([[195],{73870:function(t,e,n){n.d(e,{II:function(){return s},T5:function(){return o},Ud:function(){return l},jB:function(){return r},vJ:function(){return i}});var o=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(t.length>n)return e;var o=/^\d*\.?\d*$/;return""===t||o.test(t)?t:e},l=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(t.length>n)return e;var o=/^[0-9\b]+$/;return""===t||o.test(t)?t:e},i=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(t.length>n)return e;var o=/^[\a-zA-Z0-9!]*$/;return""===t||o.test(t)?t:e},r=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(t.length>n)return e;var o=/^[\a-zA-Z0-9!/]*$/;return""===t||o.test(t)?t:e},s=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(t.length>n)return e;var o=/^[\a-zA-Z0-9@.!]*$/;return""===t||o.test(t)?t:e}},70195:function(t,e,n){n.r(e);var o=n(1413),l=n(70885),i=n(72791),r=n(97948),s=n.n(r),a=n(60786),d=n(55705),u=n(81724),c=n(99008),h=n(39723),g=n(61044),x=n(5055),f=n(57689),v=n(73870),m=n(32612),p=n(64491),b=n(25229),N=n(80184);s().setAppElement("#root"),e.default=function(t){var e=(0,i.useState)(!0),n=(0,l.Z)(e,2),r=(n[0],n[1],(0,i.useState)(!1)),s=(0,l.Z)(r,2),w=s[0],j=s[1],y=(0,i.useState)(!1),Z=(0,l.Z)(y,2),S=Z[0],k=Z[1],P=(0,i.useState)(""),C=(0,l.Z)(P,2),A=C[0],F=C[1],T=(0,c.Z)().api_sendMobileOtpAttachment,z=(0,i.useContext)(x.n).notify,V=((0,f.s0)(),(0,i.useState)(!1)),$=(0,l.Z)(V,2),_=$[0],L=$[1],M=(0,i.useState)(""),E=(0,l.Z)(M,2),U=E[0],B=E[1],D=u.Ry({ptnNo:u.Z_(),holdingNo:u.Z_()}),H=(0,d.TA)({initialValues:{ptnNo:"",holdingNo:""},onSubmit:function(e){console.log("at submit form.....",e),e.ptnNo.length<14&&e.holdingNo<15?F("Please enter PTN or holding no."):(0==e.ptnNo.length?null===t||void 0===t||t.setholdingNo(e.holdingNo):null===t||void 0===t||t.setptnNo(e.ptnNo),I(e))},validationSchema:D}),I=function(e){var n;L(!1),j(!0),k(!1),n=0==e.ptnNo.length?{holdingNo:e.holdingNo}:{ptNo:e.ptnNo},console.log("before send otp for attachment...",n),g.ZP.post(T,n,(0,m.Z)()).then((function(e){var n,o,l,i;(console.log("otp send for attachment response",null===e||void 0===e?void 0:e.data),null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.status)?(null===t||void 0===t||t.setpropertyAttachedMobileNo(null===e||void 0===e||null===(o=e.data)||void 0===o||null===(l=o.data)||void 0===l?void 0:l.mobileNo),null===t||void 0===t||t.setptnCardStatus(!1),null===t||void 0===t||t.setotpCardStatus(!0)):B(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.message);j(!1)})).catch((function(t){console.log("error otp send",t),z("Something went wrong in attachment...","error"),j(!1),L(!0),k(!0)}))};return _?(0,N.jsx)(p.Z,{children:(0,N.jsx)(b.Z,{title:"Server is busy",desc:"Server is too busy to respond. Please try again later.",buttonText:"View Dashboard",buttonUrl:"/propertyDashboard"})}):(0,N.jsxs)(N.Fragment,{children:[w&&(0,N.jsx)(h.Z,{}),(0,N.jsx)("div",{class:"w-full sm:w-full  mx-auto",children:(0,N.jsx)("div",{class:"container mx-auto",children:(0,N.jsx)("div",{class:"max-w-sm mx-auto md:max-w-lg",children:(0,N.jsx)("div",{class:"w-full bg-white rounded text-center shadow-xl relative p-20",children:(0,N.jsxs)("div",{class:"",children:[(0,N.jsx)("button",{onClick:function(){return null===t||void 0===t?void 0:t.closeModal(!1)},type:"button",class:"absolute top-6 right-6 bg-transparent bg-gray-200 text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center shadow-sm  hover:bg-red-200 hover:border-none",children:(0,N.jsx)("svg",{class:"w-5 h-5",fill:"currentColor",children:(0,N.jsx)("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})})}),(0,N.jsx)("div",{class:"text-2xl font-bold px-10",children:"Enter PTN No."}),(0,N.jsx)("div",{class:"flex flex-col mt-4 text-center",children:(0,N.jsxs)("span",{className:"text-center",children:["Enter 14 digit PTN no, or Holding no.",(0,N.jsx)("br",{}),"to attach a property"]})}),(0,N.jsx)("div",{class:"flex flex-col mt-4 text-center",children:(0,N.jsx)("span",{className:"text-center text-red-400",children:U})}),(0,N.jsx)("div",{class:"flex flex-row justify-center text-center mt-5",children:(0,N.jsxs)("form",{onSubmit:H.handleSubmit,onChange:function(e){var n=e.target.name,o=e.target.value;"ptnNo"==n?(H.setFieldValue("holdingNo",""),null===t||void 0===t||t.setholdingNo("")):(H.setFieldValue("ptnNo",""),null===t||void 0===t||t.setptnNo("")),"ptnNo"==n&&H.setFieldValue("ptnNo",(0,a.Ud)(o,H.values.ptnNo,14)),"holdingNo"==n&&H.setFieldValue("holdingNo",(0,v.jB)(o,H.values.holdingNo,16)),"ptnNo"==n&&o.length>=14||"holdingNo"==n&&o.length>=15?k(!0):k(!1)},children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold w-full text-left",children:"PTN"}),(0,N.jsx)("input",(0,o.Z)((0,o.Z)({type:"text"},H.getFieldProps("ptnNo")),{},{className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}))]}),(0,N.jsx)("div",{className:"font-semibold text-indigo-500 mt-2",children:"Or"}),(0,N.jsxs)("div",{children:[(0,N.jsx)("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold w-full text-left",children:"Holding No."}),(0,N.jsx)("input",(0,o.Z)((0,o.Z)({type:"text"},H.getFieldProps("holdingNo")),{},{className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}))]}),(0,N.jsx)("div",{className:"text-red-500 mt-10",children:A}),(0,N.jsxs)("div",{class:"w-full text-center",children:[S&&(0,N.jsx)("button",{type:"submit",className:"w-full  py-2.5 bg-indigo-600 text-white font-medium text-xs leading-tight  rounded shadow-md hover:bg-indigo-700 hover:shadow-lg focus:bg-indigo-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-indigo-800 active:shadow-lg transition duration-150 ease-in-out",children:"Submit"}),!S&&(0,N.jsx)("button",{type:"button",className:"w-full  py-2.5 bg-gray-400 text-white font-medium text-xs leading-tight  rounded shadow-md  hover:shadow-lg  focus:shadow-lg focus:outline-none focus:ring-0  transition duration-150 ease-in-out cursor-default ",children:"Submit"})]})]})})]})})})})})]})}}}]);
//# sourceMappingURL=195.0f4d1a32.chunk.js.map