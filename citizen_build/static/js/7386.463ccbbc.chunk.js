"use strict";(self.webpackChunkcitizen_landing=self.webpackChunkcitizen_landing||[]).push([[7386,9140],{67619:function(e,t,n){n(72791);t.Z=n.p+"static/media/jlogo.41a02df9a836214de482e1efb2168a7c.svg"},32612:function(e,t,n){function i(){var e=window.localStorage.getItem("citizen_token");return{timeout:6e4,headers:{Authorization:"Bearer ".concat(e),Accept:"application/json"}}}n.d(t,{Z:function(){return i}})},58253:function(e,t){t.Z="http://203.129.217.246:8000"},80166:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(4942),r=n(58253);function a(){var e,t=r.Z;return e={calculatePropertyTax:"".concat(t,"/api/property/calculatePropertyTax"),api_PropTransactionById:"".concat(t,"/api/property/saf/proptransaction-by-id"),api_PropTransactionById_Property:"".concat(t,"/api/property/saf/prop-transactions"),api_getPropDetailsById:"".concat(t,"/api/property/saf-details"),api_getPropHoldingDetailsById:"".concat(t,"/api/property/saf/get-prop-byholding"),masterList:"".concat(t,"/api/property/saf/master-saf"),roadTypeList:"".concat(t,"/api/property/prop-road-type")},(0,i.Z)(e,"api_PropTransactionById","".concat(t,"/api/property/saf/proptransaction-by-id")),(0,i.Z)(e,"api_getHoldingDeactivationDetails","".concat(t,"/api/property/get-prop-dtl-for-deactivation")),(0,i.Z)(e,"api_postHoldingDeactivationApply","".concat(t,"/api/property/deactivationRequest ")),(0,i.Z)(e,"api_samReciept","".concat(t,"/api/property/saf/memo-receipt")),(0,i.Z)(e,"api_searchDirectHolding","".concat(t,"/api/property/search-holding")),e}},39723:function(e,t,n){n(72791),n(39883),n(67619);var i=n(80184);t.Z=function(){return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"p-4 w-screen h-screen fixed top-0 left-0 flex flex-col justify-center items-center",style:{zIndex:1e3},children:[(0,i.jsx)("div",{className:"h-screen w-screen top-0 left-0 opacity-30 absolute flex justify-center items-center",children:(0,i.jsx)("div",{className:"w-1/3 h-1/3 "})}),(0,i.jsx)("div",{className:"",children:(0,i.jsx)("span",{className:"loader px-20 py-20 text-center"})}),(0,i.jsx)("div",{className:"text-center -ml-16",children:"Loading.."})]})})}},40399:function(e,t,n){n(72791),n(39883);var i=n(67619),r=n(80184);t.Z=function(){return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"p-4 w-screen h-screen fixed top-0 left-0 flex flex-col justify-center items-center shadow-xl",style:{zIndex:1e3},children:[(0,r.jsx)("div",{className:"w-full h-full bg-indigo-50 absolute top-0 left-0 opacity-50 shadow-xl"}),(0,r.jsxs)("div",{className:"rounded-full relative shadow-xl",children:[(0,r.jsx)("img",{className:"w-28 h-28",src:i.Z,alt:""}),(0,r.jsx)("div",{className:"w-full h-full absolute top-0 left-0 border-4 border-indigo-500 rounded-full border-t-white border-b-white animate-spin"})]}),(0,r.jsx)("div",{children:"Loading..."})]})})}},60786:function(e,t,n){n.d(t,{II:function(){return u},Q3:function(){return l},T5:function(){return r},Ud:function(){return a},Ux:function(){return i},Wm:function(){return o},Ws:function(){return p},_S:function(){return v},gi:function(){return x},jP:function(){return h},vJ:function(){return d},wM:function(){return s},wY:function(){return c}});var i=function(){var e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1),i=String(e.getDate());return n.length<2&&(n="0".concat(n)),i.length<2&&(i="0".concat(i)),"".concat(t,"-").concat(n,"-").concat(i)},r=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(e.length>n)return t;var i=/^\d*\.?\d*$/;return""===e||i.test(e)?e:t},a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(e.length>n)return t;var i=/^[0-9\b]+$/;return""===e||i.test(e)?e:t},o=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(e.length>n)return t;var i=/^[0-9\b,]+$/;return""===e||i.test(e)?e:t},l=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(e.length>n)return t;var i=/^[a-zA-Z\s]*$/;return""===e||i.test(e)?e:t},s=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(e.length>n)return t;var i=/^[\a-zA-Z,! ]*$/;return""===e||i.test(e)?e:t},d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(e.length>n)return t;var i=/^[\a-zA-Z0-9!]*$/;return""===e||i.test(e)?e:t},c=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(e.length>n)return t;var i=/^[\a-zA-Z0-9/!]*$/;return""===e||i.test(e)?e:t},u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(e.length>n)return t;var i=/^[\a-zA-Z0-9@.!]*$/;return""===e||i.test(e)?e:t},x=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return e.length>n?t:e},p=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(e.length>n)return t;var i=/^[\a-zA-Z0-9!, ]*$/;return""===e||i.test(e)?e:t},h=function(e){return void 0===e||null===e||"undefined"===typeof e||""===e?"NA":!0===e?"Yes":!1===e?"No":e},v=function(e){return void 0===e||null===e||"undefined"===typeof e||""===e?"0":e}},64491:function(e,t,n){var i=n(97948),r=n.n(i),a=n(80184),o={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"transparent",border:"none"}};r().setAppElement("#root"),t.Z=function(e){return(0,a.jsx)(r(),{isOpen:!0,style:o,contentLabel:"Example Modal",children:null===e||void 0===e?void 0:e.children})}},25229:function(e,t,n){n(72791);var i=n(57689),r=n(78820),a=n(80184);t.Z=function(e){var t=(0,i.s0)();return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{class:"items-center justify-center p-10 bg-white shadow-xl",children:[(0,a.jsx)("div",{class:"text-center",children:(0,a.jsx)("div",{class:"inline-flex rounded-full bg-red-100 p-4",children:(0,a.jsx)("div",{class:"rounded-full stroke-red-600 bg-red-200 p-4",children:(0,a.jsxs)("svg",{class:"w-16 h-16",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M6 8H6.01M6 16H6.01M6 12H18C20.2091 12 22 10.2091 22 8C22 5.79086 20.2091 4 18 4H6C3.79086 4 2 5.79086 2 8C2 10.2091 3.79086 12 6 12ZM6 12C3.79086 12 2 13.7909 2 16C2 18.2091 3.79086 20 6 20H14","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,a.jsx)("path",{d:"M17 16L22 21M22 16L17 21","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})]})})})}),(0,a.jsx)("div",{className:" p-10",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-center font-semibold text-3xl",children:null===e||void 0===e?void 0:e.title}),(0,a.jsx)("p",{class:"text-slate-600 mt-1 lg:text-lg",children:null===e||void 0===e?void 0:e.desc}),(0,a.jsxs)("div",{className:"text-center mt-10",children:[(0,a.jsxs)("button",{className:"mr-4 bg-indigo-500  text-white px-6 py-1 shadow-lg hover:scale-105 rounded-sm",onClick:function(){return window.location.reload()},children:[(0,a.jsx)(r.Em2,{className:"inline mr-2"}),"Reload"]}),(0,a.jsx)("button",{className:"mr-4 bg-white border border-indigo-500 text-indigo-500 px-4 py-1 shadow-lg hover:scale-105 rounded-sm",onClick:function(){return t(null===e||void 0===e?void 0:e.buttonUrl)},children:null===e||void 0===e?void 0:e.buttonText})]})]})})]})})}},87386:function(e,t,n){n.r(t);var i=n(1413),r=n(70885),a=n(61044),o=n(55705),l=n(72791),s=n(57689),d=n(62797),c=n(32612),u=n(80166),x=n(39723),p=n(40399),h=n(60786),v=n(5055),m=n(64491),f=n(25229),g=n(80184);t.default=function(e){var t,n,j,b,y,w,N,Z,_,P,k,D,S=(0,l.useState)(),H=(0,r.Z)(S,2),A=H[0],C=H[1],T=(0,l.useState)(),z=(0,r.Z)(T,2),I=(z[0],z[1]),M=(0,l.useState)(!1),R=(0,r.Z)(M,2),F=R[0],L=R[1],U=(0,l.useState)(!1),$=(0,r.Z)(U,2),B=$[0],q=$[1],E=(0,l.useState)(),O=(0,r.Z)(E,2),W=O[0],Y=O[1],V=(0,l.useState)(!1),J=(0,r.Z)(V,2),Q=J[0],G=(J[1],(0,s.UO)().id),K=(0,u.Z)(),X=K.api_getHoldingDeactivationDetails,ee=K.api_postHoldingDeactivationApply,te=(0,l.useContext)(v.n).notify,ne=(0,l.useState)(!1),ie=(0,r.Z)(ne,2),re=ie[0],ae=ie[1],oe=(0,l.useState)(!1),le=(0,r.Z)(oe,2),se=le[0],de=le[1],ce=(0,s.s0)(),ue=d.Ry({holdingDoc:d.Z_().required("Upload proof of deactivation"),remark:d.Z_().required("write comment for deactivation")}),xe=(0,o.TA)({initialValues:{holdingDoc:"",remark:""},onSubmit:function(e,t){console.log("onsumbt deactivation ",e),e.remark.length<10?te("Please write atleast 10 character comment","error"):pe()},validationSchema:ue}),pe=function(){q(!0),ae(!1);var e=new FormData;e.append("propertyId",G),e.append("document",A),e.append("comments",xe.values.remark),console.log("before apply holding deactivation ",e),a.ZP.post(ee,e,(0,c.Z)()).then((function(e){var t;(console.log("submit deactivation response....",null===e||void 0===e?void 0:e.data),e.data.status)?(te("Holding deactivation applied successfully !!","success"),de(!0)):te(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message,"error");q(!1)})).catch((function(e){console.log("error at submit deactivation ",e),te("something went wrong !!","error"),ae(!0),q(!1)}))};return(0,l.useEffect)((function(){ae(!1),L(!0),console.log("before fetch property details in deactivation"),a.ZP.post(X,{propertyId:G},(0,c.Z)()).then((function(e){console.log("view prop prop full details...",e.data),Y(e.data),L(!1)})).catch((function(e){console.log("==2 details by id error...",e),ae(!0),L(!1)}))}),[]),F?(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(p.Z,{})}):re?(0,g.jsx)(m.Z,{children:(0,g.jsx)(f.Z,{title:"Server is busy",desc:"Server is too busy to respond. Please try again later.",buttonText:"View Dashboard",buttonUrl:"/propertyDashboard"})}):(0,g.jsxs)(g.Fragment,{children:[B&&(0,g.jsx)(x.Z,{}),(0,g.jsx)("div",{className:" font-bold text-2xl pb-4 md:py-4",children:"Holding Deactivation"}),(0,g.jsx)("div",{className:"w-full bg-white shadow-xl mb-6",children:(0,g.jsxs)("div",{className:"py-6 mt-2 rounded-lg shadow-lg p-4",children:[(0,g.jsxs)("div",{className:"flex flex-col md:flex-row space-y-2 md:space-x-5 pl-4 ",children:[(0,g.jsxs)("div",{className:"flex-1",children:[(0,g.jsx)("div",{className:"font-bold text-sm",children:(0,h.jP)(null===W||void 0===W||null===(t=W.data)||void 0===t?void 0:t.holding_no)}),(0,g.jsx)("div",{className:"text-gray-500 text-xs",children:"Holding No."})]}),(0,g.jsxs)("div",{className:"flex-1",children:[(0,g.jsx)("div",{className:"font-bold text-sm",children:(0,h.jP)(null===W||void 0===W||null===(n=W.data)||void 0===n?void 0:n.old_ward_no)}),(0,g.jsx)("div",{className:"text-gray-500 text-xs",children:"Ward No."})]}),(0,g.jsxs)("div",{className:"flex-1",children:[(0,g.jsx)("div",{className:"font-semibold text-lg",children:(0,h.jP)(null===W||void 0===W||null===(j=W.data)||void 0===j?void 0:j.old_ward_no)}),(0,g.jsx)("div",{className:"text-gray-500 text-xs",children:"New Ward No"})]}),(0,g.jsxs)("div",{className:"flex-1",children:[(0,g.jsx)("div",{className:"font-semibold text-md",children:(0,h.jP)(null===W||void 0===W||null===(b=W.data)||void 0===b?void 0:b.ownership_type)}),(0,g.jsx)("div",{className:"text-gray-500 text-xs",children:"Ownership Type"})]}),(0,g.jsxs)("div",{className:"flex-1",children:[(0,g.jsx)("div",{className:"font-bold text-sm",children:(0,h.jP)(null===W||void 0===W||null===(y=W.data)||void 0===y?void 0:y.property_type)}),(0,g.jsx)("div",{className:"text-gray-500 text-xs",children:"Property Type"})]})]}),(0,g.jsxs)("div",{className:"flex flex-col md:flex-row space-y-2 md:space-x-10  pl-4 mt-4",children:[(0,g.jsxs)("div",{className:"flex-1",children:[(0,g.jsx)("div",{className:"font-bold text-sm",children:(0,h.jP)(null===W||void 0===W||null===(w=W.data)||void 0===w?void 0:w.zone_mstr_id)}),(0,g.jsx)("div",{className:"text-gray-500 text-xs",children:"Zone"})]}),(0,g.jsxs)("div",{className:"flex-1",children:[(0,g.jsx)("div",{className:"font-bold text-sm",children:(0,h.jP)(null===W||void 0===W||null===(N=W.data)||void 0===N?void 0:N.is_mobile_tower)}),(0,g.jsx)("div",{className:"text-gray-500 text-xs",children:"Property has Mobile Tower(s) ?"})]}),(0,g.jsxs)("div",{className:"flex-1",children:[(0,g.jsxs)("div",{className:"font-semibold text-md",children:[(0,h.jP)(null===W||void 0===W||null===(Z=W.data)||void 0===Z?void 0:Z.is_hoarding_board)," "]}),(0,g.jsx)("div",{className:"text-gray-500 text-xs",children:"Property has Hoarding Board(s) ?"})]}),(0,g.jsxs)("div",{className:"flex-1",children:[(0,g.jsx)("div",{className:"font-semibold text-md",children:(0,h.jP)(null===W||void 0===W||null===(_=W.data)||void 0===_?void 0:_.is_petrol_pump)}),(0,g.jsx)("div",{className:"text-gray-500 text-xs",children:"Is property a Petrol Pump ?"})]}),(0,g.jsxs)("div",{className:"flex-1",children:[(0,g.jsx)("div",{className:"font-bold text-sm",children:(0,h.jP)(null===W||void 0===W||null===(P=W.data)||void 0===P?void 0:P.is_water_harvesting)}),(0,g.jsx)("div",{className:"text-gray-500 text-xs",children:"Rainwater harvesting provision ?"})]})]})]})}),(0,g.jsxs)("div",{children:[1!=(null===W||void 0===W||null===(k=W.data)||void 0===k?void 0:k.deactivationStatus)&&!se&&(0,g.jsx)("form",{onSubmit:xe.handleSubmit,onChange:function(e){"holdingDoc"==e.target.name&&function(e){e.target.files[0],I(URL.createObjectURL(e.target.files[0])),C(e.target.files[0])}(e)},encType:"multipart/form",className:"w-full bg-white shadow-xl py-5",children:(0,g.jsxs)("div",{className:"w-full flex flex-col md:flex-row md:items-center md:justify-center pl-6 py-2",children:[(0,g.jsx)("label",{className:"",children:"Upload Document"}),(0,g.jsxs)("div",{className:"text-xs text-gray-700 md:ml-4",children:[(0,g.jsx)("input",(0,i.Z)((0,i.Z)({},xe.getFieldProps("holdingDoc")),{},{accept:".pdf,.png,.jpg,.jpeg",type:"file",className:"mt-2 form-control block w-full px-3 py-2 text-base font-normal bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-indigo-600 foc}us:outline-none cursor-pointer shadow-md w-40"})),(0,g.jsx)("div",{children:"Only pdf, jpg, jpeg or png allowed."}),(0,g.jsx)("span",{className:"text-red-600 absolute text-xs",children:xe.touched.holdingDoc&&xe.errors.holdingDoc?xe.errors.holdingDoc:null})]}),(0,g.jsx)("div",{className:"mt-10 md:mt-0",children:(0,g.jsx)("label",{className:"",children:"Add Remarks"})}),(0,g.jsxs)("div",{className:"md:ml-4",children:[(0,g.jsx)("textarea",(0,i.Z)((0,i.Z)({},xe.getFieldProps("remark")),{},{className:"form-control block w-full px-3 py-1 font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-indigo-600 foc}us:outline-none shadow-md w-60 ",placeholder:"Enter your remark"})),(0,g.jsx)("span",{className:"text-red-600 absolute text-xs",children:xe.touched.remark&&xe.errors.remark?xe.errors.remark:null})]}),(0,g.jsx)("div",{className:"md:ml-4",children:(0,g.jsx)("button",{type:"submit",className:"px-6 py-2.5 bg-indigo-600 text-white font-medium text-xs leading-tight  rounded  hover:bg-indigo-700 hover:shadow-lg focus:bg-indigo-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-indigo-800 active:shadow-lg transition duration-150 ease-in-out mt-10 shadow-xl w-60",children:"Submit Deactivation Request"})})]})}),se&&(0,g.jsx)("div",{className:"w-full h-full bg-white p-20",children:(0,g.jsxs)("div",{children:[(0,g.jsx)("div",{className:"text-center font-semibold text-3xl",children:"Deactivation for this property has been applied."}),(0,g.jsx)("div",{className:"text-center mt-6",children:(0,g.jsx)("button",{type:"button",className:"mr-4 bg-indigo-500  text-white px-6 py-1 shadow-lg hover:scale-105 rounded-sm",onClick:function(){return ce("/search/fresh/direct/direct")},children:"Search Holding"})})]})}),(1==(null===W||void 0===W||null===(D=W.data)||void 0===D?void 0:D.deactivationStatus)||Q)&&(0,g.jsx)("div",{children:(0,g.jsx)("h1",{className:"w-full text-center text-red-500 text-2xl font-semibold",children:"Deactivation request already submitted !"})})]}),(0,g.jsx)("div",{className:"w-full h-40 md:none"})]})}},39883:function(){}}]);
//# sourceMappingURL=7386.463ccbbc.chunk.js.map