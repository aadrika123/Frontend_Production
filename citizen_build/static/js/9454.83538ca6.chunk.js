"use strict";(self.webpackChunkcitizen_landing=self.webpackChunkcitizen_landing||[]).push([[9454],{32612:function(a,e,t){function i(){var a=window.localStorage.getItem("citizen_token");return{timeout:6e4,headers:{Authorization:"Bearer ".concat(a),Accept:"application/json"}}}t.d(e,{Z:function(){return i}})},58253:function(a,e){e.Z="http://203.129.217.246:8000"},65064:function(a,e,t){t.d(e,{Z:function(){return n}});var i=t(58253);function n(){var a=i.Z,e=window.localStorage.getItem("citizen_token");return{header:{headers:{Authorization:"Bearer ".concat(e),Accept:"application/json"}},api_ulbList:"".concat(a,"/api/get-all-ulb"),api_wardList:"".concat(a,"/api/get-all-ulb-wards"),api_userProfileDetails:"".concat(a,"/api/my-profile-details"),api_NewWaterConnection:"".concat(a,"/api/water/application/apply-new-connection"),api_getSafHoldingDetails:"".concat(a,"/api/water/search-holding-saf"),api_citizenApplications:"".concat(a,"/api/water/citizenApplications"),api_citizenApprovedApplications:"".concat(a,"/api/water/consumer/get-listed-details"),api_rzpWaterOrderId:"".concat(a,"/api/water/Razorpay-Orderid"),api_getTranNo:"".concat(a,"/api/water/getTranNo"),api_paymentReceipt:"".concat(a,"/api/water/generate-payment-receipt"),api_waterConsumerPaymentReceipt:"".concat(a,"/api/water/consumer/demand/generate-payment-receipt"),api_waterApplicationDelete:"".concat(a,"/api/water/application/delete "),api_waterViewPendingApplication:"".concat(a,"/api/water/application/get-by-id "),api_waterViewDocumetTobeuploaded:"".concat(a,"/api/water/citizen/get-doc-list"),api_waterUploadDoc:"".concat(a,"/api/water/upload-document"),api_waterApprovedApplicationDetails:"".concat(a,"/api/water/consumer/get-listed-details"),api_waterConsumerPaymentHistory:"".concat(a,"/api/water/consumer/get-payment-history"),api_waterListDemand:"".concat(a,"/api/water/consumer/list-demand"),api_getHoldingSafOfLogin:"".concat(a,"/api/property/citizen-holding-saf"),api_waterDemandCalculation:"".concat(a,"/api/water/consumer/calculate-month-demand"),api_waterDemandPayment:"".concat(a,"/api/water/consumer/offline-demand-payment")}}},99008:function(a,e,t){t.d(e,{Z:function(){return o}});var i=t(4942),n=t(58253);function o(){var a;console.log("backend url imported at citizen apply apilist...",n.Z);var e=n.Z;return a={api_safInboxList:"".concat(e,"/api/saf/inbox"),api_getSafDetailsById:"".concat(e,"/api/saf/details"),api_getMasterData:"".concat(e,"/api/property/saf/master-saf"),api_postNewAssessment:"".concat(e,"/api/property/saf/apply"),api_getLocationByUlb:"".concat(e,"/api/city/state/ulb-id"),api_getProfileDetails:"".concat(e,"/api/citizen-profile-details"),api_EditMyProfile:"".concat(e,"/api/edit-my-profile"),api_editCitizenProfile:"".concat(e,"/api/edit-citizen-profile"),api_getAllUlb:"".concat(e,"/api/get-all-ulb"),api_citizenLogin:"".concat(e,"/api/login"),api_citizenRegister:"".concat(e,"/api/citizen-register"),api_deleteSaf:"".concat(e,"/api/property/saf/delete-citizen-saf"),api_applicationListByModule:"".concat(e,"/api/citizens/applied-applications"),api_getAllApplicationList:"".concat(e,"/api/citizens/applied-applications"),api_safindependentComment:"".concat(e,"/api/property/saf/independent-comment"),api_getTranscationHistory:"".concat(e,"/api/property/saf/prop-transactions"),api_getSpecificHoldingTranscationHistory:"".concat(e,"/api/property/prop-payment-history"),api_getAppicationFullDetail:"".concat(e,"/api/property/saf-details"),api_getHoldingDetails:"".concat(e,"/api/property/saf/get-prop-byholding"),api_postWaterHarvestindDocCode:"".concat(e,"/api/property/harvesting/citizen-doc-list"),api_getMasterDataWaterHarvesting:"".concat(e,"/api/property/get-wardmaster-data"),api_postWaterHarvestingData:"".concat(e,"/api/property/water-harvesting-application"),api_getAllModuleTranscation:"".concat(e,"/api/payment/all-module-transaction"),verifyPaymentStatus:"".concat(e,"/api/payment/verify-payment-status"),propertyGenerateOrderId:"".concat(e,"/api/property/saf/generate-order-id"),propertyGenerateOrderIdDirect:"".concat(e,"/api/property/independent/generate-prop-orderid"),propertyGenerateHoldingOrderId:"".concat(e,"/api/property/generate-prop-orderid"),api_DemandDetailById:"".concat(e,"/api/property/saf/calculate-by-saf-id"),api_getsafDemandById:"".concat(e,"/api/property/saf/get-demand-by-id"),api_getPropertyApplicationList:"".concat(e,"/api/property/saf/get-prop-byholding"),api_listSafDocument:"".concat(e,"/api/property/saf/get-doc-list"),api_uploadSafDocument:"".concat(e,"/api/property/saf/document-upload"),api_getPaymentData:"".concat(e,"/api/property/saf/payment-receipt"),get_ConcessionDetailsById:"".concat(e,"/api/property/concession/details"),get_HarvestingDetailsById:"".concat(e,"/api/property/harvesting/details-by-id"),get_ObjectionDetailsById:"".concat(e,"/api/property/objection/details"),api_getHoldingDemandById:"".concat(e,"/api/property/get-holding-dues"),api_getDirectHoldingDemandById:"".concat(e,"/api/property/independent/get-holding-dues"),api_wardByUlb:"".concat(e,"/api/workflow/getWardByUlb"),api_newWardByOldWard:"".concat(e,"/api/get-newward-by-oldward"),api_zoneByUlb:"".concat(e,"/api/property/get-zone-byUlb"),api_citizenLogin2:"".concat(e,"/api/citizen-login"),api_reviewCalculation:"".concat(e,"/api/property/review-calculation"),api_getTransactionNoForReceipt:"".concat(e,"/api/payment/get-tran-by-orderid"),api_getHoldingReceiptUrl:"".concat(e,"/api/property/prop-payment-receipt"),api_getStaticSafDetails:"".concat(e,"/api/property/saf/static-saf-dtls"),api_changePassword:"".concat(e,"/api/change-citizen-pass"),api_forgotPassword:"".concat(e,"/api/change-citizen-pass"),get_ConcessionDocumentsToUpload:"".concat(e,"/api/property/concession/doc-list"),post_ConcessionDocumentUpload:"".concat(e,"/api/property/concession/upload-document"),get_ObjectionDocumentsToUpload:"".concat(e,"/api/property/objection/doc-list"),post_ObjectionDocumentUpload:"".concat(e,"/api/property/objection/upload-document"),get_HarvestingDocumentsToUpload:"".concat(e,"/api/property/harvesting/get-doc-list"),post_HarvestingDocumentUpload:"".concat(e,"/api/property/harvesting/upload-document"),api_postPropertyPayment:"".concat(e,"/api/property/payment-holding"),api_postSafPayment:"".concat(e,"/api/property/saf/saf-payment"),api_verifyHolding:"".concat(e,"/api/property/saf/verify-holding"),api_verifyMobile:"".concat(e,"/api/property/saf/verify-mobile"),api_editCitizenSaf:"".concat(e,"/api/property/saf/edit-citizen-saf")},(0,i.Z)(a,"api_getStaticSafDetails","".concat(e,"/api/property/saf/static-saf-dtls")),(0,i.Z)(a,"api_getApartmentListByWard","".concat(e,"/api/property/saf/list-apartment")),(0,i.Z)(a,"api_sendMobileOtp","".concat(e,"/api/user/send-otp")),(0,i.Z)(a,"api_sendMobileOtpAttachment","".concat(e,"/api/property/caretaker-otp")),(0,i.Z)(a,"api_verifyMobileOtp","".concat(e,"/api/user/verify-otp")),(0,i.Z)(a,"api_attachProperty","".concat(e,"/api/property/caretaker-property-tagging")),a}},10917:function(a,e,t){t.d(e,{Z:function(){return l}});var i=t(74165),n=t(15861),o=t(61044),r=t(99008),c=t(28348),p=t(65064),s=(0,r.Z)().verifyPaymentStatus,d=(0,p.Z)().header;function l(a,e){return m.apply(this,arguments)}function m(){return m=(0,n.Z)((0,i.Z)().mark((function a(e,t){var o,r,p;return(0,i.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r={currency:"INR",image:c,name:"UD&HD",description:"This is used for Testing Purpose",order_id:e.orderId,handler:function(){var a=(0,n.Z)((0,i.Z)().mark((function a(e){return(0,i.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:u(e),console.log("All response",e),console.log("Payment ID",e.razorpay_payment_id),o="data from handle: payment success",t({status:!0,message:"Payment Success",data:e});case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),prefill:{name:e.name,email:e.email,contact:e.mobile},modal:{ondismiss:function(a){console.log("Payment Cancel BY user",a)},onfailed:function(a){console.log("Payment Failed Response modal",a)}},notes:{ulbId:e.ulbId||0,departmentId:e.departmentId||0,applicationId:e.applicationId||0,workflowId:e.workflowId||0,userId:e.userId||0,name:e.name||0,email:e.email||0,contact:e.mobile||0},theme:{color:"#3399cc"}},(p=new window.Razorpay(r)).on("payment.failed",(function(a){console.log("Failed Response",a),y(a),t({status:!1,message:"Payment Failed",data:a})})),p.open(),a.abrupt("return",o);case 5:case"end":return a.stop()}}),a)}))),m.apply(this,arguments)}var u=function(a){var e={razorpayOrderId:a.razorpay_order_id,razorpayPaymentId:a.razorpay_payment_id,razorpaySignature:a.razorpay_signature};o.ZP.post(s,e,d).then((function(a){console.log("2nd API Data saved ",a)})).catch((function(a){console.log("Error when inserting 2 api data ",a)}))},y=function(a){var e={razorpayOrderId:a.error.metadata.order_id,razorpayPaymentId:a.error.metadata.payment_id,reason:a.error.reason,source:a.error.source,step:a.error.step,code:a.error.code,description:a.error.description};return o.ZP.post(s,e,d).then((function(a){console.log("2nd API Filed Data saved ",a)})).catch((function(a){console.log("Error when inserting 2 api Failed data ",a)})),l}},98431:function(a,e,t){t.d(e,{C1:function(){return p},Rj:function(){return r},yf:function(){return s}});var i,n=t(4942),o=(t(72791),t(32612)),r="http://192.168.0.15:8000/",c="http://192.168.0.15:8000/",p=(i={UPDATE_API_LIST:c+"api/edit-api/",GET_API_BY_ID:c+"api/get-api-by-id/",SAVE_API_LIST:c+"api/save-api",GET_API_LIST:c+"api/get-all-apis",MASTER_DATA_API:c+"api/trade/getApplyData/",POST_MASTER_DATA_API:c+"api/trade/apply/",VALIDATE_HOLDING:c+"api/trade/property/by-holding",GET_CHARGE:c+"api/trade/application/get-demand",SEARCH_LICENSE_FOR_APPLY:c+"api/trade/searchLicense",GET_DENIAL_DETAILS:c+"api/trade/notice/details",GET_APPLICATION_LIST:c+"api/trade/inbox",GET_APPLICATION_LIST_OUTBOX:c+"api/trade/outbox",GET_LICENSE_DTL_BY_ID:c+"api/trade/getLicenceDtl",GET_LICENSE_DTL_BY_ANYTHING:c+"api/trade/getApplicationList/",POST_LICENSE_TO_LEVEL:c+"api/trade/postNext/"},(0,n.Z)(i,"POST_MASTER_DATA_API",c+"api/trade/apply/"),(0,n.Z)(i,"DEPENDENT_WARD_CITIZEN",c+"api/get-newward-by-oldward"),(0,n.Z)(i,"POST_APPLY_APPLICATION_FOR_CITIZEN",c+"api/trade/application/citizen-add"),(0,n.Z)(i,"POST_GETLICENSE_DETAIL_BY_ID_FOR_BO",c+"api/trade/updateApplicationById/"),(0,n.Z)(i,"POST_UPDATE_LICENSE_DTL",c+"api/trade/updateBasicDtl/"),(0,n.Z)(i,"DOCUMENT_REQUIREMENT",c+"api/trade/application/doc-list/"),(0,n.Z)(i,"DOCUMENT_UPLOAD",c+"api/trade/application/upload-document"),(0,n.Z)(i,"GET_UPLOADED_DOCUMENTS",c+"api/trade/appliction/documents"),(0,n.Z)(i,"GET_DOCUMENT_FOR_VERIFICATION",c+"api/workflows/document/verify-reject"),(0,n.Z)(i,"GET_PAYMENT_DATA",c+"api/trade/payment-receipt/"),(0,n.Z)(i,"PAY_ONLINE",c+"api/trade/application/pay-razorpay-charge"),(0,n.Z)(i,"CONFIRM_TRADE_ONLINE_PAYMENT",c+"api/trade/application/conform-razorpay-tran"),(0,n.Z)(i,"SEND_INDEPENDENT_COMMENT",c+"api/trade/postComment/"),(0,n.Z)(i,"GET_PROVISIONAL_DATA",c+"api/trade/provisional-certificate/"),(0,n.Z)(i,"GET_TRADE_LICENSE_DATA",c+"api/trade/license-certificate/"),(0,n.Z)(i,"ESCALATE_APPLICATION",c+"api/trade/escalate/"),(0,n.Z)(i,"GET_ROLE_BY_WORKFLOW",c+"api/workflow/getRoleByWorkflow"),(0,n.Z)(i,"GET_ULB_LIST",c+"api/get-all-ulb"),(0,n.Z)(i,"GET_CITIZEN_APPLICATION_LIST",c+"api/trade/application/citizen-application"),(0,n.Z)(i,"GET_CITIZEN_APPLICATION_BY_ID",c+"api/trade/application/citizen-by-id"),(0,n.Z)(i,"GET_RENEWABLE_LICENSE_LIST",c+"api/trade/application/renewable-list"),(0,n.Z)(i,"GET_AMENDABLE_LICENSE_LIST",c+"api/trade/application/amendable-list"),(0,n.Z)(i,"GET_SURRENDERABLE_LICENSE_LIST",c+"api/trade/application/surrenderable-list"),i),s=function(){return(0,o.Z)()}},9454:function(a,e,t){var i=t(70885),n=t(72791),o=t(97948),r=t.n(o),c=t(76053),p=t(58617),s=t(10917),d=t(98431),l=t(61044),m=t(65064),u=t(12297),y=t(57689),g=t(5055),_=t(80184),f={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"transparent",border:"none"}};e.Z=function(a){var e,t,o,h,x,v=n.useState(!1),I=(0,i.Z)(v,2),N=I[0],b=I[1],E=(0,n.useState)(!1),T=(0,i.Z)(E,2),A=T[0],D=T[1],w=(0,n.useState)(),P=(0,i.Z)(w,2),j=P[0],C=P[1],L=(0,n.useContext)(g.n).notify,S=(0,m.Z)(),Z=S.api_rzpWaterOrderId,O=S.api_getTranNo,z=(0,y.s0)(),R=a.paymentData;function B(){b(!1),D(!1)}console.log("paymentData======",R),(0,n.useEffect)((function(){a.openPaymentModal>0&&b(!0)}),[a.openPaymentModal]);var k=function(e){if(console.log("Payment Status =>",e),1==e.status){L("Payment Done successfully","success"),D(!0);var t={orderId:e.data.razorpay_order_id,paymentId:e.data.razorpay_payment_id};l.ZP.post(O,t,(0,d.yf)()).then((function(a){console.log("Data after payment success by OrderId and PaymetnID",a),1==a.data.status&&C(a.data.data)})).catch((function(a){return console.log("Exception/Error while fetching by OrderiD and Paymetn ID",a)}))}null===a||void 0===a||a.refechList()};return(0,_.jsx)("div",{className:"",children:(0,_.jsx)(r(),{isOpen:N,onAfterOpen:function(){},onRequestClose:B,style:f,contentLabel:"Example Modal",children:(0,_.jsx)("div",{children:A?(0,_.jsxs)("div",{className:"bg-green-200 shadow-2xl border border-sky-200 p-5 m-5 rounded-md",children:[(0,_.jsxs)("div",{onClick:B,className:"absolute cursor-pointer bg-green-100 hover:bg-gray-300 p-1 rounded-md",children:[(0,_.jsx)(c.nfZ,{})," "]}),(0,_.jsx)("div",{className:"flex justify-center",children:(0,_.jsx)("img",{src:u,className:"h-20",alt:"",srcset:""})}),(0,_.jsx)("div",{className:"py-1 pl-3 font-semibold text-center text-2xl text-gray-800",children:" Payment Completed Successfully "}),(0,_.jsxs)("p",{className:"text-center",children:[(0,_.jsx)("span",{className:"text-base",children:" Payment Transaction No"})," ",(0,_.jsx)("span",{className:"font-bold text-blue-700 text-xl",children:null===j||void 0===j?void 0:j.transectionNo})]}),(0,_.jsx)("p",{className:"border-b border-gray-300 mx-10 py-1"}),(0,_.jsxs)("div",{className:"grid grid-cols-12 px-8 py-3 leading-8 space-x-8 text-sm",children:[(0,_.jsx)("div",{className:"md:col-span-6 col-span-12",children:(0,_.jsxs)("div",{className:"grid grid-cols-12",children:[(0,_.jsxs)("div",{className:"col-span-6 font-semibold",children:[(0,_.jsx)("p",{children:"Application No"}),(0,_.jsx)("p",{children:"Connection Type"})]}),(0,_.jsxs)("div",{className:"col-span-6 ml-3",children:[(0,_.jsx)("p",{children:null===j||void 0===j?void 0:j.applicationNo}),(0,_.jsx)("p",{children:null===j||void 0===j?void 0:j.tranType})]})]})}),(0,_.jsx)("div",{className:"md:col-span-6 col-span-12",children:(0,_.jsxs)("div",{className:"grid grid-cols-12",children:[(0,_.jsxs)("div",{className:"col-span-6 font-semibold",children:[(0,_.jsx)("p",{children:"Amount"}),(0,_.jsx)("p",{children:"Payment Date"})]}),(0,_.jsxs)("div",{className:"col-span-6",children:[(0,_.jsx)("p",{children:null===j||void 0===j?void 0:j.amount}),(0,_.jsx)("p",{children:null===j||void 0===j?void 0:j.transectionDate})]})]})}),(0,_.jsx)("div",{className:"col-span-12 md:mt-4 mt-10",children:(0,_.jsxs)("div",{className:"flex justify-center",children:[(0,_.jsx)("button",{onClick:B,className:"mx-2 bg-sky-600 hover:bg-sky-700 transition duration-200 hover:scale-105 font-normal text-white px-6 py-1 text-sm rounded-sm shadow-xl",children:"Dashboard"}),(0,_.jsx)("button",{onClick:function(){return z("/waterConnReceipt/".concat(null===j||void 0===j?void 0:j.transectionNo))},className:"mx-2 bg-indigo-600 hover:bg-indigo-700 transition duration-200 hover:scale-105 font-normal text-white px-4 py-2 text-sm  rounded-sm shadow-xl",children:"View Receipt"})]})})]})]}):(0,_.jsxs)("div",{className:"bg-sky-200 shadow-2xl border border-red-200 p-5 m-5 rounded-md",children:[(0,_.jsxs)("div",{className:" border-b-2 py-1 pl-3 font-semibold border-red-400 flex",children:[(0,_.jsx)(p.IgD,{size:20,className:"mt-0.5 mr-1"}),"Make Payment "]}),(0,_.jsxs)("div",{className:"grid grid-cols-12 px-8 py-3 text-sm",children:[(0,_.jsx)("div",{className:"mr-2 md:col-span-7 col-span-12",children:(0,_.jsxs)("div",{className:"border border-gray-500 p-2 rounded shadow-md bg-lime-100 space-y-0",children:[(0,_.jsx)("p",{children:"Application No."}),(0,_.jsx)("p",{className:"font-semibold text-2xl",children:null===R||void 0===R||null===(e=R.connectionCharges)||void 0===e?void 0:e.applicationNo})]})}),(0,_.jsx)("div",{className:"ml-2 md:col-span-5 col-span-12",children:(0,_.jsxs)("div",{className:"border border-gray-500 p-2 rounded shadow-md bg-lime-100",children:[(0,_.jsx)("p",{children:"Amount"}),(0,_.jsxs)("p",{className:"font-semibold",children:[" ",(0,_.jsx)("span",{className:"text-lg",children:"\u20b9"})," ",(0,_.jsx)("span",{className:"text-2xl text-center",children:(null===R||void 0===R||null===(t=R.connectionCharges)||void 0===t?void 0:t.amount)||"N/A"})]})]})}),(0,_.jsx)("div",{className:"md:col-span-12 col-span-12 mt-5",children:(0,_.jsxs)("div",{className:"text-center border border-gray-300 bg-indigo-100 px-2 rounded",children:[(0,_.jsx)("p",{children:"Amount Breakup"}),(0,_.jsxs)("div",{className:"text-left",children:[(0,_.jsxs)("p",{children:["Payment For : ",null===R||void 0===R||null===(o=R.connectionCharges)||void 0===o?void 0:o.charge_category]}),(0,_.jsxs)("p",{children:["Connection Fee : \u20b9 ",null===R||void 0===R||null===(h=R.connectionCharges)||void 0===h?void 0:h.conn_fee]}),(0,_.jsxs)("p",{children:["Penalty : \u20b9 ",null===R||void 0===R||null===(x=R.connectionCharges)||void 0===x?void 0:x.penalty]})]})]})}),(0,_.jsx)("div",{className:"md:col-span-12 col-span-12 mt-5",children:(0,_.jsx)("div",{className:"text-center border border-gray-300 bg-indigo-100 px-2 rounded",children:(0,_.jsx)("p",{children:"Note : You can pay using Card / UPI / Netbanking / Wallet etc."})})}),(0,_.jsx)("div",{className:"col-span-12 md:mt-4 mt-10",children:(0,_.jsxs)("div",{className:"flex justify-center",children:[(0,_.jsx)("button",{onClick:B,className:"mx-3 bg-red-600 hover:bg-red-700 transition duration-200 hover:scale-105 font-normal text-white px-6 py-2 text-sm rounded-sm shadow-xl",children:"Cancel"}),(0,_.jsx)("button",{onClick:function(){var a,e,t={id:null===R||void 0===R||null===(a=R.connectionCharges)||void 0===a?void 0:a.applicationId,applycationType:null===R||void 0===R||null===(e=R.connectionCharges)||void 0===e?void 0:e.type};console.log("Payment Button Clicked..",t),l.ZP.post(Z,t,(0,d.yf)()).then((function(a){console.log("Oder ID Generated",a),1==a.data.status?(0,s.Z)(a.data.data,k):L(a.data.message,"error")})).catch((function(a){console.log("Error genrating order id",a),L(a.message,"error")}))},className:"mx-3 bg-indigo-600 hover:bg-indigo-700 transition duration-200 hover:scale-105 font-normal text-white px-5 py-2 text-sm  rounded-sm shadow-xl",children:"Pay Now"})]})})]})]})})})})}},28348:function(a,e,t){a.exports=t.p+"static/media/logo1.5c4637e45ad69b06fad3.png"},12297:function(a,e,t){a.exports=t.p+"static/media/success.e39fa5f54a849d8fc1a5.png"}}]);
//# sourceMappingURL=9454.83538ca6.chunk.js.map