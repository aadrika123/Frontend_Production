"use strict";(self.webpackChunkcitizen_landing=self.webpackChunkcitizen_landing||[]).push([[1916],{59053:function(e,s,t){t(72791);s.Z=t.p+"static/media/login.d89e81dc91e1fe9563b1494e61d26ec4.svg"},41916:function(e,s,t){t.r(s);var a=t(1413),o=t(70885),r=t(72791),l=t(55705),d=t(81724),n=t(59053),i=(t(21893),t(61044)),c=t(57689),x=t(99008),m=t(18966),p=t(60786),u=t(5055),w=(t(97948),t(75985)),h=t(32612),f=(t(39723),t(7278)),g=t(80184);s.default=function(e){var s=(0,r.useState)(!1),t=(0,o.Z)(s,2),b=t[0],y=t[1],v=(0,x.Z)(),N=v.api_changePassword,j=v.api_forgotPassword,P=((0,r.useContext)(u.n).notify,(0,c.s0)()),Z=(0,r.useState)(),C=(0,o.Z)(Z,2),k=C[0],S=(C[1],(0,c.UO)().type),_=d.Ry().shape({oldPassword:d.Z_().when([],{is:function(){return"change"==S},then:function(){return d.Z_().required("Enter old password")}}),newPassword:d.Z_().min(6,"Minimum six character !").max(50,"Too Long!").required("Enter new password !").matches(/^(?=.*\d)(?=.*[!@#$%^&*])(?=.*[a-z])(?=.*[A-Z]).{6,}$/,"Password Must Contains (Capital, Smail, Number, Special) eg - Abc123#."),matchNewPassword:d.Z_().required("Confirm your new password").oneOf([d.iH("newPassword"),null],"Password not match")}),A=(0,l.TA)({initialValues:{oldPassword:"",newPassword:"",matchNewPassword:""},onSubmit:function(e,s){console.log("post data",e),F(e)},validationSchema:_}),F=function(e){var s={password:e.oldPassword,newPassword:e.newPassword};console.log("request body before hit api => ",s),y(!0),i.ZP.post("change"==S?N:j,s,(0,h.Z)()).then((function(e){var s,t;1==(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.status)&&(console.log("successfully changed => ",e),w.Am.success("Password changed successfully !!!"),P("change"==S?"/landingDashboard":"/login")),0==(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.status)&&w.Am.error("Please try after sometime !!!"),y(!1)})).catch((function(e){console.log("change pwd error  => ",e),y(!1)}))};return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("div",{className:"w-full text-center mx-auto h-max relative",children:[(0,g.jsx)("button",{className:"".concat(f.jn)+" absolute left-2 sm:-top-3",onClick:function(){return P("change"==S?"/editProfile":"/login")},children:"Back"}),(0,g.jsx)("div",{className:"w-full md:w-3/5 h-max mx-auto mt-10 rounded-lg ",children:(0,g.jsx)("form",{onChange:function(e){var s=e.target.name,t=e.target.value;"mobile"==s&&A.setFieldValue("mobile",(0,p.Ud)(t,A.values.mobile,10))},children:(0,g.jsxs)("div",{className:"grid grid-cols-12 px-4 md:px-0 shadow-none md:shadow-lg ",children:[(0,g.jsx)("div",{className:"col-span-6 hidden md:block bg-white py-10",children:(0,g.jsx)("img",{className:"w-3/4",src:n.Z})}),(0,g.jsx)("div",{className:"w-full md:px-10 col-span-12 md:col-span-6 shadow-lg md:shadow-none bg-white py-10",children:(0,g.jsxs)("div",{className:"px-6 py-6 mt-10 text-gray-700 md:px-14",children:[(0,g.jsx)("h1",{className:"text-center font-semibold my-1 flex justify-center",children:(0,g.jsxs)("span",{className:"px-1 text-indigo-500 text-semibold text-2xl poppins uppercase",children:[S," Password"]})}),"change"==S&&(0,g.jsxs)("div",{className:"my-3 relative text-sm",children:[(0,g.jsx)("div",{className:"text-gray-600 static mb-1 font-semibold text-left poppins",children:"Old Password"}),(0,g.jsxs)("div",{className:"flex flex-row flex-wrap gap-x-2 gap-y-2",children:[(0,g.jsx)("input",(0,a.Z)((0,a.Z)({type:"password"},A.getFieldProps("oldPassword")),{},{className:"form-control px-3 text-xs 2xl:text-sm py-1 font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none shadow-md poppins w-full",placeholder:"Enter Your Old Password"})),(0,g.jsx)("div",{className:"w-full text-start",children:(0,g.jsx)("span",{className:"text-red-600 text-xs poppins text-start",children:A.touched.oldPassword&&A.errors.oldPassword?A.errors.oldPassword:null})})," "]})]}),(0,g.jsxs)("div",{className:"my-3 relative text-sm",children:[(0,g.jsx)("div",{className:"text-gray-600 static mb-1 font-semibold text-left poppins",children:"New Password"}),(0,g.jsxs)("div",{className:"flex flex-row flex-wrap gap-x-2 gap-y-2",children:[(0,g.jsx)("input",(0,a.Z)((0,a.Z)({type:"password"},A.getFieldProps("newPassword")),{},{className:"form-control px-3 text-xs 2xl:text-sm py-1 font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none shadow-md poppins w-full",placeholder:"Enter Your New Password"})),(0,g.jsx)("div",{className:"w-full text-start",children:(0,g.jsx)("span",{className:"text-red-600 text-xs poppins text-start",children:A.touched.newPassword&&A.errors.newPassword?A.errors.newPassword:null})})," "]})]}),(0,g.jsxs)("div",{className:"my-3 relative text-sm",children:[(0,g.jsx)("div",{className:"text-gray-600 static mb-1 font-semibold text-left poppins",children:"Confirm New Password"}),(0,g.jsxs)("div",{className:"flex flex-row flex-wrap gap-x-2 gap-y-2",children:[(0,g.jsx)("input",(0,a.Z)((0,a.Z)({type:"password"},A.getFieldProps("matchNewPassword")),{},{className:"form-control px-3 text-xs 2xl:text-sm py-1 font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none shadow-md poppins w-full",placeholder:"Confirm your new password"})),(0,g.jsx)("div",{className:"w-full text-start",children:(0,g.jsx)("span",{className:"text-red-600 text-xs poppins text-start",children:A.touched.matchNewPassword&&A.errors.matchNewPassword?A.errors.matchNewPassword:null})})," "]})]}),(0,g.jsx)("div",{className:" my-10"}),(0,g.jsx)("div",{className:"text-center mt-3 text-xs"}),(0,g.jsxs)("div",{className:"my-5   relative",children:[(0,g.jsxs)("div",{className:"text-red-600 text-sm font-semibold my-3 ",children:[" ",(0,g.jsxs)("span",{className:"",children:[" ",k]})]}),b?(0,g.jsx)("div",{className:"flex w-full justify-center",children:(0,g.jsx)(m.s5,{strokeColor:"grey",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0})}):(0,g.jsx)("button",{type:"submit",onClick:A.handleSubmit,disabled:b,className:" bg-indigo-500 hover:bg-indigo-700 px-5 shadow-xl py-2 w-[16rem]  rounded-md text-white text-md font-semibold",children:"Submit"})]})]})})]})})})]})})}}}]);
//# sourceMappingURL=1916.9abe4470.chunk.js.map