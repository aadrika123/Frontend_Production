"use strict";(self.webpackChunkcitizen_landing=self.webpackChunkcitizen_landing||[]).push([[1961],{81961:function(e,t,o){o.r(t);var i=o(29439),n=o(72791),s=(o(83757),o(31243)),a=o(97948),r=o.n(a),l=(o(60285),o(48503),o(7058),o(23178)),c=o(71507),d=(o(99554),o(800)),h=o(70894),u=o(57689),g=o(75985),p=o(79139),x=o(40399),v=o(64491),w=o(25229),m=o(80184),f={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"white",border:"none"}};r().setAppElement("#root"),t.default=function(e){var t=(0,n.useState)(!1),o=(0,i.Z)(t,2),a=(o[0],o[1],(0,n.useState)(!1)),b=(0,i.Z)(a,2),j=(b[0],b[1],(0,l.Z)()),y=j.api_postHoardingRenewList,Z=j.api_archivedApplication,N=(0,n.useState)(),A=(0,i.Z)(N,2),S=A[0],C=A[1],_=(0,n.useState)(!1),k=(0,i.Z)(_,2),E=k[0],L=k[1],H=(0,n.useState)(),R=(0,i.Z)(H,2),T=R[0],D=R[1],I=(0,n.useState)(),O=(0,i.Z)(I,2),z=O[0],F=O[1],M=(0,n.useState)(!1),P=(0,i.Z)(M,2),q=(P[0],P[1]),U=(0,n.useState)(!1),V=(0,i.Z)(U,2),B=V[0],W=V[1],G=(0,n.useState)(!1),J=(0,i.Z)(G,2),K=J[0],Q=J[1],X=(0,n.useState)(!1),Y=(0,i.Z)(X,2),$=Y[0],ee=Y[1],te=function(){return ee(!1)},oe=(0,n.useState)(),ie=(0,i.Z)(oe,2),ne=(ie[0],ie[1],(0,u.UO)().id);console.log("id im param",ne);var se=function(e,t){g.Am.dismiss(),"success"==t&&g.Am.success(e),"error"==t&&g.Am.error(e)},ae=(0,u.s0)(),re=[{Header:"#",Cell:function(e){var t=e.row;return(0,m.jsx)("div",{className:"pr-2",children:t.index+1})}},{Header:"Application No",accessor:"application_no"},{Header:"Apply Date.",accessor:"application_date"},{Header:"Action",accessor:"id",Cell:function(e){var t=e.cell;return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{children:[(0,m.jsx)("button",{onClick:function(){return le(t.row.values.id,"Approve")},className:"bg-indigo-500 px-3 py-1 rounded leading-5 shadow-lg hover:shadow-xl hover:bg-indigo-700 \r hover:text-white text-white",children:"View"}),1==t.row.original.renew_option&&(0,m.jsx)("button",{onClick:function(){return ae("/hoarding/".concat(ne,"/").concat(t.row.values.id,"/renew"))},className:"bg-indigo-500 px-3 py-1 ml-2 rounded leading-5 shadow-lg hover:shadow-xl hover:bg-indigo-700 \r hover:text-white text-white",children:"Renew"}),"Expired"==t.row.original.renew_option&&(0,m.jsx)("button",{className:"bg-indigo-500 px-3 py-1 ml-2 rounded leading-5 shadow-lg hover:shadow-xl hover:bg-indigo-700 \r hover:text-white text-white",disabled:!0,children:"Expired"}),"Expired"==t.row.original.renew_option&&(0,m.jsx)(p.Tooltip,{className:"bg-gray-300 text-xs text-gray-900",content:"Archived",children:(0,m.jsx)("button",{onClick:function(){return ce(t.row.values.id)},className:"bg-indigo-500 float-right px-2 py-1 ml-2 rounded leading-5 shadow-lg hover:shadow-xl hover:bg-indigo-700 \r hover:text-white text-white",children:(0,m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-5 h-5",children:(0,m.jsx)("path",{"fill-rule":"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.006z","clip-rule":"evenodd"})})})})]})})}}],le=function(e,t){console.log("..............application id..............",e),console.log("..............application type..............",t),F(e),D(t),ee(!0)};(0,n.useEffect)((function(){Q(!1),W(!0),s.Z.post(y,{},(0,c.Z)()).then((function(e){e.data.status&&(C(e.data.data),L(!0),W(!1))})).catch((function(e){console.log(e),Q(!0),W(!1)}))}),[]),console.log("application renew list",S);var ce=function(e){var t={applicationId:e};console.log("request body in renew...12",e),s.Z.post("".concat(Z),t,(0,c.Z)()).then((function(e){console.log("archived response",e.data),se("Archived successfully","success")})).catch((function(e){console.log("errorrr.... ",e),se("failed to archived","error")}))};return B?(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(x.Z,{})}):K?(0,m.jsx)(v.Z,{children:(0,m.jsx)(w.Z,{title:"Server is busy",desc:"Server is too busy to respond. Please try again later.",buttonText:"View Dashboard",buttonUrl:"/propertyDashboard"})}):(console.log("application data in renew list 12",S),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(g.Ix,{position:"top-right",autoClose:2e3}),(0,m.jsx)("div",{className:"container bg-white text-gray-600 h-screen mx-auto mt-12",children:(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-12 lg:grid-cols-12 gap-4 container mx-auto pt-4 ",children:(0,m.jsx)("div",{className:"col-span-12 p-2",children:(0,m.jsxs)("div",{className:"flex flex-row bg-white mb-4 rounded leading-5 shadow-md shadow-violet-100 ",children:[(0,m.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/3288/3288006.png",className:"h-10 ml-3 mt-2"}),(0,m.jsx)("h1",{className:"text-xl text-gray-700 font-semibold p-4",children:"RENEW APPLICATIONS"})]})})}),(0,m.jsxs)("div",{className:"grid grid-cols-1 p-2",children:[E&&(0,m.jsx)(d.Z,{assessmentType:!1,columns:re,dataList:null===S||void 0===S?void 0:S.data}),E&&null==(null===E||void 0===E?void 0:E.data)&&(0,m.jsx)("div",{className:"text-xl font-semibold text-red-400 text-center",children:"No Data"})]}),(0,m.jsx)("div",{className:"grid grid-cols-1",children:(0,m.jsx)(r(),{isOpen:$,onAfterOpen:function(){},onRequestClose:te,style:f,contentLabel:"Example Modal",children:(0,m.jsx)("div",{class:" rounded-lg shadow-xl border-2 border-gray-50 mx-auto px-0 ",style:{width:"80vw",height:"100%"},children:(0,m.jsx)("div",{className:"h-[44rem] bg-white overflow-y-auto",children:(0,m.jsx)(h.Z,{data:z,applicationType:T,showLoader:function(e){q(e)},closeModal:te})})})})})]})})]}))}}}]);
//# sourceMappingURL=1961.3008814b.chunk.js.map