"use strict";(self.webpackChunkcitizen_landing=self.webpackChunkcitizen_landing||[]).push([[1961],{81961:function(e,t,n){n.r(t);var s=n(70885),o=n(72791),i=(n(83757),n(61044)),r=n(97948),a=n.n(r),l=(n(60285),n(48503),n(7058),n(23178)),c=n(71507),d=(n(99554),n(800)),u=n(70894),h=n(57689),x=n(75985),g=n(79139),p=n(40399),f=n(64491),v=n(25229),m=n(80184),b={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"white",border:"none"}};a().setAppElement("#root"),t.default=function(e){var t=(0,o.useState)(!1),n=(0,s.Z)(t,2),r=(n[0],n[1],(0,o.useState)(!1)),w=(0,s.Z)(r,2),j=(w[0],w[1],(0,l.Z)()),y=j.api_postHoardingRenewList,N=j.api_archivedApplication,Z=(0,o.useState)(),S=(0,s.Z)(Z,2),C=S[0],P=S[1],k=(0,o.useState)(!1),F=(0,s.Z)(k,2),A=F[0],E=F[1],L=(0,o.useState)(),T=(0,s.Z)(L,2),_=T[0],H=T[1],M=(0,o.useState)(),R=(0,s.Z)(M,2),q=R[0],B=R[1],D=(0,o.useState)(!1),I=(0,s.Z)(D,2),z=(I[0],I[1]),O=(0,o.useState)(!1),G=(0,s.Z)(O,2),U=G[0],V=G[1],W=(0,o.useState)(!1),J=(0,s.Z)(W,2),K=J[0],Q=J[1],X=(0,o.useState)(!1),Y=(0,s.Z)(X,2),$=Y[0],ee=Y[1],te=function(){return ee(!1)},ne=(0,o.useState)(),se=(0,s.Z)(ne,2),oe=(se[0],se[1],(0,h.UO)().id);console.log("id im param",oe);var ie=function(e,t){x.Am.dismiss(),"success"==t&&x.Am.success(e),"error"==t&&x.Am.error(e)},re=(0,h.s0)(),ae=[{Header:"#",Cell:function(e){var t=e.row;return(0,m.jsx)("div",{className:"pr-2",children:t.index+1})}},{Header:"Application No",accessor:"application_no"},{Header:"Apply Date.",accessor:"application_date"},{Header:"Action",accessor:"id",Cell:function(e){var t=e.cell;return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{children:[(0,m.jsx)("button",{onClick:function(){return le(t.row.values.id,"Approve")},className:"bg-indigo-500 px-3 py-1 rounded leading-5 shadow-lg hover:shadow-xl hover:bg-indigo-700 \r hover:text-white text-white",children:"View"}),1==t.row.original.renew_option&&(0,m.jsx)("button",{onClick:function(){return re("/hoarding/".concat(oe,"/").concat(t.row.values.id,"/renew"))},className:"bg-indigo-500 px-3 py-1 ml-2 rounded leading-5 shadow-lg hover:shadow-xl hover:bg-indigo-700 \r hover:text-white text-white",children:"Renew"}),"Expired"==t.row.original.renew_option&&(0,m.jsx)("button",{className:"bg-indigo-500 px-3 py-1 ml-2 rounded leading-5 shadow-lg hover:shadow-xl hover:bg-indigo-700 \r hover:text-white text-white",disabled:!0,children:"Expired"}),"Expired"==t.row.original.renew_option&&(0,m.jsx)(g.Tooltip,{className:"bg-gray-300 text-xs text-gray-900",content:"Archived",children:(0,m.jsx)("button",{onClick:function(){return ce(t.row.values.id)},className:"bg-indigo-500 float-right px-2 py-1 ml-2 rounded leading-5 shadow-lg hover:shadow-xl hover:bg-indigo-700 \r hover:text-white text-white",children:(0,m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-5 h-5",children:(0,m.jsx)("path",{"fill-rule":"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.006z","clip-rule":"evenodd"})})})})]})})}}],le=function(e,t){console.log("..............application id..............",e),console.log("..............application type..............",t),B(e),H(t),ee(!0)};(0,o.useEffect)((function(){Q(!1),V(!0),i.ZP.post(y,{},(0,c.Z)()).then((function(e){e.data.status&&(P(e.data.data),E(!0),V(!1))})).catch((function(e){console.log(e),Q(!0),V(!1)}))}),[]),console.log("application renew list",C);var ce=function(e){var t={applicationId:e};console.log("request body in renew...12",e),i.ZP.post("".concat(N),t,(0,c.Z)()).then((function(e){console.log("archived response",e.data),ie("Archived successfully","success")})).catch((function(e){console.log("errorrr.... ",e),ie("failed to archived","error")}))};return U?(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(p.Z,{})}):K?(0,m.jsx)(f.Z,{children:(0,m.jsx)(v.Z,{title:"Server is busy",desc:"Server is too busy to respond. Please try again later.",buttonText:"View Dashboard",buttonUrl:"/propertyDashboard"})}):(console.log("application data in renew list 12",C),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(x.Ix,{position:"top-right",autoClose:2e3}),(0,m.jsx)("div",{className:"container bg-white text-gray-600 h-screen mx-auto mt-12",children:(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-12 lg:grid-cols-12 gap-4 container mx-auto pt-4 ",children:(0,m.jsx)("div",{className:"col-span-12 p-2",children:(0,m.jsxs)("div",{className:"flex flex-row bg-white mb-4 rounded leading-5 shadow-md shadow-violet-100 ",children:[(0,m.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/3288/3288006.png",className:"h-10 ml-3 mt-2"}),(0,m.jsx)("h1",{className:"text-xl text-gray-700 font-semibold p-4",children:"RENEW APPLICATIONS"})]})})}),(0,m.jsxs)("div",{className:"grid grid-cols-1 p-2",children:[A&&(0,m.jsx)(d.Z,{assessmentType:!1,columns:ae,dataList:null===C||void 0===C?void 0:C.data}),A&&null==(null===A||void 0===A?void 0:A.data)&&(0,m.jsx)("div",{className:"text-xl font-semibold text-red-400 text-center",children:"No Data"})]}),(0,m.jsx)("div",{className:"grid grid-cols-1",children:(0,m.jsx)(a(),{isOpen:$,onAfterOpen:function(){},onRequestClose:te,style:b,contentLabel:"Example Modal",children:(0,m.jsx)("div",{class:" rounded-lg shadow-xl border-2 border-gray-50 mx-auto px-0 ",style:{width:"80vw",height:"100%"},children:(0,m.jsx)("div",{className:"h-[44rem] bg-white overflow-y-auto",children:(0,m.jsx)(u.Z,{data:q,applicationType:_,showLoader:function(e){z(e)},closeModal:te})})})})})]})})]}))}},7058:function(e,t,n){n(72791),n(80184)},99554:function(e,t,n){n(72791),n(80184)},800:function(e,t,n){n.d(t,{Z:function(){return u}});var s=n(1413),o=n(70885),i=n(72791),r=n(71358),a=n(78820),l=n(98472),c=n(80184);var d=function(e){var t=e.filter,n=e.setFilter;return(0,c.jsxs)("div",{className:"px-1",children:["Search : "," ",(0,c.jsx)("input",{className:"border border-gray-300 px-2  bg-gray-50 shadow-lg rounded leading-5 py-1.5 ",type:"text",value:t||"",onChange:function(e){return n(e.target.value)}})]})};var u=function(e){var t=(0,i.useState)("hidden"),n=(0,o.Z)(t,2),u=n[0],h=n[1],x=(0,i.useMemo)((function(){return e.columns}),[]),g=(0,i.useMemo)((function(){return e.dataList}),[e.dataList]);(0,i.useEffect)((function(){P(5)}),[]);var p=(0,r.useTable)({columns:x,data:g,initialState:{pageIndex:0}},r.useGlobalFilter,r.useSortBy,r.usePagination),f=(p.getTableProps,p.getTableBodyProps),v=p.headerGroups,m=p.page,b=p.nextPage,w=p.previousPage,j=p.canNextPage,y=p.canPreviousPage,N=p.prepareRow,Z=p.pageOptions,S=p.gotoPage,C=p.pageCount,P=p.setPageSize,k=p.state,F=p.setGlobalFilter,A=k.globalFilter,E=k.pageIndex,L=k.pageSize;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"flex mb-2 pb-2",children:[(0,c.jsx)("div",{className:"flex-initial",children:(0,c.jsx)(d,{filter:A,setFilter:F})}),(0,c.jsx)("div",{className:"flex-initial ml-2",children:(0,c.jsxs)("button",{className:"bg-sky-400 px-3 pr-3  shadow-lg rounded py-1 text-white hover:shadow-2xl hover:bg-green-600 text-center relative",onMouseEnter:function(){return h("")},onMouseLeave:function(){return h("hidden")},children:[(0,c.jsx)(l.CSVLink,{data:e.dataList,children:"Export"}),(0,c.jsx)("div",{className:u+" absolute h-full top-3 text-sm left-0 text-center animate-bounce",children:(0,c.jsx)(a.Duv,{})})]})}),(0,c.jsx)("div",{className:"flex-1",children:e.children})]}),(0,c.jsx)("div",{className:"overflow-x-auto bg-white",children:(0,c.jsxs)("div",{className:"inline-block min-w-full rounded-lg overflow-hidden bg-white",children:[(0,c.jsxs)("table",(0,s.Z)((0,s.Z)({},f),{},{className:"min-w-full leading-normal",children:[(0,c.jsx)("thead",{className:"font-bold text-left text-sm bg-violet-100 hover:bg-violet-100",children:null===v||void 0===v?void 0:v.map((function(e){return(0,c.jsx)("tr",(0,s.Z)((0,s.Z)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return(0,c.jsxs)("th",(0,s.Z)((0,s.Z)({},e.getHeaderProps(e.getSortByToggleProps())),{},{className:"px-2 py-3 border-b border-gray-200 text-gray-800  text-left text-xs uppercase text-left",children:[e.render("Header"),(0,c.jsx)("span",{children:e.isSorted?e.isSortedDesc?"\u2b06\ufe0f":"\u2b07\ufe0f":""})]}))}))}))}))}),(0,c.jsxs)("tbody",(0,s.Z)((0,s.Z)({},f()),{},{className:"text-sm",children:[" ",null===m||void 0===m?void 0:m.map((function(e){var t;return N(e),(0,c.jsx)("tr",(0,s.Z)((0,s.Z)({},e.getRowProps()),{},{className:"bg-white shadow-md border border-slate-100 hover:bg-slate-50 ",children:null===e||void 0===e||null===(t=e.cells)||void 0===t?void 0:t.map((function(e){return(0,c.jsx)("td",(0,s.Z)((0,s.Z)({},e.getCellProps()),{},{className:"px-2 py-2 text-sm text-left",children:e.render("Cell")}))}))}))})),(0,c.jsx)("tr",{children:(0,c.jsx)("td",{})})]}))]})),(0,c.jsxs)("div",{className:"mt-3 grid grid-cols-12",children:[(0,c.jsxs)("div",{className:"col-span-2 ml-2",children:["  ",(0,c.jsx)("select",{className:"h-10 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 ",value:L,onChange:function(e){return P(Number(e.target.value))},children:[5,10,25,50].map((function(e){return(0,c.jsxs)("option",{value:e,children:["show ",e]},e)}))})]}),(0,c.jsxs)("div",{className:"col-span-4 text-center col-start-5",children:["   ",(0,c.jsxs)("span",{children:["page ","",(0,c.jsxs)("strong",{children:[E+1," of ",Z.length]}),""]})]}),(0,c.jsxs)("div",{className:"col-span-4 text-right",children:[(0,c.jsxs)("button",{className:"cursor-pointer hover:bg-sky-300 p-2 hover:text-white",onClick:function(){return S(0)},disabled:!y,children:[(0,c.jsx)(a.xN8,{})," "]}),(0,c.jsx)("button",{className:(y?"opacity-100":"opacity-50")+" text-xl hover:bg-sky-300 hover:text-white",onClick:function(){return w()},disabled:!y,children:"\u2b05\ufe0f"}),(0,c.jsx)("button",{className:(j?"opacity-100":"opacity-50")+" text-xl hover:bg-sky-300 hover:text-white",onClick:function(){return b()},disabled:!j,children:"\u27a1\ufe0f"}),(0,c.jsxs)("button",{className:"cursor-pointer hover:bg-sky-300 p-2 hover:text-white",onClick:function(){return S(C-1)},disabled:!j,children:["  ",(0,c.jsx)(a.yci,{})]})]})]})]})})]})}},83757:function(e,t,n){function s(e){Promise.resolve().then(e).catch((function(e){return setTimeout((function(){throw e}))}))}var o=function(){function e(){this.queue=[],this.transactions=0,this.notifyFn=function(e){e()},this.batchNotifyFn=function(e){e()}}var t=e.prototype;return t.batch=function(e){var t;this.transactions++;try{t=e()}finally{this.transactions--,this.transactions||this.flush()}return t},t.schedule=function(e){var t=this;this.transactions?this.queue.push(e):s((function(){t.notifyFn(e)}))},t.batchCalls=function(e){var t=this;return function(){for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];t.schedule((function(){e.apply(void 0,s)}))}},t.flush=function(){var e=this,t=this.queue;this.queue=[],t.length&&s((function(){e.batchNotifyFn((function(){t.forEach((function(t){e.notifyFn(t)}))}))}))},t.setNotifyFunction=function(e){this.notifyFn=e},t.setBatchNotifyFunction=function(e){this.batchNotifyFn=e},e}(),i=new o,r=n(54164).unstable_batchedUpdates;i.setBatchNotifyFunction(r);console;var a=console}}]);
//# sourceMappingURL=1961.9c592018.chunk.js.map