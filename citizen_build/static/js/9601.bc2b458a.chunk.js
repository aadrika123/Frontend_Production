"use strict";(self.webpackChunkcitizen_landing=self.webpackChunkcitizen_landing||[]).push([[9601,9140],{59053:function(e,t,o){o(72791);t.Z=o.p+"static/media/login.d89e81dc91e1fe9563b1494e61d26ec4.svg"},94066:function(e,t,o){o.r(t);var s=o(1413),n=o(70885),i=o(72791),r=o(55705),l=o(62797),a=o(59053),c=o(39126),d=o(61044),u=o(57689),x=o(99008),h=o(18966),f=o(60786),m=o(5055),b=o(58253),g=o(78288),p=o(76645),v=o(64491),w=o(25229),y=o(80184);t.default=function(){console.log("backend url imported....",b.Z);var e=(0,i.useState)(!1),t=(0,n.Z)(e,2),o=t[0],j=t[1],N=(0,i.useState)(!1),Z=(0,n.Z)(N,2),k=Z[0],S=Z[1],C=(0,i.useState)(!1),P=(0,n.Z)(C,2),L=P[0],M=P[1],T=(0,x.Z)().api_citizenLogin2,D=(0,i.useState)(null),_=(0,n.Z)(D,2),O=(_[0],_[1]),z=(0,i.useContext)(m.n).notify,E=(0,u.s0)(),F=(0,i.useState)(),R=(0,n.Z)(F,2),I=R[0],B=R[1],K=(0,i.useState)(!0),V=(0,n.Z)(K,2),A=(V[0],V[1],l.Ry().shape({mobile:l.Z_().required("Enter mobile no. !").min(10).max(10),password:l.Z_().min(6,"Minimum six character !").max(50,"Too Long!").required("Enter password no. !").matches(/^(?=.*\d)(?=.*[!@#$%^&*])(?=.*[a-z])(?=.*[A-Z]).{6,}$/,"Password Must Contains (Capital, Smail, Number, Special) eg - Abc123#.")})),U=(0,r.TA)({initialValues:{mobile:"",password:""},onSubmit:function(e){console.log("post data",e),q(e)},validationSchema:A}),q=function(e){B(""),j(!0),$(!1),d.ZP.post(T,{mobile:null===e||void 0===e?void 0:e.mobile,password:null===e||void 0===e?void 0:e.password}).then((function(e){var t,o,s,n,i,r,l,a,c,d;(console.log("response after login....",null===e||void 0===e?void 0:e.data),!0===(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.status))?(localStorage.setItem("citizen_token",null===e||void 0===e||null===(s=e.data)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.token),j(!1),localStorage.setItem("propertyPopup",!0),z("Login Success","success"),window.localStorage.setItem("citizenMobile",null===e||void 0===e||null===(i=e.data)||void 0===i||null===(r=i.data)||void 0===r?void 0:r.mobile),window.localStorage.setItem("citizenName",null===e||void 0===e||null===(l=e.data)||void 0===l||null===(a=l.data)||void 0===a?void 0:a.userName),E("/landingDashboard")):(console.log("Login Failed",null===e||void 0===e||null===(c=e.data)||void 0===c?void 0:c.message),z(null===e||void 0===e||null===(d=e.data)||void 0===d?void 0:d.message,"error"),j(!1));console.log("=== Invalid Details",e),B(null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.message)})).catch((function(e){console.log(e),console.log("-Exception--",e),j(!1),B("something went wrongg"),$(!0),z("something went wrongg !!","error")}))},H=(0,i.useState)(!1),W=(0,n.Z)(H,2),Y=W[0],$=W[1];return Y?(0,y.jsx)(v.Z,{children:(0,y.jsx)(w.Z,{title:"Server is busy",desc:"Server is too busy to respond. Please try again later.",buttonText:"View Dashboard",buttonUrl:"/propertyDashboard"})}):k?(0,y.jsx)(g.default,{closeMobileModal:function(){S(!1)},headTitle:"Forgot Password",title:"Enter mobile to get OTP",desc:"Enter your mobile no, which is attached to your account.",setverifedMobileNo:O,setmobileCardStatus:S,setotpCardStatus:M}):L?(0,y.jsx)(p.default,{closeOtpModal:function(){M(!1)},bottomNaviation:!0,headTitle:"Forgot OTP",callback:function(){z("Mobile no. has been verified successfully !","success"),E("/change-password/forgot")},setotpCardStatus:M}):(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(v.Z,{children:(0,y.jsx)("div",{className:"w-full text-center mx-auto bg-white md:bg-none shadow-lg md:shadow-none",children:(0,y.jsx)("div",{className:"w-full md:w-3/5 mx-auto mt-16 rouned-lg ",children:(0,y.jsx)("form",{onChange:function(e){var t=e.target.name,o=e.target.value;"mobile"==t&&U.setFieldValue("mobile",(0,f.Ud)(o,U.values.mobile,10))},onSubmit:U.handleSubmit,children:(0,y.jsxs)("div",{className:"grid grid-cols-12 px-2 md:px-0 shadow-none md:shadow-lg ",children:[(0,y.jsx)("div",{className:"col-span-6 hidden md:block bg-white md:py-10",children:(0,y.jsx)("img",{className:"w-3/4",src:a.Z})}),(0,y.jsx)("div",{className:"w-full md:px-10 col-span-12 md:col-span-6 md:shadow-none bg-white py-10",children:(0,y.jsxs)("div",{className:"w-full  pb-6 pt-0 md:py-6 md:mt-10 text-gray-700",children:[(0,y.jsx)("h1",{className:"text-center text-md font-semibold md:my-1 capitalize w-full"}),(0,y.jsx)("h1",{className:"text-center font-semibold my-1 flex justify-center",children:(0,y.jsx)("span",{className:"px-1 text-semibold text-2xl -mt-5 mb-4",children:"Log In "})}),(0,y.jsxs)("div",{className:"my-3 relative text-sm",children:[(0,y.jsxs)("div",{className:"text-gray-600 static mb-1 font-semibold text-left px-8 md:px-10 ",children:["Mobile No.",(0,y.jsx)("span",{className:"text-red-500 font-bold",children:"*"})]}),(0,y.jsx)("input",(0,s.Z)((0,s.Z)({type:"text",min:0},U.getFieldProps("mobile")),{},{className:"cypress_user_mobile border-b border-b-gray-200 focus:border-b focus:border-b-indigo-500  pl-2 px-3 py-1 w-5/6 shadow-sm h-10 outline-none border border-solid border-gray-300 rounded hover:bg-gray-100",placeholder:"Enter Your mobile"})),(0,y.jsx)("div",{children:(0,y.jsx)("span",{className:"text-red-600 absolute text-xs",children:U.touched.mobile&&U.errors.mobile?U.errors.mobile:null})})]}),(0,y.jsxs)("div",{className:"my-3 relative text-sm mt-4",children:[(0,y.jsxs)("div",{className:"text-gray-600 static mb-1 font-semibold text-left px-8 md:px-10",children:["Password ",(0,y.jsx)("span",{className:"text-red-500 font-bold",children:"*"})]}),(0,y.jsx)("input",(0,s.Z)((0,s.Z)({type:"password"},U.getFieldProps("password")),{},{className:"cypress_user_password border-b border-b-gray-200 focus:border-b focus:border-b-indigo-500  pl-2 px-3 py-1 w-5/6 shadow-sm h-10 outline-none border border-solid border-gray-300 rounded hover:bg-gray-100",placeholder:"Enter Your Password"})),(0,y.jsx)("div",{children:(0,y.jsx)("span",{className:"text-red-600 absolute text-xs",children:U.touched.password&&U.errors.password?U.errors.password:null})})]}),(0,y.jsx)("div",{className:" my-10"}),(0,y.jsx)("div",{className:"text-center mt-3 text-xs"}),(0,y.jsxs)("div",{className:"my-5 self-center justify-self-center relative",children:[(0,y.jsxs)("div",{className:"text-red-600 text-sm font-semibold my-3 ",children:[" ",(0,y.jsxs)("span",{className:"",children:[" ",I]})]}),o?(0,y.jsx)("div",{className:"flex justify-center",children:(0,y.jsx)(h.s5,{strokeColor:"grey",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0})}):(0,y.jsx)("button",{type:"submit",disabled:o,className:"cypress_login bg-indigo-500 hover:bg-indigo-700 px-5 shadow-xl py-2 w-72  rounded-md text-white text-lg font-semibold",children:"Login"})]}),(0,y.jsx)("div",{className:"flex flex-row flex-wrap gapx-x-2 gap-y-2 w-full poppins justify-center",children:(0,y.jsx)("span",{className:"text-gray-700 text-sm font-semibold cursor-pointer md:w-[40%] w-full",onClick:function(){return S(!0)},children:"Forgot Password"})}),(0,y.jsxs)("div",{className:"text-left w-full mt-10",children:[(0,y.jsxs)("span",{onClick:function(){return E("/")},className:"text-indigo-500 font-semibold hover:bg-white px-3 py-1 cursor-pointer ",children:[(0,y.jsx)(c.And,{className:"inline mr-2"}),"Home"]}),(0,y.jsxs)("span",{onClick:function(){return E("/register")},className:"text-indigo-500 font-semibold hover:bg-white px-3 py-1 cursor-pointer float-right",children:["Register ",(0,y.jsx)(c.lzl,{className:"inline ml-2"})]})]})]})})]})})})})})})}},76645:function(e,t,o){o.r(t);var s=o(4942),n=o(1413),i=o(70885),r=o(72791),l=o(57689),a=o(99008),c=o(61044),d=o(5055),u=o(39723),x=o(64491),h=o(25229),f=o(80184);t.default=function(e){var t,o=(0,r.useState)(!1),m=(0,i.Z)(o,2),b=m[0],g=m[1],p=(0,r.useState)(""),v=(0,i.Z)(p,2),w=(v[0],v[1],(0,a.Z)().api_verifyMobileOtp),y=(0,r.useState)(!1),j=(0,i.Z)(y,2),N=j[0],Z=j[1],k=(0,r.useContext)(d.n).notify,S=(0,r.useState)(!1),C=(0,i.Z)(S,2),P=C[0],L=C[1],M=(0,r.useState)(""),T=(0,i.Z)(M,2),D=T[0],_=T[1],O=(0,r.useState)(4),z=(0,i.Z)(O,2),E=z[0],F=z[1],R=(0,r.useState)({first:"",second:"",third:"",fourth:"",fifth:"",sixth:""}),I=(0,i.Z)(R,2),B=I[0],K=I[1],V=(0,r.useRef)(),A=(0,r.useRef)(),U=(0,r.useRef)(),q=(0,r.useRef)(),H=(0,r.useRef)(),W=(0,r.useRef)(),Y=(0,l.s0)(),$=(0,r.useState)("first"),G=(0,i.Z)($,2),J=G[0],Q=G[1],X=function(e,t){_("");var o=(0,n.Z)((0,n.Z)({},B),{},(0,s.Z)({},t,e.target.value));if(K((0,n.Z)((0,n.Z)({},B),{},(0,s.Z)({},t,e.target.value))),1===e.target.value.length)switch(t){case"first":A.current.focus(),Q("second");break;case"second":U.current.focus(),Q("third");break;case"third":q.current.focus(),Q("fourth");break;case"fourth":H.current.focus(),Q("fifth");break;case"fifth":W.current.focus(),Q("sixth");break;case"sixth":Q("sixth")}te(o)},ee=function(e){switch(e){case"second":V.current.focus(),K((0,n.Z)((0,n.Z)({},B),{},{second:""})),Q("first");break;case"third":A.current.focus(),K((0,n.Z)((0,n.Z)({},B),{},{third:""})),Q("second");break;case"fourth":U.current.focus(),K((0,n.Z)((0,n.Z)({},B),{},{fourth:""})),Q("third");break;case"fifth":q.current.focus(),K((0,n.Z)((0,n.Z)({},B),{},{fifth:""})),Q("fouth");break;case"sixth":H.current.focus(),K((0,n.Z)((0,n.Z)({},B),{},{sixth:""})),Q("fifth")}},te=function(e){console.table(e),""!=e.first&&""!=e.second&&""!=e.third&&""!=e.fourth&&""!=e.fifth&&""!=e.sixth?L(!0):L(!1)},oe=4,se=function(){t=setInterval((function(){F((function(e){return e-1})),0==(oe-=1)&&(g(!0),console.log("inside static stop..."),clearInterval(t))}),1e3)};(0,r.useEffect)((function(){se()}),[]);var ne=(0,r.useState)(!1),ie=(0,i.Z)(ne,2),re=ie[0],le=ie[1];return re?(0,f.jsx)(x.Z,{children:(0,f.jsx)(h.Z,{title:"Server is busy",desc:"Server is too busy to respond. Please try again later.",buttonText:"View Dashboard",buttonUrl:"/propertyDashboard"})}):(0,f.jsxs)(f.Fragment,{children:[N&&(0,f.jsx)(u.Z,{}),(0,f.jsx)(x.Z,{children:(0,f.jsx)("div",{class:"",children:(0,f.jsx)("div",{class:"container mx-auto",children:(0,f.jsx)("div",{class:"max-w-sm mx-auto md:max-w-lg",children:(0,f.jsxs)("div",{class:"w-full px-2 md:px-0",children:[(0,f.jsxs)("div",{className:"w-full text-center py-2  bg-gray-200 text-black relative",children:[null===e||void 0===e?void 0:e.headTitle,(0,f.jsx)("button",{onClick:null===e||void 0===e?void 0:e.closeOtpModal,type:"button",class:"absolute top-1 right-6 bg-transparent bg-gray-200 text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center shadow-sm  hover:bg-red-200 hover:border-none",children:(0,f.jsx)("svg",{class:"w-5 h-5",fill:"currentColor",children:(0,f.jsx)("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})})})]}),(0,f.jsxs)("div",{class:"bg-white py-20 px-6 md:py-20 md:px-20 w-full md:w-auto rounded text-center shadow-xl relative",children:[(0,f.jsx)("div",{class:"text-2xl font-bold px-2",children:"OTP Verification"}),(0,f.jsx)("div",{class:"flex flex-col mt-4 text-center",children:(0,f.jsx)("span",{className:"text-center text-red-400",children:D})}),(0,f.jsxs)("div",{class:"flex flex-col mt-4",children:[(0,f.jsx)("span",{children:"Enter the OTP you received at"}),(0,f.jsxs)("span",{class:"font-bold",children:["+91 ",null===e||void 0===e?void 0:e.verifedMobileNo]})]}),(0,f.jsxs)("div",{id:"otp",class:"flex flex-row justify-center text-center px-2 mt-5",children:[(0,f.jsx)("input",{ref:V,type:"text",min:0,value:B.first,maxLength:1,onChange:function(e){return X(e,"first")},onKeyDown:function(e){return"Backspace"===e.key&&ee("first")},className:"".concat("first"===J?"active":""," m-2 border h-10 w-10 text-center form-control rounded")}),(0,f.jsx)("input",{ref:A,type:"text",min:0,value:B.second,maxLength:1,onChange:function(e){return X(e,"second")},onKeyDown:function(e){return"Backspace"===e.key&&ee("second")},className:"".concat("second"===J?"active":""," m-2 border h-10 w-10 text-center form-control rounded")}),(0,f.jsx)("input",{ref:U,type:"text",min:0,value:B.third,maxLength:1,onChange:function(e){return X(e,"third")},onKeyDown:function(e){return"Backspace"===e.key&&ee("third")},className:"".concat("third"===J?"active":""," m-2 border h-10 w-10 text-center form-control rounded")}),(0,f.jsx)("input",{ref:q,type:"text",min:0,value:B.fourth,maxLength:1,onChange:function(e){return X(e,"fourth")},onKeyDown:function(e){return"Backspace"===e.key&&ee("fourth")},className:"".concat("fourth"===J?"active":""," m-2 border h-10 w-10 text-center form-control rounded")}),(0,f.jsx)("input",{ref:H,type:"text",min:0,value:B.fifth,maxLength:1,onChange:function(e){return X(e,"fifth")},onKeyDown:function(e){return"Backspace"===e.key&&ee("fifth")},className:"".concat("fifth"===J?"active":""," m-2 border h-10 w-10 text-center form-control rounded")}),(0,f.jsx)("input",{ref:W,type:"text",min:0,value:B.sixth,maxLength:1,onChange:function(e){return X(e,"sixth")},onKeyDown:function(e){return"Backspace"===e.key&&ee("sixth")},className:"".concat("sixth"===J?"active":""," m-2 border h-10 w-10 text-center form-control rounded")})]}),(0,f.jsxs)("div",{class:"flex justify-center text-center mt-5",children:[!b&&(0,f.jsx)("div",{className:"w-10 h-10 bg-indigo-500 flex justify-center items-center rounded-full text-white",children:E}),(0,f.jsxs)("button",{disabled:!b,onClick:function(){null===e||void 0===e||e.reSendOtp(),g(!1),F(4),oe=4,se()},class:"ml-4 flex items-center ".concat(b?"text-indigo-500 hover:text-blue-900 cursor-pointer":"text-gray-400 hover:text-none cursor-default"),children:[(0,f.jsx)("span",{class:"font-bold",children:"Resend OTP"}),(0,f.jsx)("i",{class:"bx bx-caret-right ml-1"})]})]}),(0,f.jsxs)("div",{class:"w-full text-center mt-5",children:[P&&(0,f.jsx)("button",{type:"button",onClick:function(){le(!1),Z(!0);var t={otp:"".concat(B.first).concat(B.second).concat(B.third).concat(B.fourth).concat(B.fifth).concat(B.sixth),mobileNo:null===e||void 0===e?void 0:e.verifedMobileNo};console.log("before verify otp...",t),c.ZP.post(w,t).then((function(t){var o,s;(console.log("otp verify response",null===t||void 0===t?void 0:t.data),null!==t&&void 0!==t&&null!==(o=t.data)&&void 0!==o&&o.status)?null===e||void 0===e||e.callback():(k("Wrong OTP, Please enter correct OTP","error"),_(null===t||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message));Z(!1)})).catch((function(e){console.log("otp verify error",e),k("Something went wrong...","error"),_("Something went wrong !"),le(!0),Z(!1)}))},className:"w-full  py-2.5 bg-indigo-600 text-white font-medium text-xs leading-tight  rounded shadow-md hover:bg-indigo-700 hover:shadow-lg focus:bg-indigo-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-indigo-800 active:shadow-lg transition duration-150 ease-in-out",children:"Submit"}),!P&&(0,f.jsx)("button",{type:"button",className:"w-full  py-2.5 bg-gray-400 text-white font-medium text-xs leading-tight  rounded shadow-md  hover:shadow-lg  focus:shadow-lg focus:outline-none focus:ring-0  transition duration-150 ease-in-out cursor-default ",children:"Submit"})]}),0!=(null===e||void 0===e?void 0:e.bottomNaviation)&&(0,f.jsxs)("div",{className:"text-left w-full mt-10 flex justify-center items-center",children:[(0,f.jsx)("div",{className:"flex-1",children:(0,f.jsx)("span",{onClick:function(){return Y("/")},className:"text-indigo-500 font-semibold hover:bg-white px-3 py-1 cursor-pointer ",children:"Home"})}),(0,f.jsx)("div",{className:"flex-1",children:(0,f.jsx)("span",{onClick:function(){return Y("/login")},className:"text-indigo-500 font-semibold hover:bg-white px-3 py-1 cursor-pointer float-right",children:"Login "})})]})]})]})})})})})]})}}}]);
//# sourceMappingURL=9601.bc2b458a.chunk.js.map