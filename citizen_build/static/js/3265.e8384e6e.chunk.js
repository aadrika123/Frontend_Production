"use strict";(self.webpackChunkcitizen_landing=self.webpackChunkcitizen_landing||[]).push([[3265,6645],{80915:function(e,t,o){var s=o(72791),n=o(5055);t.Z=function(e){var t=e.title,o=e.status,l=s.useContext(n.n),r=l.settitleText,i=l.settitleStatus;(0,s.useEffect)((function(){r(t),i(o)}),[])}},76645:function(e,t,o){o.r(t);var s=o(4942),n=o(1413),l=o(70885),r=o(72791),i=o(57689),a=o(99008),d=o(61044),c=o(5055),u=o(39723),x=o(64491),h=(o(25229),o(82536)),f=o(80184);t.default=function(e){var t,o=(0,r.useState)(!1),m=(0,l.Z)(o,2),v=m[0],p=m[1],b=(0,r.useState)(""),g=(0,l.Z)(b,2),j=(g[0],g[1],(0,a.Z)().api_verifyMobileOtp),y=(0,r.useState)(!1),N=(0,l.Z)(y,2),w=N[0],Z=N[1],k=(0,r.useContext)(c.n).notify,S=(0,r.useState)(!1),P=(0,l.Z)(S,2),C=P[0],O=P[1],_=(0,r.useState)(""),L=(0,l.Z)(_,2),T=L[0],D=L[1],E=(0,r.useState)(!1),I=(0,l.Z)(E,2),B=I[0],M=I[1],R=(0,r.useState)(null),F=(0,l.Z)(R,2),A=F[0],H=F[1],K=(0,r.useState)(60),U=(0,l.Z)(K,2),V=U[0],W=U[1],q=(0,r.useState)({first:"",second:"",third:"",fourth:"",fifth:"",sixth:""}),z=(0,l.Z)(q,2),G=z[0],Y=z[1],J=(0,r.useRef)(),Q=(0,r.useRef)(),X=(0,r.useRef)(),$=(0,r.useRef)(),ee=(0,r.useRef)(),te=(0,r.useRef)(),oe=(0,i.s0)(),se=(0,r.useState)("first"),ne=(0,l.Z)(se,2),le=ne[0],re=ne[1],ie=function(e,t){D("");var o=(0,n.Z)((0,n.Z)({},G),{},(0,s.Z)({},t,e.target.value));if(Y((0,n.Z)((0,n.Z)({},G),{},(0,s.Z)({},t,e.target.value))),1===e.target.value.length)switch(t){case"first":Q.current.focus(),re("second");break;case"second":X.current.focus(),re("third");break;case"third":$.current.focus(),re("fourth");break;case"fourth":ee.current.focus(),re("fifth");break;case"fifth":te.current.focus(),re("sixth");break;case"sixth":re("sixth")}de(o)},ae=function(e){switch(e){case"second":J.current.focus(),Y((0,n.Z)((0,n.Z)({},G),{},{second:""})),re("first");break;case"third":Q.current.focus(),Y((0,n.Z)((0,n.Z)({},G),{},{third:""})),re("second");break;case"fourth":X.current.focus(),Y((0,n.Z)((0,n.Z)({},G),{},{fourth:""})),re("third");break;case"fifth":$.current.focus(),Y((0,n.Z)((0,n.Z)({},G),{},{fifth:""})),re("fouth");break;case"sixth":ee.current.focus(),Y((0,n.Z)((0,n.Z)({},G),{},{sixth:""})),re("fifth")}},de=function(e){console.table(e),""!=e.first&&""!=e.second&&""!=e.third&&""!=e.fourth&&""!=e.fifth&&""!=e.sixth?O(!0):O(!1)},ce=60,ue=function(){t=setInterval((function(){W((function(e){return e-1})),0==(ce-=1)&&(p(!0),console.log("inside static stop..."),clearInterval(t))}),1e3)};(0,r.useEffect)((function(){ue()}),[]);var xe=function(e,t){H(t),M(e)};return(0,f.jsxs)(f.Fragment,{children:[w&&(0,f.jsx)(u.Z,{}),B&&(0,f.jsx)(h.Z,{activateBottomErrorCard:xe,errorTitle:A}),(0,f.jsx)(x.Z,{children:(0,f.jsx)("div",{class:"",children:(0,f.jsx)("div",{class:"container mx-auto",children:(0,f.jsx)("div",{class:"max-w-sm mx-auto md:max-w-lg",children:(0,f.jsxs)("div",{class:"w-full px-2 md:px-0",children:[(0,f.jsxs)("div",{className:"w-full text-center py-2  bg-gray-200 text-black relative",children:[null===e||void 0===e?void 0:e.headTitle,(0,f.jsx)("button",{onClick:null===e||void 0===e?void 0:e.closeOtpModal,type:"button",class:"absolute top-1 right-6 bg-transparent bg-gray-200 text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center shadow-sm  hover:bg-red-200 hover:border-none",children:(0,f.jsx)("svg",{class:"w-5 h-5",fill:"currentColor",children:(0,f.jsx)("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})})})]}),(0,f.jsxs)("div",{class:"bg-white py-20 px-6 md:py-20 md:px-20 w-full md:w-auto rounded text-center shadow-xl relative",children:[(0,f.jsx)("div",{class:"text-2xl font-bold px-2",children:"OTP Verification"}),(0,f.jsx)("div",{class:"flex flex-col mt-4 text-center",children:(0,f.jsx)("span",{className:"text-center text-red-400",children:T})}),(0,f.jsxs)("div",{class:"flex flex-col mt-4",children:[(0,f.jsx)("span",{children:"Enter the OTP you received at"}),(0,f.jsxs)("span",{class:"font-bold",children:["+91 ",null===e||void 0===e?void 0:e.verifedMobileNo]})]}),(0,f.jsxs)("div",{id:"otp",class:"flex flex-row justify-center text-center px-2 mt-5",children:[(0,f.jsx)("input",{ref:J,type:"text",min:0,value:G.first,maxLength:1,onChange:function(e){return ie(e,"first")},onKeyDown:function(e){return"Backspace"===e.key&&ae("first")},className:"".concat("first"===le?"active":""," m-2 border h-10 w-10 text-center form-control rounded")}),(0,f.jsx)("input",{ref:Q,type:"text",min:0,value:G.second,maxLength:1,onChange:function(e){return ie(e,"second")},onKeyDown:function(e){return"Backspace"===e.key&&ae("second")},className:"".concat("second"===le?"active":""," m-2 border h-10 w-10 text-center form-control rounded")}),(0,f.jsx)("input",{ref:X,type:"text",min:0,value:G.third,maxLength:1,onChange:function(e){return ie(e,"third")},onKeyDown:function(e){return"Backspace"===e.key&&ae("third")},className:"".concat("third"===le?"active":""," m-2 border h-10 w-10 text-center form-control rounded")}),(0,f.jsx)("input",{ref:$,type:"text",min:0,value:G.fourth,maxLength:1,onChange:function(e){return ie(e,"fourth")},onKeyDown:function(e){return"Backspace"===e.key&&ae("fourth")},className:"".concat("fourth"===le?"active":""," m-2 border h-10 w-10 text-center form-control rounded")}),(0,f.jsx)("input",{ref:ee,type:"text",min:0,value:G.fifth,maxLength:1,onChange:function(e){return ie(e,"fifth")},onKeyDown:function(e){return"Backspace"===e.key&&ae("fifth")},className:"".concat("fifth"===le?"active":""," m-2 border h-10 w-10 text-center form-control rounded")}),(0,f.jsx)("input",{ref:te,type:"text",min:0,value:G.sixth,maxLength:1,onChange:function(e){return ie(e,"sixth")},onKeyDown:function(e){return"Backspace"===e.key&&ae("sixth")},className:"".concat("sixth"===le?"active":""," m-2 border h-10 w-10 text-center form-control rounded")})]}),(0,f.jsxs)("div",{class:"flex justify-center text-center mt-5",children:[!v&&(0,f.jsx)("div",{className:"w-10 h-10 bg-indigo-500 flex justify-center items-center rounded-full text-white",children:V}),(0,f.jsxs)("button",{disabled:!v,onClick:function(){null===e||void 0===e||e.reSendOtp(),p(!1),W(60),ce=60,ue()},class:"ml-4 flex items-center ".concat(v?"text-indigo-500 hover:text-blue-900 cursor-pointer":"text-gray-400 hover:text-none cursor-default"),children:[(0,f.jsx)("span",{class:"font-bold",children:"Resend OTP"}),(0,f.jsx)("i",{class:"bx bx-caret-right ml-1"})]})]}),(0,f.jsxs)("div",{class:"w-full text-center mt-5",children:[C&&(0,f.jsx)("button",{type:"button",onClick:function(){M(!1),Z(!0);var t={otp:"".concat(G.first).concat(G.second).concat(G.third).concat(G.fourth).concat(G.fifth).concat(G.sixth),mobileNo:null===e||void 0===e?void 0:e.verifedMobileNo};console.log("before verify otp...",t),d.ZP.post(j,t).then((function(t){var o,s,n;(console.log("otp verify response",null===t||void 0===t?void 0:t.data),null!==t&&void 0!==t&&null!==(o=t.data)&&void 0!==o&&o.status)?null===e||void 0===e||e.callback():(k("Wrong OTP, Please enter correct OTP","error"),D(null===t||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message),xe(!0,null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message),null===e||void 0===e||e.setpropertyAttachFailCase("attached"));Z(!1)})).catch((function(t){console.log("otp verify error",t),null===e||void 0===e||e.setpropertyAttachFailCase("error"),xe(!0,"Error occured. Please try again later."),Z(!1)}))},className:"w-full  py-2.5 bg-indigo-600 text-white font-medium text-xs leading-tight  rounded shadow-md hover:bg-indigo-700 hover:shadow-lg focus:bg-indigo-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-indigo-800 active:shadow-lg transition duration-150 ease-in-out",children:"Submit"}),!C&&(0,f.jsx)("button",{type:"button",className:"w-full  py-2.5 bg-gray-400 text-white font-medium text-xs leading-tight  rounded shadow-md  hover:shadow-lg  focus:shadow-lg focus:outline-none focus:ring-0  transition duration-150 ease-in-out cursor-default ",children:"Submit"})]}),0!=(null===e||void 0===e?void 0:e.bottomNaviation)&&(0,f.jsxs)("div",{className:"text-left w-full mt-10 flex justify-center items-center",children:[(0,f.jsx)("div",{className:"flex-1",children:(0,f.jsx)("span",{onClick:function(){return oe("/")},className:"text-indigo-500 font-semibold hover:bg-white px-3 py-1 cursor-pointer ",children:"Home"})}),(0,f.jsx)("div",{className:"flex-1",children:(0,f.jsx)("span",{onClick:function(){return oe("/login")},className:"text-indigo-500 font-semibold hover:bg-white px-3 py-1 cursor-pointer float-right",children:"Login "})})]})]})]})})})})})]})}},94225:function(e,t,o){o.r(t),o.d(t,{default:function(){return y}});var s=o(1413),n=o(70885),l=o(72791),r=o(55705),i=o(81724),a=o(17425),d=o(61044),c=o(57689),u=o(39723),x=o(5055),h=o(60786),f=o(80166),m=o(76645),v=o(99008),p=o(80915),b=o(40399),g=(o(64491),o(25229),o(82536)),j=o(80184);var y=function(){var e=(0,l.useState)(!0),t=(0,n.Z)(e,2),o=t[0],y=t[1],N=(0,l.useState)(),w=(0,n.Z)(N,2),Z=w[0],k=w[1],S=(0,l.useState)(!1),P=(0,n.Z)(S,2),C=P[0],O=P[1],_=(0,l.useState)(null),L=(0,n.Z)(_,2),T=L[0],D=L[1],E=(0,l.useState)(null),I=(0,n.Z)(E,2),B=(I[0],I[1]),M=(0,l.useState)(""),R=(0,n.Z)(M,2),F=R[0],A=R[1],H=(0,l.useState)(),K=(0,n.Z)(H,2),U=K[0],V=K[1],W=(0,l.useContext)(x.n).notify,q=(0,l.useState)(!1),z=(0,n.Z)(q,2),G=z[0],Y=z[1],J=(0,l.useState)(null),Q=(0,n.Z)(J,2),X=Q[0],$=Q[1],ee=(0,l.useState)(!1),te=(0,n.Z)(ee,2),oe=te[0],se=te[1],ne=(0,l.useState)(null),le=(0,n.Z)(ne,2),re=le[0],ie=le[1];(0,p.Z)("Search Property");var ae=(0,f.Z)().api_searchDirectHolding,de=(0,v.Z)(),ce=de.api_getAllUlb,ue=de.api_sendMobileOtp,xe=(0,c.s0)(),he=i.Ry({holdingNo:i.Z_().required("This is a required field !"),ulbId:i.Z_().required("Select ULB")}),fe=(0,r.TA)({initialValues:{holdingNo:"",ulbId:""},onSubmit:function(e){console.log("at submit form.....",e),function(e){se(!1),A(""),O(!1),y(!0);var t={holdingNo:null===e||void 0===e?void 0:e.holdingNo,ulbId:null===e||void 0===e?void 0:e.ulbId};console.log("before fetch holding details....",t),d.ZP.post(ae,t).then((function(e){var o,s;console.log("search property list",null===e||void 0===e?void 0:e.data),null!==e&&void 0!==e&&null!==(o=e.data)&&void 0!==o&&o.status?(k(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.data),O(!0),A(""),B(null===t||void 0===t?void 0:t.ulbId)):(W("This holding no does not exits!","error"),A("Data not found. Please enter a valid holding no. or related ULB")),y(!1)})).catch((function(e){console.log("Error while fetching Filter Data",e),W("Something went wrong!!","error"),A("Network problem."),ve(!0,"Error occured. Please try again later."),y(!1),O(!1)}))}(e)},validationSchema:he}),me=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;console.log("passed mobile no....."),y(!0),e=null==t?{mobileNo:X}:{mobileNo:t},console.log("before send otp. of direct search..",e),d.ZP.post(ue,e).then((function(e){var t,o;(console.log("otp send response",null===e||void 0===e?void 0:e.data),null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.status)?(Y(!0),W("OTP is send to your mobile no.","success")):(W(null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.message,"error"),ve(!0,"Error occured. Please try again later."));y(!1)})).catch((function(e){console.log("error otp send",e),ve(!0,"Error occured. Please try again later."),y(!1)}))};(0,l.useEffect)((function(){se(!1),y(!0),d.ZP.get(ce,{timeout:6e4}).then((function(e){var t,o;console.log("ulb list. at..",null===e||void 0===e?void 0:e.data),null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.status?V(null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.data):se(!0),y(!1)})).catch((function(e){console.log("ulb list error.... ",e),se(!0),y(!1)}))}),[]);var ve=function(e,t){ie(t),se(e)};return o?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(b.Z,{}),(0,j.jsx)("div",{className:"min-h-screen"})]}):G?(0,j.jsx)(m.default,{closeOtpModal:function(){Y(!1)},bottomNaviation:!0,headTitle:"Pay Property Tax",reSendOtp:me,verifedMobileNo:X,callback:function(){W("Mobile no. has been verified successfully !","success"),xe("/viewDemandHoldingPropertyDirect/".concat(T))},setotpCardStatus:Y}):G?void 0:(0,j.jsxs)(j.Fragment,{children:[o&&(0,j.jsx)(u.Z,{}),oe&&(0,j.jsx)(g.Z,{activateBottomErrorCard:ve,errorTitle:re}),(0,j.jsxs)("div",{className:"px-2 md:px-10",children:[(0,j.jsxs)("div",{className:"border shadow-xl bg-white mt-6",children:[(0,j.jsx)("div",{className:"flex ml-5 mt-2 ",children:(0,j.jsx)("p",{className:"font-semibold text-3xl ml-4 mt-1 text-gray-600",children:"Search Property"})}),(0,j.jsx)("form",{onSubmit:fe.handleSubmit,onChange:function(e){var t=e.target.name,o=e.target.value;"holdingNo"==t&&fe.setFieldValue("holdingNo",(0,h.wY)(o,fe.values.holdingNo,16))},children:(0,j.jsxs)("div",{className:"flex flex-col md:flex-row justify-center my-5 m-10 ",children:[(0,j.jsxs)("div",{className:"form-group col-span-12 mb-4 md:px-10",children:[(0,j.jsxs)("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["ULB",(0,j.jsx)("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),(0,j.jsxs)("select",(0,s.Z)((0,s.Z)({id:"basic_details_1"},fe.getFieldProps("ulbId")),{},{className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none shadow-md cursor-pointer ",children:[(0,j.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select"}),null===U||void 0===U?void 0:U.map((function(e){return(0,j.jsx)("option",{value:e.id,children:e.ulb_name})}))]})),(0,j.jsx)("span",{className:"text-red-600 absolute text-xs",children:fe.touched.ulbId&&fe.errors.ulbId?fe.errors.ulbId:null})]}),(0,j.jsxs)("div",{children:[(0,j.jsxs)("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Holding No.",(0,j.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,j.jsx)("input",(0,s.Z)((0,s.Z)({type:"text"},fe.getFieldProps("holdingNo")),{},{className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"})),(0,j.jsx)("p",{className:"text-red-500 text-xs",children:fe.touched.holdingNo&&fe.errors.holdingNo?fe.errors.holdingNo:null})]}),(0,j.jsx)("div",{className:"mt-4 md:px-10",children:(0,j.jsx)("button",{type:"submit",className:"w-full border border-indigo-500 bg-indigo-600 hover:bg-indigo-500 text-white hover:text-black shadow-lg rounded-sm text-base font-semibold px-5 m-3 py-1",children:(0,j.jsxs)("p",{className:"flex text-center justify-center items-center",children:[(0,j.jsx)(a.k36,{className:"inline mr-2"}),"Search record"]})})})]})})]}),(0,j.jsxs)("div",{className:"mt-10",children:[C&&0!=(null===Z||void 0===Z?void 0:Z.length)&&(0,j.jsxs)("div",{className:"col-span-10 bg-gray-50 p-4 overflow-x-scroll",children:[(0,j.jsx)("div",{className:"flex flex-row",children:(0,j.jsx)("h1",{className:"px-1 font-semibold font-serif text-2xl mt-4",children:"All Transcations"})}),(0,j.jsxs)("table",{className:"min-w-full leading-normal mt-10",children:[(0,j.jsx)("thead",{className:"font-bold text-left text-sm bg-indigo-50 text-gray-600",children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"#"}),(0,j.jsx)("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"ACTION"}),(0,j.jsx)("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"OWNER'S NAME"}),(0,j.jsx)("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"HOLDING NO"}),(0,j.jsx)("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"NEW HOLDING NO"}),(0,j.jsx)("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"MOBILE NO"}),(0,j.jsx)("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"WARD NO."}),(0,j.jsx)("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"ULB"}),(0,j.jsx)("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"ADDRESS"})]})}),(0,j.jsx)("tbody",{className:"text-sm",children:(0,j.jsx)(j.Fragment,{children:null===Z||void 0===Z?void 0:Z.map((function(e){return(0,j.jsxs)("tr",{className:"bg-white shadow-lg border-b border-gray-200",children:[(0,j.jsx)("td",{className:"px-2 py-2 text-sm text-left",children:"1"}),(0,j.jsxs)("td",{className:"px-2 py-2 text-sm text-left",children:[" ",(0,j.jsx)("button",{onClick:function(){D(e.id),$(null===e||void 0===e?void 0:e.mobile_no),me(null===e||void 0===e?void 0:e.mobile_no)},className:"bg-sky-200 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-sky-800 hover:text-white text-black",children:"View"})]}),(0,j.jsx)("td",{className:"px-2 py-2 text-sm text-left",children:(0,h.jP)(null===e||void 0===e?void 0:e.owner_name)}),(0,j.jsx)("td",{className:"px-2 py-2 text-sm text-left",children:(0,h.jP)(null===e||void 0===e?void 0:e.holding_no)}),(0,j.jsx)("td",{className:"px-2 py-2 text-sm text-left",children:(0,h.jP)(null===e||void 0===e?void 0:e.new_holding_no)}),(0,j.jsx)("td",{className:"px-2 py-2 text-sm text-left",children:(0,h.jP)(null===e||void 0===e?void 0:e.mobile_no)}),(0,j.jsx)("td",{className:"px-2 py-2 text-sm text-left",children:(0,h.jP)(null===e||void 0===e?void 0:e.ward_name)}),(0,j.jsx)("td",{className:"px-2 py-2 text-sm text-left",children:(0,h.jP)(null===e||void 0===e?void 0:e.ulb)}),(0,j.jsx)("td",{className:"px-2 py-2 text-sm text-left",children:(0,h.jP)(null===e||void 0===e?void 0:e.prop_address)})]})}))})})]})]}),(0,j.jsx)("div",{className:"text-xl font-semibold text-red-400 text-center",children:F}),(0,j.jsx)("div",{className:"w-full h-40"})]})]})]})}}}]);
//# sourceMappingURL=3265.e8384e6e.chunk.js.map