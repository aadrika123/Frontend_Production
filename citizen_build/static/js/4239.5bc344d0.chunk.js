(self.webpackChunkcitizen_landing=self.webpackChunkcitizen_landing||[]).push([[4239,9682],{40399:function(e,t,r){"use strict";r(72791),r(39883);var n=r(67619),i=r(80184);t.Z=function(){return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"p-4 w-screen h-screen fixed top-0 left-0 flex flex-col justify-center items-center shadow-xl",style:{zIndex:1e3},children:[(0,i.jsx)("div",{className:"w-full h-full bg-indigo-50 absolute top-0 left-0 opacity-50 shadow-xl"}),(0,i.jsxs)("div",{className:"rounded-full relative shadow-xl",children:[(0,i.jsx)("img",{className:"w-28 h-28",src:n.Z,alt:""}),(0,i.jsx)("div",{className:"w-full h-full absolute top-0 left-0 border-4 border-indigo-500 rounded-full border-t-white border-b-white animate-spin"})]}),(0,i.jsx)("div",{children:"Loading..."})]})})}},87440:function(e,t,r){"use strict";var n=r(15671),i=r(43144),s=r(60136),l=r(27277),a=r(72791),o=r(80184),d=function(e){(0,s.Z)(r,e);var t=(0,l.Z)(r);function r(e){var i;return(0,n.Z)(this,r),(i=t.call(this,e)).state={hasError:!1},i}return(0,i.Z)(r,[{key:"render",value:function(){var e;return this.state.hasError?(0,o.jsx)("h1",{className:"text-red-600 text-lg font-semibold",children:null===(e=this.props)||void 0===e?void 0:e.errorMsg}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),r}(a.Component);t.Z=d},80915:function(e,t,r){"use strict";var n=r(72791),i=r(5055);t.Z=function(e){var t=e.title,r=e.status,s=n.useContext(i.n),l=s.settitleText,a=s.settitleStatus;(0,n.useEffect)((function(){l(t),a(r)}),[])}},99682:function(e,t,r){"use strict";r.r(t);var n=r(57689),i=r(7692),s=r(39126),l=r(80184);t.default=function(e){var t=(0,n.TH)();if(!["/","/about","/login","/landingDashboard","/propertyDashboard","/view-water","/track-water","/view-trade","/track-trade","/editProfile","/change-password/change","/change-password/forget"].includes(null===t||void 0===t?void 0:t.pathname))return console.log("title status",null===e||void 0===e?void 0:e.titleStatus),!0===(null===e||void 0===e?void 0:e.titleStatus)?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"relative flex py-2 justify-start items-center mt-4",children:[(0,l.jsx)("div",{className:"flex-1 flex pl-2 text-gray-700",children:(0,l.jsxs)("span",{className:"cursor-pointer hover:text-indigo-500",onClick:function(){return window.history.back()},children:[(0,l.jsx)(i.u_m,{className:"inline"}),"Back"]})}),(0,l.jsxs)("div",{className:"flex justify-between items-center text-gray-800 text-xl font-semibold",children:[(0,l.jsx)(s._Cg,{className:"inline mr-2"}),null===e||void 0===e?void 0:e.titleText]})]}),(0,l.jsx)("hr",{className:"mb-4"})]}):void 0}},73577:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return P}});var n=r(72791),i=r(57689),s=r(99008),l=r(87440),a=r(60786),o=r(80915),d=r(99682),c=r(93433),u=r(29439),x=r(31243),v=r(1413),h=r(71358),f=r(78820),m=r(98472),p=r(80184);var g=function(e){var t=e.filter,r=e.setFilter;return(0,p.jsxs)(p.Fragment,{children:["Search : "," ",(0,p.jsx)("input",{className:"border-2 border-gray-600 px-2 bg-gray-200",type:"text",value:t||"",onChange:function(e){return r(e.target.value)}})]})};var b=function(e){var t=(0,n.useState)("hidden"),r=(0,u.Z)(t,2),i=r[0],s=r[1],l=(0,n.useMemo)((function(){return e.columns}),[]),a=(0,n.useMemo)((function(){return e.dataList}),[e.dataList]);(0,n.useEffect)((function(){C(10)}),[]);var o=(0,h.useTable)({columns:l,data:a,initialState:{pageIndex:0}},h.useGlobalFilter,h.useSortBy,h.usePagination),d=(o.getTableProps,o.getTableBodyProps),c=o.headerGroups,x=o.page,b=o.nextPage,j=o.previousPage,y=o.canNextPage,w=o.canPreviousPage,N=o.prepareRow,Z=o.pageOptions,P=o.gotoPage,S=o.pageCount,C=o.setPageSize,k=o.state,_=o.setGlobalFilter,H=k.globalFilter,T=k.pageIndex,F=k.pageSize;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"flex mb-2 pb-2",children:[(0,p.jsx)("div",{className:"flex-initial",children:(0,p.jsx)(g,{filter:H,setFilter:_})}),0!=(null===e||void 0===e?void 0:e.export)&&(0,p.jsx)("div",{className:"flex-initial ml-2",children:(0,p.jsxs)("button",{className:"bg-sky-400 px-3 pr-3  shadow-lg rounded py-1 text-white hover:shadow-2xl hover:bg-green-600 text-center relative",onMouseEnter:function(){return s("")},onMouseLeave:function(){return s("hidden")},children:[(0,p.jsx)(m.CSVLink,{data:e.dataList,children:"Export"}),(0,p.jsx)("div",{className:i+" absolute h-full top-3 text-sm left-0 text-center animate-bounce",children:(0,p.jsx)(f.Duv,{})})]})}),(0,p.jsx)("div",{className:"flex-1",children:e.children}),e.assessmentType&&(0,p.jsxs)("div",{className:"flex-initial flex",children:[(0,p.jsxs)("div",{className:"flex",children:[(0,p.jsx)("div",{className:"flex-initial h-4 w-4 text-green-900 text-xs font-semibold text-center bg-green-200 rounded-full flex-initial ml-4 ",children:"N"}),(0,p.jsx)("div",{className:"flex-initial text-xs ml-2",children:" New Assessment"}),(0,p.jsx)("div",{className:"flex-initial h-4 w-4 bg-blue-200 h-4 w-4 text-blue-900 text-xs font-semibold text-center rounded-full flex-initial ml-4",children:"R"}),(0,p.jsx)("div",{className:"flex-initial text-xs ml-2",children:" Re-Assessment"}),(0,p.jsx)("div",{className:"flex-initial h-4 w-4 bg-red-200 h-4 w-4 text-red-900 text-xs font-semibold text-center rounded-full flex-initial ml-4",children:"M"}),(0,p.jsx)("div",{className:"flex-initial text-xs ml-2",children:" Mutation"})]}),(0,p.jsx)("div",{}),(0,p.jsx)("div",{})]})]}),(0,p.jsx)("div",{className:" py-2 overflow-x-auto",children:(0,p.jsxs)("div",{className:"inline-block min-w-full rounded-lg overflow-hidden bg-white shadow-lg",children:[(0,p.jsxs)("table",(0,v.Z)((0,v.Z)({},d),{},{className:"min-w-full leading-normal",children:[(0,p.jsx)("thead",{className:"font-bold text-left text-sm bg-sky-50",children:null===c||void 0===c?void 0:c.map((function(e){return(0,p.jsx)("tr",(0,v.Z)((0,v.Z)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return(0,p.jsxs)("th",(0,v.Z)((0,v.Z)({},e.getHeaderProps(e.getSortByToggleProps())),{},{className:"px-2 py-3 border-b border-gray-200 text-gray-800  text-left text-xs uppercase text-left",children:[e.render("Header"),(0,p.jsx)("span",{children:e.isSorted?e.isSortedDesc?"\u2b06\ufe0f":"\u2b07\ufe0f":""})]}))}))}))}))}),(0,p.jsxs)("tbody",(0,v.Z)((0,v.Z)({},d()),{},{className:"text-sm",children:[" ",null===x||void 0===x?void 0:x.map((function(e){var t;return N(e),(0,p.jsx)("tr",(0,v.Z)((0,v.Z)({},e.getRowProps()),{},{className:"bg-white shadow-lg border-b border-gray-200",children:null===e||void 0===e||null===(t=e.cells)||void 0===t?void 0:t.map((function(e){return(0,p.jsx)("td",(0,v.Z)((0,v.Z)({},e.getCellProps()),{},{className:"px-2 py-2 text-sm text-left",children:e.render("Cell")}))}))}))})),(0,p.jsx)("tr",{children:(0,p.jsx)("td",{})})]}))]})),(0,p.jsxs)("div",{className:"mt-3 grid grid-cols-12",children:[(0,p.jsxs)("div",{className:"col-span-2",children:["  ",(0,p.jsx)("select",{className:"h-10 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 ",value:F,onChange:function(e){return C(Number(e.target.value))},children:[5,10,25,50].map((function(e){return(0,p.jsxs)("option",{value:e,children:["show ",e]},e)}))})]}),(0,p.jsxs)("div",{className:"col-span-4 text-center col-start-5",children:["   ",(0,p.jsxs)("span",{children:["page ","",(0,p.jsxs)("strong",{children:[T+1," of ",Z.length]}),""]})]}),(0,p.jsxs)("div",{className:"col-span-4 text-right",children:[(0,p.jsxs)("button",{className:"cursor-pointer hover:bg-sky-300 p-2 hover:text-white",onClick:function(){return P(0)},disabled:!w,children:[(0,p.jsx)(f.xN8,{})," "]}),(0,p.jsx)("button",{className:(w?"opacity-100":"opacity-50")+" text-xl hover:bg-sky-300 hover:text-white",onClick:function(){return j()},disabled:!w,children:"\u2b05\ufe0f"}),(0,p.jsx)("button",{className:(y?"opacity-100":"opacity-50")+" text-xl hover:bg-sky-300 hover:text-white",onClick:function(){return b()},disabled:!y,children:"\u27a1\ufe0f"}),(0,p.jsxs)("button",{className:"cursor-pointer hover:bg-sky-300 p-2 hover:text-white",onClick:function(){return P(S-1)},disabled:!y,children:["  ",(0,p.jsx)(f.yci,{})]})]})]})]})})]})},j=r(32612),y=r(40399),w=r(25229),N=r(64491);var Z=function(e){var t,r=(0,n.useState)(),i=(0,u.Z)(r,2),s=i[0],a=i[1],o=(0,n.useState)(!1),d=(0,u.Z)(o,2),v=d[0],h=d[1],f=(0,n.useState)(!1),m=(0,u.Z)(f,2),g=m[0],Z=m[1],P=(0,n.useState)(!1),S=(0,u.Z)(P,2),C=S[0],k=S[1],_=(0,c.Z)(null===e||void 0===e||null===(t=e.transactionRules)||void 0===t?void 0:t.tableColumns);(0,n.useEffect)((function(){H()}),[]);var H=function(){var t,r,n,i,s,l;k(!0),Z(!1),h(!1),x.Z[null===e||void 0===e||null===(t=e.transactionRules)||void 0===t||null===(r=t.api)||void 0===r||null===(n=r.api_getTranscationHistory)||void 0===n?void 0:n.method](null===e||void 0===e||null===(i=e.transactionRules)||void 0===i||null===(s=i.api)||void 0===s||null===(l=s.api_getTranscationHistory)||void 0===l?void 0:l.url,(0,j.Z)()).then((function(e){var t,r;null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.status?(a(null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.data),h(!0)):Z(!0);k(!1)})).catch((function(e){console.log("Server is too busy to respond, Please try again later",e),Z(!0),h(!1),k(!1)}))};return g?(0,p.jsx)(N.Z,{children:(0,p.jsx)(w.Z,{title:"Server is busy",desc:"Server is too busy to respond. Please try again later.",buttonText:"View Dashboard",buttonUrl:"/propertyDashboard"})}):g?void 0:(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("div",{className:"w-ful md:px-10 md:pt-5 mx-auto",children:[C&&(0,p.jsx)(y.Z,{}),v&&(0,p.jsx)(l.Z,{errorMsg:"Some bug found",children:(0,p.jsx)(b,{assessmentType:!1,columns:_,dataList:s,export:!1})})]})})};var P=function(){(0,o.Z)("Property Payment History");var e=(0,i.s0)(),t={api:{api_getTranscationHistory:{method:"get",url:(0,s.Z)().api_getTranscationHistory}},transactionInfo:{title:"Citizen Payment History"},tableColumns:[{Header:"#",Cell:function(e){var t=e.row;return(0,p.jsx)("div",{className:"pr-2",children:t.index+1})}},{Header:"SAF No./Holding No.",Cell:function(e){var t,r=e.cell;return(0,p.jsx)("div",{className:"pr-2",children:(0,a.jP)(null===(t=r.row.original)||void 0===t?void 0:t.saf_no)})}},{Header:"Transaction No.",Cell:function(e){var t,r=e.cell;return(0,p.jsx)("div",{className:"pr-2",children:(0,a.jP)(null===(t=r.row.original)||void 0===t?void 0:t.tran_no)})}},{Header:"Payment Mode",Cell:function(e){var t,r=e.cell;return(0,p.jsx)("div",{className:"pr-2",children:(0,a.jP)(null===(t=r.row.original)||void 0===t?void 0:t.payment_mode)})}},{Header:"Transaction Date",Cell:function(e){var t,r=e.cell;return(0,p.jsx)("div",{className:"pr-2",children:(0,a.jP)(null===(t=r.row.original)||void 0===t?void 0:t.created_at)})}},{Header:"Amount",Cell:function(e){var t,r=e.cell;return(0,p.jsx)("div",{className:"pr-2",children:(0,a.jP)(null===(t=r.row.original)||void 0===t?void 0:t.amount)})}},{Header:"Transaction By",Cell:function(e){var t,r=e.cell;return(0,p.jsx)("div",{className:"pr-2",children:(0,a.jP)(null===(t=r.row.original)||void 0===t?void 0:t.transactionBy)})}},{Header:"Receipt",Cell:function(t){var r=t.cell;return(0,p.jsx)("button",{onClick:function(){var t,n;"Saf"==r.row.original.tran_type?e("/paymentReceipt/".concat(null===(t=r.row.original)||void 0===t?void 0:t.tran_no,"/saf")):e("/paymentReceipt/".concat(null===(n=r.row.original)||void 0===n?void 0:n.tran_no,"/holding"))},type:"button",className:"cypress_owner_add_update px-2 py-2.5 border border-indigo-500 text-indigo-500 font-medium text-xs leading-tight uppercase rounded shadow-xl hover:bg-indigo-700 hover:text-white hover:shadow-lg  active:shadow-lg transition duration-150 ease-in-out cursor-pointer",children:"View Receipt"})}}]};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(d.default,{titleText:"Property Transaction History"}),(0,p.jsx)(l.Z,{errorMsg:"Bug in TransactionHistoryFactory",children:(0,p.jsx)(Z,{transactionRules:t})})]})}},18698:function(e){function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}}]);
//# sourceMappingURL=4239.5bc344d0.chunk.js.map