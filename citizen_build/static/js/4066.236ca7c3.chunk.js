"use strict";(self.webpackChunkcitizen_landing=self.webpackChunkcitizen_landing||[]).push([[4066,8288],{59053:function(e,o,t){t(72791);o.Z=t.p+"static/media/login.d89e81dc91e1fe9563b1494e61d26ec4.svg"},94066:function(e,o,t){t.r(o);var s=t(1413),l=t(70885),i=t(72791),n=t(55705),a=t(81724),r=t(59053),d=t(39126),c=t(61044),u=t(57689),m=t(99008),x=t(18966),b=t(60786),g=t(5055),h=t(58253),p=t(78288),v=t(76645),f=t(64491),w=t(25229),j=t(80184);o.default=function(){console.log("backend url imported....",h.Z);var e=(0,i.useState)(!1),o=(0,l.Z)(e,2),t=o[0],y=o[1],N=(0,i.useState)(!1),S=(0,l.Z)(N,2),Z=S[0],C=S[1],k=(0,i.useState)(!1),P=(0,l.Z)(k,2),M=P[0],F=P[1],E=(0,m.Z)().api_citizenLogin2,L=(0,i.useState)(null),_=(0,l.Z)(L,2),T=_[0],z=_[1],I=(0,i.useContext)(g.n).notify,A=(0,u.s0)(),D=(0,i.useState)(),O=(0,l.Z)(D,2),R=O[0],V=O[1],q=(0,i.useState)(!0),U=(0,l.Z)(q,2),H=(U[0],U[1],a.Ry().shape({mobile:a.Z_().required("Enter mobile no. !").min(10).max(10),password:a.Z_().min(6,"Minimum six character !").max(50,"Too Long!").required("Enter password no. !").matches(/^(?=.*\d)(?=.*[!@#$%^&*])(?=.*[a-z])(?=.*[A-Z]).{6,}$/,"Password Must Contains (Capital, Smail, Number, Special) eg - Abc123#.")})),Y=(0,n.TA)({initialValues:{mobile:"",password:""},onSubmit:function(e){console.log("post data",e),$(e)},validationSchema:H}),$=function(e){V(""),y(!0),J(!1),c.ZP.post(E,{mobile:null===e||void 0===e?void 0:e.mobile,password:null===e||void 0===e?void 0:e.password}).then((function(e){var o,t,s,l,i,n,a,r,d,c;(console.log("response after login....",null===e||void 0===e?void 0:e.data),!0===(null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.status))?(localStorage.setItem("citizen_token",null===e||void 0===e||null===(s=e.data)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.token),y(!1),localStorage.setItem("propertyPopup",!0),localStorage.setItem("advertPopup",!0),I("Login Success","success"),window.localStorage.setItem("citizenMobile",null===e||void 0===e||null===(i=e.data)||void 0===i||null===(n=i.data)||void 0===n?void 0:n.mobile),window.localStorage.setItem("citizenName",null===e||void 0===e||null===(a=e.data)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.userName),A("/landingDashboard")):(console.log("Login Failed",null===e||void 0===e||null===(d=e.data)||void 0===d?void 0:d.message),I(null===e||void 0===e||null===(c=e.data)||void 0===c?void 0:c.message,"error"),y(!1));console.log("=== Invalid Details",e),V(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)})).catch((function(e){console.log(e),console.log("-Exception--",e),y(!1),V("something went wrongg"),J(!0),I("something went wrongg !!","error")}))},B=(0,i.useState)(!1),W=(0,l.Z)(B,2),G=W[0],J=W[1];return G?(0,j.jsx)(f.Z,{children:(0,j.jsx)(w.Z,{title:"Server is busy",desc:"Server is too busy to respond. Please try again later.",buttonText:"View Dashboard",buttonUrl:"/propertyDashboard"})}):Z?(0,j.jsx)(p.default,{cardFor:"Login",closeMobileModal:function(){C(!1)},headTitle:"Forgot Password",title:"Enter mobile to get OTP",desc:"Enter your mobile no, which is attached to your account.",setverifedMobileNo:z,setmobileCardStatus:C,setotpCardStatus:F}):M?(0,j.jsx)(v.default,{verifedMobileNo:T,closeOtpModal:function(){F(!1)},bottomNaviation:!0,headTitle:"Forgot OTP",callback:function(){I("Mobile no. has been verified successfully !","success"),A("/change-password/forgot")},setotpCardStatus:F}):(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(f.Z,{children:(0,j.jsx)("div",{className:"w-full text-center mx-auto bg-white md:bg-none shadow-lg md:shadow-none",children:(0,j.jsx)("div",{className:"w-full md:w-3/5 mx-auto mt-16 rouned-lg ",children:(0,j.jsx)("form",{onChange:function(e){var o=e.target.name,t=e.target.value;"mobile"==o&&Y.setFieldValue("mobile",(0,b.Ud)(t,Y.values.mobile,10))},onSubmit:Y.handleSubmit,children:(0,j.jsxs)("div",{className:"grid grid-cols-12 px-2 md:px-0 shadow-none md:shadow-lg ",children:[(0,j.jsx)("div",{className:"col-span-6 hidden md:block bg-white md:py-10",children:(0,j.jsx)("img",{className:"w-3/4",src:r.Z})}),(0,j.jsx)("div",{className:"w-full md:px-10 col-span-12 md:col-span-6 md:shadow-none bg-white py-10",children:(0,j.jsxs)("div",{className:"w-full  pb-6 pt-0 md:py-6 md:mt-10 text-gray-700",children:[(0,j.jsx)("h1",{className:"text-center text-md font-semibold md:my-1 capitalize w-full"}),(0,j.jsx)("h1",{className:"text-center font-semibold my-1 flex justify-center",children:(0,j.jsx)("span",{className:"px-1 text-semibold text-2xl -mt-5 mb-4",children:"Log In "})}),(0,j.jsxs)("div",{className:"my-3 relative text-sm",children:[(0,j.jsxs)("div",{className:"text-gray-600 static mb-1 font-semibold text-left px-8 md:px-10 ",children:["Mobile No.",(0,j.jsx)("span",{className:"text-red-500 font-bold",children:"*"})]}),(0,j.jsx)("input",(0,s.Z)((0,s.Z)({type:"text",min:0},Y.getFieldProps("mobile")),{},{className:"cypress_mobile border-b border-b-gray-200 focus:border-b focus:border-b-indigo-500  pl-2 px-3 py-1 w-5/6 shadow-sm h-10 outline-none border border-solid border-gray-300 rounded hover:bg-gray-100",placeholder:"Enter Your mobile"})),(0,j.jsx)("div",{children:(0,j.jsx)("span",{className:"text-red-600 absolute text-xs",children:Y.touched.mobile&&Y.errors.mobile?Y.errors.mobile:null})})]}),(0,j.jsxs)("div",{className:"my-3 relative text-sm mt-4",children:[(0,j.jsxs)("div",{className:"text-gray-600 static mb-1 font-semibold text-left px-8 md:px-10",children:["Password ",(0,j.jsx)("span",{className:"text-red-500 font-bold",children:"*"})]}),(0,j.jsx)("input",(0,s.Z)((0,s.Z)({type:"password"},Y.getFieldProps("password")),{},{className:"cypress_password border-b border-b-gray-200 focus:border-b focus:border-b-indigo-500  pl-2 px-3 py-1 w-5/6 shadow-sm h-10 outline-none border border-solid border-gray-300 rounded hover:bg-gray-100",placeholder:"Enter Your Password"})),(0,j.jsx)("div",{children:(0,j.jsx)("span",{className:"text-red-600 absolute text-xs",children:Y.touched.password&&Y.errors.password?Y.errors.password:null})})]}),(0,j.jsx)("div",{className:" my-10"}),(0,j.jsx)("div",{className:"text-center mt-3 text-xs"}),(0,j.jsxs)("div",{className:"my-5 self-center justify-self-center relative",children:[(0,j.jsxs)("div",{className:"text-red-600 text-sm font-semibold my-3 ",children:[" ",(0,j.jsxs)("span",{className:"",children:[" ",R]})]}),t?(0,j.jsx)("div",{className:"flex justify-center",children:(0,j.jsx)(x.s5,{strokeColor:"grey",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0})}):(0,j.jsx)("button",{type:"submit",disabled:t,className:"cypress_button_login bg-indigo-500 hover:bg-indigo-700 px-5 shadow-xl py-2 w-72  rounded-md text-white text-lg font-semibold",children:"Login"})]}),(0,j.jsx)("div",{className:"flex flex-row flex-wrap gapx-x-2 gap-y-2 w-full poppins justify-center",children:(0,j.jsx)("span",{className:"text-gray-700 text-sm font-semibold cursor-pointer md:w-[40%] w-full",onClick:function(){return C(!0)},children:"Forgot Password"})}),(0,j.jsxs)("div",{className:"text-left w-full mt-10",children:[(0,j.jsxs)("span",{onClick:function(){return A("/")},className:"text-indigo-500 font-semibold hover:bg-white px-3 py-1 cursor-pointer ",children:[(0,j.jsx)(d.And,{className:"inline mr-2"}),"Home"]}),(0,j.jsxs)("span",{onClick:function(){return A("/register")},className:"text-indigo-500 font-semibold hover:bg-white px-3 py-1 cursor-pointer float-right",children:["Register ",(0,j.jsx)(d.lzl,{className:"inline ml-2"})]})]})]})})]})})})})})})}},78288:function(e,o,t){t.r(o);var s=t(1413),l=t(70885),i=t(72791),n=t(60786),a=t(55705),r=t(81724),d=t(99008),c=t(62037),u=t(61044),m=t(5055),x=t(57689),b=t(64491),g=(t(25229),t(82536)),h=t(80184);o.default=function(e){var o=(0,i.useState)(!1),t=(0,l.Z)(o,2),p=t[0],v=t[1],f=(0,i.useState)(!1),w=(0,l.Z)(f,2),j=w[0],y=w[1],N=(0,i.useState)(""),S=(0,l.Z)(N,2),Z=S[0],C=S[1],k=(0,i.useState)(!1),P=(0,l.Z)(k,2),M=P[0],F=P[1],E=(0,i.useState)(null),L=(0,l.Z)(E,2),_=L[0],T=L[1],z=(0,d.Z)().api_sendMobileOtp,I=(0,i.useContext)(m.n).notify,A=(0,x.s0)(),D=r.Ry({mobileNo:r.Z_().required("Enter 10 digit mobile no.").min(10,"Enter 10 digit mobile no.")}),O=(0,a.TA)({initialValues:{mobileNo:""},onSubmit:function(o){console.log("at submit form.....",o),null===e||void 0===e||e.setverifedMobileNo(o.mobileNo),R()},validationSchema:D}),R=function(){var o;console.log("otp send..."),v(!0),y(!1),o="Register"==(null===e||void 0===e?void 0:e.cardFor)?{mobileNo:O.values.mobileNo,type:"Register"}:{mobileNo:O.values.mobileNo,type:"Forgot"},console.log("before send otp into...",o),u.ZP.post(z,o,{timeout:1e3}).then((function(o){var t,s;(console.log("otp send response",null===o||void 0===o?void 0:o.data),null!==o&&void 0!==o&&null!==(t=o.data)&&void 0!==t&&t.status)?(I("OTP is send to your mobile no.","success"),null===e||void 0===e||e.setmobileCardStatus(!1),null===e||void 0===e||e.setotpCardStatus(!0)):(I(null===o||void 0===o||null===(s=o.data)||void 0===s?void 0:s.message,"error"),V(!0,"Error occured. Please try again later."));v(!1)})).catch((function(e){console.log("error otp send",e),V(!0,"Error occured. Please try again later."),v(!1),y(!0)}))},V=function(e,o){T(o),F(e)};return(0,h.jsxs)(h.Fragment,{children:[p&&(0,h.jsx)(c.Z,{}),M&&(0,h.jsx)(g.Z,{activateBottomErrorCard:V,errorTitle:_}),(0,h.jsx)(b.Z,{children:(0,h.jsx)("div",{class:"",children:(0,h.jsx)("div",{class:"",children:(0,h.jsx)("div",{class:"container mx-auto",children:(0,h.jsx)("div",{class:"max-w-sm mx-auto md:max-w-lg",children:(0,h.jsxs)("div",{class:"w-full",children:[(0,h.jsxs)("div",{className:"w-full text-center py-2 bg-gray-200 text-black relative",children:[null===e||void 0===e?void 0:e.headTitle,(0,h.jsx)("button",{onClick:null===e||void 0===e?void 0:e.closeMobileModal,type:"button",class:"absolute top-1 right-6 bg-transparent bg-gray-200 text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center shadow-sm  hover:bg-red-200 hover:border-none",children:(0,h.jsx)("svg",{class:"w-5 h-5",fill:"currentColor",children:(0,h.jsx)("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})})})]}),(0,h.jsxs)("div",{class:"bg-white py-20 px-6 md:py-20 md:px-20 w-full md:w-auto rounded text-center shadow-xl relative",children:[(0,h.jsx)("div",{class:"flex flex-col mt-4 text-center",children:(0,h.jsx)("span",{className:"text-center text-red-400",children:Z})}),(0,h.jsx)("div",{class:"text-2xl font-bold",children:null===e||void 0===e?void 0:e.title}),(0,h.jsx)("div",{class:"flex flex-col mt-4 text-center",children:(0,h.jsx)("span",{className:"text-center",children:null===e||void 0===e?void 0:e.desc})}),(0,h.jsx)("div",{class:"flex flex-row justify-center text-center mt-5 w-full",children:(0,h.jsxs)("form",{onSubmit:O.handleSubmit,onChange:function(e){C("");var o=e.target.name,t=e.target.value;"mobileNo"==o&&O.setFieldValue("mobileNo",(0,n.Ud)(t,O.values.mobileNo,10)),"mobileNo"==o&&t.length>=10?y(!0):y(!1)},children:[(0,h.jsx)("div",{className:"w-full",children:(0,h.jsx)("input",(0,s.Z)((0,s.Z)({type:"text",min:0},O.getFieldProps("mobileNo")),{},{className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}))}),(0,h.jsxs)("div",{class:"w-full text-center mt-5",children:[j&&(0,h.jsx)("button",{type:"submit",className:"w-full  py-2.5 bg-indigo-600 text-white font-medium text-xs leading-tight  rounded shadow-md hover:bg-indigo-700 hover:shadow-lg focus:bg-indigo-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-indigo-800 active:shadow-lg transition duration-150 ease-in-out",children:"Submit"}),!j&&(0,h.jsx)("button",{type:"button",className:"w-full  py-2.5 bg-gray-300 text-white font-medium text-xs leading-tight  rounded shadow-md  hover:shadow-lg  focus:shadow-lg focus:outline-none focus:ring-0  transition duration-150 ease-in-out cursor-default ",children:"Submit"})]}),(0,h.jsxs)("div",{className:"text-left w-full mt-10 flex justify-center items-center",children:[(0,h.jsx)("div",{className:"flex-1",children:(0,h.jsx)("span",{onClick:function(){return A("/")},className:"text-indigo-500 font-semibold hover:bg-white px-3 py-1 cursor-pointer ",children:"Home"})}),(0,h.jsx)("div",{className:"flex-1",children:(0,h.jsx)("span",{onClick:function(){return A("/login")},className:"text-indigo-500 font-semibold hover:bg-white px-3 py-1 cursor-pointer float-right",children:"Login "})})]})]})})]})]})})})})})})]})}}}]);
//# sourceMappingURL=4066.236ca7c3.chunk.js.map