"use strict";(self.webpackChunkcitizen_landing=self.webpackChunkcitizen_landing||[]).push([[4056],{58253:function(e,t){t.Z="http://203.129.217.246:8000"},65064:function(e,t,a){a.d(t,{Z:function(){return n}});var o=a(58253);function n(){var e=o.Z,t=window.localStorage.getItem("citizen_token");return{header:{headers:{Authorization:"Bearer ".concat(t),Accept:"application/json"}},api_ulbList:"".concat(e,"/api/get-all-ulb"),api_wardList:"".concat(e,"/api/get-all-ulb-wards"),api_userProfileDetails:"".concat(e,"/api/my-profile-details"),api_NewWaterConnection:"".concat(e,"/api/water/application/apply-new-connection"),api_getSafHoldingDetails:"".concat(e,"/api/water/search-holding-saf"),api_citizenApplications:"".concat(e,"/api/water/citizenApplications"),api_citizenApprovedApplications:"".concat(e,"/api/water/consumer/get-listed-details"),api_rzpWaterOrderId:"".concat(e,"/api/water/Razorpay-Orderid"),api_getTranNo:"".concat(e,"/api/water/getTranNo"),api_paymentReceipt:"".concat(e,"/api/water/generate-payment-receipt"),api_waterConsumerPaymentReceipt:"".concat(e,"/api/water/consumer/demand/generate-payment-receipt"),api_waterApplicationDelete:"".concat(e,"/api/water/application/delete "),api_waterViewPendingApplication:"".concat(e,"/api/water/application/get-by-id "),api_waterViewDocumetTobeuploaded:"".concat(e,"/api/water/citizen/get-doc-list"),api_waterUploadDoc:"".concat(e,"/api/water/upload-document"),api_waterApprovedApplicationDetails:"".concat(e,"/api/water/consumer/get-listed-details"),api_waterConsumerPaymentHistory:"".concat(e,"/api/water/consumer/get-payment-history"),api_waterListDemand:"".concat(e,"/api/water/consumer/list-demand"),api_getHoldingSafOfLogin:"".concat(e,"/api/property/citizen-holding-saf"),api_waterDemandCalculation:"".concat(e,"/api/water/consumer/calculate-month-demand"),api_waterDemandPayment:"".concat(e,"/api/water/consumer/offline-demand-payment")}}},64119:function(e,t,a){a.r(t);var o=a(1413),n=a(70885),l=a(72791),s=a(57689),r=a(61044),i=a(16856),d=a(72426),c=a.n(d),m=a(55705),p=a(62797),u=a(65064),x=a(80184);t.default=function(){var e,t,a,d=(0,l.useState)(),h=(0,n.Z)(d,2),b=h[0],g=h[1],f=(0,l.useState)(!1),v=(0,n.Z)(f,2),y=(v[0],v[1]),N=(0,l.useState)(),j=(0,n.Z)(N,2),w=j[0],_=j[1],D=(0,l.useState)(),A=(0,n.Z)(D,2),M=A[0],P=A[1],Z=(0,l.useState)(),F=(0,n.Z)(Z,2),k=F[0],Y=F[1],S=(0,l.useState)(),C=(0,n.Z)(S,2),O=C[0],z=C[1],U=(0,s.UO)().id,E=(0,s.s0)(),R=(0,u.Z)(),T=R.api_waterApprovedApplicationDetails,L=R.api_waterListDemand,I=R.api_waterDemandCalculation,W=R.api_waterDemandPayment,q=R.header;(0,l.useEffect)((function(){H(),V()}),[U]),(0,l.useEffect)((function(){B()}),[O,k]);var B=function(){if(""==O)return P();if(""==k)return P();y(!0);var e={consumerId:U,demandFrom:k,demandUpto:O};r.ZP.post(I,e,q).then((function(e){console.log("water demand calculation Details",e.data.data),P(e.data.data),y(!1)})).catch((function(e){console.log("Error : water calculating demand",e),y(!1)}))},H=function(){y(!0),r.ZP.post(T,{id:U},q).then((function(e){console.log("water Approved Application Details",e.data.data),g(e.data.data),y(!1)})).catch((function(e){console.log("Error : water Approved Application Details",e),y(!1)}))},V=function(){r.ZP.post(L,{ConsumerId:U},q).then((function(e){console.log("Fetched Water Demand List",e.data.data),_(e.data.data)})).catch((function(e){console.log("Exception while fetching Water Demand",e)}))},X=p.Ry({monthFrom:p.Z_().required("Require Field"),monthUpto:p.Z_().required("Require Field")}),G=(0,m.TA)({enableReinitialize:!0,initialValues:{monthFrom:"",monthUpto:"",penalty:"",rebate:"",advanced:""},onSubmit:function(e,t){!function(e){var t={consumerId:U,demandFrom:k,demandUpto:k,amount:null===M||void 0===M?void 0:M.totalPayAmount};console.log("final submit",t),r.ZP.post(W,t,q).then((function(e){e.data.status?(V(),console.log("Demand Paid Successfully",e)):console.log("Failed to paid Demand.",e)})).catch((function(e){console.log("Exception while Demand payment",e)}))}()},validationSchema:X}),J=null===w||void 0===w||null===(e=w.consumerDemands)||void 0===e?void 0:e.filter((function(e){return c()(e.demand_upto,"YYYY-MM-DD").format("yy-MM").toString()>=c()(k,"YYYY-MM-DD").format("yy-MM")}));return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-12 lg:grid-cols-12 gap-2 container mx-auto w-full",children:(0,x.jsxs)("div",{className:"col-span-12 rounded-lg p-4",children:[(0,x.jsx)("div",{className:"p-4",children:(0,x.jsxs)("div",{className:"",children:[(0,x.jsxs)("h1",{className:"px-1 font-semibold font-serif  text-gray-500",children:[(0,x.jsx)(i.XN7,{className:"inline"})," Basic Details"]}),(0,x.jsx)("div",{className:"py-6 mt-2 bg-white rounded-lg shadow-xl p-4",children:(0,x.jsxs)("div",{className:"flex space-x-5 pl-4 ",children:[(0,x.jsxs)("div",{className:"flex-1",children:[(0,x.jsx)("div",{className:"font-semibold text-sm",children:null!==b&&void 0!==b&&b.ulb_name?null===b||void 0===b?void 0:b.ulb_name:"N/A"}),(0,x.jsx)("div",{className:"text-gray-500 text-xs",children:"ULB Name"})]}),(0,x.jsxs)("div",{className:"flex-1",children:[(0,x.jsx)("div",{className:"font-bold text-sm",children:null!==b&&void 0!==b&&b.ward_name?null===b||void 0===b?void 0:b.ward_name:"N/A"}),(0,x.jsx)("div",{className:"text-gray-500 text-xs",children:"Ward No."})]}),(0,x.jsxs)("div",{className:"flex-1",children:[(0,x.jsx)("div",{className:"font-bold text-sm",children:null!==b&&void 0!==b&&b.consumer_no?null===b||void 0===b?void 0:b.consumer_no:"N/A"}),(0,x.jsx)("div",{className:"text-gray-500 text-xs",children:"Consumer No"})]}),(0,x.jsxs)("div",{className:"flex-1",children:[(0,x.jsx)("div",{className:"font-bold text-sm",children:null!==b&&void 0!==b&&b.connection_through?null===b||void 0===b?void 0:b.connection_through:"N/A"}),(0,x.jsx)("div",{className:"text-gray-500 text-xs",children:"Connection Through"})]}),"SAF"==(null===b||void 0===b?void 0:b.connection_through)?(0,x.jsxs)("div",{className:"flex-1",children:[(0,x.jsx)("div",{className:"font-semibold text-md",children:null!==b&&void 0!==b&&b.saf_no?null===b||void 0===b?void 0:b.saf_no:"N/A"}),(0,x.jsx)("div",{className:"text-gray-500 text-xs",children:"SAF No"})]}):(0,x.jsxs)("div",{className:"flex-1",children:[(0,x.jsx)("div",{className:"font-semibold text-md",children:null!==b&&void 0!==b&&b.holding_no?null===b||void 0===b?void 0:b.holding_no:"N/A"}),(0,x.jsx)("div",{className:"text-gray-500 text-xs",children:"Holding No"})]}),(0,x.jsxs)("div",{className:"flex-1",children:[(0,x.jsx)("div",{className:"font-semibold text-md",children:null!==b&&void 0!==b&&b.owner_char_type?null===b||void 0===b?void 0:b.owner_char_type:"N/A"}),(0,x.jsx)("div",{className:"text-gray-500 text-xs",children:"Ownership Type"})]})]})})]})}),(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("div",{className:"mt-5 p-4",children:[(0,x.jsxs)("h1",{className:"px-1 font-semibold font-serif text-gray-500",children:[(0,x.jsx)(i.XN7,{className:"inline"}),"Due Demand Details"]}),(0,x.jsxs)("table",{className:"min-w-full leading-normal mt-2 bg-white rounded-lg shadow-xl p-4",children:[(0,x.jsx)("thead",{className:"font-bold text-left text-sm border text-gray-800 bg-white",children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"#"}),(0,x.jsx)("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"Demand From"}),(0,x.jsx)("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"Demand Upto"}),(0,x.jsx)("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"Demand Amount"}),(0,x.jsx)("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"Penalty"}),(0,x.jsx)("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"Connection Type"}),(0,x.jsx)("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"Payable Amount "})]})}),(0,x.jsx)("tbody",{className:"text-sm",children:(0,x.jsx)(x.Fragment,{children:null===w||void 0===w||null===(t=w.consumerDemands)||void 0===t?void 0:t.map((function(e,t){return(0,x.jsxs)("tr",{className:"bg-white shadow-xl border-b border-gray-200",children:[(0,x.jsx)("td",{className:"px-2 py-2 text-left text-gray-500 text-xs",children:t+1}),(0,x.jsx)("td",{className:"px-2 py-2 text-left text-gray-500 text-xs",children:null!==e&&void 0!==e&&e.demand_from?c()(null===e||void 0===e?void 0:e.demand_from,"YYYY-MM-DD").format("DD-MMM-yy"):"N/A"}),(0,x.jsx)("td",{className:"px-2 py-2 text-left text-gray-500 text-xs",children:null!==e&&void 0!==e&&e.demand_upto?c()(null===e||void 0===e?void 0:e.demand_upto,"YYYY-MM-DD").format("DD-MMM-yy"):"N/A"}),(0,x.jsx)("td",{className:"px-2 py-2 text-left text-gray-500 text-xs",children:null!==e&&void 0!==e&&e.balance_amount?null===e||void 0===e?void 0:e.balance_amount:"N/A"}),(0,x.jsx)("td",{className:"px-2 py-2 text-left text-gray-500 text-xs",children:null!==e&&void 0!==e&&e.penalty?null===e||void 0===e?void 0:e.penalty:"N/A"}),(0,x.jsx)("td",{className:"px-2 py-2 text-left text-gray-500 text-xs",children:null!==e&&void 0!==e&&e.connection_type?null===e||void 0===e?void 0:e.connection_type:"N/A"}),(0,x.jsx)("td",{className:"px-2 py-2 text-left text-gray-500 text-xs",children:null!==e&&void 0!==e&&e.amount?"\u20b9 "+(null===e||void 0===e?void 0:e.amount):"N/A"})]})}))})})]})]})}),(0,x.jsx)("div",{className:"col-span-12 rounded-lg p-4",children:(0,x.jsx)("div",{className:"py-6 mt-2 bg-white rounded-lg shadow-xl border border-y-gray-200 p-4",children:(0,x.jsx)("form",{onSubmit:G.handleSubmit,onChange:function(e){var t=e.target.name,a=e.target.value;"monthFrom"==t&&Y(a),"monthUpto"==t&&z(a)},className:"p-4 relative",children:(0,x.jsxs)("div",{className:"grid grid-cols-12",children:[(0,x.jsxs)("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:[(0,x.jsxs)("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[(0,x.jsx)("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Select Month From"]}),(0,x.jsxs)("select",(0,o.Z)((0,o.Z)({},G.getFieldProps("monthFrom")),{},{type:"text",className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[(0,x.jsx)("option",{value:"",children:"Select"}),null===w||void 0===w||null===(a=w.consumerDemands)||void 0===a?void 0:a.map((function(e,t){return(0,x.jsx)("option",{value:e.demand_from,children:c()(e.demand_from,"YYYY-MM-DD").format("MMM-yy")},t)}))]})),(0,x.jsx)("span",{className:"text-red-600 absolute text-xs",children:G.touched.monthFrom&&G.errors.monthFrom?G.errors.monthFrom:null})]}),(0,x.jsxs)("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:[(0,x.jsxs)("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[(0,x.jsx)("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Select Month Upto"]}),(0,x.jsxs)("select",(0,o.Z)((0,o.Z)({},G.getFieldProps("monthUpto")),{},{type:"text",className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[(0,x.jsx)("option",{value:"",children:"Select"}),null===J||void 0===J?void 0:J.map((function(e,t){return(0,x.jsx)("option",{value:e.demand_upto,children:c()(e.demand_upto,"YYYY-MM-DD").format("MMM-yy")},t)}))]})),(0,x.jsx)("span",{className:"text-red-600 absolute text-xs",children:G.touched.monthUpto&&G.errors.monthUpto?G.errors.monthUpto:null})]}),(0,x.jsxs)("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:[(0,x.jsx)("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:"Total Demand"}),(0,x.jsx)("input",(0,o.Z)((0,o.Z)({},G.getFieldProps("amount")),{},{value:(null===M||void 0===M?void 0:M.totalDemand)||0,disabled:!0,type:"text",className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md bg-slate-200"})),(0,x.jsx)("span",{className:"text-red-600 absolute text-xs",children:G.touched.amount&&G.errors.amount?G.errors.amount:null})]}),(0,x.jsxs)("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:[(0,x.jsx)("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:"Penalty"}),(0,x.jsx)("input",(0,o.Z)((0,o.Z)({},G.getFieldProps("penalty")),{},{value:(null===M||void 0===M?void 0:M.totalPenalty)||0,disabled:!0,type:"text",className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md bg-slate-200"})),(0,x.jsx)("span",{className:"text-red-600 absolute text-xs",children:G.touched.penalty&&G.errors.penalty?G.errors.penalty:null})]}),(0,x.jsxs)("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:[(0,x.jsx)("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:"Rebate"}),(0,x.jsx)("input",(0,o.Z)((0,o.Z)({},G.getFieldProps("rebate")),{},{value:(null===M||void 0===M?void 0:M.totalRebate)||0,disabled:!0,type:"text",className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md bg-slate-200"})),(0,x.jsx)("span",{className:"text-red-600 absolute text-xs",children:G.touched.rebate&&G.errors.rebate?G.errors.rebate:null})]}),(0,x.jsxs)("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:[(0,x.jsx)("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:"Advanced"}),(0,x.jsx)("input",(0,o.Z)((0,o.Z)({},G.getFieldProps("advanced")),{},{value:(null===M||void 0===M?void 0:M.totalAdvance)||0,disabled:!0,type:"text",className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md bg-slate-200"})),(0,x.jsx)("span",{className:"text-red-600 absolute text-xs",children:G.touched.advanced&&G.errors.advanced?G.errors.advanced:null})]}),(0,x.jsx)("div",{className:"form-group mb-4 col-span-12 md:col-span-6 md:px-4",children:(0,x.jsxs)("p",{children:["Remain Advance : ",(0,x.jsx)("span",{className:"text-orange-700 font-semibold",children:(null===M||void 0===M?void 0:M.remaningAdvanceAmount)||0})]})}),(0,x.jsx)("div",{className:"form-group mb-4 col-span-12 md:col-span-6 md:px-4",children:(0,x.jsxs)("p",{children:[" Payable Amount : ",(0,x.jsx)("span",{className:"text-green-700 font-semibold",children:null!==M&&void 0!==M&&M.totalPayAmount?"\u20b9"+(null===M||void 0===M?void 0:M.totalPayAmount):0})]})}),(0,x.jsxs)("div",{className:"col-span-12 grid grid-cols-2 mt-10",children:[(0,x.jsx)("div",{className:""}),(0,x.jsxs)("div",{className:"md:pl-10 text-right space-x-5",children:[(0,x.jsx)("button",{type:"button",onClick:function(){return E(-1)},className:" px-6 py-2.5 bg-sky-600 text-white font-medium text-xs leading-tight  rounded shadow-md hover:bg-sky-700 hover:shadow-lg focus:bg-sky-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-indigo-800 active:shadow-lg transition duration-150 ease-in-out cursor-pointer",children:"Back"}),(0,x.jsx)("button",{type:"submit",className:" px-6 py-2.5 bg-indigo-600 text-white font-medium text-xs leading-tight  rounded shadow-md hover:bg-indigo-600 hover:shadow-lg focus:bg-indigo-700 focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg transition duration-150 ease-in-out cursor-pointer",children:"Pay Tax"})]})]})]})})})})]})})})}},89983:function(e,t,a){a.d(t,{w_:function(){return d}});var o=a(72791),n={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},l=o.createContext&&o.createContext(n),s=function(){return s=Object.assign||function(e){for(var t,a=1,o=arguments.length;a<o;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},s.apply(this,arguments)},r=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(a[o[n]]=e[o[n]])}return a};function i(e){return e&&e.map((function(e,t){return o.createElement(e.tag,s({key:t},e.attr),i(e.child))}))}function d(e){return function(t){return o.createElement(c,s({attr:s({},e.attr)},t),i(e.child))}}function c(e){var t=function(t){var a,n=e.attr,l=e.size,i=e.title,d=r(e,["attr","size","title"]),c=l||t.size||"1em";return t.className&&(a=t.className),e.className&&(a=(a?a+" ":"")+e.className),o.createElement("svg",s({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,d,{className:a,style:s(s({color:e.color||t.color},t.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),i&&o.createElement("title",null,i),e.children)};return void 0!==l?o.createElement(l.Consumer,null,(function(e){return t(e)})):t(n)}}}]);
//# sourceMappingURL=4056.c4daedca.chunk.js.map