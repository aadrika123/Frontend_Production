"use strict";(self.webpackChunkcitizen_landing=self.webpackChunkcitizen_landing||[]).push([[8288],{78288:function(e,t,o){o.r(t);var l=o(1413),i=o(70885),s=o(72791),n=o(60786),d=o(55705),r=o(81724),a=o(99008),c=o(39723),u=o(61044),x=o(5055),m=o(57689),h=o(64491),g=o(25229),b=o(80184);t.default=function(e){var t=(0,s.useState)(!1),o=(0,i.Z)(t,2),v=o[0],f=o[1],p=(0,s.useState)(!1),w=(0,i.Z)(p,2),j=w[0],y=w[1],N=(0,s.useState)(""),S=(0,i.Z)(N,2),Z=S[0],C=S[1],k=(0,s.useState)(!1),F=(0,i.Z)(k,2),L=F[0],M=F[1],P=(0,a.Z)().api_sendMobileOtp,T=(0,s.useContext)(x.n).notify,_=(0,m.s0)(),z=r.Ry({mobileNo:r.Z_().required("Enter 10 digit mobile no.").min(10,"Enter 10 digit mobile no.")}),R=(0,d.TA)({initialValues:{mobileNo:""},onSubmit:function(t){console.log("at submit form.....",t),null===e||void 0===e||e.setverifedMobileNo(t.mobileNo),V()},validationSchema:z}),V=function(){var t;console.log("otp send..."),f(!0),y(!1),t="Register"==(null===e||void 0===e?void 0:e.cardFor)?{mobileNo:R.values.mobileNo,type:"Register"}:{mobileNo:R.values.mobileNo,type:"Forgot"},console.log("before send otp into...",t),u.ZP.post(P,t,{timeout:1e3}).then((function(t){var o,l,i;(console.log("otp send response",null===t||void 0===t?void 0:t.data),null!==t&&void 0!==t&&null!==(o=t.data)&&void 0!==o&&o.status)?(T("OTP is send to your mobile no.","success"),null===e||void 0===e||e.setmobileCardStatus(!1),null===e||void 0===e||e.setotpCardStatus(!0)):(T(null===t||void 0===t||null===(l=t.data)||void 0===l?void 0:l.message,"error"),C(null===t||void 0===t||null===(i=t.data)||void 0===i?void 0:i.message));f(!1)})).catch((function(e){console.log("error otp send",e),M(!0),f(!1),y(!0)}))};return L?(0,b.jsx)(h.Z,{children:(0,b.jsx)(g.Z,{title:"Server is busy",desc:"Server is too busy to respond. Please try again later.",buttonText:"View Dashboard",buttonUrl:"/propertyDashboard"})}):(0,b.jsxs)(b.Fragment,{children:[v&&(0,b.jsx)(c.Z,{}),(0,b.jsx)(h.Z,{children:(0,b.jsx)("div",{class:"",children:(0,b.jsx)("div",{class:"",children:(0,b.jsx)("div",{class:"container mx-auto",children:(0,b.jsx)("div",{class:"max-w-sm mx-auto md:max-w-lg",children:(0,b.jsxs)("div",{class:"w-full",children:[(0,b.jsxs)("div",{className:"w-full text-center py-2 bg-gray-200 text-black relative",children:[null===e||void 0===e?void 0:e.headTitle,(0,b.jsx)("button",{onClick:null===e||void 0===e?void 0:e.closeMobileModal,type:"button",class:"absolute top-1 right-6 bg-transparent bg-gray-200 text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center shadow-sm  hover:bg-red-200 hover:border-none",children:(0,b.jsx)("svg",{class:"w-5 h-5",fill:"currentColor",children:(0,b.jsx)("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})})})]}),(0,b.jsxs)("div",{class:"bg-white py-20 px-6 md:py-20 md:px-20 w-full md:w-auto rounded text-center shadow-xl relative",children:[(0,b.jsx)("div",{class:"flex flex-col mt-4 text-center",children:(0,b.jsx)("span",{className:"text-center text-red-400",children:Z})}),(0,b.jsx)("div",{class:"text-2xl font-bold",children:null===e||void 0===e?void 0:e.title}),(0,b.jsx)("div",{class:"flex flex-col mt-4 text-center",children:(0,b.jsx)("span",{className:"text-center",children:null===e||void 0===e?void 0:e.desc})}),(0,b.jsx)("div",{class:"flex flex-row justify-center text-center mt-5 w-full",children:(0,b.jsxs)("form",{onSubmit:R.handleSubmit,onChange:function(e){C("");var t=e.target.name,o=e.target.value;"mobileNo"==t&&R.setFieldValue("mobileNo",(0,n.Ud)(o,R.values.mobileNo,10)),"mobileNo"==t&&o.length>=10?y(!0):y(!1)},children:[(0,b.jsx)("div",{className:"w-full",children:(0,b.jsx)("input",(0,l.Z)((0,l.Z)({type:"text",min:0},R.getFieldProps("mobileNo")),{},{className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}))}),(0,b.jsxs)("div",{class:"w-full text-center mt-5",children:[j&&(0,b.jsx)("button",{type:"submit",className:"w-full  py-2.5 bg-indigo-600 text-white font-medium text-xs leading-tight  rounded shadow-md hover:bg-indigo-700 hover:shadow-lg focus:bg-indigo-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-indigo-800 active:shadow-lg transition duration-150 ease-in-out",children:"Submit"}),!j&&(0,b.jsx)("button",{type:"button",className:"w-full  py-2.5 bg-gray-300 text-white font-medium text-xs leading-tight  rounded shadow-md  hover:shadow-lg  focus:shadow-lg focus:outline-none focus:ring-0  transition duration-150 ease-in-out cursor-default ",children:"Submit"})]}),(0,b.jsxs)("div",{className:"text-left w-full mt-10 flex justify-center items-center",children:[(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsx)("span",{onClick:function(){return _("/")},className:"text-indigo-500 font-semibold hover:bg-white px-3 py-1 cursor-pointer ",children:"Home"})}),(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsx)("span",{onClick:function(){return _("/login")},className:"text-indigo-500 font-semibold hover:bg-white px-3 py-1 cursor-pointer float-right",children:"Login "})})]})]})})]})]})})})})})})]})}}}]);
//# sourceMappingURL=8288.266dd593.chunk.js.map