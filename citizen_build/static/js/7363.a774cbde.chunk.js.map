{"version":3,"file":"static/js/7363.a774cbde.chunk.js","mappings":"uJAcA,IAXA,SAAqB,GAAkB,IAAjBA,EAAK,EAALA,MAAOC,EAAM,EAANA,OAEzB,EAAyCC,EAAAA,WAAiBC,EAAAA,GAAlDC,EAAY,EAAZA,aAAcC,EAAc,EAAdA,gBACtBC,EAAAA,EAAAA,YAAU,WACNF,EAAaJ,GACbK,EAAeJ,EACnB,GAAG,GAGP,C,iNC8GA,UA3GA,WAGI,IAEID,EAFJ,GAA8BO,EAAAA,EAAAA,MAAtBC,EAAS,EAATA,UAAWC,EAAM,EAANA,OACnBC,QAAQC,IAAI,sBAAuBH,GAG/BR,EADU,OAAVS,EACQ,cAEA,mBAEZG,EAAAA,EAAAA,GAAYZ,GAEZ,IAAMa,GAAeC,EAAAA,EAAAA,UACrB,GAAsCC,EAAAA,EAAAA,YAAU,eAAzCC,EAAW,KAAEC,EAAc,KAClC,GAAwBF,EAAAA,EAAAA,WAAS,GAAM,eACvC,GADW,KAAS,MACcA,EAAAA,EAAAA,WAAS,IAAM,eAA1CG,EAAS,KAAEC,EAAY,KAC9B,GAAkCJ,EAAAA,EAAAA,WAAS,GAAM,eAA1CK,EAAS,KAAEC,EAAY,KAK9B,GAAyDC,EAAAA,EAAAA,KAAjDC,EAAkB,EAAlBA,mBAAoBC,EAAwB,EAAxBA,0BAE5BlB,EAAAA,EAAAA,YAAU,WACNmB,GACJ,GAAG,IAEH,IAAMA,EAAmB,WACrBN,GAAa,GACbE,GAAa,GAEb,IAQIK,EACAC,EATAC,EAAQC,OAAOC,aAAaC,QAAQ,SAIlB,UAAD,OAAYH,GAMnB,WAAVnB,GACAiB,EAAMF,EACNG,EAAc,CAEVK,OAAQxB,KAGZkB,EAAMH,EACNI,EAAc,CACVK,OAAQxB,IAGhBE,QAAQC,IAAI,mCAAoCgB,GAChDM,EAAAA,GAAAA,KAAWP,EAAKC,GAAaO,EAAAA,EAAAA,MACxBC,MAAK,SAACC,GAEH1B,QAAQC,IAAI,+BAAgCyB,GACxCA,EAASC,KAAKpC,OAEdgB,EAAemB,EAASC,KAAKA,MAG7BlB,GAAa,GAEjBE,GAAa,EACjB,IACCiB,OAAM,SAACC,GACJpB,GAAa,GACbE,GAAa,GACbX,QAAQC,IAAI4B,EAChB,GACR,EAMA,OAAInB,GAEI,iCACI,SAAC,IAAW,KACZ,gBAAKoB,UAAU,oBAIvBtB,GAEI,SAAC,IAAW,WACR,SAAC,IAAe,CAAClB,MAAM,iBAAiByC,KAAK,yDAAyDC,WAAW,iBAAiBC,UAAU,0BAMpJ,4BAEI,SAAC,IAAY,CACTC,QAAS,kBAAM,qBAAiB,EAChCC,QAAS,kBAAMhC,EAAaiC,OAAO,KAEvC,SAAC,UAAgB,CAACrC,OAAQA,EAAQsC,IAAKlC,EAAcG,YAAaA,MAG9E,C","sources":["Components/GlobalData/UseSetTitle.js","Pages/Contents/CitizenSafForm/PaymentReceipt2/SafPaymentReceiptIndex.js"],"sourcesContent":["import React,{useEffect} from 'react'\r\nimport { contextVar } from '../ContextVar'\r\n\r\nfunction useSetTitle({title, status}) {\r\n\r\n    const { settitleText, settitleStatus } = React.useContext(contextVar)\r\n    useEffect(() => {\r\n        settitleText(title)\r\n        settitleStatus(status)\r\n    }, [])\r\n\r\n\r\n}\r\n\r\nexport default useSetTitle","import axios from 'axios';\r\nimport React, { useRef, useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport ReactToPrint from 'react-to-print-advanced';\r\nimport ApiHeader from '../../../../Components/ApiList/ApiHeader';\r\nimport CitizenApplyApiList from '../../../../Components/CitizenApplyApiList';\r\nimport BarLoader from '../../../../Components/Common/BarLoader';\r\nimport BrandLoader from '../../../../Components/Common/BrandLoader';\r\nimport CommonModal from '../../../../Components/GlobalData/CommonModal';\r\nimport useSetTitle from '../../../../Components/GlobalData/UseSetTitle';\r\nimport ServerErrorCard from '../../../AdvertisementModule/ServerErrorCard';\r\nimport NonBlockingLoader from '../NonBlockingLoader';\r\nimport ComponentToPrint from './SafPaymentReceipt';\r\n\r\n\r\nfunction SafPaymentReceiptIndex() {\r\n\r\n    ///////{***âœ… payment Id from use param...***}///////\r\n    const { paymentId, module } = useParams()\r\n    console.log(\"param payment id ..\", paymentId)\r\n    let title\r\n    if (module == 'saf') {\r\n        title = \"SAF Receipt\"\r\n    } else {\r\n        title = \"Holding Receipt\"\r\n    }\r\n    useSetTitle(title)\r\n\r\n    const componentRef = useRef();\r\n    const [paymentData, setpaymentData] = useState();\r\n    const [show, setshow] = useState(false)\r\n    const [erroState, seterroState] = useState(false);\r\n    const [isLoading, setisLoading] = useState(false);\r\n    // const [paymentId, setpaymentId] = useState('pay_KiI7acuJomb5eq');\r\n\r\n    // const { licenseId, tranId } = useParams();\r\n\r\n    const { api_getPaymentData, api_getHoldingReceiptUrl } = CitizenApplyApiList()\r\n\r\n    useEffect(() => {\r\n        fetchPaymentData();\r\n    }, [])\r\n\r\n    const fetchPaymentData = () => {\r\n        seterroState(false)\r\n        setisLoading(true)\r\n\r\n        let token = window.localStorage.getItem('token')\r\n        const header = {\r\n            headers:\r\n            {\r\n                Authorization: `Bearer ${token}`,\r\n                Accept: 'application/json',\r\n            }\r\n        }\r\n        let url\r\n        let requestBody\r\n        if (module == 'holding') {\r\n            url = api_getHoldingReceiptUrl\r\n            requestBody = {\r\n                // HERE paymentId is transaction no\r\n                tranNo: paymentId\r\n            }\r\n        } else {\r\n            url = api_getPaymentData\r\n            requestBody = {\r\n                tranNo: paymentId\r\n            }\r\n        }\r\n        console.log('before fetch payment receipt....', requestBody)\r\n        axios.post(url, requestBody, ApiHeader())\r\n            .then((response) => {\r\n                // console.log(\"payment data\", response.data.data);\r\n                console.log(\"payment data at receipt.....\", response);\r\n                if (response.data.status) {\r\n\r\n                    setpaymentData(response.data.data);\r\n\r\n                } else {\r\n                    seterroState(true)\r\n                }\r\n                setisLoading(false)\r\n            })\r\n            .catch((error) => {\r\n                seterroState(true)\r\n                setisLoading(false)\r\n                console.log(error);\r\n            })\r\n    }\r\n\r\n    const showLoader = (val) => {\r\n        setshow(val);\r\n    }\r\n\r\n    if (isLoading) {\r\n        return (\r\n            <>\r\n                <BrandLoader />\r\n                <div className='min-h-screen'></div>\r\n            </>\r\n        )\r\n    }\r\n    if (erroState) {\r\n        return (\r\n            <CommonModal>\r\n                <ServerErrorCard title=\"Server is busy\" desc=\"Server is too busy to respond. Please try again later.\" buttonText=\"View Dashboard\" buttonUrl=\"/propertyDashboard\" />\r\n            </CommonModal>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div>\r\n\r\n            <ReactToPrint\r\n                trigger={() => <button></button>}\r\n                content={() => componentRef.current}\r\n            />\r\n            <ComponentToPrint module={module} ref={componentRef} paymentData={paymentData} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SafPaymentReceiptIndex"],"names":["title","status","React","contextVar","settitleText","settitleStatus","useEffect","useParams","paymentId","module","console","log","useSetTitle","componentRef","useRef","useState","paymentData","setpaymentData","erroState","seterroState","isLoading","setisLoading","CitizenApplyApiList","api_getPaymentData","api_getHoldingReceiptUrl","fetchPaymentData","url","requestBody","token","window","localStorage","getItem","tranNo","axios","ApiHeader","then","response","data","catch","error","className","desc","buttonText","buttonUrl","trigger","content","current","ref"],"sourceRoot":""}