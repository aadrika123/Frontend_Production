"use strict";(self.webpackChunkcitizen_landing=self.webpackChunkcitizen_landing||[]).push([[3265],{94225:function(e,t,l){l.r(t),l.d(t,{default:function(){return j}});var s=l(1413),o=l(70885),r=l(72791),a=l(55705),d=l(81724),n=l(17425),i=l(61044),c=l(57689),x=l(62037),u=l(5055),m=l(60786),h=l(80166),b=l(76645),p=l(99008),g=l(80915),f=l(93877),v=(l(64491),l(25229),l(82536)),N=l(80184);var j=function(){var e=(0,r.useState)(!0),t=(0,o.Z)(e,2),l=t[0],j=t[1],y=(0,r.useState)(),w=(0,o.Z)(y,2),S=w[0],Z=w[1],P=(0,r.useState)(!1),_=(0,o.Z)(P,2),k=_[0],I=_[1],O=(0,r.useState)(null),E=(0,o.Z)(O,2),D=E[0],T=E[1],C=(0,r.useState)(null),A=(0,o.Z)(C,2),F=(A[0],A[1]),L=(0,r.useState)(""),B=(0,o.Z)(L,2),M=B[0],H=B[1],U=(0,r.useState)(),R=(0,o.Z)(U,2),q=R[0],V=R[1],W=(0,r.useContext)(u.n).notify,z=(0,r.useState)(!1),G=(0,o.Z)(z,2),Y=G[0],J=G[1],K=(0,r.useState)(null),Q=(0,o.Z)(K,2),X=Q[0],$=Q[1],ee=(0,r.useState)(!1),te=(0,o.Z)(ee,2),le=te[0],se=te[1],oe=(0,r.useState)(null),re=(0,o.Z)(oe,2),ae=re[0],de=re[1];(0,g.Z)("Search Property");var ne=(0,h.Z)().api_searchDirectHolding,ie=(0,p.Z)(),ce=ie.api_getAllUlb,xe=ie.api_sendMobileOtp,ue=(0,c.s0)(),me=d.Ry({holdingNo:d.Z_().required("This is a required field !"),ulbId:d.Z_().required("Select ULB")}),he=(0,a.TA)({initialValues:{holdingNo:"",ulbId:""},onSubmit:function(e){console.log("at submit form.....",e),function(e){se(!1),H(""),I(!1),j(!0);var t={holdingNo:null===e||void 0===e?void 0:e.holdingNo,ulbId:null===e||void 0===e?void 0:e.ulbId};console.log("before fetch holding details....",t),i.ZP.post(ne,t).then((function(e){var l,s;console.log("search property list",null===e||void 0===e?void 0:e.data),null!==e&&void 0!==e&&null!==(l=e.data)&&void 0!==l&&l.status?(Z(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.data),I(!0),H(""),F(null===t||void 0===t?void 0:t.ulbId)):(W("This holding no does not exits!","error"),H("Data not found. Please enter a valid holding no. or related ULB")),j(!1)})).catch((function(e){console.log("Error while fetching Filter Data",e),W("Something went wrong!!","error"),H("Network problem."),pe(!0,"Error occured. Please try again later."),j(!1),I(!1)}))}(e)},validationSchema:me}),be=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;console.log("passed mobile no....."),j(!0),e=null==t?{mobileNo:X}:{mobileNo:t},console.log("before send otp. of direct search..",e),i.ZP.post(xe,e).then((function(e){var t,l;(console.log("otp send response",null===e||void 0===e?void 0:e.data),null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.status)?(J(!0),W("OTP is send to your mobile no.","success")):(W(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.message,"error"),pe(!0,"Error occured. Please try again later."));j(!1)})).catch((function(e){console.log("error otp send",e),pe(!0,"Error occured. Please try again later."),j(!1)}))};(0,r.useEffect)((function(){se(!1),j(!0),i.ZP.get(ce,{timeout:6e4}).then((function(e){var t,l;console.log("ulb list. at..",null===e||void 0===e?void 0:e.data),null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.status?V(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.data):se(!0),j(!1)})).catch((function(e){console.log("ulb list error.... ",e),se(!0),j(!1)}))}),[]);var pe=function(e,t){de(t),se(e)};return l?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(f.Z,{}),(0,N.jsx)("div",{className:"min-h-screen"})]}):Y?(0,N.jsx)(b.default,{closeOtpModal:function(){J(!1)},bottomNaviation:!0,headTitle:"Pay Property Tax",reSendOtp:be,verifedMobileNo:X,callback:function(){W("Mobile no. has been verified successfully !","success"),ue("/viewDemandHoldingPropertyDirect/".concat(D))},setotpCardStatus:J}):Y?void 0:(0,N.jsxs)(N.Fragment,{children:[l&&(0,N.jsx)(x.Z,{}),le&&(0,N.jsx)(v.Z,{activateBottomErrorCard:pe,errorTitle:ae}),(0,N.jsxs)("div",{className:"px-2 md:px-10",children:[(0,N.jsxs)("div",{className:"border shadow-xl bg-white mt-6",children:[(0,N.jsx)("div",{className:"flex ml-5 mt-2 ",children:(0,N.jsx)("p",{className:"font-semibold text-3xl ml-4 mt-1 text-gray-600",children:"Search Property"})}),(0,N.jsx)("form",{onSubmit:he.handleSubmit,onChange:function(e){var t=e.target.name,l=e.target.value;"holdingNo"==t&&he.setFieldValue("holdingNo",(0,m.wY)(l,he.values.holdingNo,16))},children:(0,N.jsxs)("div",{className:"flex flex-col md:flex-row justify-center my-5 m-10 ",children:[(0,N.jsxs)("div",{className:"form-group col-span-12 mb-4 md:px-10",children:[(0,N.jsxs)("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["ULB",(0,N.jsx)("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),(0,N.jsxs)("select",(0,s.Z)((0,s.Z)({id:"basic_details_1"},he.getFieldProps("ulbId")),{},{className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none shadow-md cursor-pointer ",children:[(0,N.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select"}),null===q||void 0===q?void 0:q.map((function(e){return(0,N.jsx)("option",{value:e.id,children:e.ulb_name})}))]})),(0,N.jsx)("span",{className:"text-red-600 absolute text-xs",children:he.touched.ulbId&&he.errors.ulbId?he.errors.ulbId:null})]}),(0,N.jsxs)("div",{children:[(0,N.jsxs)("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Holding No.",(0,N.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,N.jsx)("input",(0,s.Z)((0,s.Z)({type:"text"},he.getFieldProps("holdingNo")),{},{className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"})),(0,N.jsx)("p",{className:"text-red-500 text-xs",children:he.touched.holdingNo&&he.errors.holdingNo?he.errors.holdingNo:null})]}),(0,N.jsx)("div",{className:"mt-4 md:px-10",children:(0,N.jsx)("button",{type:"submit",className:"w-full border border-indigo-500 bg-indigo-600 hover:bg-indigo-500 text-white hover:text-black shadow-lg rounded-sm text-base font-semibold px-5 m-3 py-1",children:(0,N.jsxs)("p",{className:"flex text-center justify-center items-center",children:[(0,N.jsx)(n.k36,{className:"inline mr-2"}),"Search record"]})})})]})})]}),(0,N.jsxs)("div",{className:"mt-10",children:[k&&0!=(null===S||void 0===S?void 0:S.length)&&(0,N.jsxs)("div",{className:"col-span-10 bg-gray-50 p-4 overflow-x-scroll",children:[(0,N.jsx)("div",{className:"flex flex-row",children:(0,N.jsx)("h1",{className:"px-1 font-semibold font-serif text-2xl mt-4",children:"All Transcations"})}),(0,N.jsxs)("table",{className:"min-w-full leading-normal mt-10",children:[(0,N.jsx)("thead",{className:"font-bold text-left text-sm bg-indigo-50 text-gray-600",children:(0,N.jsxs)("tr",{children:[(0,N.jsx)("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"#"}),(0,N.jsx)("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"ACTION"}),(0,N.jsx)("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"OWNER'S NAME"}),(0,N.jsx)("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"HOLDING NO"}),(0,N.jsx)("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"NEW HOLDING NO"}),(0,N.jsx)("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"MOBILE NO"}),(0,N.jsx)("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"WARD NO."}),(0,N.jsx)("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"ULB"}),(0,N.jsx)("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"ADDRESS"})]})}),(0,N.jsx)("tbody",{className:"text-sm",children:(0,N.jsx)(N.Fragment,{children:null===S||void 0===S?void 0:S.map((function(e){return(0,N.jsxs)("tr",{className:"bg-white shadow-lg border-b border-gray-200",children:[(0,N.jsx)("td",{className:"px-2 py-2 text-sm text-left",children:"1"}),(0,N.jsxs)("td",{className:"px-2 py-2 text-sm text-left",children:[" ",(0,N.jsx)("button",{onClick:function(){T(e.id),$(null===e||void 0===e?void 0:e.mobile_no),be(null===e||void 0===e?void 0:e.mobile_no)},className:"bg-sky-200 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-sky-800 hover:text-white text-black",children:"View"})]}),(0,N.jsx)("td",{className:"px-2 py-2 text-sm text-left",children:(0,m.jP)(null===e||void 0===e?void 0:e.owner_name)}),(0,N.jsx)("td",{className:"px-2 py-2 text-sm text-left",children:(0,m.jP)(null===e||void 0===e?void 0:e.holding_no)}),(0,N.jsx)("td",{className:"px-2 py-2 text-sm text-left",children:(0,m.jP)(null===e||void 0===e?void 0:e.new_holding_no)}),(0,N.jsx)("td",{className:"px-2 py-2 text-sm text-left",children:(0,m.jP)(null===e||void 0===e?void 0:e.mobile_no)}),(0,N.jsx)("td",{className:"px-2 py-2 text-sm text-left",children:(0,m.jP)(null===e||void 0===e?void 0:e.ward_name)}),(0,N.jsx)("td",{className:"px-2 py-2 text-sm text-left",children:(0,m.jP)(null===e||void 0===e?void 0:e.ulb)}),(0,N.jsx)("td",{className:"px-2 py-2 text-sm text-left",children:(0,m.jP)(null===e||void 0===e?void 0:e.prop_address)})]})}))})})]})]}),(0,N.jsx)("div",{className:"text-xl font-semibold text-red-400 text-center",children:M}),(0,N.jsx)("div",{className:"w-full h-40"})]})]})]})}}}]);
//# sourceMappingURL=3265.10fec4bb.chunk.js.map