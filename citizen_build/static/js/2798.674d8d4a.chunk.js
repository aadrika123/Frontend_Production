"use strict";(self.webpackChunkcitizen_landing=self.webpackChunkcitizen_landing||[]).push([[2798],{29710:function(e,t,n){n.d(t,{Z:function(){return v}});var o=n(70885),i=n(72791),l=n(61044),s=n(97948),a=n.n(s),d=n(55705),r=n(79139),c=n(23178),u=n(71507),m=n(70348),g=n(80184),x={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"gray",border:"none"}};a().setAppElement("#root");var p=function(e){var t,n,s,p,v,h,f,j,b,w,N,y,Z,S,k,C,A,P,_,D,I,R,F,E,H,L,O,T=" text-xs  text-gray-600",M=(0,c.Z)().api_postHoardingReuploadedDocument,U=(0,i.useState)(),V=(0,o.Z)(U,2),q=V[0],z=V[1],G=(0,i.useState)(""),B=(0,o.Z)(G,2),J=B[0],K=B[1],Q=(0,i.useState)(!1),W=(0,o.Z)(Q,2),X=W[0],Y=W[1],$=(0,i.useState)(),ee=(0,o.Z)($,2),te=ee[0],ne=ee[1],oe=function(e){K(e),Y(!0)},ie={image:"",id:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.id},le=(0,d.TA)({initialValues:ie,onSubmit:function(e){console.log("image file",e),z(e),l.ZP.post("".concat(M),e,(0,u.Z)()).then((function(e){console.log("re-uploaded document",e.data.data)})).catch((function(e){console.log("errorrr.... ",e)}))}}),se=function(e){le.setFieldValue("image",e);var t=new FileReader;t.onloadend=function(){K(t.result)},t.readAsDataURL(e),console.log("file checker ",J)};return console.log("reupload doc ",e.data),(0,g.jsxs)("div",{children:[(0,g.jsx)("form",{onSubmit:le.handleSubmit,onChange:function(e){var t=e.target.name,n=(e.target.value,e.target.files[0]);ne(n),console.log("image file",te),"image"==t&&se(n)},encType:"multipart/form-data",children:(0,g.jsxs)("div",{class:"grid grid-cols-1 md:grid-cols-5 lg:grid-cols-5 gap-1 ",children:[(0,g.jsx)("div",{className:"px-1",children:(0,g.jsx)("div",{className:"",children:(0,g.jsxs)("span",{className:"".concat(T),children:[" ",null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.doc_val," "]})})}),(0,g.jsx)("div",{className:"px-1",children:(0,g.jsxs)("div",{className:"flex items-center justify-center font-semibold text-sm",children:[(0,g.jsx)("div",{onClick:function(){return oe(J)},children:(0,g.jsx)("img",{src:"".concat(m.Z,"/").concat(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.doc_path),alt:"Preview Image",className:"".concat(T," w-8")})}),2==(null===e||void 0===e||null===(p=e.data)||void 0===p?void 0:p.verify_status)&&(0,g.jsx)("div",{children:null==(null===q||void 0===q||null===(v=q.image)||void 0===v?void 0:v.name)||void 0==(null===q||void 0===q||null===(h=q.image)||void 0===h?void 0:h.name)||""==(null===q||void 0===q||null===(f=q.image)||void 0===f?void 0:f.name)?(0,g.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/4194/4194756.png",alt:"Preview Image",className:"".concat(T," w-8")}):(0,g.jsx)(g.Fragment,{children:"pdf"==(null===q||void 0===q||null===(j=q.image)||void 0===j||null===(b=j.name)||void 0===b?void 0:b.split(".").pop())||"jpg"==(null===q||void 0===q||null===(w=q.image)||void 0===w||null===(N=w.name)||void 0===N?void 0:N.split(".").pop())||"jpeg"==(null===q||void 0===q||null===(y=q.image)||void 0===y||null===(Z=y.name)||void 0===Z?void 0:Z.split(".").pop())||"png"==(null===q||void 0===q||null===(S=q.image)||void 0===S||null===(k=S.name)||void 0===k?void 0:k.split(".").pop())?(0,g.jsxs)("div",{onClick:function(){return oe(J)},children:["pdf"==(null===q||void 0===q||null===(C=q.image)||void 0===C||null===(A=C.name)||void 0===A?void 0:A.split(".").pop())&&(0,g.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/3997/3997593.png",alt:"Preview Image",className:"".concat(T," w-8")}),"jpg"==(null===q||void 0===q||null===(P=q.image)||void 0===P||null===(_=P.name)||void 0===_?void 0:_.split(".").pop())&&(0,g.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/5719/5719824.png",alt:"Preview Image",className:"".concat(T," w-8")}),"jpeg"==(null===q||void 0===q||null===(D=q.image)||void 0===D||null===(I=D.name)||void 0===I?void 0:I.split(".").pop())&&(0,g.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/5719/5719824.png",alt:"Preview Image",className:"".concat(T," w-8")}),"png"==(null===q||void 0===q||null===(R=q.image)||void 0===R||null===(F=R.name)||void 0===F?void 0:F.split(".").pop())&&(0,g.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/5719/5719894.png",alt:"Preview Image",className:"".concat(T," w-8")})]}):(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(r.Tooltip,{className:"bg-gray-500 text-xs text-white",content:"Does not support this file extension",children:(0,g.jsx)("div",{children:(0,g.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/8316/8316660.png",className:"".concat(T," w-8 mx-auto")})})})})})})]})}),(0,g.jsx)("div",{className:"px-1",children:(0,g.jsx)("div",{className:"flex items-center justify-center font-semibold text-sm",children:(0,g.jsx)("div",{className:"form-group col-span-4 md:col-span-1 md:px-0",children:(0,g.jsx)("input",{type:"file",name:"image",className:"form-control block w-full px-3 py-1.5 mb-3 text-base md:text-xs font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none cursor-pointer shadow-md w-36",onChange:le.handleChange})})})}),(0,g.jsx)("div",{className:"px-1",children:(0,g.jsx)("div",{className:"flex items-center justify-center font-semibold text-sm",children:(0,g.jsxs)("div",{className:"form-group col-span-4 md:col-span-1 md:px-0 mt-2",children:[0==(null===e||void 0===e||null===(E=e.data)||void 0===E?void 0:E.verify_status)&&(0,g.jsx)("h1",{className:"bg-amber-200 text-center  w-28 text-xs rounded-full text-amber-800 shadow-md",children:"Pending"}),1==(null===e||void 0===e||null===(H=e.data)||void 0===H?void 0:H.verify_status)&&(0,g.jsx)("h1",{className:"bg-green-200 text-center w-28 text-xs rounded-full text-green-800 shadow-md",children:"Verified"}),2==(null===e||void 0===e||null===(L=e.data)||void 0===L?void 0:L.verify_status)&&(0,g.jsx)("h1",{className:"bg-red-200 text-center w-28 text-xs rounded-full text-red-800 shadow-md ",children:"Rejected"})]})})}),(0,g.jsx)("div",{className:"px-1",children:(0,g.jsx)("div",{className:"flex items-center justify-center font-semibold text-sm mt-2",children:2==(null===e||void 0===e||null===(O=e.data)||void 0===O?void 0:O.verify_status)?(0,g.jsx)("div",{className:"form-group col-span-4 md:col-span-1 md:px-0",children:null==(null===q||void 0===q?void 0:q.image)||void 0==(null===q||void 0===q?void 0:q.image)||""==(null===q||void 0===q?void 0:q.image)?(0,g.jsx)("button",{type:"submit",className:"py-0 px-2 text-[0.7rem] inline-block text-center  rounded leading-5 text-gray-100 bg-indigo-500 border border-indigo-500 hover:text-white hover:bg-indigo-600 hover:ring-0 hover:border-indigo-600 focus:bg-indigo-600 focus:border-indigo-600 focus:outline-none focus:ring-0",children:(0,g.jsx)("span",{className:"text-xs",children:"upload"})}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("p",{className:"text-xs text-teal-500 font-bold font-BreeSerif",children:" Uploaded..."}),(0,g.jsx)("button",{type:"submit",className:"py-0 px-2 text-[0.7rem] inline-block text-center  rounded leading-5 text-gray-100 bg-indigo-500 border border-indigo-500 hover:text-white hover:bg-indigo-600 hover:ring-0 hover:border-indigo-600 focus:bg-indigo-600 focus:border-indigo-600 focus:outline-none focus:ring-0",children:(0,g.jsx)("span",{className:"text-xs",children:"re-upload"})})]})}):(0,g.jsx)("button",{type:"submit",className:"py-0 px-2 text-[0.7rem] inline-block text-center  rounded leading-5 text-gray-100 bg-green-500 border border-green-500 hover:text-white focus:outline-none focus:ring-0",disabled:!0,children:(0,g.jsx)("span",{className:"text-xs",children:"uploaded"})})})})]})}),(0,g.jsx)(a(),{isOpen:X,onAfterOpen:function(){},onRequestClose:function(){return Y(!1)},style:x,contentLabel:"Example Modal",children:(0,g.jsx)("div",{class:" rounded-lg shadow-xl border-2 border-gray-50 mx-auto px-0",style:{width:"40vw",height:"80vh"},children:(0,g.jsx)("iframe",{className:"w-full h-full",src:J,frameborder:"1",children:(0,g.jsx)("img",{className:"",src:J})})})})]})};var v=function(e){var t=(0,c.Z)().api_getHoardingReuploadDoc,n=(0,i.useState)(),s=(0,o.Z)(n,2),a=s[0],d=s[1];(0,i.useEffect)((function(){r()}),[]);var r=function(){var n={applicationId:null===e||void 0===e?void 0:e.data};l.ZP.post("".concat(t),n,(0,u.Z)()).then((function(e){console.log("re-uploaded document list",e.data.data),d(e.data.data)})).catch((function(e){console.log("errorrr.... ",e)}))};return console.log("application id",e.data),console.log("workflow id 1",e.workflowId),(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("div",{className:" top-4 ml-4 ",children:(0,g.jsxs)("div",{className:" grid grid-cols-1 md:grid-cols-12 lg:grid-cols-12 gap-4 container mx-auto pb-8 p-2 mt-12",children:[(0,g.jsx)("div",{className:"col-span-12",children:(0,g.jsx)("h1",{className:"text-xl",children:"Upload Rejected Document"})}),(0,g.jsx)("div",{className:"col-span-12 border border-dashed border-violet-800 ",children:(0,g.jsxs)("div",{className:"p-1",children:[(0,g.jsxs)("div",{class:"grid grid-cols-1 md:grid-cols-5 lg:grid-cols-5 gap-1 p-1 bg-white",children:[(0,g.jsx)("div",{children:(0,g.jsx)("h1",{className:"text-left  text-lg ml-12 text-gray-600 font-sans font-semibold ",children:"Document"})}),(0,g.jsx)("div",{children:(0,g.jsx)("h1",{className:"text-center text-lg ml-4 text-gray-600 font-sans font-semibold",children:"Preview"})}),(0,g.jsx)("div",{children:(0,g.jsx)("h1",{className:"text-center text-lg ml-4 text-gray-600 font-sans font-semibold",children:"Upload"})}),(0,g.jsx)("div",{children:(0,g.jsx)("h1",{className:"text-center text-lg ml-4 text-gray-600 font-sans font-semibold",children:"Status"})}),(0,g.jsx)("div",{children:(0,g.jsx)("h1",{className:"text-center text-lg ml-4 text-gray-600 font-sans font-semibold",children:"Action"})})]}),(0,g.jsx)("div",{className:"mt-2",children:null===a||void 0===a?void 0:a.map((function(e,t){return(0,g.jsx)(p,{data:e,mykey:t})}))})]})})]})})})}},22798:function(e,t,n){n.r(t);var o=n(70885),i=n(72791),l=(n(83757),n(61044)),s=n(97948),a=n.n(s),d=n(70894),r=(n(60285),n(48503),n(7058),n(23178)),c=n(71507),u=n(800),m=(n(99554),n(29710)),g=n(40399),x=n(64491),p=n(25229),v=n(80184),h={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"white",border:"none"}};a().setAppElement("#root"),t.default=function(e){var t=(0,i.useState)(!1),n=(0,o.Z)(t,2),s=(n[0],n[1],(0,i.useState)(!1)),f=(0,o.Z)(s,2),j=(f[0],f[1],(0,r.Z)().api_getHoardingPendingApplicationList),b=(0,i.useState)(),w=(0,o.Z)(b,2),N=w[0],y=w[1],Z=(0,i.useState)(),S=(0,o.Z)(Z,2),k=S[0],C=S[1],A=(0,i.useState)(),P=(0,o.Z)(A,2),_=P[0],D=P[1],I=(0,i.useState)(!1),R=(0,o.Z)(I,2),F=(R[0],R[1]),E=(0,i.useState)(!1),H=(0,o.Z)(E,2),L=H[0],O=H[1],T=(0,i.useState)(!1),M=(0,o.Z)(T,2),U=M[0],V=M[1],q=(0,i.useState)(!1),z=(0,o.Z)(q,2),G=z[0],B=z[1],J=(0,i.useState)(!1),K=(0,o.Z)(J,2),Q=K[0],W=K[1],X=(0,i.useState)(!1),Y=(0,o.Z)(X,2),$=Y[0],ee=Y[1],te=function(){return W(!1)},ne=function(){return ee(!1)},oe=(0,i.useState)(),ie=(0,o.Z)(oe,2),le=(ie[0],ie[1],[{Header:"#",Cell:function(e){var t=e.row;return(0,v.jsx)("div",{className:"pr-2",children:t.index+1})}},{Header:"Application No",accessor:"application_no"},{Header:"Apply Date.",accessor:"application_date"},{Header:"Action",accessor:"id",Cell:function(e){var t=e.cell;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("button",{onClick:function(){return se(t.row.values.id,"Active")},className:"bg-indigo-500 text-xs px-3 py-1 rounded leading-5 shadow-lg hover:shadow-xl hover:bg-indigo-700 \r hover:text-white text-white",children:"View"}),0==t.row.original.doc_upload_status&&(0,v.jsx)("button",{onClick:function(){return ae(t.row.values.id)},className:"bg-indigo-500 text-xs ml-4 px-3 py-1 rounded leading-5 shadow-lg hover:shadow-xl hover:bg-indigo-700\r hover:text-white text-white",children:"upload Document"})]})}}]),se=function(e,t){console.log("..............application id..............",e),console.log("..............application type..............",t),D(e),C(t),W(!0)},ae=function(e){console.log("..............application id..............",e),D(e),ee(!0)};return(0,i.useEffect)((function(){B(!1),V(!0),l.ZP.post(j,{},(0,c.Z)()).then((function(e){console.log("res",e.data),e.data.status&&(y(e.data.data),O(!0),V(!1))})).catch((function(e){console.log(e),B(!0),V(!1)}))}),[]),U?(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(g.Z,{})}):G?(0,v.jsx)(x.Z,{children:(0,v.jsx)(p.Z,{title:"Server is busy",desc:"Server is too busy to respond. Please try again later.",buttonText:"View Dashboard",buttonUrl:"/propertyDashboard"})}):(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("div",{className:"container bg-white text-gray-600 h-screen mx-auto mt-16",children:(0,v.jsxs)("div",{children:[(0,v.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-12 lg:grid-cols-12 gap-4 container mx-auto pt-4 ",children:(0,v.jsx)("div",{className:"col-span-12 p-2",children:(0,v.jsxs)("div",{className:"flex flex-row bg-white mb-4 rounded leading-5 shadow-md shadow-violet-100 ",children:[(0,v.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/3288/3288006.png",className:"h-10 ml-3 mt-2"}),(0,v.jsx)("h1",{className:"text-xl text-gray-700 font-semibold p-4",children:"HOARDING PENDING APPLICATIONS"})]})})}),(0,v.jsx)("div",{className:"grid grid-cols-1 p-2",children:L&&(0,v.jsx)(u.Z,{assessmentType:!1,columns:le,dataList:null===N||void 0===N?void 0:N.data})}),(0,v.jsxs)("div",{className:"grid grid-cols-1",children:[(0,v.jsx)(a(),{isOpen:Q,onAfterOpen:function(){},onRequestClose:te,style:h,contentLabel:"Example Modal",children:(0,v.jsx)("div",{class:" rounded-lg shadow-xl border-2 border-gray-50 mx-auto px-0 ",style:{width:"80vw",height:"100%"},children:(0,v.jsx)("div",{className:"h-[44rem] bg-white overflow-y-auto",children:(0,v.jsx)(d.Z,{data:_,applicationType:k,showLoader:function(e){F(e)},closeModal:te})})})}),(0,v.jsx)(a(),{isOpen:$,onAfterOpen:function(){},onRequestClose:ne,style:h,contentLabel:"Example Modal",children:(0,v.jsx)("div",{class:"mx-auto px-0 overflow-y-auto",style:{width:"70vw",height:"100%"},children:(0,v.jsx)("div",{className:"h-[44rem] bg-violet-50 overflow-y-auto ",children:(0,v.jsx)(m.Z,{data:_,closeModal:ne})})})})]})]})})})}}}]);
//# sourceMappingURL=2798.674d8d4a.chunk.js.map