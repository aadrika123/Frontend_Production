"use strict";(self.webpackChunkcitizen_landing=self.webpackChunkcitizen_landing||[]).push([[3265,6645],{80915:function(e,t,o){var s=o(72791),n=o(5055);t.Z=function(e){var t=e.title,o=e.status,l=s.useContext(n.n),r=l.settitleText,i=l.settitleStatus;(0,s.useEffect)((function(){r(t),i(o)}),[])}},76645:function(e,t,o){o.r(t);var s=o(4942),n=o(1413),l=o(70885),r=o(72791),i=o(57689),a=o(99008),d=o(61044),c=o(5055),u=o(39723),x=o(64491),h=o(25229),f=o(80184);t.default=function(e){var t,o=(0,r.useState)(!1),m=(0,l.Z)(o,2),b=m[0],p=m[1],v=(0,r.useState)(""),g=(0,l.Z)(v,2),j=(g[0],g[1],(0,a.Z)().api_verifyMobileOtp),y=(0,r.useState)(!1),N=(0,l.Z)(y,2),w=N[0],Z=N[1],S=(0,r.useContext)(c.n).notify,k=(0,r.useState)(!1),P=(0,l.Z)(k,2),C=P[0],O=P[1],D=(0,r.useState)(""),_=(0,l.Z)(D,2),L=_[0],T=_[1],I=(0,r.useState)(60),B=(0,l.Z)(I,2),M=B[0],R=B[1],E=(0,r.useState)({first:"",second:"",third:"",fourth:"",fifth:"",sixth:""}),F=(0,l.Z)(E,2),A=F[0],U=F[1],H=(0,r.useRef)(),K=(0,r.useRef)(),V=(0,r.useRef)(),W=(0,r.useRef)(),q=(0,r.useRef)(),z=(0,r.useRef)(),G=(0,i.s0)(),Y=(0,r.useState)("first"),J=(0,l.Z)(Y,2),Q=J[0],X=J[1],$=function(e,t){T("");var o=(0,n.Z)((0,n.Z)({},A),{},(0,s.Z)({},t,e.target.value));if(U((0,n.Z)((0,n.Z)({},A),{},(0,s.Z)({},t,e.target.value))),1===e.target.value.length)switch(t){case"first":K.current.focus(),X("second");break;case"second":V.current.focus(),X("third");break;case"third":W.current.focus(),X("fourth");break;case"fourth":q.current.focus(),X("fifth");break;case"fifth":z.current.focus(),X("sixth");break;case"sixth":X("sixth")}te(o)},ee=function(e){switch(e){case"second":H.current.focus(),U((0,n.Z)((0,n.Z)({},A),{},{second:""})),X("first");break;case"third":K.current.focus(),U((0,n.Z)((0,n.Z)({},A),{},{third:""})),X("second");break;case"fourth":V.current.focus(),U((0,n.Z)((0,n.Z)({},A),{},{fourth:""})),X("third");break;case"fifth":W.current.focus(),U((0,n.Z)((0,n.Z)({},A),{},{fifth:""})),X("fouth");break;case"sixth":q.current.focus(),U((0,n.Z)((0,n.Z)({},A),{},{sixth:""})),X("fifth")}},te=function(e){console.table(e),""!=e.first&&""!=e.second&&""!=e.third&&""!=e.fourth&&""!=e.fifth&&""!=e.sixth?O(!0):O(!1)},oe=60,se=function(){t=setInterval((function(){R((function(e){return e-1})),0==(oe-=1)&&(p(!0),console.log("inside static stop..."),clearInterval(t))}),1e3)};(0,r.useEffect)((function(){se()}),[]);var ne=(0,r.useState)(!1),le=(0,l.Z)(ne,2),re=le[0],ie=le[1];return re?(0,f.jsx)(x.Z,{children:(0,f.jsx)(h.Z,{title:"Server is busy",desc:"Server is too busy to respond. Please try again later.",buttonText:"View Dashboard",buttonUrl:"/propertyDashboard"})}):(0,f.jsxs)(f.Fragment,{children:[w&&(0,f.jsx)(u.Z,{}),(0,f.jsx)(x.Z,{children:(0,f.jsx)("div",{class:"",children:(0,f.jsx)("div",{class:"container mx-auto",children:(0,f.jsx)("div",{class:"max-w-sm mx-auto md:max-w-lg",children:(0,f.jsxs)("div",{class:"w-full px-2 md:px-0",children:[(0,f.jsxs)("div",{className:"w-full text-center py-2  bg-gray-200 text-black relative",children:[null===e||void 0===e?void 0:e.headTitle,(0,f.jsx)("button",{onClick:null===e||void 0===e?void 0:e.closeOtpModal,type:"button",class:"absolute top-1 right-6 bg-transparent bg-gray-200 text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center shadow-sm  hover:bg-red-200 hover:border-none",children:(0,f.jsx)("svg",{class:"w-5 h-5",fill:"currentColor",children:(0,f.jsx)("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})})})]}),(0,f.jsxs)("div",{class:"bg-white py-20 px-6 md:py-20 md:px-20 w-full md:w-auto rounded text-center shadow-xl relative",children:[(0,f.jsx)("div",{class:"text-2xl font-bold px-2",children:"OTP Verification"}),(0,f.jsx)("div",{class:"flex flex-col mt-4 text-center",children:(0,f.jsx)("span",{className:"text-center text-red-400",children:L})}),(0,f.jsxs)("div",{class:"flex flex-col mt-4",children:[(0,f.jsx)("span",{children:"Enter the OTP you received at"}),(0,f.jsxs)("span",{class:"font-bold",children:["+91 ",null===e||void 0===e?void 0:e.verifedMobileNo]})]}),(0,f.jsxs)("div",{id:"otp",class:"flex flex-row justify-center text-center px-2 mt-5",children:[(0,f.jsx)("input",{ref:H,type:"text",min:0,value:A.first,maxLength:1,onChange:function(e){return $(e,"first")},onKeyDown:function(e){return"Backspace"===e.key&&ee("first")},className:"".concat("first"===Q?"active":""," m-2 border h-10 w-10 text-center form-control rounded")}),(0,f.jsx)("input",{ref:K,type:"text",min:0,value:A.second,maxLength:1,onChange:function(e){return $(e,"second")},onKeyDown:function(e){return"Backspace"===e.key&&ee("second")},className:"".concat("second"===Q?"active":""," m-2 border h-10 w-10 text-center form-control rounded")}),(0,f.jsx)("input",{ref:V,type:"text",min:0,value:A.third,maxLength:1,onChange:function(e){return $(e,"third")},onKeyDown:function(e){return"Backspace"===e.key&&ee("third")},className:"".concat("third"===Q?"active":""," m-2 border h-10 w-10 text-center form-control rounded")}),(0,f.jsx)("input",{ref:W,type:"text",min:0,value:A.fourth,maxLength:1,onChange:function(e){return $(e,"fourth")},onKeyDown:function(e){return"Backspace"===e.key&&ee("fourth")},className:"".concat("fourth"===Q?"active":""," m-2 border h-10 w-10 text-center form-control rounded")}),(0,f.jsx)("input",{ref:q,type:"text",min:0,value:A.fifth,maxLength:1,onChange:function(e){return $(e,"fifth")},onKeyDown:function(e){return"Backspace"===e.key&&ee("fifth")},className:"".concat("fifth"===Q?"active":""," m-2 border h-10 w-10 text-center form-control rounded")}),(0,f.jsx)("input",{ref:z,type:"text",min:0,value:A.sixth,maxLength:1,onChange:function(e){return $(e,"sixth")},onKeyDown:function(e){return"Backspace"===e.key&&ee("sixth")},className:"".concat("sixth"===Q?"active":""," m-2 border h-10 w-10 text-center form-control rounded")})]}),(0,f.jsxs)("div",{class:"flex justify-center text-center mt-5",children:[!b&&(0,f.jsx)("div",{className:"w-10 h-10 bg-indigo-500 flex justify-center items-center rounded-full text-white",children:M}),(0,f.jsxs)("button",{disabled:!b,onClick:function(){null===e||void 0===e||e.reSendOtp(),p(!1),R(60),oe=60,se()},class:"ml-4 flex items-center ".concat(b?"text-indigo-500 hover:text-blue-900 cursor-pointer":"text-gray-400 hover:text-none cursor-default"),children:[(0,f.jsx)("span",{class:"font-bold",children:"Resend OTP"}),(0,f.jsx)("i",{class:"bx bx-caret-right ml-1"})]})]}),(0,f.jsxs)("div",{class:"w-full text-center mt-5",children:[C&&(0,f.jsx)("button",{type:"button",onClick:function(){ie(!1),Z(!0);var t={otp:"".concat(A.first).concat(A.second).concat(A.third).concat(A.fourth).concat(A.fifth).concat(A.sixth),mobileNo:null===e||void 0===e?void 0:e.verifedMobileNo};console.log("before verify otp...",t),d.ZP.post(j,t).then((function(t){var o,s;(console.log("otp verify response",null===t||void 0===t?void 0:t.data),null!==t&&void 0!==t&&null!==(o=t.data)&&void 0!==o&&o.status)?null===e||void 0===e||e.callback():(S("Wrong OTP, Please enter correct OTP","error"),T(null===t||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message));Z(!1)})).catch((function(e){console.log("otp verify error",e),S("Something went wrong...","error"),T("Something went wrong !"),ie(!0),Z(!1)}))},className:"w-full  py-2.5 bg-indigo-600 text-white font-medium text-xs leading-tight  rounded shadow-md hover:bg-indigo-700 hover:shadow-lg focus:bg-indigo-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-indigo-800 active:shadow-lg transition duration-150 ease-in-out",children:"Submit"}),!C&&(0,f.jsx)("button",{type:"button",className:"w-full  py-2.5 bg-gray-400 text-white font-medium text-xs leading-tight  rounded shadow-md  hover:shadow-lg  focus:shadow-lg focus:outline-none focus:ring-0  transition duration-150 ease-in-out cursor-default ",children:"Submit"})]}),0!=(null===e||void 0===e?void 0:e.bottomNaviation)&&(0,f.jsxs)("div",{className:"text-left w-full mt-10 flex justify-center items-center",children:[(0,f.jsx)("div",{className:"flex-1",children:(0,f.jsx)("span",{onClick:function(){return G("/")},className:"text-indigo-500 font-semibold hover:bg-white px-3 py-1 cursor-pointer ",children:"Home"})}),(0,f.jsx)("div",{className:"flex-1",children:(0,f.jsx)("span",{onClick:function(){return G("/login")},className:"text-indigo-500 font-semibold hover:bg-white px-3 py-1 cursor-pointer float-right",children:"Login "})})]})]})]})})})})})]})}},94225:function(e,t,o){o.r(t),o.d(t,{default:function(){return N}});var s=o(1413),n=o(70885),l=o(72791),r=o(55705),i=o(81724),a=o(17425),d=o(61044),c=o(57689),u=o(39723),x=o(5055),h=o(60786),f=o(80166),m=o(76645),b=o(99008),p=o(80915),v=o(40399),g=o(64491),j=o(25229),y=o(80184);var N=function(){var e=(0,l.useState)(!0),t=(0,n.Z)(e,2),o=t[0],N=t[1],w=(0,l.useState)(),Z=(0,n.Z)(w,2),S=Z[0],k=Z[1],P=(0,l.useState)(!1),C=(0,n.Z)(P,2),O=C[0],D=C[1],_=(0,l.useState)(null),L=(0,n.Z)(_,2),T=L[0],I=L[1],B=(0,l.useState)(null),M=(0,n.Z)(B,2),R=(M[0],M[1]),E=(0,l.useState)(""),F=(0,n.Z)(E,2),A=F[0],U=F[1],H=(0,l.useState)(),K=(0,n.Z)(H,2),V=K[0],W=K[1],q=(0,l.useContext)(x.n).notify,z=(0,l.useState)(!1),G=(0,n.Z)(z,2),Y=G[0],J=G[1],Q=(0,l.useState)(null),X=(0,n.Z)(Q,2),$=X[0],ee=X[1],te=(0,l.useState)(!1),oe=(0,n.Z)(te,2),se=oe[0],ne=oe[1];(0,p.Z)("Search Property");var le=(0,f.Z)().api_searchDirectHolding,re=(0,b.Z)(),ie=re.api_getAllUlb,ae=re.api_sendMobileOtp,de=(0,c.s0)(),ce=i.Ry({holdingNo:i.Z_().required("This is a required field !"),ulbId:i.Z_().required("Select ULB")}),ue=(0,r.TA)({initialValues:{holdingNo:"",ulbId:""},onSubmit:function(e){console.log("at submit form.....",e),function(e){ne(!1),U(""),D(!1),N(!0);var t={holdingNo:null===e||void 0===e?void 0:e.holdingNo,ulbId:null===e||void 0===e?void 0:e.ulbId};console.log("before fetch holding details....",t),d.ZP.post(le,t).then((function(e){var o,s;console.log("search property list",null===e||void 0===e?void 0:e.data),null!==e&&void 0!==e&&null!==(o=e.data)&&void 0!==o&&o.status?(k(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.data),D(!0),U(""),R(null===t||void 0===t?void 0:t.ulbId)):(q("This holding no does not exits!","error"),U("Data not found. Please enter a valid holding no. or related ULB")),N(!1)})).catch((function(e){console.log("Error while fetching Filter Data",e),q("Something went wrong!!","error"),U("Network problem."),ne(!0),N(!1),D(!1)}))}(e)},validationSchema:ce}),xe=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;console.log("passed mobile no....."),N(!0),e=null==t?{mobileNo:$}:{mobileNo:t},console.log("before send otp. of direct search..",e),d.ZP.post(ae,e).then((function(e){var t,o;(console.log("otp send response",null===e||void 0===e?void 0:e.data),null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.status)?(J(!0),q("OTP is send to your mobile no.","success")):q(null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.message,"error");N(!1)})).catch((function(e){console.log("error otp send",e),ne(!0),N(!1)}))};return(0,l.useEffect)((function(){ne(!1),N(!0),d.ZP.get(ie,{timeout:6e4}).then((function(e){var t,o;console.log("ulb list. at..",null===e||void 0===e?void 0:e.data),null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.status?W(null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.data):ne(!0),N(!1)})).catch((function(e){console.log("ulb list error.... ",e),ne(!0),N(!1)}))}),[]),o?(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(v.Z,{})}):se?(0,y.jsx)(g.Z,{children:(0,y.jsx)(j.Z,{title:"Server is busy",desc:"Server is too busy to respond. Please try again later.",buttonText:"View Dashboard",buttonUrl:"/propertyDashboard"})}):Y?(0,y.jsx)(m.default,{closeOtpModal:function(){J(!1)},bottomNaviation:!0,headTitle:"Pay Property Tax",reSendOtp:xe,verifedMobileNo:$,callback:function(){q("Mobile no. has been verified successfully !","success"),de("/viewDemandHoldingPropertyDirect/".concat(T))},setotpCardStatus:J}):Y?void 0:(0,y.jsxs)(y.Fragment,{children:[o&&(0,y.jsx)(u.Z,{}),(0,y.jsxs)("div",{className:"px-2 md:px-10",children:[(0,y.jsxs)("div",{className:"border shadow-xl bg-white mt-6",children:[(0,y.jsx)("div",{className:"flex ml-5 mt-2 ",children:(0,y.jsx)("p",{className:"font-semibold text-3xl ml-4 mt-1 text-gray-600",children:"Search Property"})}),(0,y.jsx)("form",{onSubmit:ue.handleSubmit,onChange:function(e){var t=e.target.name,o=e.target.value;"holdingNo"==t&&ue.setFieldValue("holdingNo",(0,h.wY)(o,ue.values.holdingNo,16))},children:(0,y.jsxs)("div",{className:"flex flex-col md:flex-row justify-center my-5 m-10 ",children:[(0,y.jsxs)("div",{className:"form-group col-span-12 mb-4 md:px-10",children:[(0,y.jsxs)("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["ULB",(0,y.jsx)("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),(0,y.jsxs)("select",(0,s.Z)((0,s.Z)({id:"basic_details_1"},ue.getFieldProps("ulbId")),{},{className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none shadow-md cursor-pointer ",children:[(0,y.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select"}),null===V||void 0===V?void 0:V.map((function(e){return(0,y.jsx)("option",{value:e.id,children:e.ulb_name})}))]})),(0,y.jsx)("span",{className:"text-red-600 absolute text-xs",children:ue.touched.ulbId&&ue.errors.ulbId?ue.errors.ulbId:null})]}),(0,y.jsxs)("div",{children:[(0,y.jsxs)("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Holding No.",(0,y.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,y.jsx)("input",(0,s.Z)((0,s.Z)({type:"text"},ue.getFieldProps("holdingNo")),{},{className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"})),(0,y.jsx)("p",{className:"text-red-500 text-xs",children:ue.touched.holdingNo&&ue.errors.holdingNo?ue.errors.holdingNo:null})]}),(0,y.jsx)("div",{className:"mt-4 md:px-10",children:(0,y.jsx)("button",{type:"submit",className:"w-full border border-indigo-500 bg-indigo-600 hover:bg-indigo-500 text-white hover:text-black shadow-lg rounded-sm text-base font-semibold px-5 m-3 py-1",children:(0,y.jsxs)("p",{className:"flex text-center justify-center items-center",children:[(0,y.jsx)(a.k36,{className:"inline mr-2"}),"Search record"]})})})]})})]}),(0,y.jsxs)("div",{className:"mt-10",children:[O&&0!=(null===S||void 0===S?void 0:S.length)&&(0,y.jsxs)("div",{className:"col-span-10 bg-gray-50 p-4 overflow-x-scroll",children:[(0,y.jsx)("div",{className:"flex flex-row",children:(0,y.jsx)("h1",{className:"px-1 font-semibold font-serif text-2xl mt-4",children:"All Transcations"})}),(0,y.jsxs)("table",{className:"min-w-full leading-normal mt-10",children:[(0,y.jsx)("thead",{className:"font-bold text-left text-sm bg-indigo-50 text-gray-600",children:(0,y.jsxs)("tr",{children:[(0,y.jsx)("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"#"}),(0,y.jsx)("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"ACTION"}),(0,y.jsx)("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"OWNER'S NAME"}),(0,y.jsx)("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"HOLDING NO"}),(0,y.jsx)("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"NEW HOLDING NO"}),(0,y.jsx)("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"MOBILE NO"}),(0,y.jsx)("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"WARD NO."}),(0,y.jsx)("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"ULB"}),(0,y.jsx)("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"ADDRESS"})]})}),(0,y.jsx)("tbody",{className:"text-sm",children:(0,y.jsx)(y.Fragment,{children:null===S||void 0===S?void 0:S.map((function(e){return(0,y.jsxs)("tr",{className:"bg-white shadow-lg border-b border-gray-200",children:[(0,y.jsx)("td",{className:"px-2 py-2 text-sm text-left",children:"1"}),(0,y.jsxs)("td",{className:"px-2 py-2 text-sm text-left",children:[" ",(0,y.jsx)("button",{onClick:function(){I(e.id),ee(null===e||void 0===e?void 0:e.mobile_no),xe(null===e||void 0===e?void 0:e.mobile_no)},className:"bg-sky-200 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-sky-800 hover:text-white text-black",children:"View"})]}),(0,y.jsx)("td",{className:"px-2 py-2 text-sm text-left",children:(0,h.jP)(null===e||void 0===e?void 0:e.owner_name)}),(0,y.jsx)("td",{className:"px-2 py-2 text-sm text-left",children:(0,h.jP)(null===e||void 0===e?void 0:e.holding_no)}),(0,y.jsx)("td",{className:"px-2 py-2 text-sm text-left",children:(0,h.jP)(null===e||void 0===e?void 0:e.new_holding_no)}),(0,y.jsx)("td",{className:"px-2 py-2 text-sm text-left",children:(0,h.jP)(null===e||void 0===e?void 0:e.mobile_no)}),(0,y.jsx)("td",{className:"px-2 py-2 text-sm text-left",children:(0,h.jP)(null===e||void 0===e?void 0:e.ward_name)}),(0,y.jsx)("td",{className:"px-2 py-2 text-sm text-left",children:(0,h.jP)(null===e||void 0===e?void 0:e.ulb)}),(0,y.jsx)("td",{className:"px-2 py-2 text-sm text-left",children:(0,h.jP)(null===e||void 0===e?void 0:e.prop_address)})]})}))})})]})]}),(0,y.jsx)("div",{className:"text-xl font-semibold text-red-400 text-center",children:A}),(0,y.jsx)("div",{className:"w-full h-40"})]})]})]})}}}]);
//# sourceMappingURL=3265.0ac6a542.chunk.js.map