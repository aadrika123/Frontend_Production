import{j as a}from"./mui-8e804a04.js";import{a as ce,r as o,u as re}from"./router-87042356.js";import{M as K}from"./index-4e794517.js";import{p as pe,n as u,A as E,Q as G,B as me,u as ge}from"./index-81224620.js";import"./RazorpayPaymentScreen-9413a000.js";import{U as he}from"./UseRazorpay-62e4000a.js";import"./CommonModal-340f9ebb.js";import{S as xe}from"./ServerErrorCard-fb2fc9ca.js";import{F as ue}from"./index.esm-27affbc7.js";import{r as ve}from"./materialTailwind-20489b7b.js";const Pe=window.location.host;function Q(){let e=pe;return{api_generatedreceipt:`${e}/api/payment/razorpay-webhook`,api_getTradeLicenseByHolding:`${e}/api/advertisement/self-advert/get-license-by-holding-no`,api_getTradeLicenseByUserId:`${e}/api/advertisement/self-advert/get-license-by-userid`,api_getTradeLicenseDetails:`${e}/api/advertisement/self-advert/get-details-by-license-no`,api_getUlbList:`${e}/api/get-all-ulb`,api_getWardList:`${e}/api/workflow/getWardByUlb`,api_getAdvertMasterData:`${e}/api/advert/crud/param-strings`,api_getSelfAdvertDocList:`${e}/api/advert/crud/v1/list-document`,verifyPaymentStatus:`${e}/api/payment/verify-payment-status`,getTypologyList:`${e}/api/advert/hording/list-typology`,getHoardingCategory:`${e}/api/advert/hording/get-hording-category`,getPaymentsuccessDetails:`${e}/api/advert/get-payment-details`,getApprovalLetterDetails:`${e}/api/advert/get-approval-letter`,getAgencyDashboardGraphData:`${e}/api/advert/hording/agency-dashboard-graph`,api_getAdvertPaymentReceipt:`${e}/api/advert/get-payment-reciept`,api_getAdvtDataByHolding:`${e}/api/property/saf/get-prop-byholding`,api_getAllAdvrtList:`${e}/api/advert/search/list-all-advertisement-records`,api_getAllMarketList:`${e}/api/advert/search/list-all-market-records`,api_postSelfAdvertApplication:`${e}/api/advert/self/add-new`,api_getAppliedApplicationList:`${e}/api/advert/self/list-applied-applications`,api_getAppliedApplicationDetail:`${e}/api/advert/self/get-details-by-id `,api_getAppliedDocumentList:`${e}/api/advert/self/view-advert-document`,api_getApprovedApplicationList:`${e}/api/advert/self/list-approved`,api_getRejectedApplicationList:`${e}/api/advert/self/list-rejected`,api_getOrderIdForPayment:`${e}/api/advert/self/generate-payment-order-id`,api_getApplicationDetailForPayment:`${e}/api/advert/self/get-application-details-for-payment`,api_getAdvertisementCategory:`${e}/api/advert/self/list-self-advt-category`,api_getAdvertisementReuploadDoc:`${e}/api/advert/self/view-active-document`,api_postAdvertisementReuploadedDocument:`${e}/api/advert/self/reupload-document`,api_renewSelfAdvt_license:`${e}/api/advert/self/renewal-selfAdvt`,api_getApplicationDetailsToRenew:`${e}/api/advert/self/get-application-details-for-renew `,api_postMovableVehicleApplication:`${e}/api/advert/vehicle/add-new`,api_getMovableAppliedApplicationList:`${e}/api/advert/vehicle/list-applied-applications`,api_getMovableAppliedApplicationDetail:`${e}/api/advert/vehicle/get-details-by-id `,api_getMovableAppliedDocumentList:`${e}/api/advert/vehicle/view-vehicle-documents`,api_getMovableApprovedApplicationList:`${e}/api/advert/vehicle/list-approved`,api_getMovableRejectedApplicationList:`${e}/api/advert/vehicle/list-rejected`,api_getMovableVehicleOrderIdForPayment:`${e}/api/advert/vehicle/generate-payment-order-id`,api_getMovableVehicleApplicationDetailForPayment:`${e}/api/advert/vehicle/get-application-details-for-payment`,api_getMovableVehicleReuploadDoc:`${e}/api/advert/vehicle/view-active-document`,api_postMovableVehicleReuploadedDocument:`${e}/api/advert/vehicle/reupload-document`,api_renewMovableVehicle_license:`${e}/api/advert/vehicle/renewal-application`,api_getMovableApplicationDetailsToRenew:`${e}/api/advert/vehicle/get-application-details-for-renew`,api_postPrivateLandApplication:`${e}/api/advert/pvt-land/add-new	`,api_getPrivateLandAppliedApplicationList:`${e}/api/advert/pvt-land/list-applied-applications`,api_getPrivateLandAppliedApplicationDetail:`${e}/api/advert/pvt-land/get-details-by-id `,api_getPrivateLandAppliedDocumentList:`${e}/api/advert/pvt-land/view-pvt-land-documents`,api_getPrivateLandApprovedApplicationList:`${e}/api/advert/pvt-land/list-approved`,api_getPrivateLandRejectedApplicationList:`${e}/api/advert/pvt-land/list-rejected  `,api_getPrivateLandOrderIdForPayment:`${e}/api/advert/pvt-land/generate-payment-order-id`,api_getPrivateLandApplicationDetailForPayment:`${e}/api/advert/pvt-land/get-application-details-for-payment`,api_getPrivateLandReuploadDoc:`${e}/api/advert/pvt-land/view-active-document`,api_postPrivateLandReuploadedDocument:`${e}/api/advert/pvt-land/reupload-document`,api_renewPrivateLand_license:`${e}/api/advert/pvt-land/renewal-application`,api_getPrivateApplicationDetailsToRenew:`${e}/api/advert/pvt-land/get-application-details-for-renew `,api_postAgencyApplication:`${e}/api/advert/agency/add-new`,api_getAgencyApprovedApplicationList:`${e}/api/advert/agency/list-approved `,api_getAgencyRejectedApplicationList:`${e}/api/advert/agency/list-rejected `,api_getAgencyAppliedApplicationList:`${e}/api/advert/agency/list-applied-applications`,api_getAgencyApplicationFullDetail:`${e}/api/advert/agency/get-details-by-id`,api_getAgencyAppliedDocumentList:`${e}/api/advert/agency/view-agency-documents`,api_getAgencyOrderIdForPayment:`${e}/api/advert/agency/generate-payment-order-id `,api_getAgencyApplicationDetailForPayment:`${e}/api/advert/agency/get-application-details-for-payment`,api_postRedirectToAgencyDashboard:`${e}/api/advert/agency/is-agency`,api_getAgencyDashboardData:`${e}/api/advert/agency/get-agency-dashboard`,api_getAgencyDetails:`${e}/api/advert/agency/get-agency-details`,api_renew_license:`${e}/api/advert/agency/renewal-agency`,api_getAgencyReuploadDoc:`${e}/api/advert/agency/view-active-document`,api_postAgencyReuploadedDocument:`${e}/api/advert/agency/reupload-document`,api_checkEmailExistance:`${e}/api/advert/agency/is-email-available`,api_getDistrictList:`${e}/api/crud/district-mstrs`,api_postHoardingApplication:`${e}/api/advert/hording/add-new`,api_getHoardingPendingApplicationList:`${e}/api/advert/hording/list-applied-applications`,api_getHoardingApprovedApplicationList:`${e}/api/advert/hording/list-approved`,api_getHoardingRejectedApplicationList:`${e}/api/advert/hording/list-rejected`,api_getHoardingUnpaidApplicationList:`${e}/api/advert/hording/list-unpaid`,api_getHoardingTypologyList:`${e}/api/advert/hording/list-typology`,api_getHoardingApplicationFullDetail:`${e}/api/advert/hording/get-details-by-id`,api_getHoardingAppliedDocumentList:`${e}/api/advert/hording/view-hoarding-documents`,api_getHoardingOrderIdForPayment:`${e}/api/advert/hording/generate-payment-order-id`,api_getHoardingApplicationDetailForPayment:`${e}/api/advert/hording/get-application-details-for-payment`,api_getHoardingReuploadDoc:`${e}/api/advert/hording/view-active-document`,api_postHoardingReuploadedDocument:`${e}/api/advert/hording/reupload-document`,api_postHoardingRenewList:`${e}/api/advert/hording/get-renew-active-applications`,api_renewHoarding_license:`${e}/api/advert/hording/renewal-hording`,api_getHoardingApplicationDetailsToRenew:`${e}/api/advert/hording/get-hording-details-for-renew`,api_getHoardingArchivedList:`${e}/api/advert/hording/list-hording-archived`,api_getHoardingBlacklistedList:`${e}/api/advert/hording/list-hording-blacklist`,api_archivedApplication:`${e}/api/advert/hording/archived-hording `,api_blacklistedApplication:`${e}/api/advert/hording/blacklist-hording  `,api_postDharamshalaApplication:`${e}/api/market/dharamshala/add-new`,api_getDharamshalaAppliedApplicationList:`${e}/api/market/dharamshala/list-applied-applications`,api_getDharamshalaAppliedApplicationDetail:`${e}/api/market/dharamshala/get-details-by-id `,api_getDharamshalaAppliedDocumentList:`${e}/api/market/dharamshala/view-dharamshala-documents`,api_getDharamshalaApprovedApplicationList:`${e}/api/market/dharamshala/list-approved`,api_getDharamshalaRejectedApplicationList:`${e}/api/market/dharamshala/list-rejected`,api_getDharamshalaOrderIdForPayment:`${e}/api/market/dharamshala/generate-payment-order-id`,api_getDharamshalaApplicationDetailForPayment:`${e}/api/market/dharamshala/get-application-details-for-payment`,api_getDharamshalaReuploadDoc:`${e}/api/market/dharamshala/view-active-document`,api_postDharamshalaReuploadedDocument:`${e}/api/market/dharamshala/reupload-document`,api_renewDharamshala_license:`${e}/api/market/dharamshala/renew-application`,api_getDharamshalaApplicationDetailsToRenew:`${e}/api/market/dharamshala/get-renew-application-details`,api_postBanquetApplication:`${e}/api/market/bm-hall/add-new`,api_getBanquetAppliedApplicationList:`${e}/api/market/bm-hall/list-applied-applications`,api_getBanquetAppliedApplicationDetail:`${e}/api/market/bm-hall/get-details-by-id `,api_getBanquetAppliedDocumentList:`${e}/api/market/bm-hall/view-bm-hall-documents`,api_getBanquetApprovedApplicationList:`${e}/api/market/bm-hall/list-approved`,api_getBanquetRejectedApplicationList:`${e}/api/market/bm-hall/list-rejected`,api_getBanquetOrderIdForPayment:`${e}/api/market/bm-hall/generate-payment-order-id`,api_getBanquetApplicationDetailForPayment:`${e}/api/market/bm-hall/get-application-details-for-payment`,api_getBanquetReuploadDoc:`${e}/api/market/bm-hall/view-active-document`,api_postBanquetReuploadedDocument:`${e}/api/market/bm-hall/reupload-document`,api_renewBanquet_license:`${e}/api/market/bm-hall/renew-application`,api_getBanquetApplicationDetailsToRenew:`${e}/api/market/bm-hall/get-renew-application-details`,api_postHostelApplication:`${e}/api/market/hostel/add-new`,api_getHostelAppliedApplicationList:`${e}/api/market/hostel/list-applied-applications`,api_getHostelAppliedApplicationDetail:`${e}/api/market/hostel/get-details-by-id `,api_getHostelAppliedDocumentList:`${e}/api/market/hostel/view-hostel-documents`,api_getHostelApprovedApplicationList:`${e}/api/market/hostel/list-approved`,api_getHostelRejectedApplicationList:`${e}/api/market/hostel/list-rejected`,api_getHostelOrderIdForPayment:`${e}/api/market/hostel/generate-payment-order-id`,api_getHostelApplicationDetailForPayment:`${e}/api/market/hostel/get-application-details-for-payment`,api_getHostelReuploadDoc:`${e}/api/market/hostel/view-active-document`,api_postHostelReuploadedDocument:`${e}/api/market/hostel/reupload-document`,api_renewHostel_license:`${e}/api/market/hostel/renew-application`,api_getHostelApplicationDetailsToRenew:`${e}/api/market/hostel/get-renew-application-details`,api_postLodgeApplication:`${e}/api/market/lodge/add-new`,api_getLodgeAppliedApplicationList:`${e}/api/market/lodge/list-applied-applications`,api_getLodgeAppliedApplicationDetail:`${e}/api/market/lodge/get-details-by-id `,api_getLodgeAppliedDocumentList:`${e}/api/market/lodge/view-lodge-documents`,api_getLodgeApprovedApplicationList:`${e}/api/market/lodge/list-approved`,api_getLodgeRejectedApplicationList:`${e}/api/market/lodge/list-rejected`,api_getLodgeOrderIdForPayment:`${e}/api/market/lodge/generate-payment-order-id`,api_getLodgeApplicationDetailForPayment:`${e}/api/market/lodge/get-application-details-for-payment`,api_getLodgeReuploadDoc:`${e}/api/market/lodge/view-active-document`,api_postLodgeReuploadedDocument:`${e}/api/market/lodge/reupload-document`,api_renewLodge_license:`${e}/api/market/lodge/renew-application`,api_getLodgeApplicationDetailsToRenew:`${e}/api/market/lodge/get-renew-application-details`,api_getUlbWiseAgency:`${e}/api/water-tanker/list-ulb-wise-agency`,api_addBooking:`${e}/api/water-tanker/add-booking`,api_getWaterTankerMasterData:`${e}/api/water-tanker/master-data`,api_getTankerUserPaymentDetails:`${e}/api/water-tanker/get-payment-details-by-id`,api_cancelTanker:`${e}/api/water-tanker/cancel-booking`,api_locationList:`${e}/api/water-tanker/list-ulb-wise-location`,api_getTankerOrderIdForPayment:`${e}/api/water-tanker/generate-payment-order-id `,api_getWaterTankerPaymentDetails:`${e}/api/water-tanker/get-payment-details-by-pay-id`,api_getWaterTankerPaymentReceipt:`${e}/api/water-tanker/get-water-tanker-reciept`,api_getWaterTankerApplicationList:`${e}/api/water-tanker/list-applied-and-cancelled-application `,api_getWaterTankerFeedBack:`${e}/api/water-tanker/water-tank-feedback`,api_addSepticTank:`${e}/api/septic-tanker/add-booking`,api_getCapacityListForSepticTank:`${e}/api/septic-tanker/get-capacity-list-for-booking`,api_getBuildingTypeSepticTank:`${e}/api/septic-tanker/list-buliding-type`,api_getSepticTankDetailsById:`${e}/api/septic-tanker/get-application-details-by-id`,api_getSepticTankBookedList:`${e}/api/septic-tanker/get-applied-application`,api_getSepticTankCancelList:`${e}/api/septic-tanker/list-cancel-booking`,api_cancelSepticTank:`${e}/api/septic-tanker/cancel-booking`,api_locationListForSepticTank:`${e}/api/septic-tanker/list-ulb-wise-location`,api_getSepticTankOrderIdForPayment:`${e}/api/septic-tanker/generate-payment-order-id `,api_getSepticTankApplicationList:`${e}/api/septic-tanker/list-applied-and-cancelled-application `,api_getSepticTankPaymentDetails:`${e}/api/septic-tanker/get-payment-details-by-pay-id`,api_getSepticTankPaymentReceipt:`${e}/api/septic-tanker/get-septic-tanker-reciept`,api_getFeedBack:`${e}/api/septic-tanker/septic-tank-feedback`,api_getdetailsshowstatus:`${e}/api/water-tanker/get-booking-details-by-id`,api_getdetailsshowstatusseptictank:`${e}/api/septic-tanker/get-booking-details-by-id`}}function z(){return{headers:{Authorization:`Bearer ${window.localStorage.getItem("citizen_token")}`,Accept:"application/json","Content-Type":"multipart/form-data","API-KEY":"eff41ef6-d430-4887-aa55-9fcf46c72c99"}}}const fe={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"",border:"none"}};function Se(e){var S,h,q,_,T,j,V,D;const{handlePayment:d}=he(),[$,k]=ce.useState(!1),[L,R]=o.useState(!1),{api_getOrderIdForPayment:M,api_getMovableVehicleOrderIdForPayment:B,api_getPrivateLandOrderIdForPayment:H,api_getAgencyOrderIdForPayment:O,api_getBanquetOrderIdForPayment:g,api_getDharamshalaOrderIdForPayment:N,api_getHostelOrderIdForPayment:w,api_getLodgeOrderIdForPayment:n,api_generatedreceipt:C}=Q(),[y,i]=o.useState(),P=re();o.useEffect(()=>{e.openPaymentModal>0&&k(!0)},[e.openPaymentModal]),console.log("payment card details",(S=e==null?void 0:e.applicationDetails)==null?void 0:S.id),console.log("application type i payment modal",e==null?void 0:e.containApplicationType);function b(){}function m(){k(!1)}const U=async l=>{console.log("generateReceipt",l),console.log(l);let I={applicationId:l==null?void 0:l.applicationId,departmentId:l==null?void 0:l.departmentId,status:"",captured:"1",card_id:"",amount:l==null?void 0:l.amount,payment_method:"upi/netbanking",workflow_id:l==null?void 0:l.workflowId,user_id:l==null?void 0:l.userId,ulb_id:l==null?void 0:l.ulbId,payment_order_id:l==null?void 0:l.razorpay_order_id,payment_id:l==null?void 0:l.razorpay_payment_id,created_at:""};console.log("Receipt",l),E.post(C,I,z()).then(s=>{var A;console.log("genereted receipt",s),s.data.status==!0?(console.log("Oder ID Generated ++++dddddddddddddddddddddddd+++++",s.data),P(`/paymentScreen/${l==null?void 0:l.razorpay_payment_id}/${(A=e==null?void 0:e.applicationDetails)==null?void 0:A.workflow_id}`)):G.error(s.data.message,"error")}).catch(s=>{console.log("Error genrating order id",s),G.error(s.message,"error")})},F=l=>{R(!0),console.log("payment id on click pay",l.target.id);let I=l.target.id,s;(e==null?void 0:e.containApplicationType)=="selfAdvt"&&(s=M),(e==null?void 0:e.containApplicationType)=="movableVehicle"&&(s=B),(e==null?void 0:e.containApplicationType)=="privateLand"&&(s=H),(e==null?void 0:e.containApplicationType)=="agency"&&(s=O),(e==null?void 0:e.containApplicationType)=="banquetMarriageHall"&&(s=g),(e==null?void 0:e.containApplicationType)=="dharamshala"&&(s=N),(e==null?void 0:e.containApplicationType)=="hostel"&&(s=w),(e==null?void 0:e.containApplicationType)=="lodge"&&(s=n);const A={id:I};E.post(`${s}`,A,z()).then(function(x){var t;console.log("generate order id",x.data),x.data.status==!0&&(console.log("OrderId Generated True",x.data.data),d((t=x==null?void 0:x.data)==null?void 0:t.data,U)),i(x)}).catch(function(x){alert("Backend Server error. Unable to Generate Order Id")}).finally(()=>{R(!1)})};return a.jsx("div",{className:"",children:a.jsx(K,{isOpen:$,onAfterOpen:b,onRequestClose:m,style:fe,contentLabel:"Example Modal",children:a.jsx("div",{className:"bg-violet-200 text-slate-50 drop-shadow-2xl border border-violet-500 p-5 m-5 rounded-md",children:a.jsxs("div",{className:"",children:[a.jsxs("div",{className:"shadow-md shadow-violet-300 py-1 pl-3 bg-white border-gray-400 text-gray-600 flex",children:["Make Payment For",a.jsxs("span",{className:"font-bold text-md ml-4 uppercase ",children:[u((h=e==null?void 0:e.applicationDetails)==null?void 0:h.type)," "]})]}),a.jsxs("div",{className:"md:flex block w-full h-56",children:[a.jsxs("div",{className:"grid grid-cols-12 px-8 pt-3 leading-8 ",children:[a.jsx("div",{className:"md:col-span-6 col-span-12",children:a.jsxs("div",{className:"grid grid-cols-12",children:[a.jsxs("div",{className:"col-span-6  text-gray-600",children:[a.jsx("p",{children:"Application No. -"}),a.jsx("p",{children:"Applied date -"})]}),a.jsxs("div",{className:"col-span-6 text-gray-500 font-bold",children:[a.jsxs("p",{children:[u((q=e==null?void 0:e.applicationDetails)==null?void 0:q.application_no)," "]}),a.jsx("p",{children:u((_=e==null?void 0:e.applicationDetails)==null?void 0:_.application_date)})]})]})}),a.jsx("div",{className:"md:col-span-6 col-span-12",children:a.jsxs("div",{className:"grid grid-cols-12",children:[a.jsxs("div",{className:"col-span-6  text-gray-600",children:[a.jsx("p",{children:"Applicant Name -"}),a.jsx("p",{children:"Entity Name -"})]}),a.jsxs("div",{className:"col-span-6 text-gray-500 font-bold",children:[a.jsxs("p",{children:[u((T=e==null?void 0:e.applicationDetails)==null?void 0:T.applicant),"  "]}),a.jsxs("p",{children:[u((j=e==null?void 0:e.applicationDetails)==null?void 0:j.entity_name)," "]})]})]})}),a.jsx("div",{className:"md:col-span-6 col-span-12",children:a.jsx("div",{className:"grid grid-cols-12",children:a.jsx("div",{className:"col-span-6  text-gray-600",children:a.jsx("h1",{className:"font-bold text-lg ",children:"Payable Amount"})})})}),a.jsx("div",{className:"md:col-span-6 col-span-12",children:a.jsx("div",{className:"grid grid-cols-12",children:a.jsx("div",{className:"col-span-6  text-gray-600",children:a.jsx("h1",{className:"font-bold text-lg bg-violet-300 px-2 ",children:u((V=e==null?void 0:e.applicationDetails)==null?void 0:V.payment_amount)})})})}),a.jsx("div",{className:"md:col-span-6 col-span-12",children:a.jsx("div",{className:"grid grid-cols-12",children:a.jsxs("div",{className:"col-span-6  text-gray-600",children:[a.jsx("button",{onClick:m,className:"mx-2 bg-red-600 hover:bg-red-700 transition duration-200 hover:scale-105 font-normal text-white px-6 py-1 text-sm  rounded-sm shadow-xl",children:"Cancel"}),a.jsx("div",{children:L?a.jsxs("div",{className:"flex items-center justify-center text-sm",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-gray-900"}),a.jsx("span",{className:"ml-2",children:"Loading..."})]}):a.jsx("button",{onClick:F,id:(D=e==null?void 0:e.applicationDetails)==null?void 0:D.id,className:"mx-2 bg-indigo-600 hover:bg-indigo-700 transition duration-200 hover:scale-105 font-normal text-white px-6 py-1 text-sm rounded-sm shadow-xl relative",disabled:L,children:"Pay Now"})})]})})}),a.jsx("div",{className:"md:col-span-6 col-span-12",children:a.jsx("div",{className:"grid grid-cols-12",children:a.jsx("div",{className:"col-span-6  text-gray-600",children:a.jsx("img",{src:"https://cdn-icons-png.flaticon.com/256/7057/7057515.png",className:"h-16"})})})})]}),a.jsx("div",{className:"",children:a.jsx("div",{className:""})})]})]})})})})}function Te(e){var D,l,I,s,A,x;const[d,$]=o.useState(null);o.useState();const k=(t,c)=>{$({path:t,name:c})},L=()=>{$(null)},{api_getAppliedApplicationDetail:R,api_getAppliedDocumentList:M,api_getMovableAppliedApplicationDetail:B,api_getMovableAppliedDocumentList:H,api_getPrivateLandAppliedApplicationDetail:O,api_getPrivateLandAppliedDocumentList:g,api_getAgencyApplicationFullDetail:N,api_getAgencyAppliedDocumentList:w}=Q();console.log("application data in list application",e.data);const[n,C]=o.useState(),[y,i]=o.useState(),[P,b]=o.useState(!1),[m,U]=o.useState(!1),F=e==null?void 0:e.data,S=e==null?void 0:e.applicationType,h=e==null?void 0:e.applicationName;console.log("onclick close modal",e.closeModal),console.log("application id..1",F),console.log("application type",S),console.log("application name in modal",h);const q=()=>{e.closeModal()};o.useEffect(()=>{T()},[]);let _;h=="selfAdvertisement"&&(_=R),h=="movableVehicle"&&(_=B),h=="privateLand"&&(_=O),h=="agency"&&(_=N);const T=()=>{U(!1),b(!0);const t={applicationId:F,type:S};E.post(`${_}`,t,z()).then(function(c){console.log("application view details 1",c),C(c.data.data),b(!1)}).catch(function(c){console.log("errorrr.... ",c),U(!0),b(!1)})};console.log("details of application...1",n==null?void 0:n.fullDetailsData),o.useEffect(()=>{V()},[]);let j;h=="selfAdvertisement"&&(j=M),h=="movableVehicle"&&(j=H),h=="privateLand"&&(j=g),h=="agency"&&(j=w);const V=()=>{const t={applicationId:F,type:S};E.post(`${j}`,t,z()).then(function(c){console.log("document list ===>",c),console.log("document list 22",c.data.data),i(c.data.data)}).catch(function(c){console.log("errorrr.... ",c)})};return P?a.jsx(a.Fragment,{children:a.jsx(me,{})}):m?a.jsx(xe,{title:"Server is busy",desc:"Server is too busy to respond. Please try again later.",buttonText:"View Dashboard",buttonUrl:"/propertyDashboard"}):(console.log("document list...2",y),a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:" shadow-lg rounded leading-5 z-50 overflow-y-auto max-sm:mt-10",children:[a.jsxs("div",{className:" shadow-md  p-2 bg-white max-sm:p-0",children:[a.jsx("h1",{className:"text-2xl px-4 font-semibold text-gray-700",children:"Application Details"}),a.jsx("h1",{className:"text-xs px-4 text-gray-500",children:"Review your application"}),a.jsx("button",{className:"float-right -mt-9 mr-4",onClick:q,children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 bg-red-400 text-white  shadow-lg  rounded-full",children:a.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),a.jsx("div",{className:"ml-96 max-sm:ml-0"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 lg:grid-cols-12 p-4 gap-4 container mx-auto space-x-8 max-sm:p-0 max-sm:space-x-0 max-sm:pt-4",children:[a.jsxs("div",{className:"col-span-7",children:[a.jsx("div",{class:"mb-5 flex flex-wrap flex-row -mx-4 p-4 bg-white ml-2 max-sm:flex-col w-full max-sm:ml-0",children:a.jsxs("div",{class:"flex flex-shrink max-w-full px-4 w-full lg:w-1/2 space-x-2 max-sm:flex-col max-sm:space-x-0",children:[a.jsx("h1",{className:" font-bold text-md text-gray-600 ",children:"Remarks. -"}),a.jsx("h1",{className:"font-normal text-md  ",children:(l=(D=n==null?void 0:n.levelComment)==null?void 0:D.map(t=>t==null?void 0:t.message))==null?void 0:l.join(", ")})]})}),a.jsxs("div",{class:"flex flex-wrap flex-row -mx-4 p-4 bg-white ml-2 max-sm:flex-col w-full max-sm:ml-0",children:[a.jsxs("div",{class:"flex flex-shrink max-w-full px-4 w-full lg:w-1/2 space-x-2 max-sm:flex-col max-sm:space-x-0",children:[a.jsx("h1",{className:" font-bold text-md text-gray-600 ",children:"Application No. -"}),a.jsx("h1",{className:"font-normal text-md  ",children:u(n==null?void 0:n.application_no)})]}),a.jsxs("div",{class:"flex flex-shrink max-w-full px-4 w-full lg:w-1/2 max-sm:flex-col",children:[a.jsx("h1",{className:"font-bold text-md text-gray-600  ",children:"Apply Date -"}),a.jsx("h1",{className:"font-normal text-md ",children:u(n==null?void 0:n.apply_date)})]})]}),(s=(I=n==null?void 0:n.fullDetailsData)==null?void 0:I.dataArray)==null?void 0:s.map(t=>{var c;return a.jsx(a.Fragment,{children:a.jsx("div",{class:"flex flex-wrap flex-row container mx-auto  rounded leading-5 p-2 mt-4",children:(c=t==null?void 0:t.data)==null?void 0:c.map(v=>a.jsxs("div",{class:"flex-shrink max-w-full px-4 w-full lg:w-1/3 mb-2  p-2",children:[a.jsx("h1",{className:"font-bold text-md text-gray-600  ",children:u(v==null?void 0:v.displayString)}),a.jsxs("h1",{className:" font-normal text-sm text-gray-500 ",children:[u(v==null?void 0:v.value)," "]})]}))})})}),(n==null?void 0:n.directors)&&a.jsx("div",{children:a.jsxs("div",{className:"mt-4 overflow-auto",children:[a.jsx("h1",{className:"px-10 text-md text-gray-800 font-bold",children:"Directors Information"}),a.jsxs("table",{class:"table-auto text-slate-700 w-11/12 mx-auto mt-1 mb-4",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-violet-200 text-gray-600 text-xs h-8  uppercase",children:[a.jsx("th",{children:"Director Name"}),a.jsx("th",{children:"Director Mobile No."}),a.jsx("th",{children:"Director Email"})]})}),a.jsx("tbody",{children:(A=n==null?void 0:n.directors)==null?void 0:A.map(t=>a.jsxs("tr",{className:"border-t-2 bg-white hover:bg-violet-200 text-sm hover:shadow-lg text-center  ",children:[a.jsx("td",{children:a.jsxs("span",{children:[u(t==null?void 0:t.director_name)," "]})}),a.jsx("td",{children:a.jsx("span",{children:u(t==null?void 0:t.director_mobile)})}),a.jsx("td",{children:a.jsx("span",{children:u(t==null?void 0:t.director_email)})})]}))})]})]})})]}),a.jsxs("div",{className:"col-span-5  rounded leading-5",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-1 bg-white p-3 container max-sm:ml-4",children:a.jsx("div",{className:"   ",children:a.jsx("h1",{className:"font-semibold text-gray-800 text-lg text-center uppercase",children:"Documents Uploaded"})})}),(y==null?void 0:y.length)>0?y.map((t,c)=>{var v;return a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-1 p-4  rounded leading-5",children:a.jsxs("div",{className:"flex  border border-dashed border-gray-500",children:[a.jsx("h1",{className:"flex-1 font-semibold text-xs text-gray-600 p-4 uppercase break-words",children:t==null?void 0:t.doc_code}),a.jsx("h1",{className:"flex-1",children:(v=t==null?void 0:t.doc_path)!=null&&v.endsWith(".pdf")?a.jsx(ue,{onClick:()=>k(t==null?void 0:t.doc_path,t==null?void 0:t.doc_code),className:"w-16 h-16 text-red-600 float-right cursor-pointer"}):a.jsx("img",{onClick:()=>k(t==null?void 0:t.doc_path,t==null?void 0:t.doc_code),src:t==null?void 0:t.doc_path,alt:"Document",className:"w-16 h-16 float-right"})})]})},c)}):a.jsx("p",{className:"text-xl font-semibold text-center m-2 mt-8 text-gray-500",children:"No Documents found"})]})]})]}),d&&a.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-200 bg-opacity-50",children:a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-3xl h-full max-h-[70vh]",children:[a.jsx("div",{className:"flex justify-end items-center p-1 ",children:a.jsx("button",{onClick:L,className:"text-white font-semibold bg-red-400 w-7 g-7 px-2 rounded-full py-0 text-xl",children:"X"})}),a.jsx("div",{className:"flex justify-center items-center w-full h-full  pb-16",children:(x=d==null?void 0:d.path)!=null&&x.endsWith(".pdf")?a.jsx("iframe",{src:d.path,className:"w-full h-full",title:d.name}):a.jsx("img",{src:d.path,alt:d.name,className:"w-full h-full object-contain "})})]})})]}))}const ye={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"gray",border:"none"}};K.setAppElement("#root");function be(e){var s,A,x,t,c,v,X,Y,J,Z,ee,ae,te,ie,le,ne,de,se;let d=" text-xs  text-gray-600";const{api_postAdvertisementReuploadedDocument:$,api_postMovableVehicleReuploadedDocument:k,api_postPrivateLandReuploadedDocument:L,api_postAgencyReuploadedDocument:R,api_postLodgeReuploadedDocument:M,api_postHostelReuploadedDocument:B,api_postBanquetReuploadedDocument:H,api_postDharamshalaReuploadedDocument:O}=Q(),[g,N]=o.useState(),[w,n]=o.useState(""),[C,y]=o.useState(!1),[i,P]=o.useState(),[b,m]=o.useState(!1),U=()=>y(!0),F=()=>y(!1),S=()=>{},[h,q]=o.useState(!1),_=()=>{q(!h)};console.log("application name 12",e.applicationName);const T=(r,p)=>{G.dismiss(),p=="success"&&G.success(r),p=="error"&&G.error(r)},j=r=>{n(r),U()},V={image:"",id:(s=e==null?void 0:e.data)==null?void 0:s.id},D=ge({initialValues:V,onSubmit:r=>{m(!0),console.log("image file on submit",r==null?void 0:r.image),N(r);let p;e.applicationName=="selfAdvertisement"&&(p=$),e.applicationName=="movableVehicle"&&(p=k),e.applicationName=="privateLand"&&(p=L),e.applicationName=="agency"&&(p=R),e.applicationName=="banquetMarriage"&&(p=H),e.applicationName=="hostel"&&(p=B),e.applicationName=="lodge"&&(p=M),e.applicationName=="dharamshala"&&(p=O),E.post(`${p}`,r,z()).then(function(f){var W,oe;console.log("re-uploaded document",f.data.data),e==null||e.getDocumentList(),m(!1),(W=f==null?void 0:f.data)!=null&&W.status?T((oe=f==null?void 0:f.data)==null?void 0:oe.message,"success"):T("Please select file","error")}).catch(function(f){var W;console.log("errorrr.... ",f),T((W=response==null?void 0:response.data)==null?void 0:W.message,"error"),m(!1)})}}),l=r=>{let p=r.target.name;r.target.value;let f=r.target.files[0];P(f),console.log("image file",i),p=="image"&&I(f)},I=r=>{D.setFieldValue("image",r);const p=new FileReader;p.onloadend=()=>{n(p.result)},p.readAsDataURL(r),console.log("file checker ",w)};return console.log("image file",i==null?void 0:i.name),a.jsxs("div",{children:[b?a.jsx("div",{className:"flex justify-center items-center"}):a.jsx("form",{onSubmit:D.handleSubmit,onChange:l,encType:"multipart/form-data",children:a.jsxs("div",{class:"grid grid-cols-1 md:grid-cols-6 lg:grid-cols-6 gap-1 border-b border-gray-400 mb-2",children:[a.jsx("div",{className:"px-1",children:a.jsx("div",{className:"truncate",children:a.jsxs("span",{className:`${d}`,children:[" ",(A=e==null?void 0:e.data)==null?void 0:A.doc_code," "]})})}),a.jsx("div",{className:"px-1",children:a.jsxs("div",{className:"flex items-center justify-center font-semibold text-sm",children:[a.jsx("div",{className:"cursor-pointer",onClick:()=>{var r;return j(`${(r=e==null?void 0:e.data)==null?void 0:r.doc_path}`)},children:a.jsx("img",{src:`${(x=e==null?void 0:e.data)==null?void 0:x.doc_path}`,alt:"Preview Image",className:`${d} w-8`})}),((t=e==null?void 0:e.data)==null?void 0:t.verify_status)==2&&a.jsx("div",{children:(i==null?void 0:i.name)==null||(i==null?void 0:i.name)==null||(i==null?void 0:i.name)==""?a.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/4194/4194756.png",alt:"Preview Image",className:`${d} w-8`}):a.jsx(a.Fragment,{children:["pdf","jpg","jpeg","png"].includes((c=i==null?void 0:i.name)==null?void 0:c.split(".").pop())?a.jsxs("div",{onClick:()=>j(w),children:[((v=i==null?void 0:i.name)==null?void 0:v.split(".").pop())=="pdf"&&a.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/3997/3997593.png",alt:"Preview Image",className:`${d} w-8`}),((X=i==null?void 0:i.name)==null?void 0:X.split(".").pop())=="jpg"&&a.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/5719/5719824.png",alt:"Preview Image",className:`${d} w-8`}),((Y=i==null?void 0:i.name)==null?void 0:Y.split(".").pop())=="jpeg"&&a.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/5719/5719824.png",alt:"Preview Image",className:`${d} w-8`}),((J=i==null?void 0:i.name)==null?void 0:J.split(".").pop())=="png"&&a.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/5719/5719894.png",alt:"Preview Image",className:`${d} w-8`})]}):a.jsx(ve.Tooltip,{className:"bg-gray-500 text-xs text-white",content:"Does not support this file extension",children:a.jsx("div",{children:a.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/8316/8316660.png",className:`${d} w-8 mx-auto`})})})})})]})}),a.jsx("div",{className:"px-1",children:a.jsx("div",{className:"flex items-center justify-center font-semibold text-sm",children:a.jsx("div",{className:"form-group col-span-4 md:col-span-1 md:px-0",children:a.jsx("input",{type:"file",accept:".png, .jpg, .jpeg, .pdf",name:"image",className:"form-control block w-full px-3 py-1.5 mb-3 text-base md:text-xs font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none cursor-pointer shadow-md w-36",onChange:D.handleChange})})})}),a.jsx("div",{className:"px-1",children:a.jsx("div",{className:"flex items-center justify-center font-semibold text-sm",children:a.jsxs("div",{className:"form-group col-span-4 md:col-span-1 md:px-0 mt-2",children:[((Z=e==null?void 0:e.data)==null?void 0:Z.verify_status)==0&&a.jsx("h1",{className:"bg-amber-200 text-center  w-28 text-xs rounded-full text-amber-800 shadow-md",children:"Pending"}),((ee=e==null?void 0:e.data)==null?void 0:ee.verify_status)==1&&a.jsx("h1",{className:"bg-green-200 text-center w-28 text-xs rounded-full text-green-800 shadow-md",children:"Verified"}),((ae=e==null?void 0:e.data)==null?void 0:ae.verify_status)==2&&a.jsx("h1",{className:"bg-red-200 text-center w-28 text-xs rounded-full text-red-800 shadow-md ",children:"Rejected"})]})})}),a.jsxs("div",{className:"px-1",children:[a.jsx("div",{className:"flex items-center justify-center font-semibold text-sm",children:a.jsx("div",{className:" truncate block w-full px-2 py-1 text-sm text-gray-700 bg-white bg-clip-padding border border-gray-300 rounded-md cursor-pointer",onClick:_,children:((te=e==null?void 0:e.data)==null?void 0:te.remarks)||"No remarks"})}),h&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 transition-opacity duration-300 ease-in-out",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md shadow-2xl transform transition-transform duration-500 ease-in-out scale-105",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-800 border-b pb-2 mb-4",children:"Full Remarks"}),a.jsx("p",{className:"text-sm text-gray-700 max-h-60 overflow-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-gray-400 scrollbar-track-gray-100 px-2 py-1",children:((ie=e==null?void 0:e.data)==null?void 0:ie.remarks)||"No remarks"}),a.jsx("div",{className:"mt-6 flex justify-end",children:a.jsx("button",{className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-full font-semibold shadow-md hover:from-blue-600 hover:to-indigo-700 hover:shadow-lg transition-transform transform hover:scale-105",onClick:_,children:"Close"})})]})})]}),a.jsx("div",{className:"px-1",children:a.jsx("div",{className:"flex items-center justify-center font-semibold text-sm mt-2",children:((le=e==null?void 0:e.data)==null?void 0:le.verify_status)==2||((ne=e==null?void 0:e.data)==null?void 0:ne.verify_status)==0?a.jsx("div",{className:"form-group col-span-4 md:col-span-1 md:px-0",children:(g==null?void 0:g.image)==null||(g==null?void 0:g.image)==null||(g==null?void 0:g.image)==""||((de=e==null?void 0:e.data)==null?void 0:de.verify_status)==2||((se=e==null?void 0:e.data)==null?void 0:se.verify_status)==0?a.jsx("button",{type:"submit",className:"py-0 px-2 text-[0.7rem] inline-block text-center  rounded leading-5 text-gray-100 bg-indigo-500 border border-indigo-500 hover:text-white hover:bg-indigo-600 hover:ring-0 hover:border-indigo-600 focus:bg-indigo-600 focus:border-indigo-600 focus:outline-none focus:ring-0",children:a.jsx("span",{className:"text-xs",children:"Upload"})}):a.jsx("button",{type:"submit",className:"py-0 px-2 text-[0.7rem] inline-block text-center  rounded leading-5 text-gray-100 bg-green-500 border border-green-500 hover:text-white focus:outline-none focus:ring-0",disabled:!0,children:a.jsx("span",{className:"text-xs",children:"Uploaded"})})}):a.jsx("button",{type:"submit",className:"py-0 px-2 text-[0.7rem] inline-block text-center  rounded leading-5 text-gray-100 bg-green-500 border border-green-500 hover:text-white focus:outline-none focus:ring-0",disabled:!0,children:a.jsx("span",{className:"text-xs",children:"Uploaded"})})})})]})}),a.jsx(K,{isOpen:C,onAfterOpen:S,onRequestClose:F,style:ye,contentLabel:"Example Modal",children:a.jsx("div",{class:" rounded-lg shadow-xl border-2 border-gray-50 mx-auto px-0",style:{width:"40vw",height:"80vh"},children:a.jsx("iframe",{className:"w-full h-full",src:w,frameborder:"1",children:a.jsx("img",{className:"",src:w})})})})]})}function Ie(e){const[d,$]=o.useState(!0),{api_getAdvertisementReuploadDoc:k,api_getMovableVehicleReuploadDoc:L,api_getPrivateLandReuploadDoc:R,api_getAgencyReuploadDoc:M,api_getBanquetReuploadDoc:B,api_getHostelReuploadDoc:H,api_getLodgeReuploadDoc:O,api_getDharamshalaReuploadDoc:g}=Q(),[N,w]=o.useState(),[n,C]=o.useState();console.log("application name 12",e.applicationName);const y=()=>{e==null||e.closeModal()};o.useEffect(()=>{P()},[]);let i;e.applicationName=="selfAdvertisement"&&(i=k),e.applicationName=="movableVehicle"&&(i=L),e.applicationName=="privateLand"&&(i=R),e.applicationName=="agency"&&(i=M),e.applicationName=="banquetMarriage"&&(i=B),e.applicationName=="hostel"&&(i=H),e.applicationName=="lodge"&&(i=O),e.applicationName=="dharamshala"&&(i=g);const P=()=>{const b={applicationId:e==null?void 0:e.data};E.post(`${i}`,b,z()).then(function(m){$(!1),console.log("re-uploaded document list",m.data.doc_upload_status),w(m.data.data),C(m.data.doc_upload_status)}).catch(function(m){$(!1),console.log("errorrr.... ",m)})};return console.log("application id",e.data),console.log("workflow id 1",e.workflowId),a.jsx(a.Fragment,{children:a.jsx("div",{className:" top-4 ml-4 ",children:a.jsxs("div",{className:" grid grid-cols-1 md:grid-cols-12 lg:grid-cols-12 gap-4 container mx-auto pb-8 p-2 mt-12",children:[a.jsxs("div",{className:"col-span-12",children:[a.jsx("div",{className:"col-span-6",children:a.jsx("h1",{className:"text-xl",children:"Upload Rejected Document"})}),a.jsx("div",{className:"col-span-6",children:a.jsx("button",{className:"float-right",onClick:y,children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-8 h-8 mr-2 md:-mt-8 lg:-mt-8 text-red-500 bg-red-200 rounded-full p-1",children:a.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})})]}),a.jsx("div",{className:"col-span-12 border border-dashed border-violet-800 p-2",children:a.jsxs("div",{className:"p-1 ",children:[a.jsxs("div",{class:"grid grid-cols-1 md:grid-cols-6 lg:grid-cols-6 gap-1 p-1 bg-white ",children:[a.jsx("div",{children:a.jsx("h1",{className:"text-left  text-lg  text-gray-600 font-sans font-semibold ",children:"Document"})}),a.jsx("div",{children:a.jsx("h1",{className:"text-center text-lg ml-4 text-gray-600 font-sans font-semibold",children:"Preview"})}),a.jsx("div",{children:a.jsx("h1",{className:"text-center text-lg ml-4 text-gray-600 font-sans font-semibold",children:"Upload"})}),a.jsx("div",{children:a.jsx("h1",{className:"text-center text-lg ml-4 text-gray-600 font-sans font-semibold",children:"Status"})}),a.jsx("div",{children:a.jsx("h1",{className:"text-center text-lg ml-4 text-gray-600 font-sans font-semibold",children:"Remarks"})}),a.jsx("div",{children:a.jsx("h1",{className:"text-center text-lg ml-4 text-gray-600 font-sans font-semibold",children:"Action"})})]}),a.jsx("div",{className:"mt-2",children:d?a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-t-4 border-blue-500 border-gray-200 rounded-full animate-spin mb-4"}),a.jsx("p",{className:"text-lg text-blue-500",children:"Loading, please wait..."})]}):a.jsx("div",{className:"mt-2",children:N==null?void 0:N.map((b,m)=>a.jsx(be,{data:b,applicationName:e.applicationName,getDocumentList:P},m))})})]})})]})})})}export{z as A,Pe as Q,Ie as R,Te as V,Q as a,Se as b};
