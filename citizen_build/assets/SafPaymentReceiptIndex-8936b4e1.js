import{j as e}from"./mui-8bd1858b.js";import{b as X,f as Z,u as ee,r as x}from"./router-56e993c5.js";import{R as se}from"./index-a188d691.js";import{az as te,l as ae,n as t,aH as u,j as re,x as le,ac as ne,A as ie,b as ce,B as de,E as oe}from"./index-2b92fb77.js";import{S as xe}from"./ServerErrorCard-73d58ab4.js";import{P as me}from"./PrintButton-b53bb62a.js";import"./axios-ab7cc016.js";import"./reactIcons-d26c0b2d.js";import"./materialTailwind-f9ac8de7.js";import"./moment-a9aaa855.js";/* empty css                */import"./redux-a3f69129.js";import"./i18next-2edfafb0.js";class he extends X.Component{render(){var h,n,p,j,c,N,d,g,f,b,i,r,l,v,w,D,R,S,A,T,P,F,_,k,C,H,I,z,B,E,L,M,O,q,Q,V,W,U,$,Y,G,J,K;console.log("paymentData...1",this.props.module);const s=(h=this==null?void 0:this.props)==null?void 0:h.ulbData,a=(n=this==null?void 0:this.props)==null?void 0:n.paymentData;console.log("data--------->",s),console.log("data--------->  ------>",a);const y=()=>{window.ReactNativeWebView.postMessage(JSON.stringify({Key:"PRINT_TO_PRINTER",url:`<div style="border: 2px dashed gray; background-color: white; padding: 8px; width: 250mm; height: auto; position: relative; margin: 0 auto;">
    <div style="display: grid; grid-template-columns: 1fr; text-align: center; position: relative;">
        <div>
            <img src="${s==null?void 0:s.ulb_logo}" style="height: 80px; display: block; margin: 0 auto;" />
        </div>
        <div style="position: absolute; width: 100%; height: 100%; display: flex; justify-content: center; align-items: center;">
            <img src="${s==null?void 0:s.state_logo}" alt="" style="width: 22rem; height: 22rem; opacity: 0.2; border-radius: 50%; border: 1px solid;" />
        </div>
    </div>

    <div style="text-align: center; padding-top: 8px;">
        <h1 style="font-weight: bold; font-size: 32px;">${s==null?void 0:s.ulb_name}</h1>
    </div>

    <div style="text-align: center; padding-top: 16px;">
        <h1 style="font-weight: bold; font-size: 20px; color: gray; border: 2px solid black; padding: 10px; display: inline-block;">Payment Receipt<br>Holding Tax</h1>
    </div>

    <div style="margin-top: 16px; text-align: center; font-size: 14px;">**This is a computer-generated receipt and it does not require a signature.**</div>
</div>`}))};return e.jsxs(e.Fragment,{children:[window.ReactNativeWebView?e.jsx(e.Fragment,{children:e.jsx("div",{className:"fixed bottom-10 text-center  justify-center items-center  w-screen print:hidden z-50",children:e.jsxs("button",{onClick:()=>y(),className:te,children:[e.jsx(ae,{className:"inline text-lg"}),"print"]})})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:" ",children:[e.jsx("div",{className:"",children:e.jsx(me,{})}),e.jsx("div",{className:"ml-4",children:e.jsx("button",{onClick:()=>this.props.navigate(-1),className:"inline-flex bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Back"})})]})}),e.jsx("div",{id:"printableArea",className:" mt-10 print:mt-0",children:e.jsx("div",{children:e.jsxs("div",{className:"border-2 border-dashed border-gray-600 print:scale-95  bg-white p-2 w-[250mm] h-auto md:mx-auto lg:mx-auto  container2 relative ",children:[e.jsxs("div",{className:"grid grid-col-1 md:grid-col-12 lg:grid-col-12 ",children:[e.jsx("div",{className:"",children:e.jsx("img",{src:(p=a==null?void 0:a.ulbDetails)==null?void 0:p.ulb_logo,className:"h-20 mx-auto"})}),e.jsx("div",{className:"absolute w-full h-full flex justify-center items-center",children:e.jsx("img",{src:(j=a==null?void 0:a.ulbDetails)==null?void 0:j.ulb_logo,alt:"",className:"w-[22rem] h-[22rem]  z-10 bg-transparent opacity-20 rounded-full border"})})]}),e.jsx("div",{className:"grid grid-col-1 md:grid-col-12 lg:grid-col-12 pt-2",children:e.jsx("div",{className:"",children:e.jsx("h1",{className:"font-bold text-4xl text-center ",children:(c=a==null?void 0:a.ulbDetails)==null?void 0:c.ulb_name})})}),e.jsx("div",{className:"grid grid-col-1 md:grid-col-12 lg:grid-col-12 pt-4 ",children:e.jsx("div",{className:"mx-auto",children:e.jsxs("h1",{className:"font-bold text-xl text-center text-gray-800 border-2 border-gray-700 px-10 py-2 ",children:["Payment Reciept ",e.jsx("br",{}),"Holding Tax"]})})}),e.jsx("div",{children:e.jsx("table",{className:"w-full mt-1 text-md",children:e.jsxs("tr",{className:"",children:[e.jsxs("td",{className:"font-semibold ",children:[e.jsxs("div",{className:"flex p-1 ",children:[e.jsx("h1",{className:"flex text-gray-900 font-sans ",children:"Receipt No. :"}),e.jsxs("h1",{className:"flex font-sans font-normal  pl-2",children:[" ",t((d=(N=this.props)==null?void 0:N.paymentData)==null?void 0:d.transactionNo)]})]}),e.jsxs("div",{className:"flex p-1 ",children:[e.jsx("h1",{className:"flex text-gray-900 font-sans ",children:"Department/Section :"}),e.jsx("h1",{className:"flex font-sans font-normal pl-2 ",children:t((f=(g=this.props)==null?void 0:g.paymentData)==null?void 0:f.departmentSection)})]}),e.jsxs("div",{className:"flex p-1 ",children:[e.jsx("h1",{className:"flex text-gray-900 font-sans ",children:"Account Description :"}),e.jsx("h1",{className:"flex font-sans font-normal pl-2 ",children:t((i=(b=this.props)==null?void 0:b.paymentData)==null?void 0:i.accountDescription)})]}),e.jsx("div",{className:"flex p-1 "})]}),e.jsxs("td",{className:" font-semibold",children:[e.jsxs("div",{className:"flex p-1 ",children:[e.jsx("h1",{className:"flex text-gray-900 font-sans ",children:"Date :"}),e.jsx("h1",{className:"flex font-sans font-normal pl-2 ",children:t((l=(r=this.props)==null?void 0:r.paymentData)==null?void 0:l.transactionDate)})]}),e.jsxs("div",{className:"flex p-1 ",children:[e.jsx("h1",{className:"flex text-gray-900 font-sans ",children:"Ward No. :"}),e.jsx("h1",{className:"flex font-sans font-normal pl-2 ",children:t((w=(v=this.props)==null?void 0:v.paymentData)==null?void 0:w.oldWardNo)})]}),e.jsxs("div",{className:"flex p-1 ",children:[e.jsxs("h1",{className:"flex text-gray-900 font-sans ",children:[((D=this==null?void 0:this.props)==null?void 0:D.module)=="holding"?"Holding No.":"Application No. "," "]}),e.jsx("h1",{className:"flex font-sans font-normal pl-2 ",children:t((S=(R=this.props)==null?void 0:R.paymentData)==null?void 0:S.applicationNo)})]})]})]})})}),e.jsx("div",{children:e.jsx("table",{className:"w-full  p-2 mt-2 text-md",children:e.jsx("tr",{className:"",children:e.jsxs("td",{className:" font-semibold",children:[e.jsxs("div",{className:"flex p-1",children:[e.jsx("h1",{className:"flex text-gray-900 font-sans ",children:"Received From Mr/Mrs/Miss :"}),e.jsx("h1",{className:"flex font-sans font-normal  pl-2",children:t((T=(A=this.props)==null?void 0:A.paymentData)==null?void 0:T.customerName)})]}),e.jsxs("div",{className:"flex p-1",children:[e.jsx("h1",{className:"flex text-gray-900 font-sans ",children:"Address :"}),e.jsx("h1",{className:"flex font-sans font-normal pl-2 ",children:t((F=(P=this.props)==null?void 0:P.paymentData)==null?void 0:F.address)})]}),e.jsxs("div",{className:"flex p-1",children:[e.jsx("h1",{className:"flex text-gray-900 font-sans ",children:"A Sum of :"}),e.jsx("h1",{className:"flex font-sans font-normal pl-2 ",children:u((k=(_=this.props)==null?void 0:_.paymentData)==null?void 0:k.totalPaidAmount)})]}),e.jsxs("div",{className:"flex p-1",children:[e.jsx("h1",{className:"flex text-gray-900 font-sans ",children:"(in words ):"}),e.jsxs("h1",{className:"flex font-sans font-normal pl-2 border-b border-dashed border-gray-600 ",children:[" ",t((H=(C=this.props)==null?void 0:C.paymentData)==null?void 0:H.paidAmtInWords)," ","Rupees Only"]})]}),e.jsxs("div",{className:"flex p-1",children:[e.jsxs("h1",{className:"flex text-gray-900 font-sans ",children:["towards :"," ",e.jsx("span",{className:" font-sans font-normal ml-1",children:t((z=(I=this.props)==null?void 0:I.paymentData)==null?void 0:z.towards)})]}),e.jsxs("h1",{className:"flex text-gray-900 font-sans  ml-8 ",children:["Vide :"," ",e.jsx("span",{className:" font-sans font-normal ml-1",children:t((E=(B=this.props)==null?void 0:B.paymentData)==null?void 0:E.paymentMode)})," ",e.jsx("span",{className:" font-sans font-normal ml-1"})]})]})]})})})}),e.jsx("div",{className:"grid grid-col-1 md:grid-col-12 lg:grid-col-12 p-2 mt-3",children:e.jsx("div",{className:"",children:e.jsx("h1",{className:"font-bold text-md text-left ",children:"N.B. Online Payment/Cheque/Draft/Bankers Cheque are Subject to Realisation"})})}),e.jsx("div",{className:"grid grid-col-1 md:grid-col-12 lg:grid-col-12 p-2 -mt-1",children:e.jsx("div",{className:"",children:e.jsx("h1",{className:"font-bold text-base text-left ",children:"HOLDING TAX DETAILS"})})}),e.jsx("div",{children:e.jsxs("table",{className:"w-full border border-gray-500 ",children:[e.jsxs("thead",{className:" w-full",children:[e.jsxs("tr",{className:"flex  text-md   ",children:[e.jsx("td",{className:" text-center border-r  w-48",children:e.jsx("h1",{className:" text-gray-900 font-sans ",children:"Description"})}),e.jsx("td",{className:"flex-1 text-center border border-gray-500",children:e.jsx("h1",{className:" text-gray-900 font-sans",children:"Period"})}),e.jsx("td",{className:" text-center  border-l w-48",children:e.jsx("h1",{className:" text-gray-900 font-sans",children:"Total Amount"})})]}),e.jsxs("tr",{className:"flex text-md ",children:[e.jsx("td",{className:"text-center w-48"}),e.jsx("td",{className:"flex-1 first-line:text-center border-b border-r border-l border-gray-500",children:e.jsxs("tr",{className:"flex  ",children:[e.jsx("td",{className:"flex-1 text-center border-r border-gray-500",children:e.jsx("h1",{className:" text-gray-900 font-sans",children:"From"})}),e.jsx("td",{className:"flex-1 text-center ",children:e.jsx("h1",{className:" text-gray-900 font-sans",children:"To"})})]})}),e.jsx("td",{className:"text-center border-l w-48"})]}),e.jsxs("tr",{className:"flex  text-md   border-b border-gray-500",children:[e.jsx("td",{className:"text-center w-48 ",children:" "}),e.jsx("td",{className:"flex-1 text-center  border-r border-l border-gray-500",children:e.jsxs("tr",{className:"flex  ",children:[e.jsx("td",{className:"flex-1 text-center ",children:e.jsxs("tr",{className:"flex  ",children:[e.jsx("td",{className:"flex-1 text-center ",children:e.jsx("h1",{className:" text-gray-900 font-sans border-r border-gray-500",children:"QTR"})}),e.jsx("td",{className:"flex-1 text-center ",children:e.jsx("h1",{className:" text-gray-900 font-sans border-r border-gray-500",children:"FY"})})]})}),e.jsx("td",{className:"flex-1   text-center",children:e.jsxs("tr",{className:"flex  ",children:[e.jsx("td",{className:"flex-1 text-center ",children:e.jsx("h1",{className:" text-gray-900 font-sans border-r border-gray-500",children:"QTR"})}),e.jsx("td",{className:"flex-1 text-center",children:e.jsx("h1",{className:" text-gray-900 font-sans ",children:"FY"})})]})})]})}),e.jsx("td",{className:"text-center border-l w-48",children:" "})]})]}),e.jsxs("tbody",{children:[e.jsxs("tr",{className:"flex  border-b border-gray-500  text-md ",children:[e.jsx("td",{className:" text-center w-48",children:e.jsx("h1",{className:" font-sans font-normal ",children:"Holding Tax"})}),e.jsx("td",{className:"flex-1 text-center border-r border-l border-gray-500",children:e.jsxs("tr",{className:"flex  ",children:[e.jsx("td",{className:"flex-1 text-center ",children:e.jsxs("tr",{className:"flex  ",children:[e.jsx("td",{className:"flex-1 text-center ",children:e.jsx("h1",{className:"font-sans font-normal  border-r border-gray-500 text-[0.7rem]",children:t((M=(L=this.props)==null?void 0:L.paymentData)==null?void 0:M.paidFromQtr)})}),e.jsx("td",{className:"flex-1 text-center ",children:e.jsx("h1",{className:"font-sans font-normal  border-r border-gray-500 text-[0.7rem]",children:t((q=(O=this.props)==null?void 0:O.paymentData)==null?void 0:q.paidFrom)})})]})}),e.jsx("td",{className:"flex-1   text-center",children:e.jsxs("tr",{className:"flex  ",children:[e.jsx("td",{className:"flex-1 text-center ",children:e.jsx("h1",{className:" font-sans font-normal border-r border-gray-500 text-[0.7rem]",children:t((V=(Q=this.props)==null?void 0:Q.paymentData)==null?void 0:V.paidUptoQtr)})}),e.jsx("td",{className:"flex-1 text-center",children:e.jsx("h1",{className:" font-sans font-normal text-[0.7rem]",children:t((U=(W=this.props)==null?void 0:W.paymentData)==null?void 0:U.paidUpto)})})]})})]})}),e.jsx("td",{className:"text-center border-l w-48",children:e.jsx("h1",{className:" font-sans font-normal ",children:u((Y=($=this.props)==null?void 0:$.paymentData)==null?void 0:Y.demandAmount)})})]}),(K=(J=(G=this.props)==null?void 0:G.paymentData)==null?void 0:J.taxDetails)==null?void 0:K.map(o=>e.jsxs("tr",{className:"flex border-b border-gray-500  text-md ",children:[e.jsx("td",{className:"flex-1 text-center ",children:e.jsx("h1",{className:" font-sans font-normal ",children:" "})}),e.jsx("td",{className:"flex-1 text-center ",children:e.jsx("tr",{className:"flex",children:e.jsx("td",{className:"flex-1 text-right",colSpan:2,children:e.jsx("tr",{className:"w-full ",children:e.jsx("td",{className:"w-full text-right",children:e.jsx("h1",{className:"font-sans font-normal text-sm",children:t(o==null?void 0:o.keyString)})})})})})}),e.jsx("td",{className:" text-center border-l border-gray-500 w-48",children:e.jsx("h1",{className:" font-sans font-normal ",children:u(o==null?void 0:o.value)})})]}))]})]})}),e.jsx("div",{children:e.jsx("table",{className:"w-full mt-6 ",children:e.jsx("tr",{className:"",children:e.jsxs("td",{className:" ",children:[e.jsx("div",{className:"",children:e.jsx(re,{url:window.location.href,size:"64"})}),e.jsx("div",{className:"flex ",children:e.jsxs("h1",{className:"flex text-gray-900 font-sans text-md",children:["For Details Please Visit : ",s==null?void 0:s.website]})}),e.jsx("div",{className:"flex ",children:e.jsxs("h1",{className:"flex text-gray-900 font-sans text-md",children:["Or Call us at ",s==null?void 0:s.mobile_no," or ",s==null?void 0:s.mobile_no_2]})})]})})})}),e.jsx("div",{className:"grid grid-col-1 md:grid-col-12 lg:grid-col-12 p-2 mt-2",children:e.jsx("div",{className:"",children:e.jsx("h1",{className:"font-normal text-md text-center ",children:"**This is a computer-generated receipt and it does not require a signature.**"})})})]})})})]})}}function Ae(){le();const{paymentId:m,module:s}=Z();console.log("param payment id ..",m);let a;s=="saf"?a="SAF Receipt":a="Holding Receipt",ne(a);const y=ee(),h=x.useRef(),[n,p]=x.useState();x.useState(!1);const[j,c]=x.useState(!1),[N,d]=x.useState(!1),{api_getPaymentData:g,api_getHoldingReceiptUrl:f}=oe();x.useEffect(()=>{b()},[]);const b=()=>{c(!1),d(!0),window.localStorage.getItem("token");let i,r;s=="holding"?(i=f,r={tranNo:m}):s=="saf"?(i=g,r={tranNo:m}):(i=f,r={tranNo:m}),console.log("before fetch payment receipt....",r),ie.post(i,r,ce()).then(l=>{console.log("payment data at receipt.....",l),l.data.status?p(l.data.data):c(!0),d(!1)}).catch(l=>{c(!0),d(!1),console.log(l)})};return N?e.jsxs(e.Fragment,{children:[e.jsx(de,{}),e.jsx("div",{className:"min-h-screen"})]}):j?e.jsx(xe,{title:"Server is busy",desc:"Server is too busy to respond. Please try again later.",buttonText:"View Dashboard",buttonUrl:"/propertyDashboard"}):e.jsxs("div",{children:[e.jsx(se,{trigger:()=>e.jsx("button",{}),content:()=>h.current}),e.jsx(he,{module:s,ref:h,paymentData:n,ulbData:n==null?void 0:n.ulbDetails,navigate:y})]})}export{Ae as default};
