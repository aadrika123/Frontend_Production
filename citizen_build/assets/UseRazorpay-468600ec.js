import{c as m,r as d}from"./router-87042356.js";var r={},w=m&&m.__awaiter||function(i,o,t,c){function p(e){return e instanceof t?e:new t(function(n){n(e)})}return new(t||(t=Promise))(function(e,n){function u(a){try{s(c.next(a))}catch(y){n(y)}}function f(a){try{s(c.throw(a))}catch(y){n(y)}}function s(a){a.done?e(a.value):p(a.value).then(u,f)}s((c=c.apply(i,o||[])).next())})};Object.defineProperty(r,"__esModule",{value:!0});const l=d;class h{constructor(o){this.options=o,typeof window<"u"&&(this.rzrpayInstannce=new window.Razorpay(this.options))}on(o,t){this.rzrpayInstannce.on(o,t)}open(){this.rzrpayInstannce.open()}}const I=()=>{const i="https://checkout.razorpay.com/v1/checkout.js",o=(0,l.useMemo)(()=>typeof window<"u",[]),[t,c]=(0,l.useState)(!1),p=(0,l.useCallback)(()=>!(!o||!("Razorpay"in window)),[]),e=(0,l.useCallback)(n=>{if(o)return new Promise((u,f)=>{const s=document.createElement("script");s.src=n,s.onload=a=>{c(!0),u(a)},s.onerror=a=>f(a),document.body.appendChild(s)})},[]);return(0,l.useEffect)(()=>{p()||w(void 0,void 0,void 0,function*(){try{yield e(i)}catch(n){throw new Error(n)}})},[]),[h,t]};var z=r.default=I;const R=()=>{const[i]=z();return{handlePayment:async(t,c)=>{const p={key:"rzp_test_OOrMIZgN8sK1m2",amount:`${t==null?void 0:t.amount}`,currency:"INR",name:"Acme Corp",description:"Test Transaction",image:"https://example.com/your_logo",order_id:t==null?void 0:t.orderId,handler:async n=>{console.log(n);const u=await c({...n,...t});console.log("res razorpay",u)},prefill:{name:"Piyush Garg",email:"youremail@example.com",contact:"9999999999"},notes:{address:"Razorpay Corporate Office",departmentId:t==null?void 0:t.departmentId,userId:t==null?void 0:t.user_id,workflowId:t==null?void 0:t.workflowId,ulbId:t==null?void 0:t.ulbId,applicationId:t==null?void 0:t.applicationId},theme:{color:"#3399cc"}},e=new i(p);e.on("payment.failed",function(n){alert(n.error.code)}),e.open()}}};export{R as U};
