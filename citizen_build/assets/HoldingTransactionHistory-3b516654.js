import{j as e}from"./mui-13ddac22.js";import{r as c,e as T,u as P}from"./router-07787e9d.js";import{A as j}from"./ApiHeader-9c14b40d.js";import{C as A}from"./CitizenApplyApiList-f5f1cc72.js";import{P as H}from"./PropertyApiList-62ed77a5.js";import{T as B}from"./TopTabs-cff44947.js";import{n as r}from"./PowerupFunctions-b93f3ef9.js";import{B as R}from"./BrandLoader-4735ecb8.js";import"./CommonModal-b239bdef.js";import{S as q}from"./ServerErrorCard-68e24f9e.js";import{j as N,k as C}from"./Styles-28f3646d.js";import{A as b}from"./index-d3e69d32.js";import"./react-df1e779d.js";import"./BackendUrl-b545fbc2.js";import"./index.esm-fee2921f.js";import"./reactIcons-4e4e3f5e.js";import"./index-78a7f7bc.js";/* empty css                  */import"./DynamicData-8912af5f.js";import"./useTranslation-7a2cbf87.js";import"./index-c9914c9b.js";import"./index.esm-6db88f18.js";import"./axios-67d8a945.js";import"./redux-af83932f.js";import"./i18next-e2c66b9b.js";function le(){var h,f;const[x,g]=c.useState(),[v,l]=c.useState(!1),[t,n]=c.useState(),[_,d]=c.useState(!1),{api_getSpecificHoldingTranscationHistory:u}=A(),{api_getPropHoldingDetailsById:w}=H(),{id:m}=T(),p=P();c.useEffect(()=>{z()},[]);const z=()=>{l(!0);let s={propId:m};b.post(u,s,j()).then(function(i){var o;g((o=i==null?void 0:i.data)==null?void 0:o.data),l(!1)}).catch(function(i){l(!1)})},S=()=>{d(!1),l(!0),b.post(`${w}`,{propertyId:m},j()).then(function(s){var i,o,y,a;(o=(i=s==null?void 0:s.data)==null?void 0:i.data)!=null&&o.status?n((y=s==null?void 0:s.data)==null?void 0:y.data):n((a=s==null?void 0:s.data)==null?void 0:a.data),l(!1)}).catch(function(s){d(!0),l(!1)})};return c.useEffect(()=>{S()},[]),v?e.jsxs(e.Fragment,{children:[e.jsx(R,{}),e.jsx("div",{className:"min-h-screen"})]}):_?e.jsx(q,{title:"Server is busy",desc:"Server is too busy to respond. Please try again later.",buttonText:"View Dashboard",buttonUrl:"/propertyDashboard"}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"w-ful  mx-auto",children:[e.jsx("div",{className:"",children:e.jsx(B,{title:"Payment History",type:"holding",id:m,safNo:"",active:"payment"})}),e.jsx("div",{className:"",children:e.jsxs("div",{className:"py-6 mt-2 bg-white rounded-lg shadow-lg p-4",children:[e.jsxs("div",{className:"flex space-x-5 pl-4 ",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold text-sm",children:r(t==null?void 0:t.old_ward_no)}),e.jsx("div",{className:"text-gray-500 text-xs capitalize",children:"Ward No."})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-lg",children:r(t==null?void 0:t.old_ward_no)}),e.jsx("div",{className:"text-gray-500 text-xs capitalize",children:"New Ward No"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-md",children:r(t==null?void 0:t.ownership_type)}),e.jsx("div",{className:"text-gray-500 text-xs capitalize",children:"Ownership Type"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold text-sm",children:r(t==null?void 0:t.property_type)}),e.jsx("div",{className:"text-gray-500 text-xs capitalize",children:"Property Type"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold text-sm",children:r(t==null?void 0:t.holding_type)}),e.jsx("div",{className:"text-gray-500 text-xs capitalize",children:"Holding Type"})]})]}),e.jsxs("div",{className:"flex space-x-10  pl-4 mt-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold text-sm",children:r(t==null?void 0:t.is_mobile_tower)}),e.jsx("div",{className:"text-gray-500 text-xs capitalize",children:"Property has Mobile Tower(s) ?"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-semibold text-md",children:[r(t==null?void 0:t.is_hoarding_board)," "]}),e.jsx("div",{className:"text-gray-500 text-xs capitalize",children:"Property has Hoarding Board(s) ?"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-md",children:r(t==null?void 0:t.is_petrol_pump)}),e.jsx("div",{className:"text-gray-500 text-xs capitalize",children:"Is property a Petrol Pump ?"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold text-sm",children:r(t==null?void 0:t.is_water_harvesting)}),e.jsx("div",{className:"text-gray-500 text-xs capitalize",children:"Rainwater harvesting provision ?"})]}),e.jsx("div",{className:"flex-1"})]})]})}),(x==null?void 0:x.length)==0&&e.jsx("div",{className:"text-2xl font-bold text-red-500 mt-20 text-center",children:e.jsx("span",{className:"border border-red-500 px-4 py-2 shadow-xl",children:"No payments found yet."})}),(x==null?void 0:x.length)!=0&&e.jsx("div",{className:"mt-10 bg-white shadow-xl  rounded-lg",children:e.jsxs("table",{className:"min-w-full leading-normal mt-2",children:[e.jsx("thead",{className:"font-bold text-left text-sm bg-white text-gray-900",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs capitalize text-left",children:"#"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs capitalize text-left",children:"Tansaction No"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs capitalize text-left",children:"Payment Mode"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs capitalize text-left",children:"Date"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs capitalize text-left",children:"From Qtr/Year"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs capitalize text-left",children:"Upto Qtr/Year"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs capitalize text-left",children:"Amount"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs capitalize text-left",children:"Action"})]})}),e.jsxs("tbody",{className:"text-sm",children:[(h=x==null?void 0:x.Holding)==null?void 0:h.map((s,i)=>e.jsxs("tr",{className:"bg-white shadow-lg border-b border-gray-200",children:[e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:i+1}),e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:r(s==null?void 0:s.tran_no)}),e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:r(s==null?void 0:s.payment_mode)}),e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:r(s==null?void 0:s.tran_date)}),e.jsxs("td",{className:"px-2 py-2 text-sm text-left",children:[r(s==null?void 0:s.from_qtr),"/",r(s==null?void 0:s.from_fyear)]}),e.jsxs("td",{className:"px-2 py-2 text-sm text-left",children:[r(s==null?void 0:s.to_qtr),"/",r(s==null?void 0:s.to_fyear)]}),e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:r(s==null?void 0:s.amount)}),e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:e.jsx("button",{onClick:()=>p(`/paymentReceipt/${s==null?void 0:s.tran_no}/holding`),type:"button",className:`cypress_owner_add_update ${N}`,children:"View Receipt"})})]})),(f=x==null?void 0:x.Saf)==null?void 0:f.map((s,i)=>e.jsxs("tr",{className:"bg-white shadow-lg border-b border-gray-200",children:[e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:i+1}),e.jsxs("td",{className:"px-2 py-2 text-sm text-left",children:[r(s==null?void 0:s.tran_no),e.jsx("span",{className:C,children:"SAF"})]}),e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:r(s==null?void 0:s.payment_mode)}),e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:r(s==null?void 0:s.tran_date)}),e.jsxs("td",{className:"px-2 py-2 text-sm text-left",children:[r(s==null?void 0:s.from_qtr),"/",r(s==null?void 0:s.from_fyear)]}),e.jsxs("td",{className:"px-2 py-2 text-sm text-left",children:[r(s==null?void 0:s.to_qtr),"/",r(s==null?void 0:s.to_fyear)]}),e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:r(s==null?void 0:s.amount)}),e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:e.jsx("button",{onClick:()=>p(`/paymentReceipt/${s==null?void 0:s.tran_no}/saf`),type:"button",className:`cypress_owner_add_update ${N}`,children:"View Receipt"})})]}))]})]})}),e.jsx("div",{className:"w-full h-40"})]})})}export{le as default};
