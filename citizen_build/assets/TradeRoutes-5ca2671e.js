import{j as e,L as Ms,D as qs,B as Jt,T as gt,d as zs,e as Qt,b as ft,s as Xt,f as ea,P as kt,C as sa,U as zt,S as ta,g as Xs,p as aa,k as la,F as Et,W as na,l as Ws,m as Hs,n as lt,G as Ys,A as nt,H as ia,o as ca,q as ra,t as da,u as Lt,v as It,w as oa}from"./mui-376c770d.js";import{r as a,g as ua,a as Ls,u as ys,L as qe,f as ks,b as ha,d as ma,e as es}from"./router-87042356.js";import{T as de,H as me,u as xa,d as Os,M as ga}from"./TradeApiListFile-916c0ca7.js";import{T as Wt,c as We,d as H,u as He,A as ue,e as fa,f as ja,g as jt,h as ba,i as ht,j as Us,Q as X,k as Zs,l as Ht,b as Ps,m as Na,o as Vt,n as Te,p as ya}from"./index-ce35b639.js";import{O as va,C as mt,c as ss,N as Ae,S as pa,I as it,a as wa,b as Sa}from"./UsefulFunctions-3851713a.js";import{q as Js}from"./react-tooltip.min-4d128b48.js";import"./react-09dd1212.js";import"./index-8289c3ab.js";import{r as bt,i as Nt}from"./createSvgIcon-4bcb72d2.js";import{M as bs}from"./index-d22e5223.js";import{R as Ca}from"./RazorpayPaymentScreen-00f0f2c9.js";import{Q as et}from"./QrCode-e3a780b5.js";import{R as yt}from"./index-90c6ecf6.js";import{H as ct}from"./index.esm-e8e486ac.js";import{B as Da}from"./index.esm-c151f2f7.js";import{a as Es,b as _a}from"./axios-97164839.js";import"./sweetalert2.all-9f5010e0.js";import{C as $a}from"./ChatBot-a9b04432.js";import{p as Fa,a as Pt}from"./approved-b4ef6d66.js";import{M as rt,a as dt}from"./index.esm-df462c79.js";import{C as Ta}from"./index.esm-45d377c2.js";import{C as Ut}from"./CitizenApplyApiList-82589c8a.js";import{C as Gs}from"./CommonModal-eb59af0e.js";import{B as vt}from"./BarLoader-c8874430.js";import{S as pt}from"./ServerErrorCard-f65542ab.js";import{G as Aa}from"./index.esm-9092ded8.js";import{b as Oa,a as ka,c as Ea}from"./Styles-a2fa8249.js";import{L as La}from"./ListTable-2d377364.js";import{d as ot}from"./demoUser-c2d710fd.js";import{I as Ia}from"./index.esm-106f4d18.js";import{A as Va}from"./ApiHeader2-b5fd0f3d.js";import Pa from"./ProtectedRoutes-96a2844e.js";import"./reactIcons-6a3b6da1.js";import"./redux-f5c77cc0.js";import"./i18next-e99b4042.js";import"./materialTailwind-f1dc4d8b.js";import"./WaterApiList-8bb13a0d.js";/* empty css                */import"./user-9843d999.js";import"./index.esm-f717eb21.js";import"./TitleBar-e3b6074d.js";function Bs(s){return e.jsx("div",{className:`${s.show?"grid":"hidden"} bg-transparent bg z-20 absolute w-full h-screen`,children:e.jsx("div",{className:"h-24 w-24 mx-auto my-[15%]",children:e.jsx(Wt,{height:"80",width:"80",radius:"9",color:"#6666ff",ariaLabel:"three-dots-loading",wrapperStyle:{},wrapperClassName:"",visible:!0})})})}const p="w-full block flex-shrink flex-grow max-w-full leading-5 relative text-sm py-2 px-4 ltr:rounded-l rtl:rounded-r text-gray-800  overflow-x-auto focus:outline-none border border-gray-200 focus:border-gray-300 focus:ring-0  ",Ba="w-full block flex-shrink flex-grow max-w-full leading-5 relative text-md py-2 px-4 bg-gray-200 ltr:rounded-l rtl:rounded-r text-gray-800  overflow-x-auto focus:outline-none border border-gray-200 focus:border-gray-300 focus:ring-0  ",M="form-group col-span-4 md:col-span-1 mb-4 md:px-4 ",te="text-red-600 absolute text-xs",R="form-label inline-block mb-1 text-gray-600 text-sm font-semibold",ze="capitalize shadow hover:shadow-md py-2 px-5 mr-2 mb-2 text-sm font-medium text-gray-900 focus:outline-none bg-gray-50 rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-200 ",Fe="capitalize hover:shadow-md text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2 mr-2 mb-2 focus:outline-none ",Ra="capitalize text-white bg-gradient-to-r from-cyan-500 to-blue-500 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-cyan-300 font-medium rounded-lg text-sm px-5 py-2 text-center mr-2 mb-2";function st(s){const l=s.applicationType,h="w-full mx-4",C="flex text-gray-500 text-lg font-mono",b="w-full  border shadow  shadow-zinc-50 hover:shadow-lg hover:shadow-zinc-100 mr-6 text-slate-600 rounded-lg text-lg font-poppins font-semibold uppercase text-center";return e.jsxs("div",{className:`${h} `,children:[l==1&&e.jsx("div",{className:"flex text-gray-500 text-lg font-mono",children:e.jsx("div",{className:`${b}`,children:e.jsxs("h1",{className:"flex justify-start",children:[e.jsx(Js,{anchorId:"applicationNo"}),e.jsxs("span",{className:"p-2",children:[e.jsx(Ms,{fontSize:"large"}),"   You are ",s!=null&&s.updateStatus?e.jsxs("span",{children:["updating a New Trade Application :",e.jsxs("span",{className:"underline cursor-pointer active:text-blue-600 focus:text-blue-600",onClick:()=>{navigator.clipboard.writeText(s==null?void 0:s.applicationNo),window.document.getElementById("checkMark").style.display=""},id:"applicationNo","data-tooltip-content":"click to copy Application No.",children:[s==null?void 0:s.applicationNo,e.jsx("span",{style:{display:"none",color:"green"},id:"checkMark",children:e.jsx(qs,{})})]})]}):e.jsx("span",{children:"applying for a New Trade License"})]})]})})}),l==2&&e.jsx("div",{className:`${C}`,children:e.jsx("div",{className:`${b}`,children:e.jsx("h1",{className:"flex justify-start",children:e.jsxs("span",{className:"p-2",children:[e.jsx(Ms,{fontSize:"large"}),"   You are ",s!=null&&s.updateStatus?e.jsxs("span",{children:["updating a Renewal Trade Application :",e.jsxs("span",{className:"underline cursor-pointer active:text-blue-600 focus:text-blue-600",onClick:()=>{navigator.clipboard.writeText(s==null?void 0:s.applicationNo),window.document.getElementById("checkMark").style.display=""},id:"applicationNo","data-tooltip-content":"click to copy Application No.",children:[s==null?void 0:s.applicationNo,e.jsx("span",{style:{display:"none",color:"green"},id:"checkMark",children:e.jsx(qs,{})})]})]}):e.jsx("span",{children:"applying for a Trade License Renewal"})]})})})}),l==3&&e.jsx("div",{className:`${C}`,children:e.jsx("div",{className:`${b}`,children:e.jsx("h1",{className:"flex justify-start",children:e.jsxs("span",{className:"p-2",children:[e.jsx(Ms,{fontSize:"large"}),"   You are ",s!=null&&s.updateStatus?e.jsxs("span",{children:["updating an Amendment Trade Application :",e.jsxs("span",{className:"underline cursor-pointer active:text-blue-600 focus:text-blue-600",onClick:()=>{navigator.clipboard.writeText(s==null?void 0:s.applicationNo),window.document.getElementById("checkMark").style.display=""},id:"applicationNo","data-tooltip-content":"click to copy Application No.",children:[s==null?void 0:s.applicationNo,e.jsx("span",{style:{display:"none",color:"green"},id:"checkMark",children:e.jsx(qs,{})})]})]}):e.jsx("span",{children:"applying for a Trade License Amendment"})]})})})}),l==4&&e.jsx("div",{className:`${C}`,children:e.jsx("div",{className:`${b}`,children:e.jsx("h1",{className:"flex justify-start",children:e.jsxs("span",{className:"p-2",children:[e.jsx(Ms,{fontSize:"large"}),"   You are ",s!=null&&s.updateStatus?e.jsxs("span",{children:["updating an Surrender Trade Application :",e.jsxs("span",{className:"underline cursor-pointer active:text-blue-600 focus:text-blue-600",onClick:()=>{navigator.clipboard.writeText(s==null?void 0:s.applicationNo),window.document.getElementById("checkMark").style.display=""},id:"applicationNo","data-tooltip-content":"click to copy Application No.",children:[s==null?void 0:s.applicationNo,e.jsx("span",{style:{display:"none",color:"green"},id:"checkMark",children:e.jsx(qs,{})})]})]}):e.jsx("span",{children:"applying for a Trade License Surrender"})]})})})})]})}function Ye(s){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"w-full flex justify-start outline outline-1 outline-blue-500 bg-blue-100 hover:bg-blue-100 hover:shadow-lg p-2 my-2 rounded mr-4",children:[e.jsxs("h1",{className:" font-serif font-semibold text-xs ",children:[e.jsx(Jt,{})," ",s==null?void 0:s.heading," "]}),e.jsxs("p",{className:"ml-4 italic font-mono text-xs  capitalize  rounded-lg w-1/2 md:w-auto flex",children:[e.jsx("span",{className:"text-amber-600"}),e.jsxs("span",{className:"p-1",children:[s==null?void 0:s.message," "]})]})]})})}function Ma(s){var D,O,q;const{applicationType:l,colorCode:h,currentStep:C,currentStepFun:b,collectAllFormData:c,collectFormDataFun:t,firmStepFun:u,firmStep:g,colorCodeFun:m,fieldData:f,licenseData:w,showLoader:F}=s==null?void 0:s.values,[S,k]=a.useState(!1);a.useState(!1),a.useState(!1),a.useState();const[T,_]=a.useState(!1),[r,L]=a.useState(!0),[o,E]=a.useState(!1);console.log("applicationType initial ",l);const P=We({applyWith:H().required("Select an option"),firmType:H().required("Select firm type"),ownershipType:H().required("Select ownership type"),categoryTypeId:H().required("select an option"),noticeNo:H().when("applyWith",{is:"1",then:H().required("Notice No. is required")}),noticeDate:H().when("applyWith",{is:"1",then:H().required("Notice date is required")})}),d=He({initialValues:{applyWith:"",noticeNo:"",noticeDate:"",firmType:"",ownershipType:"",licenseNo:"",licenseNo:"",otherFirmType:"",categoryTypeId:""},enableReinitialize:!0,onSubmit:(i,v)=>{F(!0),console.log("basic deatils ",i),t("initialBusinessDetails",i,0),setTimeout(()=>{u(2),b(2),m(1),F(!1)},500)},validationSchema:P}),N=[{option:"Notice No.",value:1},{option:"New Application",value:2}],y=i=>{var I;F(!0);const v=i.target.value;v!=""?ue.post(de.GET_DENIAL_DETAILS,{noticeNo:v,ulbId:(I=s==null?void 0:s.values)==null?void 0:I.ulbId},me()).then(function(K){console.log("notice data ",K.data),s==null||s.denialDetailsFun(K.data),K.data.status?(s.toast("Notice No. found","success"),d.setFieldValue("noticeDate",K.data.data.denialDetails.noticedate),E(!0)):(s.toast("Invalid Notice No.","notice"),$(),E(!0)),F(!1)}).catch(function(K){console.log(K),s.toast("Something Went Wrong !","error"),F(!1)}):($(),s==null||s.denialDetailsFun({})),F(!1)},$=()=>{d.setFieldValue("noticeDate",""),d.setFieldValue("noticeNo",""),s==null||s.denialDetailsFun({})},A=i=>{let v=i.target.name,I=i.target.value;v==="applyWith"&&k(I==="1"),v==="applyWith"&&I==="2"&&$(),v==="firmType"&&_(I==="5")},B=()=>{L(!r)};return e.jsx(e.Fragment,{children:e.jsx("div",{className:" absolute w-full md:w-full sm:w-full  pl-2 pr-4  pb-24 ",children:e.jsx("form",{onChange:A,onSubmit:d.handleSubmit,children:e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:" md:h-auto  bg-white p-2  ",children:[e.jsx(Ye,{heading:"Basic Details",message:"Some basic details about your business...",iconTitle:"Initial Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4",children:[e.jsxs("div",{className:`${M}`,children:[e.jsx(gt,{title:e.jsxs("div",{className:"",children:[e.jsx(zs,{color:"primary",fontWeight:"bold",children:"DIRECTION"}),e.jsxs(zs,{variant:"caption",gutterBottom:!0,children:[e.jsx(e.Fragment,{children:` 
1. Apply with NOTICE NO if a denial notice has been issued against you.`})," ",e.jsx("br",{}),e.jsx(e.Fragment,{children:`
2.If your FIRM TYPE is other than the options listed. A box will appear for you to define it.`})," ",e.jsx("br",{}),e.jsx("u",{children:`
3. All starred (*) fields are marked mandatory.`}),".",e.jsx("br",{})]}),e.jsxs(zs,{color:"primary",fontWeight:"bold",children:[e.jsx("br",{})," निर्देश ",e.jsx("br",{})]}),e.jsxs(zs,{variant:"caption",gutterBottom:!0,children:["1. यदि आपके खिलाफ एक इनकार नोटिस जारी हुआ  है तो नोटिस नंबर के साथ आवेदन करें।",e.jsx("br",{}),"2.यदि आपकी फर्म प्रकार सूचीबद्ध विकल्पों के अलावा अन्य है। इसे परिभाषित करने के लिए आपको एक बॉक्स दिखाई देगा।",e.jsx("br",{}),"3. सभी तारांकित (*) बॉक्स अनिवार्य रूप से चिह्नित हैं। ",e.jsx("br",{})]}),"------*--------"]}),children:e.jsxs("label",{className:`${R} text-xs`,children:["Apply With",e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),e.jsx(Qt,{})]})}),e.jsxs("select",{...d.getFieldProps("applyWith"),className:`${p} `,value:d.values.applyWith,onChange:d.handleChange,children:[e.jsx("option",{value:"",selected:!0,children:"SELECT"}),N==null?void 0:N.map(i=>e.jsx("option",{value:i.value,children:i.option}))]}),e.jsx("span",{className:`${te}`,children:d.touched.applyWith&&d.errors.applyWith?d.errors.applyWith:null})]}),e.jsxs("div",{className:`relative  col-span-4 md:col-span-3 ${S?"grid":"hidden"} grid-cols-1 md:grid-cols-3 `,children:[e.jsxs("div",{className:`${o?"":"hidden"}`,children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-xs font-normal",children:["Notice Date",e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{name:"noticeDate",type:"date",className:`read-only:bg-gray-100  ${p} `,placeholder:"2021/04/12",value:d.values.noticeDate,onChange:d.handleChange,readOnly:"readonly"}),e.jsx("span",{className:`${te}`,children:d.touched.noticeDate&&d.errors.noticeDate?d.errors.noticeDate:null})]}),e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-xs font-normal",children:["Notice No.",e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("div",{className:"flex",children:e.jsx("div",{className:"flex-1",children:e.jsx("input",{name:"noticeNo",type:"text",className:` ${p} `,placeholder:"Enter Notice No.",min:6,onBlur:y,value:d.values.noticeNo,onChange:d.handleChange})})}),e.jsx("span",{className:`${te}`,children:d.touched.noticeNo&&d.errors.noticeNo?d.errors.noticeNo:null})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4",children:[e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[" ","Firm Type"," ",e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsxs("select",{...d.getFieldProps("firmType"),className:`${p}  text-xs`,value:d.values.firmType,onChange:d.handleChange,children:[e.jsx("option",{value:"",disabled:!0,selected:!0,children:"SELECT"}),(D=f==null?void 0:f.firmTypeList)==null?void 0:D.map(i=>e.jsx("option",{value:i.id,children:i.firm_type}))]}),e.jsx("span",{className:`${te}`,children:d.touched.firmType&&d.errors.firmType?d.errors.firmType:null})]}),e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:["Premises Owner Type",e.jsx("small",{className:"block mt-1 text-xs font-semibold text-red-600 inline ",children:"*"})]}),e.jsxs("select",{...d.getFieldProps("ownershipType"),className:`${p}  text-xs `,children:[e.jsx("option",{value:"",disabled:!0,selected:!0,children:"SELECT"}),(O=f==null?void 0:f.ownershipTypeList)==null?void 0:O.map(i=>e.jsx("option",{value:i.id,children:i.ownership_type}))]}),e.jsx("span",{className:`${te}`,children:d.touched.ownershipType&&d.errors.ownershipType?d.errors.ownershipType:null})]}),e.jsxs("div",{className:`${M} ${T?"":"hidden"}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:["Other Firm Type",e.jsx("small",{className:"block mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{type:"text",name:"otherFirmType",className:`${p}  text-xs `,placeholder:"Other Firm type",onChange:i=>{const v=i.target.value;/^[a-zA-Z]*$/.test(v)&&d.handleChange(i)},value:d.values.otherFirmType}),e.jsx("span",{className:`${te}`,children:d.touched.ownershipType&&d.errors.ownershipType?d.errors.ownershipType:null})]}),e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:["Category Type Id",e.jsx("small",{className:"block mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsxs("select",{...d.getFieldProps("categoryTypeId"),className:`${p}  text-xs `,children:[e.jsx("option",{value:"",disabled:!0,selected:!0,children:"SELECT"}),(q=f==null?void 0:f.categoryTypeList)==null?void 0:q.map(i=>e.jsx("option",{value:i.id,children:i.category_type}))]}),e.jsx("span",{className:`${te}`,children:d.touched.categoryTypeId&&d.errors.categoryTypeId?d.errors.categoryTypeId:null})]}),e.jsx("div",{className:"col-span-4 grid grid-cols-2",children:e.jsx("div",{className:"md:px-10"})})]}),e.jsxs("div",{className:"text-sm mt-8",children:[e.jsxs("button",{type:"button",className:"underline text-xs text-blue-400 my-2",onClick:B,children:[r?"Hide":"Show"," info box..."]}),e.jsxs("div",{className:`shadow-sm border border-cyan-50 shadow-gray-300 pr-10 ${r?"block":"hidden"}`,children:[e.jsx("h1",{className:"h-8 underline hover:underline bg-slate-50 rounded text-dark p-2  font-medium ",children:"1. Apply with NOTICE NO if a denial notice has been issued against you."}),e.jsx("h1",{className:"h-8 hover:underline bg-slate-50  rounded text-dark p-2  font-medium ",children:"2. If your FIRM TYPE is other than the options listed. A box will appear for you to define it."}),e.jsxs("h1",{className:"h-8 hover:underline bg-slate-50 rounded text-dark p-2  font-medium ",children:["3. All starred ",e.jsx("span",{className:"text-red-500",children:"(*)"})," ","fields are marked mandatory."]}),e.jsx("p",{className:"",children:" "}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-2 w-full "})]})]})]}),e.jsx("div",{className:"md:px-10 text-right  w-full",children:e.jsx("button",{type:"submit",className:`${Fe}`,children:"Save & Next"})})]})})})})}var Yt={exports:{}},Qs={};Object.defineProperty(Qs,"__esModule",{value:!0});var Vs,xt=a,ye=(Vs=xt)&&typeof Vs=="object"&&"default"in Vs?Vs.default:Vs;function Gt(s,l){return(Gt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(h,C){return h.__proto__=C,h})(s,l)}function Se(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(function(s,l){l===void 0&&(l={});var h=l.insertAt;if(typeof document<"u"){var C=document.head||document.getElementsByTagName("head")[0],b=document.createElement("style");b.type="text/css",h==="top"&&C.firstChild?C.insertBefore(b,C.firstChild):C.appendChild(b),b.styleSheet?b.styleSheet.cssText=s:b.appendChild(document.createTextNode(s))}})('.multiSelectContainer,.multiSelectContainer *,.multiSelectContainer :after,.multiSelectContainer :before{box-sizing:border-box}.multiSelectContainer{position:relative;text-align:left;width:100%}.disable_ms{opacity:.5;pointer-events:none}.display-none{display:none}.searchWrapper{border:1px solid #ccc;border-radius:4px;min-height:22px;padding:5px;position:relative}.multiSelectContainer input{background:transparent;border:none;margin-top:3px}.multiSelectContainer input:focus{outline:none}.chip{align-items:center;background:#0096fb;border-radius:11px;color:#fff;display:inline-flex;font-size:13px;line-height:19px;margin-bottom:5px;margin-right:5px;padding:4px 10px}.chip,.singleChip{white-space:nowrap}.singleChip{background:none;border-radius:none;color:inherit}.singleChip i{display:none}.closeIcon{cursor:pointer;float:right;height:13px;margin-left:5px;width:13px}.optionListContainer{background:#fff;border-radius:4px;margin-top:1px;position:absolute;width:100%;z-index:2}.multiSelectContainer ul{border:1px solid #ccc;border-radius:4px;display:block;margin:0;max-height:250px;overflow-y:auto;padding:0}.multiSelectContainer li{padding:10px}.multiSelectContainer li:hover{background:#0096fb;color:#fff;cursor:pointer}.checkbox{margin-right:10px}.disableSelection{opacity:.5;pointer-events:none}.highlightOption{background:#0096fb;color:#fff}.displayBlock{display:block}.displayNone{display:none}.notFound{display:block;padding:10px}.singleSelect{padding-right:20px}li.groupHeading{color:#908e8e;padding:5px 15px;pointer-events:none}li.groupChildEle{padding-left:30px}.icon_down_dir{position:absolute;right:10px;top:50%;transform:translateY(-50%);width:14px}.icon_down_dir:before{content:"\\e803"}.custom-close{display:flex}');var Bt={circle:"data:image/svg+xml,%3Csvg%20height%3D%22512px%22%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%20512%20512%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%20512%20512%22%20width%3D%22512px%22%20xml%3Aspace%3D%22preserve%22%20%20%20%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20%20%20%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Cstyle%20type%3D%22text%2Fcss%22%3E%20%20%20%20%20%20%20%20.st0%7B%20%20%20%20%20%20%20%20%20%20%20%20fill%3A%23fff%3B%20%20%20%20%20%20%20%20%7D%20%3C%2Fstyle%3E%20%20%20%20%3Cg%3E%20%20%20%20%20%20%20%20%3Cpath%20class%3D%22st0%22%20d%3D%22M256%2C33C132.3%2C33%2C32%2C133.3%2C32%2C257c0%2C123.7%2C100.3%2C224%2C224%2C224c123.7%2C0%2C224-100.3%2C224-224C480%2C133.3%2C379.7%2C33%2C256%2C33z%20%20%20%20M364.3%2C332.5c1.5%2C1.5%2C2.3%2C3.5%2C2.3%2C5.6c0%2C2.1-0.8%2C4.2-2.3%2C5.6l-21.6%2C21.7c-1.6%2C1.6-3.6%2C2.3-5.6%2C2.3c-2%2C0-4.1-0.8-5.6-2.3L256%2C289.8%20%20%20l-75.4%2C75.7c-1.5%2C1.6-3.6%2C2.3-5.6%2C2.3c-2%2C0-4.1-0.8-5.6-2.3l-21.6-21.7c-1.5-1.5-2.3-3.5-2.3-5.6c0-2.1%2C0.8-4.2%2C2.3-5.6l75.7-76%20%20%20l-75.9-75c-3.1-3.1-3.1-8.2%2C0-11.3l21.6-21.7c1.5-1.5%2C3.5-2.3%2C5.6-2.3c2.1%2C0%2C4.1%2C0.8%2C5.6%2C2.3l75.7%2C74.7l75.7-74.7%20%20%20c1.5-1.5%2C3.5-2.3%2C5.6-2.3c2.1%2C0%2C4.1%2C0.8%2C5.6%2C2.3l21.6%2C21.7c3.1%2C3.1%2C3.1%2C8.2%2C0%2C11.3l-75.9%2C75L364.3%2C332.5z%22%2F%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",circle2:"data:image/svg+xml,%3Csvg%20viewBox%3D%220%200%2096%2096%22%20%20%20%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%20%20%20%20%3Cstyle%20type%3D%22text%2Fcss%22%3E%20%20%20%20%20%20%20%20.st0%7B%20%20%20%20%20%20%20%20%20%20%20%20fill%3A%23fff%3B%20%20%20%20%20%20%20%20%7D%20%3C%2Fstyle%3E%20%20%20%20%3Cg%3E%20%20%20%20%20%20%20%20%3Cpath%20class%3D%22st0%22%20d%3D%22M48%2C0A48%2C48%2C0%2C1%2C0%2C96%2C48%2C48.0512%2C48.0512%2C0%2C0%2C0%2C48%2C0Zm0%2C84A36%2C36%2C0%2C1%2C1%2C84%2C48%2C36.0393%2C36.0393%2C0%2C0%2C1%2C48%2C84Z%22%2F%3E%20%20%20%20%20%20%20%20%3Cpath%20class%3D%22st0%22%20d%3D%22M64.2422%2C31.7578a5.9979%2C5.9979%2C0%2C0%2C0-8.4844%2C0L48%2C39.5156l-7.7578-7.7578a5.9994%2C5.9994%2C0%2C0%2C0-8.4844%2C8.4844L39.5156%2C48l-7.7578%2C7.7578a5.9994%2C5.9994%2C0%2C1%2C0%2C8.4844%2C8.4844L48%2C56.4844l7.7578%2C7.7578a5.9994%2C5.9994%2C0%2C0%2C0%2C8.4844-8.4844L56.4844%2C48l7.7578-7.7578A5.9979%2C5.9979%2C0%2C0%2C0%2C64.2422%2C31.7578Z%22%2F%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",close:"data:image/svg+xml,%3Csvg%20height%3D%22135.467mm%22%20style%3D%22shape-rendering%3AgeometricPrecision%3B%20text-rendering%3AgeometricPrecision%3B%20image-rendering%3AoptimizeQuality%3B%20fill-rule%3Aevenodd%3B%20clip-rule%3Aevenodd%22%20viewBox%3D%220%200%2013547%2013547%22%20width%3D%22135.467mm%22%20xml%3Aspace%3D%22preserve%22%20%20%20%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20%20%20%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Cdefs%3E%20%20%20%20%20%20%20%20%3Cstyle%20type%3D%22text%2Fcss%22%3E%20%20%20%20%20%20%20%20%20%20%20%20.fil0%20%7Bfill%3Anone%7D%20%20%20%20%20%20%20%20%20%20%20%20.fil1%20%7Bfill%3A%23fff%7D%20%20%20%20%20%20%20%20%3C%2Fstyle%3E%20%20%20%20%3C%2Fdefs%3E%20%20%20%20%3Cg%20id%3D%22Ebene_x0020_1%22%3E%20%20%20%20%20%20%20%20%3Cpolygon%20class%3D%22fil0%22%20points%3D%220%2C0%2013547%2C0%2013547%2C13547%200%2C13547%20%22%2F%3E%20%20%20%20%20%20%20%20%3Cpath%20class%3D%22fil1%22%20d%3D%22M714%2012832l12118%200%200%20-12117%20-12118%200%200%2012117zm4188%20-2990l1871%20-1871%201871%201871%201197%20-1197%20-1871%20-1871%201871%20-1871%20-1197%20-1197%20-1871%201871%20-1871%20-1871%20-1197%201197%201871%201871%20-1871%201871%201197%201197z%22%2F%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",cancel:"data:image/svg+xml,%3Csvg%20height%3D%22512px%22%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%20512%20512%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%20512%20512%22%20width%3D%22512px%22%20xml%3Aspace%3D%22preserve%22%20%20%20%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20%20%20%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Cstyle%20type%3D%22text%2Fcss%22%3E%20%20%20%20%20%20%20%20.st0%7B%20%20%20%20%20%20%20%20%20%20%20%20fill%3A%23fff%3B%20%20%20%20%20%20%20%20%7D%20%3C%2Fstyle%3E%20%20%20%20%3Cpath%20class%3D%22st0%22%20d%3D%22M443.6%2C387.1L312.4%2C255.4l131.5-130c5.4-5.4%2C5.4-14.2%2C0-19.6l-37.4-37.6c-2.6-2.6-6.1-4-9.8-4c-3.7%2C0-7.2%2C1.5-9.8%2C4%20%20L256%2C197.8L124.9%2C68.3c-2.6-2.6-6.1-4-9.8-4c-3.7%2C0-7.2%2C1.5-9.8%2C4L68%2C105.9c-5.4%2C5.4-5.4%2C14.2%2C0%2C19.6l131.5%2C130L68.4%2C387.1%20%20c-2.6%2C2.6-4.1%2C6.1-4.1%2C9.8c0%2C3.7%2C1.4%2C7.2%2C4.1%2C9.8l37.4%2C37.6c2.7%2C2.7%2C6.2%2C4.1%2C9.8%2C4.1c3.5%2C0%2C7.1-1.3%2C9.8-4.1L256%2C313.1l130.7%2C131.1%20%20c2.7%2C2.7%2C6.2%2C4.1%2C9.8%2C4.1c3.5%2C0%2C7.1-1.3%2C9.8-4.1l37.4-37.6c2.6-2.6%2C4.1-6.1%2C4.1-9.8C447.7%2C393.2%2C446.2%2C389.7%2C443.6%2C387.1z%22%2F%3E%3C%2Fsvg%3E"};function qa(s){var l,h,C=xt.useRef(null);return h=s.outsideClick,xt.useEffect(function(){function b(c){l.current&&!l.current.contains(c.target)&&h()}return document.addEventListener("mousedown",b),function(){document.removeEventListener("mousedown",b)}},[l=C]),ye.createElement("div",{ref:C},s.children)}var ut=function(s){var l,h;function C(c){var t;return(t=s.call(this,c)||this).state={inputValue:"",options:c.options,filteredOptions:c.options,unfilteredOptions:c.options,selectedValues:Object.assign([],c.selectedValues),preSelectedValues:Object.assign([],c.selectedValues),toggleOptionsList:!1,highlightOption:c.avoidHighlightFirstOption?-1:0,showCheckbox:c.showCheckbox,keepSearchTerm:c.keepSearchTerm,groupedObject:[],closeIconType:Bt[c.closeIcon]||Bt.circle},t.optionTimeout=null,t.searchWrapper=ye.createRef(),t.searchBox=ye.createRef(),t.onChange=t.onChange.bind(Se(t)),t.onKeyPress=t.onKeyPress.bind(Se(t)),t.onFocus=t.onFocus.bind(Se(t)),t.onBlur=t.onBlur.bind(Se(t)),t.renderMultiselectContainer=t.renderMultiselectContainer.bind(Se(t)),t.renderSelectedList=t.renderSelectedList.bind(Se(t)),t.onRemoveSelectedItem=t.onRemoveSelectedItem.bind(Se(t)),t.toggelOptionList=t.toggelOptionList.bind(Se(t)),t.onArrowKeyNavigation=t.onArrowKeyNavigation.bind(Se(t)),t.onSelectItem=t.onSelectItem.bind(Se(t)),t.filterOptionsByInput=t.filterOptionsByInput.bind(Se(t)),t.removeSelectedValuesFromOptions=t.removeSelectedValuesFromOptions.bind(Se(t)),t.isSelectedValue=t.isSelectedValue.bind(Se(t)),t.fadeOutSelection=t.fadeOutSelection.bind(Se(t)),t.isDisablePreSelectedValues=t.isDisablePreSelectedValues.bind(Se(t)),t.renderGroupByOptions=t.renderGroupByOptions.bind(Se(t)),t.renderNormalOption=t.renderNormalOption.bind(Se(t)),t.listenerCallback=t.listenerCallback.bind(Se(t)),t.resetSelectedValues=t.resetSelectedValues.bind(Se(t)),t.getSelectedItems=t.getSelectedItems.bind(Se(t)),t.getSelectedItemsCount=t.getSelectedItemsCount.bind(Se(t)),t.hideOnClickOutside=t.hideOnClickOutside.bind(Se(t)),t.onCloseOptionList=t.onCloseOptionList.bind(Se(t)),t.isVisible=t.isVisible.bind(Se(t)),t}h=s,(l=C).prototype=Object.create(h.prototype),l.prototype.constructor=l,Gt(l,h);var b=C.prototype;return b.initialSetValue=function(){var c=this.props,t=c.groupBy,u=this.state.options;c.showCheckbox||c.singleSelect||this.removeSelectedValuesFromOptions(!1),t&&this.groupByOptions(u)},b.resetSelectedValues=function(){var c=this,t=this.state.unfilteredOptions;return new Promise(function(u){c.setState({selectedValues:[],preSelectedValues:[],options:t,filteredOptions:t},function(){u(),c.initialSetValue()})})},b.getSelectedItems=function(){return this.state.selectedValues},b.getSelectedItemsCount=function(){return this.state.selectedValues.length},b.componentDidMount=function(){this.initialSetValue(),this.searchWrapper.current.addEventListener("click",this.listenerCallback)},b.componentDidUpdate=function(c){var t=this.props,u=t.options,g=t.selectedValues,m=c.selectedValues;JSON.stringify(c.options)!==JSON.stringify(u)&&this.setState({options:u,filteredOptions:u,unfilteredOptions:u},this.initialSetValue),JSON.stringify(m)!==JSON.stringify(g)&&this.setState({selectedValues:Object.assign([],g),preSelectedValues:Object.assign([],g)},this.initialSetValue)},b.listenerCallback=function(){this.searchBox.current.focus()},b.componentWillUnmount=function(){this.optionTimeout&&clearTimeout(this.optionTimeout),this.searchWrapper.current.removeEventListener("click",this.listenerCallback)},b.removeSelectedValuesFromOptions=function(c){var t=this.props,u=t.isObject,g=t.displayValue,m=t.groupBy,f=this.state,w=f.selectedValues,F=w===void 0?[]:w,S=f.unfilteredOptions;if(!c&&m&&this.groupByOptions(f.options),F.length||c){if(u){var k=S.filter(function(_){return F.findIndex(function(r){return r[g]===_[g]})===-1});return m&&this.groupByOptions(k),void this.setState({options:k,filteredOptions:k},this.filterOptionsByInput)}var T=S.filter(function(_){return F.indexOf(_)===-1});this.setState({options:T,filteredOptions:T},this.filterOptionsByInput)}},b.groupByOptions=function(c){var t=this.props.groupBy,u=c.reduce(function(g,m){var f=m[t]||"Others";return g[f]=g[f]||[],g[f].push(m),g},Object.create({}));this.setState({groupedObject:u})},b.onChange=function(c){var t=this.props.onSearch;this.setState({inputValue:c.target.value},this.filterOptionsByInput),t&&t(c.target.value)},b.onKeyPress=function(c){var t=this.props.onKeyPressFn;t&&t(c,c.target.value)},b.filterOptionsByInput=function(){var c,t=this,u=this.state,g=u.inputValue,m=this.props,f=m.displayValue;c=u.filteredOptions.filter(m.isObject?function(w){return t.matchValues(w[f],g)}:function(w){return t.matchValues(w,g)}),this.groupByOptions(c),this.setState({options:c})},b.matchValues=function(c,t){return this.props.caseSensitiveSearch?c.indexOf(t)>-1:c.toLowerCase?c.toLowerCase().indexOf(t.toLowerCase())>-1:c.toString().indexOf(t)>-1},b.onArrowKeyNavigation=function(c){var t=this.state,u=t.options,g=t.highlightOption,m=t.toggleOptionsList,f=t.selectedValues;if(c.keyCode!==8||t.inputValue||this.props.disablePreSelectedValues||!f.length||this.onRemoveSelectedItem(f.length-1),u.length){if(c.keyCode===38)this.setState(g>0?function(w){return{highlightOption:w.highlightOption-1}}:{highlightOption:u.length-1});else if(c.keyCode===40)this.setState(g<u.length-1?function(w){return{highlightOption:w.highlightOption+1}}:{highlightOption:0});else if(c.key==="Enter"&&u.length&&m){if(g===-1)return;this.onSelectItem(u[g])}}},b.onRemoveSelectedItem=function(c){var t,u=this,g=this.state.selectedValues,m=this.props,f=m.onRemove,w=m.showCheckbox,F=m.displayValue;t=m.isObject?g.findIndex(function(S){return S[F]===c[F]}):g.indexOf(c),g.splice(t,1),f(g,c),this.setState({selectedValues:g},function(){w||u.removeSelectedValuesFromOptions(!0)}),this.props.closeOnSelect||this.searchBox.current.focus()},b.onSelectItem=function(c){var t=this,u=this.state.selectedValues,g=this.props,m=g.selectionLimit,f=g.onSelect,w=g.singleSelect,F=g.showCheckbox;if(this.state.keepSearchTerm||this.setState({inputValue:""}),w)return this.onSingleSelect(c),void f([c],c);this.isSelectedValue(c)?this.onRemoveSelectedItem(c):m!=u.length&&(u.push(c),f(u,c),this.setState({selectedValues:u},function(){F?t.filterOptionsByInput():t.removeSelectedValuesFromOptions(!0)}),this.props.closeOnSelect||this.searchBox.current.focus())},b.onSingleSelect=function(c){this.setState({selectedValues:[c],toggleOptionsList:!1})},b.isSelectedValue=function(c){var t=this.props,u=t.displayValue,g=this.state.selectedValues;return t.isObject?g.filter(function(m){return m[u]===c[u]}).length>0:g.filter(function(m){return m===c}).length>0},b.renderOptionList=function(){var c=this.props,t=c.groupBy,u=c.style,g=c.emptyRecordMsg,m=c.loadingMessage,f=m===void 0?"loading...":m,w=this.state.options;return c.loading?ye.createElement("ul",{className:"optionContainer",style:u.optionContainer},typeof f=="string"&&ye.createElement("span",{style:u.loadingMessage,className:"notFound"},f),typeof f!="string"&&f):ye.createElement("ul",{className:"optionContainer",style:u.optionContainer},w.length===0&&ye.createElement("span",{style:u.notFound,className:"notFound"},g),t?this.renderGroupByOptions():this.renderNormalOption())},b.renderGroupByOptions=function(){var c=this,t=this.props,u=t.isObject,g=u!==void 0&&u,m=t.displayValue,f=t.showCheckbox,w=t.style,F=t.singleSelect,S=this.state.groupedObject;return Object.keys(S).map(function(k){return ye.createElement(ye.Fragment,{key:k},ye.createElement("li",{className:"groupHeading",style:w.groupHeading},k),S[k].map(function(T,_){var r=c.isSelectedValue(T);return ye.createElement("li",{key:"option"+_,style:w.option,className:"groupChildEle option "+(r?"selected":"")+" "+(c.fadeOutSelection(T)?"disableSelection":"")+" "+(c.isDisablePreSelectedValues(T)?"disableSelection":""),onClick:function(){return c.onSelectItem(T)}},f&&!F&&ye.createElement("input",{type:"checkbox",className:"checkbox",readOnly:!0,checked:r}),c.props.optionValueDecorator(g?T[m]:(T||"").toString(),T))}))})},b.renderNormalOption=function(){var c=this,t=this.props,u=t.isObject,g=u!==void 0&&u,m=t.displayValue,f=t.showCheckbox,w=t.style,F=t.singleSelect,S=this.state.highlightOption;return this.state.options.map(function(k,T){var _=c.isSelectedValue(k);return ye.createElement("li",{key:"option"+T,style:w.option,className:"option "+(_?"selected":"")+" "+(S===T?"highlightOption highlight":"")+" "+(c.fadeOutSelection(k)?"disableSelection":"")+" "+(c.isDisablePreSelectedValues(k)?"disableSelection":""),onClick:function(){return c.onSelectItem(k)}},f&&!F&&ye.createElement("input",{type:"checkbox",readOnly:!0,className:"checkbox",checked:_}),c.props.optionValueDecorator(g?k[m]:(k||"").toString(),k))})},b.renderSelectedList=function(){var c=this,t=this.props,u=t.isObject,g=u!==void 0&&u,m=t.displayValue,f=t.style,w=t.singleSelect,F=t.customCloseIcon,S=this.state,k=S.closeIconType;return S.selectedValues.map(function(T,_){return ye.createElement("span",{className:"chip  "+(w&&"singleChip")+" "+(c.isDisablePreSelectedValues(T)&&"disableSelection"),key:_,style:f.chips},c.props.selectedValueDecorator(g?T[m]:(T||"").toString(),T),!c.isDisablePreSelectedValues(T)&&(F?ye.createElement("i",{className:"custom-close",onClick:function(){return c.onRemoveSelectedItem(T)}},F):ye.createElement("img",{className:"icon_cancel closeIcon",src:k,onClick:function(){return c.onRemoveSelectedItem(T)}})))})},b.isDisablePreSelectedValues=function(c){var t=this.props,u=t.displayValue,g=this.state.preSelectedValues;return!(!t.disablePreSelectedValues||!g.length)&&(t.isObject?g.filter(function(m){return m[u]===c[u]}).length>0:g.filter(function(m){return m===c}).length>0)},b.fadeOutSelection=function(c){var t=this.props,u=t.selectionLimit;if(!t.singleSelect){var g=this.state.selectedValues;return u!=-1&&u==g.length&&(u==g.length?!t.showCheckbox||!this.isSelectedValue(c):void 0)}},b.toggelOptionList=function(){this.setState({toggleOptionsList:!this.state.toggleOptionsList,highlightOption:this.props.avoidHighlightFirstOption?-1:0})},b.onCloseOptionList=function(){this.setState({toggleOptionsList:!1,highlightOption:this.props.avoidHighlightFirstOption?-1:0,inputValue:""})},b.onFocus=function(){this.state.toggleOptionsList?clearTimeout(this.optionTimeout):this.toggelOptionList()},b.onBlur=function(){this.setState({inputValue:""},this.filterOptionsByInput),this.optionTimeout=setTimeout(this.onCloseOptionList,250)},b.isVisible=function(c){return!!c&&!!(c.offsetWidth||c.offsetHeight||c.getClientRects().length)},b.hideOnClickOutside=function(){var c=this,t=document.getElementsByClassName("multiselect-container")[0];document.addEventListener("click",function(u){t&&!t.contains(u.target)&&c.isVisible(t)&&c.toggelOptionList()})},b.renderMultiselectContainer=function(){var c=this.state,t=c.inputValue,u=c.toggleOptionsList,g=c.selectedValues,m=this.props,f=m.placeholder,w=m.style,F=m.singleSelect,S=m.id,k=m.name,T=m.hidePlaceholder,_=m.disable,r=m.showArrow,L=m.customArrow;return ye.createElement("div",{className:"multiselect-container multiSelectContainer "+(_?"disable_ms":"")+" "+(m.className||""),id:S||"multiselectContainerReact",style:w.multiselectContainer},ye.createElement("div",{className:"search-wrapper searchWrapper "+(F?"singleSelect":""),ref:this.searchWrapper,style:w.searchBox,onClick:F?this.toggelOptionList:function(){}},!m.hideSelectedList&&this.renderSelectedList(),ye.createElement("input",{type:"text",ref:this.searchBox,className:"searchBox "+(F&&g.length?"display-none":""),id:(S||"search")+"_input",name:(k||"search_name")+"_input",onChange:this.onChange,onKeyPress:this.onKeyPress,value:t,onFocus:this.onFocus,onBlur:this.onBlur,placeholder:F&&g.length||T&&g.length?"":f,onKeyDown:this.onArrowKeyNavigation,style:w.inputField,autoComplete:"off",disabled:F||_}),(F||r)&&ye.createElement(ye.Fragment,null,L?ye.createElement("span",{className:"icon_down_dir"},L):ye.createElement("img",{src:"data:image/svg+xml,%3Csvg%20height%3D%2232%22%20viewBox%3D%220%200%2032%2032%22%20width%3D%2232%22%20%20%20%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%20%20%20%20%3Cg%20id%3D%22background%22%3E%20%20%20%20%20%20%20%20%3Crect%20fill%3D%22none%22%20height%3D%2232%22%20width%3D%2232%22%2F%3E%20%20%20%20%3C%2Fg%3E%20%20%20%20%3Cg%20id%3D%22arrow_x5F_down%22%3E%20%20%20%20%20%20%20%20%3Cpolygon%20points%3D%222.002%2C10%2016.001%2C24%2030.002%2C10%20%20%22%2F%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",className:"icon_cancel icon_down_dir"}))),ye.createElement("div",{className:"optionListContainer "+(u?"displayBlock":"displayNone"),onMouseDown:function(o){o.preventDefault()}},this.renderOptionList()))},b.render=function(){return ye.createElement(qa,{outsideClick:this.onCloseOptionList},this.renderMultiselectContainer())},C}(ye.Component);ut.defaultProps={options:[],disablePreSelectedValues:!1,selectedValues:[],isObject:!0,displayValue:"model",showCheckbox:!1,selectionLimit:-1,placeholder:"Select",groupBy:"",style:{},emptyRecordMsg:"No Options Available",onSelect:function(){},onRemove:function(){},onKeyPressFn:function(){},closeIcon:"circle2",singleSelect:!1,caseSensitiveSearch:!1,id:"",name:"",closeOnSelect:!0,avoidHighlightFirstOption:!1,hidePlaceholder:!1,showArrow:!1,keepSearchTerm:!1,customCloseIcon:"",className:"",customArrow:void 0,selectedValueDecorator:function(s){return s},optionValueDecorator:function(s){return s}},Qs.Multiselect=ut,Qs.default=ut;Yt.exports=Qs;var za=Yt.exports;const Wa=ua(za);function Ha(s){var z,se;const{applicationType:l,colorCode:h,currentStep:C,currentStepFun:b,collectFormDataFun:c,firmStepFun:t,firmStep:u,colorCodeFun:g,fieldData:m,allFormData:f,showLoader:w,ulbId:F}=s.values,[S,k]=a.useState(!1);a.useState({});const[T,_]=a.useState(!1);a.useState(!1),a.useState(!1);const[r,L]=a.useState();let o=[];const[E,P]=a.useState(!0),j=a.useRef(),[d,N]=a.useState([]),[y,$]=a.useState(!1),A=()=>{S==!0?k(!1):k(!0)},B=(W,U)=>{i.values.natureOfBusiness=W},D=(W,U)=>{i.values.natureOfBusiness=W},O=We({wardNo:H().required("Select ward"),newWardNo:H().required("Select New Ward."),areaSqft:fa().required("Enter Area of the premises"),firmName:H().required("Enter Name of the firm").matches(/^[a-z0-9][a-z0-9\.&\s-\,]+$/i,"Firm name is Alphanumeric. "),firmEstdDate:ja().required("Choose establishment date"),businessAddress:H().required("Enter Business address").matches(/^[a-z0-9][a-z0-9\.\s\-\,]+$/i,"BusinessAddress is Alphanumeric. "),landmark:H().required("Enter landmark").matches(/^[a-z0-9][a-z0-9\.\s-\,]+$/i,"landmark is Alphanumeric. "),pincode:H().required("Enter pincode").matches(/[0-9]{6}/,"pincode must be 6 digits."),premisesOwner:H().required("Enter premises owner name").matches(/^[a-zA-Z1-9][a-zA-Z1-9\.\,\s-\,]+$/,"Firm name is Alphanumeric. "),businessDescription:H().required("Enter Business Description").matches(/^[a-zA-Z1-9][a-zA-Z1-9\.\'\&\s-\,]+$/,"landmark is Alphanumeric. ")}),i=He({initialValues:{wardNo:"",holdingNo:"",newWardNo:"",areaSqft:"",firmName:"",firmEstdDate:r,businessAddress:"",landmark:"",pincode:"",premisesOwner:"",businessDescription:"",natureOfBusiness:"",tocStatus:0,propDtlId:""},enableReinitialize:!0,onSubmit:(W,U)=>{w(!0),console.log("Firm deatils ",W),W.natureOfBusiness!=null&&W.natureOfBusiness!=""?(c("firmDetails",W,0),setTimeout(()=>{t(3),b(3),g(2),w(!1)},500)):(w(!1),s.toast("Nature of business cann't be empty","notice"),document.getElementById("natureOfBusiness").focus())},validationSchema:O});let v=[];function I(){var U;let W={};return(U=m==null?void 0:m.natureOfBusiness)==null||U.forEach(Z=>{W={name:"("+Z.trade_code+")"+Z.trade_item,id:Z.id},v.push(W)}),v.reverse()}console.log("natureOfBusiness",I()),s.denialDetails.status&&console.log("denialDetails",s.denialDetails),a.useEffect(()=>{var W,U,Z,Q,n,G,J,le,oe,xe,ve,pe,ge,fe,Ne,Ce,De,_e,$e;(W=s==null?void 0:s.denialDetails)!=null&&W.status?(i.setFieldValue("firmName",(Q=(Z=(U=s==null?void 0:s.denialDetails)==null?void 0:U.data)==null?void 0:Z.denialDetails)==null?void 0:Q.firm_name),i.setFieldValue("wardNo",(J=(G=(n=s==null?void 0:s.denialDetails)==null?void 0:n.data)==null?void 0:G.denialDetails)==null?void 0:J.ward_id),i.setFieldValue("pincode",(xe=(oe=(le=s==null?void 0:s.denialDetails)==null?void 0:le.data)==null?void 0:oe.denialDetails)==null?void 0:xe.pincode),i.setFieldValue("premisesOwner",(ge=(pe=(ve=s==null?void 0:s.denialDetails)==null?void 0:ve.data)==null?void 0:pe.denialDetails)==null?void 0:ge.applicant_name),i.setFieldValue("landmark",(Ce=(Ne=(fe=s==null?void 0:s.denialDetails)==null?void 0:fe.data)==null?void 0:Ne.denialDetails)==null?void 0:Ce.landmark),i.setFieldValue("businessAddress",($e=(_e=(De=s==null?void 0:s.denialDetails)==null?void 0:De.data)==null?void 0:_e.denialDetails)==null?void 0:$e.address),$(!0)):console.log("hello")},[(z=s==null?void 0:s.denialDetails)==null?void 0:z.status]);const K=()=>{t(1)},ee=W=>{var Z;w(!0);const U=W.target.value;console.log("validate holding ",U),U!=""&&U!=null&&U!=null?ue.post(de.VALIDATE_HOLDING,{ulbId:(Z=s==null?void 0:s.values)==null?void 0:Z.ulbId,holdingNo:U},me()).then(function(Q){console.log("validate holding ",Q.data),Q.data.status?(ne(Q.data.data.property),$(!0)):(s==null||s.toast("Invalid Holding No. !","notice"),ie(),$(!1)),w(!1)}).catch(function(Q){console.log(Q),s.toast("Something went wrong !","error"),w(!1)}):(ie(),w(!1),$(!1))},ne=W=>{i.setFieldValue("businessAddress",W.prop_address),i.setFieldValue("pincode",W.prop_pin_code),i.setFieldValue("premisesOwner",W.owner_name),i.setFieldValue("wardNo",W.ward_mstr_id),i.setFieldValue("newWardNo",W.new_ward_mstr_id),ce(W.ward_mstr_id)},ie=()=>{i.setFieldValue("holdingNo",""),i.setFieldValue("businessAddress",""),i.setFieldValue("pincode",""),i.setFieldValue("premisesOwner","")},ae=W=>{let U=W.target.name,Z=W.target.value;U==="applyWith"&&_(Z==="1"),U==="pincode"&&i.setFieldValue("pincode",jt(Z,i.values.pincode,6)),U==="areaSqft"&&i.setFieldValue("areaSqft",ba(Z,i.values.areaSqft,20)),U==="firmName"&&i.setFieldValue("firmName",ht(Z,i.values.firmName,50)),U==="businessAddress"&&i.setFieldValue("businessAddress",Us(Z,i.values.businessAddress,50)),U==="landmark"&&i.setFieldValue("landmark",Us(Z,i.values.landmark,50)),U==="premisesOwner"&&i.setFieldValue("premisesOwner",Us(Z,i.values.premisesOwner,50)),U==="businessDescription"&&i.setFieldValue("businessDescription",Us(Z,i.values.businessDescription,50)),U==="tocStatus"&&re(W),U==="wardNo"&&ce(Z)},ce=W=>{var Z;w(!0);let U={oldWardMstrId:W,ulbId:(Z=s==null?void 0:s.values)==null?void 0:Z.ulbId};ue.post(de.DEPENDENT_WARD_CITIZEN,U,me()).then(Q=>{console.log("dependent wards",Q.data),Q.data.status?N(Q.data.data):s.toast("Nature of business can't be empty","notice"),w(!1)}).catch(Q=>{console.log(Q),s.toast("Something went wrong","error"),w(!1)})},re=W=>{W.target.checked===!0?(P(!1),i.setFieldValue("tocStatus",1),i.setFieldValue("natureOfBusiness",[{id:187}])):(P(!0),i.setFieldValue("tocStatus",0),Y())},Y=()=>{j.current.resetSelectedValues()},x=W=>{var Z,Q,n,G;let U=W.target.value;(Z=s==null?void 0:s.denialDetails)!=null&&Z.status&&U>((G=(n=(Q=s==null?void 0:s.denialDetails)==null?void 0:Q.data)==null?void 0:n.denialDetails)==null?void 0:G.noticedate)&&(i.setFieldValue("firmEstdDate",""),s==null||s.toast("Firm Establishment date should not be greater than the notice date","notice"))};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"absolute w-full pb-16 h-auto  pr-4 bg-white",children:e.jsx("div",{className:"",children:e.jsx("form",{onChange:ae,onSubmit:i.handleSubmit,autoComplete:"off",children:e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:" px-4  ",children:[e.jsx(Ye,{heading:"Firm Details",message:"Your Firm Details will help us reach you easily...",iconTitle:"Firm Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-1",children:[e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" text-sm font-semibold text-red-600 inline ",children:" "})," Holding No."]}),e.jsx("input",{type:"text",name:"holdingNo",className:`${p}  uppercase `,onBlur:ee,value:i.values.holdingNo,onChange:i.handleChange,placeholder:"eg: HOL/12345"}),e.jsx("span",{className:`${te}`,children:i.touched.holdingNo&&i.errors.holdingNo?i.errors.holdingNo:null}),e.jsx("input",{type:"hidden",name:"propDtlId",value:i.values.propDtlId})]}),e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" text-sm font-semibold text-red-600 inline ",children:"*"}),"Ward No",e.jsx("span",{className:"text-gray-500",children:e.jsxs("small",{children:[e.jsx(ft,{fontSize:"10px"})," select a ward to get the list of new wards"]})})]}),e.jsxs("select",{...i.getFieldProps("wardNo"),className:`${p}  `,children:[e.jsx("option",{value:"",selected:!0,children:"SELECT"}),(se=m==null?void 0:m.wardList)==null?void 0:se.map(W=>e.jsx("option",{value:W.id,children:W.ward_no}))]}),e.jsx("span",{className:`${te}`,children:i.touched.wardNo&&i.errors.wardNo?i.errors.wardNo:null})]}),e.jsxs("div",{className:`${M} overflow-y-scroll`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" text-sm font-semibold text-red-600 inline ",children:"*"}),"New Ward No."]}),e.jsxs("select",{...i.getFieldProps("newWardNo"),className:`${p}  `,children:[e.jsx("option",{value:"",selected:!0,children:"select ward no."}),d==null?void 0:d.map(W=>e.jsx("option",{className:"",value:W.new_ward_mstr_id,children:W.ward_name}))]}),e.jsx("span",{className:`${te}`,children:i.touched.newWardNo&&i.errors.newWardNo?i.errors.newWardNo:null})]}),e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" text-sm font-semibold text-red-600 inline ",children:"*"}),"Total Area (sqft)."]}),e.jsx("input",{type:"text",name:"areaSqft",className:`${p}  `,placeholder:"Enter area in sqft",value:i.values.areaSqft,onChange:i.handleChange,maxLength:10}),e.jsx("span",{className:`${te}`,children:i.touched.areaSqft&&i.errors.areaSqft?i.errors.areaSqft:null})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-1",children:[e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" text-sm font-semibold text-red-600 inline ",children:"*"}),"Firm Name."]}),e.jsx("input",{type:"text",name:"firmName",placeholder:"Enter Firm Name",className:`${p}  `,value:i.values.firmName,onChange:i.handleChange,maxLength:50}),e.jsx("span",{className:`${te}`,children:i.touched.firmName&&i.errors.firmName?i.errors.firmName:null})]}),e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:"text-sm font-semibold text-red-600 inline ",children:"*"}),"Firm Establishment Date"]}),e.jsx("input",{type:"date",name:"firmEstdDate",placeholder:"Firm Establishment Date",className:`${p}  `,value:i.values.firmEstdDate,onChange:i.handleChange,onBlur:x,max:va()}),e.jsx("span",{className:`${te}`,children:i.touched.firmEstdDate&&i.errors.firmEstdDate?i.errors.firmEstdDate:null})]}),e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" text-sm font-semibold text-red-600 inline ",children:"*"}),"Business Address"]}),e.jsx("input",{type:"text",name:"businessAddress",className:`${p}  `,value:i.values.businessAddress,onChange:i.handleChange,placeholder:"Business Address"}),e.jsx("span",{className:`${te}`,children:i.touched.businessAddress&&i.errors.businessAddress?i.errors.businessAddress:null})]}),e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:"text-sm font-semibold text-red-600 inline ",children:"*"}),"Landmark"]}),e.jsx("input",{type:"text",name:"landmark",className:`${p}  `,value:i.values.landmark,onChange:i.handleChange,placeholder:"landmark",maxLength:50}),e.jsx("span",{className:`${te}`,children:i.touched.landmark&&i.errors.landmark?i.errors.landmark:null})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-1",children:[e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Pin Code"]}),e.jsx("input",{type:"text",name:"pincode",placeholder:"pincode",className:`${p}  `,value:i.values.pincode,onChange:i.handleChange}),e.jsx("span",{className:`${te}`,children:i.touched.pincode&&i.errors.pincode?i.errors.pincode:null})]}),e.jsxs("div",{className:`${M} `,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" text-sm font-semibold text-red-600 inline ",children:"*"}),"Owner of Business Premises"]}),e.jsx("input",{type:"text",name:"premisesOwner",placeholder:"premisesOwner",className:`${y?Ba:p}  `,value:i.values.premisesOwner,onChange:i.handleChange,readOnly:y}),e.jsx("span",{className:`${te}`,children:i.touched.premisesOwner&&i.errors.premisesOwner?i.errors.premisesOwner:null})]}),e.jsxs("div",{className:"form-group col-span-2 md:px-4 ",children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" text-sm font-semibold text-red-600 inline ",children:"*"}),"Business Description"]}),e.jsx("textarea",{name:"businessDescription",placeholder:"businessDescription",className:"border h-14 px-1 w-full rounded shadow-lg   ",value:i.values.businessDescription,onChange:i.handleChange}),e.jsx("p",{className:`${te}`,children:i.touched.businessDescription&&i.errors.businessDescription?i.errors.businessDescription:null})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-1",children:[e.jsxs("div",{className:"form-group mb-6 md:px-4 col-span-3",children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" mt-1 text-md font-semibold text-red-600 inline ",children:"*"}),"Nature of Business"]}),e.jsxs("div",{className:`${E?"grid":"hidden"} w-full  border-2 rounded-lg shadow-md bg-white whitespace-pre-line`,onClick:A,children:[e.jsx(Wa,{options:I(),selectedValues:o,onSelect:B,onRemove:D,displayValue:"name",name:"natureOfBusiness",style:{searchBox:{border:"none",fontSize:"12px",minHeight:S?"50px":""},chips:{background:"dodgerblue",whiteSpace:"pre-wrap"}},showArrow:"true",selectionLimit:"3",closeIcon:"circle",onChange:i.handleChange,value:i.values.natureOfBusiness,autoComplete:!1,id:"natureOfBusiness",ref:j}),e.jsx("p",{className:`${te}`,children:i.touched.natureOfBusiness&&i.errors.natureOfBusiness?i.errors.natureOfBusiness:null})]})]}),e.jsxs("div",{className:"col-span-1 text-center p-2 mr-4",children:[e.jsx("br",{}),e.jsxs("div",{className:" shadow-md rounded cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"tocStatus",onChange:i.handleChange,value:i.values.tocStatus,className:"cursor-pointer"}),e.jsx(Js,{anchorId:"isTobacco"}),e.jsxs("button",{type:"button",className:`${R} m-1 px-2 py-1 rounded bg-rose-300  text-xs  capitalize font-poppins`,id:"isTobacco","data-tooltip-content":"Check if you are applying for a tobacco license",children:[e.jsx("small",{className:" text-sm font-semibold text-red-600 inline "}),"check for tobacco license"]})]})]})]})]}),e.jsxs("div",{className:"w-full grid grid-cols-2 gap-2 my-4",children:[e.jsx("div",{className:"w-full",children:e.jsx("button",{type:"button",onClick:K,className:`${ze}`,children:" Previous "})}),e.jsx("div",{className:"w-full text-right",children:e.jsx("button",{type:"submit",className:`${Fe}`,children:"Save & Next "})})]})]})})})})})}var wt={},Ua=Nt;Object.defineProperty(wt,"__esModule",{value:!0});var tt=wt.default=void 0,Ya=Ua(bt()),Ga=e,Ka=(0,Ya.default)((0,Ga.jsx)("path",{d:"M18 23H4c-1.1 0-2-.9-2-2V7h2v14h14v2zM15 1H8c-1.1 0-1.99.9-1.99 2L6 17c0 1.1.89 2 1.99 2H19c1.1 0 2-.9 2-2V7l-6-6zm1.5 14h-6v-2h6v2zm0-6h-2v2h-2V9h-2V7h2V5h2v2h2v2z"}),"Difference");tt=wt.default=Ka;var St={},Za=Nt;Object.defineProperty(St,"__esModule",{value:!0});var Ct=St.default=void 0,Ja=Za(bt()),Qa=e,Xa=(0,Ja.default)((0,Qa.jsx)("path",{d:"M22 9V7h-2v2h-2v2h2v2h2v-2h2V9zM8 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 1c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4zm4.51-8.95C13.43 5.11 14 6.49 14 8s-.57 2.89-1.49 3.95C14.47 11.7 16 10.04 16 8s-1.53-3.7-3.49-3.95zm4.02 9.78C17.42 14.66 18 15.7 18 17v3h2v-3c0-1.45-1.59-2.51-3.47-3.17z"}),"GroupAdd");Ct=St.default=Xa;var Dt={},el=Nt;Object.defineProperty(Dt,"__esModule",{value:!0});var _t=Dt.default=void 0,sl=el(bt()),tl=e,al=(0,sl.default)((0,tl.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");_t=Dt.default=al;function ll(s){var ee,ne,ie,ae,ce,re;const{applicationType:l,colorCode:h,currentStep:C,currentStepFun:b,collectFormDataFun:c,firmStepFun:t,firmStep:u,colorCodeFun:g,showLoader:m,setError:f,ErrorMessage:w,ErrorOrigin:F}=s==null?void 0:s.values;console.log("firm step is :",u);const[S,k]=a.useState(!1);a.useState(!1),a.useState(!1);const[T,_]=a.useState(!0),[r,L]=a.useState(!1),[o,E]=a.useState(!1),[P,j]=a.useState([]),[d,N]=a.useState(!0),y=Y=>{let x=[];x=P;let z=x.filter(se=>x.indexOf(se)!=Y);j(z),z.length==0&&_(!0)},$=Y=>!/<script.*?>.*?<\/script>/i.test(Y);console.log("Multiple owner details ",P);const A=We({businessOwnerName:H().required("Enter Business Owner Name").matches(/^[a-zA-Z1-9][a-zA-Z1-9\., \s]+$/,"Please Enter Valid owner Name. "),guardianName:H().required("Enrter Guardian Name").matches(/^[a-zA-Z1-9][a-zA-Z1-9\., \s]+$/,"Please Enter Valid Guardian Name. "),mobileNo:H().length(10).required("Enter Mobile No."),email:H().email("Please enter a valid email address").test("is-safe-email","Email contains invalid characters",$).required("Email is required")}),D=He({initialValues:{businessOwnerName:"",guardianName:"",mobileNo:"",email:"",natureOfBusiness:""},enableReinitialize:!0,onSubmit:(Y,x)=>{if(i(Y.businessOwnerName,Y.mobileNo)){f("Warning : Duplicate Owners are not allowed","ownerDetails");return}else _(!1),L(!0),j([...P,Y]),E(!0),f("",""),D.resetForm()},validationSchema:A}),O=()=>{m(!0),console.log("Final submission of the form ",P),l==1&&P.length==0?(alert("Atleast One Owner is required !"),m(!1)):(c("ownerDetails",P,0),setTimeout(()=>{t(4),b(4),g(3),m(!1)},500))},q=()=>{t(2)},i=(Y,x)=>{if((P==null?void 0:P.length)==0)return!1;{let z=P==null?void 0:P.filter(se=>se.businessOwnerName==Y&&se.mobileNo==x);return console.log("duplicate",z),z.length!=0}},v=Y=>{let x=Y.target.name,z=Y.target.value;x==="applyWith"&&k(z==="1"),x==="mobileNo"&&D.setFieldValue("mobileNo",jt(z,D.values.mobileNo,10)),x==="businessOwnerName"&&D.setFieldValue("businessOwnerName",ht(z,D.values.businessOwnerName,30)),x==="guardianName"&&D.setFieldValue("guardianName",ht(z,D.values.guardianName,30))},I=()=>{T==!1?(_(!0),E(!1)):_(!1)},K=()=>{N(!d)};return a.useEffect(()=>{var Y,x,z;((z=(x=(Y=s==null?void 0:s.values)==null?void 0:Y.allFormData)==null?void 0:x.initialBusinessDetails)==null?void 0:z.firmType)==1&&(P==null?void 0:P.length)>0?(_(!1),E(!1)):E(!0)},[(ie=(ne=(ee=s==null?void 0:s.values)==null?void 0:ee.allFormData)==null?void 0:ne.initialBusinessDetails)==null?void 0:ie.firmType]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"absolute w-full h-auto bg-white pb-24 ",children:[e.jsxs("form",{onChange:v,onSubmit:D.handleSubmit,children:[e.jsxs("div",{className:` ${T?"bg-white ":"bg-white"}`,children:[e.jsx("div",{className:"p-4",children:e.jsx(Ye,{heading:"Owner Details",message:"You can add Multiple Owners Here. ",iconTitle:"Owner Details"})}),e.jsx(e.Fragment,{children:e.jsxs("div",{className:`${T?"":"hidden"}`,children:[e.jsxs("div",{className:"grid grid-cols-3 w-full md:grid-cols-3 gap-2",children:[e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Owner Name"]}),e.jsx("input",{type:"text",name:"businessOwnerName",className:`${p}  `,placeholder:"Ex: John Doe",value:D.values.businessOwnerName,onChange:D.handleChange}),e.jsx("span",{className:`${te}`,children:D.touched.businessOwnerName&&D.errors.businessOwnerName?D.errors.businessOwnerName:null})]}),e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})," Guardian Name"]}),e.jsx("input",{type:"text",name:"guardianName",className:`${p}  `,value:D.values.guardianName,onChange:D.handleChange}),e.jsx("span",{className:`${te}`,children:D.touched.guardianName&&D.errors.guardianName?D.errors.guardianName:null})]}),e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Mobile No."]}),e.jsx("input",{type:"text",name:"mobileNo",className:`${p}  `,value:D.values.mobileNo,onChange:D.handleChange}),e.jsx("span",{className:`${te}`,children:D.touched.mobileNo&&D.errors.mobileNo?D.errors.mobileNo:null})]})]}),e.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-3 gap-1",children:[e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Email"]}),e.jsx("input",{type:"email",name:"email",className:`${p}  `,value:D.values.email,onChange:D.handleChange}),e.jsx("span",{className:`${te}`,children:D.touched.email&&D.errors.email?D.errors.email:null})]}),e.jsx("div",{className:"p-4",children:e.jsxs("button",{type:"submit",onClick:()=>E(!0),className:`${ze}`,children:["Confirm this owner",e.jsx(Ct,{}),"  "]})})]}),e.jsxs("div",{className:"text-sm mt-8",children:[e.jsxs("button",{type:"button",className:"underline text-xs text-blue-400 my-2",onClick:K,children:[d?"Hide":"Show"," info box..."]}),e.jsxs("div",{className:`pr-10 ${d?"block":"hidden"}`,children:[e.jsx("h1",{className:"h-8 bg-slate-50 rounded text-dark p-2 underline hover:underline font-medium ",children:"1. The number of owners you add will be listed on the bottom of this form."}),e.jsx("h1",{className:"h-8 bg-slate-50  rounded text-dark p-2 hover:underline font-medium ",children:"2. You can ADD New Owners or DELETE them if the data in wrong."}),e.jsx("h1",{className:"h-8 bg-slate-50 rounded text-dark p-2 hover:underline font-medium ",children:"3. Kindly refrain from adding an owner twice in the list. Delete the duplicate owner before finally submitting the application."}),e.jsx("p",{className:"hover:underline",children:" "}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-2 w-full "})]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-3 w-full px-10",children:[e.jsx("div",{className:" text-left",children:e.jsx("button",{type:"button",onClick:q,className:`${ze}`,children:" Previous "})}),e.jsx("div",{children:((re=(ce=(ae=s==null?void 0:s.values)==null?void 0:ae.allFormData)==null?void 0:ce.initialBusinessDetails)==null?void 0:re.firmType)!=1?e.jsxs("button",{type:"button",className:`${o?"":"hidden"} ${Ra}`,onClick:I,children:[" Add More Owners ",e.jsx(tt,{})," "]}):e.jsxs("button",{type:"button",className:"text-red-500 bg-sky-50 hover:bg-sky-50 px-4 py-1.5 rounded-lg uppercase text-xs  font-mono mt-4",onClick:I,children:[" ",e.jsx("span",{className:"text-red-500",children:"Single Owner Firm"})," (Proprietorship) "]})}),e.jsx("div",{className:" text-right",children:e.jsx("button",{type:P.length===0?"submit":"button",onClick:O,className:`${Fe}`,children:"Save & Next "})})]})]}),e.jsxs("div",{className:`${r?"":"hidden"}  h-56 mr-8 `,children:[F=="ownerDetails"&&e.jsx(mt,{message:w,callback:f}),e.jsxs("table",{class:"table-auto text-slate-700 w-full mx-auto ",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-100 text-gray-600 text-xs h-8 hover:bg-amber-200 uppercase",children:[e.jsx("th",{children:"Owner Name"}),e.jsx("th",{children:"Guardian Name"}),e.jsx("th",{children:"Mobile No."}),e.jsx("th",{children:"Email."}),e.jsx("th",{children:"Action."})]})}),e.jsx("tbody",{children:P==null?void 0:P.map((Y,x)=>e.jsxs("tr",{className:"border-t-2 hover:bg-slate-50 text-sm hover:shadow-lg text-center  my-2",children:[e.jsx("td",{children:e.jsx("input",{type:"text",name:"businessOwnerName[]",value:Y.businessOwnerName,className:`${p}   my-2`,readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{type:"text",name:"guardianName[]",value:Y.guardianName,className:`${p}  `,readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{type:"text",name:"mobileNo[]",value:Y.mobileNo,className:`${p}  `,readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{type:"text",name:"email[]",value:Y.email,className:`${p}  `,readOnly:!0})}),e.jsx("td",{children:e.jsx("button",{type:"button",className:"text-red-400",onClick:()=>y(x),children:e.jsx(_t,{color:"secondary"})})})]}))})]})]})]})})}function nl(s){var O,q,i;const{colorCode:l,currentStep:h,currentStepFun:C,collectFormDataFun:b,firmStepFun:c,firmStep:t,colorCodeFun:u,allFormData:g,showLoader:m,finalSubmit:f}=s.values;console.log("props values :",s.values);const[w,F]=a.useState(!1);a.useState(!1),a.useState(!1);const[S,k]=a.useState(!1),[T,_]=a.useState(!0),[r,L]=a.useState(!1),o=v=>{L(v.target.checked)},E=We({licenseFor:H().required("Select License For")}),j=He({initialValues:{licenseFor:"",licenseCharge:"",penalty:"",denialAmount:"",totalCharge:"",bankName:"",chequeNo:"",chequeDate:"",branchName:""},onSubmit:(v,I)=>{console.log("Firm Details ",v),window.confirm(`Are you sure ?
 Your license will be processed`)&&(m(!0),b("licenseDetails",v,1),setTimeout(()=>{m(!1)},1e3))},validationSchema:E}),d=()=>{c(3)},N=[{option:"1",value:1},{option:"2",value:2},{option:"3",value:3},{option:"4",value:4},{option:"5",value:5},{option:"6",value:6},{option:"7",value:7},{option:"8",value:8},{option:"9",value:9},{option:"10",value:10}],y=[{option:"CASH",value:"CASH"},{option:"CHEQUE",value:"CHEQUE"},{option:"DEMAND DRAFT",value:"DD"}],$=v=>{let I=v.target.name,K=v.target.value;I==="applyWith"&&F(K==="1"),I==="licenseFor"&&A(K),I==="paymentMode"&&(K=="CASH"||K=="")?k(!1):k(!0),I==="chequeNo"&&K.length>20&&j.setFieldValue("chequeNo",K.slice(0,20))},A=v=>{var K,ee,ne,ie,ae,ce,re,Y,x;m(!0);let I=[];I.licenseFor=v,I.firmEstdDate=(K=g.firmDetails)==null?void 0:K.firmEstdDate,I.natureOfBusiness=(ee=g.firmDetails)==null?void 0:ee.natureOfBusiness,I.areaSqft=(ne=g.firmDetails)==null?void 0:ne.areaSqft,I.applicationType=ss((ie=s.values)==null?void 0:ie.applicationType),I.tocStatus=(ae=g.firmDetails)==null?void 0:ae.tocStatus,(((ce=g.initialBusinessDetails)==null?void 0:ce.noticeDate)!=null||((re=g.initialBusinessDetails)==null?void 0:re.noticeDate)!=""||((Y=g.initialBusinessDetails)==null?void 0:Y.noticeDate)!=null)&&(I.noticeDate=(x=g.initialBusinessDetails)==null?void 0:x.noticeDate),console.log("charge calculation data",Object.assign({},I)),ue.post(de.GET_CHARGE,Object.assign({},I),me()).then(function(z){console.log("license Charge ",z.data),z.data.status?(B(z.data.data),setTimeout(()=>{m(!1)},500)):(s.toast("Unable to get license charge !","notice"),m(!1))}).catch(function(z){console.log(z),m(!1)})},B=v=>{j.setFieldValue("licenseCharge",v.rate),j.setFieldValue("denialAmount",v.arear_amount+v.notice_amount),j.setFieldValue("totalCharge",v.total_charge),j.setFieldValue("penalty",v.penalty)},D=()=>{_(!T)};return console.log("tocStatus",(O=g==null?void 0:g.firmDetails)==null?void 0:O.tocStatus),e.jsx(e.Fragment,{children:e.jsx("div",{className:"absolute w-full h-auto bg-white",children:e.jsx("div",{className:"w-full mr-4",children:e.jsxs("form",{onChange:$,onSubmit:j.handleSubmit,children:[e.jsxs("div",{className:" px-4  ",children:[e.jsx("div",{className:"p-2",children:e.jsx(Ye,{heading:"License Details",message:"Depicted below is your license Charge, as per the given information...",iconTitle:"license charge!"})}),e.jsxs("div",{className:"relative top-2",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-1",children:[e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:"text-sm font-semibold text-red-600 inline ",children:"*"}),"License Duration ",e.jsx("small",{className:"font-thin",children:"(in years)"})]}),((q=g==null?void 0:g.firmDetails)==null?void 0:q.holdingNo)!=""&&((i=g==null?void 0:g.firmDetails)==null?void 0:i.tocStatus)==0?e.jsxs("select",{name:"licenseFor",className:`${p}   `,value:j.values.licenseFor,onChange:j.handleChange,children:[e.jsx("option",{value:"",selected:!0,children:"Select"}),N.map(v=>e.jsxs("option",{value:v.value,children:[v.option," Yrs"]}))]}):e.jsxs("select",{name:"licenseFor",className:`${p}   `,value:j.values.licenseFor,onChange:j.handleChange,children:[e.jsx("option",{value:"",selected:!0,children:"Select"}),e.jsx("option",{value:"1",children:"1 Yrs"})]}),e.jsxs("span",{className:`${te}`,children:["  ",j.touched.licenseFor&&j.errors.licenseFor?j.errors.licenseFor:null]})]}),e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" text-sm font-semibold text-red-600 inline ",children:"*"})," Charge Applied "]}),e.jsx("input",{type:"number",name:"licenseCharge",className:`${p} pointer-events-none bg-gray-100 `,readOnly:"readOnly",value:j.values.licenseCharge,onChange:j.handleChange}),e.jsxs("span",{className:`${te}`,children:["  ",j.touched.licenseCharge&&j.errors.licenseCharge?j.errors.licenseCharge:null]})]}),e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:"text-sm font-semibold text-red-600 inline ",children:"*"}),"Penalty."]}),e.jsx("input",{type:"number",name:"penalty",className:`${p} pointer-events-none bg-gray-100 `,readOnly:"readOnly",value:j.values.penalty}),e.jsxs("span",{className:`${te}`,children:["  ",j.touched.penalty&&j.errors.penalty?j.errors.penalty:null]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-1",children:[e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" text-sm font-semibold text-red-600 inline ",children:"*"}),"Denial / Arrears Amount."]}),e.jsx("input",{type:"number",name:"denialAmount",className:`${p} pointer-events-none bg-gray-100   `,value:j.values.denialAmount,onChange:j.handleChange}),e.jsxs("span",{className:`${te}`,children:["  ",j.touched.denialAmount&&j.errors.denialAmount?j.errors.denialAmount:null]})]}),e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" text-sm font-semibold text-red-600 inline ",children:"*"}),"Total Charge."]}),e.jsx("input",{type:"number",name:"totalCharge",className:`${p} pointer-events-none bg-gray-100 `,value:j.values.totalCharge,onChange:j.handleChange}),e.jsxs("span",{className:`${te}`,children:["  ",j.touched.totalCharge&&j.errors.totalCharge?j.errors.totalCharge:null]})]}),e.jsxs("div",{className:`${M} hidden`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" text-sm font-semibold text-red-600 inline ",children:"*"}),"Payment Mode"]}),e.jsxs("select",{name:"paymentMode",className:`${p}  `,value:j.values.paymentMode,onChange:j.handleChange,disabled:!0,children:[e.jsx("option",{value:"",disabled:!0,selected:!0,children:"SELECT"}),y==null?void 0:y.map(v=>e.jsx("option",{value:v.value,children:v.option}))]}),e.jsxs("span",{className:`${te}`,children:["  ",j.touched.paymentMode&&j.errors.paymentMode?j.errors.paymentMode:null]})]})]}),e.jsx("div",{className:`${S?"":"hidden"} hidden`,children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-1",children:[e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" text-sm font-semibold text-red-600 inline ",children:"*"}),"Cheque/DD Date"]}),e.jsx("input",{type:"date",name:"chequeDate",className:`${p} `,value:j.values.chequeDate,onChange:j.handleChange,min:JSON.stringify(new Date).slice(1,11)}),e.jsxs("span",{className:`${te}`,children:["  ",j.touched.chequeDate&&j.errors.chequeDate?j.errors.chequeDate:null]})]}),e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" text-sm font-semibold text-red-600 inline ",children:"*"}),"Cheque/DD No."]}),e.jsx("input",{type:"number",name:"chequeNo",className:`${p} `,value:j.values.chequeNo,onChange:j.handleChange}),e.jsxs("span",{className:`${te}`,children:["  ",j.touched.chequeNo&&j.errors.chequeNo?j.errors.chequeNo:null]})]}),e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" text-sm font-semibold text-red-600 inline ",children:"*"}),"Bank Name"]}),e.jsx("input",{type:"text",name:"bankName",className:`${p}  `,value:j.values.bankName,onChange:j.handleChange,maxLength:50}),e.jsxs("span",{className:`${te}`,children:["  ",j.touched.bankName&&j.errors.bankName?j.errors.bankName:null]})]}),e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" text-sm font-semibold text-red-600 inline ",children:"*"}),"Branch Name"]}),e.jsx("input",{type:"text",name:"branchName",className:`${p}  `,value:j.values.branchName,onChange:j.handleChange,maxLength:50}),e.jsxs("span",{className:`${te}`,children:["  ",j.touched.branchName&&j.errors.branchName?j.errors.branchName:null]})]})]})}),e.jsxs("div",{className:"text-sm",children:[e.jsxs("button",{type:"button",className:"underline text-xs text-blue-400 my-2",onClick:D,children:[T?"Hide":"Show"," Calculation parameters..."]}),e.jsxs("div",{className:`pr-10 ${T?"block":"hidden"}`,children:[e.jsx("h1",{className:"h-10 bg-slate-200 p-2 shadow-inner font-bold ",children:"Yearly rate According To The Area Range"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-2 w-full ",children:[e.jsxs("div",{className:" p-1 shadow-md text-center hover:bg-sky-50",children:[e.jsx("h1",{className:"text-xl  font-bold text-primary",title:"Between 1 To 100",children:"  ₹ 300"}),e.jsx("p",{className:"text-sm  font-medium text-gray-500",children:"Between 1 To 100 sqft. "})]}),e.jsxs("div",{className:" p-1 shadow-md text-center hover:bg-sky-50",children:[e.jsx("h1",{className:"text-xl  font-bold text-primary",title:"Between 1 To 100",children:"  ₹ 500"}),e.jsx("p",{className:"text-sm  font-medium text-gray-500",children:"Between 101 To 500 sqft. "})]}),e.jsxs("div",{className:" p-1 shadow-md text-center hover:bg-sky-50",children:[e.jsx("h1",{className:"text-xl  font-bold text-primary",title:"Between 1 To 100",children:"  ₹ 1500"}),e.jsx("p",{className:"text-sm  font-medium text-gray-500",children:"Between 501 To 1000 sqft. "})]}),e.jsxs("div",{className:" p-1 shadow-md text-center hover:bg-sky-50",children:[e.jsx("h1",{className:"text-xl  font-bold text-primary",title:"Between 1 To 100",children:"  ₹ 2500"}),e.jsx("p",{className:"text-sm  font-medium text-gray-500",children:"Between 1001 To 9999999 sqft. "})]})]})]})]})]})]}),e.jsx("div",{className:`${M}`,children:e.jsxs("label",{className:`${R} text-l text-center text-gray-700`,children:[e.jsx("input",{type:"checkbox",name:"declaration",className:"mr-2 mt-6",checked:r,onChange:o}),"I hereby declare that the above particulars of facts and information stated are true, correct and complete to the best of my belief and knowledge."]})}),e.jsxs("div",{className:"grid  grid-cols-2 w-full gap-2  my-4 ",children:[e.jsx("div",{children:e.jsx("button",{type:"button",onClick:d,className:`${ze}`,children:"Previous "})}),r?e.jsx("div",{className:"text-right mr-4",children:e.jsx(gt,{title:"Submit your form now.",children:e.jsx("button",{type:"submit",className:`${Fe}`,children:"Submit This Form"})})}):null]})]})})})})}const il={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"transparent",border:"none"}};function $t(s){var w,F,S,k,T,_;const[l,h]=Ls.useState(!1),C=ys();console.log("order data",s==null?void 0:s.OrderResponse),a.useEffect(()=>{s.openPaymentModal>0&&h(!0)},[s.openPaymentModal]);function b(){}function c(){h(!1)}const t=r=>{console.log("Payment Status =>",r.data),s.showLoader(!0),r.status?(s.toast(r.message,"success"),setTimeout(()=>{u(r.data)},1e4)):(s.toast(r.message,"error"),s.showLoader(!1))},u=r=>{console.log("data",r),ue.post(de.CONFIRM_TRADE_ONLINE_PAYMENT,{orderId:r==null?void 0:r.razorpay_order_id,paymentId:r==null?void 0:r.razorpay_payment_id},me()).then(L=>{var o,E,P,j;console.log("response for payment confirmation",L),s.showLoader(!1),L.data.status?C("/trade-payment-receipt/"+(s==null?void 0:s.id)+"/"+btoa((E=(o=L==null?void 0:L.data)==null?void 0:o.data)==null?void 0:E.transectionId),{replace:!0}):(s.toast("Payment is done but it has not updated in our servers yet...kindly wait for some time","notice"),C("/trade-payment-receipt/"+(s==null?void 0:s.id)+"/"+((j=(P=L==null?void 0:L.data)==null?void 0:P.data)==null?void 0:j.transectionId),{replace:!0}))}).catch(L=>{console.log(L)})},g=()=>{console.log("Clicked.."),s==null||s.showLoader(!0),s==null||s.id;let r=Ca(s==null?void 0:s.OrderResponse,t);Promise.resolve(r).then(o=>{console.log("payment response",o)}),setTimeout(()=>{c(),s.showLoader(!1)},500)},m="  shadow-gray-300 rounded-lg  bg-white  ",f="text-md text-[#454646] opacity-80 ";return e.jsx("div",{className:"",children:e.jsx(bs,{isOpen:l,onAfterOpen:b,onRequestClose:c,style:il,contentLabel:"Example Modal",children:e.jsx("div",{className:"bg-gradient-to-tr from-white to-white text-slate-50 shadow-2xl border border-gray-200 p-5 m-5 rounded-md w-[44rem]",children:e.jsx("div",{className:"",children:e.jsxs("div",{class:`${m} w-full mx-auto flex flex-col `,children:[e.jsxs("div",{class:"relative overflow-hidden",children:[e.jsx("div",{class:"absolute inset-0 hover:bg-white opacity-0 transition duration-700 hover:opacity-10"}),e.jsx("img",{className:"max-w-full h-64 mx-auto animate-wiggle p-12 ",src:"https://img.freepik.com/free-vector/hand-holding-phone-with-credit-card-screen-man-making-purchase-shopping-paying-online-using-banking-app-flat-vector-illustration-transaction-e-commerce-concept_74855-26014.jpg?w=1380&t=st=1686898919~exp=1686899519~hmac=4b0ddb44860ec647fa33a1a0416ea0c1cc8167693a13fdba3f09058d099f0e76",alt:"alt title"})]}),e.jsx("div",{class:" flex-1",children:e.jsxs("div",{class:"mb-2",children:[e.jsxs("h3",{class:"text-xl  text-center mb-4 text-gray-500 font-openSans font-semibold",children:["Application No. - ",(w=s==null?void 0:s.OrderResponse)==null?void 0:w.applicationNo]}),e.jsxs("h3",{class:"text-xl  text-center mb-2 text-[#40AA15] font-openSans font-semibold ",children:["Amount - Rs.",(F=s==null?void 0:s.OrderResponse)==null?void 0:F.amount," "]})]})}),e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"valid-form flex flex-wrap flex-row mt-4 text-center",children:[e.jsxs("div",{className:"form-group flex-shrink max-w-full mx-auto space-x-2 px-4 w-full md:w-1/2 mb-4",children:[e.jsx("label",{className:`${f} `,children:"Firm Name: -"}),e.jsx("label",{className:`${f} `,children:(S=s==null?void 0:s.OrderResponse)==null?void 0:S.firmName})]}),e.jsxs("div",{className:"form-group flex-shrink max-w-full mx-auto space-x-2 px-4 w-full md:w-1/2 mb-4",children:[e.jsx("label",{className:`${f} `,children:"Applicant Name :-"}),e.jsx("label",{className:`${f} `,children:(k=s==null?void 0:s.OrderResponse)==null?void 0:k.name})]})]}),e.jsxs("div",{className:"valid-form flex flex-wrap flex-row  text-center",children:[e.jsxs("div",{className:"form-group flex-shrink max-w-full mx-auto space-x-2 px-4 w-full md:w-1/2 mb-4",children:[e.jsx("label",{className:`${f} `,children:"License for years :-"}),e.jsx("label",{className:`${f} `,children:(T=s==null?void 0:s.OrderResponse)==null?void 0:T.licenceForYears})]}),e.jsxs("div",{className:"form-group flex-shrink max-w-full mx-auto space-x-2 px-4 w-full md:w-1/2 mb-4",children:[e.jsx("label",{className:`${f} `,children:"Application Type :-"}),e.jsx("label",{className:`${f} `,children:(_=s==null?void 0:s.OrderResponse)==null?void 0:_.applicationType})]})]})]}),e.jsx("div",{class:" flex-1 py-8",children:e.jsxs("div",{className:"flex justify-center gap-4",children:[e.jsx("button",{className:"bg-[#f04e4e] text-sm px-8 py-2 text-white  rounded leading-5 shadow-lg",onClick:g,children:"Cancel"}),e.jsx("button",{className:"bg-[#1A4D8C] text-sm px-8 py-2 text-white  rounded leading-5 shadow-lg",onClick:g,children:"Pay Now"})]})})]})})})})})}const Ks="/assets/logo-3109eaef.png";class Pn extends Ls.Component{render(){var E,P,j,d,N,y,$,A,B;const{paymentRecipt:l,applicationNo:h,applyLicenseId:C}=(E=this.props)==null?void 0:E.successData,{transaction_no:b,payment_mode:c,paid_amount:t,transaction_date:u,penalty:g,rate:m,delay_fee:f,denial_fee:w,paid_amount_in_words:F}=(j=(P=this.props)==null?void 0:P.paymentData)==null?void 0:j.transaction,{application_no:S,firm_name:k,address:T,mobile:_,owner_name:r,provisional_license_no:L,ward_no:o}=(N=(d=this.props)==null?void 0:d.paymentData)==null?void 0:N.application;return($=(y=this.props)==null?void 0:y.paymentData)==null||$.penalty[0],console.log("===successData=====",(B=(A=this.props)==null?void 0:A.paymentData)==null?void 0:B.application),e.jsx("div",{className:"py-4 w-[92%] mx-auto text-xs font-sans text-justify",id:"printableArea",children:e.jsxs("div",{className:"border-2 border-gray-800  font-normal py-2 px-2",styles:{backgroundImage:`url(${Ks})`},children:[e.jsx("img",{src:Ks,alt:"",className:"h-16 w-16 mx-auto"}),e.jsx("img",{src:Ks,alt:"",className:" w-72 h-72 absolute z-10 bg-transparent opacity-20 mt-[10rem] ml-40 rounded-full"}),e.jsx("h1",{className:"font-bold text-xl text-center",children:" RANCHI MUNICIPAL CORPORATION "}),e.jsx("div",{className:" w-64 mx-auto mt-2 text-center",children:e.jsx("h1",{className:"border-2 border-gray-800 font-bold  py-1 my-1",children:" MUNICIPAL LICENSE PAYMENT RECEIPT "})}),e.jsxs("div",{className:"w-full px-1  ",children:[e.jsxs("table",{className:"table-auto mx-auto w-full",children:[e.jsxs("tr",{children:[e.jsxs("td",{children:["Receipt No :",e.jsxs("span",{className:"font-semibold",children:[" ",b]})," "]}),e.jsxs("td",{children:["Date :",e.jsxs("span",{className:"font-semibold",children:["  ",u]})]})]}),e.jsxs("tr",{children:[e.jsxs("td",{children:["Department/Section :",e.jsx("span",{className:"font-semibold",children:"  Municipal License Section"})," "]}),e.jsxs("td",{children:["Ward No No :",e.jsxs("span",{className:"font-semibold",children:[" ",o]})," "]})]}),e.jsxs("tr",{children:[e.jsxs("td",{children:["Account Description:",e.jsx("span",{className:"font-semibold",children:"Municipal License Fee Charges"})," "]}),e.jsxs("td",{children:[" Application No:",e.jsxs("span",{className:"font-semibold",children:[" ",h]})," "]})]})]}),e.jsxs("table",{className:"table-auto mx-auto w-full mt-4 capitalize",children:[e.jsx("tr",{children:e.jsxs("td",{children:["Firm Name :",e.jsxs("span",{className:"font-semibold",children:[" ",k]})," "]})}),e.jsx("tr",{children:e.jsxs("td",{children:["Received From Shri.Smt :",e.jsxs("span",{className:"font-semibold",children:[" ",r]})," "]})}),e.jsx("tr",{children:e.jsxs("td",{children:["Address : ",e.jsxs("span",{className:"font-semibold",children:[" ",T]})]})}),e.jsx("tr",{children:e.jsxs("td",{children:["A Sum of Rs :",e.jsxs("span",{className:"font-semibold",children:[" ",t," "]})," "]})}),e.jsx("tr",{children:e.jsxs("td",{className:"w-80 ",children:["(in words)",e.jsxs("span",{className:"font-semibold border-b-2 border-gray-600 border-dashed",children:[" ",F]})]})}),e.jsx("tr",{children:e.jsxs("td",{children:["towards : ",e.jsxs("span",{className:"font-semibold",children:[" Municipal License Fee vide ",c]})," "]})})]}),e.jsx("h1",{className:"font-bold  mt-4",children:" N.B.Online Payment/Cheque/Draft/ Bankers Cheque are Subject to realisation "}),e.jsx("h1",{className:"font-bold mt-4  py-1",children:" MUNICIPAL LICENSE FEE DETAILS "}),e.jsxs("table",{className:"table-auto mx-auto w-[92%] border  border-gray-800",children:[e.jsxs("tr",{className:"border-b border-gray-800 py-1",children:[e.jsx("th",{className:"text-left",children:" Description "}),e.jsx("th",{className:"text-left",children:" Total Amount "})]}),e.jsxs("tr",{className:"border-b border-gray-800 py-1",children:[e.jsx("td",{children:"Municipal License Fee "}),e.jsx("td",{children:m})]}),e.jsxs("tr",{className:"border-b border-gray-800 py-1",children:[e.jsx("td",{children:"Delay Fee "}),e.jsx("td",{children:f})]}),e.jsxs("tr",{className:"border-b border-gray-800 py-1",children:[e.jsx("td",{children:"Denial Fee "}),e.jsx("td",{children:w})]}),e.jsxs("tr",{className:"border-b border-gray-800 py-1",children:[e.jsx("td",{children:"Total"}),e.jsx("td",{children:t})]})]})]}),e.jsxs("div",{className:" mt-4 px-2  text-justify",children:[e.jsx("div",{className:"text-center",children:e.jsx(et,{size:"60",url:"http://smartulb.co.in/"})}),e.jsx("table",{children:e.jsxs("tr",{className:" py-1 font-mono",children:[e.jsxs("td",{children:[e.jsx("p",{children:"For Details Please Visit : www.ranchimunicipal.com"}),e.jsx("p",{children:"Call us at 18008904115 OR 0651-3500700"})]}),e.jsxs("td",{children:[e.jsx("p",{children:"In Association with"}),e.jsx("p",{children:"Sri Publication & Stationers Pvt. Ltd."})]})]})}),e.jsx("div",{className:"mt-8 mb-4 text-center",children:e.jsx("p",{children:"**This is a computer-generated receipt and it does not require a signature.** "})})]})]})})}}Xt(ea)(({theme:s})=>({"& .MuiDialogContent-root":{padding:s.spacing(2)},"& .MuiDialogActions-root":{padding:s.spacing(1)}}));kt.node,kt.func.isRequired;function Ns(s){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"w-56 h-56 absolute top-1/3 left-1/2",children:e.jsx(Wt,{height:"80",width:"80",radius:"9",color:"#6666ff",ariaLabel:"three-dots-loading",wrapperStyle:{},wrapperClassName:"",visible:s.show})})})}function at(s){var k,T;s==null||s.values;const[l,h]=a.useState(0),[C,b]=a.useState("");a.useState(!1);const{successData:c,successFun:t}=s.successData,[u,g]=a.useState(),[m,f]=a.useState(!1),w=ys(),F=_=>{navigator.clipboard.writeText(_),f(!0),document.getElementById("copyapn").style.backgroundColor="white",document.getElementById("copyapn").style.color="green"};console.log("successData",c);const S=()=>{var _;w(`/trade-document-upload/${btoa((_=c==null?void 0:c.data)==null?void 0:_.applyLicenseId)}`,{replace:!0})};return e.jsxs(e.Fragment,{children:[e.jsx($t,{openPaymentModal:l,id:C,OrderResponse:u,toast:s==null?void 0:s.toast,showLoader:(k=s==null?void 0:s.values)==null?void 0:k.showLoader}),e.jsx("div",{className:"h-screen",children:e.jsx("div",{children:e.jsxs("div",{className:"grid grid-cols-2  w-full  ml-2 mr-4 shadow-md shadow-zinc-200 hover:shadow-lg bg-indigo-100  rounded gap-2 ",children:[e.jsxs("div",{className:"flex lg:flex-row bg-white  border rounded-br-full overflow-hidden w-full px-10",children:[e.jsx("div",{className:"relative overflow-hidden lg:flex-shrink   rounded",children:e.jsx("a",{href:"#",children:e.jsx("div",{className:"absolute inset-0 hover:bg-white opacity-0 transition duration-700 hover:opacity-10"})})}),e.jsxs("div",{className:"p-6 flex-1 lg:flex-shrink w-full font-openSans",children:[e.jsxs("div",{className:"mb-2 text-md lg:text-md capitalize ",children:[e.jsx("h3",{className:"leading-normal mb-2 font-semibold text-gray-500",children:e.jsx("p",{href:"#",className:"hover:text-indigo-700 ",children:"This application is submitted."})}),e.jsxs("div",{className:"text-gray-500 ",children:[e.jsxs("svg",{className:"bi bi-calendar ltr:mr-2 rtl:ml-2 inline-block",width:".8rem",height:".8rem",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{fillRule:"evenodd",d:"M14 0H2a2 2 0 00-2 2v12a2 2 0 002 2h12a2 2 0 002-2V2a2 2 0 00-2-2zM1 3.857C1 3.384 1.448 3 2 3h12c.552 0 1 .384 1 .857v10.286c0 .473-.448.857-1 .857H2c-.552 0-1-.384-1-.857V3.857z",clipRule:"evenodd"}),e.jsx("path",{fillRule:"evenodd",d:"M6.5 7a1 1 0 100-2 1 1 0 000 2zm3 0a1 1 0 100-2 1 1 0 000 2zm3 0a1 1 0 100-2 1 1 0 000 2zm-9 3a1 1 0 100-2 1 1 0 000 2zm3 0a1 1 0 100-2 1 1 0 000 2zm3 0a1 1 0 100-2 1 1 0 000 2zm3 0a1 1 0 100-2 1 1 0 000 2zm-9 3a1 1 0 100-2 1 1 0 000 2zm3 0a1 1 0 100-2 1 1 0 000 2zm3 0a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})]}),e.jsxs("span",{className:"px-1 font-openSans text-sm",children:["Generated Application No :"," ",e.jsxs("strong",{className:"text-gray-600 underline ",children:[(T=c==null?void 0:c.data)==null?void 0:T.applicationNo," "]})]}),e.jsxs("div",{className:" mt-2 flex",children:[e.jsxs("button",{className:`${ze}`,variant:"contained",size:"small",onClick:()=>{var _;return F((_=c==null?void 0:c.data)==null?void 0:_.applicationNo)},children:[e.jsx(sa,{fontSize:"small"})," Copy application no"," "]})," ",e.jsxs("span",{id:"copyapn",children:[" ",m&&e.jsx(Da,{color:"green",size:30})]})]})]})]}),e.jsxs("div",{className:"text-xs ",children:[e.jsxs("p",{className:"flex text-gray-500 font-openSans",children:[e.jsx("span",{className:"pt-1 ",children:e.jsx(ct,{})}),e.jsxs("span",{className:"px-2 ",children:[" ","Keep Your application No for future reference."]})]}),e.jsxs("p",{className:"flex  text-gray-500 ",children:[e.jsx("span",{className:"pt-1 ",children:e.jsx(ct,{})}),e.jsxs("span",{className:"px-2 ",children:[" ","You can always find your applications in trade"," ",e.jsxs(qe,{to:"/trade-dashboard",children:[" ",e.jsxs("span",{className:"text-blue-500 hover:underline",children:[" ","Dashboard"]})]})]})]})]})]})]}),e.jsx("div",{className:"flex  lg:flex-row  darks:bg-gray-800  overflow-hidden w-full px-5  bg-indigo-100  ",children:e.jsxs("div",{className:"p-4 flex-1 lg:flex-shrink lg:w-2/3",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("h3",{className:"text-md lg:text-xl leading-normal mb-4 font-semibold text-gray-700 darks:text-gray-300 font-openSans",children:e.jsx("p",{className:"hover:text-indigo-700",children:"Documents are pending. Upload them now...."})}),e.jsx("div",{className:"text-gray-500",children:e.jsxs("button",{className:`${Fe}`,onClick:S,children:[" ",e.jsx(zt,{})," Upload Documents"]})})]}),e.jsxs("p",{className:"flex text-gray-700 text-sm",children:[e.jsx("span",{className:"pt-1 text-sm",children:e.jsx(ct,{})}),e.jsxs("span",{className:"px-2 ",children:[" ","Keep Your application No. for future reference."]})]})]})})]})})})]})}function cl(s){var b,c,t,u,g,m,f;const{initialBusinessDetails:l,firmDetails:h,ownerDetails:C}=s==null?void 0:s.allFormData;return console.log("fieldData",(b=s==null?void 0:s.fieldData)==null?void 0:b.wardList),e.jsx("div",{className:"",children:e.jsxs("div",{className:"p-2 items-center  overflow-hidden mx-auto bg-white  font-mono text-xs",children:[e.jsx("h1",{className:"font-bold text-lg text-slate-500 my-2 bg-stone-100 py-1.5 uppercase font-mono text-center",children:"Your Selected Options"}),"Basic Details :",(l==null?void 0:l.applyWith)!=""&&e.jsxs("div",{className:" flex justify-between  my-2 px-4 border-b bg-slate-50 hover:bg-slate-200",children:[e.jsxs("div",{className:"py-2",children:[" ",e.jsx("p",{children:"Apply With : "})," "]}),e.jsx("div",{children:e.jsxs("p",{className:"py-2",children:[(l==null?void 0:l.applyWith)==1&&" Notice No",(l==null?void 0:l.applyWith)==2&&" New Application"]})})]}),(l==null?void 0:l.applyWith)!=""&&(l==null?void 0:l.applyWith)==1&&e.jsxs("div",{className:" flex justify-between  my-2 px-4 border-b bg-slate-100 hover:bg-slate-200",children:[e.jsxs("div",{className:"py-2",children:[" ",e.jsx("p",{children:"Notice No :"})," "]}),e.jsxs("div",{children:[" ",e.jsx("p",{className:"py-2",children:l==null?void 0:l.noticeNo})]})]}),(l==null?void 0:l.noticeDate)!=""&&(l==null?void 0:l.applyWith)==1&&e.jsxs("div",{className:" flex justify-between  my-2 px-4 border-b bg-slate-50 hover:bg-slate-200",children:[e.jsxs("div",{className:"py-2",children:[" ",e.jsx("p",{children:"Notice Date :"})," "]}),e.jsxs("div",{children:[" ",e.jsx("p",{className:"py-2",children:l==null?void 0:l.noticeDate})]})]}),(h==null?void 0:h.firmName)!=""&&e.jsxs("div",{className:" flex justify-between  my-2 px-4 border-b bg-slate-100 hover:bg-slate-200",children:[e.jsxs("div",{className:"py-2",children:[" ",e.jsx("p",{children:"Firm Name :"})," "]}),e.jsxs("div",{children:[" ",e.jsx("p",{className:"py-2",children:h==null?void 0:h.firmName})]})]}),(h==null?void 0:h.areaSqft)!=""&&e.jsxs("div",{className:" flex justify-between  my-2 px-4 border-b bg-slate-50 hover:bg-slate-200",children:[e.jsxs("div",{className:"py-2",children:[" ",e.jsx("p",{children:"Plot Area (in Sqft.) :"})," "]}),e.jsxs("div",{children:[" ",e.jsx("p",{className:"py-2",children:h==null?void 0:h.areaSqft})]})]}),(l==null?void 0:l.onwershipType)!=""&&e.jsxs("div",{className:" flex justify-between  my-2 px-4 border-b bg-slate-100 hover:bg-slate-200",children:[e.jsxs("div",{className:"py-2",children:[" ",e.jsx("p",{children:"ownershipType :"})," "]}),e.jsx("div",{children:e.jsxs("p",{className:"py-2",children:[(l==null?void 0:l.ownershipType)=="1"&&"Own Property ",(l==null?void 0:l.ownershipType)=="2"&&"On Rent ",(l==null?void 0:l.ownershipType)=="3"&&"Own Lease"]})})]}),(l==null?void 0:l.categroyTypeId)!=""&&e.jsxs("div",{className:" flex justify-between  my-2 px-4 border-b bg-slate-50 hover:bg-slate-200",children:[e.jsxs("div",{className:"py-2",children:[" ",e.jsx("p",{children:"categoryType  :"})," "]}),e.jsx("div",{children:e.jsxs("p",{className:"py-2",children:[(l==null?void 0:l.categoryTypeId)=="1"&&"H/L/B/D",(l==null?void 0:l.categoryTypeId)=="2"&&"Dangerous Trade",(l==null?void 0:l.categoryTypeId)=="3"&&"Others",(l==null?void 0:l.categoryTypeId)==""&&"..."]})})]}),(h==null?void 0:h.wardNo)!=""&&e.jsxs("div",{className:" flex justify-between  my-2 px-4 border-b bg-slate-100 hover:bg-slate-200",children:[e.jsxs("div",{className:"py-2",children:[" ",e.jsx("p",{children:"Ward No :"})," "]}),e.jsxs("div",{children:[" ",e.jsx("p",{className:"py-2",children:JSON.stringify((u=(t=(c=s==null?void 0:s.fieldData)==null?void 0:c.wardList)==null?void 0:t.filter(w=>w.id==(h==null?void 0:h.wardNo))[0])==null?void 0:u.ward_name)})]})]}),(h==null?void 0:h.newwardNo)!=""&&e.jsxs("div",{className:" flex justify-between  my-2 px-4 border-b bg-slate-50 hover:bg-slate-200",children:[e.jsxs("div",{className:"py-2",children:[" ",e.jsx("p",{children:"newwardNo :"})," "]}),e.jsxs("div",{children:[" ",e.jsxs("p",{className:"py-2",children:[JSON.stringify((f=(m=(g=s==null?void 0:s.fieldData)==null?void 0:g.wardList)==null?void 0:m.filter(w=>w.id==(h==null?void 0:h.newWardNo))[0])==null?void 0:f.ward_name)," "]})]})]}),(h==null?void 0:h.holdingNo)!=""&&e.jsxs("div",{className:" flex justify-between  my-2 px-4 border-b bg-slate-100 hover:bg-slate-200",children:[e.jsxs("div",{className:"py-2",children:[" ",e.jsx("p",{children:"holdingNo :"})," "]}),e.jsxs("div",{children:[" ",e.jsx("p",{className:"py-2",children:h==null?void 0:h.holdingNo})]})]}),(h==null?void 0:h.premisesOwner)!=""&&e.jsxs("div",{className:" flex justify-between  my-2 px-4 border-b bg-slate-50 hover:bg-slate-200",children:[e.jsxs("div",{className:"py-2",children:[" ",e.jsx("p",{children:"premisesOwner :"})," "]}),e.jsxs("div",{children:[" ",e.jsx("p",{className:"py-2",children:h==null?void 0:h.premisesOwner})]})]}),(h==null?void 0:h.businessAddress)!=""&&e.jsxs("div",{className:" flex justify-between  my-2 px-4 border-b bg-slate-100 hover:bg-slate-200",children:[e.jsxs("div",{className:"py-2",children:[" ",e.jsx("p",{children:"businessAddress :"})," "]}),e.jsxs("div",{children:[" ",e.jsx("p",{className:"py-2",children:h==null?void 0:h.businessAddress})]})]}),(h==null?void 0:h.landmark)!=""&&e.jsxs("div",{className:" flex justify-between  my-2 px-4 border-b bg-slate-50 hover:bg-slate-200",children:[e.jsxs("div",{className:"py-2",children:[" ",e.jsx("p",{children:"landmark :"})," "]}),e.jsxs("div",{children:[" ",e.jsx("p",{className:"py-2",children:h==null?void 0:h.landmark})]})]}),(h==null?void 0:h.pincode)!=""&&e.jsxs("div",{className:" flex justify-between  my-2 px-4 border-b bg-slate-100 hover:bg-slate-200",children:[e.jsxs("div",{className:"py-2",children:[" ",e.jsx("p",{children:"pincode :"})," "]}),e.jsxs("div",{children:[" ",e.jsx("p",{className:"py-2",children:h==null?void 0:h.pincode})]})]}),(h==null?void 0:h.businessDescription)!=""&&e.jsxs("div",{className:" flex justify-between  my-2 px-4 border-b bg-slate-50 hover:bg-slate-200",children:[e.jsxs("div",{className:"py-2",children:[" ",e.jsx("p",{children:"businessDescription: "}),e.jsxs("p",{className:"py-2",children:[" ",h==null?void 0:h.businessDescription]})," "]}),e.jsx("br",{})]}),"Owner Details :",(C==null?void 0:C.length)>0&&(C==null?void 0:C.map((w,F)=>e.jsxs(e.Fragment,{children:[e.jsx("div",{className:" flex justify-between  my-2 px-4 border-b bg-slate-300 hover:bg-slate-200",children:e.jsxs("div",{className:"font-bold text-gray-600",children:[" ",e.jsxs("p",{children:["owner  :",F+1]})," "]})}),e.jsxs("div",{className:" flex justify-between  my-2 px-4 border-b  bg-slate-50  hover:bg-slate-200",children:[e.jsxs("div",{className:"py-2",children:[" ",e.jsx("p",{children:"ownerName :"})," "]}),e.jsxs("div",{children:[" ",e.jsx("p",{className:"py-2",children:w==null?void 0:w.businessOwnerName})]})]}),e.jsxs("div",{className:" flex justify-between  my-2 px-4 border-b  bg-slate-100  hover:bg-slate-200",children:[e.jsxs("div",{className:"py-2",children:[" ",e.jsx("p",{children:"guardianName :"})," "]}),e.jsxs("div",{children:[" ",e.jsx("p",{className:"py-2",children:w==null?void 0:w.guardianName})]})]}),e.jsxs("div",{className:" flex justify-between  my-2 px-4 border-b  bg-slate-50  hover:bg-slate-200",children:[e.jsxs("div",{className:"py-2",children:[" ",e.jsx("p",{children:"mobile :"})," "]}),e.jsxs("div",{children:[" ",e.jsx("p",{className:"py-2",children:w==null?void 0:w.mobileNo})]})]}),e.jsxs("div",{className:" flex justify-between  my-2 px-4 border-b  bg-slate-100  hover:bg-slate-200",children:[e.jsxs("div",{className:"py-2",children:[" ",e.jsx("p",{children:"email :"})," "]}),e.jsxs("div",{children:[" ",e.jsx("p",{className:"py-2",children:w==null?void 0:w.email})]})]})]})))]})})}Es.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";function rl(s){const[l,h]=a.useState([]),[C,b]=a.useState(1),[c,t]=a.useState(1),[u,g]=a.useState(!1);a.useState([]),a.useState([]),a.useState([]),a.useState([]);const[m,f]=a.useState(s.applicationType),[w,F]=a.useState(),[S,k]=a.useState(),[T,_]=a.useState(""),[r,L]=a.useState("");let o;const E=(D,O,q)=>{o={...l,[D]:O},h({...l,[D]:O}),console.log("allformdata 2",o),q&&P(o)},P=D=>{let O=JSON.parse(JSON.stringify(D));O.applicationType=ss(m),O.ulbId=s==null?void 0:s.ulbId;let q=O;setTimeout(()=>{ue.post(de.POST_APPLY_APPLICATION_FOR_CITIZEN,Object.assign({},q),me()).then(function(i){console.log("response ",i.data),i.data.status?(B("Application Submitted Successfully !","success"),F(i.data),y(i.data),b(5)):(b(4),B("Something went wrong !","notice"))}).catch(function(i){console.log(i),B("Invalid response received !","error"),s.showLoader(!1)})},500)},j=(D,O)=>{L(D),_(O)},d={applicationType:s.applicationType,colorCode:u,currentStep:c,currentStepFun:t,collectFormDataFun:E,firmStepFun:b,firmStep:C,colorCodeFun:g,fieldData:s.fieldData,allFormData:l,showLoader:s==null?void 0:s.showLoader,finalSubmit:P,ulbId:s==null?void 0:s.ulbId,setError:j,ErrorMessage:r,ErrorOrigin:T},N={successData:w,successFun:F};console.log("values ",d);const y=D=>{console.log("===getting payment data====",D.data.paymentRecipt),ue.get(D.data.paymentRecipt).then(function(O){O.data.status&&(k(O.data.data),console.log("===getting payment data thorugh api====",O.data))}).catch(function(O){console.log("===getting payment data thorugh api erro====",O)})},[$,A]=a.useState({}),B=(D,O)=>{X.dismiss(),O=="escalated"&&X.success(D),O=="success"&&X.success(D),O=="de-escalated"&&X.warn(D),O=="notice"&&X.warn(D),O=="error"&&X.error(D)};return e.jsxs("div",{children:[e.jsx("div",{className:"",children:e.jsx(st,{applicationType:s.applicationType,ulbName:s==null?void 0:s.ulbName})}),e.jsxs("div",{className:"grid grid-cols-12 h-auto  ",children:[e.jsx("div",{className:"col-span-12 md:col-span-9 pt-4 border-l-8 border-white bg-white mt-1 md:mt-0 relative ",children:e.jsxs("div",{className:" overflow-x-clip ",children:[e.jsxs("div",{className:`mt-1 border border-gray-50 mr-2 pl-5 transition-all ${C==1?"translate-x-0":"translate-x-full"}`,children:[e.jsx(Ma,{values:d,denialDetailsFun:A,toast:B})," "]}),e.jsx("div",{className:`mt-8 mr-2 pl-5  transition-all ${C==2?" translate-x-0  ":"translate-x-full"}`,children:e.jsx(Ha,{values:d,denialDetails:$,toast:B})}),e.jsx("div",{className:`mt-8 mr-2 pl-5 transition-all ${C==3?" translate-x-0  ":"translate-x-full"}`,children:e.jsx(ll,{values:d,toast:B})}),e.jsx("div",{className:`mt-8 mr-2 pl-5 transition-all ${C==4?" translate-x-0  ":"translate-x-full"}`,children:e.jsx(nl,{values:d,successData:N,toast:B})}),e.jsx("div",{className:`mt-8 transition-all ${C==5?" translate-x-0  ":"translate-x-full"}`,children:e.jsx(at,{values:d,successData:N,paymentData:S,toast:B})})]})}),e.jsx("div",{className:`${C==5?"hidden":" md:block"} col-span-12 md:col-span-3 pt-4 border-l-8 bg-white border-white mt-10 md:mt-0  relative h-screen overflow-y-auto`,children:e.jsx(cl,{allFormData:l,fieldData:s.fieldData})})]})]})}function dl(s){var y,$,A,B,D,O,q,i,v,I,K,ee,ne,ie,ae,ce,re,Y,x,z,se,W,U,Z,Q,n,G,J,le,oe,xe,ve,pe,ge,fe,Ne,Ce,De,_e,$e,ke,Ee,Le,Ie,Ve,Pe,Be,Re,Ge,Ke,Ze,Je,Qe,V,he,Oe,ts,as,ls,ns,is,cs,rs,ds,os,us,hs,ms,xs,gs,vs,ps,ws,Ss,Cs,Ds,_s,$s,Fs;const{applicationType:l,colorCode:h,currentStep:C,currentStepFun:b,collectFormDataFun:c,firmStepFun:t,firmStep:u,colorCodeFun:g,allFormData:m,showLoader:f}=s==null?void 0:s.values;a.useState(!1),a.useState({});const[w,F]=a.useState(!1);a.useState(!1),a.useState(!1),a.useState();const[S,k]=a.useState(!0),[T,_]=a.useState([]),r=We({holdingNo:H().required("This field is required !"),areaSqft:H().required("This field is required !"),businessDescription:H().required("This field is required !"),pincode:H().required("Enter pincode").matches(/[0-9]{6}/,"pincode must be numeric 6 digits."),businessDescription:H().required("Enter Business Description").matches(/^[a-zA-Z1-9][a-zA-Z1-9\.\&\s]+$/,"Business Description is Alphanumeric. "),landmark:H().required("Enter Landmark").matches(/^[a-zA-Z1-9][a-zA-Z1-9\.\,\s]+$/,"Business Description is Alphanumeric."),wardNo:H().required("Enter Ward No."),newWardNo:H().required("Enter New Ward No.")}),L={wardNo:(A=($=(y=s==null?void 0:s.values)==null?void 0:y.licenseData)==null?void 0:$.licenceDtl)==null?void 0:A.ward_id,holdingNo:(O=(D=(B=s==null?void 0:s.values)==null?void 0:B.licenseData)==null?void 0:D.licenceDtl)==null?void 0:O.holding_no,newWardNo:(v=(i=(q=s==null?void 0:s.values)==null?void 0:q.licenseData)==null?void 0:i.licenceDtl)==null?void 0:v.new_ward_id,areaSqft:(ee=(K=(I=s==null?void 0:s.values)==null?void 0:I.licenseData)==null?void 0:K.licenceDtl)==null?void 0:ee.area_in_sqft,firmName:(ae=(ie=(ne=s==null?void 0:s.values)==null?void 0:ne.licenseData)==null?void 0:ie.licenceDtl)==null?void 0:ae.firm_name,firmEstdDate:(Y=(re=(ce=s==null?void 0:s.values)==null?void 0:ce.licenseData)==null?void 0:re.licenceDtl)==null?void 0:Y.valid_upto,businessAddress:(se=(z=(x=s==null?void 0:s.values)==null?void 0:x.licenseData)==null?void 0:z.licenceDtl)==null?void 0:se.address,landmark:(Z=(U=(W=s==null?void 0:s.values)==null?void 0:W.licenseData)==null?void 0:U.licenceDtl)==null?void 0:Z.landmark,pincode:(G=(n=(Q=s==null?void 0:s.values)==null?void 0:Q.licenseData)==null?void 0:n.licenceDtl)==null?void 0:G.pin_code,premisesOwner:(oe=(le=(J=s==null?void 0:s.values)==null?void 0:J.licenseData)==null?void 0:le.licenceDtl)==null?void 0:oe.premises_owner_name,businessDescription:(pe=(ve=(xe=s==null?void 0:s.values)==null?void 0:xe.licenseData)==null?void 0:ve.licenceDtl)==null?void 0:pe.brief_firm_desc,natureOfBusiness:(Ne=(fe=(ge=s==null?void 0:s.values)==null?void 0:ge.licenseData)==null?void 0:fe.licenceDtl)==null?void 0:Ne.nature_of_bussiness,tocStatus:(_e=(De=(Ce=s==null?void 0:s.values)==null?void 0:Ce.licenseData)==null?void 0:De.licenceDtl)==null?void 0:_e.tobacco_status,propDtlId:(Ee=(ke=($e=s==null?void 0:s.values)==null?void 0:$e.licenseData)==null?void 0:ke.licenceDtl)==null?void 0:Ee.prop_dtl_id},o=He({initialValues:L,enableReinitialize:!0,onSubmit:(je,Ue)=>{f(!0),console.log("Firm deatils ",je),je.natureOfBusiness!=null&&je.natureOfBusiness!=""?(c("firmDetails",je,0),setTimeout(()=>{t(3),b(3),g(2),f(!1)},500)):alert("nature of business cann't be empty")},validationSchema:r}),E=()=>{t(1)},P=je=>{var we,Me,fs;const Ue=je.target.value;Ue!=""&&(f(!0),ue.post(de.VALIDATE_HOLDING,{holdingNo:Ue,ulbId:(fs=(Me=(we=s==null?void 0:s.values)==null?void 0:we.licenseData)==null?void 0:Me.licenceDtl)==null?void 0:fs.ulb_id},me()).then(function(js){console.log("validate holding ",js.data),js.data.status?(setTimeout(()=>{f(!1)},500),s.toast("Correct Holding No.","success")):(o.setFieldValue("holdingNo",""),f(!1),s.toast("Invalid Holding No.","notice"))}).catch(function(js){console.log(js),s.toast("Something Went Wrong !","error")}),f(!1))},j=je=>{var we;f(!0);let Ue={oldWardMstrId:je,ulbId:(we=s==null?void 0:s.values)==null?void 0:we.ulbId};ue.post(de.DEPENDENT_WARD_CITIZEN,Ue,me()).then(Me=>{console.log("dependent wards",Me.data),Me.data.status?_(Me.data.data):s.toast("Nature of business cann't be empty","notice"),f(!1)}).catch(Me=>{console.log(Me),f(!1)})},d=je=>{let Ue=je.target.name,we=je.target.value;Ue==="applyWith"&&F(we==="1"),Ue==="tocStatus"&&N(je),Ue==="wardNo"&&j(we)},N=je=>{je.target.checked===!0?(k(!1),o.setFieldValue("tocStatus",1),o.setFieldValue("natureOfBusiness",[{id:187}])):(k(!0),o.setFieldValue("tocStatus",0),o.setFieldValue("natureOfBusiness",""))};return a.useEffect(()=>{j(o.values.wardNo)},[o.values.wardNo]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"absolute w-full h-auto bg-white",children:e.jsxs("div",{className:"mr-4",children:[e.jsx(Ye,{heading:"Firm Details",message:"Your Firm Details will help us reach you easily...",iconTitle:"Firm Details"}),e.jsx("form",{onChange:d,onSubmit:o.handleSubmit,autoComplete:"off",children:e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-1",children:[e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Ward No"]}),e.jsxs("select",{name:"wardNo",className:`${p} cursor-pointer `,value:o.values.wardNo,onChange:o.handleChange,children:[e.jsx("option",{value:"",children:"Select New Ward"}),(Ve=(Ie=(Le=s==null?void 0:s.values)==null?void 0:Le.licenseData)==null?void 0:Ie.wardList)==null?void 0:Ve.map(je=>e.jsx("option",{value:je.id,children:je.ward_no}))]}),e.jsx("p",{className:`${te}`,children:o.touched.wardNo&&o.errors.wardNo?o.errors.wardNo:null})]}),e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})," Holding No. "]}),e.jsx("input",{type:"text",name:"holdingNo",className:`${p} cursor-pointer uppercase `,placeholder:"Enter Holding No",value:o.values.holdingNo,onChange:o.handleChange,onBlur:P}),e.jsx("span",{className:`${te}`,children:o.touched.holdingNo&&o.errors.holdingNo?o.errors.holdingNo:null})]}),e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"New Ward No."]}),e.jsxs("select",{name:"newWardNo",className:`${p} cursor-pointer `,value:o.values.newWardNo,onChange:o.handleChange,children:[e.jsx("option",{value:"",children:"Select New Ward"}),T==null?void 0:T.map(je=>e.jsx("option",{className:"",value:je.new_ward_mstr_id,children:je.ward_name}))]}),e.jsx("p",{className:`${te}`,children:o.touched.newWardNo&&o.errors.newWardNo?o.errors.newWardNo:null})]}),e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Total Area (sqft)."]}),e.jsx("input",{type:"text",name:"areaSqft",className:`${p} cursor-pointer `,value:o.values.areaSqft,onChange:o.handleChange}),e.jsx("p",{className:"text-xs text-red-500",children:o.touched.areaSqft&&o.errors.areaSqft?o.errors.areaSqft:null})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-1",children:[e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Firm Name."]}),e.jsx("input",{type:"hidden",name:"firmName",className:`${p} cursor-pointer `,value:o.values.firmName,readOnly:!0}),e.jsx("div",{className:`${p} bg-gray-100 cursor-pointer `,children:((Re=(Be=(Pe=s==null?void 0:s.values)==null?void 0:Pe.licenseData)==null?void 0:Be.licenceDtl)==null?void 0:Re.firm_name)!=null?(Ze=(Ke=(Ge=s==null?void 0:s.values)==null?void 0:Ge.licenseData)==null?void 0:Ke.licenceDtl)==null?void 0:Ze.firm_name:"N/A"})]}),e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Firm Establishment Date"]}),e.jsx("input",{type:"hidden",name:"firmEstdDate",className:`${p} cursor-pointer `,value:o.values.firmEstdDate,readOnly:!0}),e.jsx("div",{className:`${p} bg-gray-100 cursor-pointer `,children:((V=(Qe=(Je=s==null?void 0:s.values)==null?void 0:Je.licenseData)==null?void 0:Qe.licenceDtl)==null?void 0:V.establishment_date)!=null?(ts=(Oe=(he=s==null?void 0:s.values)==null?void 0:he.licenseData)==null?void 0:Oe.licenceDtl)==null?void 0:ts.establishment_date:"N/A"})]}),e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Business Address"]}),e.jsx("input",{type:"hidden",name:"businessAddress",className:`${p} cursor-pointer `,value:o.values.businessAddress,readOnly:!0}),e.jsx("div",{className:`${p} bg-gray-100 cursor-pointer `,children:((ns=(ls=(as=s==null?void 0:s.values)==null?void 0:as.licenseData)==null?void 0:ls.licenceDtl)==null?void 0:ns.address)!=null?(rs=(cs=(is=s==null?void 0:s.values)==null?void 0:is.licenseData)==null?void 0:cs.licenceDtl)==null?void 0:rs.address:"N/A"})]}),e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Landmark"]}),e.jsx("input",{type:"text",name:"landmark",className:`${p}  cursor-pointer `,value:o.values.landmark,onChange:o.handleChange}),e.jsxs("p",{className:"text-xs text-red-500",children:[" ",o.touched.landmark&&o.errors.landmark?o.errors.landmark:null]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-1",children:[e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Pin Code"]}),e.jsx("input",{type:"text",name:"pincode",className:`${p} cursor-pointer `,value:o.values.pincode,onChange:o.handleChange,maxLength:6}),e.jsxs("p",{className:"text-xs text-red-500",children:[" ",o.touched.pincode&&o.errors.pincode?o.errors.pincode:null]})]}),e.jsxs("div",{className:`${M} `,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Owner of Business Premises"]}),e.jsx("input",{type:"hidden",name:"premisesOwner",className:`${p} cursor-pointer `,value:o.values.wardNo,readOnly:!0}),e.jsx("div",{className:`${p} bg-gray-100 cursor-pointer `,children:(us=(os=(ds=s==null?void 0:s.values)==null?void 0:ds.licenseData)==null?void 0:os.licenceDtl)!=null&&us.premisesOwner?(xs=(ms=(hs=s==null?void 0:s.values)==null?void 0:hs.licenseData)==null?void 0:ms.licenceDtl)==null?void 0:xs.premisesOwner:(ps=(vs=(gs=s==null?void 0:s.values)==null?void 0:gs.licenseData)==null?void 0:vs.licenceDtl)!=null&&ps.premises_owner_name?(Cs=(Ss=(ws=s==null?void 0:s.values)==null?void 0:ws.licenseData)==null?void 0:Ss.licenceDtl)==null?void 0:Cs.premises_owner_name:"N/A"})]}),e.jsxs("div",{className:" col-span-2 mx-4",children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Business Description"]}),e.jsx("input",{type:"text",name:"businessDescription",className:`${p} cursor-pointer uppercase `,value:o.values.businessDescription,onChange:o.handleChange}),e.jsxs("p",{className:"text-xs text-red-500",children:[" ",o.touched.businessDescription&&o.errors.businessDescription?o.errors.businessDescription:null]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-1",children:e.jsxs("div",{className:"mx-4",children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Nature of Business"]}),e.jsx("input",{type:"hidden",name:"natureOfBusiness",className:`${p} cursor-pointer `,value:o.values.natureOfBusiness,readOnly:!0}),e.jsx("div",{className:`${p} bg-gray-100 cursor-pointer `,children:(Fs=($s=(_s=(Ds=s==null?void 0:s.values)==null?void 0:Ds.licenseData)==null?void 0:_s.licenceDtl)==null?void 0:$s.nature_of_bussiness)==null?void 0:Fs.map(je=>e.jsxs("p",{children:[je.trade_item," "]}))})]})}),e.jsxs("div",{className:"grid grid-cols-2 my-4",children:[e.jsx("div",{className:"",children:e.jsx("button",{type:"button",onClick:E,className:`${ze}`,children:" Back "})}),e.jsx("div",{className:"text-right",children:e.jsx("button",{type:"submit",className:`${Fe}`,children:"Save & Next "})})]})]})})]})})})}function ol(s){var j,d,N,y,$,A,B,D,O,q,i,v,I,K,ee,ne,ie,ae,ce,re,Y,x,z,se,W,U,Z,Q,n,G;const{applicationType:l,colorCode:h,currentStep:C,currentStepFun:b,collectAllFormData:c,collectFormDataFun:t,firmStepFun:u,firmStep:g,colorCodeFun:m,licenseData:f,showLoader:w}=s==null?void 0:s.values,[F,S]=a.useState(!1);a.useState(!1),a.useState(!1),a.useState();const[k,T]=a.useState(!1),[_,r]=a.useState(!1);console.log("license data ",f);const L=We({firmType:H().required("This field is required !"),ownershipType:H().required("This field is required !")}),o={oldLicenseId:(N=(d=(j=s==null?void 0:s.values)==null?void 0:j.licenseData)==null?void 0:d.licenceDtl)==null?void 0:N.id,applicationType:(A=($=(y=s==null?void 0:s.values)==null?void 0:y.licenseData)==null?void 0:$.licenceDtl)==null?void 0:A.application_type,firmType:(O=(D=(B=s==null?void 0:s.values)==null?void 0:B.licenseData)==null?void 0:D.licenceDtl)==null?void 0:O.firm_type_id,ownershipType:(v=(i=(q=s==null?void 0:s.values)==null?void 0:q.licenseData)==null?void 0:i.licenceDtl)==null?void 0:v.ownership_type_id,licenseNo:(ee=(K=(I=s==null?void 0:s.values)==null?void 0:I.licenseData)==null?void 0:K.licenceDtl)==null?void 0:ee.license_no,categoryTypeId:(ae=(ie=(ne=s==null?void 0:s.values)==null?void 0:ne.licenseData)==null?void 0:ie.licenceDtl)==null?void 0:ae.category_type_id},E=He({initialValues:o,enableReinitialize:!0,onSubmit:(J,le)=>{w(!0),console.log("basic deatils ",J),t("initialBusinessDetails",J,0),setTimeout(()=>{u(2),b(2),m(1),w(!1)},500)},validationSchema:L}),P=J=>{let le=J.target.name,oe=J.target.value;le==="applyWith"&&S(oe==="1"),le==="firmType"&&T(oe==="5"),le==="noticeNo"&&r(oe==="1")};return e.jsx(e.Fragment,{children:e.jsx("div",{className:" absolute w-full md:w-full sm:w-full h-auto bg-white",children:e.jsxs("div",{className:"mr-4",children:[e.jsx(Ye,{heading:"Basic Details",message:"Some basic details about your business...",iconTitle:"Initial Details"}),e.jsx("form",{onChange:P,onSubmit:E.handleSubmit,children:e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3",children:[e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Application type"]}),e.jsx("input",{type:"hidden",name:"oldLicenseId",className:`${p} cursor-pointer `,value:E.values.oldLicenseId,readOnly:!0}),e.jsx("input",{type:"hidden",name:"applicationType",className:`${p} cursor-pointer `,value:E.values.applicationType,readOnly:!0}),e.jsx("div",{className:`${p} bg-gray-100 cursor-pointer `,children:ss(3)})]}),e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"License No."]}),e.jsx("input",{name:"licenseNo",type:"hidden",value:E.values.licenseNo,className:`read-only:bg-gray-100  ${p}`,readOnly:!0}),e.jsxs("div",{className:`${p} bg-gray-100 cursor-pointer `,children:[" ",((Y=(re=(ce=s==null?void 0:s.values)==null?void 0:ce.licenseData)==null?void 0:re.licenceDtl)==null?void 0:Y.license_no)!=""?(se=(z=(x=s==null?void 0:s.values)==null?void 0:x.licenseData)==null?void 0:z.licenceDtl)==null?void 0:se.license_no:"N/A"," "]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3",children:[e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})," Firm Type "]}),e.jsxs("select",{name:"firmType",id:"firmType",className:`${p} cursor-pointer text-xs`,onChange:E.handleChange,value:E.values.firmType,children:[e.jsx("option",{value:"",children:"SELECT"}),(Z=(U=(W=s==null?void 0:s.values)==null?void 0:W.licenseData)==null?void 0:U.firmTypeList)==null?void 0:Z.map(J=>e.jsx("option",{value:J.id,children:J.firm_type}))]}),e.jsx("p",{className:"text-xs text-red-500",children:E.touched.firmType&&E.errors.firmType?E.errors.firmType:null})]}),e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:"block mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Premises Ownership Type"]}),e.jsxs("select",{name:"ownershipType",id:"ownershipType",className:`${p} cursor-pointer text-xs`,onChange:E.handleChange,value:E.values.ownershipType,children:[e.jsx("option",{value:"",children:"SELECT"}),(G=(n=(Q=s==null?void 0:s.values)==null?void 0:Q.licenseData)==null?void 0:n.ownershipTypeList)==null?void 0:G.map(J=>e.jsx("option",{value:J.id,children:J.ownership_type}))]}),e.jsx("p",{className:"text-xs text-red-500",children:E.touched.ownershipType&&E.errors.ownershipType?E.errors.ownershipType:null})]})]}),e.jsxs("div",{className:"grid grid-cols-2 my-4",children:[e.jsx("div",{className:"w-full"}),e.jsx("div",{className:"w-full text-right ",children:e.jsx("button",{type:"submit",className:`${Fe}`,children:"Save & Next"})})]})]})})]})})})}function ul(s){const{colorCode:l,currentStep:h,currentStepFun:C,collectFormDataFun:b,firmStepFun:c,firmStep:t,colorCodeFun:u,allFormData:g,showLoader:m,finalSubmit:f}=s.values;console.log("props values :",s.values);const[w,F]=a.useState(!1);a.useState(!1),a.useState(!1);const[S,k]=a.useState(!1),T=We({licenseFor:H().required("Select License For"),bankName:H().when("paymentMode",{is:d=>d=="CHEQUE"||d=="DD",then:H().required("Bank Name is required")}),chequeNo:H().when("paymentMode",{is:d=>d=="CHEQUE"||d=="DD",then:H().required("Cheque No is required")}),chequeDate:H().when("paymentMode",{is:d=>d=="CHEQUE"||d=="DD",then:H().required("Cheque Date is required")}),branchName:H().when("paymentMode",{is:d=>d=="CHEQUE"||d=="DD",then:H().required("Cheque Date is required")})}),r=He({initialValues:{licenseFor:"",licenseCharge:"0",penalty:"0",denialAmount:"0",totalCharge:"0",paymentMode:"",bankName:"",chequeNo:"",chequeDate:"",branchName:""},enableReinitialize:!0,onSubmit:(d,N)=>{console.log("Firm Details ",d),window.confirm(`Are you sure ?
 Your license will be processed`)&&(m(!0),b("licenseDetails",d,1),setTimeout(()=>{m(!1)},1e3))},validationSchema:T}),L=()=>{c(3)},o=[{option:"1",value:1}],E=d=>{let N=d.target.name,y=d.target.value;N==="applyWith"&&F(y==="1"),N==="licenseFor"&&P(y),N==="paymentMode"&&y=="CASH"?k(!1):k(!0),N==="chequeNo"&&y.length>20&&r.setFieldValue("chequeNo",y.slice(0,20))},P=d=>{var y,$,A,B,D,O,q,i,v;m(!0);let N=[];N.licenseFor=d,N.firmEstdDate=(A=($=(y=s==null?void 0:s.values)==null?void 0:y.licenseData)==null?void 0:$.licenceDtl)==null?void 0:A.valid_upto,N.natureOfBusiness=(B=g.firmDetails)==null?void 0:B.natureOfBusiness,N.areaSqft=(D=g.firmDetails)==null?void 0:D.areaSqft,N.applicationType=ss((O=s.values)==null?void 0:O.applicationType),N.tocStatus=(v=(i=(q=s==null?void 0:s.values)==null?void 0:q.licenseData)==null?void 0:i.licenceDtl)==null?void 0:v.is_tobacco,console.log("charge calculation data",Object.assign({},N)),ue.post(de.GET_CHARGE,Object.assign({},N),me()).then(function(I){console.log("license Charge ",I.data),I.data.status?(j(I.data.data),setTimeout(()=>{m(!1)},500)):(alert("Unable to get license charge !"),m(!1))}).catch(function(I){console.log(I),m(!1)})},j=d=>{r.setFieldValue("licenseCharge",d.rate),r.setFieldValue("denialAmount",d.arear_amount),r.setFieldValue("totalCharge",d.total_charge),r.setFieldValue("penalty",d.penalty)};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"absolute w-full h-auto bg-white",children:e.jsxs("form",{onChange:E,onSubmit:r.handleSubmit,children:[e.jsx(Ye,{heading:"License Details",message:"Depicted below is your license Charge, as per the given information...",iconTitle:"license charge!"}),e.jsxs("div",{className:"relative top-4  ",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-1",children:[e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:"text-sm font-semibold text-red-600 inline ",children:"*"}),"License For"]}),e.jsxs("select",{name:"licenseFor",className:`${p}  cursor-pointer `,value:r.values.licenseFor,onChange:r.handleChange,children:[e.jsx("option",{value:"",disabled:!0,selected:!0,children:"SELECT"}),o.map(d=>e.jsxs("option",{value:d.value,children:[d.option," Yrs"]}))]}),e.jsxs("span",{className:`${te}`,children:["  ",r.touched.licenseFor&&r.errors.licenseFor?r.errors.licenseFor:null]})]}),e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" text-sm font-semibold text-red-600 inline ",children:"*"})," Charge Applied "]}),e.jsx("input",{type:"number",name:"licenseCharge",className:`${p} pointer-events-none bg-gray-100 `,readOnly:"readOnly",value:r.values.licenseCharge,onChange:r.handleChange}),e.jsxs("span",{className:`${te}`,children:["  ",r.touched.licenseCharge&&r.errors.licenseCharge?r.errors.licenseCharge:null]})]}),e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:"text-sm font-semibold text-red-600 inline ",children:"*"}),"Penalty."]}),e.jsx("input",{type:"number",name:"penalty",className:`${p} pointer-events-none bg-gray-100 `,readOnly:"readOnly",value:r.values.penalty}),e.jsxs("span",{className:`${te}`,children:["  ",r.touched.penalty&&r.errors.penalty?r.errors.penalty:null]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-1",children:[e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" text-sm font-semibold text-red-600 inline ",children:"*"}),"Denial / Arrer Amount."]}),e.jsx("input",{type:"number",name:"denialAmount",className:`${p} pointer-events-none bg-gray-100   `,value:r.values.denialAmount,onChange:r.handleChange}),e.jsxs("span",{className:`${te}`,children:["  ",r.touched.denialAmount&&r.errors.denialAmount?r.errors.denialAmount:null]})]}),e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" text-sm font-semibold text-red-600 inline ",children:"*"}),"Total Charge."]}),e.jsx("input",{type:"number",name:"totalCharge",className:`${p} pointer-events-none bg-gray-100 `,value:r.values.totalCharge,onChange:r.handleChange}),e.jsxs("span",{className:`${te}`,children:["  ",r.touched.totalCharge&&r.errors.totalCharge?r.errors.totalCharge:null]})]})]}),e.jsx("div",{className:"hidden"}),e.jsx("div",{className:"grid grid-cols-1",children:e.jsxs("div",{className:"md:px-10 text-right ",children:[e.jsx("button",{type:"button",onClick:L,className:`${ze}`,children:" Back "}),e.jsx("button",{type:"submit",className:`${Fe}`,children:" Submit "})]})})]})]})})})}function hl(s){var $,A,B,D,O,q;const{applicationType:l,colorCode:h,currentStep:C,currentStepFun:b,collectFormDataFun:c,firmStepFun:t,firmStep:u,colorCodeFun:g,showLoader:m}=s.values;console.log("firm step is :",u);const[f,w]=a.useState(!1);a.useState(!1),a.useState(!1);const[F,S]=a.useState(!0);a.useState(!1);const[k,T]=a.useState(!1),[_,r]=a.useState([]),L=i=>{console.log("key ",i),r(v=>v.filter(I=>{if(v.indexOf(I)==i)console.log("value matched at ",i);else return I}))};console.log("Multiple owner details ",_);const o=We({businessOwnerName:H().required("This field is required !"),guardianName:H().required("This field is required !"),mobileNo:H().length(10).required("This field is required !"),email:H().required("This field is required !")});let E=[];(B=(A=($=s==null?void 0:s.values)==null?void 0:$.licenseData)==null?void 0:A.ownerDtl)==null||B.forEach(i=>{let v={businessOwnerName:i.owner_name,guardianName:i.guardian_name,mobileNo:i.mobile_no,email:i.email_id,documentId:i.document_id};E.push(v)}),console.log("ownerDtl converted",E);const j=He({initialValues:{businessOwnerName:"",guardianName:"",mobileNo:"",email:"",natureOfBusiness:""},enableReinitialize:!0,onSubmit:(i,v)=>{r([..._,i]),j.resetForm()},validationSchema:o}),d=()=>{if(m(!0),console.log("Final submission of the form ",_),_.length!=0){let i=[..._,...E];console.log("allowners",i),c("ownerDetails",_,0),c("ownerDetails",E,0)}else c("ownerDetails",E,0);setTimeout(()=>{t(4),b(4),g(3),m(!1)},500)},N=()=>{t(2)},y=i=>{let v=i.target.name,I=i.target.value;v==="applyWith"&&w(I==="1"),v==="mobileNo"&&j.setFieldValue("mobileNo",jt(I,j.values.mobileNo,10))};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"absolute w-full h-auto bg-white",children:[e.jsx("div",{className:"w-full text-center"}),e.jsxs("form",{onChange:y,onSubmit:j.handleSubmit,autoComplete:"off",children:[e.jsx(Ye,{heading:"Owner Details",message:"You can add New Owners Here. Or You can move forward with the old data",iconTitle:""}),e.jsx("div",{className:"block",children:e.jsxs("div",{className:`${F?"":"hidden"}`,children:[e.jsxs("div",{className:"grid grid-cols-3 w-full md:grid-cols-3 gap-2",children:[e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Owner Name *"]}),e.jsx("input",{type:"text",name:"businessOwnerName",className:`${p} cursor-pointer `,placeholder:"Ex: John Doe",value:j.values.businessOwnerName,onChange:j.handleChange,maxLength:30,autoComplete:"off"}),e.jsx("span",{className:`${te}`,children:j.touched.businessOwnerName&&j.errors.businessOwnerName?j.errors.businessOwnerName:null})]}),e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})," Guardian Name"]}),e.jsx("input",{type:"text",name:"guardianName",className:`${p} cursor-pointer `,value:j.values.guardianName,onChange:j.handleChange,maxLength:30,autoComplete:"off"}),e.jsx("span",{className:`${te}`,children:j.touched.guardianName&&j.errors.guardianName?j.errors.guardianName:null})]}),e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Mobile No."]}),e.jsx("input",{type:"text",name:"mobileNo",className:`${p} cursor-pointer `,value:j.values.mobileNo,onChange:j.handleChange,autoComplete:"off"}),e.jsx("span",{className:`${te}`,children:j.touched.mobileNo&&j.errors.mobileNo?j.errors.mobileNo:null})]})]}),e.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-3 gap-1",children:[e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Email."]}),e.jsx("input",{type:"email",name:"email",className:`${p} cursor-pointer `,value:j.values.email,onChange:j.handleChange,autoComplete:"off"}),e.jsx("span",{className:`${te}`,children:j.touched.email&&j.errors.email?j.errors.email:null})]}),e.jsx("div",{className:"p-4",children:e.jsxs("button",{type:"submit",onClick:()=>T(!0),className:`${ze}`,children:["Confirm this owner",e.jsx(Ct,{}),"  "]})})]})]})}),e.jsxs("table",{className:"table-auto w-full text-center my-8 mr-4",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-100 text-gray-600 text-xs h-8 hover:bg-amber-200 uppercase",children:[e.jsx("th",{children:" Owner Name"}),e.jsx("th",{children:" Guardian Name"}),e.jsx("th",{children:" Mobile"}),e.jsx("th",{children:" Email"}),e.jsx("th",{children:" Action"})]})}),e.jsxs("tbody",{children:[(q=(O=(D=s==null?void 0:s.values)==null?void 0:D.licenseData)==null?void 0:O.ownerDtl)==null?void 0:q.map(i=>e.jsxs("tr",{className:"border-t-2 hover:bg-slate-50 text-sm hover:shadow-lg text-center",children:[e.jsx("td",{children:e.jsx("input",{type:"text",name:"businessOwnerName[]",value:i.owner_name,className:`${p} bg-gray-100 cursor-pointer `,readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{type:"text",name:"guardianName[]",value:i.guardian_name,className:`${p} bg-gray-100 cursor-pointer `,readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{type:"text",name:"mobileNo[]",value:i.mobile_no,className:`${p} bg-gray-100 cursor-pointer `,readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{type:"text",name:"email[]",value:i.email_id,className:`${p} bg-gray-200 cursor-pointer `,readOnly:!0})}),e.jsx("td",{className:"bg-gray-100",children:e.jsx("span",{children:"..."})})]})),_==null?void 0:_.map((i,v)=>e.jsxs("tr",{className:"border-t-2 hover:bg-slate-50 text-sm hover:shadow-lg text-center  my-2",children:[e.jsx("td",{children:e.jsx("input",{type:"text",name:"businessOwnerName[]",value:i.businessOwnerName,className:`${p} cursor-pointer  my-2`,readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{type:"text",name:"guardianName[]",value:i.guardianName,className:`${p} cursor-pointer `,readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{type:"text",name:"mobileNo[]",value:i.mobileNo,className:`${p} cursor-pointer `,readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{type:"text",name:"email[]",value:i.email,className:`${p} cursor-pointer `,readOnly:!0})}),e.jsx("td",{children:e.jsx("button",{type:"button",className:"text-red-400",onClick:()=>L(v),children:e.jsx(_t,{color:"secondary"})})})]}))]})]}),e.jsxs("div",{className:"grid grid-cols-2",children:[e.jsx("div",{className:" text-left",children:e.jsx("button",{type:"button",onClick:N,className:`${ze}`,children:" Back "})}),e.jsx("div",{className:" text-right",children:e.jsx("button",{type:"button",onClick:d,className:`${Fe}`,children:"Save & Next "})})]})]})]})})}a.forwardRef(function(l,h){return e.jsx(ta,{direction:"down",ref:h,...l})});function ml(s){const[l,h]=a.useState({}),[C,b]=a.useState(1),[c,t]=a.useState(1),[u,g]=a.useState(!1),[m,f]=a.useState(!1),[w,F]=a.useState(3),[S,k]=a.useState(),[T,_]=a.useState();a.useState([]),a.useState([]),a.useState([]),a.useState([]);let r;console.log("all form data is: "),console.log(l);const L=(N,y,$)=>{console.log("prev Data",l),r={...l,[N]:y},h({...l,[N]:y}),$&&o(r)},o=N=>{var B,D,O,q;let y=(B=N.initialBusinessDetails)==null?void 0:B.oldLicenseId;const $=JSON.parse(JSON.stringify(N));$.applicationType=ss(w),$.ulbId=(q=(O=(D=s==null?void 0:s.licenseValues)==null?void 0:D.licenseData)==null?void 0:O.licenceDtl)==null?void 0:q.ulb_id,$.licenseId=y;let A=$;setTimeout(()=>{console.log("allFormData in state",l),console.log("allFormData",N),ue.post(de.POST_APPLY_APPLICATION_FOR_CITIZEN,Object.assign({},A),me()).then(function(i){console.log("success data ",i.data),i.data.status?(k(i.data),E(i.data),b(5),d("Application submitted Successfully","success")):(console.log("success",i.data.message),b(4),d(i.data.message,"notify"))}).catch(function(i){console.log(i),d("Invalid response received","error"),s.showLoader(!1)})},500)},E=N=>{console.log("===getting payment data====",N.data.paymentRecipt),ue.get(N.data.paymentRecipt).then(function(y){y.data.status&&(_(y.data.data),console.log("===getting payment data thorugh api====",y.data))}).catch(function(y){console.log("===getting payment data thorugh api erro====",y)})},P={renewToggleStatus:m,renewToggleStatusFun:f,applicationTypeFun:F,applicationType:s.applicationType,showLoader:s.showLoader,currentStep:c,currentStepFun:t,collectFormDataFun:L,allFormData:l,firmStepFun:b,firmStep:C,colorCode:u,colorCodeFun:g,finalSubmit:o,licenseData:s.licenseValues.licenseData},j={successData:S,successFun:k},d=(N,y)=>{X.dismiss(),y=="escalated"&&X.success(N),y=="success"&&X.success(N),y=="de-escalated"&&X.warn(N),y=="notice"&&X.warn(N),y=="error"&&X.error(N)};return e.jsxs(e.Fragment,{children:[e.jsx(st,{applicationType:s.applicationType}),e.jsxs("div",{className:" overflow-x-clip bg-white py-2",children:[e.jsxs("div",{className:`mt-8 mr-2 pl-5 transition-all ${C==1?"translate-x-0":"translate-x-full"}`,children:[e.jsx(ol,{values:P,toast:d})," "]}),e.jsx("div",{className:`mt-8 mr-2 pl-5 transition-all ${C==2?" translate-x-0  ":"translate-x-full"}`,children:e.jsx(dl,{values:P,toast:d})}),e.jsx("div",{className:`mt-8 mr-2 pl-5 transition-all ${C==3?" translate-x-0  ":"translate-x-full"}`,children:e.jsx(hl,{values:P,toast:d})}),e.jsx("div",{className:`mt-8 mr-2 pl-5 transition-all ${C==4?" translate-x-0  ":"translate-x-full"}`,children:e.jsx(ul,{values:P,successData:j,toast:d})}),e.jsx("div",{className:`mt-8 mr-2 transition-all ${C==5?" translate-x-0  ":"translate-x-full"}`,children:e.jsx(at,{values:P,successData:j,paymentData:T,toast:d})})]})]})}function xl(){a.useState(0),a.useState(0),a.useState({category:"Not Authenticated",created_at:"2022-08-02 05:37:55",created_by:"Anshu Kumar",created_on:"2022-06-29 00:00:00",description:"abc",discontinued:!1,end_point:"test2",id:3,post_condition:"None",pre_condition:"Authentication is required",remarks:"",request_payload:"Token Only",response_payload:"username,password,userid",revision_no:1,tags:"tag5,tag6",updated_at:"2022-08-02 05:37:55",usage:"For Saving API Keys",version:"Version 1.0"}),a.useState();const{licenceId:s}=ks();console.log("licenceId",s),a.useState([]),a.useState("pointer-events-none opacity-50"),a.useState("hidden");const[l,h]=a.useState(!1),[C,b]=a.useState([]);a.useEffect(()=>{t()},[]);const c=m=>{console.log("loader is called with value ",m),h(m)},t=m=>{console.log("searched license data",m),c(!0),ue.post(de.MASTER_DATA_API,{applicationType:ss(3),licenseId:s},me()).then(f=>{console.log("licenceId Data",f.data),f.data.status?(b(f.data.data),c(!1)):(c(!1),g("No license Data found","notice"))}).catch(f=>{console.log(f),g("No license Data found","notice")})},u={licenseDetailsFun:t,licenseData:C},g=(m,f)=>{X.dismiss(),f=="escalated"&&X.success(m),f=="success"&&X.success(m),f=="de-escalated"&&X.warn(m),f=="notice"&&X.warn(m),f=="error"&&X.error(m)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"py-12 bg-white container mx-auto",children:[e.jsx(Bs,{show:l}),e.jsx("div",{className:"col-span-12 sm:col-span-10 shadow-lg  overflow-y-scroll",style:{height:"90vh"},children:e.jsx(ml,{licenseValues:u,title:"Amendment",showLoader:c,applicationType:"3"})})]})})}const gl="/assets/rmc_logo-5a260d09.png";class fl extends Ls.Component{render(){var l,h,C,b,c,t,u,g,m,f,w,F,S,k,T,_,r,L,o,E,P,j,d,N,y,$,A,B,D,O,q,i,v,I,K,ee,ne,ie,ae,ce,re,Y,x,z,se,W,U,Z,Q,n,G,J,le,oe,xe,ve,pe,ge,fe,Ne,Ce,De,_e,$e,ke,Ee,Le,Ie,Ve,Pe,Be,Re,Ge,Ke,Ze,Je,Qe,V,he,Oe,ts,as,ls,ns,is,cs,rs,ds,os,us,hs,ms,xs,gs;return e.jsx("div",{className:"border-2 font-Lato w-[40rem] p-3 mx-auto ml-20 mt-12 border-gray-700 ",id:"printableArea",children:e.jsxs("div",{className:"mx-auto border-2 border-dashed text-[12px]  border-red-700 bg-white text-red-700 overflow-auto",children:[e.jsx("img",{src:"http://203.129.217.246:8000/Uploads/Icon/jharkhand.png",alt:"",className:" w-72 h-72 absolute z-10 bg-transparent opacity-20 mt-[20rem] ml-40 rounded-full"}),e.jsx("div",{className:" text-justify font-poppins ",children:e.jsxs("div",{className:"  py-2 px-2 text-red-700 ",styles:{backgroundImage:`url(${`${Zs().ulb_logo}`})`},children:[e.jsx("img",{src:xa+((C=(h=(l=this.props)==null?void 0:l.licenceData)==null?void 0:h.application)==null?void 0:C.ulb_logo),alt:"",className:"h-16 w-16 mx-auto"}),e.jsxs("h1",{className:"font-bold text-center capitalize",children:["Municipal Trade License Approval Certificate"," "]}),e.jsx("img",{src:(t=(c=(b=this.props)==null?void 0:b.licenceData)==null?void 0:c.application)==null?void 0:t.ulb_logo,alt:"",className:" w-72 h-72 absolute z-10 bg-transparent opacity-20 mt-[10rem] ml-40 rounded-full"}),e.jsxs("h1",{className:"font-bold text-center uppercase",children:[(m=(g=(u=this.props)==null?void 0:u.licenceData)==null?void 0:g.application)==null?void 0:m.ulb_name," "]}),e.jsxs("h1",{className:"font-bold text-center",children:[" ","Municipal Trade License"," "]}),e.jsx("div",{className:"mx-auto text-center",children:e.jsxs("p",{className:" py-1 my-1",children:[" ","(This Certificate relates to Section 455 (i) Under Jharkhand "," Municipal Act of 2011)"," "]})}),e.jsxs("div",{className:"w-full px-1.5 ",children:[e.jsxs("div",{className:"grid grid-cols-3 h-auto",children:[e.jsxs("div",{className:"col-span-2 ",children:[e.jsxs("p",{className:" font-semibold",children:["Municipal Trade License No :"," ",e.jsxs("span",{className:"font-normal leading-6",children:[(F=(w=(f=this.props)==null?void 0:f.licenceData)==null?void 0:w.application)==null?void 0:F.license_no," "]})]}),e.jsxs("p",{className:" font-semibold",children:["Provisional License No :"," ",e.jsxs("span",{className:"font-normal leading-6",children:[(T=(k=(S=this.props)==null?void 0:S.licenceData)==null?void 0:k.application)==null?void 0:T.provisional_license_no," "]})]}),e.jsxs("p",{className:" font-semibold",children:["Approval date of Municipal Trade License :"," ",e.jsxs("span",{className:"font-normal leading-6",children:[(L=(r=(_=this.props)==null?void 0:_.licenceData)==null?void 0:r.application)==null?void 0:L.license_date," "]})," "]}),e.jsxs("p",{className:" font-semibold",children:["Validity of Municipal Trade License :"," ",e.jsxs("span",{className:"font-normal  leading-6",children:[(P=(E=(o=this.props)==null?void 0:o.licenceData)==null?void 0:E.application)==null?void 0:P.valid_from," to"," ",(N=(d=(j=this.props)==null?void 0:j.licenceData)==null?void 0:d.application)==null?void 0:N.valid_upto," "]})," "]}),e.jsxs("p",{className:" font-semibold",children:["Entity Name :"," ",e.jsxs("span",{className:"font-normal  leading-6",children:[" ",(A=($=(y=this.props)==null?void 0:y.licenceData)==null?void 0:$.application)==null?void 0:A.firm_name]})]})]}),e.jsx("div",{className:" mx-auto mt-1",children:e.jsx(et,{size:"100",url:`http://192.168.0.173:3000/admin/trade-provisional-license/${(O=(D=(B=this.props)==null?void 0:B.licenceData)==null?void 0:D.application)==null?void 0:O.id}`})})]}),e.jsxs("div",{className:"grid grid-cols-3 w-full",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsxs("p",{className:" font-semibold",children:["Owner Name of entity :"," ",e.jsxs("span",{className:"font-normal capitalize",children:[" ",(v=(i=(q=this.props)==null?void 0:q.licenceData)==null?void 0:i.application)==null?void 0:v.owner_name.toLowerCase()]})]}),e.jsxs("p",{className:" font-semibold",children:["Nature of entity :"," ",e.jsxs("span",{className:"font-normal ",children:[" ",(ee=(K=(I=this.props)==null?void 0:I.licenceData)==null?void 0:K.application)==null?void 0:ee.brief_firm_desc]})]}),e.jsxs("p",{className:" font-semibold",children:["Holding No. of Business Premises :"," ",e.jsxs("span",{className:"font-normal ",children:[" ",(ae=(ie=(ne=this.props)==null?void 0:ne.licenceData)==null?void 0:ie.application)==null?void 0:ae.holding_no]})]}),e.jsxs("p",{className:" font-semibold",children:["Owner of business premises :"," ",e.jsxs("span",{className:"font-normal ",children:[" ",(Y=(re=(ce=this.props)==null?void 0:ce.licenceData)==null?void 0:re.application)==null?void 0:Y.premises_owner_name]})]}),e.jsxs("p",{className:" font-semibold",children:["Occupied Area of Business :"," ",e.jsxs("span",{className:"font-normal ",children:[" ",(se=(z=(x=this.props)==null?void 0:x.licenceData)==null?void 0:z.application)==null?void 0:se.area_in_sqft]})," ","sqft"," "]}),e.jsxs("p",{className:" font-semibold",children:["Business Code :"," ",e.jsxs("span",{className:"font-normal ",children:[" ",(Z=(U=(W=this.props)==null?void 0:W.licenceData)==null?void 0:U.application)==null?void 0:Z.items_code]})]}),e.jsxs("p",{className:" font-semibold",children:["Date of Establishment :"," ",e.jsxs("span",{className:"font-normal ",children:[" ",(G=(n=(Q=this.props)==null?void 0:Q.licenceData)==null?void 0:n.application)==null?void 0:G.establishment_date]})]})]}),e.jsxs("div",{className:"col-span-1 pb-2",children:[e.jsxs("p",{className:" font-semibold",children:["Ward No :"," ",e.jsxs("span",{className:"font-normal ",children:[" ",(oe=(le=(J=this.props)==null?void 0:J.licenceData)==null?void 0:le.application)==null?void 0:oe.ward_no]})]}),e.jsxs("p",{className:" font-semibold",children:["Address :"," ",e.jsxs("span",{className:"font-normal  capitalize",children:[" ",(ge=(pe=(ve=(xe=this.props)==null?void 0:xe.licenceData)==null?void 0:ve.application)==null?void 0:pe.address)==null?void 0:ge.toLowerCase()]})]}),e.jsxs("p",{className:" font-semibold",children:["Application No :"," ",e.jsxs("span",{className:"font-normal ",children:[" ",(Ce=(Ne=(fe=this.props)==null?void 0:fe.licenceData)==null?void 0:Ne.application)==null?void 0:Ce.application_no]})]}),e.jsxs("p",{className:" font-semibold",children:["Date of Application:",e.jsx("span",{className:"font-normal ",children:($e=(_e=(De=this.props)==null?void 0:De.licenceData)==null?void 0:_e.application)==null?void 0:$e.application_date})]}),e.jsxs("p",{className:" font-semibold",children:["Mobile No :"," ",e.jsxs("span",{className:"font-normal ",children:[" ",(Le=(Ee=(ke=this.props)==null?void 0:ke.licenceData)==null?void 0:Ee.application)==null?void 0:Le.mobile]})]})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 w-full",children:e.jsxs("div",{children:["This is to declare that"," ",e.jsxs("span",{className:"font-semibold capitalize",children:[" ",(Pe=(Ve=(Ie=this.props)==null?void 0:Ie.licenceData)==null?void 0:Ve.application)==null?void 0:Pe.firm_name," "]}),"having application number"," ",e.jsxs("span",{className:"font-semibold capitalize",children:[" ",(Ge=(Re=(Be=this.props)==null?void 0:Be.licenceData)==null?void 0:Re.application)==null?void 0:Ge.application_no," "]})," ","has been successfully registered with us with satisfactory compliance of registration criteria and to certify that trade license number"," ",e.jsxs("span",{className:"font-semibold capitalize",children:[" ",(Je=(Ze=(Ke=this.props)==null?void 0:Ke.licenceData)==null?void 0:Ze.application)==null?void 0:Je.license_no," "]})," ","has been allocated to"," ",e.jsxs("span",{className:"font-semibold capitalize",children:[(he=(V=(Qe=this.props)==null?void 0:Qe.licenceData)==null?void 0:V.application)==null?void 0:he.firm_name," "]}),"for conducting business which is"," ",e.jsxs("span",{className:"font-semibold capitalize",children:["(",(as=(ts=(Oe=this.props)==null?void 0:Oe.licenceData)==null?void 0:ts.application)==null?void 0:as.items_code,")"]})," ","as per business code mentioned in Jharkhand "," Municipal Act 2011 in the regime of this local body. The validity of this subject to meeting the terms and conditions as specified in U/S 455 of Jharkhand "," Municipal Act 2011 and other applicable sections in the act along with following terms and conditions:-"]})}),e.jsxs("div",{className:" mt-4 px-1  text-justify ",children:[e.jsxs("p",{className:"py-0.5",children:["1. Business will run according to license issued."," "]}),e.jsx("p",{className:"py-0.5",children:"2. Prior Permission from local body is necessary if nature of business is changed."}),e.jsxs("p",{className:"py-0.5",children:["3. Information to local body is necessary for extension of area."," "]}),e.jsxs("p",{className:"py-0.5",children:["4. Prior information to local body regarding winding up/closer of business is necessary."," "]}),e.jsx("p",{className:"py-0.5",children:"5. Application for renewal of license is necessary one month before expiry of license."}),e.jsxs("p",{className:"py-0.5",children:["6. In the case of delay, penalty will be levied according to section 459 of Jharkhand "," Municipal Act 2011."]}),e.jsx("p",{className:"py-0.5",children:"7. Illegal Parking in front of firm in non-permissible."}),e.jsx("p",{className:"py-0.5",children:"8. Sufficient number of containers for disposing-garbage and refuse shall be made available within by the business owner/organisation."}),e.jsxs("p",{className:"py-0.5",children:["9. The premises and the licensee will co-operate with the ULB for disposal of such waste."," "]}),e.jsxs("p",{className:"py-0.5",children:["10. SWM Rules, 2016 and Plastic Waste Management Rules 2016 shall be adhered to in words as well as spirit."," "]}),e.jsxs("p",{className:"py-0.5",children:["11. The license can be downloaded from ",(is=(ns=(ls=this.props)==null?void 0:ls.licenceData)==null?void 0:ns.application)==null?void 0:is.ulb_parent_website]})]}),e.jsxs("div",{className:" mt-4 mb-4 px-2  text-justify text-red-700",children:[e.jsxs("p",{children:["For More Details Please Visit :",(ds=(rs=(cs=this.props)==null?void 0:cs.licenceData)==null?void 0:rs.application)==null?void 0:ds.ulb_parent_website]}),e.jsxs("p",{children:["OR Call us at ",(hs=(us=(os=this.props)==null?void 0:os.licenceData)==null?void 0:us.application)==null?void 0:hs.ulb_mobile_no," OR ",(gs=(xs=(ms=this.props)==null?void 0:ms.licenceData)==null?void 0:xs.application)==null?void 0:gs.ulb_toll_free_no]}),e.jsx("p",{children:"Note : This is a computer generated License. This License does not require a physical signature."})]})]})})]})})}}function jl(){const s=Ls.useRef(),[l,h]=a.useState(),{licenceId:C}=ks(),[b,c]=a.useState(!1);a.useEffect(()=>{t(atob(C))},[C]);const t=g=>{u(!0),Es.get(de.GET_TRADE_LICENSE_DATA+g).then(m=>{console.log("License data",m.data.data),m.data.status?(h(m.data.data),setTimeout(()=>{u(!1)},500)):u(!1)}).catch(m=>{u(!1),console.log(m)})},u=g=>{c(g)};return e.jsx("div",{children:e.jsxs("div",{children:[e.jsx(yt,{trigger:()=>e.jsxs("button",{id:"clickButton",className:"bg-teal-500  hover:bg-teal-800 text-white px-3 py-1.5 rounded-lg text-xs font-mono",children:[e.jsx(Xs,{})," Print this out!"]}),content:()=>s.current,copyStyles:!0}),e.jsx(fl,{ref:s,licenceData:l})]})})}bs.setAppElement("#root");function bl(){a.useState(0),a.useState(0),a.useState({category:"Not Authenticated",created_at:"2022-08-02 05:37:55",created_by:"Anshu Kumar",created_on:"2022-06-29 00:00:00",description:"abc",discontinued:!1,end_point:"test2",id:3,post_condition:"None",pre_condition:"Authentication is required",remarks:"",request_payload:"Token Only",response_payload:"username,password,userid",revision_no:1,tags:"tag5,tag6",updated_at:"2022-08-02 05:37:55",usage:"For Saving API Keys",version:"Version 1.0"});const[s,l]=a.useState(),[h,C]=a.useState([]),[b,c]=a.useState("pointer-events-none opacity-50");a.useState("hidden");const[t,u]=a.useState(!1),[g,m]=a.useState(),[f,w]=a.useState(),[F,S]=a.useState(""),[k,T]=a.useState(!0);a.useState([]);const _=ys(),r={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"transparent",border:"none"}};function L(){}function o(){T(!1)}const E=A=>{let B=A.target.selectedOptions[0].text,D=A.target.selectedOptions[0].value;m(D),S(B)},P=()=>{g==""||g==null||g==null?(y("No ulb selected","notice"),window.document.getElementById("ulbName").focus()):(m(g),y("ULB Selected","success"),o())};console.log("uldId",g,F);const j=()=>{N(!0),console.log("api url",me()),ue.post(de.MASTER_DATA_API,{applicationType:ss(s),ulbId:g},me()).then(function(A){C(A.data.data),c(""),N(!1)}).catch(function(A){console.log(A),console.log(A),N(!1)})};a.useEffect(()=>{d()},[g]);const d=()=>{N(!0),ue.get(de.GET_ULB_LIST,me()).then(A=>{console.log("ulb list",A.data),A.data.status&&(w(A.data.data),j()),N(!1)}).catch(A=>{console.log("ulb list",A),N(!1)})},N=A=>{console.log("loader is called with value ",A),u(A)},y=(A,B)=>{X.dismiss(),B=="escalated"&&X.success(A),B=="success"&&X.success(A),B=="de-escalated"&&X.warn(A),B=="notice"&&X.warn(A),B=="error"&&X.error(A)},$=()=>{N(!0),setTimeout(()=>{N(!1),_("/trade-dashboard")},1e3)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"py-12 bg-white",children:[e.jsx(Bs,{show:t}),e.jsx(rl,{fieldData:h,showLoader:N,applicationType:"1",title:"NewApplication",toast:y,ulbId:g,ulbName:F}),e.jsx("div",{children:e.jsx(bs,{isOpen:k,onAfterOpen:L,onRequestClose:o,style:r,contentLabel:"Example Modal",shouldCloseOnOverlayClick:!1,children:e.jsx("div",{className:"bg-white text-gray-600  border border-gray-200 p-3  rounded-md",style:{width:"65vw",minHeight:"1vh"},children:e.jsxs("div",{className:"w-full text-gray-800",children:[e.jsx(Bs,{show:t}),e.jsx("div",{class:"flex items-start justify-between p-4 border-b rounded-t darks:border-gray-600",children:e.jsx("h3",{class:"text-base md:text-xl font-semibold text-gray-900 darks:text-white",children:" Applying For a New Trade License "})}),e.jsxs("div",{class:"space-y-2",children:[e.jsx("p",{class:"   text-gray-500 text-xs",children:"Before applying for a Trade License, you may need to provide a declaration or some other documentation to the Trade authority ULB. The specific requirements may vary depending on your location and the regulations of the service provider."}),e.jsx("p",{class:"   text-gray-500 text-xs",children:"Typically, you may need to provide information about the property where you want the Business license, including the address, the type of property (residential or commercial), and the number of occupants or users. You may also need to provide proof of ownership or tenancy, such as a copy of your lease or property deed."})]}),e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"grid grid-cols-3",children:[e.jsxs("div",{className:"col-span-1 font-semibold ",children:[e.jsx("br",{})," Please Select Your ULB"]}),e.jsx("div",{className:"col-span-2",children:e.jsxs("select",{name:"ulbName",id:"ulbName",className:"border bg-white text-gray-600 space-y-2 hover:bg-amber-50 w-full px-2 py-2 my-4 rounded-md",onChange:E,required:!0,children:[e.jsx("option",{value:"",children:"SELECT ULB"}),e.jsx("option",{value:"2",children:"Ranchi Municipal Corporation"}),e.jsx("option",{value:"5",children:"Bundu Nagar Panchayat"}),e.jsx("option",{value:"27",children:"Khunti Nagar Panchayat"}),e.jsx("option",{value:"20",children:"Gumla Nagar Parishad"}),e.jsx("option",{value:"44",children:"Simdega Nagar Parishad"}),e.jsx("option",{value:"30",children:"Lohardaga Nagar Parishad"})]})})]}),e.jsx("div",{className:"mb-2 block",children:F!=""&&e.jsxs("p",{children:["You have selected",e.jsxs("span",{className:"text-blue-600",children:[" ",F]})]})}),e.jsxs("div",{className:"grid grid-cols-2 ",children:[e.jsx("div",{className:"text-right",children:e.jsx("button",{className:`${ze}`,onClick:$,children:"Cancel"})}),e.jsx("div",{children:e.jsx("button",{className:`${Fe}`,onClick:P,children:"Confirm"})})]})]})]})})})}),e.jsx($a,{topic:[{q:"How to apply form",a:"Click on Apply License"},{q:"what to do after apply license",a:"select any ULB"},{q:"Is declaration important to click",a:"Yes, it is important"}]})]})})}function Nl(s){var j,d,N,y,$,A,B,D,O,q,i,v,I,K,ee,ne,ie,ae,ce,re,Y,x,z,se,W,U,Z,Q,n,G,J,le,oe,xe,ve,pe;const{applicationType:l,colorCode:h,currentStep:C,currentStepFun:b,collectAllFormData:c,collectFormDataFun:t,firmStepFun:u,firmStep:g,colorCodeFun:m,licenseData:f,showLoader:w}=s==null?void 0:s.values,[F,S]=a.useState(!1);a.useState(!1),a.useState(!1),a.useState();const[k,T]=a.useState(!1),[_,r]=a.useState(!1);console.log("applicationType initial ",l);const L=We({}),o={oldLicenseId:(N=(d=(j=s==null?void 0:s.values)==null?void 0:j.licenseData)==null?void 0:d.licenceDtl)==null?void 0:N.id,applicationType:(A=($=(y=s==null?void 0:s.values)==null?void 0:y.licenseData)==null?void 0:$.licenceDtl)==null?void 0:A.application_type,firmType:(O=(D=(B=s==null?void 0:s.values)==null?void 0:B.licenseData)==null?void 0:D.licenceDtl)==null?void 0:O.firm_type_id,ownershipType:(v=(i=(q=s==null?void 0:s.values)==null?void 0:q.licenseData)==null?void 0:i.licenceDtl)==null?void 0:v.ownership_type_id,licenseNo:(ee=(K=(I=s==null?void 0:s.values)==null?void 0:I.licenseData)==null?void 0:K.licenceDtl)==null?void 0:ee.license_no,categoryTypeId:(ae=(ie=(ne=s==null?void 0:s.values)==null?void 0:ne.licenseData)==null?void 0:ie.licenceDtl)==null?void 0:ae.category_type_id},E=He({initialValues:o,enableReinitialize:!0,onSubmit:(ge,fe)=>{console.log("basic deatils ",ge),t("initialBusinessDetails",ge,0),u(2),b(2),m(1)},validationSchema:L}),P=ge=>{let fe=ge.target.name,Ne=ge.target.value;fe==="applyWith"&&S(Ne==="1"),fe==="firmType"&&T(Ne==="5"),fe==="noticeNo"&&r(Ne==="1")};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"absolute w-full md:w-full sm:w-full  pl-2 pr-4  pb-24",children:[e.jsx(Ye,{heading:"Basic Details",message:"Some basic details about your business...",iconTitle:"Initial Details",style:{}}),e.jsx("form",{onChange:P,onSubmit:E.handleSubmit,children:e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3",children:[e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Application type"]}),e.jsx("input",{type:"hidden",name:"oldLicenseId",className:`${p} cursor-pointer `,value:E.values.oldLicenseId,readOnly:!0}),e.jsx("input",{type:"hidden",name:"applicationType",className:`${p} cursor-pointer `,value:E.values.applicationType,readOnly:!0}),e.jsx("div",{className:`${p} bg-gray-100`,children:ss(2)})]}),e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"License No."]}),e.jsx("input",{name:"licenseNo",type:"hidden",value:E.values.licenseNo,className:`read-only:bg-gray-100  ${p}`,readOnly:!0}),e.jsxs("div",{className:`${p} bg-gray-100`,children:[" ",((Y=(re=(ce=s==null?void 0:s.values)==null?void 0:ce.licenseData)==null?void 0:re.licenceDtl)==null?void 0:Y.license_no)!=null?(se=(z=(x=s==null?void 0:s.values)==null?void 0:x.licenseData)==null?void 0:z.licenceDtl)==null?void 0:se.license_no:"N/A"," "]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3",children:[e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})," Firm Type "]}),e.jsx("input",{type:"hidden",name:"firmType",className:`${p} cursor-pointer text-xs`,value:E.values.firmType,readOnly:!0}),e.jsx("div",{className:`${p} bg-gray-100`,children:((Z=(U=(W=s==null?void 0:s.values)==null?void 0:W.licenseData)==null?void 0:U.licenceDtl)==null?void 0:Z.firm_type)!=null?(G=(n=(Q=s==null?void 0:s.values)==null?void 0:Q.licenseData)==null?void 0:n.licenceDtl)==null?void 0:G.firm_type:"N/A"})]}),e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:"block mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Premises Ownership Type"]}),e.jsx("input",{type:"hidden",name:"ownershipType",className:`${p} cursor-pointer text-xs`,value:E.values.ownershipType,readOnly:!0}),e.jsx("div",{className:`${p} bg-gray-100`,children:((oe=(le=(J=s==null?void 0:s.values)==null?void 0:J.licenseData)==null?void 0:le.licenceDtl)==null?void 0:oe.ownership_type)!=null?(pe=(ve=(xe=s==null?void 0:s.values)==null?void 0:xe.licenseData)==null?void 0:ve.licenceDtl)==null?void 0:pe.ownership_type:"N/A"})]}),e.jsxs("div",{className:"col-span-4 grid grid-cols-2",children:[e.jsx("div",{className:"md:px-10"}),e.jsx("div",{className:"md:px-10 text-right ",children:e.jsx("button",{type:"submit",className:`${Fe}`,children:"Save & Next"})})]})]})]})})]})})}function yl(s){var y,$,A,B,D,O,q,i,v,I,K,ee,ne,ie,ae,ce,re,Y,x,z,se,W,U,Z,Q,n,G,J,le,oe,xe,ve,pe,ge,fe,Ne,Ce,De,_e,$e,ke,Ee,Le,Ie,Ve,Pe,Be,Re,Ge,Ke,Ze,Je,Qe,V,he,Oe,ts,as,ls,ns,is,cs,rs,ds,os,us,hs,ms,xs,gs,vs,ps,ws,Ss,Cs,Ds,_s,$s,Fs,je,Ue,we,Me,fs,js,Is;const{applicationType:l,colorCode:h,currentStep:C,currentStepFun:b,collectFormDataFun:c,firmStepFun:t,firmStep:u,colorCodeFun:g,allFormData:m,showLoader:f}=s.values;a.useState(!1),a.useState({});const[w,F]=a.useState(!1);a.useState(!1),a.useState(!1),a.useState();const[S,k]=a.useState(!0),[T,_]=a.useState([]),r=We({holdingNo:H().required("Enter a valid holding no"),pincode:H().required("Enter pincode").matches(/[0-9]{6}/,"pincode must be numeric 6 digits."),businessDescription:H().required("Enter Business Description").matches(/^[a-zA-Z1-9][a-zA-Z1-9\.\&\s]+$/,"Business Description is Alphanumeric. "),landmark:H().required("Enter Landmark").matches(/^[a-zA-Z1-9][a-zA-Z1-9\.\,\s]+$/,"Business Description is Alphanumeric."),wardNo:H().required("Enter Ward No."),newWardNo:H().required("Enter New Ward No.")}),L={wardNo:(A=($=(y=s==null?void 0:s.values)==null?void 0:y.licenseData)==null?void 0:$.licenceDtl)==null?void 0:A.ward_id,holdingNo:(O=(D=(B=s==null?void 0:s.values)==null?void 0:B.licenseData)==null?void 0:D.licenceDtl)==null?void 0:O.holding_no,newWardNo:(v=(i=(q=s==null?void 0:s.values)==null?void 0:q.licenseData)==null?void 0:i.licenceDtl)==null?void 0:v.new_ward_id,areaSqft:(ee=(K=(I=s==null?void 0:s.values)==null?void 0:I.licenseData)==null?void 0:K.licenceDtl)==null?void 0:ee.area_in_sqft,firmName:(ae=(ie=(ne=s==null?void 0:s.values)==null?void 0:ne.licenseData)==null?void 0:ie.licenceDtl)==null?void 0:ae.firm_name,firmEstdDate:(Y=(re=(ce=s==null?void 0:s.values)==null?void 0:ce.licenseData)==null?void 0:re.licenceDtl)==null?void 0:Y.valid_upto,businessAddress:(se=(z=(x=s==null?void 0:s.values)==null?void 0:x.licenseData)==null?void 0:z.licenceDtl)==null?void 0:se.address,landmark:(Z=(U=(W=s==null?void 0:s.values)==null?void 0:W.licenseData)==null?void 0:U.licenceDtl)==null?void 0:Z.landmark,pincode:(G=(n=(Q=s==null?void 0:s.values)==null?void 0:Q.licenseData)==null?void 0:n.licenceDtl)==null?void 0:G.pin_code,premisesOwner:(oe=(le=(J=s==null?void 0:s.values)==null?void 0:J.licenseData)==null?void 0:le.licenceDtl)==null?void 0:oe.premises_owner_name,businessDescription:(pe=(ve=(xe=s==null?void 0:s.values)==null?void 0:xe.licenseData)==null?void 0:ve.licenceDtl)==null?void 0:pe.brief_firm_desc,natureOfBusiness:(Ne=(fe=(ge=s==null?void 0:s.values)==null?void 0:ge.licenseData)==null?void 0:fe.licenceDtl)==null?void 0:Ne.nature_of_bussiness,tocStatus:(_e=(De=(Ce=s==null?void 0:s.values)==null?void 0:Ce.licenseData)==null?void 0:De.licenceDtl)==null?void 0:_e.tobacco_status,propDtlId:(Ee=(ke=($e=s==null?void 0:s.values)==null?void 0:$e.licenseData)==null?void 0:ke.licenceDtl)==null?void 0:Ee.prop_dtl_id},o=He({initialValues:L,enableReinitialize:!0,onSubmit:(be,Xe)=>{console.log("Firm deatils ",be),be.natureOfBusiness!=null&&be.natureOfBusiness!=""?(c("firmDetails",be,0),t(3),b(3),g(2)):alert("nature of business cann't be empty")},validationSchema:r}),E=()=>{t(1)},P=be=>{var Ts,As,Tt,At,Ot;const Xe=be.target.value;Xe!=""&&(console.log("ulbId",(As=(Ts=s==null?void 0:s.values)==null?void 0:Ts.licenseData)==null?void 0:As.licenceDtl),f(!0),ue.post(de.VALIDATE_HOLDING,{holdingNo:Xe,ulbId:(Ot=(At=(Tt=s==null?void 0:s.values)==null?void 0:Tt.licenseData)==null?void 0:At.licenceDtl)==null?void 0:Ot.ulb_id},me()).then(function(Rs){console.log("validate holding ",Rs.data),Rs.data.status?setTimeout(()=>{f(!1),s.toast("Correct Holding No.","success")},500):(s.toast("Invalid Holding No.","notice"),o.setFieldValue("holdingNo",""),f(!1))}).catch(function(Rs){console.log(Rs)}))},j=be=>{var Ts;f(!0);let Xe={oldWardMstrId:be,ulbId:(Ts=s==null?void 0:s.values)==null?void 0:Ts.ulbId};ue.post(de.DEPENDENT_WARD_CITIZEN,Xe,me()).then(As=>{console.log("dependent wards",As.data),As.data.status?_(As.data.data):s.toast("Nature of business cann't be empty","notice"),f(!1)}).catch(As=>{console.log(As),f(!1)})},d=be=>{let Xe=be.target.name,Ts=be.target.value;Xe==="applyWith"&&F(Ts==="1"),Xe==="tocStatus"&&N(be),Xe==="wardNo"&&j(Ts)},N=be=>{be.target.checked===!0?(k(!1),o.setFieldValue("tocStatus",1),o.setFieldValue("natureOfBusiness",[{id:187}])):(k(!0),o.setFieldValue("tocStatus",0),o.setFieldValue("natureOfBusiness",""))};return a.useEffect(()=>{var be;j((be=o==null?void 0:o.values)==null?void 0:be.wardNo)},[(Le=o==null?void 0:o.values)==null?void 0:Le.wardNo]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"absolute w-full h-auto bg-white",children:[e.jsx(Ye,{heading:"Firm Details",message:"Your Firm Details will help us reach you easily...",iconTitle:"Firm Details"}),e.jsx("div",{className:"mr-4",children:e.jsx("form",{onChange:d,onSubmit:o.handleSubmit,autoComplete:"off",children:e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-1",children:[e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Ward No"]}),e.jsxs("select",{name:"wardNo",className:`${p} cursor-pointer `,value:o.values.wardNo,onChange:o.handleChange,children:[e.jsx("option",{value:"",children:"Select New Ward"}),(Pe=(Ve=(Ie=s==null?void 0:s.values)==null?void 0:Ie.licenseData)==null?void 0:Ve.wardList)==null?void 0:Pe.map(be=>e.jsx("option",{value:be.id,children:be.ward_no}))]})]}),e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})," Holding No. "]}),e.jsx("input",{type:"text",name:"holdingNo",className:`${p} cursor-pointer uppercase `,placeholder:"Enter Holding No",value:o.values.holdingNo,onChange:o.handleChange,onBlur:P}),e.jsx("span",{className:`${te}`,children:o.touched.holdingNo&&o.errors.holdingNo?o.errors.holdingNo:null})]}),e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"New Ward No."]}),e.jsxs("select",{name:"newWardNo",className:`${p} cursor-pointer `,value:o.values.newWardNo,onChange:o.handleChange,children:[e.jsx("option",{value:"",children:"Select New Ward"}),T==null?void 0:T.map(be=>e.jsx("option",{value:be.new_ward_mstr_id,children:be.ward_name}))]}),e.jsx("p",{className:`${te}`,children:o.touched.newWardNo&&o.errors.newWardNo?o.errors.newWardNo:null})]}),e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Total Area (sqft)."]}),e.jsx("input",{type:"hidden",name:"areaSqft",className:`${p} cursor-pointer `,value:o.values.areaSqft,readOnly:!0}),e.jsx("div",{className:`${p} bg-gray-100 cursor-pointer `,children:((Ge=(Re=(Be=s==null?void 0:s.values)==null?void 0:Be.licenseData)==null?void 0:Re.licenceDtl)==null?void 0:Ge.area_in_sqft)!=null?(Je=(Ze=(Ke=s==null?void 0:s.values)==null?void 0:Ke.licenseData)==null?void 0:Ze.licenceDtl)==null?void 0:Je.area_in_sqft:"N/A"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-1",children:[e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Firm Name."]}),e.jsx("input",{type:"hidden",name:"firmName",className:`${p} cursor-pointer `,value:o.values.firmName,readOnly:!0}),e.jsx("div",{className:`${p} bg-gray-100 cursor-pointer `,children:((he=(V=(Qe=s==null?void 0:s.values)==null?void 0:Qe.licenseData)==null?void 0:V.licenceDtl)==null?void 0:he.firm_name)!=null?(as=(ts=(Oe=s==null?void 0:s.values)==null?void 0:Oe.licenseData)==null?void 0:ts.licenceDtl)==null?void 0:as.firm_name:"N/A"})]}),e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Firm Establishment Date"]}),e.jsx("input",{type:"hidden",name:"firmEstdDate",className:`${p} cursor-pointer `,value:o.values.firmEstdDate,readOnly:!0}),e.jsx("div",{className:`${p} bg-gray-100 cursor-pointer `,children:((is=(ns=(ls=s==null?void 0:s.values)==null?void 0:ls.licenseData)==null?void 0:ns.licenceDtl)==null?void 0:is.establishment_date)!=null?(ds=(rs=(cs=s==null?void 0:s.values)==null?void 0:cs.licenseData)==null?void 0:rs.licenceDtl)==null?void 0:ds.establishment_date:"N/A"})]}),e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Business Address"]}),e.jsx("input",{type:"hidden",name:"businessAddress",className:`${p} cursor-pointer `,value:o.values.businessAddress,readOnly:!0}),e.jsx("div",{className:`${p} bg-gray-100 cursor-pointer `,children:((hs=(us=(os=s==null?void 0:s.values)==null?void 0:os.licenseData)==null?void 0:us.licenceDtl)==null?void 0:hs.address)!=null?(gs=(xs=(ms=s==null?void 0:s.values)==null?void 0:ms.licenseData)==null?void 0:xs.licenceDtl)==null?void 0:gs.address:"N/A"})]}),e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Landmark"]}),e.jsx("input",{type:"text",name:"landmark",className:`${p}  cursor-pointer `,value:o.values.landmark,onChange:o.handleChange}),e.jsxs("p",{className:"text-xs text-red-500",children:[" ",o.touched.landmark&&o.errors.landmark?o.errors.landmark:null]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-1",children:[e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Pin Code"]}),e.jsx("input",{type:"text",name:"pincode",className:`${p} cursor-pointer `,value:o.values.pincode,onChange:o.handleChange,maxLength:6}),e.jsxs("p",{className:"text-xs text-red-500",children:[" ",o.touched.pincode&&o.errors.pincode?o.errors.pincode:null]})]}),e.jsxs("div",{className:`${M} `,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Owner of Business Premises"]}),e.jsx("input",{type:"hidden",name:"premisesOwner",className:`${p} cursor-pointer `,value:o.values.wardNo,readOnly:!0}),e.jsx("div",{className:`${p} bg-gray-100 cursor-pointer `,children:(ws=(ps=(vs=s==null?void 0:s.values)==null?void 0:vs.licenseData)==null?void 0:ps.licenceDtl)!=null&&ws.premisesOwner?(Ds=(Cs=(Ss=s==null?void 0:s.values)==null?void 0:Ss.licenseData)==null?void 0:Cs.licenceDtl)==null?void 0:Ds.premisesOwner:(Fs=($s=(_s=s==null?void 0:s.values)==null?void 0:_s.licenseData)==null?void 0:$s.licenceDtl)!=null&&Fs.premises_owner_name?(we=(Ue=(je=s==null?void 0:s.values)==null?void 0:je.licenseData)==null?void 0:Ue.licenceDtl)==null?void 0:we.premises_owner_name:"N/A"})]}),e.jsxs("div",{className:" col-span-2 mx-4",children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Business Description"]}),e.jsx("input",{type:"text",name:"businessDescription",className:`${p} cursor-pointer uppercase `,value:o.values.businessDescription,onChange:o.handleChange}),e.jsxs("p",{className:"text-xs text-red-500",children:[" ",o.touched.businessDescription&&o.errors.businessDescription?o.errors.businessDescription:null]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-1",children:e.jsxs("div",{className:"mx-4",children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Nature of Business"]}),e.jsx("input",{type:"hidden",name:"natureOfBusiness",className:`${p} cursor-pointer `,value:o.values.natureOfBusiness,readOnly:!0}),e.jsx("div",{className:`${p} bg-gray-100 cursor-pointer `,children:(Is=(js=(fs=(Me=s==null?void 0:s.values)==null?void 0:Me.licenseData)==null?void 0:fs.licenceDtl)==null?void 0:js.nature_of_bussiness)==null?void 0:Is.map(be=>e.jsxs("p",{children:[be.trade_item," "]}))})]})}),e.jsxs("div",{className:"grid grid-cols-2 my-4",children:[e.jsx("div",{children:e.jsx("button",{type:"button",onClick:E,className:`${ze}`,children:" Back "})}),e.jsx("div",{className:"text-right",children:e.jsx("button",{type:"submit",className:`${Fe}`,children:"Save & Next "})})]})]})})})]})})}function vl(s){var N,y;const{applicationType:l,colorCode:h,currentStep:C,currentStepFun:b,collectFormDataFun:c,firmStepFun:t,firmStep:u,colorCodeFun:g}=s.values;console.log("owner dtl",s.values.licenseData.ownerDtl),console.log("firm step is :",u);const[m,f]=a.useState(!1);a.useState(!1),a.useState(!1);const[w,F]=a.useState(!0);a.useState(!1);const[S,k]=a.useState(!1),[T,_]=a.useState([]);console.log("Multiple owner details ",T);const r=We({}),o=He({initialValues:{},onSubmit:($,A)=>{_([...T,$])},validationSchema:r}),E=()=>{var A,B;let $=[];(B=(A=s.values.licenseData)==null?void 0:A.ownerDtl)==null||B.forEach(D=>{let O={businessOwnerName:D.owner_name,guardianName:D.guardian_name,mobileNo:D.mobile_no,email:D.email_id,documentId:D.document_id};$.push(O)}),console.log("ownerDtl converted",$),console.log("Final submission of the form ",$),c("ownerDetails",$,0),t(4),b(4),g(3)},P=()=>{t(2)},j=$=>{let A=$.target.name,B=$.target.value;A==="applyWith"&&f(B==="1")},d=()=>{alert(w),w==!1?F(!0):F(!1)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"absolute w-full h-auto bg-white",children:[e.jsx("div",{className:"w-full text-center",children:e.jsxs("button",{type:"submit",className:`${S?"":"hidden"}  bg-green-600 px-4 py-2 rounded-lg`,onClick:d,children:[" Add More Owners ",e.jsx(tt,{})," "]})}),e.jsx("div",{className:"mr-4",children:e.jsxs("form",{onChange:j,onSubmit:o.handleSubmit,children:[e.jsx("div",{className:"flex px-4",children:e.jsx(Ye,{heading:"Owner Details",message:"Listed Below are the owners of this firm",iconTitle:"Owner Details"})}),e.jsxs("table",{className:"table-auto w-full text-center mt-4",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-100 text-gray-600 text-xs h-8 hover:bg-amber-200 uppercase",children:[e.jsx("th",{children:" Owner Name"}),e.jsx("th",{children:" Guardian Name"}),e.jsx("th",{children:" Mobile"}),e.jsx("th",{children:" Email"})]})}),e.jsx("tbody",{children:(y=(N=s.values.licenseData)==null?void 0:N.ownerDtl)==null?void 0:y.map($=>e.jsxs("tr",{className:"border-t-2 hover:bg-slate-50 text-sm hover:shadow-lg text-center",children:[e.jsx("td",{children:e.jsx("input",{type:"text",name:"businessOwnerName[]",value:$.owner_name,className:`${p} bg-gray-200 cursor-pointer `,readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{type:"text",name:"guardianName[]",value:$.guardian_name!=null?$.guardian_name:"N/A",className:`${p} bg-gray-200 cursor-pointer `,readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{type:"text",name:"mobileNo[]",value:$.mobile_no!=null?$.mobile_no:"N/A",className:`${p} bg-gray-200 cursor-pointer `,readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{type:"text",name:"email[]",value:$.email_id!=""?$.email_id:"N/A",className:`${p} bg-gray-200 cursor-pointer `,readOnly:!0})})]}))})]}),e.jsxs("div",{className:"grid grid-cols-2 my-4",children:[e.jsx("div",{className:" text-left",children:e.jsx("button",{type:"button",onClick:P,className:`${ze}`,children:" Back "})}),e.jsx("div",{className:" text-right",children:e.jsx("button",{type:"button",onClick:E,className:`${Fe}`,children:"Save & Next>> "})})]})]})})]})})}function pl(s){const{colorCode:l,currentStep:h,currentStepFun:C,collectFormDataFun:b,firmStepFun:c,firmStep:t,colorCodeFun:u,allFormData:g,showLoader:m,finalSubmit:f}=s==null?void 0:s.values,[w,F]=a.useState(!1);a.useState(!1),a.useState(!1);const[S,k]=a.useState(!1),T=We({licenseFor:H().required("Select License For"),bankName:H().when("paymentMode",{is:d=>d=="CHEQUE"||d=="DD",then:H().required("Bank Name is required")}),chequeNo:H().when("paymentMode",{is:d=>d=="CHEQUE"||d=="DD",then:H().required("Cheque No is required")}),chequeDate:H().when("paymentMode",{is:d=>d=="CHEQUE"||d=="DD",then:H().required("Cheque Date is required")}),branchName:H().when("paymentMode",{is:d=>d=="CHEQUE"||d=="DD",then:H().required("Cheque Date is required")})}),r=He({initialValues:{licenseFor:"",licenseCharge:"",penalty:"",denialAmount:"",totalCharge:"",paymentMode:"",bankName:"",chequeNo:"",chequeDate:"",branchName:""},onSubmit:(d,N)=>{console.log("Firm Details ",d),window.confirm(`Are you sure ?
 Your license will be processed`)&&(m(!0),b("licenseDetails",d,1),setTimeout(()=>{m(!1)},1e3))},validationSchema:T}),L=()=>{c(3)},o=[{option:"1",value:1},{option:"2",value:2},{option:"3",value:3},{option:"4",value:4},{option:"5",value:5},{option:"6",value:6},{option:"7",value:7},{option:"8",value:8},{option:"9",value:9},{option:"10",value:10}],E=d=>{let N=d.target.name,y=d.target.value;N==="applyWith"&&F(y==="1"),N==="licenseFor"&&P(y),N==="paymentMode"&&y=="CASH"?k(!1):k(!0),N==="chequeNo"&&y.length>20&&r.setFieldValue("chequeNo",y.slice(0,20))},P=d=>{var y,$,A,B,D,O,q,i,v;m(!0);let N=[];N.licenseFor=d,N.firmEstdDate=(A=($=(y=s==null?void 0:s.values)==null?void 0:y.licenseData)==null?void 0:$.licenceDtl)==null?void 0:A.valid_upto,N.natureOfBusiness=(B=g.firmDetails)==null?void 0:B.natureOfBusiness,N.areaSqft=(D=g.firmDetails)==null?void 0:D.areaSqft,N.applicationType=ss((O=s.values)==null?void 0:O.applicationType),N.tocStatus=(v=(i=(q=s==null?void 0:s.values)==null?void 0:q.licenseData)==null?void 0:i.licenceDtl)==null?void 0:v.is_tobacco,console.log("charge calculation data",Object.assign({},N)),ue.post(de.GET_CHARGE,Object.assign({},N),me()).then(function(I){console.log("license Charge ",I.data),I.data.status?(j(I.data.data),setTimeout(()=>{m(!1)},500)):(s.toast("Unable to get license charge !","notice"),m(!1))}).catch(function(I){console.log(I),m(!1)})},j=d=>{r.setFieldValue("licenseCharge",d.rate),r.setFieldValue("denialAmount",d.arear_amount),r.setFieldValue("totalCharge",d.total_charge),r.setFieldValue("penalty",d.penalty)};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"absolute w-full",children:e.jsxs("div",{className:"mr-4",children:[e.jsx(Ye,{heading:"License Details",message:"Depicted below is your license Charge, as per the given information...",iconTitle:"license charge!"}),e.jsx("form",{onChange:E,onSubmit:r.handleSubmit,children:e.jsxs("div",{className:"relative -top-2  ",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-1",children:[e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:"text-sm font-semibold text-red-600 inline ",children:"*"}),"License For"]}),e.jsxs("select",{name:"licenseFor",className:`${p}  cursor-pointer `,value:r.values.licenseFor,onChange:r.handleChange,children:[e.jsx("option",{value:"",disabled:!0,selected:!0,children:"SELECT"}),o.map(d=>e.jsxs("option",{value:d.value,children:[d.option," Yrs"]}))]}),e.jsxs("span",{className:`${te}`,children:["  ",r.touched.licenseFor&&r.errors.licenseFor?r.errors.licenseFor:null]})]}),e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" text-sm font-semibold text-red-600 inline ",children:"*"})," Charge Applied "]}),e.jsx("input",{type:"number",name:"licenseCharge",className:`${p} pointer-events-none bg-gray-100 `,readOnly:"readOnly",value:r.values.licenseCharge,onChange:r.handleChange}),e.jsxs("span",{className:`${te}`,children:["  ",r.touched.licenseCharge&&r.errors.licenseCharge?r.errors.licenseCharge:null]})]}),e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:"text-sm font-semibold text-red-600 inline ",children:"*"}),"Penalty."]}),e.jsx("input",{type:"number",name:"penalty",className:`${p} pointer-events-none bg-gray-100 `,readOnly:"readOnly",value:r.values.penalty}),e.jsxs("span",{className:`${te}`,children:["  ",r.touched.penalty&&r.errors.penalty?r.errors.penalty:null]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-1",children:[e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" text-sm font-semibold text-red-600 inline ",children:"*"}),"Denial / Arrer Amount."]}),e.jsx("input",{type:"number",name:"denialAmount",className:`${p} pointer-events-none bg-gray-100   `,value:r.values.denialAmount,onChange:r.handleChange}),e.jsxs("span",{className:`${te}`,children:["  ",r.touched.denialAmount&&r.errors.denialAmount?r.errors.denialAmount:null]})]}),e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" text-sm font-semibold text-red-600 inline ",children:"*"}),"Total Charge."]}),e.jsx("input",{type:"number",name:"totalCharge",className:`${p} pointer-events-none bg-gray-100 `,value:r.values.totalCharge,onChange:r.handleChange}),e.jsxs("span",{className:`${te}`,children:["  ",r.touched.totalCharge&&r.errors.totalCharge?r.errors.totalCharge:null]})]})]}),e.jsx("div",{className:"hidden"}),e.jsxs("div",{className:"grid grid-cols-2 my-4",children:[e.jsx("div",{className:" text-left",children:e.jsx("button",{type:"button",onClick:L,className:`${ze}`,children:" Back "})}),e.jsx("div",{className:"text-right",children:e.jsx("button",{type:"submit",className:`${Fe}`,children:"Submit "})})]})]})})]})})})}function wl(s){const[l,h]=a.useState({}),[C,b]=a.useState(1),[c,t]=a.useState(1),[u,g]=a.useState(!1),[m,f]=a.useState(!1),[w,F]=a.useState(2),[S,k]=a.useState(),[T,_]=a.useState();a.useState([]),a.useState([]),a.useState([]),a.useState([]),console.log("all form data is: "),console.log(l);let r;const L=(N,y,$)=>{console.log("prev Data",l),r={...l,[N]:y},h({...l,[N]:y}),$&&o(r)},o=N=>{var B,D,O,q;let y=(B=N.initialBusinessDetails)==null?void 0:B.oldLicenseId;const $=JSON.parse(JSON.stringify(N));$.applicationType=ss(w),$.ulbId=(q=(O=(D=s==null?void 0:s.licenseValues)==null?void 0:D.licenseData)==null?void 0:O.licenceDtl)==null?void 0:q.ulb_id,$.licenseId=y;let A=$;setTimeout(()=>{console.log("allFormData in state",l),console.log("allFormData",N),ue.post(de.POST_APPLY_APPLICATION_FOR_CITIZEN,Object.assign({},A),me()).then(function(i){console.log("success data ",i.data),i.data.status?(k(i.data),E(i.data),b(5)):(console.log("success",i.data.message),b(4))}).catch(function(i){console.log(i),alert("Invalid response received"),s.showLoader(!1)})},500)},E=N=>{console.log("===getting payment data====",N.data.paymentRecipt),ue.get(N.data.paymentRecipt).then(function(y){y.data.status&&(_(y.data.data),console.log("===getting payment data thorugh api====",y.data))}).catch(function(y){console.log("===getting payment data thorugh api erro====",y)})},P={renewToggleStatus:m,renewToggleStatusFun:f,applicationTypeFun:F,applicationType:s.applicationType,showLoader:s.showLoader,currentStep:c,currentStepFun:t,collectFormDataFun:L,allFormData:l,firmStepFun:b,firmStep:C,colorCode:u,colorCodeFun:g,finalSubmit:o,licenseData:s.licenseValues.licenseData},j={successData:S,successFun:k},d=(N,y)=>{X.dismiss(),y=="escalated"&&X.success(N),y=="success"&&X.success(N),y=="de-escalated"&&X.warn(N),y=="notice"&&X.warn(N),y=="error"&&X.error(N)};return e.jsx(e.Fragment,{children:e.jsxs("div",{children:[e.jsx(st,{applicationType:s.applicationType}),e.jsxs("div",{className:" overflow-x-clip bg-white h-auto py-2",children:[e.jsxs("div",{className:`mt-8 mr-2 pl-5 transition-all ${C==1?"translate-x-0":"translate-x-full"}`,children:[e.jsx(Nl,{values:P,toast:d})," "]}),e.jsx("div",{className:`mt-8 mr-2 pl-5 transition-all ${C==2?" translate-x-0  ":"translate-x-full"}`,children:e.jsx(yl,{values:P,toast:d})}),e.jsx("div",{className:`mt-8 mr-2 pl-5 transition-all ${C==3?" translate-x-0  ":"translate-x-full"}`,children:e.jsx(vl,{values:P,toast:d})}),e.jsx("div",{className:`mt-8 mr-2 pl-5 transition-all ${C==4?" translate-x-0  ":"translate-x-full"}`,children:e.jsx(pl,{values:P,successData:j,toast:d})}),e.jsx("div",{className:`mt-8 mr-2 transition-all ${C==5?" translate-x-0  ":"translate-x-full"}`,children:e.jsx(at,{values:P,successData:j,paymentData:T,toast:d})})]})]})})}function Sl(){a.useState(0),a.useState(0),a.useState({category:"Not Authenticated",created_at:"2022-08-02 05:37:55",created_by:"Anshu Kumar",created_on:"2022-06-29 00:00:00",description:"abc",discontinued:!1,end_point:"test2",id:3,post_condition:"None",pre_condition:"Authentication is required",remarks:"",request_payload:"Token Only",response_payload:"username,password,userid",revision_no:1,tags:"tag5,tag6",updated_at:"2022-08-02 05:37:55",usage:"For Saving API Keys",version:"Version 1.0"});const{licenceId:s}=ks();console.log("licenceId",s);const l=ys();a.useState(),a.useState([]),a.useState("pointer-events-none opacity-50"),a.useState("hidden");const[h,C]=a.useState(!1),[b,c]=a.useState([]);a.useEffect(()=>{u()},[]);const t=f=>{console.log("loader is called with value ",f),C(f)},u=f=>{console.log("searched license data",f),t(!0),ue.post(de.MASTER_DATA_API,{applicationType:ss(2),licenseId:s},me()).then(w=>{console.log("licenceId Data",w.data),w.data.status?(c(w.data.data),t(!1)):(t(!1),m("No license Data found","notice"))}).catch(w=>{console.log(w),m("Something unexpected occurred with this application","notice"),l("/view-trade")})},g={licenseDetailsFun:u,licenseData:b},m=(f,w)=>{X.dismiss(),w=="escalated"&&X.success(f),w=="success"&&X.success(f),w=="de-escalated"&&X.warn(f),w=="notice"&&X.warn(f),w=="error"&&X.error(f)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"py-12 bg-white",children:[e.jsx(Bs,{show:h}),e.jsx("div",{className:"col-span-12 sm:col-span-10 shadow-lg overflow-y-scroll",children:e.jsx(wl,{licenseValues:g,showLoader:t,applicationType:"2",title:"Renewal"})})]})})}function Cl(s){var j,d,N,y,$,A,B,D,O,q,i,v,I,K,ee,ne,ie,ae,ce,re,Y,x,z,se,W,U,Z,Q,n,G,J,le,oe,xe,ve,pe,ge,fe,Ne,Ce,De,_e,$e,ke,Ee,Le,Ie,Ve,Pe,Be,Re,Ge,Ke,Ze,Je,Qe,V,he,Oe,ts,as,ls,ns,is,cs,rs,ds,os,us,hs,ms,xs,gs,vs,ps,ws,Ss,Cs,Ds,_s,$s,Fs,je,Ue;const{applicationType:l,colorCode:h,currentStep:C,currentStepFun:b,collectFormDataFun:c,firmStepFun:t,firmStep:u,colorCodeFun:g,allFormData:m,showLoader:f}=s==null?void 0:s.values;a.useState(!1),a.useState({});const[w,F]=a.useState(!1);a.useState(!1),a.useState(!1),a.useState();const[S,k]=a.useState(!0),T=We({holdingNo:H().required("Select holdingNo")}),_={wardNo:(N=(d=(j=s==null?void 0:s.values)==null?void 0:j.licenseData)==null?void 0:d.licenceDtl)==null?void 0:N.ward_id,holdingNo:(A=($=(y=s==null?void 0:s.values)==null?void 0:y.licenseData)==null?void 0:$.licenceDtl)==null?void 0:A.holding_no,newWardNo:(O=(D=(B=s==null?void 0:s.values)==null?void 0:B.licenseData)==null?void 0:D.licenceDtl)==null?void 0:O.new_ward_id,areaSqft:(v=(i=(q=s==null?void 0:s.values)==null?void 0:q.licenseData)==null?void 0:i.licenceDtl)==null?void 0:v.area_in_sqft,firmName:(ee=(K=(I=s==null?void 0:s.values)==null?void 0:I.licenseData)==null?void 0:K.licenceDtl)==null?void 0:ee.firm_name,firmEstdDate:(ae=(ie=(ne=s==null?void 0:s.values)==null?void 0:ne.licenseData)==null?void 0:ie.licenceDtl)==null?void 0:ae.valid_upto,businessAddress:(Y=(re=(ce=s==null?void 0:s.values)==null?void 0:ce.licenseData)==null?void 0:re.licenceDtl)==null?void 0:Y.address,landmark:(se=(z=(x=s==null?void 0:s.values)==null?void 0:x.licenseData)==null?void 0:z.licenceDtl)==null?void 0:se.landmark,pincode:(Z=(U=(W=s==null?void 0:s.values)==null?void 0:W.licenseData)==null?void 0:U.licenceDtl)==null?void 0:Z.pin_code,premisesOwner:(G=(n=(Q=s==null?void 0:s.values)==null?void 0:Q.licenseData)==null?void 0:n.licenceDtl)==null?void 0:G.premises_owner_name,businessDescription:(oe=(le=(J=s==null?void 0:s.values)==null?void 0:J.licenseData)==null?void 0:le.licenceDtl)==null?void 0:oe.brief_firm_desc,natureOfBusiness:(pe=(ve=(xe=s==null?void 0:s.values)==null?void 0:xe.licenseData)==null?void 0:ve.licenceDtl)==null?void 0:pe.nature_of_bussiness,tocStatus:(Ne=(fe=(ge=s==null?void 0:s.values)==null?void 0:ge.licenseData)==null?void 0:fe.licenceDtl)==null?void 0:Ne.tobacco_status,propDtlId:(_e=(De=(Ce=s==null?void 0:s.values)==null?void 0:Ce.licenseData)==null?void 0:De.licenceDtl)==null?void 0:_e.prop_dtl_id},r=He({initialValues:_,enableReinitialize:!0,onSubmit:(we,Me)=>{f(!0),we.natureOfBusiness!=null&&we.natureOfBusiness!=""?(c("firmDetails",we,0),setTimeout(()=>{t(3),b(3),g(2),f(!1)},500)):(s.toast("Nature of business can't be empty","notice"),f(!1))},validationSchema:T}),L=()=>{t(1)},o=we=>{var js,Is,be;let Me=(be=(Is=(js=s==null?void 0:s.values)==null?void 0:js.licenseData)==null?void 0:Is.licenceDtl)==null?void 0:be.ulb_id;const fs=we.target.value;fs!=""&&(f(!0),ue.post(de.VALIDATE_HOLDING,{holdingNo:fs,ulbId:Me},me()).then(function(Xe){console.log("validate holding ",Xe.data),Xe.data.status?(setTimeout(()=>{f(!1)},500),s.toast("Correct Holding No. !","success")):(s.toast("Holding no not found !","notice"),r.setFieldValue("holdingNo",""),f(!1))}).catch(function(Xe){s.toast("Something Went Wrong !","error"),console.log(Xe)}),f(!1))},E=we=>{let Me=we.target.name,fs=we.target.value;Me==="applyWith"&&F(fs==="1"),Me==="tocStatus"&&P(we)},P=we=>{we.target.checked===!0?(k(!1),r.setFieldValue("tocStatus",1),r.setFieldValue("natureOfBusiness",[{id:187}])):(k(!0),r.setFieldValue("tocStatus",0),r.setFieldValue("natureOfBusiness",""))};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"absolute w-full h-auto bg-inherit",children:[e.jsx(Ye,{heading:"Firm Details",message:"Your Firm Details will help us reach you easily...",iconTitle:"Firm Details"}),e.jsx("form",{onChange:E,onSubmit:r.handleSubmit,autoComplete:"off",children:e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-1",children:[e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Ward No"]}),e.jsx("input",{type:"hidden",name:"wardNo",value:r.values.wardNo,className:`${p} cursor-pointer `,readOnly:!0}),e.jsx("div",{className:"border bg-gray-400 px-4 py-1.5 rounded-lg",children:(Ee=(ke=($e=s==null?void 0:s.values)==null?void 0:$e.licenseData)==null?void 0:ke.licenceDtl)==null?void 0:Ee.ward_no})]}),e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})," Holding No. "]}),e.jsx("input",{type:"text",name:"holdingNo",className:`${p} cursor-pointer uppercase`,placeholder:"Enter Holding No",value:r.values.holdingNo,onChange:r.handleChange,onBlur:o}),e.jsx("span",{className:`${te}`,children:r.touched.holdingNo&&r.errors.holdingNo?r.errors.holdingNo:null})]}),e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"New Ward No."]}),e.jsx("input",{type:"hidden",name:"newWardNo",className:`${p} cursor-pointer `,value:r.values.newWardNo,readOnly:!0}),e.jsx("div",{className:"border bg-gray-400 px-4 py-1.5 rounded-lg",children:(Ve=(Ie=(Le=s==null?void 0:s.values)==null?void 0:Le.licenseData)==null?void 0:Ie.licenceDtl)==null?void 0:Ve.ward_no})]}),e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Total Area (sqft)."]}),e.jsx("input",{type:"hidden",name:"areaSqft",className:`${p} cursor-pointer `,value:r.values.areaSqft,readOnly:!0}),e.jsx("div",{className:"border bg-gray-400 px-4 py-1.5 rounded-lg",children:(Re=(Be=(Pe=s==null?void 0:s.values)==null?void 0:Pe.licenseData)==null?void 0:Be.licenceDtl)==null?void 0:Re.area_in_sqft})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-1",children:[e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Firm Name."]}),e.jsx("input",{type:"hidden",name:"firmName",className:`${p} cursor-pointer `,value:r.values.firmName,readOnly:!0}),e.jsx("div",{className:"border bg-gray-400 px-4 py-1.5 rounded-lg",children:(Ze=(Ke=(Ge=s==null?void 0:s.values)==null?void 0:Ge.licenseData)==null?void 0:Ke.licenceDtl)==null?void 0:Ze.firm_name})]}),e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Firm Establishment Date"]}),e.jsx("input",{type:"hidden",name:"firmEstdDate",className:`${p} cursor-pointer `,value:r.values.firmEstdDate,readOnly:!0}),e.jsx("div",{className:"border bg-gray-400 px-4 py-1.5 rounded-lg",children:(V=(Qe=(Je=s==null?void 0:s.values)==null?void 0:Je.licenseData)==null?void 0:Qe.licenceDtl)==null?void 0:V.establishment_date})]}),e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Business Address"]}),e.jsx("input",{type:"hidden",name:"businessAddress",className:`${p} cursor-pointer `,value:r.values.businessAddress,readOnly:!0}),e.jsx("div",{className:"border bg-gray-400 px-4 py-1.5 rounded-lg",children:(ts=(Oe=(he=s==null?void 0:s.values)==null?void 0:he.licenseData)==null?void 0:Oe.licenceDtl)==null?void 0:ts.address})]}),e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Landmark"]}),e.jsx("input",{type:"hidden",name:"landmark",className:`${p} cursor-pointer `,value:r.values.landmark,readOnly:!0}),e.jsx("div",{className:"border bg-gray-400 px-4 py-1.5 rounded-lg",children:(ns=(ls=(as=s==null?void 0:s.values)==null?void 0:as.licenseData)==null?void 0:ls.licenceDtl)==null?void 0:ns.landmark})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-1",children:[e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Pin Code"]}),e.jsx("input",{type:"hidden",name:"pincode",className:`${p} cursor-pointer `,value:r.values.pincode,readOnly:!0}),e.jsx("div",{className:"border bg-gray-400 px-4 py-1.5 rounded-lg",children:(rs=(cs=(is=s==null?void 0:s.values)==null?void 0:is.licenseData)==null?void 0:cs.licenceDtl)==null?void 0:rs.pin_code})]}),e.jsxs("div",{className:`${M} `,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Owner of Business Premises"]}),e.jsx("input",{type:"hidden",name:"premisesOwner",className:`${p} cursor-pointer `,value:r.values.wardNo,readOnly:!0}),e.jsx("div",{className:"border bg-gray-400 px-4 py-1.5 rounded-lg",children:(us=(os=(ds=s==null?void 0:s.values)==null?void 0:ds.licenseData)==null?void 0:os.licenceDtl)!=null&&us.premisesOwner?(xs=(ms=(hs=s==null?void 0:s.values)==null?void 0:hs.licenseData)==null?void 0:ms.licenceDtl)==null?void 0:xs.premisesOwner:(ps=(vs=(gs=s==null?void 0:s.values)==null?void 0:gs.licenseData)==null?void 0:vs.licenceDtl)!=null&&ps.premises_owner_name?(Cs=(Ss=(ws=s==null?void 0:s.values)==null?void 0:ws.licenseData)==null?void 0:Ss.licenceDtl)==null?void 0:Cs.premises_owner_name:"N/A"})]}),e.jsxs("div",{className:" col-span-2 mx-4",children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Business Description"]}),e.jsx("input",{type:"hidden",name:"businessDescription",className:`${p} cursor-pointer `,value:r.values.businessDescription,readOnly:!0}),e.jsx("div",{className:"border bg-gray-400 px-4 py-2.5 rounded-lg",children:($s=(_s=(Ds=s==null?void 0:s.values)==null?void 0:Ds.licenseData)==null?void 0:_s.licenceDtl)==null?void 0:$s.brief_firm_desc})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-1",children:e.jsxs("div",{className:"mx-4",children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Nature of Business"]}),e.jsx("input",{type:"hidden",name:"natureOfBusiness",className:`${p} cursor-pointer `,value:r.values.natureOfBusiness,readOnly:!0}),e.jsx("div",{className:"border bg-gray-400 px-4 py-2.5 rounded-lg",children:(Ue=(je=(Fs=s==null?void 0:s.values)==null?void 0:Fs.licenseData)==null?void 0:je.licenceDtl)==null?void 0:Ue.nature_of_bussiness.map(we=>e.jsxs("p",{children:[we.trade_item," "]}))})]})}),e.jsxs("div",{className:"grid grid-cols-2 my-4",children:[e.jsx("div",{children:e.jsx("button",{type:"button",onClick:L,className:`${ze}`,children:" Back "})}),e.jsx("div",{className:"text-right",children:e.jsx("button",{type:"submit",className:`${Fe}`,children:"Save & Next"})})]})]})})]})})}function Dl(s){var j,d,N,y,$,A,B,D,O,q,i,v,I,K,ee,ne,ie,ae,ce,re,Y,x,z,se,W,U,Z;const{applicationType:l,colorCode:h,currentStep:C,currentStepFun:b,collectAllFormData:c,collectFormDataFun:t,firmStepFun:u,firmStep:g,colorCodeFun:m,licenseData:f,showLoader:w}=s==null?void 0:s.values,[F,S]=a.useState(!1);a.useState(!1),a.useState(!1),a.useState();const[k,T]=a.useState(!1),[_,r]=a.useState(!1);console.log("licenseData ",s==null?void 0:s.values);const L=We({}),o={oldLicenseId:(N=(d=(j=s==null?void 0:s.values)==null?void 0:j.licenseData)==null?void 0:d.licenceDtl)==null?void 0:N.id,applicationType:(A=($=(y=s==null?void 0:s.values)==null?void 0:y.licenseData)==null?void 0:$.licenceDtl)==null?void 0:A.application_type,firmType:(O=(D=(B=s==null?void 0:s.values)==null?void 0:B.licenseData)==null?void 0:D.licenceDtl)==null?void 0:O.firm_type_id,ownershipType:(v=(i=(q=s==null?void 0:s.values)==null?void 0:q.licenseData)==null?void 0:i.licenceDtl)==null?void 0:v.ownership_type_id,licenseNo:(ee=(K=(I=s==null?void 0:s.values)==null?void 0:I.licenseData)==null?void 0:K.licenceDtl)==null?void 0:ee.license_no,categoryTypeId:(ae=(ie=(ne=s==null?void 0:s.values)==null?void 0:ne.licenseData)==null?void 0:ie.licenceDtl)==null?void 0:ae.category_type_id},E=He({initialValues:o,enableReinitialize:!0,onSubmit:(Q,n)=>{w(!0),console.log("basic deatils ",Q),t("initialBusinessDetails",Q,0),setTimeout(()=>{u(2),b(2),m(1),w(!1)},500)},validationSchema:L}),P=Q=>{let n=Q.target.name,G=Q.target.value;n==="applyWith"&&S(G==="1"),n==="firmType"&&T(G==="5"),n==="noticeNo"&&r(G==="1")};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:" absolute w-full md:w-full sm:w-full h-auto bg-inherit ",children:[e.jsx(Ye,{heading:"Basic Details",message:"Some basic details about your business...",iconTitle:"Initial Details"}),e.jsx("form",{onChange:P,onSubmit:E.handleSubmit,children:e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3",children:[e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Application type"]}),e.jsx("input",{type:"hidden",name:"oldLicenseId",className:`${p} cursor-pointer `,value:E.values.oldLicenseId,readOnly:!0}),e.jsx("input",{type:"hidden",name:"applicationType",className:`${p} cursor-pointer `,value:E.values.applicationType,readOnly:!0}),e.jsx("div",{className:`${p} cursor-pointer bg-gray-100 `,children:ss(4)})]}),e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"License No."]}),e.jsx("input",{name:"licenseNo",type:"hidden",value:E.values.licenseNo,className:`read-only:bg-gray-100  ${p}`,readOnly:!0}),e.jsxs("div",{className:`${p} cursor-pointer bg-gray-100 `,children:[" ",(Y=(re=(ce=s==null?void 0:s.values)==null?void 0:ce.licenseData)==null?void 0:re.licenceDtl)==null?void 0:Y.license_no," "]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3",children:[e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})," Firm Type "]}),e.jsx("input",{type:"hidden",name:"firmType",className:`${p} cursor-pointer text-xs`,value:E.values.firmType,readOnly:!0}),e.jsx("div",{className:`${p} cursor-pointer bg-gray-100 `,children:(se=(z=(x=s==null?void 0:s.values)==null?void 0:x.licenseData)==null?void 0:z.licenceDtl)==null?void 0:se.firm_type})]}),e.jsxs("div",{className:`${M}`,children:[e.jsxs("label",{className:`${R} text-xs`,children:[e.jsx("small",{className:"block mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Premises Ownership Type"]}),e.jsx("input",{type:"hidden",name:"ownershipType",className:`${p} cursor-pointer text-xs`,value:E.values.ownershipType,readOnly:!0}),e.jsx("div",{className:`${p} cursor-pointer bg-gray-100 `,children:(Z=(U=(W=s==null?void 0:s.values)==null?void 0:W.licenseData)==null?void 0:U.licenceDtl)==null?void 0:Z.ownership_type_id})]}),e.jsxs("div",{className:"col-span-4 grid grid-cols-2",children:[e.jsx("div",{className:"md:px-10"}),e.jsx("div",{className:"md:px-10 text-right ",children:e.jsx("button",{type:"submit",className:`${Fe}`,children:"Save & Next"})})]})]})]})})]})})}function _l(s){var A,B,D;const{applicationType:l,colorCode:h,currentStep:C,currentStepFun:b,collectFormDataFun:c,firmStepFun:t,firmStep:u,colorCodeFun:g,showLoader:m}=s.values,[f,w]=a.useState(!1);a.useState(!1),a.useState(!1);const[F,S]=a.useState(!0),[k,T]=a.useState(!1),[_,r]=a.useState(!1),[L,o]=a.useState([]);console.log("Multiple owner details ",L);const E=We({businessOwnerName:H().required("Enter Business Owner Name"),guardianName:H().required("Enrter Guardian Name"),mobileNo:H().length(10).required("Enter Mobile No."),email:H().required("Enter Email")}),j=He({initialValues:{businessOwnerName:"",guardianName:"",mobileNo:"",email:"",natureOfBusiness:""},onSubmit:(O,q)=>{alert(O),S(!1),T(!0),o([...L,O]),r(!0)},validationSchema:E}),d=()=>{var O,q;m(!0),console.log("Final submission of the form ",L),l==1&&L.length==0?s.toast("Atleast One Owner is required !","notice"):(c("ownerDetails",(q=(O=s==null?void 0:s.values)==null?void 0:O.licenseData)==null?void 0:q.ownerDtl,1),setTimeout(()=>{s.toast("Application Submitted Successfully !","success"),m(!1)},500)),m(!1)},N=()=>{t(2)},y=O=>{let q=O.target.name,i=O.target.value;q==="applyWith"&&w(i==="1")},$=()=>{alert(F),F==!1?S(!0):S(!1)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"absolute w-full  h-auto bg-inherit",children:[e.jsx("div",{className:"w-full text-center",children:e.jsxs("button",{type:"submit",className:`${_?"":"hidden"} bg-green-600 px-4 py-2 rounded-lg`,onClick:$,children:[" Add More Owners ",e.jsx(tt,{})," "]})}),e.jsxs("form",{onChange:y,onSubmit:j.handleSubmit,children:[e.jsx(Ye,{heading:"Owner Details",message:"Owners of your firm are listed below",iconTitle:""}),e.jsxs("table",{className:"table-auto w-full text-center",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-100 text-gray-600 text-xs h-8 hover:bg-amber-200 uppercase",children:[e.jsx("th",{children:" Owner Name"}),e.jsx("th",{children:" Guardian Name"}),e.jsx("th",{children:" Mobile"}),e.jsx("th",{children:" Email"})]})}),e.jsx("tbody",{children:(D=(B=(A=s==null?void 0:s.values)==null?void 0:A.licenseData)==null?void 0:B.ownerDtl)==null?void 0:D.map(O=>e.jsxs("tr",{className:"border-t-2 hover:bg-slate-50 text-sm hover:shadow-lg text-center",children:[e.jsx("td",{children:e.jsx("input",{type:"text",name:"businessOwnerName[]",value:O.owner_name,className:`${p} bg-gray-200 cursor-pointer `,readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{type:"text",name:"guardianName[]",value:O.guardian_name,className:`${p} bg-gray-200 cursor-pointer `,readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{type:"text",name:"mobileNo[]",value:O.mobile_no,className:`${p} bg-gray-200 cursor-pointer `,readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{type:"text",name:"email[]",value:O.email_id,className:`${p} bg-gray-200 cursor-pointer `,readOnly:!0})})]}))})]}),e.jsxs("div",{className:"grid grid-cols-2 my-4",children:[e.jsx("div",{className:" text-left",children:e.jsx("button",{type:"button",onClick:N,className:`${ze}`,children:" Back "})}),e.jsx("div",{className:" text-right",children:e.jsx("button",{type:"submit",onClick:d,className:`${Fe}`,children:"Final submit "})})]})]})]})})}function $l(s){var N;const[l,h]=a.useState({}),[C,b]=a.useState(1),[c,t]=a.useState(1),[u,g]=a.useState(!1),[m,f]=a.useState(!1),[w,F]=a.useState(4),[S,k]=a.useState(),[T,_]=a.useState();a.useState([]),a.useState([]),a.useState([]),a.useState([]),console.log("all form data is: ");let r;const L=(y,$,A)=>{console.log("prev Data",l),r={...l,[y]:$},h({...l,[y]:$}),A&&o(r)},o=y=>{var D,O,q,i;let $=(D=y.initialBusinessDetails)==null?void 0:D.oldLicenseId;const A=JSON.parse(JSON.stringify(y));A.applicationType=ss(w),A.ulbId=(i=(q=(O=s==null?void 0:s.licenseValues)==null?void 0:O.licenseData)==null?void 0:q.licenceDtl)==null?void 0:i.ulb_id,A.licenseId=$;let B=A;setTimeout(()=>{ue.post(de.POST_APPLY_APPLICATION_FOR_CITIZEN,Object.assign({},B),me()).then(function(v){v.data.status?(k(v.data),E(v.data),b(4),d("Application Submitted Successfully !","success")):(d("Invalid response received","notice"),b(3))}).catch(function(v){console.log(v),d("Something Went Wrong !","error"),s.showLoader(!1)})},500)},E=y=>{ue.get(y.data.paymentRecipt).then(function($){$.data.status&&_($.data.data)}).catch(function($){})};console.log("license data",s);const P={renewToggleStatus:m,renewToggleStatusFun:f,applicationTypeFun:F,applicationType:s.applicationType,currentStep:c,currentStepFun:t,collectFormDataFun:L,allFormData:l,firmStepFun:b,firmStep:C,colorCode:u,colorCodeFun:g,showLoader:s.showLoader,finalSubmit:o,licenseData:(N=s==null?void 0:s.licenseValues)==null?void 0:N.licenseData},j={successData:S,successFun:k},d=(y,$)=>{X.dismiss(),$=="escalated"&&X.success(y),$=="success"&&X.success(y),$=="de-escalated"&&X.warn(y),$=="notice"&&X.warn(y),$=="error"&&X.error(y)};return e.jsxs(e.Fragment,{children:[e.jsx(st,{applicationType:s.applicationType}),e.jsxs("div",{className:" overflow-x-clip bg-white py-2",children:[e.jsxs("div",{className:`mt-8 mr-2 pl-5 transition-all ${C==1?"translate-x-0":"translate-x-full"}`,children:[e.jsx(Dl,{values:P,toast:d})," "]}),e.jsx("div",{className:`mt-8 mr-2 pl-5 transition-all ${C==2?" translate-x-0  ":"translate-x-full"}`,children:e.jsx(Cl,{values:P,toast:d})}),e.jsx("div",{className:`mt-8 mr-2 pl-5 transition-all ${C==3?" translate-x-0  ":"translate-x-full"}`,children:e.jsx(_l,{values:P,toast:d})}),e.jsx("div",{className:`mt-8 transition-all ${C==4?" translate-x-0  ":"translate-x-full"}`,children:e.jsx(at,{values:P,successData:j,paymentData:T,toast:d})})]})]})}function Fl(){a.useState(0),a.useState(0),a.useState({category:"Not Authenticated",created_at:"2022-08-02 05:37:55",created_by:"Anshu Kumar",created_on:"2022-06-29 00:00:00",description:"abc",discontinued:!1,end_point:"test2",id:3,post_condition:"None",pre_condition:"Authentication is required",remarks:"",request_payload:"Token Only",response_payload:"username,password,userid",revision_no:1,tags:"tag5,tag6",updated_at:"2022-08-02 05:37:55",usage:"For Saving API Keys",version:"Version 1.0"}),a.useState();const[s,l]=a.useState([]),[h,C]=a.useState("pointer-events-none opacity-50");a.useState("hidden");const[b,c]=a.useState(!1),[t,u]=a.useState([]),{licenceId:g}=ks(),m=()=>{f(!0),ue.post(de.MASTER_DATA_API,{applicationType:ss(4),licenseId:g},me()).then(function(S){l(S.data.data),C(""),f(!1)}).catch(function(S){console.log(S),f(!1)})};a.useEffect(()=>{m()},[]);const f=S=>{console.log("loader is called with value ",S),c(S)},F={licenseDetailsFun:S=>{console.log("searched license data",S),u(S)},licenseData:s};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"py-12 bg-white",children:[e.jsx(Bs,{show:b}),e.jsx("div",{className:"col-span-12 sm:col-span-10 shadow-lg  overflow-y-scroll",style:{height:"90vh"},children:e.jsx($l,{licenseValues:F,showLoader:f,applicationType:"4",title:"Surrender"})})]})})}const Tl=ha(_a);var Al=a,Kt=Ft(Al),Ol=aa,Rt=Ft(Ol),kl=Tl,El=Ft(kl);function Ft(s){return s&&s.__esModule?s:{default:s}}var Ll=Kt.default.createContext(El.default),Zt=function(l){var h=l.instance,C=l.children;return Kt.default.createElement(Ll.Provider,{value:h},C)};Zt.defaultProps={};Zt.propTypes={instance:Rt.default.func.isRequired,children:Rt.default.any.isRequired};function Il(){const[s,l]=a.useState([]),[h,C]=a.useState(!1),b=()=>{c(!0),ue.post(de.GET_AMENDABLE_LICENSE_LIST,{},me()).then(t=>{console.log("amendment list",t.data),t.data.status&&l(t.data.data),c(!1)}).catch(t=>{console.log(t),c(!1)})};a.useEffect(()=>{b()},[]);const c=t=>{C(t)};return e.jsxs("div",{children:[e.jsx(Ns,{show:h}),e.jsx("div",{className:"w-full bg-white",children:e.jsx("div",{class:"flex flex-col",children:e.jsx("div",{class:"overflow-x-auto sm:-mx-6 lg:-mx-8",children:e.jsx("div",{class:"py-4 inline-block min-w-full sm:px-6 lg:px-8",children:e.jsxs("div",{class:"overflow-hidden m-4",children:[e.jsx("h1",{className:"h-12 rounded w-full bg-violet-100 px-4 py-2 my-4 text-lg font-semibold text-gray-600",children:"Licenses eligible for amendment"}),(s==null?void 0:s.length)>0?e.jsx(e.Fragment,{children:e.jsxs("table",{class:"w-full text-center",children:[e.jsx("thead",{class:"border-b bg-violet-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",class:"text-sm font-medium text-gray-900 px-6 py-4",children:"#"}),e.jsx("th",{scope:"col",class:"text-sm font-medium text-gray-900 px-6 py-4",children:"License No."}),e.jsx("th",{scope:"col",class:"text-sm font-medium text-gray-900 px-6 py-4",children:"Application No."}),e.jsx("th",{scope:"col",class:"text-sm font-medium text-gray-900 px-6 py-4",children:"Firm Name"}),e.jsx("th",{scope:"col",class:"text-sm font-medium text-gray-900 px-6 py-4",children:"Apply Date."}),e.jsx("th",{scope:"col",class:"text-sm font-medium text-gray-900 px-6 py-4",children:"Valid From"}),e.jsx("th",{scope:"col",class:"text-sm font-medium text-gray-900 px-6 py-4",children:"Valid Upto"}),e.jsx("th",{scope:"col",class:"text-sm font-medium text-gray-900 px-6 py-4",children:"Action"})]})}),e.jsx("tbody",{children:s==null?void 0:s.map(t=>e.jsxs("tr",{class:"bg-white border-b hover:bg-violet-50",children:[e.jsx("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"1"}),e.jsx("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",children:t==null?void 0:t.license_no}),e.jsx("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",children:t==null?void 0:t.application_no}),e.jsx("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",children:t==null?void 0:t.firm_name}),e.jsx("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",children:t==null?void 0:t.application_date}),e.jsx("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",children:t==null?void 0:t.valid_from}),e.jsx("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",children:t==null?void 0:t.valid_upto}),e.jsx("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",children:e.jsx("button",{className:"inline-block px-6 py-2.5 bg-blue-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out",children:e.jsx(qe,{to:`/trade-amendment/${t==null?void 0:t.id}`,children:"Apply For Amendment"})})})]}))})]})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"w-64 mx-auto text-center",children:[e.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/7465/7465691.png",alt:""}),e.jsx("h1",{children:"You have no licenses eligible for Amendment"})]})})]})})})})})]})}class Vl extends Ls.Component{render(){var l,h,C,b,c,t,u,g,m,f,w,F,S,k,T,_,r,L,o,E,P,j,d,N,y,$,A,B,D,O,q,i,v,I,K,ee,ne,ie,ae,ce,re,Y,x,z,se,W,U,Z,Q,n,G,J,le,oe,xe,ve,pe,ge,fe,Ne,Ce,De,_e,$e;return e.jsx("div",{className:"border-2 w-[40rem] p-3 mx-auto ml-20 mt-12 border-gray-700 ",id:"printableArea",children:e.jsx("div",{className:"mx-auto border-2 border-dashed  border-red-700 bg-white text-red-700 overflow-auto",children:e.jsx("div",{className:"text-[12px] font-sans text-justify ",children:e.jsxs("div",{className:" font-normal py-2 px-2",styles:{backgroundImage:`url(${Ks})`},children:[e.jsx("img",{src:`${Zs().ulb_logo}`,alt:"",className:"h-16 w-16 mx-auto"}),e.jsx("img",{src:"http://203.129.217.246:8000/Uploads/Icon/jharkhand.png",alt:"",className:" w-72 h-72 absolute z-10 bg-transparent opacity-20 mt-[10rem] ml-40 rounded-full"}),e.jsxs("h1",{className:"font-bold text-sm text-center uppercase",children:[(C=(h=(l=this.props)==null?void 0:l.licenceData)==null?void 0:h.application)==null?void 0:C.ulb_name," "]}),e.jsx("h1",{className:"font-bold text-xs text-center",children:" Provisional Municipal Trade License "}),e.jsx("div",{className:"mx-auto text-center",children:e.jsxs("p",{className:" py-1 my-1",children:[" (This Certificate relates to Section 155 (i) and 455 (i) Under Jharkhand "," Municipal Act of 2011) "]})}),e.jsx("div",{className:"w-full px-1.5",children:e.jsx("table",{className:"table-auto mx-auto w-full capitalize  text-xs text-red-700",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsxs("td",{className:"font-semibold",children:["Application No : ",e.jsxs("span",{className:"font-normal",children:[(t=(c=(b=this.props)==null?void 0:b.licenceData)==null?void 0:c.application)==null?void 0:t.application_no," "]})," "]}),e.jsxs("td",{className:"font-semibold",children:["Provisional License No : ",e.jsxs("span",{className:"font-normal",children:[(m=(g=(u=this.props)==null?void 0:u.licenceData)==null?void 0:g.application)==null?void 0:m.provisional_license_no," "]})]})]}),e.jsxs("tr",{children:[e.jsxs("td",{className:"font-semibold",children:[" ",e.jsx("span",{className:"font-normal",children:"  "})," "]}),e.jsxs("td",{className:"font-semibold",children:["Apply Date :",e.jsxs("span",{className:"font-normal",children:[(F=(w=(f=this.props)==null?void 0:f.licenceData)==null?void 0:w.application)==null?void 0:F.application_date," "]})," "]})]})]})})}),e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-cols-3 capitalize",children:[e.jsxs("div",{className:"col-span-2 px-1.5",children:[e.jsxs("p",{className:"font-semibold py-0.5",children:[" Mr/Mrs :",e.jsxs("span",{className:"font-normal",children:[" ",(T=(k=(S=this.props)==null?void 0:S.licenceData)==null?void 0:k.application)==null?void 0:T.owner_name]})]}),e.jsxs("p",{className:"font-semibold py-0.5",children:[" in the Area :",e.jsx("span",{className:"font-normal",children:Zs().ulb_name})]}),e.jsxs("p",{className:"font-semibold py-0.5",children:[" Firm / organization name :",e.jsxs("span",{className:"font-normal",children:[" ",(L=(r=(_=this.props)==null?void 0:_.licenceData)==null?void 0:r.application)==null?void 0:L.firm_name]})]}),e.jsxs("p",{className:"font-semibold py-0.5",children:[" Ward No :",e.jsxs("span",{className:"font-normal",children:[" ",(P=(E=(o=this.props)==null?void 0:o.licenceData)==null?void 0:E.application)==null?void 0:P.ward_no]})]}),e.jsxs("p",{className:"font-semibold py-0.5",children:[" Business Address :",e.jsxs("span",{className:"font-normal capitalize",children:[" ",(y=(N=(d=(j=this.props)==null?void 0:j.licenceData)==null?void 0:d.application)==null?void 0:N.address)==null?void 0:y.toLowerCase()]})]})]}),e.jsx("div",{className:"col-span-1 mx-auto mt-1",children:e.jsx(et,{size:"80",url:`http://192.168.0.173:3000/admin/trade-provisional-license/${(B=(A=($=this.props)==null?void 0:$.licenceData)==null?void 0:A.application)==null?void 0:B.id}`})})]}),e.jsxs("div",{className:"grid grid-cols-3 px-1.5 w-full capitalize",children:[e.jsx("div",{className:"",children:e.jsxs("p",{className:"font-semibold",children:[" For defined Fee :",e.jsxs("span",{className:"font-normal",children:[" ",(q=(O=(D=this.props)==null?void 0:D.licenceData)==null?void 0:O.transaction)==null?void 0:q.paid_amount]})]})}),e.jsx("div",{className:" text-center",children:e.jsxs("p",{className:"font-semibold",children:["[ Rate :",e.jsxs("span",{className:"font-normal",children:[" ",(I=(v=(i=this.props)==null?void 0:i.licenceData)==null?void 0:v.transaction)==null?void 0:I.rate]})]})}),e.jsx("div",{className:"",children:e.jsxs("p",{className:"font-semibold",children:[" Penalty :",e.jsxs("span",{className:"font-normal",children:[" ",(ne=(ee=(K=this.props)==null?void 0:K.licenceData)==null?void 0:ee.transaction)==null?void 0:ne.penalty]}),"]"]})})]}),e.jsx("div",{className:"grid grid-cols-3 capitalize",children:e.jsxs("div",{className:"col-span-2 px-1.5",children:[e.jsxs("p",{className:"font-semibold py-0.5",children:[" Having receipt no :",e.jsxs("span",{className:"font-normal",children:[" ",(ce=(ae=(ie=this.props)==null?void 0:ie.licenceData)==null?void 0:ae.transaction)==null?void 0:ce.tran_no]})]}),e.jsxs("p",{className:"font-semibold py-0.5",children:[" Establishment Date :",e.jsxs("span",{className:"font-normal",children:[" ",(x=(Y=(re=this.props)==null?void 0:re.licenceData)==null?void 0:Y.application)==null?void 0:x.establishment_date]})]}),e.jsxs("p",{className:"font-semibold py-0.5",children:[" Valid Upto :",e.jsxs("span",{className:"font-normal",children:[" ",(W=(se=(z=this.props)==null?void 0:z.licenceData)==null?void 0:se.application)==null?void 0:W.valid_upto]})]}),e.jsx("p",{className:"font-normal py-0.5",children:" Subject to the following terms, provisional license is granted."})]})})]}),e.jsxs("div",{className:" mt-4 px-1  text-justify text-red-700",children:[e.jsx("p",{className:"py-0.5",children:"1. Business will run according to provisional licence issued. "}),e.jsx("p",{className:"py-0.5",children:"2. Prior Permission from local body is necessary if business is changed."}),e.jsx("p",{className:"py-0.5",children:"3. Information to local body is necessary for extension of area. "}),e.jsx("p",{className:"py-0.5",children:"4. Prior information to local body regarding winding up/closer of business is necessary. "}),e.jsx("p",{className:"py-0.5",children:"5. In the case of delay, penalty will be levied according to section 459 of Jharkhand Municipal Act 2011."}),e.jsx("p",{className:"py-0.5",children:"6. Illegal Parking in front of firm is non-permissible."}),e.jsx("p",{className:"py-0.5",children:"7. Sufficient number of containers for disposing-garbage and refuse shall be made available within by the business owner/organisation."}),e.jsx("p",{className:"py-0.5",children:"8. The premises and the licensee will co-operate with the ULB for disposal of such waste. "}),e.jsx("p",{className:"py-0.5",children:"9. SWM Rules, 2016 and Plastic Waste Management Rules 2016 shall be adhered to in words as well as spirit. "}),e.jsxs("p",{className:"py-0.5",children:["10. This provisional license is valid for 22 days from the date of apply . In case of no-objection from ",e.jsx("b",{children:(Q=(Z=(U=this.props)==null?void 0:U.licenceData)==null?void 0:Z.application)==null?void 0:Q.ulb_name}),", The license shall be deemed approved. "]}),e.jsxs("p",{className:"py-0.5",children:["11. The final license can be downloaded from ",(J=(G=(n=this.props)==null?void 0:n.licenceData)==null?void 0:G.application)==null?void 0:J.ulb_parent_website," "]})]}),e.jsxs("div",{className:" mt-4 mb-4 px-2  text-justify text-red-700",children:[e.jsxs("p",{children:["For More Details Please Visit : For Details Please Visit :",e.jsxs("span",{className:"font-normal",children:[" ",(xe=(oe=(le=this.props)==null?void 0:le.licenceData)==null?void 0:oe.application)==null?void 0:xe.ulb_parent_website]})]}),e.jsxs("p",{children:["OR Call us at ",e.jsxs("span",{className:"font-normal",children:[" ",(ge=(pe=(ve=this.props)==null?void 0:ve.licenceData)==null?void 0:pe.application)==null?void 0:ge.ulb_mobile_no]})," or ",e.jsxs("span",{className:"font-normal",children:[" ",(Ce=(Ne=(fe=this.props)==null?void 0:fe.licenceData)==null?void 0:Ne.application)==null?void 0:Ce.ulb_toll_free_no," OR ",($e=(_e=(De=this.props)==null?void 0:De.licenceData)==null?void 0:_e.application)==null?void 0:$e.mobile_no]})]}),e.jsx("p",{children:"Note : This is a computer generated License. It does not require a physical signature."})]})]})})})})}}function Pl(){const s=Ls.useRef(),[l,h]=a.useState(),{licenceId:C}=ks(),[b,c]=a.useState(!1);a.useEffect(()=>{t(atob(C))},[C]);const t=g=>{u(!0),Es.get(de.GET_PROVISIONAL_DATA+g).then(m=>{console.log("License data 1",m),m.data.status?(h(m.data.data),setTimeout(()=>{u(!1)},500)):u(!1)}).catch(m=>{u(!1),console.log(m)})},u=g=>{c(g)};return e.jsx("div",{children:e.jsxs("div",{children:[e.jsx(yt,{trigger:()=>e.jsxs("button",{id:"clickButton",className:"bg-teal-500  hover:bg-teal-800 text-white px-3 py-1.5 rounded-lg text-xs font-mono",children:[e.jsx(Xs,{})," Print this out!"]}),content:()=>s.current,copyStyles:!0}),e.jsx(Vl,{ref:s,licenceData:l})]})})}function Bl(){const[s,l]=a.useState([]),[h,C]=a.useState(!1),b=()=>{c(!0),ue.post(de.GET_RENEWABLE_LICENSE_LIST,{},me()).then(t=>{console.log("renewable list",t.data),t.data.status&&l(t.data.data),c(!1)}).catch(t=>{console.log(t),c(!1)})};a.useEffect(()=>{b()},[]);const c=t=>{C(t)};return e.jsxs("div",{children:[e.jsx(Ns,{show:h}),e.jsx("div",{className:"w-full bg-white",children:e.jsx("div",{class:"flex flex-col",children:e.jsx("div",{class:"overflow-x-auto sm:-mx-6 lg:-mx-8",children:e.jsx("div",{class:"py-4 inline-block min-w-full sm:px-6 lg:px-8",children:e.jsxs("div",{class:"overflow-hidden m-4",children:[e.jsx("h1",{className:"h-12 rounded w-full bg-violet-100 px-4 py-2 my-4 text-lg font-semibold text-gray-600",children:"Licenses pending for renewal"}),(s==null?void 0:s.length)>0?e.jsx(e.Fragment,{children:e.jsxs("table",{class:"w-full text-center",children:[e.jsx("thead",{class:"border-b bg-violet-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",class:"text-sm font-medium text-gray-900 px-6 py-4",children:"#"}),e.jsx("th",{scope:"col",class:"text-sm font-medium text-gray-900 px-6 py-4",children:"License No."}),e.jsx("th",{scope:"col",class:"text-sm font-medium text-gray-900 px-6 py-4",children:"Application No."}),e.jsx("th",{scope:"col",class:"text-sm font-medium text-gray-900 px-6 py-4",children:"Firm Name"}),e.jsx("th",{scope:"col",class:"text-sm font-medium text-gray-900 px-6 py-4",children:"Apply Date."}),e.jsx("th",{scope:"col",class:"text-sm font-medium text-gray-900 px-6 py-4",children:"Valid From"}),e.jsx("th",{scope:"col",class:"text-sm font-medium text-gray-900 px-6 py-4",children:"Valid Upto"}),e.jsx("th",{scope:"col",class:"text-sm font-medium text-gray-900 px-6 py-4",children:"Action"})]})}),e.jsx("tbody",{children:s==null?void 0:s.map(t=>e.jsxs("tr",{class:"bg-white border-b hover:bg-violet-50",children:[e.jsx("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"1"}),e.jsx("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",children:t==null?void 0:t.license_no}),e.jsx("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",children:t==null?void 0:t.application_no}),e.jsx("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",children:t==null?void 0:t.firm_name}),e.jsx("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",children:t==null?void 0:t.application_date}),e.jsx("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",children:t==null?void 0:t.valid_from}),e.jsx("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",children:t==null?void 0:t.valid_upto}),e.jsx("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",children:e.jsx("button",{className:"inline-block px-6 py-2.5 bg-blue-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out",children:e.jsx(qe,{to:`/trade-renewal/${t==null?void 0:t.id}`,children:"Apply For Renewal"})})})]}))})]})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"w-64 mx-auto text-center",children:[e.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/7465/7465691.png",alt:""}),e.jsx("h1",{children:"You have no eligible licenses for Renewal"})]})})]})})})})})]})}function Rl(){const[s,l]=a.useState([]),[h,C]=a.useState(!1),b=()=>{c(!0),ue.post(de.GET_SURRENDERABLE_LICENSE_LIST,{},me()).then(t=>{console.log("surrender list",t.data),t.data.status&&l(t.data.data),c(!1)}).catch(t=>{console.log(t),c(!1)})};a.useEffect(()=>{b()},[]);const c=t=>{C(t)};return e.jsxs("div",{children:[e.jsx(Ns,{show:h}),e.jsx("div",{className:"w-full bg-white",children:e.jsx("div",{class:"flex flex-col",children:e.jsx("div",{class:"overflow-x-auto sm:-mx-6 lg:-mx-8",children:e.jsx("div",{class:"py-4 inline-block min-w-full sm:px-6 lg:px-8",children:e.jsxs("div",{class:"overflow-hidden m-4",children:[e.jsx("h1",{className:"h-12 rounded w-full bg-violet-100 px-4 py-2 my-4 text-lg font-semibold text-gray-600",children:"Licenses eligible for surrender"}),(s==null?void 0:s.length)>0?e.jsx(e.Fragment,{children:e.jsxs("table",{class:"w-full text-center",children:[e.jsx("thead",{class:"border-b bg-violet-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",class:"text-sm font-medium text-gray-900 px-6 py-4",children:"#"}),e.jsx("th",{scope:"col",class:"text-sm font-medium text-gray-900 px-6 py-4",children:"License No."}),e.jsx("th",{scope:"col",class:"text-sm font-medium text-gray-900 px-6 py-4",children:"Application No."}),e.jsx("th",{scope:"col",class:"text-sm font-medium text-gray-900 px-6 py-4",children:"Firm Name"}),e.jsx("th",{scope:"col",class:"text-sm font-medium text-gray-900 px-6 py-4",children:"Apply Date."}),e.jsx("th",{scope:"col",class:"text-sm font-medium text-gray-900 px-6 py-4",children:"Valid From"}),e.jsx("th",{scope:"col",class:"text-sm font-medium text-gray-900 px-6 py-4",children:"Valid Upto"}),e.jsx("th",{scope:"col",class:"text-sm font-medium text-gray-900 px-6 py-4",children:"Action"})]})}),e.jsx("tbody",{children:s==null?void 0:s.map(t=>e.jsxs("tr",{class:"bg-white border-b hover:bg-violet-50",children:[e.jsx("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"1"}),e.jsx("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",children:t==null?void 0:t.license_no}),e.jsx("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",children:t==null?void 0:t.application_no}),e.jsx("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",children:t==null?void 0:t.firm_name}),e.jsx("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",children:t==null?void 0:t.application_date}),e.jsx("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",children:t==null?void 0:t.valid_from}),e.jsx("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",children:t==null?void 0:t.valid_upto}),e.jsx("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",children:e.jsx("button",{className:"inline-block px-6 py-2.5 bg-blue-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out",children:e.jsx(qe,{to:`/trade-surrender/${btoa(t==null?void 0:t.id)}`,children:"Apply For Surrender"})})})]}))})]})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"w-64 mx-auto text-center",children:[e.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/7465/7465691.png",alt:""}),e.jsx("h1",{children:"You have no active licenses for Surrender"})]})})]})})})})})]})}bs.setAppElement("#root");const Ml=()=>{var F,S,k,T,_,r,L,o,E,P,j,d,N,y,$,A,B,D,O,q,i,v,I,K,ee;const s=a.useRef(),[l,h]=a.useState(),[C,b]=a.useState(!1),[c,t]=a.useState(!1),{id:u,tranId:g}=ks();console.log("tranId, id",atob(g),u),a.useEffect(()=>{g!="undefined"&&f(atob(u),atob(g))},[u]);const m=window.location.host,f=(ne,ie)=>{if(w(!0),ie==null){t(!0);return}else Es.get(de.GET_PAYMENT_DATA+ne+"/"+ie).then(ae=>{console.log("payment data",ae.data),ae.data.status?(h(ae.data.data),setTimeout(()=>{w(!1)},500)):w(!1)}).catch(ae=>{w(!1),console.log(ae)})},w=ne=>{b(ne)};return e.jsx("div",{className:"pb-12 bg-white h-screen",children:e.jsxs("div",{className:" bg-white shadow-lg md:w-2/3 w-full mx-auto",children:[e.jsx(Ns,{show:C}),g=="undefined"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"h-auto bg-amber-300 p-4 w-full text-sm flex",children:[e.jsx("div",{children:e.jsx(ft,{})}),e.jsxs("div",{className:"px-2",children:["Payment is done but it is not updated in out server. It may take upto 24 hrs to reflect. ",e.jsx("br",{})," Be patient while we are working on your payment.",e.jsx("br",{})," ",e.jsx("br",{})," You can close this tab. your payment will be updated with your application no."]})]}),e.jsx("div",{className:"bg-white hover:bg-white px-2 py-1 my-1 rounded text-center cursor-pointer",children:e.jsxs(qe,{to:`/trade-view/${u}`,target:"_blank",children:[e.jsx("p",{className:"text-xs text-gray-600",children:"You can track your applcation details here"}),e.jsx("button",{className:"text-xs my-1 text-white bg-violet-600 hover:bg-violet-700 focus:bg-violet-800 px-2 py-2 rounded font-medium uppercase",children:"View Application details"})]})})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-start",children:[e.jsx("div",{className:"pt-3",children:e.jsx(yt,{trigger:()=>e.jsxs("button",{className:"outline outline-1 outline-blue-500 px-2 py-1 rounded bg-blue-50 hover:bg-blue-100 uppercase font-medium text-sm text-gray-600",children:[e.jsx(Xs,{})," Print Receipt"]}),content:()=>s.current})}),e.jsx("div",{className:"bg-white hover:bg-white mx-4 px-2 py-1 my-1 rounded text-center cursor-pointer",children:e.jsx(qe,{to:`/trade-view/${u}`,target:"_blank",children:e.jsx("button",{className:"text-xs my-1 text-white bg-violet-600 hover:bg-violet-700 focus:bg-violet-800 px-2 py-2 rounded font-medium uppercase",children:"View Application details"})})})]}),e.jsx("div",{ref:s,className:"py-2   max-w-3xl mx-auto ml-10 text-xs font-sans  bg-white",id:"printableArea",children:e.jsxs("div",{className:"border-2 border-gray-800  font-normal pt-2  px-2",styles:{backgroundImage:`url(${gl})`},children:[e.jsx("img",{src:`${Zs().ulb_logo}`,alt:"",className:"h-16 w-16 mx-auto"}),e.jsx("img",{src:"http://203.129.217.246:8000/Uploads/Icon/jharkhand.png",alt:"",className:" w-72 h-72 absolute z-10 bg-transparent opacity-20 mt-[10rem] ml-40 rounded-full"}),e.jsxs("h1",{className:"font-bold text-xl text-center uppercase",children:[" ",(F=l==null?void 0:l.application)==null?void 0:F.ulb_name]}),e.jsx("div",{className:" w-64 mx-auto mt-2 text-center",children:e.jsx("h1",{className:"border-2 border-gray-800 font-bold  py-1 my-1",children:" MUNICIPAL LICENSE PAYMENT RECEIPT "})}),e.jsxs("div",{className:"w-full px-1 text-[12px] ",children:[e.jsxs("table",{className:"table-auto mx-auto w-full",children:[e.jsxs("tr",{children:[e.jsxs("td",{className:"font-semibold",children:["Receipt No :",e.jsxs("span",{className:"font-normal",children:[" ",(S=l==null?void 0:l.transaction)==null?void 0:S.tran_no]})," "]}),e.jsxs("td",{className:"font-semibold",children:["Date :",e.jsxs("span",{className:"font-normal",children:["  ",(k=l==null?void 0:l.transaction)==null?void 0:k.tran_date]})]})]}),e.jsxs("tr",{children:[e.jsxs("td",{className:"font-semibold",children:["Department/Section :",e.jsx("span",{className:"font-normal",children:"  Market Section"})," "]}),e.jsxs("td",{className:"font-semibold",children:["Ward No No :",e.jsxs("span",{className:"font-normal",children:[" ",(T=l==null?void 0:l.application)==null?void 0:T.ward_no]})," "]})]}),e.jsxs("tr",{children:[e.jsxs("td",{className:"font-semibold",children:["Account Description:",e.jsx("span",{className:"font-normal",children:"Municipal License Fee"})," "]}),e.jsxs("td",{className:"font-semibold",children:[" Application No:",e.jsxs("span",{className:"font-normal",children:[" ",(_=l==null?void 0:l.application)==null?void 0:_.application_no]})," "]})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"font-semibold",children:" "}),e.jsxs("td",{className:"font-semibold",children:[" Holding No:",e.jsxs("span",{className:"font-normal",children:[" ",(r=l==null?void 0:l.application)==null?void 0:r.holding_no]})," "]})]})]}),e.jsxs("table",{className:"table-auto mx-auto w-full  capitalize",children:[e.jsx("tr",{children:e.jsxs("td",{className:"font-semibold",children:["Firm Name :",e.jsxs("span",{className:"font-normal",children:[" ",(L=l==null?void 0:l.application)==null?void 0:L.firm_name]})," "]})}),e.jsx("tr",{children:e.jsxs("td",{className:"font-semibold",children:["Received From (Mr/Mrs) :",e.jsxs("span",{className:"font-normal",children:[" ",(o=l==null?void 0:l.application)==null?void 0:o.owner_name]})," "]})}),e.jsx("tr",{children:e.jsxs("td",{className:"font-semibold",children:["Address : ",e.jsxs("span",{className:"font-normal capitalize",children:[" ",(E=l==null?void 0:l.application)==null?void 0:E.address.toLowerCase()]})]})}),e.jsx("tr",{children:e.jsxs("td",{className:"font-semibold",children:["A Sum of Rs :",e.jsxs("span",{className:"font-normal",children:[" ",(P=l==null?void 0:l.transaction)==null?void 0:P.paid_amount," "]})," "]})}),e.jsx("tr",{children:e.jsxs("td",{className:"w-80 font-semibold",children:["(in words)",e.jsxs("span",{className:"font-normal border-b-2 border-gray-600 border-dashed",children:[" Rupee ",(j=l==null?void 0:l.transaction)==null?void 0:j.paid_amount_in_words," only"]})]})}),e.jsx("tr",{children:e.jsxs("td",{className:"font-semibold",children:["towards : ",e.jsxs("span",{className:"font-normal",children:[" Municipal License Fee vide ",(d=l==null?void 0:l.transaction)==null?void 0:d.payment_mode," payment"]})," "]})})]}),e.jsx("h1",{className:"font-bold  mt-4",children:" N.B.Online Payment/Cheque/Draft/ Bankers Cheque are Subject to realisation "}),e.jsx("h1",{className:"font-bold mt-4 py-1",children:" MUNICIPAL LICENSE FEE DETAILS "}),e.jsxs("table",{className:"table-auto mx-auto w-[92%] border  border-gray-800",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-800 py-1",children:[e.jsx("th",{className:"text-left  px-2  border-r border-gray-800",children:" Description "}),e.jsx("th",{className:" text-right px-2 border-r border-gray-800",children:" Amount "}),e.jsx("th",{className:"  px-2 text-center border-r border-gray-800 ",children:" Period "})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{className:"border-b border-gray-800 py-1",children:[e.jsx("td",{className:"border-r   px-2 border-gray-800",children:"Municipal License Fee "}),e.jsx("td",{className:"px-2 text-right",children:(parseFloat((N=l==null?void 0:l.transaction)==null?void 0:N.paid_amount)-(parseFloat((y=l==null?void 0:l.transaction)==null?void 0:y.denial_fee)+parseFloat(($=l==null?void 0:l.transaction)==null?void 0:$.delay_fee))).toFixed(2)}),e.jsxs("td",{className:"border-l border-gray-800 text-center",rowSpan:4,children:[e.jsx("p",{className:"font-semibold",children:" From "}),(A=l==null?void 0:l.application)==null?void 0:A.valid_from,e.jsx("p",{className:"font-semibold",children:" To "}),(B=l==null?void 0:l.application)==null?void 0:B.valid_upto]})]}),e.jsxs("tr",{className:"border-b border-gray-800 py-1",children:[e.jsx("td",{className:"border-r  px-2  border-gray-800",children:"Late Fee "}),e.jsx("td",{className:"px-2 text-right",children:(D=l==null?void 0:l.transaction)==null?void 0:D.delay_fee})]}),e.jsxs("tr",{className:"border-b border-gray-800 py-1",children:[e.jsx("td",{className:"border-r  px-2  border-gray-800",children:"Arrear/Denial Fee "}),e.jsx("td",{className:"px-2 text-right",children:(O=l==null?void 0:l.transaction)==null?void 0:O.denial_fee})]}),e.jsxs("tr",{className:"border-b border-gray-800 py-1",children:[e.jsx("td",{className:"border-r  px-2  border-gray-800 font-semibold",children:"Total"}),e.jsx("td",{className:"px-2 text-right font-semibold",children:(q=l==null?void 0:l.transaction)==null?void 0:q.paid_amount})]})]})]})]}),e.jsxs("div",{className:" mt-4 px-2  text-justify",children:[e.jsx("div",{className:"text-center",children:e.jsx(et,{size:"80",url:`${m}/trade/trade-provisional-license/${(v=(i=l==null?void 0:l.transaction)==null?void 0:i.application)==null?void 0:v.id}`})}),e.jsx("table",{className:"table table-auto w-full",children:e.jsxs("tr",{className:" py-1 font-mono w-full",children:[e.jsxs("td",{className:"font-semibold",children:[e.jsxs("p",{children:["For Details Please Visit : ",e.jsx("span",{className:"lowercase",children:(I=l==null?void 0:l.application)==null?void 0:I.ulb_parent_website})]}),e.jsxs("p",{children:["Call us at ",e.jsxs("span",{className:"lowercase",children:[(K=l==null?void 0:l.application)==null?void 0:K.ulb_mobile_no," OR ",(ee=l==null?void 0:l.application)==null?void 0:ee.ulb_toll_free_no]})," "]})]}),e.jsx("td",{className:"font-semibold px-2"})]})}),e.jsx("div",{className:"mt-8 mb-4 text-center",children:e.jsx("p",{children:"**This is a computer-generated receipt and it does not require a signature.** "})})]})]})})]})]})})};function ql(s){var l,h,C,b,c,t,u,g,m,f,w,F,S,k,T,_,r,L,o,E,P,j,d,N,y,$,A,B,D,O,q;return e.jsx(e.Fragment,{children:e.jsxs("tr",{className:"text-left",children:[e.jsx("td",{className:"px-5 py-2 border-b border-gray-200 bg-white text-sm",children:e.jsx("p",{className:"text-gray-900 whitespace-no-wrap",children:(s==null?void 0:s.index)+1})}),e.jsx("td",{className:"px-5 py-2 border-b border-gray-200 bg-white text-sm",children:e.jsx("p",{className:"text-gray-900 whitespace-no-wrap",children:(l=s==null?void 0:s.docList)==null?void 0:l.doc_for})}),e.jsx("td",{className:"px-5 py-2 border-b border-gray-200 bg-white",children:e.jsx("div",{className:"flex items-center ",children:e.jsx("div",{className:"flex-shrink-0 text-gray-900/80 cursor-pointer",onClick:()=>{var i;return s==null?void 0:s.modalAction(`${Os}${(i=s==null?void 0:s.docList)==null?void 0:i.doc_path}`)},children:e.jsx("div",{className:"flex items-center justify-center font-semibold text-[26px] cursor-pointer",children:e.jsxs("div",{className:"flex items-center",children:[((u=(t=(h=s==null?void 0:s.docList)==null?void 0:h.doc_path)==null?void 0:t.split(".")[((c=(b=(C=s==null?void 0:s.docList)==null?void 0:C.doc_path)==null?void 0:b.split("."))==null?void 0:c.length)-1])==null?void 0:u.toLowerCase())=="pdf"&&e.jsx("div",{className:"flex-shrink-0 w-[12px] cursor-pointer ",children:e.jsx("span",{className:"text-green-600 cursor-pointer",children:e.jsx(la,{fontSize:"20"})})}),((S=(F=(g=s==null?void 0:s.docList)==null?void 0:g.doc_path)==null?void 0:F.split(".")[((w=(f=(m=s==null?void 0:s.docList)==null?void 0:m.doc_path)==null?void 0:f.split("."))==null?void 0:w.length)-1])==null?void 0:S.toLowerCase())=="jpg"&&e.jsx("div",{className:"flex-shrink-0",children:e.jsx("img",{src:`${Os}${(k=s==null?void 0:s.docList)==null?void 0:k.doc_path}`,className:"md:w-[2vw] w-[5vw] text-xs",alt:"n/a",srcset:""})}),((E=(o=(T=s==null?void 0:s.docList)==null?void 0:T.doc_path)==null?void 0:o.split(".")[((L=(r=(_=s==null?void 0:s.docList)==null?void 0:_.doc_path)==null?void 0:r.split("."))==null?void 0:L.length)-1])==null?void 0:E.toLowerCase())=="jpeg"&&e.jsx("div",{className:"flex-shrink-0",children:e.jsx("img",{src:`${Os}${(P=s==null?void 0:s.docList)==null?void 0:P.doc_path}`,className:"md:w-[2vw] w-[5vw] text-xs",alt:"n/a",srcset:""})}),((A=($=(j=s==null?void 0:s.docList)==null?void 0:j.doc_path)==null?void 0:$.split(".")[((y=(N=(d=s==null?void 0:s.docList)==null?void 0:d.doc_path)==null?void 0:N.split("."))==null?void 0:y.length)-1])==null?void 0:A.toLowerCase())=="png"&&e.jsx("div",{className:"flex-shrink-0",children:e.jsx("img",{src:`${Os}${(B=s==null?void 0:s.docList)==null?void 0:B.doc_path}`,className:"md:w-[2vw] w-[5vw] text-xs",alt:"n/a",srcset:""})})]})})})})}),e.jsx("td",{className:"px-5 py-2 border-b border-gray-200 bg-white text-sm",children:e.jsxs("p",{className:"text-red-900 whitespace-no-wrap",children:[((D=s==null?void 0:s.docList)==null?void 0:D.verify_status)==1&&e.jsx("span",{className:"text-emerald-400",children:"Verified"}),((O=s==null?void 0:s.docList)==null?void 0:O.verify_status)==2&&e.jsx("span",{className:"text-red-400",children:"Rejected"}),((q=s==null?void 0:s.docList)==null?void 0:q.verify_status)==0&&e.jsx("span",{className:"text-amber-400",children:"Pending"})]})})]})})}function zl(){var O,q,i,v,I,K,ee,ne,ie,ae,ce,re,Y,x,z,se,W,U,Z,Q,n,G,J,le,oe,xe,ve,pe,ge,fe,Ne,Ce,De,_e,$e,ke,Ee,Le,Ie,Ve,Pe,Be,Re,Ge,Ke,Ze,Je,Qe;const[s,l]=a.useState(),{licenceId:h}=ks(),[C,b]=a.useState(!1),[c,t]=a.useState(!1),[u,g]=a.useState(""),m=()=>t(!0),f=()=>t(!1),[w,F]=a.useState(0),[S,k]=a.useState(),[T,_]=a.useState(""),[r,L]=a.useState(0),[o,E]=a.useState(!0),P=()=>{},j={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"white",border:"none"}},d=V=>{console.log("doc url",V),g(V),m()},N=V=>{A(!0);let he={licenceId:V};ue.post(de.PAY_ONLINE,he,me()).then(Oe=>{console.log("Oder ID Generated",Oe),Oe.data.status==!0?(k(Oe.data.data),console.log("order response"),F(ts=>ts+1),_(V)):(console.log("order response",Oe.data.message),B(Oe.data.message,"success")),A(!1)}).catch(Oe=>{console.log("Error genrating order id",Oe),A(!1)})},y=V=>{console.log("Clicked PAy"),N(V)},$=V=>{A(!0),ue.post(de.GET_CITIZEN_APPLICATION_BY_ID,{id:V},me()).then(function(he){console.log("==2 details by id response...",he.data),he.data.status?l(he.data.data):console.log("response.data.status",he.data.message),A(!1)}).catch(function(he){A(!1),console.log("==2 details by id error...",he)})};a.useEffect(()=>{$(atob(h))},[h]);const A=V=>{b(V)},B=(V,he)=>{X.dismiss(),he=="escalated"&&X.success(V),he=="success"&&X.success(V),he=="de-escalated"&&X.warn(V),he=="notice"&&X.warn(V),he=="error"&&X.error(V)},D=V=>{V!=0?(L(V),E(!1)):(L(0),E(!0))};return console.log("applicationData",s),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"",children:[e.jsx(Ns,{show:C}),e.jsx($t,{openPaymentModal:w,id:h,OrderResponse:S,toast:B,showLoader:A}),e.jsxs("div",{className:"w-full h-auto bg-white font-poppins pb-24",children:[e.jsx("div",{className:"container  mx-auto p-2",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 w-full p-2",children:[e.jsxs("div",{className:" text-sm",children:[e.jsx(Js,{anchorId:"copyapn"}),e.jsxs("h1",{className:"font-semibold text-3xl font-sans text-gray-700",children:["Application ",e.jsxs("span",{"data-tooltip-content":"Copy Application No.",className:"cursor-pointer text-cyan-400 focus:text-green-500 active:text-green-500",id:"copyapn",onClick:()=>{var V;return navigator.clipboard.writeText(`${(V=s==null?void 0:s.licenceDtl)==null?void 0:V.application_no}`)},children:["#",(O=s==null?void 0:s.licenceDtl)==null?void 0:O.application_no]})]}),e.jsxs("p",{className:"text-gray-500 py-1",children:[e.jsx(Et,{fontSize:"small"})," Application Type :  ",e.jsx("span",{className:"text-blue-500",children:(q=s==null?void 0:s.licenceDtl)==null?void 0:q.application_type})]}),e.jsxs("p",{className:"text-gray-500",children:[e.jsx(Et,{fontSize:"small"})," Pending Status : ",e.jsx("span",{className:"text-blue-500",children:s==null?void 0:s.pendingStatus})]})]}),e.jsxs("div",{className:"col-span-2 text-right",children:[((i=s==null?void 0:s.licenceDtl)==null?void 0:i.payment_status)==1&&((v=s==null?void 0:s.licenceDtl)==null?void 0:v.application_type_id)!=4&&e.jsx("button",{className:`${Fe}`,children:e.jsxs(qe,{to:`/trade-payment-receipt/${btoa((I=s==null?void 0:s.transactionDtl[0])==null?void 0:I.temp_id)}/${btoa((K=s==null?void 0:s.transactionDtl[0])==null?void 0:K.id)}`,target:"_blank",children:[e.jsx(Xs,{}),"Receipt "]})}),((ee=s==null?void 0:s.licenceDtl)==null?void 0:ee.document_upload_status)==0&&e.jsx("button",{className:`${Fe}`,children:e.jsxs(qe,{to:`/trade-document-upload/${h}`,target:"_blank",children:[e.jsx(zt,{}),"Upload"]})}),((ne=s==null?void 0:s.licenceDtl)==null?void 0:ne.payment_status)==1&&((ie=s==null?void 0:s.licenceDtl)==null?void 0:ie.application_type_id)!=4&&((ae=s==null?void 0:s.licenceDtl)==null?void 0:ae.pending_status)<5&&e.jsx("button",{className:`${Fe}`,children:e.jsxs(qe,{to:`/trade-provisional-license/${h}`,target:"_blank",children:[e.jsx(na,{})," Provisional License"]})}),((ce=s==null?void 0:s.licenceDtl)==null?void 0:ce.pending_status)==5&&e.jsx("button",{className:`${Fe}`,children:e.jsx(qe,{to:`/trade-approved-license/${h}`,target:"_blank",children:"Print Trade License"})}),((re=s==null?void 0:s.licenceDtl)==null?void 0:re.payment_status)==0&&((Y=s==null?void 0:s.licenceDtl)==null?void 0:Y.application_type)!=4&&e.jsxs("button",{className:`${Fe}`,onClick:()=>y(atob(h)),children:[e.jsx(Ws,{}),"Pay"]}),e.jsxs("div",{children:["Status : ",Ae((x=s==null?void 0:s.licenceDtl)==null?void 0:x.is_active)?e.jsx("button",{id:"active","data-tooltip-content":"Application is in active state",className:"rounded bg-green-400 hover:text-white py-1 px-2 my-2 cursor-default",children:"Active"}):e.jsx("button",{id:"inactive","data-tooltip-content":"Application is inactive",className:"rounded bg-gray-200 hover:text-white  py-1 px-2 my-2  cursor-default",children:"Inactive"})]})]})]})}),e.jsx(pa,{my:4}),e.jsx("div",{className:"container  mx-auto ",children:e.jsxs("div",{className:"grid grid-cols-12  w-full bg-slate-100 p-1 ",children:[e.jsxs("div",{className:"col-span-7  w-full h-full flex overflow-x-scroll",children:[e.jsxs("div",{className:`${r==0?"bg-gray-200 text-blue-700":"bg-white text-gray-700"}  border-r border-gray-400 px-6 py-2 hover:bg-slate-100 cursor-pointer`,onClick:()=>D(0),children:[" ",e.jsx(Hs,{}),"All      "]}),e.jsxs("div",{className:`${r==1?"bg-gray-200 text-blue-700":"bg-white text-gray-700"}  border-r border-gray-400 px-6 py-2 hover:bg-slate-100 cursor-pointer`,onClick:()=>D(1),children:[" ",e.jsx(Hs,{}),"Basic      "]}),e.jsxs("div",{className:`${r==2?"bg-gray-200 text-blue-700":"bg-white text-gray-700"} border-r border-gray-400 px-6 py-2 hover:bg-slate-100 cursor-pointer`,onClick:()=>D(2),children:[" ",e.jsx(lt,{}),"Property    "]}),e.jsxs("div",{className:`${r==3?"bg-gray-200 text-blue-700":"bg-white text-gray-700"} border-r border-gray-400 px-6 py-2 hover:bg-slate-100 cursor-pointer`,onClick:()=>D(3),children:[" ",e.jsx(Ys,{}),"Owner    "]}),e.jsxs("div",{className:`${r==4?"bg-gray-200 text-blue-700":"bg-white text-gray-700"} border-r border-gray-400 px-6 py-2 hover:bg-slate-100 cursor-pointer`,onClick:()=>D(4),children:[" ",e.jsx(nt,{}),"Document     "]}),e.jsxs("div",{className:`${r==5?"bg-gray-200 text-blue-700":"bg-white text-gray-700"} border-r border-gray-400 px-6 py-2 hover:bg-slate-100 cursor-pointer`,onClick:()=>D(5),children:[" ",e.jsx(Ws,{}),"Payment"]})]}),e.jsx("div",{className:" col-span-5 text-center p-1",children:e.jsxs("h1",{className:"text-xl pt-1 text-zinc-500 transition-all ease-in-out font-semibold",children:[o==!0&&e.jsxs("p",{children:[e.jsx(Hs,{})," All Details "]}),r==1&&e.jsxs("p",{children:[e.jsx(Hs,{})," Basic Details "]}),r==2&&e.jsxs("p",{children:[e.jsx(lt,{})," Property Details "]}),r==3&&e.jsxs("p",{children:[e.jsx(Ys,{})," Owner Details "]}),r==4&&e.jsxs("p",{children:[e.jsx(nt,{})," Document Details "]}),r==5&&e.jsxs("p",{children:[e.jsx(Ws,{})," Payment Details "]})]})})]})}),e.jsxs("div",{className:"grid grid-cols-1",children:[(r==1||o==!0)&&e.jsxs("div",{className:"container mx-auto p-2 text-sm",children:[e.jsxs("div",{className:"border-b pb-6  text-lg capitalize",children:[e.jsxs("h1",{className:"w-full font-bold text-sky-600",children:[e.jsx(ia,{}),"Basic Details"]}),e.jsx("p",{className:"text-xs text-gray-400 pl-1 ",children:"Initial Information about the business."})]}),e.jsxs("div",{className:"grid grid-cols-2 no-wrap w-full py-2  gap-1 h-auto px-2 shadow-md pb-6",children:[e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{}),e.jsx("th",{})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{className:" border-b h-12",children:[e.jsx("td",{children:"Ward No."}),e.jsx("td",{className:"font-semibold",children:Ae((z=s==null?void 0:s.licenceDtl)==null?void 0:z.ward_no)})]}),e.jsxs("tr",{className:"border-b h-12",children:[e.jsx("td",{children:"New Ward No."}),e.jsx("td",{className:"font-semibold",children:Ae((se=s==null?void 0:s.licenceDtl)==null?void 0:se.new_ward_no)})]}),e.jsxs("tr",{className:"border-b h-12",children:[e.jsx("td",{children:"Firm Type"}),e.jsx("td",{className:"font-semibold",children:Ae((W=s==null?void 0:s.licenceDtl)==null?void 0:W.firm_type)})]}),e.jsxs("tr",{className:"border-b h-12",children:[e.jsx("td",{children:"Nature of Business"}),e.jsxs("td",{className:"font-semibold",children:[e.jsx(Js,{anchorId:"item_code"}),e.jsxs("p",{className:"text-gray-500","data-tooltip-content":`${(U=s==null?void 0:s.licenceDtl)==null?void 0:U.items}`,id:"item_code",children:[Ae((Z=s==null?void 0:s.licenceDtl)==null?void 0:Z.nature_of_bussiness),e.jsx(ft,{fontSize:"extrasmall"})]})]})]}),e.jsxs("tr",{className:"border-b h-12",children:[e.jsx("td",{children:"License For Years"}),e.jsx("td",{className:"font-semibold",children:e.jsxs("p",{className:"","data-tooltip-content":`${(Q=s==null?void 0:s.licenceDtl)==null?void 0:Q.items}`,id:"item_code",children:[Ae((n=s==null?void 0:s.licenceDtl)==null?void 0:n.licence_for_years),"yrs"]})})]}),e.jsxs("tr",{className:" h-12",children:[e.jsx("td",{children:"Cateogry Type"}),e.jsx("td",{className:"font-semibold",children:Ae((G=s==null?void 0:s.licenceDtl)==null?void 0:G.category_type)})]})]})]}),e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{}),e.jsx("th",{})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{className:" border-b h-12",children:[e.jsx("td",{children:"Firm Name"}),e.jsx("td",{className:"font-semibold",children:Ae((J=s==null?void 0:s.licenceDtl)==null?void 0:J.firm_name)})]}),e.jsxs("tr",{className:" border-b h-12",children:[e.jsx("td",{children:"License No."}),e.jsx("td",{className:"font-semibold",children:Ae((le=s==null?void 0:s.licenceDtl)==null?void 0:le.license_no)})]}),e.jsxs("tr",{className:"border-b h-12",children:[e.jsx("td",{children:"Ownership type"}),e.jsx("td",{className:"font-semibold",children:Ae((oe=s==null?void 0:s.licenceDtl)==null?void 0:oe.ownership_type)})]}),e.jsxs("tr",{className:" border-b h-12",children:[e.jsx("td",{children:"Application Type"}),e.jsx("td",{className:"  font-semibold",children:Ae((xe=s==null?void 0:s.licenceDtl)==null?void 0:xe.application_type)})]}),e.jsxs("tr",{className:"border-b h-12",children:[e.jsx("td",{children:"Apply Date"}),e.jsx("td",{className:"font-semibold",children:Ae((ve=s==null?void 0:s.licenceDtl)==null?void 0:ve.application_date)})]}),e.jsxs("tr",{className:" h-12",children:[e.jsx("td",{children:"Valid Upto"}),e.jsx("td",{className:"font-semibold",children:Ae((pe=s==null?void 0:s.licenceDtl)==null?void 0:pe.valid_upto)})]})]})]})]})]}),(r==2||o==!0)&&e.jsxs("div",{className:"container  mx-auto p-2 text-sm",children:[e.jsxs("div",{className:"border-b pb-6  text-lg capitalize",children:[e.jsxs("h1",{className:"w-full font-bold text-sky-600 ",children:[e.jsx(lt,{}),"Property Details"]}),e.jsx("p",{className:"text-xs text-gray-400 pl-1 ",children:"Property related information of the business."})]}),e.jsxs("div",{className:"grid grid-cols-2 px-2 shadow-md pb-6",children:[e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{}),e.jsx("th",{})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{className:" border-b h-12",children:[e.jsx("td",{children:"Khata No."}),e.jsx("td",{className:"font-semibold",children:Ae((ge=s==null?void 0:s.licenceDtl)==null?void 0:ge.k_no)})]}),e.jsxs("tr",{className:"border-b h-12",children:[e.jsx("td",{children:"Apply Date"}),e.jsx("td",{className:"font-semibold",children:Ae((fe=s==null?void 0:s.licenceDtl)==null?void 0:fe.application_date)})]}),e.jsxs("tr",{className:"border-b h-12",children:[e.jsx("td",{children:"Business Area"}),e.jsxs("td",{className:"font-semibold",children:[Ae((Ne=s==null?void 0:s.licenceDtl)==null?void 0:Ne.area_in_sqft)," sqft."]})]}),e.jsxs("tr",{className:"border-b h-12",children:[e.jsx("td",{children:"Owner of Business Premises"}),e.jsx("td",{className:"font-semibold",children:Ae((Ce=s==null?void 0:s.licenceDtl)==null?void 0:Ce.premises_owner_name)})]})]})]}),e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{}),e.jsx("th",{})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{className:"  border-b h-12",children:[e.jsx("td",{children:"Pincode"}),e.jsx("td",{className:"font-semibold",children:Ae((De=s==null?void 0:s.licenceDtl)==null?void 0:De.pin_code)})]}),e.jsxs("tr",{className:"border-b h-12",children:[e.jsx("td",{children:"Business Address"}),e.jsx("td",{className:"font-semibold",children:Ae((_e=s==null?void 0:s.licenceDtl)==null?void 0:_e.address)})]}),e.jsxs("tr",{className:"border-b h-12",children:[e.jsx("td",{children:"Landmark"}),e.jsx("td",{className:"font-semibold",children:Ae(($e=s==null?void 0:s.licenceDtl)==null?void 0:$e.landmark)})]}),e.jsxs("tr",{className:"border-b h-12",children:[e.jsx("td",{children:"Firm Establishment Date"}),e.jsx("td",{className:"font-semibold",children:Ae((ke=s==null?void 0:s.licenceDtl)==null?void 0:ke.establishment_date)})]})]})]})]})]}),(r==3||o==!0)&&e.jsxs("div",{className:"container mx-auto p-2 text-sm font-poppins",children:[e.jsxs("div",{className:"border-b pb-6  text-lg capitalize",children:[e.jsxs("h1",{className:"w-full font-bold text-sky-600 ",children:[e.jsx(Ys,{}),"Owner Details"]}),e.jsx("p",{className:"text-xs text-gray-400 pl-1 ",children:"Owner related information of the business."})]}),e.jsx("div",{className:"grid grid-cols-1 px-2 shadow-md pb-6",children:e.jsxs("table",{className:"min-w-full leading-normal mt-2 ",children:[e.jsx("thead",{className:"font-bold text-left   ",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-left",children:"#"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-left",children:"Owner Name"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-left",children:"Guardian Name"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-left",children:"Mobile No."}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-left",children:"email "}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-left",children:"Address"})]})}),e.jsx("tbody",{className:"text-xs",children:((Ee=s==null?void 0:s.ownerDtl)==null?void 0:Ee.length)>0&&((Le=s==null?void 0:s.ownerDtl)==null?void 0:Le.map((V,he)=>e.jsx(e.Fragment,{children:e.jsxs("tr",{className:"bg-white  border-b border-gray-200",children:[e.jsx("td",{className:"px-2 py-2  text-left",children:he+1}),e.jsx("td",{className:"px-2 py-2  text-left",children:(V==null?void 0:V.owner_name)==""?"NA":V==null?void 0:V.owner_name}),e.jsx("td",{className:"px-2 py-2  text-left",children:(V==null?void 0:V.guardian_name)==""?"NA":V==null?void 0:V.guardian_name}),e.jsx("td",{className:"px-2 py-2  text-left",children:(V==null?void 0:V.mobile_no)==""?"NA":V==null?void 0:V.mobile_no}),e.jsx("td",{className:"px-2 py-2  text-left",children:(V==null?void 0:V.email_id)==""?"NA":V==null?void 0:V.email_id}),e.jsx("td",{className:"px-2 py-2  text-left",children:(V==null?void 0:V.address)==""?"NA":V==null?void 0:V.address})]})})))})]})})]}),(r==4||o==!0)&&e.jsxs("div",{className:"container mx-auto p-2 text-sm",children:[e.jsxs("div",{className:"border-b pb-6  text-lg capitalize",children:[e.jsxs("h1",{className:"w-full font-bold text-sky-600 ",children:[e.jsx(nt,{}),"Document Details"]}),e.jsx("p",{className:"text-xs text-gray-400 pl-1 ",children:"Document related information of the business."})]}),e.jsx("div",{className:"grid grid-cols-1 py-2 px-2 shadow-md pb-6",children:e.jsxs("table",{className:"leading-normal mt-2 w-full",children:[e.jsx("thead",{className:"font-bold text-left   ",children:e.jsxs("tr",{className:"",children:[e.jsx("th",{children:"#"}),e.jsx("th",{children:"Document Name"}),e.jsx("th",{children:"Preview "}),e.jsx("th",{children:" Status"})]})}),((Ie=s==null?void 0:s.documents)==null?void 0:Ie.length)>0?(Ve=s==null?void 0:s.documents)==null?void 0:Ve.map((V,he)=>e.jsx(ql,{docList:V,index:he,modalAction:d})):e.jsx("tr",{className:"",children:e.jsxs("td",{colSpan:"4",children:[e.jsxs("p",{className:"",children:[" ",e.jsx(mt,{message:"Documents not uploaded...",callback:null}),"    "]}),e.jsx("div",{className:"flex",children:((Pe=s==null?void 0:s.licenceDtl)==null?void 0:Pe.document_upload_status)==0&&e.jsx(qe,{to:`/trade-document-upload/${h}`,target:"_blank",children:e.jsx("button",{className:"px-2 py-1 bg-blue-500 hover:bg-blue-700 text-white rounded",children:"Upload Documents"})})})]})})]})})]}),(r==5||o==!0)&&e.jsxs("div",{className:"container mx-auto p-2 text-sm",children:[e.jsxs("div",{className:"border-b pb-6  text-lg capitalize",children:[e.jsxs("h1",{className:"w-full font-bold text-sky-600 ",children:[e.jsx(Ws,{}),"Payment Details"]}),e.jsx("p",{className:"text-xs text-gray-400 pl-1 ",children:"Payment related Information about the business."})]}),e.jsx("div",{className:"grid grid-cols-1 px-2 shadow-md pb-6",children:e.jsxs("table",{className:"leading-normal mt-2 w-full",children:[e.jsx("thead",{className:"font-bold text-left   ",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-left text-xs  ",children:"#"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-left text-xs  ",children:"Processing Fee"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-left text-xs  ",children:"Transaction Date"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-left text-xs  ",children:"Payment Through"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-left text-xs  ",children:"Payment For"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-left text-xs  ",children:"View"})]})}),e.jsx("tbody",{className:"",children:((Be=s==null?void 0:s.transactionDtl)==null?void 0:Be.length)>0?(Re=s==null?void 0:s.transactionDtl)==null?void 0:Re.map((V,he)=>e.jsx(e.Fragment,{children:e.jsxs("tr",{className:"bg-white shadow-md border-b border-gray-200",children:[e.jsx("td",{className:"px-2 py-2 text-left",children:he+1}),e.jsx("td",{className:"px-2 py-2 text-left",children:(V==null?void 0:V.paid_amount)==""?"NA":V==null?void 0:V.paid_amount}),e.jsx("td",{className:"px-2 py-2 text-left",children:(V==null?void 0:V.tran_date)==""?"NA":V==null?void 0:V.tran_date}),e.jsx("td",{className:"px-2 py-2 text-left",children:(V==null?void 0:V.payment_mode)==""?"NA":V==null?void 0:V.payment_mode}),e.jsx("td",{className:"px-2 py-2 text-left",children:(V==null?void 0:V.tran_type)==""?"NA":V==null?void 0:V.tran_type}),e.jsx("td",{className:"px-2 py-2 text-left",children:e.jsx(qe,{to:`/trade-payment-receipt/${btoa(V==null?void 0:V.temp_id)}/${btoa(V==null?void 0:V.id)}`,target:"_blank",children:e.jsx("button",{className:" bg-purple  hover:bg-purple text-white  px-3 py-1.5 rounded-lg text-xs font-mono",children:" View Receipt"})})})]})})):e.jsx("tr",{children:e.jsxs("td",{colSpan:6,children:[((Ge=s==null?void 0:s.licenceDtl)==null?void 0:Ge.application_type_id)!="4"&&((Ke=s==null?void 0:s.licenceDtl)==null?void 0:Ke.payment_status)==0&&e.jsxs("div",{children:[e.jsx(mt,{message:"Payment Unavailable",callback:null}),e.jsx("button",{className:"px-2 py-1 bg-blue-500 hover:bg-blue-700 text-white rounded",onClick:()=>y(atob(h)),children:"Pay Now"})]}),((Ze=s==null?void 0:s.licenceDtl)==null?void 0:Ze.application_type_id)=="4"&&e.jsx(e.Fragment,{children:e.jsx("span",{className:"text-blue-500 font-bold",children:"Surrender applications does not require payment"})})]})})})]})})]})]})]})]}),e.jsx(bs,{isOpen:c,onAfterOpen:P,onRequestClose:f,style:j,contentLabel:"Example Modal",children:e.jsxs("div",{class:" rounded-lg shadow-xl border-2 border-gray-50 ml-32 px-0",style:{width:"40vw",height:"80vh"},children:[e.jsx("button",{className:"text-red-300 float-right",onClick:f,children:e.jsx(ca,{})}),((Qe=u==null?void 0:u.split(".")[((Je=u==null?void 0:u.split("."))==null?void 0:Je.length)-1])==null?void 0:Qe.toLowerCase())!="pdf"?e.jsx("img",{className:"w-full h-full",src:u,frameborder:"0",onLoadStart:()=>console.log("loading started")}):e.jsx("object",{className:"w-full h-full container",data:u,frameborder:"0"})]})})]})}bs.setAppElement("#root");function Wl(s){a.useState(!0);const[l,h]=a.useState(!1),[C,b]=a.useState(!1),[c,t]=a.useState(""),{notify:u}=a.useContext(Ht);ys();const[g,m]=a.useState(!1),[f,w]=a.useState(""),F=We({licenseNo:H()}),S=He({initialValues:{licenseNo:""},onSubmit:_=>{if(console.log("at submit form.....",_),_.licenseNo.length<4){t("Please enter license No.");return}_.licenseNo.length==0?s==null||s.setholdingNo(_.holdingNo):s==null||s.setptnNo(_.licenseNo),T(_)},validationSchema:F}),k=_=>{let r=_.target.name,L=_.target.value;r=="ptnNo"?(S.setFieldValue("holdingNo",""),s==null||s.setholdingNo("")):(S.setFieldValue("ptnNo",""),s==null||s.setptnNo("")),r=="licenseNo"&&L.length>=4?b(!0):b(!1)},T=_=>{m(!1),h(!0),b(!1);let r;_.licenseNo.length==0?r={holdingNo:_.holdingNo}:r={moduleId:3,referenceNo:_.licenseNo},console.log("before send otp for attachment...",r),Es.post(de.CARETAKER_OTP,r,Ps()).then(L=>{var o,E,P,j;console.log("otp send for attachment response",L==null?void 0:L.data),(o=L==null?void 0:L.data)!=null&&o.status?(s==null||s.setpropertyAttachedMobileNo((P=(E=L==null?void 0:L.data)==null?void 0:E.message)==null?void 0:P.mobileNo),s==null||s.setptnCardStatus(!1),s==null||s.setotpCardStatus(!0)):w((j=L==null?void 0:L.data)==null?void 0:j.message),h(!1)}).catch(L=>{console.log("error otp send",L),u("Something went wrong in attachment...","error"),h(!1),m(!0),b(!0)})};return g?e.jsx(pt,{title:"Server is busy",desc:"Server is too busy to respond. Please try again later.",buttonText:"View Dashboard",buttonUrl:"/propertyDashboard"}):e.jsxs(e.Fragment,{children:[l&&e.jsx(vt,{}),e.jsx("div",{class:"w-full sm:w-full  mx-auto",children:e.jsx("div",{class:"container mx-auto",children:e.jsx("div",{class:"max-w-sm mx-auto md:max-w-lg",children:e.jsx("div",{class:"w-full bg-white rounded text-center shadow-xl relative p-20",children:e.jsxs("div",{class:"",children:[e.jsx("button",{onClick:()=>s==null?void 0:s.closeModal(!1),type:"button",class:"absolute top-6 right-6 bg-transparent bg-gray-200 text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center shadow-sm  hover:bg-red-200 hover:border-none",children:e.jsx("svg",{class:"w-5 h-5",fill:"currentColor",children:e.jsx("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})})}),e.jsx("div",{class:"text-2xl font-bold px-10",children:"Enter License No."}),e.jsx("div",{class:"flex flex-col mt-4 text-center",children:e.jsxs("span",{className:"text-center",children:["Enter a License no.",e.jsx("br",{}),"to attach as a caretaker."]})}),e.jsx("div",{class:"flex flex-col mt-4 text-center",children:e.jsx("span",{className:"text-center text-red-400",children:f})}),e.jsx("div",{class:"flex flex-row justify-center text-center mt-5",children:e.jsxs("form",{onSubmit:S.handleSubmit,onChange:k,children:[e.jsxs("div",{children:[e.jsx("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold w-full text-left",children:"License No."}),e.jsx("input",{type:"text",...S.getFieldProps("licenseNo"),className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"})]}),e.jsx("div",{className:"font-semibold text-indigo-500 mt-2"}),e.jsx("div",{className:"text-red-500 mt-10",children:c}),e.jsxs("div",{class:"w-full text-center",children:[C&&e.jsx("button",{type:"submit",className:"w-full  py-2.5 bg-indigo-600 text-white font-medium text-xs leading-tight  rounded shadow-md hover:bg-indigo-700 hover:shadow-lg focus:bg-indigo-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-indigo-800 active:shadow-lg transition duration-150 ease-in-out",children:"Submit"}),!C&&e.jsx("button",{type:"button",className:"w-full  py-2.5 bg-gray-400 text-white font-medium text-xs leading-tight  rounded shadow-md  hover:shadow-lg  focus:shadow-lg focus:outline-none focus:ring-0  transition duration-150 ease-in-out cursor-default ",children:"Submit"})]})]})})]})})})})})]})}function Hl(s){const[l,h]=a.useState(!1);a.useState("");const{api_verifyMobileOtp:C}=Ut(),[b,c]=a.useState(!1),{notify:t}=a.useContext(Ht),[u,g]=a.useState(!1),[m,f]=a.useState(""),[w,F]=a.useState(60),[S,k]=a.useState({first:"",second:"",third:"",fourth:"",fifth:"",sixth:""}),T=a.useRef(),_=a.useRef(),r=a.useRef(),L=a.useRef(),o=a.useRef(),E=a.useRef(),P=ys(),[j,d]=a.useState("first"),N=(v,I)=>{f("");let K={...S,[I]:v.target.value};if(k({...S,[I]:v.target.value}),v.target.value.length===1)switch(I){case"first":_.current.focus(),d("second");break;case"second":r.current.focus(),d("third");break;case"third":L.current.focus(),d("fourth");break;case"fourth":o.current.focus(),d("fifth");break;case"fifth":E.current.focus(),d("sixth");break;case"sixth":d("sixth");break}$(K)},y=v=>{switch(v){case"second":T.current.focus(),k({...S,second:""}),d("first");break;case"third":_.current.focus(),k({...S,third:""}),d("second");break;case"fourth":r.current.focus(),k({...S,fourth:""}),d("third");break;case"fifth":L.current.focus(),k({...S,fifth:""}),d("fouth");break;case"sixth":o.current.focus(),k({...S,sixth:""}),d("fifth");break}},$=v=>{console.table(v),v.first!=""&&v.second!=""&&v.third!=""&&v.fourth!=""&&v.fifth!=""&&v.sixth!=""?g(!0):g(!1)},A=()=>{i(!1),c(!0);let v={otp:`${S.first}${S.second}${S.third}${S.fourth}${S.fifth}${S.sixth}`,mobileNo:s==null?void 0:s.verifedMobileNo};console.log("before verify otp...",v),Es.post(C,v).then(I=>{var K,ee;console.log("otp verify response",I==null?void 0:I.data),(K=I==null?void 0:I.data)!=null&&K.status?s==null||s.callback():(t("Wrong OTP, Please enter correct OTP","error"),f((ee=I==null?void 0:I.data)==null?void 0:ee.message)),c(!1)}).catch(I=>{console.log("otp verify error",I),t("Something went wrong...","error"),f("Something went wrong !"),i(!0),c(!1)})};let B,D=60;const O=()=>{B=setInterval(()=>{F(v=>v-1),D=D-1,D==0&&(h(!0),console.log("inside static stop..."),clearInterval(B))},1e3)};a.useEffect(()=>{O()},[]);const[q,i]=a.useState(!1);return q?e.jsx(pt,{title:"Server is busy",desc:"Server is too busy to respond. Please try again later.",buttonText:"View Dashboard",buttonUrl:"/propertyDashboard"}):e.jsxs(e.Fragment,{children:[b&&e.jsx(vt,{}),e.jsx(Gs,{children:e.jsx("div",{class:"",children:e.jsx("div",{class:"container mx-auto",children:e.jsx("div",{class:"max-w-sm mx-auto md:max-w-lg",children:e.jsxs("div",{class:"w-full px-2 md:px-0",children:[e.jsxs("div",{className:"w-full text-center py-4  bg-gray-200 text-black relative",children:[s==null?void 0:s.headTitle,e.jsx("button",{onClick:()=>s==null?void 0:s.setotpCardStatus(!1),type:"button",class:"absolute top-1 right-6 bg-transparent bg-gray-200 text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center shadow-sm  hover:bg-red-200 hover:border-none",children:e.jsx("svg",{class:"w-5 h-5",fill:"currentColor",children:e.jsx("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})})})]}),e.jsxs("div",{class:"bg-white py-20 px-6 md:py-20 md:px-20 w-full md:w-auto rounded text-center shadow-xl relative",children:[e.jsx("div",{class:"text-2xl font-bold px-2",children:"OTP Verification"}),e.jsx("div",{class:"flex flex-col mt-4 text-center",children:e.jsx("span",{className:"text-center text-red-400",children:m})}),e.jsxs("div",{class:"flex flex-col mt-4",children:[e.jsx("span",{children:"Enter the OTP you received at"}),e.jsxs("span",{class:"font-bold",children:["+91 ",s==null?void 0:s.verifedMobileNo]})]}),e.jsxs("div",{id:"otp",class:"flex flex-row justify-center text-center px-2 mt-5",children:[e.jsx("input",{ref:T,type:"text",min:0,value:S.first,maxLength:1,onChange:v=>N(v,"first"),onKeyDown:v=>v.key==="Backspace"&&y("first"),className:`${j==="first"?"active":""} m-2 border h-10 w-10 text-center form-control rounded`}),e.jsx("input",{ref:_,type:"text",min:0,value:S.second,maxLength:1,onChange:v=>N(v,"second"),onKeyDown:v=>v.key==="Backspace"&&y("second"),className:`${j==="second"?"active":""} m-2 border h-10 w-10 text-center form-control rounded`}),e.jsx("input",{ref:r,type:"text",min:0,value:S.third,maxLength:1,onChange:v=>N(v,"third"),onKeyDown:v=>v.key==="Backspace"&&y("third"),className:`${j==="third"?"active":""} m-2 border h-10 w-10 text-center form-control rounded`}),e.jsx("input",{ref:L,type:"text",min:0,value:S.fourth,maxLength:1,onChange:v=>N(v,"fourth"),onKeyDown:v=>v.key==="Backspace"&&y("fourth"),className:`${j==="fourth"?"active":""} m-2 border h-10 w-10 text-center form-control rounded`}),e.jsx("input",{ref:o,type:"text",min:0,value:S.fifth,maxLength:1,onChange:v=>N(v,"fifth"),onKeyDown:v=>v.key==="Backspace"&&y("fifth"),className:`${j==="fifth"?"active":""} m-2 border h-10 w-10 text-center form-control rounded`}),e.jsx("input",{ref:E,type:"text",min:0,value:S.sixth,maxLength:1,onChange:v=>N(v,"sixth"),onKeyDown:v=>v.key==="Backspace"&&y("sixth"),className:`${j==="sixth"?"active":""} m-2 border h-10 w-10 text-center form-control rounded`})]}),e.jsxs("div",{class:"flex justify-center text-center mt-5",children:[!l&&e.jsx("div",{className:"w-10 h-10 bg-indigo-500 flex justify-center items-center rounded-full text-white",children:w}),e.jsxs("button",{disabled:!l,onClick:()=>{h(!1),F(60),D=60,O()},class:`ml-4 flex items-center ${l?"text-indigo-500 hover:text-blue-900 cursor-pointer":"text-gray-400 hover:text-none cursor-default"}`,children:[e.jsx("span",{class:"font-bold",children:"Resend OTP"}),e.jsx("i",{class:"bx bx-caret-right ml-1"})]})]}),e.jsxs("div",{class:"w-full text-center mt-5",children:[u&&e.jsx("button",{type:"button",onClick:A,className:"w-full  py-2.5 bg-indigo-600 text-white font-medium text-xs leading-tight  rounded shadow-md hover:bg-indigo-700 hover:shadow-lg focus:bg-indigo-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-indigo-800 active:shadow-lg transition duration-150 ease-in-out",children:"Submit"}),!u&&e.jsx("button",{type:"button",className:"w-full  py-2.5 bg-gray-400 text-white font-medium text-xs leading-tight  rounded shadow-md  hover:shadow-lg  focus:shadow-lg focus:outline-none focus:ring-0  transition duration-150 ease-in-out cursor-default ",children:"Submit"})]}),(s==null?void 0:s.bottomNaviation)!=!1&&e.jsxs("div",{className:"text-left w-full mt-10 flex justify-center items-center",children:[e.jsx("div",{className:"flex-1",children:e.jsx("span",{onClick:()=>P("/"),className:"text-indigo-500 font-semibold hover:bg-white px-3 py-1 cursor-pointer ",children:"Home"})}),e.jsx("div",{className:"flex-1",children:e.jsx("span",{onClick:()=>P("/login"),className:"text-indigo-500 font-semibold hover:bg-white px-3 py-1 cursor-pointer float-right",children:"Login "})})]})]})]})})})})})]})}function Ul(s){const[l,h]=a.useState(!1);ys();const[C,b]=a.useState(!1);a.useState("");const[c,t]=a.useState(0);let u,g=0;const m=()=>{t(0),g=0,u=setInterval(()=>{t(f=>f+1),g=g+1,g===90&&(console.log("inside static stop..."),clearInterval(u),s==null||s.setpropertyAttachViewButtonStatus(!0))},50)};return a.useEffect(()=>{m()},[]),console.log("timeer...",c),C?e.jsx(pt,{title:"Server is busy",desc:"Server is too busy to respond. Please try again later.",buttonText:"View Dashboard",buttonUrl:"/propertyDashboard"}):e.jsxs(e.Fragment,{children:[l&&e.jsx(vt,{}),e.jsx("div",{class:"w-full sm:w-full  mx-auto",children:e.jsx("div",{class:"container mx-auto",children:e.jsx("div",{class:"max-w-sm mx-auto md:max-w-lg",children:e.jsx("div",{class:"w-full bg-white rounded text-center shadow-xl relative p-20",children:e.jsxs("div",{class:"",children:[!(s!=null&&s.propertyAttachViewButtonStatus)&&e.jsxs(e.Fragment,{children:[e.jsx("div",{class:"text-2xl font-bold px-10",children:"Attaching License"}),e.jsx("div",{class:"flex flex-col mt-4 text-center",children:e.jsx("span",{className:"text-center",children:"Please wait while we are attaching holding to your profile."})})]}),(s==null?void 0:s.propertyAttachViewButtonStatus)&&e.jsx(e.Fragment,{children:e.jsx("div",{class:"text-2xl font-bold px-10",children:"License attached successfully!"})}),e.jsxs("div",{class:"flex flex-row justify-center text-center mt-5",children:[!(s!=null&&s.propertyAttachViewButtonStatus)&&e.jsx("div",{class:"w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700",children:e.jsx("div",{class:"bg-green-500 h-2.5 rounded-full",style:{width:`${c}%`}})}),(s==null?void 0:s.propertyAttachViewButtonStatus)&&e.jsx(Aa,{className:"inline text-green-500 text-[50px]"})]}),e.jsx("div",{className:"mt-10",children:(s==null?void 0:s.propertyAttachViewButtonStatus)&&e.jsx("button",{onClick:()=>{s==null||s.setPropertyScrollStatus({...s==null?void 0:s.PropertyScrollStatus,careTaker:!0}),s==null||s.setpropertyAttachWaitingCardStatus(!1),s==null||s.setpropertyAttachViewButtonStatus(!1)},type:"submit",className:"py-2.5 px-10 bg-indigo-600 text-white font-medium text-xs leading-tight  rounded shadow-md hover:bg-indigo-700 hover:shadow-lg focus:bg-indigo-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-indigo-800 active:shadow-lg transition duration-150 ease-in-out",children:"View"})})]})})})})})]})}function Yl(s){const l=[{Header:"#",Cell:({row:h})=>e.jsx("div",{className:"h-6 w-6 outline-gray-500 outline outline-1 bg-slate-50 rounded-full text-gray-600 text-center pt-1 text-xs shadow-inner  shadow-gray-500",children:h.index+1})},{Header:"License No",accessor:"license_no"},{Header:"Application No.",accessor:"application_no"},{Header:"Firm Name",accessor:"firm_name"},{Header:"Application Type.",accessor:"application_type_id",Cell:({cell:h})=>e.jsxs("div",{className:"",children:[h.row.values.application_type_id==1&&e.jsx("span",{className:"text-green-500",children:"New Application"}),h.row.values.application_type_id==2&&e.jsx("span",{className:"text-blue-500",children:"Renewal"}),h.row.values.application_type_id==3&&e.jsx("span",{className:"text-amber-500",children:"Amendment"}),h.row.values.application_type_id==4&&e.jsx("span",{className:"text-gray-500",children:"Surrender"})]})},{Header:"Apply Date.",accessor:"application_date"},{Header:"Valid Upto",accessor:"valid_upto"},{Header:"Action",accessor:"id",Cell:({cell:h})=>e.jsx(qe,{to:`/trade-view/${btoa(h.row.values.id)}`,children:e.jsx("button",{className:`bg-sky-200 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-sky-800 \r
                    hover:text-white text-black`,children:"View"})})}];return e.jsx("div",{className:"py-6",children:e.jsx(La,{assessmentType:!1,columns:l,dataList:s==null?void 0:s.renewalHistoryList})})}const Gl=()=>{Na();const[s,l]=a.useState(null),[h,C]=a.useState(1);a.useState(!1);const{api_applicationListByModule:b,api_getHoldingDetails:c,api_attachProperty:t}=Ut(),[u,g]=a.useState(null);a.useState(null);const[m,f]=a.useState(null);a.useState(0);const[w,F]=a.useState(!1);a.useState(0),a.useState(!1),a.useState(0);const[S,k]=a.useState(!1),T=ys(),[_,r]=a.useState(!1),[L,o]=a.useState(!1),[E,P]=a.useState(null),[j,d]=a.useState(""),[N,y]=a.useState(),[$,A]=a.useState(!1),[B,D]=a.useState(!1),[O,q]=a.useState([]),[i,v]=a.useState(""),[I,K]=a.useState(!1),[ee,ne]=a.useState([]);console.log("propertyAttachedMobileNo",ee);const[ie,ae]=a.useState({reAssessment:!1,concession:!1,rainWater:!1,objection:!1,deactivation:!1,careTaker:!1}),ce={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"white",border:"1px solid gray",minHeight:"49vh",minWidth:"59vw"}},re=n=>{D(!0),v(n),ue.post(de.VALID_AND_EXPIRE_LIST,{licenseNo:n},me()).then(G=>{console.log("renewal history",G.data.data.data),G.data.status&&(console.log("renewal history status",G.data.status),q(G.data.data.data))}).catch(G=>{console.log(G)})},Y=n=>{s===n.id?l(null):l(n.id)};a.useEffect(()=>{x()},[S]);const x=()=>{Q(!0),ue.post(de.GET_CITIZEN_APPLICATION_LIST,{ulbId:2},Ps()).then(function(n){var G;console.log("apllication list----- ",n),g((G=n==null?void 0:n.data)==null?void 0:G.data),Q(!1)}).catch(function(n){F(!0),Q(!1)}),z()},z=()=>{ue.post(de.ATTACHED_LICENSE_LIST,{},Ps()).then(function(n){var G;console.log("attached list----- ",n.data.data),ne((G=n==null?void 0:n.data)==null?void 0:G.data)}).catch(function(n){F(!0)})},se=(n=null)=>{let G={module:"careTakeTrade"};ue.post(b,G,Ps()).then(function(J){var le,oe,xe;((le=J==null?void 0:J.data)==null?void 0:le.status)==!0?(f((xe=(oe=J==null?void 0:J.data)==null?void 0:oe.data)==null?void 0:xe.CareTaker),n!=null&&k(!0)):n!=null&&k(!1)}).catch(function(J){n!=null&&k(!1),F(!0)})},W=n=>{X.dismiss(n),X.info(n)},U=()=>{Q(!0);let n;j.length===0?n={referenceNo:N,moduleId:3}:n={referenceNo:j,moduleId:3},ue.post(de.ATTACH_PROPERTY,n,Ps()).then(function(G){var J;((J=G==null?void 0:G.data)==null?void 0:J.status)==1?(W("Property Attached Successfully !"),d(""),y(""),se("attach")):W("Problem in property attachment !")}).catch(function(G){W("Something went wrong !")})},Z=()=>{W("OTP has been verified successfully,now attaching property !"),o(!1),A(!0),U()},Q=n=>{K(n)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"mx-8 h-full",children:[e.jsx(Ns,{show:I}),e.jsx("div",{children:e.jsxs("div",{className:"flex items-center justify-between mt-8 mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl text-gray-800 font-semibold font-serif",children:"Trade Dashboard"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 ",children:"View all of your municipal trade licenses."})]}),e.jsxs("div",{className:"flex gap-2",children:[_&&e.jsx(Gs,{children:e.jsx(Wl,{setpropertyAttachedMobileNo:P,closeModal:r,setptnNo:d,setotpCardStatus:o,setholdingNo:y,setptnCardStatus:r})}),L&&e.jsx(Gs,{children:e.jsx(Hl,{verifedMobileNo:E,callback:Z,setotpCardStatus:o})}),$&&e.jsx(Gs,{children:e.jsx(Ul,{setPropertyScrollStatus:ae,setpropertyAttachViewButtonStatus:k,propertyAttachViewButtonStatus:S,setpropertyAttachWaitingCardStatus:A})}),e.jsx(gt,{title:"Click to attach License as a caretaker.",children:e.jsx("button",{id:"attach-holding","data-tooltip-content":"Click to attach License as a caretaker.",className:Oa,onClick:()=>r(!0),children:"Link License"})}),e.jsx("button",{className:ka,children:e.jsx(qe,{to:"/trade-new-apply",children:e.jsxs("span",{className:"flex justify-center items-center",children:[e.jsx("span",{className:"mt-1 mr-2",children:e.jsx(Ta,{size:20})}),"Apply New License"]})})})]})]})}),e.jsx("div",{className:"",children:e.jsxs("ul",{className:"bg-white max-w-screen-xl border-b  flex items-center gap-x-6 overflow-x-auto text-sm",children:[e.jsx("li",{className:`py-2 border-b-2 ${h==1?"text-indigo-500 border-indigo-500":"border-white text-gray-500"}  `,children:e.jsxs("button",{onClick:()=>C(1),role:"tab",className:"flex items-center font-semibold gap-x-2 py-2 px-2 rounded-lg duration-150 hover:text-indigo-500 hover:bg-gray-50 active:bg-gray-100",children:[e.jsx("img",{className:"h-5 w-5",src:Fa,alt:""}),"Pending Applications"]})}),e.jsx("li",{className:`py-2 border-b-2 ${h==2?"text-indigo-500 border-indigo-500":"border-white text-gray-500"} `,children:e.jsxs("button",{onClick:()=>C(2),role:"tab",className:"flex items-center font-semibold gap-x-2 py-2 px-2 rounded-lg duration-150 hover:text-indigo-500 hover:bg-gray-50 active:bg-gray-100 ",children:[e.jsx("img",{className:"h-5 w-5",src:Pt,alt:""}),"Approved Licenses"]})}),e.jsx("li",{className:`py-2 border-b-2 ${h==3?"text-indigo-500 border-indigo-500":"border-white text-gray-500"} `,children:e.jsxs("button",{onClick:()=>C(3),role:"tab",className:"flex items-center font-semibold gap-x-2 py-2 px-2 rounded-lg duration-150 hover:text-indigo-500 hover:bg-gray-50 active:bg-gray-100",children:[e.jsx("img",{className:"h-5 w-5",src:Pt,alt:""}),"Attached Licenses"]})})]})}),e.jsx("div",{children:I==!1&&e.jsxs("section",{className:"overflow-auto mx-auto py-3 ",children:[e.jsx("div",{className:"flex items-center justify-between mt-2 mb-5",children:e.jsx("div",{children:e.jsxs("h2",{className:"text-md font-medium text-gray-800 ",children:[h==1&&" No. of pending applications : "+Vt(u==null?void 0:u.filter(n=>n.pending_status!=5).length),h==2&&" No. of Active Licenses : "+Vt(u==null?void 0:u.filter(n=>n.pending_status==5).length),h==3&&" No. of Attached Licenses : "+(ee==null?void 0:ee.length)]})})}),h==1&&e.jsx("div",{className:"w-full h-screen text-sm overflow-scroll pb-12 mb-24",children:(u==null?void 0:u.length)>0?e.jsxs("table",{className:"table table-auto w-full text-center  border-separate border-spacing-y-[2px] p-2",children:[e.jsx("thead",{children:e.jsx("tr",{className:"h-0 text-gray-600 shadow-lg rounded-lg"})}),e.jsx("tbody",{children:u==null?void 0:u.map((n,G)=>n.pending_status!=5&&e.jsxs(e.Fragment,{children:[e.jsxs("tr",{className:"outline outline-1 outline-gray-300 bg-white cursor-pointer",onClick:()=>Y(n),children:[e.jsx("td",{className:"px-2 py-2 whitespace-nowrap col-span-2",children:e.jsx("div",{className:"flex flex-row ",children:e.jsx("img",{src:ot,className:"h-10 ml-3 rounded-full"})})}),e.jsx("td",{className:"whitespace-nowrap col-span-2",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Applicant No."}),e.jsx("p",{className:"px-2 py-1 break-all font-manrope font-semibold col-span-2 text-sm",children:Te(n==null?void 0:n.application_no)})]})}),e.jsx("td",{className:"whitespace-pre-wrap col-span-2",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Firm Name"}),e.jsx("p",{className:"px-2 py-1 break-all font-manrope font-semibold col-span-2 text-sm",children:Te(n==null?void 0:n.firm_name)})]})}),(n==null?void 0:n.mobile_no)==""&&(n==null?void 0:n.mobile_no)==""?e.jsx("td",{className:"px-2 py-2 whitespace-nowrap col-span-2 ",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Mobile No."}),e.jsx("p",{className:"px-2 py-1 break-all font-manrope font-semibold col-span-2 text-sm",children:Te(n==null?void 0:n.mobile_no)})]})}):e.jsx("td",{className:"px-2 py-2 whitespace-nowrap col-span-2 ",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Mobile No."}),e.jsx("p",{className:"px-2 py-1 break-all font-manrope font-semibold col-span-2 text-sm",children:Te(((n==null?void 0:n.mobile_no)=="",n==null?void 0:n.mobile_no))})]})}),e.jsx("td",{className:"px-2 py-2 whitespace-nowrap col-span-2",children:e.jsx("span",{className:`text-xs px-2 py-1.5 ${(()=>{switch(Te(n==null?void 0:n.application_type_id)){case 1:return"bg-green-200";case 2:return"bg-blue-200";case 3:return"bg-yellow-200";case 4:return"bg-red-200";default:return""}})()}`,children:(()=>{switch(Te(n==null?void 0:n.application_type_id)){case 1:return"New Application";case 2:return"Renewal";case 3:return"Amendment";case 4:return"Surrender";default:return""}})()})}),e.jsx("td",{className:"px-2 py-2 whitespace-nowrap col-span-2",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Apply Date"}),e.jsx("p",{className:"px-2 py-1 break-all font-manrope font-semibold col-span-2 text-sm",children:Te(n==null?void 0:n.application_date)})]})}),e.jsx("td",{className:"px-2 py-2 whitespace-nowrap text-right text-sm font-medium col-span-1 cursor-pointer",onClick:()=>Y(n),children:s===n?e.jsx(rt,{size:24}):e.jsx(dt,{size:24})})]}),e.jsx("tr",{children:e.jsx("td",{colSpan:6,children:e.jsx("div",{className:"flex-none bg-gray-200",children:s===n.id&&e.jsx("div",{className:"p-5 ease-in duration-300 shadow-lg",children:e.jsxs("div",{className:"flex justify-between gap-3",children:[(n==null?void 0:n.license_type)=="expired"?e.jsx(e.Fragment,{children:e.jsx("div",{className:"text-sm text-success",children:"*License inactive"})}):e.jsxs(e.Fragment,{children:[(n==null?void 0:n.document_upload_status)==0&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"text-sm text-amber-500",children:["*Document Upload Pending... ",e.jsx("br",{})]})}),(n==null?void 0:n.payment_status)==0&&e.jsx(e.Fragment,{children:e.jsx("div",{className:"text-sm text-lightprimary",children:"*Waiting for Payment..."})}),(n==null?void 0:n.payment_status)==2&&e.jsx(e.Fragment,{children:e.jsx("div",{className:"text-sm text-red-500",children:"*Cheque not cleared..."})}),(n==null?void 0:n.document_upload_status)==1&&(n==null?void 0:n.payment_status)==1&&n.pending_status!=5&&e.jsx(e.Fragment,{children:e.jsx("div",{className:"text-sm text-[#800040]",children:e.jsxs("span",{children:["*",n.pending_at]})})})]}),e.jsx("button",{className:"px-3 py-1 rounded text-sm text-white bg-indigo-500 hover:bg-indigo-600 cursor-pointer",children:e.jsx(qe,{to:`/trade-view/${btoa(n==null?void 0:n.id)}`,children:"View Application"})})]})})})})})]}))})]}):e.jsx("div",{children:e.jsx(it,{message:"You do not have any pending trade applications. Apply for a new trade license.",title:"No Pending Licenses available. "})})}),h==2&&e.jsx("div",{className:"w-full text-sm",children:(u==null?void 0:u.length)>0?e.jsxs("table",{className:"table table-auto w-full text-center  border-separate border-spacing-y-[2px] p-2",children:[e.jsxs("thead",{className:"",children:[e.jsx("tr",{className:"h-0 bg-gray-200 text-gray-600 rounded-lg"}),e.jsx("div",{})]}),e.jsx("tbody",{children:u==null?void 0:u.map((n,G)=>{var J;return n.pending_status==5&&e.jsxs(e.Fragment,{children:[e.jsxs("tr",{className:"outline outline-1 outline-gray-300 cursor-pointer bg-white",onClick:()=>Y(n),children:[e.jsx("td",{className:"px-2 py-2 whitespace-nowrap col-span-2",children:e.jsx("div",{className:"flex flex-row ",children:e.jsx("img",{src:ot,className:"h-10 ml-3 rounded-full"})})}),e.jsx("td",{className:"px-2 py-2 whitespace-nowrap col-span-2",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Application No."}),e.jsx("p",{className:"py-1 break-all font-manrope font-semibold col-span-2 text-sm",children:Te(n==null?void 0:n.application_no)})]})}),e.jsx("td",{className:"px-2 py-2 whitespace-nowrap col-span-2",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"License No"}),e.jsx("p",{className:"py-1 break-all font-manrope font-semibold col-span-2 text-sm",children:Te(n==null?void 0:n.license_no)})]})}),e.jsx("td",{className:"px-2 py-2 whitespace-pre-wrap col-span-2",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Firm Name"}),e.jsx("p",{className:"py-1 break-all font-manrope font-semibold col-span-2 text-sm",children:Te(n==null?void 0:n.firm_name)})]})}),e.jsx("td",{className:"px-2 py-2 whitespace-nowrap col-span-2",children:e.jsx("span",{className:`text-xs px-2 py-1.5 ${(()=>{switch(Te(n==null?void 0:n.application_type_id)){case 1:return"bg-green-200";case 2:return"bg-blue-200";case 3:return"bg-yellow-200";case 4:return"bg-red-200";default:return""}})()}`,children:(()=>{switch(Te(n==null?void 0:n.application_type_id)){case 1:return"New Application";case 2:return"Renewal";case 3:return"Amendment";case 4:return"Surrender";default:return""}})()})}),e.jsx("td",{className:"px-2 py-2 whitespace-nowrap col-span-2 ",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Application Date"}),e.jsx("p",{className:"py-1 break-all font-manrope font-semibold col-span-2 text-sm",children:Te(n==null?void 0:n.application_date)})]})}),e.jsx("td",{className:"px-2 py-2 whitespace-nowrap col-span-2 ",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"valid Upto"}),e.jsx("p",{className:"py-1 break-all font-manrope font-semibold col-span-2 text-sm",children:Te(((n==null?void 0:n.valid_upto)=="",n==null?void 0:n.valid_upto))})]})}),e.jsx("td",{className:"px-2 py-2 whitespace-nowrap text-right text-sm font-medium col-span-1 cursor-pointer",onClick:()=>Y(n),children:s===n?e.jsx(rt,{size:24}):e.jsx(dt,{size:24})})]}),e.jsx("tr",{children:e.jsx("td",{colSpan:6,children:e.jsx("div",{className:"flex-none bg-gray-200",children:s===n.id&&e.jsx("div",{className:"p-5 ease-in duration-300",children:((n==null?void 0:n.license_type)!="old"||(n==null?void 0:n.license_type)!="rejected")&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-full  pl-2 text-xs -mt-5 mb-2",children:e.jsx("div",{className:"font-semibold 2xl:text-base text-sm font-poppins",children:"Actions Available for this license"})}),e.jsxs("div",{className:"grid grid-cols-2 w-full gap-4",children:[e.jsxs("div",{className:"flex w-full",children:[e.jsx("div",{onClick:()=>re(n==null?void 0:n.license_no),className:`flex-initial text-xs 2xl:text-sm poppins border border-indigo-600 text-indigo-700 px-2 shadow-inidgo-400 py-1 rounded-md cursor-pointer shadow-gray-400 hover:bg-indigo-600 transition-all duration-200 
                                                mx-2 hover:text-white hover:scale-105`,children:"Renewal History"}),(J=n==null?void 0:n.option)==null?void 0:J.map(le=>e.jsxs(e.Fragment,{children:[e.jsx("div",{onClick:()=>T(`/trade-renewal/${n==null?void 0:n.id}`),className:(le=="RENEWAL"?"visible":"hidden")+` flex-initial text-xs 2xl:text-sm poppins border border-indigo-600 text-indigo-700 px-2 shadow-inidgo-400 py-1 rounded-md cursor-pointer shadow-gray-400 hover:bg-indigo-600 transition-all duration-200 
                                                mx-2 hover:text-white hover:scale-105`,children:"Renewal"}),e.jsx("div",{onClick:()=>T(`/trade-amendment/${n==null?void 0:n.id}`),className:(le=="AMENDMENT"?"visible":"hidden")+` flex-initial text-xs 2xl:text-sm poppins border border-indigo-600 text-indigo-700 px-2 shadow-inidgo-400 py-1 rounded-md cursor-pointer shadow-gray-400 hover:bg-indigo-600 transition-all 
                                                mx-2
                                                duration-200 hover:text-white hover:scale-105`,children:"Amendment"}),e.jsx("div",{onClick:()=>T(`/trade-surrender/${n==null?void 0:n.id}`),className:(le=="SURRENDER"?"visible":"hidden")+` flex-initial text-xs 2xl:text-sm poppins border border-indigo-600 text-indigo-700 px-2 shadow-inidgo-400 py-1 rounded-md cursor-pointer shadow-gray-400 hover:bg-indigo-600 transition-all 
                                                mx-2
                                                duration-200 hover:text-white hover:scale-105`,children:"Surrender"})]}))]}),e.jsx("div",{className:"text-right",children:e.jsx("button",{className:"px-3 py-1 rounded w-36 text-sm text-white bg-indigo-500 hover:bg-indigo-600 cursor-pointer",children:e.jsx(qe,{to:`/trade-view/${btoa(n==null?void 0:n.id)}`,children:"View Application"})})})]})]})})})})})]})})})]}):e.jsx("div",{children:e.jsx(it,{message:"You do not have any approved trade Licenses yet. If you own a trade license and can't see it here. You can attach your existing licenses here.",title:"No Approved Licenses available. "})})}),h==3&&e.jsx("div",{className:"w-full text-sm",children:(ee==null?void 0:ee.length)>0?e.jsxs("table",{className:"table table-auto w-full text-center border-separate border-spacing-y-[2px] p-2",children:[e.jsxs("thead",{className:"",children:[e.jsx("tr",{className:"h-0 bg-gray-200 text-gray-600 rounded-lg"}),e.jsx("div",{})]}),e.jsx("tbody",{children:ee==null?void 0:ee.map((n,G)=>{var J;return e.jsxs(e.Fragment,{children:[e.jsxs("tr",{className:"outline outline-1 outline-gray-300 cursor-pointer bg-white",onClick:()=>Y(n),children:[e.jsx("td",{className:"px-2 py-2 whitespace-nowrap col-span-2",children:e.jsx("div",{className:"flex flex-row ",children:e.jsx("img",{src:ot,className:"h-10 ml-3 rounded-full"})})}),e.jsx("td",{className:"whitespace-nowrap col-span-2",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Application No."}),e.jsx("p",{className:"px-2 py-1 break-all font-manrope font-semibold col-span-2 text-sm",children:Te(n==null?void 0:n.application_no)})]})}),e.jsx("td",{className:"whitespace-nowrap col-span-2",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"License No."}),e.jsx("p",{className:"px-2 py-1 break-all font-manrope font-semibold col-span-2 text-sm",children:Te(n==null?void 0:n.license_no)})]})}),e.jsx("td",{className:"whitespace-nowrap col-span-2",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Firm Name"}),e.jsx("p",{className:"px-2 py-1 break-all font-manrope font-semibold col-span-2 text-sm",children:Te(n==null?void 0:n.firm_name)})]})}),e.jsx("td",{className:"px-2 py-2 whitespace-nowrap col-span-2",children:e.jsx("span",{className:`text-xs px-2 py-1.5 ${(()=>{switch(Te(n==null?void 0:n.application_type_id)){case 1:return"bg-green-200";case 2:return"bg-blue-200";case 3:return"bg-yellow-200";case 4:return"bg-red-200";default:return""}})()}`,children:(()=>{switch(Te(n==null?void 0:n.application_type_id)){case 1:return"New Application";case 2:return"Renewal";case 3:return"Amendment";case 4:return"Surrender";default:return""}})()})}),e.jsx("td",{className:"whitespace-nowrap col-span-2",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Apply Date"}),e.jsx("p",{className:"px-2 py-1 break-all font-manrope font-semibold col-span-2 text-sm",children:Te(n==null?void 0:n.application_date)})]})}),e.jsx("td",{className:"whitespace-nowrap col-span-2",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"valid upto"}),e.jsxs("p",{className:"px-2 py-1 break-all font-manrope font-semibold col-span-2 text-sm",children:[Te(((n==null?void 0:n.valid_upto)=="",n==null?void 0:n.valid_upto))," "]})]})}),e.jsx("td",{className:"px-2 py-2 whitespace-nowrap text-right text-sm font-medium col-span-1 cursor-pointer",onClick:()=>Y(n),children:s===n?e.jsx(rt,{size:24}):e.jsx(dt,{size:24})})]}),e.jsx("tr",{children:e.jsx("td",{colSpan:6,children:e.jsx("div",{className:"flex-none bg-gray-200",children:s===n.id&&e.jsx("div",{className:"p-5 ease-in duration-300",children:((n==null?void 0:n.license_type)!="old"||(n==null?void 0:n.license_type)!="rejected")&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-full  pl-2 text-xs -mt-5 mb-2",children:e.jsx("div",{className:"font-semibold 2xl:text-base text-sm font-poppins",children:"Actions Available for this license"})}),e.jsxs("div",{className:"grid grid-cols-2 w-full gap-4",children:[e.jsxs("div",{className:"flex w-full",children:[e.jsx("div",{onClick:()=>re(n==null?void 0:n.license_no),className:"flex-initial text-xs 2xl:text-sm poppins border border-indigo-600 text-indigo-700 px-2 shadow-inidgo-400 py-1 rounded-md cursor-pointer shadow-gray-400 hover:bg-indigo-600 transition-all duration-200 mx-2 hover:text-white hover:scale-105",children:"Renewal History"}),(J=n==null?void 0:n.option)==null?void 0:J.map(le=>e.jsxs(e.Fragment,{children:[e.jsx("div",{onClick:()=>T(`/trade-renewal/${n==null?void 0:n.id}`),className:(le=="RENEWAL"?"visible":"hidden")+" flex-initial text-xs 2xl:text-sm poppins border border-indigo-600 text-indigo-700 px-2 shadow-inidgo-400 py-1 rounded-md cursor-pointer shadow-gray-400 hover:bg-indigo-600 transition-all duration-200 mx-2 hover:text-white hover:scale-105",children:"Renewal"}),e.jsx("div",{onClick:()=>T(`/trade-amendment/${n==null?void 0:n.id}`),className:(le=="AMENDMENT"?"visible":"hidden")+" flex-initial text-xs 2xl:text-sm poppins border border-indigo-600 text-indigo-700 px-2 shadow-inidgo-400 py-1 rounded-md cursor-pointer shadow-gray-400 hover:bg-indigo-600 transition-all mx-2 duration-200 hover:text-white hover:scale-105",children:"Amendment"}),e.jsx("div",{onClick:()=>T(`/trade-surrender/${n==null?void 0:n.id}`),className:(le=="SURRENDER"?"visible":"hidden")+" flex-initial text-xs 2xl:text-sm poppins border border-indigo-600 text-indigo-700 px-2 shadow-inidgo-400 py-1 rounded-md cursor-pointer shadow-gray-400 hover:bg-indigo-600 transition-all  mx-2 duration-200 hover:text-white hover:scale-105",children:"Surrender"})]}))]}),e.jsx("div",{className:"text-right",children:e.jsx("button",{className:"px-3 py-1 rounded w-36 text-sm text-white bg-indigo-500 hover:bg-indigo-600 cursor-pointer",children:e.jsx(qe,{to:`/trade-view/${btoa(n==null?void 0:n.id)}`,children:"View Application"})})})]})]})})})})})]})})})]}):e.jsx("div",{children:e.jsx(it,{message:"You do not have any attached trade Licenses. Attached  your trade license to see them here.",title:"No Attached Licenses available. "})})})]})}),e.jsx("div",{className:"",children:e.jsx(bs,{isOpen:B,style:ce,contentLabel:"Example Modal",children:e.jsxs("div",{className:"container ",children:[e.jsx(Ns,{show:I}),e.jsxs("div",{className:"w-full flex justify-between p-4 shadow shadow-sky-200 hover:shadow-sky-300 text-gray-700",children:[e.jsxs("h1",{className:"font-bold font-inter text-xl",children:["Renewal History of License No :",e.jsx("span",{className:"text-md font-semibold",children:(i!=null||i!="")&&i})]}),e.jsx("button",{onClick:()=>D(!1),className:Ea,children:"Close"})]}),e.jsx("div",{className:"grid grid-cols-1 text-sm font-semibold text-gray-600",children:(O==null?void 0:O.length)>0?e.jsx(Yl,{renewalHistoryList:O}):e.jsx(e.Fragment,{children:e.jsx("div",{className:"",children:e.jsx(wa,{})})})})]})})})]})})};function Mt(s){var t,u,g,m,f,w,F,S,k,T;const[l,h]=a.useState(),[C,b]=a.useState(),c=()=>{var L;if(console.log("docCode",C," fileData ",l),C==null||C==""){s==null||s.toast("Select the respective document type","notice");return}if(l==null||C==""){s==null||s.toast("Choose a file to upload","notice");return}let _=Sa(l);if(!_)return;console.log("size validation",_),s==null||s.showLoader(!0);let r=new FormData;console.log("document  => ",l),r.append("applicationId",atob(s==null?void 0:s.id)),console.log("props",s),(s==null?void 0:s.currentOwnerId)!=null&&r.append("ownerId",s==null?void 0:s.currentOwnerId),r.append("docCode",C),r.append("document",l),r.append("docName",(L=s==null?void 0:s.data)==null?void 0:L.docName),console.log("form data bo doc upload => ",r),console.log("fdataaa",l),l!=""?(b(""),console.log("before fetch doc to upload...",r),Es.post(de.DOCUMENT_UPLOAD,r,Va()).then(o=>{var E;console.log("data submitted bo doc upload => ",o.data),(E=o==null?void 0:o.data)!=null&&E.status?(s==null||s.docList(atob(s==null?void 0:s.id)),s==null||s.toast("file uploaded successfully","success")):(console.log("something went"),s==null||s.toast("file could not be uploaded","error")),s==null||s.showLoader(!1)}).catch(o=>{console.log("data submission error bo doc upload => ",o),s==null||s.toast("Something went wrong !","error"),s==null||s.showLoader(!1)})):s==null||s.toast("Select file","notice")};return e.jsx(e.Fragment,{children:e.jsxs("table",{className:"w-full mx-auto text-left border-b mb-1",children:[e.jsx("thead",{className:"",children:(s==null?void 0:s.index)==0&&(s==null?void 0:s.showHeader)&&e.jsxs("tr",{className:"bg-gray-200 h-12",children:[e.jsx("th",{className:"px-2",children:"Document Name"}),e.jsx("th",{className:"",children:"Type"}),e.jsx("th",{className:"",children:"Document"}),e.jsx("th",{className:"",children:"Upload"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{className:"text-left ",children:[e.jsx("td",{children:e.jsxs("div",{className:"px-2 py-6 w-36",children:[" ",((t=s==null?void 0:s.data)==null?void 0:t.docName)||"N/a"]})}),e.jsx("td",{children:e.jsx("div",{className:"text-left ",children:e.jsxs("span",{className:"font-medium",value:(u=s==null?void 0:s.data)==null?void 0:u.docName,children:[((g=s==null?void 0:s.data)==null?void 0:g.docType)=="R"&&e.jsx("span",{className:"text-red-500",children:"Mandatory"}),((m=s==null?void 0:s.data)==null?void 0:m.docType)=="O"&&e.jsx("span",{className:"text-gray-500",children:"Optional"}),((f=s==null?void 0:s.data)==null?void 0:f.docType)=="OR"&&e.jsx("span",{className:"text-red-500",children:"Mandatory"})]})})}),((F=(w=s==null?void 0:s.data)==null?void 0:w.uploadedDoc)==null?void 0:F.verifyStatus)!=1?e.jsxs(e.Fragment,{children:[e.jsx("td",{children:e.jsx("div",{className:"w-36 ",children:e.jsxs("select",{name:"docs",id:"",className:`${p}  cursor-pointer`,onChange:_=>b(_.target.value),value:C,children:[e.jsx("option",{value:"",children:"Select"}),(k=(S=s==null?void 0:s.data)==null?void 0:S.masters)==null?void 0:k.map(_=>e.jsx("option",{value:_==null?void 0:_.documentCode,children:_==null?void 0:_.docVal}))]})})}),e.jsx("td",{children:e.jsxs("div",{className:" flex py-6",children:[e.jsx("input",{type:"file",name:"docs",id:"",className:"p-2 mx-2 border ",onChange:_=>h(_.target.files[0])}),e.jsxs("button",{title:"upload",onClick:c,variant:"outlined",size:"small",className:`${ze}`,children:[e.jsx(ra,{}),((T=s==null?void 0:s.data)==null?void 0:T.uploadedDoc)!=""?"Re-Upload. ":"Upload"]})]})})]}):e.jsx(e.Fragment,{children:e.jsx("td",{colSpan:2,className:"text-blue-500 font-semibold",children:"Document is uploaded and verified"})})]})})]})})}const qt={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",border:"none"}};bs.setAppElement("#root");function Kl(s){var ae,ce,re,Y;const[l,h]=a.useState(!1),[C,b]=a.useState(!1),[c,t]=a.useState(!1),[u,g]=a.useState(""),[m,f]=a.useState(1),[w,F]=a.useState(!1),[S,k]=a.useState(),[T,_]=a.useState(null),[r,L]=a.useState(null),[o,E]=a.useState(!1),[P,j]=a.useState(!1),[d,N]=a.useState(0),[y,$]=a.useState(),A=ys(),{id:B}=ks(),D=()=>j(!0),O=()=>{},q=x=>{h(x)},i=()=>{F(!1),E(!1),t(!1),j(!1),f(m+1),console.log("modal m end => ",c,w)},v=(x,z)=>{X.dismiss(),z=="escalated"&&X.success(x),z=="success"&&X.success(x),z=="de-escalated"&&X.warn(x),z=="notice"&&X.warn(x),z=="error"&&X.error(x)},I=x=>{q(!0),console.log("before fetch upload doc"),Es.post(de.DOCUMENT_REQUIREMENT,{applicationId:x},me()).then(z=>{var se;console.log("list of doc to upload at pilotworkflowdocumentupload => ",z==null?void 0:z.data),k((se=z==null?void 0:z.data)==null?void 0:se.data),q(!1)}).catch(z=>{console.log("data submission error bo doc upload => ",z),t(!1),q(!1)})};a.useEffect(()=>{console.log("applicationIdss",s==null?void 0:s.id),I(B==null?atob(s==null?void 0:s.id):atob(B))},[B]);const K=x=>{T==x?_(null):_(x)},ee=x=>{r==x?L(null):L(x)},ne=x=>{console.log("getting doc name => ",x),x==""&&X.error("File not uploaded !!!"),x!=""&&(g(x),D(),f(m+1))},ie=x=>{q(!0);let z={licenceId:x};ue.post(de.PAY_ONLINE,z,me()).then(se=>{console.log("Oder ID Generated",se),se.data.status==!0?($(se.data.data),console.log("order response"),N(W=>W+1)):(v(se.data.message,"success"),console.log("order response",se.data.message),A(`/trade-view/${btoa(x)}`)),q(!1)}).catch(se=>{console.log("Error genrating order id",se),q(!1)})};return a.useState(!1),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"pb-24 pt-4 mb-12 container h-screen overflow-auto bg-white  border-red-500",children:[e.jsx(Ns,{show:l}),e.jsx($t,{openPaymentModal:d,id:B,OrderResponse:y,toast:v,showLoader:q}),e.jsxs("div",{className:"grid grid-cols-2",children:[e.jsx("div",{children:((s==null?void 0:s.showHeader)==null||(s==null?void 0:s.showHeader))&&e.jsx("h1",{className:"text-lg md:text-4xl my-2 font-semibold font-roboto underline text-gray-600 bg-white",children:"Upload Documents"})}),(S==null?void 0:S.docUploadStatus)==1&&e.jsx("div",{children:e.jsxs("button",{type:"button",className:"float-right  px-4  bg-green-500 text-white  text-xs leading-tight rounded shadow-md hover:bg-green-700 hover:shadow-lg focus:bg-green-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-green-800 active:shadow-lg transition duration-150 ease-in-out pb-3 my-1",children:[e.jsx("p",{className:"mb-2 text-slate-100",children:"Mandatory documents uploaded. You can now"}),e.jsx(da,{variant:"contained",size:"small",color:"success",onClick:()=>ie(atob(B)),children:"Proceed to payment"})]})})]}),(S==null?void 0:S.ownerDocs)&&e.jsxs("div",{className:"grid grid-cols-1  ",children:[e.jsxs("h1",{className:"text-sm font-semibold font-poppins text-indigo-600 bg-white py-4",children:[e.jsx(Ys,{})," Owner Documents"]}),e.jsxs("table",{className:"w-full table table-auto",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-sky-100 text-gray-600 uppercase text-sm",children:[e.jsx("th",{className:"py-3 px-6 text-left",children:"#"}),e.jsx("th",{className:"py-3 px-6 text-left ",children:"Applicant Image"}),e.jsx("th",{className:"py-3 px-6 text-left ",children:"Applicant Name"}),e.jsx("th",{className:"py-3 px-6 text-left ",children:"Guardian Name"}),e.jsx("th",{className:"py-3 px-6 text-left ",children:"Mobile"}),e.jsx("th",{className:"py-3 px-6",children:"Action"})]})}),e.jsx("tbody",{className:"text-gray-600 text-sm font-light bg-white",children:(ae=S==null?void 0:S.ownerDocs)==null?void 0:ae.map((x,z)=>{var se,W,U,Z,Q,n,G;return e.jsxs(e.Fragment,{children:[e.jsxs("tr",{className:"border-b border-gray-200 text-center",children:[e.jsxs("td",{className:"py-6 px-2 text-left font-semibold whitespace-nowrap",children:[z+1,"."]}),e.jsx("td",{className:"py-3 px-6 text-left whitespace-pre-wrap",children:e.jsxs("div",{className:"flex items-start justify-start rounded-full ",children:[((se=x==null?void 0:x.ownerDetails)==null?void 0:se.uploadedDoc)!=""&&e.jsx("div",{className:"text-left cursor-pointer",onClick:()=>{var J;return ne(`${ya}/${(J=x==null?void 0:x.ownerDetails)==null?void 0:J.uploadedDoc}`)},children:e.jsx("img",{src:`${ga}${(W=x==null?void 0:x.ownerDetails)==null?void 0:W.uploadedDoc}`,alt:"n/a",className:"md:w-[3vw] w-[5vw]",srcset:""})}),((U=x==null?void 0:x.ownerDetails)==null?void 0:U.uploadedDoc)==""&&e.jsx("span",{className:"text-red-500 font-semibold text-left",children:"Not Uploaded"})]})}),e.jsx("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:e.jsx("div",{className:"flex items-center",children:e.jsx("span",{className:"font-medium",children:(Z=x==null?void 0:x.ownerDetails)==null?void 0:Z.name})})}),e.jsx("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:e.jsx("div",{className:"flex items-center",children:e.jsx("span",{className:"font-medium",children:(Q=x==null?void 0:x.ownerDetails)==null?void 0:Q.guardian})})}),e.jsx("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:e.jsx("div",{className:"flex items-center",children:e.jsx("span",{className:"font-medium",children:(n=x==null?void 0:x.ownerDetails)==null?void 0:n.mobile})})}),e.jsx("td",{className:"py-3 px-6",children:e.jsx("div",{className:"font-semibold text-sm",children:e.jsx("div",{className:"",children:!C&&e.jsx("button",{onClick:()=>K(z),type:"button",children:T==z?e.jsx(Lt,{}):e.jsx(It,{})})})})})]}),e.jsx("tr",{className:"bg-gray-100 shadow-lg ",children:e.jsx("td",{colSpan:6,className:"border ",children:e.jsx("div",{className:"w-11/12 mx-auto overflow-x-auto",children:T==z&&((G=x==null?void 0:x.documents)==null?void 0:G.map((J,le)=>{var oe;return e.jsx("div",{children:e.jsx(Mt,{data:J,currentOwnerId:(oe=x==null?void 0:x.ownerDetails)==null?void 0:oe.ownerId,index:le,showHeader:!0,id:B||(s==null?void 0:s.id),docList:I,toast:v,showLoader:q})})}))})})})]})})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 ",children:[e.jsxs("h1",{className:"text-sm font-semibold font-poppins text-indigo-600 bg-white py-4 px-2",children:[e.jsx(oa,{})," Property Documents"]}),e.jsxs("table",{className:"w-full table table-auto text-left",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-sky-100 text-gray-600 uppercase text-sm leading-normal",children:[e.jsx("th",{className:"py-3 px-2 text-center",children:"#"}),e.jsx("th",{className:"py-3 px-2 text-left",children:"Document Name"}),e.jsx("th",{className:"py-3 px-2 text-left",children:"Type"}),e.jsx("th",{className:"py-3 px-2 text-center",children:"Preview"}),e.jsx("th",{className:"py-3 px-2 text-center",children:"Remarks"}),e.jsx("th",{className:"py-3 px-2 text-center",children:"Status"}),e.jsx("th",{className:"py-3 px-2 text-center",children:"Action"})]})}),e.jsx("tbody",{className:"text-gray-600 text-sm font-light bg-white",children:(ce=S==null?void 0:S.listDocs)==null?void 0:ce.map((x,z)=>{var se,W,U,Z,Q,n,G,J,le,oe,xe,ve,pe,ge,fe,Ne,Ce,De,_e,$e,ke,Ee,Le,Ie,Ve,Pe,Be;return e.jsxs(e.Fragment,{children:[e.jsxs("tr",{className:"border-b border-gray-200 ",children:[e.jsx("td",{className:"py-6 px-2 font-semibold",children:z+1}),e.jsx("td",{children:x.docName}),e.jsx("td",{className:"py-3 px-2 text-left whitespace-nowrap",children:e.jsx("div",{className:"flex items-center",children:e.jsxs("span",{className:"font-medium",value:x==null?void 0:x.docName,children:[(x==null?void 0:x.docType)=="R"&&e.jsx("span",{className:"text-red-500",children:"Mandatory"}),(x==null?void 0:x.docType)=="O"&&"Optional",(x==null?void 0:x.docType)=="OR"&&e.jsx("span",{className:"text-red-500",children:"Mandatory"})]})})}),e.jsx("td",{className:"py-3 px-2 text-center relative",children:(x==null?void 0:x.uploadedDoc)==""?e.jsx("i",{className:"font-semibold",children:"N/A"}):e.jsx("div",{className:"flex items-center justify-center font-semibold text-[26px] cursor-pointer",onClick:()=>{var Re;return ne(`${Os}${(Re=x==null?void 0:x.uploadedDoc)==null?void 0:Re.docPath}`)},children:e.jsxs("div",{className:"flex items-center",children:[((n=(Q=(se=x==null?void 0:x.uploadedDoc)==null?void 0:se.docPath)==null?void 0:Q.split(".")[((Z=(U=(W=x==null?void 0:x.uploadedDoc)==null?void 0:W.docPath)==null?void 0:U.split("."))==null?void 0:Z.length)-1])==null?void 0:n.toLowerCase())=="jpg"&&e.jsx("div",{className:"flex-shrink-0 border",children:e.jsx("img",{src:`${Os}${(G=x==null?void 0:x.uploadedDoc)==null?void 0:G.docPath}`,className:"md:w-[2vw] w-[5vw]",alt:"n/a",srcset:""})}),((pe=(ve=(J=x==null?void 0:x.uploadedDoc)==null?void 0:J.docPath)==null?void 0:ve.split(".")[((xe=(oe=(le=x==null?void 0:x.uploadedDoc)==null?void 0:le.docPath)==null?void 0:oe.split("."))==null?void 0:xe.length)-1])==null?void 0:pe.toLowerCase())=="jpeg"&&e.jsx("div",{className:"flex-shrink-0 border",children:e.jsx("img",{src:`${Os}${(ge=x==null?void 0:x.uploadedDoc)==null?void 0:ge.docPath}`,className:"md:w-[2vw] w-[5vw]",alt:"n/a",srcset:""})}),(($e=(_e=(fe=x==null?void 0:x.uploadedDoc)==null?void 0:fe.docPath)==null?void 0:_e.split(".")[((De=(Ce=(Ne=x==null?void 0:x.uploadedDoc)==null?void 0:Ne.docPath)==null?void 0:Ce.split("."))==null?void 0:De.length)-1])==null?void 0:$e.toLowerCase())=="png"&&e.jsx("div",{className:"flex-shrink-0",children:e.jsx("img",{src:`${Os}${(ke=x==null?void 0:x.uploadedDoc)==null?void 0:ke.docPath}`,className:"md:w-[2vw] w-[5vw]",alt:"n/a",srcset:""})})]})})}),e.jsx("td",{className:"py-3 px-6 text-center",children:((Ee=x==null?void 0:x.uploadedDoc)==null?void 0:Ee.remarks)==""||((Le=x==null?void 0:x.uploadedDoc)==null?void 0:Le.remarks)==null?e.jsx("i",{className:"font-semibold",children:"N/A"}):(Ie=x==null?void 0:x.uploadedDoc)==null?void 0:Ie.remarks}),e.jsx("td",{className:"py-3 px-6 text-center font-semibold",children:(x==null?void 0:x.uploadedDoc)==""?e.jsx("i",{className:"font-semibold",children:"N/A"}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"whitespace-no-wrap",children:((Ve=x==null?void 0:x.uploadedDoc)==null?void 0:Ve.verifyStatus)==0&&e.jsx(e.Fragment,{children:"Pending"})}),e.jsx("p",{className:"text-green-500 whitespace-no-wrap",children:((Pe=x==null?void 0:x.uploadedDoc)==null?void 0:Pe.verifyStatus)==1&&e.jsx(e.Fragment,{children:"Verified"})}),e.jsx("p",{className:"text-red-500 whitespace-no-wrap",children:((Be=x==null?void 0:x.uploadedDoc)==null?void 0:Be.verifyStatus)==2&&e.jsx(e.Fragment,{children:"Rejected"})})]})}),e.jsx("td",{className:"py-3 px-6",children:e.jsx("div",{className:"font-semibold text-sm",children:e.jsx("div",{className:"text-center",children:!C&&e.jsx("button",{onClick:()=>ee(z),type:"button",children:r==z?e.jsx(Lt,{}):e.jsx(It,{})})})})})]}),e.jsx("tr",{className:"bg-gray-100 shadow-lg ",children:e.jsx("td",{colSpan:7,className:"border ",children:e.jsx("div",{className:"w-11/12 mx-auto overflow-x-auto",children:r==z&&e.jsx("div",{children:e.jsx(Mt,{data:x,currentOwnerId:null,index:z,showHeader:!1,id:B||(s==null?void 0:s.id),docList:I,toast:v,showLoader:q})})})})})]})})})]}),e.jsx("div",{className:"h-48 py-4"})]}),e.jsx(bs,{isOpen:o,onRequestClose:i,style:qt,contentLabel:"Example Modal",children:e.jsx("div",{class:""})}),e.jsxs(bs,{isOpen:P,onAfterOpen:O,onRequestClose:i,style:qt,contentLabel:"Example Modal",children:[e.jsx(Ns,{show:l}),e.jsxs("div",{class:" rounded-lg shadow-xl border-2 ml-32 px-0",style:{width:"60vw",height:"80vh"},children:[e.jsx("div",{className:"absolute top-10 bg-red-200 hover:bg-red-300 right-10 rounded-full p-2 cursor-pointer",onClick:i,children:e.jsx(Ia,{})}),((Y=u==null?void 0:u.split(".")[((re=u==null?void 0:u.split("."))==null?void 0:re.length)-1])==null?void 0:Y.toLowerCase())!="pdf"?e.jsx("img",{className:"w-full h-full",src:u,frameborder:"0",onLoadStart:()=>console.log("loading started")}):e.jsx("object",{className:"w-full h-full container",data:u,frameborder:"0"})]})]})]})})}function Bn(){return e.jsx(ma,{children:e.jsxs(es,{element:e.jsx(Pa,{}),children:[e.jsx(es,{path:"/trade-dashboard",element:e.jsx(Gl,{})}),e.jsx(es,{path:"/trade-new-apply",element:e.jsx(bl,{})}),e.jsx(es,{path:"/trade-renewal-list",element:e.jsx(Bl,{})}),e.jsx(es,{path:"/trade-renewal/:licenceId",element:e.jsx(Sl,{})}),e.jsx(es,{path:"/trade-amendment/:licenceId",element:e.jsx(xl,{})}),e.jsx(es,{path:"/trade-amendment-list",element:e.jsx(Il,{})}),e.jsx(es,{path:"/trade-surrender/:licenceId",element:e.jsx(Fl,{})}),e.jsx(es,{path:"/trade-surrender-list",element:e.jsx(Rl,{})}),e.jsx(es,{path:"/trade-view/:licenceId",element:e.jsx(zl,{})}),e.jsx(es,{path:"/trade-document-upload/:id",element:e.jsx(Kl,{})}),e.jsx(es,{path:"/trade-payment-receipt/:id/:tranId",element:e.jsx(Ml,{})}),e.jsx(es,{path:"/trade-provisional-license/:licenceId",element:e.jsx(Pl,{})}),e.jsx(es,{path:"/trade-approved-license/:licenceId",element:e.jsx(jl,{})})]})})}export{Bn as default};
