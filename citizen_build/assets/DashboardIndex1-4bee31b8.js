import{j as a}from"./mui-8bd1858b.js";import{r as l,u as y}from"./router-56e993c5.js";import{aU as D,M as _,B as L,aV as G,aW as V,U as H,aX as z,A as u,b as f,E as U}from"./index-4df63ca3.js";import"./sweetalert2.esm.all-93f49e75.js";/* empty css              */import{a as M,s as B,w as F,p as $}from"./septic-de6e4ba1.js";import{a as O}from"./redux-a3f69129.js";import{a as W}from"./index.esm-79e01f48.js";import{u as q}from"./useSetLogout-2f908439.js";import{l as J}from"./localstorage-fbfe5679.js";import{P as X}from"./PetRegAPIList-d364fc4a.js";import{a as Y}from"./axios-ab7cc016.js";import"./reactIcons-d26c0b2d.js";import"./materialTailwind-9d0f62b0.js";import"./moment-a9aaa855.js";/* empty css                */import"./i18next-2edfafb0.js";const K="/assets/rigmachine-fbcb41f9.jpeg",Q="/assets/finesimg-e530d190.jpg";function Z(e){l.useState(!1);const r=()=>{e.navCloseStatus||(e.NAV_CLOSE(),e.NAV_CLOSE_ORIGINAL_STATUS()),e.navCloseStatus&&(e.NAV_OPEN(),e.NAV_OPEN_ORIGINAL_STATUS())};return a.jsx(a.Fragment,{children:a.jsxs("div",{className:"grid grid-cols-12 place-items-center h-full",children:[a.jsx("div",{className:"cursor-pointer bg-gray-100 p-2 rounded-lg",onClick:r,children:a.jsx(D,{color:"black",size:16})}),a.jsx("div",{className:"col-span-10",children:a.jsx("h4",{className:"text-white font-bold text-sm text-xl text-center",children:"JUIDCO"})})]})})}const tt=e=>({navCloseStatus:e.navCloseStatus}),at=e=>({NAV_OPEN:r=>e({type:"NAV_OPEN"}),NAV_CLOSE:r=>e({type:"NAV_CLOSE"}),NAV_OPEN_ORIGINAL_STATUS:r=>e({type:"NAV_OPEN_ORIGINAL_STATUS"}),NAV_CLOSE_ORIGINAL_STATUS:r=>e({type:"NAV_CLOSE_ORIGINAL_STATUS"})});O(tt,at)(Z);const et={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"white",border:"none"}};_.setAppElement("#root");function st(e){const[r,g]=l.useState(!1),[N,h]=l.useState(!0),[S,p]=l.useState(!1);setTimeout(()=>{h(!1)},1e4);function j(){g(!0)}function m(){g(!1)}const b=y(),x=()=>{!e.RightNavCloseStatus&&e.RIGHT_NAV_CLOSE(),e.RightNavCloseStatus&&e.RIGHT_NAV_OPEN()},i=()=>{p(!1),J(),e.LOGOUT(),b("/")},v=()=>{q(i)};return a.jsxs(a.Fragment,{children:[S&&a.jsx(L,{}),a.jsxs("div",{className:"grid grid-cols-12 place-items-center h-full pr-12",children:[a.jsx("div",{className:"cursor-pointer",children:a.jsx("div",{onClick:j,className:"bg-gray-100 p-2 rounded-lg relative",children:a.jsx(G,{color:"black",size:16})})}),a.jsx("div",{className:"cursor-pointer",onClick:x,children:a.jsx("div",{className:"bg-gray-100 p-2 rounded-lg ml-16",children:a.jsx(V,{color:"black",size:16})})})]}),a.jsx(_,{isOpen:r,onRequestClose:m,style:et,contentLabel:"Example Modal",children:a.jsxs("div",{class:"relative bg-white rounded-lg shadow-xl border-2 border-gray-50",children:[a.jsx("button",{onClick:m,type:"button",class:"absolute top-3 right-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center darks:hover:bg-gray-800 darks:hover:text-white",children:a.jsx("svg",{class:"w-5 h-5",fill:"currentColor",children:a.jsx("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})})}),a.jsxs("div",{class:"p-6 text-center",children:[a.jsxs("div",{className:"w-full flex h-10",children:[" ",a.jsx("span",{className:"mx-auto",children:a.jsx(W,{size:30})})]}),a.jsx("h3",{class:"mb-5 text-lg font-normal text-gray-500 darks:text-gray-400",children:"Are you sure you want to logout ?"}),a.jsx("button",{type:"button",class:"text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 darks:focus:ring-red-800 font-medium rounded-lg text-sm inline-flex items-center px-5 py-2.5 text-center mr-2",onClick:v,children:"Yes, I'm sure"})]})]})})]})}const it=e=>({RightNavCloseStatus:e.RightNavCloseStatus,isLoggedIn:e.isLoggedIn}),ot=e=>({RIGHT_NAV_OPEN:r=>e({type:"RIGHT_NAV_OPEN"}),LOGOUT:r=>e({type:"LOGOUT"}),RIGHT_NAV_CLOSE:r=>e({type:"RIGHT_NAV_CLOSE"})});O(it,ot)(st);const _t=()=>{const e=y(),{post_citizenDashboard:r,api_getProfileDetails:g,api_applicationCount:N,api_allModulePayment:h,generateDashboardOrderId:S,generateDashboardReceipt:p}=U();X(),H();const[j,m]=l.useState([]),[b,x]=l.useState(null),[i,v]=l.useState([]),[lt,T]=l.useState([]),[nt,w]=l.useState([]),[I,o]=l.useState(!1);l.useState(0),l.useState(!1),l.useState([]),l.useState([]),l.useState([]),l.useState([]),l.useState();const k=()=>{o(!0),u.post(r,{},f()).then(t=>{var s,n,c;(s=t==null?void 0:t.data)!=null&&s.status&&(m((c=(n=t==null?void 0:t.data)==null?void 0:n.data)==null?void 0:c.property),o(!1)),o(!1)}).catch(t=>console.error(t)),o(!1)},C=()=>{o(!0),u.post(h,{},f()).then(t=>{var s,n,c;console.log((s=t==null?void 0:t.data)==null?void 0:s.data),(n=t==null?void 0:t.data)!=null&&n.status&&(w((c=t==null?void 0:t.data)==null?void 0:c.data),o(!1)),o(!1)}).catch(t=>console.error(t)),o(!1)},E=()=>{o(!0),u.post(g,{},f()).then(t=>{var s,n;(s=t==null?void 0:t.data)!=null&&s.status&&x((n=t==null?void 0:t.data)==null?void 0:n.data),o(!1),console.log("Getting Citizen details",t)}).catch(t=>console.error(t)),o(!1)},P=()=>{o(!0),u.post(N,{},f()).then(function(t){var s,n,c;console.log("fetched application count...",(s=t==null?void 0:t.data)==null?void 0:s.data),(n=t==null?void 0:t.data)!=null&&n.status&&(v((c=t==null?void 0:t.data)==null?void 0:c.data),o(!1)),o(!1)}).catch(function(t){console.log("notification error......",t),o(!1)})},R=()=>{const t=localStorage.getItem("token");console.log("token....",t),o(!0),Y.get("https://aadrikainfomedia.com/grievance-api/v1/citizen-dashboard/get-citizen-dashboard",{headers:{Authorization:`Bearer ${t}`}}).then(s=>{var n,c,A;console.log("fetched Grievance application count...",(n=s==null?void 0:s.data)==null?void 0:n.data),(c=s==null?void 0:s.data)!=null&&c.success&&T((A=s==null?void 0:s.data)==null?void 0:A.data),o(!1)}).catch(s=>{console.error("notification error......",s),o(!1)})};l.useEffect(()=>{k(),E(),P(),C()},[]),l.useEffect(()=>{localStorage.getItem("token")&&R()},[localStorage.getItem("token")]);let d=[{navigation:"/fines",image:Q,total:(i==null?void 0:i.finesDetails)??0,name:"Fines & Penalties",isHref:!1},{navigation:"/advertisement-dashboard",image:M,total:(i==null?void 0:i.advertisementDetails)??0,name:"Advertisement",isHref:!1},{navigation:"/septicTankDashboard",image:B,total:(i==null?void 0:i.septicTankerDetails)??0,name:"Septic Tank",isHref:!1},{navigation:"/waterTankerDashboard",image:F,total:(i==null?void 0:i.waterTankerDetails)??0,name:"Water Tank",isHref:!1},{navigation:"/pet-registration-dashboard",image:$,total:(i==null?void 0:i.petDetails)??0,name:"Pet Registration",isHref:!1},{navigation:"/vehicle-registration-dashboard",image:K,total:(i==null?void 0:i.rigDetails)??0,name:"Rig Registration",isHref:!1}];return console.log("module data===>",i),a.jsxs(a.Fragment,{children:[I&&a.jsx(L,{}),a.jsx("div",{className:"grid grid-cols-12 h-screen bg-white mx-4 md:mx-0 mb-4",children:a.jsxs("div",{className:" md:ml-11 mt-12 col-span-12 md:col-span-12 order-last md:order-first",children:[a.jsx("h1",{className:"text-2xl font-semibold max-sm:text-center",children:"All E-Governance Services"}),a.jsxs("div",{className:"flex flex-wrap gap-x-[4rem] gap-y-3 mt-10 bg-white  max-sm:justify-center max-sm:mb-20",children:[console.log("Line 170",d),Array.isArray(d)&&(d==null?void 0:d.map(t=>a.jsx("div",{onClick:()=>{t.isHref?window.location.href=t.navigation:e(t==null?void 0:t.navigation)},className:"md:w-40 h-26 bg-white rounded-lg shadow-sm max-sm:w-full cursor-pointer",children:a.jsx("div",{className:"md:w-52 max-sm:w-full h-28 bg-white rounded-lg shadow-xl pl-2",children:a.jsxs("div",{className:"grid grid-cols-12",children:[a.jsxs("div",{className:"col-span-3 ",children:[a.jsx("div",{className:"w-10 h-10 rounded-full m-2 flex justify-center items-center",children:a.jsx("img",{src:t.image,alt:"",className:"w-8 h-8 rounded-full"})}),a.jsx("div",{className:"w-10 h-10 rounded-full mt-4 font-semibold flex justify-center items-center",children:(t==null?void 0:t.total)??0})]}),a.jsx("div",{className:"col-span-9 ml-4 ",children:a.jsx("h1",{className:"font-semibold text-sm mt-1 cursor-pointer",children:t==null?void 0:t.name})})]})})},t.id))),a.jsx("div",{className:"w-52 h-28shadow-xl pl-2",children:a.jsx("div",{className:"flex justify-center items-center w-full h-full ",children:a.jsxs("span",{className:"hover:bg-gray-200 p-6 rounded-full cursor-pointer",onClick:()=>e("/propertyDashboard"),children:[" ",a.jsx(z,{className:"text-3xl"})]})})})]})]})})]})};export{_t as default};
