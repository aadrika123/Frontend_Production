import{f as ts,r as C,p as ls,j as e,h as U,_ as M,q as J,s as ye,B as K,e as Pe,t as rs,v as ns}from"./index-BgdrKViU.js";import{g as is,d as ds,b as cs,C as os,e as ms,c as xs,f as ps,h as hs,i as us,j as gs,P as bs}from"./index-DqgXf5eX.js";import{c as ve,f as fe,b as v,g as He,a as we,o as _e,F as Se,R as S,B as be,h as js,e as Fe,i as De,S as fs,j as Ns,k as ys,l as vs,m as ws}from"./label-TBar2Dzu.js";import"./input-D5-_lh2Y.js";import{R as B,H as ze,M as z,C as ee,u as _s,D as Me,a as $e,P as qe,b as Ve,c as Te,d as Re,e as Le,f as Ue,g as Oe,F as Ss,h as As,E as Cs,T as Ze,i as Ie,j as Ye,k as he,W as Es,U as ks,S as Ps,l as Ge,m as Fs}from"./usePdfValidator-DSIhlCfW.js";import{u as X,c as Ms,b as le,a as $s}from"./useCustomQuery-DzAkzIvm.js";import{U as Y,B as Je,H as je,a as Be,P as Ee,M as es,R as qs,S as Ae}from"./RHFUploadFiled-BjSaNl-o.js";import{C as G}from"./calendar-DTvup7CI.js";import{U as ae}from"./users-1-_Pj1yU.js";import{C as Vs,H as Ke,F as ue,a as te,b as Ce}from"./house-Bts7yseG.js";import{S as We,d as ss,C as ge,c as Ne,h as ke,a as Ts,e as Rs}from"./Spinner-DZ_K7drD.js";import{E as Ls}from"./eye-vxEapo73.js";import{D as Xe}from"./dollar-sign-BsBoEBBe.js";/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=ts("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Os=ve().shape({emp_type_id:fe().integer().required().label("Employee Type"),emp_code:v().max(50).required().label("Employee Code"),emp_name:v().max(100).required().label("Employee Name"),gender:v().oneOf(["male","female","other"]).required().label("Gender"),dob:He().required().label("Date of Birth"),marital_status:v().oneOf(["single","married","divorced","widowed"]).required().label("Marital Status"),religion:v().max(50).required().label("Religion"),emp_blood_group:v().oneOf(["A+","A-","B+","B-","O+","O-","AB+","AB-"]).required().label("Blood Group"),emp_health_status:v().max(50).required().label("Health Status").required(),contact_no:v().max(10).required().label("Contact Number"),emergency_contact_no:v().max(10).optional().label("Emergency Contact"),email:v().email().max(100).required().label("Email"),emp_present_address:v().required().label("Present Address"),present_post_office:v().max(100).required().label("Present Post Office"),present_pin_code:v().max(6).required().label("Present PIN Code"),present_police_station:v().max(100).optional().label("Present Police Station"),present_state:v().max(100).required().label("Present State"),present_district:v().max(100).required().label("Present District"),emp_permanent_address:v().required().label("Permanent Address"),permanent_post_office:v().max(100).required().label("Permanent Post Office"),permanent_pin_code:v().max(6).required().label("Permanent PIN Code"),permanent_police_station:v().max(100).optional().label("Permanent Police Station"),permanent_state:v().max(100).required().label("Permanent State"),permanent_district:v().max(100).required().label("Permanent District"),aadhaar_no:v().max(12).optional().label("Aadhaar Number"),pan_no:v().max(10).optional().label("PAN Number"),uan_no:v().max(12).optional().label("UAN Number"),esi_no:v().max(17).optional().label("ESI Number"),passport_no:v().max(20).optional().label("Passport Number"),driving_license_no:v().max(20).optional().label("Driving License"),department_id:fe().integer().required().label("Department"),designation_id:fe().integer().required().label("Designation"),date_of_joining:He().required().label("Date of Joining")});function Ws({id:u,getDataById:x}){var j,l,m,g,q,$,N,P;const[p,f]=C.useState(!1),r=X({}),n=ls(),b=is(),c=ds(),h=cs(),A=C.useMemo(()=>{var H;if(!((H=x.data)!=null&&H.data))return{};const{ulb_id:_,status:w,created_at:F,updated_at:k,id:V,emp_image:T,...O}=x.data.data,W={};return Object.entries(O).forEach(([I,Q])=>{W[I]=Q===null?void 0:Q}),W},[x.data]),d=we({defaultValues:A,resolver:_e(Os)}),o=async _=>{var w,F,k,V;try{const T=await r.mutateAsync({api:`${(w=U)==null?void 0:w.updateEmployeeById}`,data:{id:u,..._}});(F=T.data)!=null&&F.success?(M.success((k=T==null?void 0:T.data)==null?void 0:k.message),n("/hrms/dashboard/employee-list")):M.error(((V=T.data)==null?void 0:V.message)||"Employee not created successfully")}catch(T){console.log(T),M.error("An error occurred while creating employee")}},s=_=>{if(f(_),_){const w=d.getValues("emp_present_address"),F=d.getValues("present_post_office"),k=d.getValues("present_pin_code"),V=d.getValues("present_police_station"),T=d.getValues("present_state"),O=d.getValues("present_district");d.setValue("emp_permanent_address",w),d.setValue("permanent_post_office",F),d.setValue("permanent_pin_code",k),d.setValue("permanent_police_station",V),d.setValue("permanent_state",T),d.setValue("permanent_district",O)}else d.setValue("emp_permanent_address",""),d.setValue("permanent_post_office",""),d.setValue("permanent_pin_code",""),d.setValue("permanent_police_station",""),d.setValue("permanent_state",""),d.setValue("permanent_district","")};C.useEffect(()=>{x.data&&d.reset(A)},[x.data,d]);const t=[{label:"Fit",value:"fit"},{label:"Unfit",value:"unfit"},{label:"Disabled",value:"disabled"}],i=[{label:"Male",value:"male"},{label:"Female",value:"female"},{label:"Other",value:"other"}],E=[{label:"Single",value:"single"},{label:"Married",value:"married"},{label:"Divorced",value:"divorced"},{label:"Widowed",value:"widowed"}],y=[{label:"A+",value:"A+"},{label:"A-",value:"A-"},{label:"B+",value:"B+"},{label:"B-",value:"B-"},{label:"O+",value:"O+"},{label:"O-",value:"O-"},{label:"AB+",value:"AB+"},{label:"AB-",value:"AB-"}],a=async()=>{os("Are you sure you want to approve this employee?","Please confirm",async()=>{var k,V,T,O,W,H,I,Q,re,ne,ie,de,ce,oe,me,xe,pe,R,L,Z;const w=await(await fetch(((V=(k=x.data)==null?void 0:k.data)==null?void 0:V.emp_image)||"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT3dSEtDvpd9KAn4SdFJVoL0K1lj4Xfc-wVWQ&s")).blob(),F=new File([w],"employee_image.jpg",{type:w.type});try{const D=new FormData;D.append("name",d.getValues("emp_name")),D.append("mobile",d.getValues("contact_no")),D.append("altMobile",d.getValues("emergency_contact_no")),D.append("email",d.getValues("email")),D.append("address",d.getValues("emp_present_address")),D.append("userType","Employee"),D.append("ulbId",((O=(T=x.data)==null?void 0:T.data)==null?void 0:O.ulb_id)||""),D.append("photo",F);const se=await r.mutateAsync({api:(W=J)==null?void 0:W.createUserAuth,data:D});if(console.log(se.data),(H=se.data)!=null&&H.status){const as=await r.mutateAsync({api:`${(I=J)==null?void 0:I.createMenuRoleAuth}`,data:{userId:(re=(Q=se.data)==null?void 0:Q.data)==null?void 0:re.id,permissionStatus:!0,menuRoleId:129}});await r.mutateAsync({api:`${(ne=J)==null?void 0:ne.createWorkFlowRoleAuth}`,data:{userId:(de=(ie=se.data)==null?void 0:ie.data)==null?void 0:de.id,permissionStatus:!0,wfRoleId:79}}),(ce=as.data)!=null&&ce.status&&(L=(await r.mutateAsync({api:`${(oe=U)==null?void 0:oe.approveEmployee}`,data:{id:String((xe=(me=x.data)==null?void 0:me.data)==null?void 0:xe.id),authorization_id:String((R=(pe=se.data)==null?void 0:pe.data)==null?void 0:R.id),approval_status:1}})).data)!=null&&L.success&&(M.success("Employee approved successfully"),n("/hrms/dashboard/employee-list"))}else M.error(((Z=se.data)==null?void 0:Z.message)||"Employee approval failed")}catch(D){console.log(D),M.error("An error occurred while approving employee")}})};return e.jsxs("div",{className:"",children:[e.jsx("div",{className:"mb-8 rounded-lg border border-blue-200 bg-gradient-to-r from-blue-50 to-indigo-50 p-6 shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-blue-600 text-white shadow-md",children:e.jsx(Y,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Comprehensive Employee Registration"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Please fill in all required fields marked with asterisk (*)"})]})]})}),e.jsxs(Se,{methods:d,onSubmit:d.handleSubmit(o),children:[e.jsxs("div",{className:"mb-6 overflow-hidden rounded-lg border border-gray-200 bg-white shadow-sm",children:[e.jsxs("div",{className:"border-b border-gray-200 bg-gray-50 px-6 py-4",children:[e.jsxs("h2",{className:"flex items-center gap-2 text-lg font-semibold text-gray-800",children:[e.jsx(Je,{className:"h-5 w-5 text-blue-600"}),"Employment Details"]}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Department, designation and job information"})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(je,{className:"h-4 w-4 text-gray-400"}),"Employee Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(B,{name:"emp_type_id",data:((l=(j=b==null?void 0:b.data)==null?void 0:j.data)==null?void 0:l.map(_=>({label:String(_.emp_type),value:String(_.id)})))||[]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(je,{className:"h-4 w-4 text-gray-400"}),"Employee Code ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(S,{name:"emp_code",placeholder:"Enter Employee Code",disabled:!0,inputValidation:["removeSpecialCharacterExceptSpace"]})]})]})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(Be,{className:"h-4 w-4 text-gray-400"}),"Department"]}),e.jsx(B,{name:"department_id",data:((g=(m=c==null?void 0:c.data)==null?void 0:m.data)==null?void 0:g.map(_=>({label:String(_.department_name),value:String(_.id)})))||[]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(Je,{className:"h-4 w-4 text-gray-400"}),"Designation"]}),e.jsx(B,{name:"designation_id",data:(($=(q=h==null?void 0:h.data)==null?void 0:q.data)==null?void 0:$.map(_=>({label:String(_.designation_name),value:String(_.id)})))||[]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(G,{className:"h-4 w-4 text-gray-400"}),"Date of Joining"]}),e.jsx(S,{name:"date_of_joining",type:"date",placeholder:"Select Joining Date"})]})]})})]}),e.jsxs("div",{className:"mb-6 overflow-hidden rounded-lg border border-gray-200 bg-white shadow-sm",children:[e.jsxs("div",{className:"border-b border-gray-200 bg-gray-50 px-6 py-4",children:[e.jsxs("h2",{className:"flex items-center gap-2 text-lg font-semibold text-gray-800",children:[e.jsx(Y,{className:"h-5 w-5 text-blue-600"}),"Personal Details"]}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Employee personal information"})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(Y,{className:"h-4 w-4 text-gray-400"}),"Full Name"]}),e.jsx(S,{name:"emp_name",placeholder:"Enter Full Name",inputValidation:["removeSpecialCharacterExceptSpace"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(ae,{className:"h-4 w-4 text-gray-400"}),"Gender"]}),e.jsx(B,{name:"gender",data:i})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(G,{className:"h-4 w-4 text-gray-400"}),"Date of Birth"]}),e.jsx(S,{name:"dob",type:"date",placeholder:"Select Date of Birth"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(ae,{className:"h-4 w-4 text-gray-400"}),"Marital Status"]}),e.jsx(B,{name:"marital_status",data:E})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(ae,{className:"h-4 w-4 text-gray-400"}),"Religion"]}),e.jsx(S,{name:"religion",placeholder:"Enter Religion",inputValidation:["removeSpecialCharacterExceptSpace"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(ze,{className:"h-4 w-4 text-gray-400"}),"Blood Group"]}),e.jsx(B,{name:"emp_blood_group",data:y})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(ze,{className:"h-4 w-4 text-gray-400"}),"Health Status"]}),e.jsx(B,{name:"emp_health_status",data:t})]})]})})]}),e.jsxs("div",{className:"mb-6 overflow-hidden rounded-lg border border-gray-200 bg-white shadow-sm",children:[e.jsxs("div",{className:"border-b border-gray-200 bg-gray-50 px-6 py-4",children:[e.jsxs("h2",{className:"flex items-center gap-2 text-lg font-semibold text-gray-800",children:[e.jsx(Ee,{className:"h-5 w-5 text-blue-600"}),"Contact Information"]}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Primary and emergency contact details"})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(Ee,{className:"h-4 w-4 text-gray-400"}),"Contact Number"]}),e.jsx(S,{name:"contact_no",placeholder:"Enter 10-digit Mobile Number",inputValidation:["number"],maxLength:10})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(Vs,{className:"h-4 w-4 text-gray-400"}),"Emergency Contact"]}),e.jsx(S,{name:"emergency_contact_no",placeholder:"Enter Emergency Contact Number",inputValidation:["number"],maxLength:10})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(es,{className:"h-4 w-4 text-gray-400"}),"Email Address"]}),e.jsx(S,{disabled:!0,name:"email",type:"email",placeholder:"example@domain.com"})]})]})})]}),e.jsxs("div",{className:"mb-6 overflow-hidden rounded-lg border border-gray-200 bg-white shadow-sm",children:[e.jsxs("div",{className:"border-b border-gray-200 bg-gray-50 px-6 py-4",children:[e.jsxs("h2",{className:"flex items-center gap-2 text-lg font-semibold text-gray-800",children:[e.jsx(Ke,{className:"h-5 w-5 text-blue-600"}),"Address Information"]}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Residential address details"})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"col-span-full space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(z,{className:"h-4 w-4 text-gray-400"}),"Present Address"]}),e.jsx(S,{name:"emp_present_address",placeholder:"Enter Present Address"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(z,{className:"h-4 w-4 text-gray-400"}),"Post Office"]}),e.jsx(S,{name:"present_post_office",placeholder:"Enter Post Office"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(je,{className:"h-4 w-4 text-gray-400"}),"PIN Code"]}),e.jsx(S,{name:"present_pin_code",placeholder:"Enter 6-digit PIN Code",inputValidation:["number"],maxLength:6})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(z,{className:"h-4 w-4 text-gray-400"}),"Police Station"]}),e.jsx(S,{name:"present_police_station",placeholder:"Enter Police Station"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(z,{className:"h-4 w-4 text-gray-400"}),"District"]}),e.jsx(S,{name:"present_district",placeholder:"Enter District"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(z,{className:"h-4 w-4 text-gray-400"}),"State"]}),e.jsx(S,{name:"present_state",placeholder:"Enter State"})]})]})}),e.jsxs("div",{className:"mb-6 flex items-center gap-3 rounded-lg border border-blue-200 bg-blue-50 p-4",children:[e.jsx("input",{type:"checkbox",id:"sameAsPresent",checked:p,onChange:_=>s(_.target.checked),className:"h-5 w-5 cursor-pointer rounded border-gray-300 text-blue-600 focus:ring-2 focus:ring-blue-500"}),e.jsxs("label",{htmlFor:"sameAsPresent",className:"flex cursor-pointer items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(Ke,{className:"h-4 w-4 text-blue-600"}),"Permanent address is same as present address"]})]}),e.jsx("div",{children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"col-span-full space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(z,{className:"h-4 w-4 text-gray-400"}),"Permanent Address"]}),e.jsx(S,{name:"emp_permanent_address",placeholder:"Enter Permanent Address",disabled:p})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(z,{className:"h-4 w-4 text-gray-400"}),"Post Office"]}),e.jsx(S,{name:"permanent_post_office",placeholder:"Enter Post Office",disabled:p})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(je,{className:"h-4 w-4 text-gray-400"}),"PIN Code"]}),e.jsx(S,{name:"permanent_pin_code",placeholder:"Enter 6-digit PIN Code",inputValidation:["number"],maxLength:6,disabled:p})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(z,{className:"h-4 w-4 text-gray-400"}),"Police Station"]}),e.jsx(S,{name:"permanent_police_station",placeholder:"Enter Police Station",disabled:p})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(z,{className:"h-4 w-4 text-gray-400"}),"District"]}),e.jsx(S,{name:"permanent_district",placeholder:"Enter District",disabled:p})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(z,{className:"h-4 w-4 text-gray-400"}),"State"]}),e.jsx(S,{name:"permanent_state",placeholder:"Enter State",disabled:p})]})]})})]})]}),e.jsxs("div",{className:"mb-6 overflow-hidden rounded-lg border border-gray-200 bg-white shadow-sm",children:[e.jsxs("div",{className:"border-b border-gray-200 bg-gray-50 px-6 py-4",children:[e.jsxs("h2",{className:"flex items-center gap-2 text-lg font-semibold text-gray-800",children:[e.jsx(ee,{className:"h-5 w-5 text-blue-600"}),"Government IDs & Documents"]}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Official identification documents"})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(ee,{className:"h-4 w-4 text-gray-400"}),"Aadhaar Number"]}),e.jsx(S,{name:"aadhaar_no",placeholder:"Enter 12-digit Aadhaar",inputValidation:["aadhaar"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(ee,{className:"h-4 w-4 text-gray-400"}),"PAN Number"]}),e.jsx(S,{name:"pan_no",placeholder:"Enter PAN Number",inputValidation:["pan"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(ee,{className:"h-4 w-4 text-gray-400"}),"UAN Number"]}),e.jsx(S,{name:"uan_no",placeholder:"Enter UAN Number",inputValidation:["UAN"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(ee,{className:"h-4 w-4 text-gray-400"}),"ESI Number"]}),e.jsx(S,{name:"esi_no",placeholder:"Enter ESI Number"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(ee,{className:"h-4 w-4 text-gray-400"}),"Passport Number"]}),e.jsx(S,{name:"passport_no",placeholder:"Enter Passport Number",inputValidation:["Passport"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(ee,{className:"h-4 w-4 text-gray-400"}),"Driving License"]}),e.jsx(S,{name:"driving_license_no",placeholder:"Enter Driving License Number",inputValidation:["drivingLicence"]})]})]})})]}),e.jsx("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-6 shadow-sm",children:e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"text-red-500",children:"*"})," Indicates required fields"]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(be,{isLoading:d.formState.isSubmitting,type:"submit",className:"flex h-11 items-center gap-2 rounded-lg bg-blue-600 px-8 font-semibold text-white shadow-md transition-all hover:bg-blue-700 hover:shadow-lg disabled:opacity-50",children:e.jsxs(e.Fragment,{children:[e.jsx(Y,{className:"h-4 w-4"}),"Update Employee"]})}),((P=(N=x.data)==null?void 0:N.data)==null?void 0:P.approval_status)==0&&e.jsx(be,{onClick:a,type:"button",className:"flex h-11 items-center gap-2 rounded-lg bg-green-600 px-8 font-semibold text-white shadow-md transition-all hover:bg-green-700 hover:shadow-lg disabled:opacity-50",children:e.jsxs(e.Fragment,{children:[e.jsx(Us,{className:"h-4 w-4"}),"Approve"]})})]})]})})]}),e.jsx("div",{className:"mt-6 rounded-lg border border-blue-200 bg-blue-50 p-4",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Note:"})," All information provided will be stored securely and used only for official purposes. Please ensure accuracy of the details before submission."]})})]})}const Hs=ve().shape({doc_name:v().required("Document Name is required"),doc_type_id:v().required("Document Type is required"),doc_path:js().required("Document is required").test("fileRequired","Document is required",u=>u instanceof File||typeof u=="string"&&u!==""),description:v().required("Description is required")});function Ds({title:u,id:x,edit:p,refetch:f,getDataById:r}){var a,j,l,m,g,q,$;const{validateFile:n,reset:b}=_s({maxFileSizeMB:5,strictMode:!0,autoValidate:!1}),c=X({}),h=Ms({}),A=C.useRef(null),d=ms(),{data:o}=le({api:`${(a=U)==null?void 0:a.updateEmployeeById}/${x}`,key:"getDocumentById",options:{enabled:p}}),s=we({defaultValues:{doc_type_id:((j=o==null?void 0:o.data)==null?void 0:j.doc_type_id)||"",doc_name:((l=o==null?void 0:o.data)==null?void 0:l.doc_name)||"",doc_path:((m=o==null?void 0:o.data)==null?void 0:m.doc_path)||"",description:((g=o==null?void 0:o.data)==null?void 0:g.description)||""},resolver:_e(Hs)}),{id:t}=ye(),i=async N=>{var _;const P=(_=N.target.files)==null?void 0:_[0];if(P&&(P==null?void 0:P.type)==="application/pdf"){const w=await n(P);w.isValid?(M.success(w.message),b(),s.setValue("doc_path",P)):(M.error(w.message),N.target.value="",s.resetField("doc_path"))}else P&&s.setValue("doc_path",P)},E=async N=>{var P,_,w,F;try{const k=new FormData;if(k.append("emp_id",String(t)),k.append("doc_type_id",N.doc_type_id),k.append("doc_name",N.doc_name),k.append("description",N.description),k.append("file",N==null?void 0:N.doc_path),p&&N)console.log("Editing document with data:",N);else{const V=await c.mutateAsync({api:U.uploadEmployeeDocument,data:k});(P=V.data)!=null&&P.success?(M.success((_=V==null?void 0:V.data)==null?void 0:_.message),(w=A.current)==null||w.click()):M.error(((F=V.data)==null?void 0:F.message)||"Document not attached successfully"),s.reset({doc_name:"",description:"",doc_path:"",doc_type_id:""})}f()}catch(k){console.log("Submit Error:",k),M.error("An error occurred while processing your request")}};C.useEffect(()=>{var N,P,_,w;p&&o?s.reset({doc_type_id:(N=o==null?void 0:o.data)==null?void 0:N.doc_type_id,doc_name:(P=o==null?void 0:o.data)==null?void 0:P.doc_name,doc_path:(_=o==null?void 0:o.data)==null?void 0:_.doc_path,description:((w=o==null?void 0:o.data)==null?void 0:w.description)??""}):s.reset({doc_type_id:"",doc_name:"",doc_path:"",description:""})},[p,o]),C.useEffect(()=>{var N,P,_,w;(s==null?void 0:s.watch("doc_name"))==="Aadhaar Card"?s.setValue("description",((P=(N=r==null?void 0:r.data)==null?void 0:N.data)==null?void 0:P.aadhaar_no)||""):(s==null?void 0:s.watch("doc_name"))==="Pan Card"?s.setValue("description",((w=(_=r==null?void 0:r.data)==null?void 0:_.data)==null?void 0:w.pan_no)||""):s.setValue("description","")},[s==null?void 0:s.watch("doc_name")]);const y=s.formState.isSubmitting||h.isPending;return e.jsxs(Me,{children:[e.jsx($e,{asChild:!0,children:e.jsxs(K,{type:"button",className:"w-full bg-blue-600 hover:bg-blue-700 sm:w-auto",children:[e.jsx(qe,{className:"mr-2 h-4 w-4"}),"Add New Document"]})}),e.jsx(Ve,{className:"sm:max-w-[425px]",children:e.jsxs(Se,{methods:s,onSubmit:s.handleSubmit(E),children:[e.jsxs(Te,{children:[e.jsx(Re,{children:u}),e.jsx(Le,{})]}),e.jsxs("div",{className:"mt-5 grid grid-cols-1 gap-x-2 gap-y-4",children:[e.jsx("div",{children:e.jsx(Fe,{label:"Select Document",name:"doc_type_id",selectedText:"doc_name",data:(($=(q=d==null?void 0:d.data)==null?void 0:q.data)==null?void 0:$.map(N=>({label:String(N.doc_name),value:String(N.id)})))||[]})}),e.jsx("div",{children:e.jsx(qs,{label:"Upload Document",name:"doc_path",accept:".pdf,.doc,.docx,.png,.jpg,.jpeg",onChange:i,placeholder:"Upload your document"})}),e.jsx("div",{children:e.jsx(S,{label:`${(s==null?void 0:s.watch("doc_name"))||"Document"} No (Optional)`,name:"description",placeholder:`Enter ${(s==null?void 0:s.watch("doc_name"))||"Document"} No`,inputValidation:["removeDoubleSpace","removeSpecialCharacterExceptSpace"]})}),e.jsx(We,{})]}),e.jsxs(Ue,{className:"mt-5 flex justify-between",children:[e.jsx(Oe,{asChild:!0,children:e.jsx(K,{variant:"outline",ref:A,children:"Cancel"})}),e.jsx(be,{type:"submit",isLoading:y,children:"Save changes"})]})]})})]})}function zs({id:u,getDataById:x}){var t,i,E,y;const[p,f]=C.useState(""),[r,n]=C.useState(!1),{id:b}=ye(),c=le({api:`${U.getEmployeeDocuments}?emp_id=${b}`,key:"getEmployeeDocumentsId",value:[],options:{enabled:!0}}),h=X({}),A=async a=>{Ie("Are you sure?","Please confirm",async()=>{var j,l,m;try{const g=await h.mutateAsync({api:`${U.deleteEmployeeDocument}`,data:{id:Pe(a.toString())}});(j=g==null?void 0:g.data)!=null&&j.success?(M.success(((l=g==null?void 0:g.data)==null?void 0:l.message)||"Deleted successfully"),c.refetch()):M.error(((m=g==null?void 0:g.data)==null?void 0:m.message)||"Failed to delete")}catch(g){M.error("Error deleting item"),console.error("Delete Error:",g)}})},d=a=>{var j;return((j=a.split(".").pop())==null?void 0:j.toLowerCase())||""},o=a=>{const j=d(a);return["jpg","jpeg","png","gif","webp","svg","bmp"].includes(j)},s=a=>d(a)==="pdf";return e.jsx("main",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100/50",children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900",children:"Employee Documents"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage and view all attached documents"})]}),e.jsx(Ds,{title:r?"Edit Document":"Attach Document",id:u,edit:r,setEdit:n,refetch:c.refetch,getDataById:x})]}),c.isLoading?e.jsx("div",{className:"flex h-64 items-center justify-center",children:e.jsx(ss,{})}):e.jsx(e.Fragment,{children:((i=(t=c==null?void 0:c.data)==null?void 0:t.data)==null?void 0:i.length)===0?e.jsx(ge,{className:"border-2 border-dashed border-gray-300 bg-white",children:e.jsxs(Ne,{className:"flex flex-col items-center justify-center py-16",children:[e.jsx("div",{className:"rounded-full bg-gray-100 p-6",children:e.jsx(ue,{className:"h-16 w-16 text-gray-400"})}),e.jsx("h3",{className:"mt-6 text-xl font-semibold text-gray-900",children:"No documents found"}),e.jsx("p",{className:"mt-2 text-center text-gray-600",children:p?"Try adjusting your search criteria":"Upload your first document to get started"})]})}):e.jsx("div",{className:"space-y-4",children:(y=(E=c==null?void 0:c.data)==null?void 0:E.data)==null?void 0:y.map(a=>e.jsx(ge,{className:"group overflow-hidden border border-gray-200 bg-white transition-all duration-300 hover:shadow-xl",children:e.jsxs("div",{className:"flex flex-col md:flex-row",children:[e.jsxs("div",{className:"relative h-32 w-32 flex-shrink-0 overflow-hidden rounded-lg bg-gradient-to-br from-blue-50 to-indigo-50",children:[o(a==null?void 0:a.doc_path)?e.jsx("img",{src:a.doc_path,alt:(a==null?void 0:a.doc_name)||"Document",className:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-105",onError:j=>{var l,m;j.currentTarget.style.display="none",(m=(l=j.currentTarget.parentElement)==null?void 0:l.querySelector(".fallback-icon"))==null||m.classList.remove("hidden")}}):s(a==null?void 0:a.doc_path)?e.jsx("div",{className:"flex h-full items-center justify-center",children:e.jsx("div",{className:"rounded-lg bg-red-100 p-4",children:e.jsx(Ss,{className:"h-12 w-12 text-red-600"})})}):e.jsx("div",{className:"flex h-full items-center justify-center",children:e.jsx("div",{className:"rounded-lg bg-blue-100 p-4",children:e.jsx(ue,{className:"h-12 w-12 text-blue-600"})})}),e.jsx("div",{className:"fallback-icon flex hidden h-full items-center justify-center",children:e.jsx("div",{className:"rounded-lg bg-gray-100 p-4",children:e.jsx(ue,{className:"h-12 w-12 text-gray-400"})})}),e.jsx("div",{className:"absolute bottom-1 left-1",children:e.jsx("span",{className:"rounded bg-white/95 px-2 py-0.5 text-xs font-bold uppercase text-gray-700 shadow backdrop-blur-sm",children:d(a==null?void 0:a.doc_path)||"file"})}),e.jsx("div",{className:"absolute inset-0 bg-black/70 opacity-0 transition-opacity duration-300 group-hover:opacity-100",children:e.jsxs("div",{className:"flex h-full items-center justify-center gap-2",children:[e.jsx("a",{href:a.doc_path,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 rounded bg-white px-2 py-1 text-xs text-blue-600 shadow transition-transform hover:scale-105",children:e.jsx(Ls,{className:"h-3 w-3"})}),e.jsx("a",{href:a.doc_path,download:!0,className:"flex items-center gap-1 rounded bg-white px-2 py-1 text-xs text-green-600 shadow transition-transform hover:scale-105",children:e.jsx(As,{className:"h-3 w-3"})})]})})]}),e.jsx("div",{className:"flex flex-1 items-center gap-4 p-4",children:e.jsx("div",{className:"min-w-0 flex-1",children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h3",{className:"truncate text-lg font-semibold text-gray-900",children:(a==null?void 0:a.doc_name)||"Document"}),e.jsx("p",{className:"mt-1 line-clamp-1 text-sm text-gray-600",children:(a==null?void 0:a.description)||"No description available"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsx(G,{className:"h-4 w-4"}),e.jsx("span",{className:"whitespace-nowrap",children:ke(a==null?void 0:a.created_at).format("DD MMM YYYY")})]}),e.jsxs("a",{href:a.doc_path,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white transition-all hover:bg-blue-700",children:[e.jsx(Cs,{className:"h-4 w-4"}),"Open"]}),e.jsx(K,{size:"sm",variant:"ghost",className:"h-9 w-9 rounded-lg p-0 text-red-500 transition-all hover:bg-red-50 hover:text-red-700",onClick:()=>A(a==null?void 0:a.id),children:e.jsx(Ze,{className:"h-4 w-4"})})]})]})})})]})},a==null?void 0:a.id))})})]})})}const Ys=ve().shape({family_member_name:v().required("Family member name is required"),relationship:v().required("Relationship is required"),dob:v().required("Date of birth is required"),address:v().required("Address is required"),is_dependent:De().default(!1),isNominee:De().default(!1),nominee_percentage:fe().nullable().when("isNominee",{is:!0,then:u=>u.required("Nominee percentage is required when marked as nominee").min(0,"Percentage must be at least 0").max(100,"Percentage cannot exceed 100"),otherwise:u=>u.notRequired()})}),Gs=[{label:"Spouse",value:"Spouse"},{label:"Son",value:"Son"},{label:"Daughter",value:"Daughter"},{label:"Father",value:"Father"},{label:"Mother",value:"Mother"},{label:"Brother",value:"Brother"},{label:"Sister",value:"Sister"},{label:"Other",value:"Other"}];function Js({title:u="Add Family Member",id:x,edit:p,refetch:f,getDataById:r}){var t;const n=X({}),b=C.useRef(null),{id:c}=ye(),{data:h}=le({api:`${(t=U)==null?void 0:t.getFamilyMemberById}/${x}`,key:"getFamilyMemberById",options:{enabled:p&&!!x}}),A=we({defaultValues:{family_member_name:"",relationship:"",dob:"",address:"",is_dependent:!1,isNominee:!1,nominee_percentage:null},resolver:_e(Ys)}),d=A.watch("isNominee"),o=async i=>{var E,y,a,j,l,m,g,q;try{const $={emp_id:c,family_member_name:i.family_member_name,relationship:i.relationship,dob:i.dob,address:i.address,is_dependent:i.is_dependent||!1,isNominee:i.isNominee||!1,nominee_percentage:i.isNominee?i.nominee_percentage:null};if(p&&x){const N=await n.mutateAsync({api:`${U.updateFamilyMemberById}/${x}`,data:$});(E=N.data)!=null&&E.success?(M.success(((y=N==null?void 0:N.data)==null?void 0:y.message)||"Family member updated successfully"),(a=b.current)==null||a.click()):M.error(((j=N.data)==null?void 0:j.message)||"Failed to update family member")}else{const N=await n.mutateAsync({api:U.createFamily,data:$});(l=N.data)!=null&&l.success?(M.success(((m=N==null?void 0:N.data)==null?void 0:m.message)||"Family member added successfully"),(g=b.current)==null||g.click()):M.error(((q=N.data)==null?void 0:q.message)||"Failed to add family member")}A.reset(),f==null||f()}catch($){console.error("Submit Error:",$),M.error("An error occurred while processing your request")}};C.useEffect(()=>{var i,E,y,a,j,l,m;p&&h?A.reset({family_member_name:((i=h==null?void 0:h.data)==null?void 0:i.family_member_name)||"",relationship:((E=h==null?void 0:h.data)==null?void 0:E.relationship)||"",dob:((y=h==null?void 0:h.data)==null?void 0:y.dob)||"",address:((a=h==null?void 0:h.data)==null?void 0:a.address)||"",is_dependent:((j=h==null?void 0:h.data)==null?void 0:j.is_dependent)||!1,isNominee:((l=h==null?void 0:h.data)==null?void 0:l.isNominee)||!1,nominee_percentage:((m=h==null?void 0:h.data)==null?void 0:m.nominee_percentage)||null}):A.reset({family_member_name:"",relationship:"",dob:"",address:"",is_dependent:!1,isNominee:!1,nominee_percentage:null})},[p,h]);const s=A.formState.isSubmitting||n.isPending;return e.jsxs(Me,{children:[e.jsx($e,{asChild:!0,children:e.jsxs(K,{type:"button",className:"w-full bg-blue-600 hover:bg-blue-700 sm:w-auto",children:[e.jsx(qe,{className:"mr-2 h-4 w-4"}),"Add Family Member"]})}),e.jsx(Ve,{className:"sm:max-w-[500px]",children:e.jsxs(Se,{methods:A,onSubmit:A.handleSubmit(o),children:[e.jsxs(Te,{children:[e.jsx(Re,{children:u}),e.jsx(Le,{children:p?"Update family member information":"Add a new family member"})]}),e.jsxs("div",{className:"mt-5 grid grid-cols-1 gap-x-2 gap-y-4",children:[e.jsx("div",{children:e.jsx(S,{label:"Family Member Name",name:"family_member_name",placeholder:"Enter family member name",inputValidation:["removeDoubleSpace","removeSpecialCharacterExceptSpace"]})}),e.jsx("div",{children:e.jsx(Fe,{label:"Relationship",name:"relationship",selectedText:"relationship",data:Gs})}),e.jsx("div",{children:e.jsx(S,{label:"Date of Birth",name:"dob",type:"date",placeholder:"Select date of birth"})}),e.jsx("div",{children:e.jsx(S,{label:"Address",name:"address",placeholder:"Enter address",inputValidation:["removeDoubleSpace"]})}),e.jsx(We,{}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(Ye,{name:"is_dependent",label:"Mark as Dependent"}),e.jsx(Ye,{name:"isNominee",label:"Mark as Nominee"}),d&&e.jsx("div",{className:"ml-6",children:e.jsx(S,{label:"Nominee Percentage",name:"nominee_percentage",placeholder:"Enter percentage (0-100)",inputValidation:["number"]})})]})]}),e.jsxs(Ue,{className:"mt-5 flex justify-between",children:[e.jsx(Oe,{asChild:!0,children:e.jsx(K,{variant:"outline",ref:b,children:"Cancel"})}),e.jsx(be,{type:"submit",isLoading:s,children:p?"Update":"Save"})]})]})})]})}function Ks({id:u,getDataById:x}){var h,A,d,o;C.useState("");const[p,f]=C.useState(!1),r=le({api:`${U.getAllFamilyDetail}?emp_id=${u}`,key:"getEmployeeFamilyDetailsId",value:[u],options:{enabled:!0}}),n=X({}),b=async s=>{Ie("Are you sure?","Please confirm",async()=>{var t,i,E;try{const y=await n.mutateAsync({api:`${U.deleteFamilyMember}`,data:{id:Pe(s.toString())}});(t=y==null?void 0:y.data)!=null&&t.success?(M.success(((i=y==null?void 0:y.data)==null?void 0:i.message)||"Deleted successfully"),r.refetch()):M.error(((E=y==null?void 0:y.data)==null?void 0:E.message)||"Failed to delete")}catch(y){M.error("Error deleting family member"),console.error("Delete Error:",y)}})},c=s=>({Spouse:"bg-purple-100 text-purple-700",Father:"bg-blue-100 text-blue-700",Mother:"bg-pink-100 text-pink-700",Son:"bg-green-100 text-green-700",Daughter:"bg-yellow-100 text-yellow-700",Other:"bg-gray-100 text-gray-700"})[s]||"bg-gray-100 text-gray-700";return e.jsx("main",{className:"min-h-screen bg-gray-50/50",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight text-gray-900",children:"Employee Family Members"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage family member details and nominees"})]}),e.jsx(Js,{title:p?"Edit Family Member":"Add Family Member",id:u,edit:p,setEdit:f,refetch:r.refetch,getDataById:x})]}),e.jsx("div",{className:"grid grid-cols-1 gap-6",children:r.isLoading?e.jsx(ge,{children:e.jsx(Ne,{className:"flex h-32 items-center justify-center",children:e.jsx(ss,{})})}):e.jsxs(e.Fragment,{children:[(A=(h=r==null?void 0:r.data)==null?void 0:h.data)==null?void 0:A.map(s=>e.jsxs(ge,{className:"border border-gray-200 transition-all duration-200 hover:shadow-lg",children:[e.jsx(Ts,{className:"pb-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ae,{className:"h-6 w-6 text-blue-500"}),e.jsxs("div",{children:[e.jsx(Rs,{className:"text-lg font-semibold text-gray-900",children:s==null?void 0:s.family_member_name}),e.jsx("div",{className:"mt-2 flex items-center gap-2",children:e.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-medium ${c(s==null?void 0:s.relationship)}`,children:s==null?void 0:s.relationship})})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(K,{size:"sm",variant:"ghost",className:"flex h-7 w-7 items-center p-0 text-red-500 hover:bg-red-50 hover:text-red-700",onClick:()=>b(s==null?void 0:s.id),children:e.jsx(Ze,{className:"h-3.5 w-3.5"})})})]})}),e.jsxs(Ne,{className:"space-y-4 pt-0",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"rounded-lg border bg-gray-50 p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[e.jsx(G,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:"Date of Birth:"})]}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:ke(s==null?void 0:s.dob).format("DD-MM-YYYY")})]}),e.jsxs("div",{className:"rounded-lg border bg-gray-50 p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[e.jsx(z,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:"Address:"})]}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:s==null?void 0:s.address})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 rounded-lg border bg-white px-3 py-2",children:[s!=null&&s.is_dependent?e.jsx(te,{className:"h-4 w-4 text-green-500"}):e.jsx(he,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Dependent"})]}),e.jsx("div",{className:"flex items-center gap-2 rounded-lg border bg-white px-3 py-2",children:s!=null&&s.is_nominee?e.jsxs(e.Fragment,{children:[e.jsx(te,{className:"h-4 w-4 text-green-500"}),e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Nominee (",s==null?void 0:s.nominee_percentage,"%)"]})]}):e.jsxs(e.Fragment,{children:[e.jsx(he,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Not a Nominee"})]})})]}),e.jsx("div",{className:"border-t pt-3",children:e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[e.jsx(G,{className:"h-3 w-3"}),e.jsxs("span",{children:["Added on"," ",ke(s==null?void 0:s.created_at).format("DD-MM-YYYY")]})]})})]})]},s==null?void 0:s.id)),((o=(d=r==null?void 0:r.data)==null?void 0:d.data)==null?void 0:o.length)===0&&e.jsx(ge,{className:"py-12 text-center",children:e.jsxs(Ne,{children:[e.jsx(ae,{className:"mx-auto mb-4 h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mb-2 text-lg font-medium text-gray-900",children:"No family members found"}),e.jsx("p",{className:"mb-4 text-gray-600",children:"Add family member details to get started"}),e.jsx(K,{className:"bg-blue-600 hover:bg-blue-700",children:"Add First Family Member"})]})})]})})]})})}const Xs=ve().shape({name:v().required("Name is required"),mobile:v().required("Mobile is required"),altMobile:v().required("Alternate Mobile is required"),email:v().email("Invalid email").required("Email is required"),address:v().required("Address is required"),userType:v().required("User Type is required")});function Qe({title:u="Add New User",id:x,edit:p,refetch:f,getDataById:r,userData:n}){var y,a,j,l,m,g,q;const b=X({}),c=C.useRef(null),h=xs();rs();const A=((j=(a=(y=r==null?void 0:r.data)==null?void 0:y.data)==null?void 0:a.email)==null?void 0:j.split("@")[0])||"",d=((l=localStorage.getItem("ulbName"))==null?void 0:l.split(" ")[0])||"",o=C.useMemo(()=>{var $,N,P,_,w,F,k,V,T,O,W,H;return p?{name:(n==null?void 0:n.name)||"",mobile:(n==null?void 0:n.mobile)||"",altMobile:(n==null?void 0:n.alternateMobile)||"",email:(n==null?void 0:n.email)||"",address:(n==null?void 0:n.address)||"",userType:(n==null?void 0:n.user_type)||""}:{name:((N=($=r==null?void 0:r.data)==null?void 0:$.data)==null?void 0:N.emp_name)||"",mobile:((_=(P=r==null?void 0:r.data)==null?void 0:P.data)==null?void 0:_.contact_no)||"",altMobile:((F=(w=r==null?void 0:r.data)==null?void 0:w.data)==null?void 0:F.emergency_contact_no)||((V=(k=r==null?void 0:r.data)==null?void 0:k.data)==null?void 0:V.contact_no)||"",email:"",address:((O=(T=r==null?void 0:r.data)==null?void 0:T.data)==null?void 0:O.emp_present_address)||((H=(W=r==null?void 0:r.data)==null?void 0:W.data)==null?void 0:H.emp_permanent_address)||"",userType:""}},[r]),s=we({defaultValues:o,resolver:_e(Xs)}),t=((m=s.watch("userType"))==null?void 0:m.replace(/\s+/g,""))||"";C.useEffect(()=>{s.reset(o)},[o,s]),C.useEffect(()=>{s!=null&&s.watch("userType")&&!p&&s.setValue("email",`${A}@${t.toLocaleLowerCase()}.${d.toLocaleLowerCase()}`)},[s,A,t,d]);const i=async $=>{var w,F,k,V,T,O,W,H,I,Q,re,ne,ie,de,ce,oe,me,xe,pe;const P=await(await fetch(((F=(w=r.data)==null?void 0:w.data)==null?void 0:F.emp_image)||"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT3dSEtDvpd9KAn4SdFJVoL0K1lj4Xfc-wVWQ&s")).blob(),_=new File([P],"employee_image.jpg",{type:P.type});try{const R=new FormData;if(R.append("name",$.name),R.append("mobile",$.mobile),R.append("altMobile",$.altMobile),R.append("email",$.email),R.append("address",$.address),R.append("userType",$.userType),R.append("ulbId",((V=(k=r.data)==null?void 0:k.data)==null?void 0:V.ulb_id)||""),R.append("photo",_),R.append("id",parseInt(n==null?void 0:n.id)||""),p){const L=await b.mutateAsync({api:`${J.updateUser}`,data:R});(T=L.data)!=null&&T.status?(M.success(((O=L==null?void 0:L.data)==null?void 0:O.message)||"User updated successfully"),(W=c.current)==null||W.click()):M.error(((H=L.data)==null?void 0:H.message)||"Failed to update user")}else{const L=await b.mutateAsync({api:J.createUserAuth,data:R});if((I=L.data)!=null&&I.status){const Z=await b.mutateAsync({api:(Q=U)==null?void 0:Q.createModuleAccess,data:{emp_id:String((ne=(re=r==null?void 0:r.data)==null?void 0:re.data)==null?void 0:ne.id),module_access_id:String((de=(ie=L==null?void 0:L.data)==null?void 0:ie.data)==null?void 0:de.id),module_user_type:s.getValues("userType")}});(ce=Z.data)!=null&&ce.success?(M.success(((oe=Z==null?void 0:Z.data)==null?void 0:oe.message)||"User added successfully"),(me=c.current)==null||me.click()):M.error(((xe=Z.data)==null?void 0:xe.message)||"Failed to add user details")}else M.error(((pe=L.data)==null?void 0:pe.message)||"Failed to add user")}s.reset(),f==null||f()}catch(R){console.error("Submit Error:",R)}},E=s.formState.isSubmitting||b.isPending;return e.jsxs(Me,{children:[e.jsx($e,{asChild:!0,children:e.jsxs(K,{type:"button",className:"w-full bg-blue-600 hover:bg-blue-700 sm:w-auto",children:[e.jsx(qe,{className:"mr-2 h-4 w-4"}),u]})}),e.jsx(Ve,{className:"sm:max-w-[500px]",children:e.jsxs(Se,{methods:s,onSubmit:s.handleSubmit(i),children:[e.jsxs(Te,{children:[e.jsx(Re,{children:u}),e.jsx(Le,{children:p?"Update user information":"Add a new user to the system"})]}),e.jsxs("div",{className:"mt-5 grid grid-cols-1 gap-x-2 gap-y-4",children:[e.jsx("div",{children:e.jsx(Fe,{label:"User Type",name:"userType",selectedText:"Select user type",data:((q=(g=h==null?void 0:h.data)==null?void 0:g.data)==null?void 0:q.map($=>({label:String($),value:String($)})))||[]})}),e.jsx("div",{children:e.jsx(S,{label:"Name",name:"name",placeholder:"Enter full name",inputValidation:["removeDoubleSpace","removeSpecialCharacterExceptSpace"]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx(S,{label:"Mobile",name:"mobile",placeholder:"Enter mobile number",inputValidation:["number"]}),e.jsx(S,{label:"Alternate Mobile",name:"altMobile",placeholder:"Enter alternate mobile",inputValidation:["number"]})]}),e.jsx("div",{children:e.jsx(S,{label:"Email",disabled:p,name:"email",type:"email",placeholder:"Enter email address"})}),e.jsx("div",{children:e.jsx(S,{label:"Address",name:"address",placeholder:"Enter address",inputValidation:["removeDoubleSpace"]})}),e.jsx(We,{})]}),e.jsxs(Ue,{className:"mt-5 flex justify-between",children:[e.jsx(Oe,{asChild:!0,children:e.jsx(K,{variant:"outline",ref:c,children:"Cancel"})}),e.jsx(be,{type:"submit",isLoading:E,children:p?"Update":"Save"})]})]})})]})}function Qs({userId:u}){const x=ps(u),p=X({}),[f,r]=C.useState([]),[n,b]=C.useState({}),[c,h]=C.useState("");console.log("permittedRoleAuthData",x),C.useEffect(()=>{var i;x!=null&&x.data&&r(((i=x.data)==null?void 0:i.data)||[])},[x]);const A=async(i,E)=>{var y,a;b(j=>({...j,[i]:!0}));try{const j=await p.mutateAsync({api:`${(y=J)==null?void 0:y.createWorkFlowRoleAuth}`,data:{userId:parseInt(u),wfRoleId:i,permissionStatus:!E}});j&&((a=j.data)!=null&&a.status)&&(x.refetch(),r(l=>l.map(m=>m.id===i?{...m,permission_status:!E}:m))),M.success("Permission updated successfully")}catch(j){console.error("Error updating permission:",j)}finally{b(j=>({...j,[i]:!1}))}},d=f.filter(i=>i.role_name.toLowerCase().includes(c.toLowerCase())),o=f.filter(i=>i.permission_status).length,s=f.length,t=f.some(i=>i.permission_status);return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:e.jsxs("div",{children:[e.jsx("div",{className:"mb-6 rounded-lg bg-white shadow-sm",children:e.jsxs("div",{children:[e.jsx("div",{className:"mb-4 flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-800",children:"Workflow Role Permissions"}),e.jsxs("p",{className:"text-sm text-slate-500",children:[o," of ",s," roles enabled"]})]})}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search roles...",value:c,onChange:i=>h(i.target.value),className:"w-full rounded-lg border border-slate-300 px-4 py-2 pl-10 focus:border-transparent focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("svg",{className:"absolute left-3 top-2.5 h-5 w-5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]})}),e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4",children:d.map(i=>e.jsx("div",{className:`rounded-lg border-2 bg-white p-4 shadow-sm transition-all duration-200 hover:shadow-md ${i.permission_status?"border-blue-500 bg-blue-50/30":"border-slate-200"}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsxs("span",{className:"rounded bg-slate-100 px-2 py-1 text-xs font-semibold text-slate-500",children:["ID: ",i.id]}),i.permission_status&&e.jsx("span",{className:"rounded bg-blue-100 px-2 py-1 text-xs font-semibold text-blue-600",children:"Active"})]}),e.jsx("h3",{className:"text-sm font-semibold leading-tight text-slate-800",children:i.role_name})]}),e.jsxs("label",{className:"relative ml-3 inline-flex cursor-pointer items-center",children:[e.jsx("input",{type:"checkbox",checked:i.permission_status,onChange:()=>A(i.id,i.permission_status),disabled:n[i.id]||!i.permission_status&&t,className:"peer sr-only"}),e.jsx("div",{className:`peer h-6 w-11 rounded-full bg-slate-300 transition-all peer-checked:bg-blue-600 peer-focus:ring-4 peer-focus:ring-blue-300 ${n[i.id]||!i.permission_status&&t?"cursor-not-allowed opacity-50":""}`,children:e.jsx("div",{className:`absolute left-0.5 top-0.5 h-5 w-5 rounded-full bg-white shadow transition-transform ${i.permission_status?"translate-x-5":"translate-x-0"} ${n[i.id]?"animate-pulse":""}`,children:n[i.id]&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"h-3 w-3 animate-spin rounded-full border-2 border-blue-600 border-t-transparent"})})})})]})]})},i.id))}),d.length===0&&e.jsx("div",{className:"rounded-lg bg-white p-12 text-center shadow-sm",children:e.jsxs("div",{className:"text-lg text-slate-400",children:['No roles found matching "',c,'"']})})]})})}function Zs({userId:u}){const x=hs(u),p=X({}),[f,r]=C.useState([]),[n,b]=C.useState({}),[c,h]=C.useState("");C.useEffect(()=>{var t;x!=null&&x.data&&r(((t=x.data)==null?void 0:t.data)||[])},[x]);const A=async(t,i)=>{var E,y;b(a=>({...a,[t]:!0}));try{const a=await p.mutateAsync({api:`${(E=J)==null?void 0:E.createMenuRoleAuth}`,data:{userId:parseInt(u),menuRoleId:t,permissionStatus:!i}});a&&((y=a.data)!=null&&y.status)&&(x.refetch(),r(j=>j.map(l=>l.id===t?{...l,permission_status:!i}:l))),M.success("Permission updated successfully")}catch(a){console.error("Error updating permission:",a)}finally{b(a=>({...a,[t]:!1}))}},d=f.filter(t=>t.menu_role_name.toLowerCase().includes(c.toLowerCase())),o=f.filter(t=>t.permission_status).length,s=f.length;return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:e.jsxs("div",{children:[e.jsx("div",{className:"mb-6 rounded-lg bg-white shadow-sm",children:e.jsxs("div",{children:[e.jsx("div",{className:"mb-4 flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-800",children:"Permitted Roles"}),e.jsxs("p",{className:"text-sm text-slate-500",children:[o," of ",s," roles enabled"]})]})}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search roles...",value:c,onChange:t=>h(t.target.value),className:"w-full rounded-lg border border-slate-300 px-4 py-2 pl-10 focus:border-transparent focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("svg",{className:"absolute left-3 top-2.5 h-5 w-5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]})}),e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4",children:d.map(t=>e.jsx("div",{className:`rounded-lg border-2 bg-white p-4 shadow-sm transition-all duration-200 hover:shadow-md ${t.permission_status?"border-blue-500 bg-blue-50/30":"border-slate-200"}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsxs("span",{className:"rounded bg-slate-100 px-2 py-1 text-xs font-semibold text-slate-500",children:["ID: ",t.id]}),t.permission_status&&e.jsx("span",{className:"rounded bg-blue-100 px-2 py-1 text-xs font-semibold text-blue-600",children:"Active"})]}),e.jsx("h3",{className:"text-sm font-semibold leading-tight text-slate-800",children:t.menu_role_name})]}),e.jsxs("label",{className:"relative ml-3 inline-flex cursor-pointer items-center",children:[e.jsx("input",{type:"checkbox",checked:t.permission_status,onChange:()=>A(t.id,t.permission_status),disabled:n[t.id],className:"peer sr-only"}),e.jsx("div",{className:`peer h-6 w-11 rounded-full bg-slate-300 transition-all peer-checked:bg-blue-600 peer-focus:ring-4 peer-focus:ring-blue-300 ${n[t.id]?"cursor-not-allowed opacity-50":""}`,children:e.jsx("div",{className:`absolute left-0.5 top-0.5 h-5 w-5 rounded-full bg-white shadow transition-transform ${t.permission_status?"translate-x-5":"translate-x-0"} ${n[t.id]?"animate-pulse":""}`,children:n[t.id]&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"h-3 w-3 animate-spin rounded-full border-2 border-blue-600 border-t-transparent"})})})})]})]})},t.id))}),d.length===0&&e.jsx("div",{className:"rounded-lg bg-white p-12 text-center shadow-sm",children:e.jsxs("div",{className:"text-lg text-slate-400",children:['No roles found matching "',c,'"']})})]})})}function Is({userId:u}){const x=us(u),p=X({}),[f,r]=C.useState([]),[n,b]=C.useState({}),[c,h]=C.useState("");C.useEffect(()=>{var t;x!=null&&x.data&&r(((t=x.data)==null?void 0:t.data)||[])},[x]);const A=async(t,i)=>{var E,y;b(a=>({...a,[t]:!0}));try{const a=await p.mutateAsync({api:`${(E=J)==null?void 0:E.createWardAuth}`,data:{userId:parseInt(u),wardList:[{permissionStatus:!i,wardId:t}]}});a&&((y=a.data)!=null&&y.status)&&(x.refetch(),r(j=>j.map(l=>l.id===t?{...l,permission_status:!i}:l))),M.success("Permission updated successfully")}catch(a){console.error("Error updating permission:",a)}finally{b(a=>({...a,[t]:!1}))}},d=f.filter(t=>t.ward_name.toString().includes(c)),o=f.filter(t=>t.permission_status).length,s=f.length;return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:e.jsxs("div",{children:[e.jsx("div",{className:"mb-6 rounded-lg bg-white shadow-sm",children:e.jsxs("div",{children:[e.jsx("div",{className:"mb-4 flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-800",children:"Permitted Wards"}),e.jsxs("p",{className:"text-sm text-slate-500",children:[o," of ",s," wards enabled"]})]})}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search wards...",value:c,onChange:t=>h(t.target.value),className:"w-full rounded-lg border border-slate-300 px-4 py-2 pl-10 focus:border-transparent focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("svg",{className:"absolute left-3 top-2.5 h-5 w-5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]})}),e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4",children:d.map(t=>e.jsx("div",{className:`rounded-lg border-2 bg-white p-4 shadow-sm transition-all duration-200 hover:shadow-md ${t.permission_status?"border-blue-500 bg-blue-50/30":"border-slate-200"}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsxs("span",{className:"rounded bg-slate-100 px-2 py-1 text-xs font-semibold text-slate-500",children:["ID: ",t.id]}),t.permission_status&&e.jsx("span",{className:"rounded bg-blue-100 px-2 py-1 text-xs font-semibold text-blue-600",children:"Active"})]}),e.jsxs("h3",{className:"text-sm font-semibold leading-tight text-slate-800",children:["Ward ",t.ward_name]})]}),e.jsxs("label",{className:"relative ml-3 inline-flex cursor-pointer items-center",children:[e.jsx("input",{type:"checkbox",checked:t.permission_status,onChange:()=>A(t.id,t.permission_status),disabled:n[t.id],className:"peer sr-only"}),e.jsx("div",{className:`peer h-6 w-11 rounded-full bg-slate-300 transition-all peer-checked:bg-blue-600 peer-focus:ring-4 peer-focus:ring-blue-300 ${n[t.id]?"cursor-not-allowed opacity-50":""}`,children:e.jsx("div",{className:`absolute left-0.5 top-0.5 h-5 w-5 rounded-full bg-white shadow transition-transform ${t.permission_status?"translate-x-5":"translate-x-0"} ${n[t.id]?"animate-pulse":""}`,children:n[t.id]&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"h-3 w-3 animate-spin rounded-full border-2 border-blue-600 border-t-transparent"})})})})]})]})},t.id))}),d.length===0&&e.jsx("div",{className:"rounded-lg bg-white p-12 text-center shadow-sm",children:e.jsxs("div",{className:"text-lg text-slate-400",children:['No wards found matching "',c,'"']})})]})})}function Bs({getDataById:u}){var A,d,o,s,t,i,E,y;const[x,p]=C.useState(""),[f,r]=C.useState("workflow"),n=gs(Pe(String((d=(A=u==null?void 0:u.data)==null?void 0:A.data)==null?void 0:d.id))),b=$s({api:(o=J)==null?void 0:o.getUsrByIdAuth,config:{id:x},value:[x],options:{enabled:!!x}}),c=(i=(t=(s=b==null?void 0:b.data)==null?void 0:s.data)==null?void 0:t.data)==null?void 0:i[0],h=[{id:"workflow",label:"Workflow Permission",icon:Es},{id:"permittedRoles",label:" Permitted Roles",icon:ks},{id:"ward",label:"Ward Role",icon:Be}];return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:e.jsxs("div",{children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between py-2",children:[e.jsx("div",{children:e.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Module Access Management"})}),e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx("div",{children:e.jsxs(fs,{onValueChange:a=>p(a),value:x,children:[e.jsx(Ns,{className:"h-9 w-full border-2 border-slate-300 bg-slate-50 hover:border-blue-400 focus:ring-2 focus:ring-blue-500 md:w-52",children:e.jsx(ys,{placeholder:"Select Module Access"})}),e.jsx(vs,{children:(y=(E=n==null?void 0:n.data)==null?void 0:E.data)==null?void 0:y.map(a=>e.jsx(ws,{value:a.module_access_id,className:"cursor-pointer hover:bg-blue-50",children:a.module_user_type},a.module_access_id))})]})}),e.jsx(Qe,{title:"Add User",id:"1",edit:!1,refetch:b==null?void 0:b.refetch,getDataById:u,userData:c})]})]}),c?e.jsxs("div",{children:[e.jsx("div",{className:"mb-6 overflow-hidden rounded-xl border border-slate-200 bg-white shadow-lg",children:e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"mb-4 flex justify-end",children:e.jsx(Qe,{title:"Edit User",id:"1",edit:!0,refetch:b==null?void 0:b.refetch,getDataById:u,userData:c})}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"group flex items-center space-x-3 rounded-lg border border-slate-200 bg-slate-50 p-4 transition-colors hover:bg-slate-100",children:[e.jsx("div",{className:"flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-lg bg-blue-100",children:e.jsx(Y,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-xs font-semibold text-slate-500",children:"User ID"}),e.jsx("p",{className:"truncate text-sm font-medium text-slate-800",children:c.id})]})]}),e.jsxs("div",{className:"group flex items-center space-x-3 rounded-lg border border-slate-200 bg-slate-50 p-4 transition-colors hover:bg-slate-100",children:[e.jsx("div",{className:"flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-lg bg-green-100",children:e.jsx(Y,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-xs font-semibold text-slate-500",children:"Username"}),e.jsx("p",{className:"truncate text-sm font-medium text-slate-800",children:c.user_name})]})]}),e.jsxs("div",{className:"group flex items-center space-x-3 rounded-lg border border-slate-200 bg-slate-50 p-4 transition-colors hover:bg-slate-100",children:[e.jsx("div",{className:"flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-lg bg-purple-100",children:e.jsx(Y,{className:"h-5 w-5 text-purple-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-xs font-semibold text-slate-500",children:"Full Name"}),e.jsx("p",{className:"truncate text-sm font-medium text-slate-800",children:c.name})]})]}),e.jsxs("div",{className:"group flex items-center space-x-3 rounded-lg border border-slate-200 bg-slate-50 p-4 transition-colors hover:bg-slate-100",children:[e.jsx("div",{className:"flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-lg bg-orange-100",children:e.jsx(es,{className:"h-5 w-5 text-orange-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-xs font-semibold text-slate-500",children:"Email"}),e.jsx("p",{className:"truncate text-sm font-medium text-slate-800",children:c.email})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 rounded-lg border border-slate-200 bg-slate-50 p-4",children:[e.jsx("div",{className:"flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-lg bg-cyan-100",children:e.jsx(Ee,{className:"h-5 w-5 text-cyan-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-xs font-semibold text-slate-500",children:"Mobile"}),e.jsx("p",{className:"truncate text-sm font-medium text-slate-800",children:c.mobile})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 rounded-lg border border-slate-200 bg-slate-50 p-4",children:[e.jsx("div",{className:"flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-lg bg-indigo-100",children:e.jsx(Ae,{className:"h-5 w-5 text-indigo-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-xs font-semibold text-slate-500",children:"User Type"}),e.jsx("span",{className:"inline-block rounded-full bg-indigo-100 px-3 py-1 text-xs font-medium text-indigo-700",children:c.user_type})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 rounded-lg border border-slate-200 bg-slate-50 p-4",children:[e.jsx("div",{className:"flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-lg bg-emerald-100",children:e.jsx(Ae,{className:"h-5 w-5 text-emerald-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-xs font-semibold text-slate-500",children:"Status"}),e.jsx("span",{className:`inline-block rounded-full px-3 py-1 text-xs font-medium ${c.suspended?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:c.suspended?"Suspended":"Active"})]})]}),c.photo&&c.photo!=="/"&&e.jsxs("div",{className:"flex items-center space-x-3 rounded-lg border border-slate-200 bg-slate-50 p-4",children:[e.jsx("div",{className:"flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-lg bg-pink-100",children:e.jsx(Y,{className:"h-5 w-5 text-pink-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-xs font-semibold text-slate-500",children:"Photo"}),e.jsx("img",{src:c.photo,alt:"User",className:"mt-1 h-12 w-12 rounded-lg border-2 border-slate-200 object-cover"})]})]})]})]})}),e.jsxs("div",{className:"overflow-hidden rounded-xl border border-slate-200 bg-white shadow-lg",children:[e.jsx("div",{className:"border-b border-slate-200 bg-slate-50",children:e.jsx("div",{className:"flex overflow-x-auto",children:h.map(a=>{const j=a.icon;return e.jsxs("button",{onClick:()=>r(a.id),className:`flex items-center gap-2 whitespace-nowrap px-6 py-4 text-sm font-medium transition-all ${f===a.id?"border-b-2 border-blue-600 bg-white text-blue-600":"text-slate-600 hover:bg-slate-100 hover:text-slate-900"}`,children:[e.jsx(j,{className:"h-4 w-4"}),a.label]},a.id)})})}),e.jsxs("div",{className:"p-6",children:[f==="workflow"&&e.jsx(Qs,{userId:x}),f==="permittedRoles"&&e.jsx(Zs,{userId:x}),f==="ward"&&e.jsx(Is,{userId:x})]})]})]}):e.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-12 text-center shadow-lg",children:[e.jsx("div",{className:"mx-auto mb-4 flex h-20 w-20 items-center justify-center rounded-full bg-slate-100",children:e.jsx(Ae,{className:"h-10 w-10 text-slate-400"})}),e.jsx("h3",{className:"mb-2 text-lg font-semibold text-slate-800",children:"No Module Selected"}),e.jsx("p",{className:"text-slate-600",children:"Please select a module access type to view user details"})]})]})})}function ea({id:u,getDataById:x}){var j;const[p,f]=C.useState("calendar"),[r,n]=C.useState(""),b=le({api:`${U.getAllAttendanceByEmpId}?emp_id=${u}`,key:"getAllAttendanceByEmpId",options:{enabled:!0}}),c=((j=b==null?void 0:b.data)==null?void 0:j.data)||[],h=l=>{switch(l){case 1:return{label:"Present",color:"bg-green-50 text-green-700 border-green-200",icon:e.jsx(te,{className:"h-4 w-4"}),iconColor:"text-green-600"};case 2:return{label:"Leave",color:"bg-blue-50 text-blue-700 border-blue-200",icon:e.jsx(Ge,{className:"h-4 w-4"}),iconColor:"text-blue-600"};default:return{label:"Absent",color:"bg-red-50 text-red-700 border-red-200",icon:e.jsx(he,{className:"h-4 w-4"}),iconColor:"text-red-600"}}},A=l=>new Date(l).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"}),d=l=>l?new Date(l).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}):"--:--",o=C.useMemo(()=>{if(!r.trim())return c;const l=r.toLowerCase();return c.filter(m=>`${m.month} ${m.year}`.toLowerCase().includes(l))},[c,r]),s=o.reduce((l,m)=>(m.attendance_status===1?l.present++:m.attendance_status===2?l.leave++:l.absent++,l.totalHours+=parseInt(m.working_hours||"0"),l.totalDays++,l),{present:0,absent:0,leave:0,totalHours:0,totalDays:0}),t=o.reduce((l,m)=>{const g=`${m.month} ${m.year}`;return l[g]||(l[g]=[]),l[g].push(m),l},{}),i={};o.forEach(l=>{const m=`${l.month} ${l.year}`;i[m]||(i[m]={});const g=new Date(l.date).getDate().toString();i[m][g]=l});const E=(l,m)=>{const g=new Date(`${l} 1, ${m}`).getMonth();return new Date(parseInt(m),g+1,0).getDate()},y=(l,m)=>{const g=new Date(`${l} 1, ${m}`).getMonth();return new Date(parseInt(m),g,1).getDay()},a=C.useMemo(()=>{const l=new Set;return c.forEach(m=>{l.add(`${m.month} ${m.year}`)}),Array.from(l).sort((m,g)=>{const[q,$]=m.split(" "),[N,P]=g.split(" "),_=new Date(`${q} 1, ${$}`);return new Date(`${N} 1, ${P}`).getTime()-_.getTime()})},[c]);return e.jsxs("div",{className:"mx-auto min-h-screen bg-gray-50",children:[e.jsxs("div",{className:"mb-6 rounded-lg bg-white shadow-sm",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between ",children:[e.jsx("div",{children:e.jsx("h1",{className:"mb-2 text-2xl font-bold text-gray-800",children:"Attendance Records"})}),e.jsxs("div",{className:"relative w-64",children:[e.jsx(Ps,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by month (e.g., December 2024)",value:r,onChange:l=>n(l.target.value),className:"w-full rounded-lg border border-gray-300 py-2 pl-10 pr-4 text-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500"}),r&&e.jsx("button",{onClick:()=>n(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e.jsx(he,{className:"h-4 w-4"})})]})]}),r&&a.filter(l=>l.toLowerCase().includes(r.toLowerCase())).length>0&&e.jsx("div",{className:"mt-2 rounded-lg border border-gray-200 bg-white shadow-sm",children:a.filter(l=>l.toLowerCase().includes(r.toLowerCase())).slice(0,5).map(l=>e.jsx("button",{onClick:()=>n(l),className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50",children:l},l))})]}),e.jsxs("div",{className:"mb-6 grid grid-cols-1 gap-4 md:grid-cols-5",children:[e.jsx("div",{className:"rounded-lg border-l-4 border-green-500 bg-white p-5 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-sm text-gray-600",children:"Present"}),e.jsx("p",{className:"text-3xl font-bold text-gray-800",children:s.present})]}),e.jsx(te,{className:"h-10 w-10 text-green-500"})]})}),e.jsx("div",{className:"rounded-lg border-l-4 border-red-500 bg-white p-5 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-sm text-gray-600",children:"Absent"}),e.jsx("p",{className:"text-3xl font-bold text-gray-800",children:s.absent})]}),e.jsx(he,{className:"h-10 w-10 text-red-500"})]})}),e.jsx("div",{className:"rounded-lg border-l-4 border-blue-500 bg-white p-5 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-sm text-gray-600",children:"Leave"}),e.jsx("p",{className:"text-3xl font-bold text-gray-800",children:s.leave})]}),e.jsx(Ge,{className:"h-10 w-10 text-blue-500"})]})}),e.jsx("div",{className:"rounded-lg border-l-4 border-purple-500 bg-white p-5 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-sm text-gray-600",children:"Total Hours"}),e.jsx("p",{className:"text-3xl font-bold text-gray-800",children:s.totalHours})]}),e.jsx(Ce,{className:"h-10 w-10 text-purple-500"})]})}),e.jsx("div",{className:"rounded-lg border-l-4 border-indigo-500 bg-white p-5 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-sm text-gray-600",children:"Total Days"}),e.jsx("p",{className:"text-3xl font-bold text-gray-800",children:s.totalDays})]}),e.jsx(G,{className:"h-10 w-10 text-indigo-500"})]})})]}),e.jsx("div",{className:"mb-6 rounded-lg bg-white shadow-sm",children:e.jsxs("div",{className:"flex border-b border-gray-200",children:[e.jsxs("button",{onClick:()=>f("calendar"),className:`flex items-center gap-2 px-6 py-3 text-sm font-medium transition-colors ${p==="calendar"?"border-b-2 border-indigo-500 text-indigo-600":"text-gray-600 hover:text-gray-800"}`,children:[e.jsx(Fs,{className:"h-4 w-4"}),"Calendar View"]}),e.jsxs("button",{onClick:()=>f("list"),className:`flex items-center gap-2 px-6 py-3 text-sm font-medium transition-colors ${p==="list"?"border-b-2 border-indigo-500 text-indigo-600":"text-gray-600 hover:text-gray-800"}`,children:[e.jsx(ns,{className:"h-4 w-4"}),"List View"]})]})}),p==="calendar"&&e.jsx(e.Fragment,{children:Object.entries(i).map(([l,m])=>{const[g,q]=l.split(" "),$=E(g,q),N=y(g,q),P=Array.from({length:$},(w,F)=>F+1),_=Array.from({length:N},(w,F)=>F);return e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"mb-3 flex items-center gap-2",children:[e.jsx(G,{className:"h-5 w-5 text-gray-600"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:l})]}),e.jsx("div",{className:"overflow-hidden rounded-lg bg-white p-6 shadow-sm",children:e.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(w=>e.jsx("div",{className:"p-2 text-center text-xs font-semibold text-gray-600",children:w},w)),_.map(w=>e.jsx("div",{className:"p-2"},`empty-${w}`)),P.map(w=>{const F=m[w.toString()],k=F?h(F.attendance_status):null;return e.jsxs("div",{className:`min-h-20 rounded-lg border-2 p-2 transition-all ${F?k==null?void 0:k.color:"border-gray-200 bg-gray-50"} ${F?"hover:shadow-md":""}`,children:[e.jsx("div",{className:"mb-1 text-sm font-semibold text-gray-700",children:w}),F&&k&&e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:k.iconColor,children:k.icon}),e.jsx("span",{className:"text-xs font-medium",children:k.label})]}),F.attendance_status===1&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-xs text-gray-600",children:["In: ",d(F.emp_in_time)]}),e.jsxs("div",{className:"text-xs text-gray-600",children:["Out: ",d(F.emp_out_time)]}),e.jsxs("div",{className:"text-xs font-medium text-gray-700",children:[F.working_hours,"h"]})]})]})]},w)})]})})]},l)})}),p==="list"&&e.jsx(e.Fragment,{children:Object.entries(t).map(([l,m])=>e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"mb-3 flex items-center gap-2",children:[e.jsx(G,{className:"h-5 w-5 text-gray-600"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:l})]}),e.jsx("div",{className:"overflow-hidden rounded-lg bg-white shadow-sm",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"border-b border-gray-200 bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-600",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-600",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-600",children:"Check In"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-600",children:"Check Out"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-600",children:"Hours"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:m.map(g=>{const q=h(g.attendance_status);return e.jsxs("tr",{className:"transition-colors hover:bg-gray-50",children:[e.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:A(g.date)})}),e.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:e.jsxs("span",{className:`inline-flex items-center gap-1.5 rounded-full border px-3 py-1 text-xs font-medium ${q.color}`,children:[e.jsx("span",{className:q.iconColor,children:q.icon}),q.label]})}),e.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-900",children:[e.jsx(Ce,{className:"h-4 w-4 text-gray-400"}),d(g.emp_in_time)]})}),e.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-900",children:[e.jsx(Ce,{className:"h-4 w-4 text-gray-400"}),d(g.emp_out_time)]})}),e.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[g.working_hours||"0","h"]})})]},g.id)})})]})})})]},l))}),o.length===0&&e.jsxs("div",{className:"rounded-lg bg-white p-12 text-center shadow-sm",children:[e.jsx(G,{className:"mx-auto mb-4 h-16 w-16 text-gray-300"}),e.jsx("p",{className:"text-lg text-gray-500",children:r?"No attendance records found for the search term":"No attendance records found"}),r&&e.jsx("button",{onClick:()=>n(""),className:"mt-4 rounded-lg bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700",children:"Clear Search"})]})]})}const ua=()=>{var b,c,h,A,d;const[u,x]=C.useState("basic"),{id:p}=ye(),f={basicSalary:"45,000",hra:"18,000",da:"13,500",grossSalary:"76,500",pf:"5,400",tax:"7,650",netSalary:"63,450"},r=[{id:"basic",label:"Basic Details",icon:Y},{id:"document",label:"Attached Documents",icon:ue},{id:"family",label:"Family Details",icon:ae},{id:"salary",label:"Salary Details",icon:Xe},{id:"attendance",label:"Attendance",icon:G},{id:"moduleAccess",label:"Module Access",icon:te}],n=le({api:`${(b=U)==null?void 0:b.getEmployeeById}?id=${p}`,key:"getEmployeeByIddsadasdasdasd",value:[p],options:{enabled:!!p}});return e.jsx(bs,{title:"Employee Management",children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-gray-100",children:e.jsx("div",{className:" py-4",children:e.jsxs("div",{className:"overflow-hidden rounded-lg bg-white shadow-xl",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-4 text-white",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-white",children:e.jsx(Y,{size:32,className:"text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold",children:(h=(c=n==null?void 0:n.data)==null?void 0:c.data)==null?void 0:h.emp_name}),e.jsxs("p",{className:"text-blue-100",children:["ID: ",(d=(A=n==null?void 0:n.data)==null?void 0:A.data)==null?void 0:d.emp_code]})]})]})}),e.jsx("div",{className:"border-b border-gray-200 bg-gray-50",children:e.jsx("div",{className:"flex overflow-x-auto",children:r.map(o=>{const s=o.icon;return e.jsxs("button",{onClick:()=>x(o.id),className:`flex items-center gap-2 whitespace-nowrap px-6 py-4 font-semibold transition-all ${u===o.id?"border-b-4 border-blue-700 bg-white text-blue-700":"text-gray-600 hover:bg-gray-100 hover:text-blue-600"}`,children:[e.jsx(s,{size:20}),o.label]},o.id)})})}),e.jsxs("div",{className:"p-8",children:[u==="basic"&&e.jsx(Ws,{id:p,getDataById:n}),u==="document"&&e.jsx(zs,{id:p,getDataById:n}),u==="family"&&e.jsx(Ks,{id:p,getDataById:n}),u==="salary"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[e.jsx(Xe,{className:"text-blue-600",size:28}),e.jsx("h3",{className:"text-2xl font-semibold text-gray-800",children:"Salary Breakdown"})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"rounded-lg border-2 border-green-200 bg-green-50 p-6",children:[e.jsxs("h4",{className:"mb-4 flex items-center gap-2 text-xl font-semibold text-green-800",children:[e.jsx(te,{size:24}),"Earnings"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-green-200 py-2",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Basic Salary"}),e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:f.basicSalary})]}),e.jsxs("div",{className:"flex items-center justify-between border-b border-green-200 py-2",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"House Rent Allowance (HRA)"}),e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:f.hra})]}),e.jsxs("div",{className:"flex items-center justify-between border-b border-green-200 py-2",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Dearness Allowance (DA)"}),e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:f.da})]}),e.jsxs("div",{className:"mt-4 flex items-center justify-between rounded-lg bg-green-100 px-3 py-3",children:[e.jsx("span",{className:"font-bold text-green-900",children:"Gross Salary"}),e.jsx("span",{className:"text-xl font-bold text-green-900",children:f.grossSalary})]})]})]}),e.jsxs("div",{className:"rounded-lg border-2 border-red-200 bg-red-50 p-6",children:[e.jsxs("h4",{className:"mb-4 flex items-center gap-2 text-xl font-semibold text-red-800",children:[e.jsx(ue,{size:24}),"Deductions"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-red-200 py-2",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Provident Fund (PF)"}),e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:f.pf})]}),e.jsxs("div",{className:"flex items-center justify-between border-b border-red-200 py-2",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Income Tax (TDS)"}),e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:f.tax})]}),e.jsx("div",{className:"py-3"}),e.jsxs("div",{className:"mt-4 flex items-center justify-between rounded-lg bg-blue-100 px-3 py-3",children:[e.jsx("span",{className:"font-bold text-blue-900",children:"Net Salary"}),e.jsx("span",{className:"text-xl font-bold text-blue-900",children:f.netSalary})]})]})]})]}),e.jsx("div",{className:"mt-6 rounded-lg border border-yellow-300 bg-yellow-50 p-4",children:e.jsxs("p",{className:"text-sm text-yellow-900",children:[e.jsx("strong",{children:"Note:"})," Salary details shown are for the current month. For historical records, please contact the Accounts Department."]})})]}),u==="attendance"&&e.jsx(ea,{id:p,getDataById:n}),u==="moduleAccess"&&e.jsx(Bs,{getDataById:n})]})]})})})})};export{ua as default};
