import{r as e,j as s,ak as a}from"./vendor-RyuIgj66.js";import{h as t}from"./moment-CBOc1lqT.js";import{h as l,e as i,B as r}from"./index-ey2GEmQz.js";import{C as o,a as d,b as n,c as m}from"./card-u7M7FP5y.js";import{T as c,a as x,b as h,c as j,d as u,e as p}from"./table-B_npepsp.js";import{u as g,b}from"./useCustomQuery-DTB6aAiD.js";import{P as v}from"./index-BHR1l08i.js";import{S as y}from"./separator-BQijJEjG.js";import{S as f}from"./index-CUStUwt1.js";import{S as N}from"./Spinner-BwGzvoRj.js";import{P as w}from"./index-DFF4_m_G.js";import{S}from"./index-hoesIKrQ.js";import{w as E,E as _,S as $}from"./icons-CxCh8mm_.js";import"./query-BH9sOW2X.js";import"./ui-B3c1eQmf.js";import"./axios-Dos3PyFQ.js";import"./zustand-C1rkr5lV.js";import"./input-DlX9dTT0.js";import"./select-8PAfYjod.js";function D(){var D,P,A,C,M,R,Y,z,T,k;g({});const[q,F]=e.useState(1),[I,L]=e.useState(10),[B,Q]=e.useState(""),[V,G]=e.useState(""),[H,J]=e.useState(""),K=b({api:`${l.getAllEmployees}?page=${q}&limit=${I}&q=${B}&department_id=${i(H)}`,key:"EmployeeResponse",value:[q,I,H],options:{enabled:!0}});return s.jsx(w,{title:"Employee Management",subTitle:"Manage and monitor employee records",children:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50",children:s.jsx("div",{className:"space-y-6",children:s.jsxs(o,{className:"border border-gray-200 bg-white shadow-lg",children:[s.jsx(d,{className:"rounded-t-lg bg-gradient-to-r from-blue-600 to-indigo-600 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Employee Registry"}),s.jsxs(n,{className:"mt-1 text-blue-100",children:["Total Records:"," ",(null==(P=null==(D=null==K?void 0:K.data)?void 0:D.pagination)?void 0:P.total)||0]})]}),s.jsx(a,{to:"/hrms/dashboard/add-employee",children:s.jsxs(r,{className:"rounded-lg bg-white px-6 py-2.5 font-medium text-blue-600 shadow-sm transition-all duration-200 hover:bg-gray-50 hover:shadow-md",children:[s.jsx(E,{className:"mr-2 h-4 w-4"}),"Add New Employee"]})})]})}),s.jsxs(m,{className:"p-6",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Search Employee"}),s.jsx(f,{setSearch:Q,search:B,refetch:null==K?void 0:K.refetch})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Filter by Department"}),s.jsx(S,{departmentId:H,setDepartmentId:J})]})]})}),s.jsx(y,{className:"my-6"}),K.isLoading?s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsx(N,{})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200",children:s.jsxs(c,{children:[s.jsx(x,{children:s.jsxs(h,{className:"bg-gray-50 hover:bg-gray-50",children:[s.jsx(j,{className:"w-16 font-semibold text-gray-700",children:"#"}),s.jsx(j,{className:"font-semibold text-gray-700",children:"Employee Code"}),s.jsx(j,{className:"font-semibold text-gray-700",children:"Department"}),s.jsx(j,{className:"font-semibold text-gray-700",children:"Employee Name"}),s.jsx(j,{className:"font-semibold text-gray-700",children:"Contact Number"}),s.jsx(j,{className:"font-semibold text-gray-700",children:"Created Date"}),s.jsx(j,{className:"font-semibold text-gray-700",children:"Approved Status"}),s.jsx(j,{className:"text-center font-semibold text-gray-700",children:"Actions"})]})}),s.jsx(u,{children:null==(C=null==(A=null==K?void 0:K.data)?void 0:A.data)?void 0:C.map((e,l)=>s.jsxs(h,{className:"transition-colors duration-150 hover:bg-blue-50/50",children:[s.jsx(p,{className:"font-medium text-gray-600",children:(q-1)*I+l+1}),s.jsx(p,{className:"font-mono text-sm font-medium text-blue-600",children:null==e?void 0:e.emp_code}),s.jsx(p,{className:"text-gray-700",children:null==e?void 0:e.department_name}),s.jsx(p,{className:"font-medium text-gray-900",children:null==e?void 0:e.emp_name}),s.jsx(p,{className:"text-gray-700",children:null==e?void 0:e.contact_no}),s.jsx(p,{className:"text-gray-700",children:t(null==e?void 0:e.created_at).format("DD-MM-YYYY")}),s.jsx(p,{children:1===(null==e?void 0:e.approval_status)?s.jsx("span",{className:"inline-flex rounded-full bg-green-100 px-3 py-1 text-sm font-semibold text-green-800",children:"Approved"}):2===(null==e?void 0:e.approval_status)?s.jsx("span",{className:"inline-flex rounded-full bg-red-100 px-3 py-1 text-sm font-semibold text-red-800",children:"Rejected"}):s.jsx("span",{className:"inline-flex rounded-full bg-yellow-100 px-3 py-1 text-sm font-semibold text-yellow-800",children:"Pending"})}),s.jsx(p,{children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(a,{to:`/hrms/dashboard/view-employee/${i(String(null==e?void 0:e.id))}`,children:s.jsxs(r,{size:"sm",variant:"outline",className:"h-9 border-blue-200 px-3 text-blue-600 transition-all duration-200 hover:border-blue-300 hover:bg-blue-50 hover:text-blue-700",children:[s.jsx(_,{className:"mr-1 h-4 w-4"}),"View"]})}),s.jsx(a,{to:`/hrms/dashboard/salary/${i(String(null==e?void 0:e.id))}`,children:s.jsxs(r,{size:"sm",variant:"outline",className:"h-9 border-indigo-200 px-3 text-indigo-600 transition-all duration-200 hover:border-indigo-300 hover:bg-indigo-50 hover:text-indigo-700",children:[s.jsx($,{className:"mr-1 h-4 w-4"}),"Salary"]})})]})})]},null==e?void 0:e.id))})]})}),s.jsxs("div",{className:"mt-6 flex items-center justify-between rounded-lg border border-gray-200 bg-gray-50 p-4",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",(q-1)*I+1," to"," ",Math.min(q*I,(null==(R=null==(M=null==K?void 0:K.data)?void 0:M.pagination)?void 0:R.total)||0)," ","of ",(null==(z=null==(Y=null==K?void 0:K.data)?void 0:Y.pagination)?void 0:z.total)||0," ","entries"]}),s.jsx(v,{page:q,limit:I,totalPages:null==(k=null==(T=null==K?void 0:K.data)?void 0:T.pagination)?void 0:k.totalPages,setPage:F,setLimit:L})]})]})]})]})})})})}export{D as default};
