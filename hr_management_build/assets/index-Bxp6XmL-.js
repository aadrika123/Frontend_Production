import{e as _,r as c,j as e,L as M,B as T,i as $,h as A,_ as i}from"./index-D36Dtl3N.js";import{C as z,a as I,b as F,c as O,S as V,d as G,h as J}from"./Spinner-DElp_XXa.js";import{S as K,T as Q,a as W,b as U,c as l,d as X,e as d,q as Z,L as D,P as L}from"./switch-D0fKM89A.js";import{u as ee,b as ae}from"./useCustomQuery-nEgcNE9W.js";import{g as se}from"./services-KQnp_8oA.js";import{a as re}from"./index-5rvWHNEh.js";import{U as ne}from"./users-BA8LSiNC.js";/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=_("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=_("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);function be(){var b,u,m,j,y,f,p,N,v,w,S,E;const R=ee({}),[n,q]=c.useState(1),[t,B]=c.useState(10),[x,H]=c.useState(""),[h,g]=c.useState(""),s=ae({api:`${A.getAllEmployees}?page=${n}&limit=${t}&q=${x}`,key:"EmployeeResponse",value:[n,t],options:{enabled:!0}}),Y=async a=>{var o,k,C,P;g(a);try{const r=await R.mutateAsync({api:`${(o=A)==null?void 0:o.toggleDDoMstr}`,data:{id:$(String(a))}});(k=r==null?void 0:r.data)!=null&&k.success?(s.refetch(),i.success((C=r==null?void 0:r.data)==null?void 0:C.message)):i.error((P=r.data)==null?void 0:P.message)}catch(r){i.error(se(r))}finally{g("")}};return e.jsx(re,{title:"Employee Management",children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 py-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-lg bg-blue-600 p-3",children:e.jsx(ne,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Employee Management System"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage and monitor employee records"})]})]}),e.jsx(M,{to:"/hr-management/dashboard/add-employee",children:e.jsxs(T,{className:"rounded-lg bg-blue-600 px-6 py-2.5 font-medium text-white shadow-sm transition-all duration-200 hover:bg-blue-700 hover:shadow-md",children:[e.jsx(le,{className:"mr-2 h-4 w-4"}),"Add New Employee"]})})]})}),e.jsxs(z,{className:"border border-gray-200 bg-white shadow-lg",children:[e.jsx(I,{className:"rounded-t-lg bg-gradient-to-r from-blue-600 to-indigo-600 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Employee Registry"}),e.jsxs(F,{className:"mt-1 text-blue-100",children:["Total Records:"," ",((u=(b=s==null?void 0:s.data)==null?void 0:b.pagination)==null?void 0:u.total)||0]})]}),e.jsx("div",{className:"rounded-lg bg-white/20 px-4 py-2 backdrop-blur-sm",children:e.jsxs("span",{className:"text-sm font-medium",children:["Page ",n," of"," ",Math.ceil((((j=(m=s==null?void 0:s.data)==null?void 0:m.pagination)==null?void 0:j.total)||0)/t)]})})]})}),e.jsxs(O,{className:"p-6",children:[e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-4",children:e.jsx(K,{setSearch:H,search:x,refetch:s==null?void 0:s.refetch})})}),e.jsx(V,{className:"my-6"}),s.isLoading?e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx(G,{})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200",children:e.jsxs(Q,{children:[e.jsx(W,{children:e.jsxs(U,{className:"bg-gray-50 hover:bg-gray-50",children:[e.jsx(l,{className:"w-16 font-semibold text-gray-700",children:"#"}),e.jsx(l,{className:"font-semibold text-gray-700",children:"Employee Code"}),e.jsx(l,{className:"font-semibold text-gray-700",children:"Employee Name"}),e.jsx(l,{className:"font-semibold text-gray-700",children:"Contact Number"}),e.jsx(l,{className:"font-semibold text-gray-700",children:"Created Date"}),e.jsx(l,{className:"text-center font-semibold text-gray-700",children:"Status"}),e.jsx(l,{className:"text-center font-semibold text-gray-700",children:"Actions"})]})}),e.jsx(X,{children:(f=(y=s==null?void 0:s.data)==null?void 0:y.data)==null?void 0:f.map((a,o)=>e.jsxs(U,{className:"transition-colors duration-150 hover:bg-blue-50/50",children:[e.jsx(d,{className:"font-medium text-gray-600",children:(n-1)*t+o+1}),e.jsx(d,{className:"font-mono text-sm font-medium text-blue-600",children:a==null?void 0:a.emp_code}),e.jsx(d,{className:"font-medium text-gray-900",children:a==null?void 0:a.emp_name}),e.jsx(d,{className:"text-gray-700",children:a==null?void 0:a.contact_no}),e.jsx(d,{className:"text-gray-700",children:J(a==null?void 0:a.created_at).format("DD-MM-YYYY")}),e.jsx(d,{children:e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs(Z,{checked:(a==null?void 0:a.status)==1,onChange:()=>Y(String(a==null?void 0:a.id)),disabled:h===String(a==null?void 0:a.id),className:`${a!=null&&a.status?"bg-green-600":"bg-gray-300"} relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50`,children:[e.jsx("span",{className:"sr-only",children:"Enable status"}),e.jsx("span",{className:`${a!=null&&a.status?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white shadow-sm transition-transform`,children:h===String(a==null?void 0:a.id)&&e.jsx(D,{className:"h-4 w-4 animate-spin text-blue-600"})})]})})}),e.jsx(d,{children:e.jsx("div",{className:"flex items-center justify-center gap-2",children:e.jsx(M,{to:`/hr-management/dashboard/view-employee/${$(String(a==null?void 0:a.id))}`,children:e.jsxs(T,{size:"sm",variant:"outline",className:"h-9 border-blue-200 px-3 text-blue-600 transition-all duration-200 hover:border-blue-300 hover:bg-blue-50 hover:text-blue-700",children:[e.jsx(te,{className:"mr-1 h-4 w-4"}),"View"]})})})})]},a==null?void 0:a.id))})]})}),e.jsxs("div",{className:"mt-6 flex items-center justify-between rounded-lg border border-gray-200 bg-gray-50 p-4",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",(n-1)*t+1," to"," ",Math.min(n*t,((N=(p=s==null?void 0:s.data)==null?void 0:p.pagination)==null?void 0:N.total)||0)," ","of ",((w=(v=s==null?void 0:s.data)==null?void 0:v.pagination)==null?void 0:w.total)||0," ","entries"]}),e.jsx(L,{page:n,limit:t,totalPages:(E=(S=s==null?void 0:s.data)==null?void 0:S.pagination)==null?void 0:E.totalPages,setPage:q,setLimit:B})]})]})]})]})]})})})}export{be as default};
