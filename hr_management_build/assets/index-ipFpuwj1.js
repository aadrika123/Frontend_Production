import{e as k,j as e,k as $,r as i,o as Wt,h as Z,_ as M,p as Ke,n as Ht,q as zt,s as qt,t as Gt,v as Kt,w as Y,x as Yt,z as Xt,y as Zt,A as Jt,D as Qt,F as es,H as ts,J as ss,K as je,B as ye,i as as}from"./index-D36Dtl3N.js";import{c as ns,a as rs}from"./index-5rvWHNEh.js";import{u as Ye,C as Xe,c as we,f as ue,b as E,g as Ae,a as Ze,o as Je,F as Qe,R as C,B as et,h as tt,e as ls}from"./switch-DHbBrxM1.js";import{I as os,u as Ee,c as is,b as _e}from"./useCustomQuery-nEgcNE9W.js";import{g as cs,d as ds,a as us,U as X,B as Re,H as se,b as ms,P as Fe,M as fs,c as xs}from"./useMasters-CWQtd8-L.js";import{C as Q}from"./calendar-CSyYXxfW.js";import{U as J}from"./users-BA8LSiNC.js";import{S as ps,C as me,c as fe,d as hs,a as gs,e as bs,b as ys,h as vs}from"./Spinner-DElp_XXa.js";import{D as Me}from"./dollar-sign-DwU5BMAV.js";/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=k("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=k("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=k("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=k("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=k("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=k("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=k("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=k("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=k("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=k("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);function Ss({name:t,label:s,isDynamic:a,isRequired:n,...r}){const{control:l,setValue:c}=Ye();return e.jsx(Xe,{name:t,control:l,render:({field:{ref:o},fieldState:{error:p}})=>e.jsxs(e.Fragment,{children:[e.jsxs("label",{className:"text-gray-700 dark:text-gray-200",htmlFor:s,children:[s," ",n&&e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx(os,{type:"file",onChange:f=>{c(t,f.target.files?f.target.files[0]:null)},ref:o,className:`mt-1 ${p?"border-red-400":null}`,...r}),p&&e.jsx("span",{className:"text-red-400 text-xs",children:p.message})]})})}const q=({children:t,name:s,label:a,selectedText:n,className:r,data:l,initialValue:c,initialValueText:o,isRequired:p,isHookForm:f=!0,...u})=>{const{control:m,setValue:g}=Ye();return e.jsx(e.Fragment,{children:f?e.jsx(Xe,{name:s??"",control:m,render:({field:{ref:x,...h},fieldState:{error:d}})=>e.jsxs(e.Fragment,{children:[e.jsxs("h1",{className:"text-gray-700 dark:text-gray-200 ",children:[a," ",p&&e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsxs("select",{...h,onChange:b=>{var y;h.onChange(b),n&&g(n,(y=l==null?void 0:l.find(v=>v.value==b.target.value))==null?void 0:y.label)},ref:x,className:$("flex h-10 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",d?"border-red-400":null,r),...u,children:[e.jsx("option",{value:"",children:"Select"}),l==null?void 0:l.map((b,y)=>e.jsx("option",{value:b.value,children:b.label},y+1))]}),d&&e.jsx("span",{className:"text-xs text-red-400",children:d==null?void 0:d.message})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("h1",{className:"text-gray-700 dark:text-gray-200 ",children:[a," ",p&&e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsxs("select",{className:$("flex h-10 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",r),...u,children:[e.jsx("option",{value:"",children:"Select"}),l==null?void 0:l.map((x,h)=>e.jsx("option",{value:x.value,children:x.label},h+1))]})]})})},Cs=we().shape({emp_type_id:ue().integer().required().label("Employee Type"),emp_code:E().max(50).required().label("Employee Code"),emp_name:E().max(100).optional().label("Employee Name"),gender:E().oneOf(["male","female","other"]).optional().label("Gender"),dob:Ae().optional().label("Date of Birth"),marital_status:E().oneOf(["single","married","divorced","widowed"]).optional().label("Marital Status"),religion:E().max(50).optional().label("Religion"),emp_blood_group:E().oneOf(["A+","A-","B+","B-","O+","O-","AB+","AB-"]).optional().label("Blood Group"),emp_health_status:E().max(50).optional().label("Health Status"),contact_no:E().max(10).optional().label("Contact Number"),emergency_contact_no:E().max(10).optional().label("Emergency Contact"),email:E().email().max(100).optional().label("Email"),emp_present_address:E().optional().label("Present Address"),present_post_office:E().max(100).optional().label("Present Post Office"),present_pin_code:E().max(6).optional().label("Present PIN Code"),present_police_station:E().max(100).optional().label("Present Police Station"),present_state:E().max(100).optional().label("Present State"),present_district:E().max(100).optional().label("Present District"),emp_permanent_address:E().optional().label("Permanent Address"),permanent_post_office:E().max(100).optional().label("Permanent Post Office"),permanent_pin_code:E().max(6).optional().label("Permanent PIN Code"),permanent_police_station:E().max(100).optional().label("Permanent Police Station"),permanent_state:E().max(100).optional().label("Permanent State"),permanent_district:E().max(100).optional().label("Permanent District"),aadhaar_no:E().max(12).optional().label("Aadhaar Number"),pan_no:E().max(10).optional().label("PAN Number"),uan_no:E().max(12).optional().label("UAN Number"),esi_no:E().max(17).optional().label("ESI Number"),passport_no:E().max(20).optional().label("Passport Number"),driving_license_no:E().max(20).optional().label("Driving License"),department_id:ue().integer().optional().label("Department"),designation_id:ue().integer().optional().label("Designation"),date_of_joining:Ae().optional().label("Date of Joining")});function Ps({id:t,getDataById:s}){var b,y,v,j,w,D;const[a,n]=i.useState(!1),r=Ee({}),l=Wt(),c=cs(),o=ds(),p=us(),f=i.useMemo(()=>{var L;if(!((L=s.data)!=null&&L.data))return{};const{ulb_id:S,status:N,created_at:_,updated_at:P,id:R,emp_image:A,...z}=s.data.data,F={};return Object.entries(z).forEach(([Ut,De])=>{F[Ut]=De===null?void 0:De}),F},[s.data]),u=Ze({defaultValues:f,resolver:Je(Cs)}),m=async S=>{var N,_,P,R;try{const A=await r.mutateAsync({api:`${(N=Z)==null?void 0:N.updateEmployeeById}`,data:{id:t,...S}});(_=A.data)!=null&&_.success?(M.success((P=A==null?void 0:A.data)==null?void 0:P.message),l("/hr-management/dashboard/employee-list")):M.error(((R=A.data)==null?void 0:R.message)||"Employee not created successfully")}catch(A){console.log(A),M.error("An error occurred while creating employee")}},g=S=>{if(n(S),S){const N=u.getValues("emp_present_address"),_=u.getValues("present_post_office"),P=u.getValues("present_pin_code"),R=u.getValues("present_police_station"),A=u.getValues("present_state"),z=u.getValues("present_district");u.setValue("emp_permanent_address",N),u.setValue("permanent_post_office",_),u.setValue("permanent_pin_code",P),u.setValue("permanent_police_station",R),u.setValue("permanent_state",A),u.setValue("permanent_district",z)}else u.setValue("emp_permanent_address",""),u.setValue("permanent_post_office",""),u.setValue("permanent_pin_code",""),u.setValue("permanent_police_station",""),u.setValue("permanent_state",""),u.setValue("permanent_district","")};i.useEffect(()=>{s.data&&u.reset(f)},[s.data,u]);const x=[{label:"Male",value:"male"},{label:"Female",value:"female"},{label:"Other",value:"other"}],h=[{label:"Single",value:"single"},{label:"Married",value:"married"},{label:"Divorced",value:"divorced"},{label:"Widowed",value:"widowed"}],d=[{label:"A+",value:"A+"},{label:"A-",value:"A-"},{label:"B+",value:"B+"},{label:"B-",value:"B-"},{label:"O+",value:"O+"},{label:"O-",value:"O-"},{label:"AB+",value:"AB+"},{label:"AB-",value:"AB-"}];return e.jsxs("div",{className:"",children:[e.jsx("div",{className:"mb-8 rounded-lg border border-blue-200 bg-gradient-to-r from-blue-50 to-indigo-50 p-6 shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-blue-600 text-white shadow-md",children:e.jsx(X,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Comprehensive Employee Registration"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Please fill in all required fields marked with asterisk (*)"})]})]})}),e.jsxs(Qe,{methods:u,onSubmit:u.handleSubmit(m),children:[e.jsxs("div",{className:"mb-6 overflow-hidden rounded-lg border border-gray-200 bg-white shadow-sm",children:[e.jsxs("div",{className:"border-b border-gray-200 bg-gray-50 px-6 py-4",children:[e.jsxs("h2",{className:"flex items-center gap-2 text-lg font-semibold text-gray-800",children:[e.jsx(Re,{className:"h-5 w-5 text-blue-600"}),"Employment Details"]}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Department, designation and job information"})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(se,{className:"h-4 w-4 text-gray-400"}),"Employee Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(q,{name:"emp_type_id",data:((y=(b=c==null?void 0:c.data)==null?void 0:b.data)==null?void 0:y.map(S=>({label:String(S.emp_type),value:String(S.id)})))||[]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(se,{className:"h-4 w-4 text-gray-400"}),"Employee Code ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(C,{name:"emp_code",placeholder:"Enter Employee Code",disabled:!0,inputValidation:["removeSpecialCharacterExceptSpace"]})]})]})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(ms,{className:"h-4 w-4 text-gray-400"}),"Department"]}),e.jsx(q,{name:"department_id",data:((j=(v=o==null?void 0:o.data)==null?void 0:v.data)==null?void 0:j.map(S=>({label:String(S.department_name),value:String(S.id)})))||[]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(Re,{className:"h-4 w-4 text-gray-400"}),"Designation"]}),e.jsx(q,{name:"designation_id",data:((D=(w=p==null?void 0:p.data)==null?void 0:w.data)==null?void 0:D.map(S=>({label:String(S.designation_name),value:String(S.id)})))||[]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(Q,{className:"h-4 w-4 text-gray-400"}),"Date of Joining"]}),e.jsx(C,{name:"date_of_joining",type:"date",placeholder:"Select Joining Date"})]})]})})]}),e.jsxs("div",{className:"mb-6 overflow-hidden rounded-lg border border-gray-200 bg-white shadow-sm",children:[e.jsxs("div",{className:"border-b border-gray-200 bg-gray-50 px-6 py-4",children:[e.jsxs("h2",{className:"flex items-center gap-2 text-lg font-semibold text-gray-800",children:[e.jsx(X,{className:"h-5 w-5 text-blue-600"}),"Personal Details"]}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Employee personal information"})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(X,{className:"h-4 w-4 text-gray-400"}),"Full Name"]}),e.jsx(C,{name:"emp_name",placeholder:"Enter Full Name",inputValidation:["removeSpecialCharacterExceptSpace"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(J,{className:"h-4 w-4 text-gray-400"}),"Gender"]}),e.jsx(q,{name:"gender",data:x})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(Q,{className:"h-4 w-4 text-gray-400"}),"Date of Birth"]}),e.jsx(C,{name:"dob",type:"date",placeholder:"Select Date of Birth"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(J,{className:"h-4 w-4 text-gray-400"}),"Marital Status"]}),e.jsx(q,{name:"marital_status",data:h})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(J,{className:"h-4 w-4 text-gray-400"}),"Religion"]}),e.jsx(C,{name:"religion",placeholder:"Enter Religion",inputValidation:["removeSpecialCharacterExceptSpace"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(Oe,{className:"h-4 w-4 text-gray-400"}),"Blood Group"]}),e.jsx(q,{name:"emp_blood_group",data:d})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(Oe,{className:"h-4 w-4 text-gray-400"}),"Health Status"]}),e.jsx(C,{name:"emp_health_status",placeholder:"Enter Health Status"})]})]})})]}),e.jsxs("div",{className:"mb-6 overflow-hidden rounded-lg border border-gray-200 bg-white shadow-sm",children:[e.jsxs("div",{className:"border-b border-gray-200 bg-gray-50 px-6 py-4",children:[e.jsxs("h2",{className:"flex items-center gap-2 text-lg font-semibold text-gray-800",children:[e.jsx(Fe,{className:"h-5 w-5 text-blue-600"}),"Contact Information"]}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Primary and emergency contact details"})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(Fe,{className:"h-4 w-4 text-gray-400"}),"Contact Number"]}),e.jsx(C,{name:"contact_no",placeholder:"Enter 10-digit Mobile Number",inputValidation:["number"],maxLength:10})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(Ns,{className:"h-4 w-4 text-gray-400"}),"Emergency Contact"]}),e.jsx(C,{name:"emergency_contact_no",placeholder:"Enter Emergency Contact Number",inputValidation:["number"],maxLength:10})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(fs,{className:"h-4 w-4 text-gray-400"}),"Email Address"]}),e.jsx(C,{name:"email",type:"email",placeholder:"example@domain.com"})]})]})})]}),e.jsxs("div",{className:"mb-6 overflow-hidden rounded-lg border border-gray-200 bg-white shadow-sm",children:[e.jsxs("div",{className:"border-b border-gray-200 bg-gray-50 px-6 py-4",children:[e.jsxs("h2",{className:"flex items-center gap-2 text-lg font-semibold text-gray-800",children:[e.jsx(Te,{className:"h-5 w-5 text-blue-600"}),"Address Information"]}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Residential address details"})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"col-span-full space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(T,{className:"h-4 w-4 text-gray-400"}),"Present Address"]}),e.jsx(C,{name:"emp_present_address",placeholder:"Enter Present Address"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(T,{className:"h-4 w-4 text-gray-400"}),"Post Office"]}),e.jsx(C,{name:"present_post_office",placeholder:"Enter Post Office"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(se,{className:"h-4 w-4 text-gray-400"}),"PIN Code"]}),e.jsx(C,{name:"present_pin_code",placeholder:"Enter 6-digit PIN Code",inputValidation:["number"],maxLength:6})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(T,{className:"h-4 w-4 text-gray-400"}),"Police Station"]}),e.jsx(C,{name:"present_police_station",placeholder:"Enter Police Station"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(T,{className:"h-4 w-4 text-gray-400"}),"District"]}),e.jsx(C,{name:"present_district",placeholder:"Enter District"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(T,{className:"h-4 w-4 text-gray-400"}),"State"]}),e.jsx(C,{name:"present_state",placeholder:"Enter State"})]})]})}),e.jsxs("div",{className:"mb-6 flex items-center gap-3 rounded-lg border border-blue-200 bg-blue-50 p-4",children:[e.jsx("input",{type:"checkbox",id:"sameAsPresent",checked:a,onChange:S=>g(S.target.checked),className:"h-5 w-5 cursor-pointer rounded border-gray-300 text-blue-600 focus:ring-2 focus:ring-blue-500"}),e.jsxs("label",{htmlFor:"sameAsPresent",className:"flex cursor-pointer items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(Te,{className:"h-4 w-4 text-blue-600"}),"Permanent address is same as present address"]})]}),e.jsx("div",{children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"col-span-full space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(T,{className:"h-4 w-4 text-gray-400"}),"Permanent Address"]}),e.jsx(C,{name:"emp_permanent_address",placeholder:"Enter Permanent Address",disabled:a})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(T,{className:"h-4 w-4 text-gray-400"}),"Post Office"]}),e.jsx(C,{name:"permanent_post_office",placeholder:"Enter Post Office",disabled:a})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(se,{className:"h-4 w-4 text-gray-400"}),"PIN Code"]}),e.jsx(C,{name:"permanent_pin_code",placeholder:"Enter 6-digit PIN Code",inputValidation:["number"],maxLength:6,disabled:a})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(T,{className:"h-4 w-4 text-gray-400"}),"Police Station"]}),e.jsx(C,{name:"permanent_police_station",placeholder:"Enter Police Station",disabled:a})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(T,{className:"h-4 w-4 text-gray-400"}),"District"]}),e.jsx(C,{name:"permanent_district",placeholder:"Enter District",disabled:a})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(T,{className:"h-4 w-4 text-gray-400"}),"State"]}),e.jsx(C,{name:"permanent_state",placeholder:"Enter State",disabled:a})]})]})})]})]}),e.jsxs("div",{className:"mb-6 overflow-hidden rounded-lg border border-gray-200 bg-white shadow-sm",children:[e.jsxs("div",{className:"border-b border-gray-200 bg-gray-50 px-6 py-4",children:[e.jsxs("h2",{className:"flex items-center gap-2 text-lg font-semibold text-gray-800",children:[e.jsx(U,{className:"h-5 w-5 text-blue-600"}),"Government IDs & Documents"]}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Official identification documents"})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(U,{className:"h-4 w-4 text-gray-400"}),"Aadhaar Number"]}),e.jsx(C,{name:"aadhaar_no",placeholder:"Enter 12-digit Aadhaar",inputValidation:["aadhaar"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(U,{className:"h-4 w-4 text-gray-400"}),"PAN Number"]}),e.jsx(C,{name:"pan_no",placeholder:"Enter PAN Number",inputValidation:["pan"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(U,{className:"h-4 w-4 text-gray-400"}),"UAN Number"]}),e.jsx(C,{name:"uan_no",placeholder:"Enter UAN Number",inputValidation:["UAN"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(U,{className:"h-4 w-4 text-gray-400"}),"ESI Number"]}),e.jsx(C,{name:"esi_no",placeholder:"Enter ESI Number"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(U,{className:"h-4 w-4 text-gray-400"}),"Passport Number"]}),e.jsx(C,{name:"passport_no",placeholder:"Enter Passport Number",inputValidation:["Passport"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(U,{className:"h-4 w-4 text-gray-400"}),"Driving License"]}),e.jsx(C,{name:"driving_license_no",placeholder:"Enter Driving License Number",inputValidation:["drivingLicence"]})]})]})})]}),e.jsx("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-6 shadow-sm",children:e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"text-red-500",children:"*"})," Indicates required fields"]}),e.jsx("div",{className:"flex gap-3",children:e.jsx(et,{isLoading:u.formState.isSubmitting,type:"submit",className:"flex h-11 items-center gap-2 rounded-lg bg-blue-600 px-8 font-semibold text-white shadow-md transition-all hover:bg-blue-700 hover:shadow-lg disabled:opacity-50",children:e.jsxs(e.Fragment,{children:[e.jsx(X,{className:"h-4 w-4"}),"Update Employee"]})})})]})})]}),e.jsx("div",{className:"mt-6 rounded-lg border border-blue-200 bg-blue-50 p-4",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Note:"})," All information provided will be stored securely and used only for official purposes. Please ensure accuracy of the details before submission."]})})]})}const Ds=(t,s,a)=>{ns({customUI:({onClose:n})=>e.jsxs("div",{className:"rounded-md bg-white p-4 shadow-lg",children:[e.jsx("h1",{className:"text-lg font-bold",children:t}),e.jsx("p",{className:"text-sm",children:s}),e.jsxs("div",{className:"mt-4 flex justify-end",children:[e.jsx("button",{className:"rounded-md bg-red-500 px-4 py-1 text-white",onClick:()=>{a(),n()},children:"Yes"}),e.jsx("button",{className:"ml-2 rounded-md bg-gray-500 px-4 py-1 text-white",onClick:n,children:"No"})]})]})})};function V(t,s,{checkForDefaultPrevented:a=!0}={}){return function(r){if(t==null||t(r),a===!1||!r.defaultPrevented)return s==null?void 0:s(r)}}function ke(t,s){if(typeof t=="function")return t(s);t!=null&&(t.current=s)}function st(...t){return s=>{let a=!1;const n=t.map(r=>{const l=ke(r,s);return!a&&typeof l=="function"&&(a=!0),l});if(a)return()=>{for(let r=0;r<n.length;r++){const l=n[r];typeof l=="function"?l():ke(t[r],null)}}}}function H(...t){return i.useCallback(st(...t),t)}function As(t,s){const a=i.createContext(s),n=l=>{const{children:c,...o}=l,p=i.useMemo(()=>o,Object.values(o));return e.jsx(a.Provider,{value:p,children:c})};n.displayName=t+"Provider";function r(l){const c=i.useContext(a);if(c)return c;if(s!==void 0)return s;throw new Error(`\`${l}\` must be used within \`${t}\``)}return[n,r]}function Rs(t,s=[]){let a=[];function n(l,c){const o=i.createContext(c),p=a.length;a=[...a,c];const f=m=>{var y;const{scope:g,children:x,...h}=m,d=((y=g==null?void 0:g[t])==null?void 0:y[p])||o,b=i.useMemo(()=>h,Object.values(h));return e.jsx(d.Provider,{value:b,children:x})};f.displayName=l+"Provider";function u(m,g){var d;const x=((d=g==null?void 0:g[t])==null?void 0:d[p])||o,h=i.useContext(x);if(h)return h;if(c!==void 0)return c;throw new Error(`\`${m}\` must be used within \`${l}\``)}return[f,u]}const r=()=>{const l=a.map(c=>i.createContext(c));return function(o){const p=(o==null?void 0:o[t])||l;return i.useMemo(()=>({[`__scope${t}`]:{...o,[t]:p}}),[o,p])}};return r.scopeName=t,[n,Fs(r,...s)]}function Fs(...t){const s=t[0];if(t.length===1)return s;const a=()=>{const n=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(l){const c=n.reduce((o,{useScope:p,scopeName:f})=>{const m=p(l)[`__scope${f}`];return{...o,...m}},{});return i.useMemo(()=>({[`__scope${s.scopeName}`]:c}),[c])}};return a.scopeName=s.scopeName,a}var ee=globalThis!=null&&globalThis.document?i.useLayoutEffect:()=>{},Ms=Ke[" useId ".trim().toString()]||(()=>{}),Os=0;function xe(t){const[s,a]=i.useState(Ms());return ee(()=>{t||a(n=>n??String(Os++))},[t]),t||(s?`radix-${s}`:"")}var Ts=Ke[" useInsertionEffect ".trim().toString()]||ee;function ks({prop:t,defaultProp:s,onChange:a=()=>{},caller:n}){const[r,l,c]=Is({defaultProp:s,onChange:a}),o=t!==void 0,p=o?t:r;{const u=i.useRef(t!==void 0);i.useEffect(()=>{const m=u.current;m!==o&&console.warn(`${n} is changing from ${m?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=o},[o,n])}const f=i.useCallback(u=>{var m;if(o){const g=Ls(u)?u(t):u;g!==t&&((m=c.current)==null||m.call(c,g))}else l(u)},[o,t,l,c]);return[p,f]}function Is({defaultProp:t,onChange:s}){const[a,n]=i.useState(t),r=i.useRef(a),l=i.useRef(s);return Ts(()=>{l.current=s},[s]),i.useEffect(()=>{var c;r.current!==a&&((c=l.current)==null||c.call(l,a),r.current=a)},[a,r]),[a,n,l]}function Ls(t){return typeof t=="function"}function at(t){const s=Bs(t),a=i.forwardRef((n,r)=>{const{children:l,...c}=n,o=i.Children.toArray(l),p=o.find($s);if(p){const f=p.props.children,u=o.map(m=>m===p?i.Children.count(f)>1?i.Children.only(null):i.isValidElement(f)?f.props.children:null:m);return e.jsx(s,{...c,ref:r,children:i.isValidElement(f)?i.cloneElement(f,void 0,u):null})}return e.jsx(s,{...c,ref:r,children:l})});return a.displayName=`${t}.Slot`,a}function Bs(t){const s=i.forwardRef((a,n)=>{const{children:r,...l}=a;if(i.isValidElement(r)){const c=Ws(r),o=Us(l,r.props);return r.type!==i.Fragment&&(o.ref=n?st(n,c):c),i.cloneElement(r,o)}return i.Children.count(r)>1?i.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var Vs=Symbol("radix.slottable");function $s(t){return i.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Vs}function Us(t,s){const a={...s};for(const n in s){const r=t[n],l=s[n];/^on[A-Z]/.test(n)?r&&l?a[n]=(...o)=>{const p=l(...o);return r(...o),p}:r&&(a[n]=r):n==="style"?a[n]={...r,...l}:n==="className"&&(a[n]=[r,l].filter(Boolean).join(" "))}return{...t,...a}}function Ws(t){var n,r;let s=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}var Hs=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],I=Hs.reduce((t,s)=>{const a=at(`Primitive.${s}`),n=i.forwardRef((r,l)=>{const{asChild:c,...o}=r,p=c?a:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(p,{...o,ref:l})});return n.displayName=`Primitive.${s}`,{...t,[s]:n}},{});function zs(t,s){t&&Ht.flushSync(()=>t.dispatchEvent(s))}function te(t){const s=i.useRef(t);return i.useEffect(()=>{s.current=t}),i.useMemo(()=>(...a)=>{var n;return(n=s.current)==null?void 0:n.call(s,...a)},[])}function qs(t,s=globalThis==null?void 0:globalThis.document){const a=te(t);i.useEffect(()=>{const n=r=>{r.key==="Escape"&&a(r)};return s.addEventListener("keydown",n,{capture:!0}),()=>s.removeEventListener("keydown",n,{capture:!0})},[a,s])}var Gs="DismissableLayer",ve="dismissableLayer.update",Ks="dismissableLayer.pointerDownOutside",Ys="dismissableLayer.focusOutside",Ie,nt=i.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),rt=i.forwardRef((t,s)=>{const{disableOutsidePointerEvents:a=!1,onEscapeKeyDown:n,onPointerDownOutside:r,onFocusOutside:l,onInteractOutside:c,onDismiss:o,...p}=t,f=i.useContext(nt),[u,m]=i.useState(null),g=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=i.useState({}),h=H(s,N=>m(N)),d=Array.from(f.layers),[b]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),y=d.indexOf(b),v=u?d.indexOf(u):-1,j=f.layersWithOutsidePointerEventsDisabled.size>0,w=v>=y,D=Js(N=>{const _=N.target,P=[...f.branches].some(R=>R.contains(_));!w||P||(r==null||r(N),c==null||c(N),N.defaultPrevented||o==null||o())},g),S=Qs(N=>{const _=N.target;[...f.branches].some(R=>R.contains(_))||(l==null||l(N),c==null||c(N),N.defaultPrevented||o==null||o())},g);return qs(N=>{v===f.layers.size-1&&(n==null||n(N),!N.defaultPrevented&&o&&(N.preventDefault(),o()))},g),i.useEffect(()=>{if(u)return a&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(Ie=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(u)),f.layers.add(u),Le(),()=>{a&&f.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=Ie)}},[u,g,a,f]),i.useEffect(()=>()=>{u&&(f.layers.delete(u),f.layersWithOutsidePointerEventsDisabled.delete(u),Le())},[u,f]),i.useEffect(()=>{const N=()=>x({});return document.addEventListener(ve,N),()=>document.removeEventListener(ve,N)},[]),e.jsx(I.div,{...p,ref:h,style:{pointerEvents:j?w?"auto":"none":void 0,...t.style},onFocusCapture:V(t.onFocusCapture,S.onFocusCapture),onBlurCapture:V(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:V(t.onPointerDownCapture,D.onPointerDownCapture)})});rt.displayName=Gs;var Xs="DismissableLayerBranch",Zs=i.forwardRef((t,s)=>{const a=i.useContext(nt),n=i.useRef(null),r=H(s,n);return i.useEffect(()=>{const l=n.current;if(l)return a.branches.add(l),()=>{a.branches.delete(l)}},[a.branches]),e.jsx(I.div,{...t,ref:r})});Zs.displayName=Xs;function Js(t,s=globalThis==null?void 0:globalThis.document){const a=te(t),n=i.useRef(!1),r=i.useRef(()=>{});return i.useEffect(()=>{const l=o=>{if(o.target&&!n.current){let p=function(){lt(Ks,a,f,{discrete:!0})};const f={originalEvent:o};o.pointerType==="touch"?(s.removeEventListener("click",r.current),r.current=p,s.addEventListener("click",r.current,{once:!0})):p()}else s.removeEventListener("click",r.current);n.current=!1},c=window.setTimeout(()=>{s.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),s.removeEventListener("pointerdown",l),s.removeEventListener("click",r.current)}},[s,a]),{onPointerDownCapture:()=>n.current=!0}}function Qs(t,s=globalThis==null?void 0:globalThis.document){const a=te(t),n=i.useRef(!1);return i.useEffect(()=>{const r=l=>{l.target&&!n.current&&lt(Ys,a,{originalEvent:l},{discrete:!1})};return s.addEventListener("focusin",r),()=>s.removeEventListener("focusin",r)},[s,a]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Le(){const t=new CustomEvent(ve);document.dispatchEvent(t)}function lt(t,s,a,{discrete:n}){const r=a.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:a});s&&r.addEventListener(t,s,{once:!0}),n?zs(r,l):r.dispatchEvent(l)}var pe="focusScope.autoFocusOnMount",he="focusScope.autoFocusOnUnmount",Be={bubbles:!1,cancelable:!0},ea="FocusScope",ot=i.forwardRef((t,s)=>{const{loop:a=!1,trapped:n=!1,onMountAutoFocus:r,onUnmountAutoFocus:l,...c}=t,[o,p]=i.useState(null),f=te(r),u=te(l),m=i.useRef(null),g=H(s,d=>p(d)),x=i.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;i.useEffect(()=>{if(n){let d=function(j){if(x.paused||!o)return;const w=j.target;o.contains(w)?m.current=w:B(m.current,{select:!0})},b=function(j){if(x.paused||!o)return;const w=j.relatedTarget;w!==null&&(o.contains(w)||B(m.current,{select:!0}))},y=function(j){if(document.activeElement===document.body)for(const D of j)D.removedNodes.length>0&&B(o)};document.addEventListener("focusin",d),document.addEventListener("focusout",b);const v=new MutationObserver(y);return o&&v.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",d),document.removeEventListener("focusout",b),v.disconnect()}}},[n,o,x.paused]),i.useEffect(()=>{if(o){$e.add(x);const d=document.activeElement;if(!o.contains(d)){const y=new CustomEvent(pe,Be);o.addEventListener(pe,f),o.dispatchEvent(y),y.defaultPrevented||(ta(la(it(o)),{select:!0}),document.activeElement===d&&B(o))}return()=>{o.removeEventListener(pe,f),setTimeout(()=>{const y=new CustomEvent(he,Be);o.addEventListener(he,u),o.dispatchEvent(y),y.defaultPrevented||B(d??document.body,{select:!0}),o.removeEventListener(he,u),$e.remove(x)},0)}}},[o,f,u,x]);const h=i.useCallback(d=>{if(!a&&!n||x.paused)return;const b=d.key==="Tab"&&!d.altKey&&!d.ctrlKey&&!d.metaKey,y=document.activeElement;if(b&&y){const v=d.currentTarget,[j,w]=sa(v);j&&w?!d.shiftKey&&y===w?(d.preventDefault(),a&&B(j,{select:!0})):d.shiftKey&&y===j&&(d.preventDefault(),a&&B(w,{select:!0})):y===v&&d.preventDefault()}},[a,n,x.paused]);return e.jsx(I.div,{tabIndex:-1,...c,ref:g,onKeyDown:h})});ot.displayName=ea;function ta(t,{select:s=!1}={}){const a=document.activeElement;for(const n of t)if(B(n,{select:s}),document.activeElement!==a)return}function sa(t){const s=it(t),a=Ve(s,t),n=Ve(s.reverse(),t);return[a,n]}function it(t){const s=[],a=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const r=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||r?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;a.nextNode();)s.push(a.currentNode);return s}function Ve(t,s){for(const a of t)if(!aa(a,{upTo:s}))return a}function aa(t,{upTo:s}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(s!==void 0&&t===s)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function na(t){return t instanceof HTMLInputElement&&"select"in t}function B(t,{select:s=!1}={}){if(t&&t.focus){const a=document.activeElement;t.focus({preventScroll:!0}),t!==a&&na(t)&&s&&t.select()}}var $e=ra();function ra(){let t=[];return{add(s){const a=t[0];s!==a&&(a==null||a.pause()),t=Ue(t,s),t.unshift(s)},remove(s){var a;t=Ue(t,s),(a=t[0])==null||a.resume()}}}function Ue(t,s){const a=[...t],n=a.indexOf(s);return n!==-1&&a.splice(n,1),a}function la(t){return t.filter(s=>s.tagName!=="A")}var oa="Portal",ct=i.forwardRef((t,s)=>{var o;const{container:a,...n}=t,[r,l]=i.useState(!1);ee(()=>l(!0),[]);const c=a||r&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return c?zt.createPortal(e.jsx(I.div,{...n,ref:s}),c):null});ct.displayName=oa;function ia(t,s){return i.useReducer((a,n)=>s[a][n]??a,t)}var ie=t=>{const{present:s,children:a}=t,n=ca(s),r=typeof a=="function"?a({present:n.isPresent}):i.Children.only(a),l=H(n.ref,da(r));return typeof a=="function"||n.isPresent?i.cloneElement(r,{ref:l}):null};ie.displayName="Presence";function ca(t){const[s,a]=i.useState(),n=i.useRef(null),r=i.useRef(t),l=i.useRef("none"),c=t?"mounted":"unmounted",[o,p]=ia(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return i.useEffect(()=>{const f=ae(n.current);l.current=o==="mounted"?f:"none"},[o]),ee(()=>{const f=n.current,u=r.current;if(u!==t){const g=l.current,x=ae(f);t?p("MOUNT"):x==="none"||(f==null?void 0:f.display)==="none"?p("UNMOUNT"):p(u&&g!==x?"ANIMATION_OUT":"UNMOUNT"),r.current=t}},[t,p]),ee(()=>{if(s){let f;const u=s.ownerDocument.defaultView??window,m=x=>{const d=ae(n.current).includes(x.animationName);if(x.target===s&&d&&(p("ANIMATION_END"),!r.current)){const b=s.style.animationFillMode;s.style.animationFillMode="forwards",f=u.setTimeout(()=>{s.style.animationFillMode==="forwards"&&(s.style.animationFillMode=b)})}},g=x=>{x.target===s&&(l.current=ae(n.current))};return s.addEventListener("animationstart",g),s.addEventListener("animationcancel",m),s.addEventListener("animationend",m),()=>{u.clearTimeout(f),s.removeEventListener("animationstart",g),s.removeEventListener("animationcancel",m),s.removeEventListener("animationend",m)}}else p("ANIMATION_END")},[s,p]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:i.useCallback(f=>{n.current=f?getComputedStyle(f):null,a(f)},[])}}function ae(t){return(t==null?void 0:t.animationName)||"none"}function da(t){var n,r;let s=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}var ge=0;function ua(){i.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??We()),document.body.insertAdjacentElement("beforeend",t[1]??We()),ge++,()=>{ge===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),ge--}},[])}function We(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var dt=qt(),be=function(){},ce=i.forwardRef(function(t,s){var a=i.useRef(null),n=i.useState({onScrollCapture:be,onWheelCapture:be,onTouchMoveCapture:be}),r=n[0],l=n[1],c=t.forwardProps,o=t.children,p=t.className,f=t.removeScrollBar,u=t.enabled,m=t.shards,g=t.sideCar,x=t.noRelative,h=t.noIsolation,d=t.inert,b=t.allowPinchZoom,y=t.as,v=y===void 0?"div":y,j=t.gapMode,w=Gt(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=g,S=Kt([a,s]),N=Y(Y({},w),r);return i.createElement(i.Fragment,null,u&&i.createElement(D,{sideCar:dt,removeScrollBar:f,shards:m,noRelative:x,noIsolation:h,inert:d,setCallbacks:l,allowPinchZoom:!!b,lockRef:a,gapMode:j}),c?i.cloneElement(i.Children.only(o),Y(Y({},N),{ref:S})):i.createElement(v,Y({},N,{className:p,ref:S}),o))});ce.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ce.classNames={fullWidth:Yt,zeroRight:Xt};var Ne=!1;if(typeof window<"u")try{var ne=Object.defineProperty({},"passive",{get:function(){return Ne=!0,!0}});window.addEventListener("test",ne,ne),window.removeEventListener("test",ne,ne)}catch{Ne=!1}var G=Ne?{passive:!1}:!1,ma=function(t){return t.tagName==="TEXTAREA"},ut=function(t,s){if(!(t instanceof Element))return!1;var a=window.getComputedStyle(t);return a[s]!=="hidden"&&!(a.overflowY===a.overflowX&&!ma(t)&&a[s]==="visible")},fa=function(t){return ut(t,"overflowY")},xa=function(t){return ut(t,"overflowX")},He=function(t,s){var a=s.ownerDocument,n=s;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=mt(t,n);if(r){var l=ft(t,n),c=l[1],o=l[2];if(c>o)return!0}n=n.parentNode}while(n&&n!==a.body);return!1},pa=function(t){var s=t.scrollTop,a=t.scrollHeight,n=t.clientHeight;return[s,a,n]},ha=function(t){var s=t.scrollLeft,a=t.scrollWidth,n=t.clientWidth;return[s,a,n]},mt=function(t,s){return t==="v"?fa(s):xa(s)},ft=function(t,s){return t==="v"?pa(s):ha(s)},ga=function(t,s){return t==="h"&&s==="rtl"?-1:1},ba=function(t,s,a,n,r){var l=ga(t,window.getComputedStyle(s).direction),c=l*n,o=a.target,p=s.contains(o),f=!1,u=c>0,m=0,g=0;do{if(!o)break;var x=ft(t,o),h=x[0],d=x[1],b=x[2],y=d-b-l*h;(h||y)&&mt(t,o)&&(m+=y,g+=h);var v=o.parentNode;o=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!p&&o!==document.body||p&&(s.contains(o)||s===o));return(u&&(Math.abs(m)<1||!r)||!u&&(Math.abs(g)<1||!r))&&(f=!0),f},re=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},ze=function(t){return[t.deltaX,t.deltaY]},qe=function(t){return t&&"current"in t?t.current:t},ya=function(t,s){return t[0]===s[0]&&t[1]===s[1]},va=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Na=0,K=[];function ja(t){var s=i.useRef([]),a=i.useRef([0,0]),n=i.useRef(),r=i.useState(Na++)[0],l=i.useState(Zt)[0],c=i.useRef(t);i.useEffect(function(){c.current=t},[t]),i.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(r));var d=Jt([t.lockRef.current],(t.shards||[]).map(qe),!0).filter(Boolean);return d.forEach(function(b){return b.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),d.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(r))})}}},[t.inert,t.lockRef.current,t.shards]);var o=i.useCallback(function(d,b){if("touches"in d&&d.touches.length===2||d.type==="wheel"&&d.ctrlKey)return!c.current.allowPinchZoom;var y=re(d),v=a.current,j="deltaX"in d?d.deltaX:v[0]-y[0],w="deltaY"in d?d.deltaY:v[1]-y[1],D,S=d.target,N=Math.abs(j)>Math.abs(w)?"h":"v";if("touches"in d&&N==="h"&&S.type==="range")return!1;var _=He(N,S);if(!_)return!0;if(_?D=N:(D=N==="v"?"h":"v",_=He(N,S)),!_)return!1;if(!n.current&&"changedTouches"in d&&(j||w)&&(n.current=D),!D)return!0;var P=n.current||D;return ba(P,b,d,P==="h"?j:w,!0)},[]),p=i.useCallback(function(d){var b=d;if(!(!K.length||K[K.length-1]!==l)){var y="deltaY"in b?ze(b):re(b),v=s.current.filter(function(D){return D.name===b.type&&(D.target===b.target||b.target===D.shadowParent)&&ya(D.delta,y)})[0];if(v&&v.should){b.cancelable&&b.preventDefault();return}if(!v){var j=(c.current.shards||[]).map(qe).filter(Boolean).filter(function(D){return D.contains(b.target)}),w=j.length>0?o(b,j[0]):!c.current.noIsolation;w&&b.cancelable&&b.preventDefault()}}},[]),f=i.useCallback(function(d,b,y,v){var j={name:d,delta:b,target:y,should:v,shadowParent:wa(y)};s.current.push(j),setTimeout(function(){s.current=s.current.filter(function(w){return w!==j})},1)},[]),u=i.useCallback(function(d){a.current=re(d),n.current=void 0},[]),m=i.useCallback(function(d){f(d.type,ze(d),d.target,o(d,t.lockRef.current))},[]),g=i.useCallback(function(d){f(d.type,re(d),d.target,o(d,t.lockRef.current))},[]);i.useEffect(function(){return K.push(l),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:g}),document.addEventListener("wheel",p,G),document.addEventListener("touchmove",p,G),document.addEventListener("touchstart",u,G),function(){K=K.filter(function(d){return d!==l}),document.removeEventListener("wheel",p,G),document.removeEventListener("touchmove",p,G),document.removeEventListener("touchstart",u,G)}},[]);var x=t.removeScrollBar,h=t.inert;return i.createElement(i.Fragment,null,h?i.createElement(l,{styles:va(r)}):null,x?i.createElement(Qt,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function wa(t){for(var s=null;t!==null;)t instanceof ShadowRoot&&(s=t.host,t=t.host),t=t.parentNode;return s}const Ea=es(dt,ja);var xt=i.forwardRef(function(t,s){return i.createElement(ce,Y({},t,{ref:s,sideCar:Ea}))});xt.classNames=ce.classNames;var de="Dialog",[pt,sn]=Rs(de),[_a,O]=pt(de),ht=t=>{const{__scopeDialog:s,children:a,open:n,defaultOpen:r,onOpenChange:l,modal:c=!0}=t,o=i.useRef(null),p=i.useRef(null),[f,u]=ks({prop:n,defaultProp:r??!1,onChange:l,caller:de});return e.jsx(_a,{scope:s,triggerRef:o,contentRef:p,contentId:xe(),titleId:xe(),descriptionId:xe(),open:f,onOpenChange:u,onOpenToggle:i.useCallback(()=>u(m=>!m),[u]),modal:c,children:a})};ht.displayName=de;var gt="DialogTrigger",bt=i.forwardRef((t,s)=>{const{__scopeDialog:a,...n}=t,r=O(gt,a),l=H(s,r.triggerRef);return e.jsx(I.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":Pe(r.open),...n,ref:l,onClick:V(t.onClick,r.onOpenToggle)})});bt.displayName=gt;var Se="DialogPortal",[Sa,yt]=pt(Se,{forceMount:void 0}),vt=t=>{const{__scopeDialog:s,forceMount:a,children:n,container:r}=t,l=O(Se,s);return e.jsx(Sa,{scope:s,forceMount:a,children:i.Children.map(n,c=>e.jsx(ie,{present:a||l.open,children:e.jsx(ct,{asChild:!0,container:r,children:c})}))})};vt.displayName=Se;var oe="DialogOverlay",Nt=i.forwardRef((t,s)=>{const a=yt(oe,t.__scopeDialog),{forceMount:n=a.forceMount,...r}=t,l=O(oe,t.__scopeDialog);return l.modal?e.jsx(ie,{present:n||l.open,children:e.jsx(Pa,{...r,ref:s})}):null});Nt.displayName=oe;var Ca=at("DialogOverlay.RemoveScroll"),Pa=i.forwardRef((t,s)=>{const{__scopeDialog:a,...n}=t,r=O(oe,a);return e.jsx(xt,{as:Ca,allowPinchZoom:!0,shards:[r.contentRef],children:e.jsx(I.div,{"data-state":Pe(r.open),...n,ref:s,style:{pointerEvents:"auto",...n.style}})})}),W="DialogContent",jt=i.forwardRef((t,s)=>{const a=yt(W,t.__scopeDialog),{forceMount:n=a.forceMount,...r}=t,l=O(W,t.__scopeDialog);return e.jsx(ie,{present:n||l.open,children:l.modal?e.jsx(Da,{...r,ref:s}):e.jsx(Aa,{...r,ref:s})})});jt.displayName=W;var Da=i.forwardRef((t,s)=>{const a=O(W,t.__scopeDialog),n=i.useRef(null),r=H(s,a.contentRef,n);return i.useEffect(()=>{const l=n.current;if(l)return ts(l)},[]),e.jsx(wt,{...t,ref:r,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:V(t.onCloseAutoFocus,l=>{var c;l.preventDefault(),(c=a.triggerRef.current)==null||c.focus()}),onPointerDownOutside:V(t.onPointerDownOutside,l=>{const c=l.detail.originalEvent,o=c.button===0&&c.ctrlKey===!0;(c.button===2||o)&&l.preventDefault()}),onFocusOutside:V(t.onFocusOutside,l=>l.preventDefault())})}),Aa=i.forwardRef((t,s)=>{const a=O(W,t.__scopeDialog),n=i.useRef(!1),r=i.useRef(!1);return e.jsx(wt,{...t,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var c,o;(c=t.onCloseAutoFocus)==null||c.call(t,l),l.defaultPrevented||(n.current||(o=a.triggerRef.current)==null||o.focus(),l.preventDefault()),n.current=!1,r.current=!1},onInteractOutside:l=>{var p,f;(p=t.onInteractOutside)==null||p.call(t,l),l.defaultPrevented||(n.current=!0,l.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const c=l.target;((f=a.triggerRef.current)==null?void 0:f.contains(c))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&r.current&&l.preventDefault()}})}),wt=i.forwardRef((t,s)=>{const{__scopeDialog:a,trapFocus:n,onOpenAutoFocus:r,onCloseAutoFocus:l,...c}=t,o=O(W,a),p=i.useRef(null),f=H(s,p);return ua(),e.jsxs(e.Fragment,{children:[e.jsx(ot,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:r,onUnmountAutoFocus:l,children:e.jsx(rt,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":Pe(o.open),...c,ref:f,onDismiss:()=>o.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(Ra,{titleId:o.titleId}),e.jsx(Ma,{contentRef:p,descriptionId:o.descriptionId})]})]})}),Ce="DialogTitle",Et=i.forwardRef((t,s)=>{const{__scopeDialog:a,...n}=t,r=O(Ce,a);return e.jsx(I.h2,{id:r.titleId,...n,ref:s})});Et.displayName=Ce;var _t="DialogDescription",St=i.forwardRef((t,s)=>{const{__scopeDialog:a,...n}=t,r=O(_t,a);return e.jsx(I.p,{id:r.descriptionId,...n,ref:s})});St.displayName=_t;var Ct="DialogClose",Pt=i.forwardRef((t,s)=>{const{__scopeDialog:a,...n}=t,r=O(Ct,a);return e.jsx(I.button,{type:"button",...n,ref:s,onClick:V(t.onClick,()=>r.onOpenChange(!1))})});Pt.displayName=Ct;function Pe(t){return t?"open":"closed"}var Dt="DialogTitleWarning",[an,At]=As(Dt,{contentName:W,titleName:Ce,docsSlug:"dialog"}),Ra=({titleId:t})=>{const s=At(Dt),a=`\`${s.contentName}\` requires a \`${s.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${s.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${s.docsSlug}`;return i.useEffect(()=>{t&&(document.getElementById(t)||console.error(a))},[a,t]),null},Fa="DialogDescriptionWarning",Ma=({contentRef:t,descriptionId:s})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${At(Fa).contentName}}.`;return i.useEffect(()=>{var l;const r=(l=t.current)==null?void 0:l.getAttribute("aria-describedby");s&&r&&(document.getElementById(s)||console.warn(n))},[n,t,s]),null},Oa=ht,Ta=bt,ka=vt,Rt=Nt,Ft=jt,Mt=Et,Ot=St,Tt=Pt;const Ia=Oa,La=Ta,Ba=ka,Va=Tt,kt=i.forwardRef(({className:t,...s},a)=>e.jsx(Rt,{ref:a,className:$("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s}));kt.displayName=Rt.displayName;const It=i.forwardRef(({className:t,children:s,...a},n)=>e.jsxs(Ba,{children:[e.jsx(kt,{}),e.jsxs(Ft,{ref:n,className:$("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...a,children:[s,e.jsxs(Tt,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(ss,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));It.displayName=Ft.displayName;const Lt=({className:t,...s})=>e.jsx("div",{className:$("flex flex-col space-y-1.5 text-center sm:text-left",t),...s});Lt.displayName="DialogHeader";const Bt=({className:t,...s})=>e.jsx("div",{className:$("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s});Bt.displayName="DialogFooter";const Vt=i.forwardRef(({className:t,...s},a)=>e.jsx(Mt,{ref:a,className:$("text-lg font-semibold leading-none tracking-tight",t),...s}));Vt.displayName=Mt.displayName;const $t=i.forwardRef(({className:t,...s},a)=>e.jsx(Ot,{ref:a,className:$("text-sm text-muted-foreground",t),...s}));$t.displayName=Ot.displayName;we({name:E().required("Name is required").min(2,"Name must be at least 2 characters"),email:E().required("Email is required").email("Invalid email address"),description:E(),pdfFile:tt().required("PDF file is required")});const $a=[{name:"JavaScript",pattern:/\/JavaScript|\/JS\s*\(|app\.alert|eval\(|document\.|window\./gi,severity:"high"},{name:"OpenAction",pattern:/\/OpenAction/gi,severity:"high"},{name:"AA (Additional Actions)",pattern:/\/AA\s*<</gi,severity:"high"},{name:"Launch Action",pattern:/\/Launch/gi,severity:"high"},{name:"ImportData",pattern:/\/ImportData/gi,severity:"high"},{name:"RichMedia",pattern:/\/RichMedia/gi,severity:"high"},{name:"GoToE",pattern:/\/GoToE/gi,severity:"high"}],Ua=t=>new Promise((s,a)=>{const n=new FileReader;n.onload=r=>{var l;return s((l=r.target)==null?void 0:l.result)},n.onerror=()=>a(new Error("Failed to read file")),n.readAsText(t)}),Ge=t=>({high:3,medium:2,low:1})[t]||0,Wa=(t={})=>{const s={maxFileSizeMB:10,strictMode:!0,autoValidate:!0,...t},[a,n]=i.useState(null),[r,l]=i.useState(null),[c,o]=i.useState(!1),p=i.useCallback(async m=>{if(o(!0),n(m),!m){const x={isValid:!1,message:"No file provided",threats:[],severity:"high"};return l(x),o(!1),x}if(m.type!=="application/pdf"){const x={isValid:!1,message:`Invalid file type. Expected PDF, got ${m.type||"unknown"}`,threats:[{name:"Invalid File Type",severity:"high",description:"Only PDF files are allowed"}],severity:"high"};return l(x),o(!1),x}const g=s.maxFileSizeMB*1024*1024;if(m.size>g){const x={isValid:!1,message:`File size (${(m.size/1024/1024).toFixed(2)}MB) exceeds the maximum limit of ${s.maxFileSizeMB}MB`,threats:[{name:"File Too Large",severity:"medium",description:`File size exceeds ${s.maxFileSizeMB}MB limit`}],severity:"medium"};return l(x),o(!1),x}try{const x=await Ua(m);if(!x.startsWith("%PDF-")){const y={isValid:!1,message:"Invalid PDF file. File does not have a valid PDF header",threats:[{name:"Invalid PDF Format",severity:"high",description:"File does not contain a valid PDF header"}],severity:"high"};return l(y),o(!1),y}const h=[];let d=null;$a.forEach(({name:y,pattern:v,severity:j})=>{const w=x.match(v);w&&w.length>0&&(h.push({name:y,severity:j,description:`Found ${w.length} occurrence(s) of ${y}`,matchCount:w.length}),(!d||Ge(j)>Ge(d))&&(d=j))});let b;if(h.length===0)b={isValid:!0,message:"PDF is safe and contains no security threats",threats:[],severity:null};else if(s.strictMode?h.length>0:h.some(v=>v.severity==="high")){const v=h.map(j=>j.name).join(", ");b={isValid:!1,message:"The file appears to be corrupted or contains malicious code. Please upload a valid file.",threats:h,severity:d}}else b={isValid:!0,message:"PDF contains low-risk elements but is approved for upload",threats:h,severity:d};return l(b),o(!1),b}catch(x){const h={isValid:!1,message:`Error reading PDF file: ${x.message}`,threats:[{name:"Read Error",severity:"high",description:x.message}],severity:"high"};return l(h),o(!1),h}},[s.maxFileSizeMB,s.strictMode]),f=i.useCallback(()=>{n(null),l(null),o(!1)},[]),u=i.useCallback(async m=>{var x;const g=(x=m.target.files)==null?void 0:x[0];g&&s.autoValidate?await p(g):g&&n(g)},[p,s.autoValidate]);return{validateFile:p,validation:r,isValidating:c,reset:f,file:a,handleFileChange:u}},Ha=we().shape({doc_name:E().required("Document Name is required"),doc_type_id:E().required("Document Type is required"),doc_path:tt().required("Document is required").test("fileRequired","Document is required",t=>t instanceof File||typeof t=="string"&&t!==""),description:E().required("Description is required")});function za({title:t,id:s,edit:a,refetch:n,getDataById:r}){var y,v,j,w,D,S,N;const{validateFile:l,reset:c}=Wa({maxFileSizeMB:5,strictMode:!0,autoValidate:!1}),o=Ee({}),p=is({}),f=i.useRef(null),u=xs(),{data:m}=_e({api:`${(y=Z)==null?void 0:y.updateEmployeeById}/${s}`,key:"getDocumentById",options:{enabled:a}}),g=Ze({defaultValues:{doc_type_id:((v=m==null?void 0:m.data)==null?void 0:v.doc_type_id)||"",doc_name:((j=m==null?void 0:m.data)==null?void 0:j.doc_name)||"",doc_path:((w=m==null?void 0:m.data)==null?void 0:w.doc_path)||"",description:((D=m==null?void 0:m.data)==null?void 0:D.description)||""},resolver:Je(Ha)}),{id:x}=je(),h=async _=>{var R;const P=(R=_.target.files)==null?void 0:R[0];if(P&&(P==null?void 0:P.type)==="application/pdf"){const A=await l(P);A.isValid?(M.success(A.message),c(),g.setValue("doc_path",P)):(M.error(A.message),_.target.value="",g.resetField("doc_path"))}else P&&g.setValue("doc_path",P)},d=async _=>{var P,R,A,z;try{const F=new FormData;if(F.append("emp_id",String(x)),F.append("doc_type_id",_.doc_type_id),F.append("doc_name",_.doc_name),F.append("description",_.description),F.append("file",_==null?void 0:_.doc_path),a&&_)console.log("Editing document with data:",_);else{const L=await o.mutateAsync({api:Z.uploadEmployeeDocument,data:F});(P=L.data)!=null&&P.success?(M.success((R=L==null?void 0:L.data)==null?void 0:R.message),(A=f.current)==null||A.click()):M.error(((z=L.data)==null?void 0:z.message)||"Document not attached successfully"),g.reset({doc_name:"",description:"",doc_path:"",doc_type_id:""})}n()}catch(F){console.log("Submit Error:",F),M.error("An error occurred while processing your request")}};i.useEffect(()=>{var _,P,R,A;a&&m?g.reset({doc_type_id:(_=m==null?void 0:m.data)==null?void 0:_.doc_type_id,doc_name:(P=m==null?void 0:m.data)==null?void 0:P.doc_name,doc_path:(R=m==null?void 0:m.data)==null?void 0:R.doc_path,description:((A=m==null?void 0:m.data)==null?void 0:A.description)??""}):g.reset({doc_type_id:"",doc_name:"",doc_path:"",description:""})},[a,m]);const b=g.formState.isSubmitting||p.isPending;return e.jsxs(Ia,{children:[e.jsx(La,{asChild:!0,children:e.jsxs(ye,{type:"button",className:"w-full bg-blue-600 hover:bg-blue-700 sm:w-auto",children:[e.jsx(Es,{className:"mr-2 h-4 w-4"}),"Add New Document"]})}),e.jsx(It,{className:"sm:max-w-[425px]",children:e.jsxs(Qe,{methods:g,onSubmit:g.handleSubmit(d),children:[e.jsxs(Lt,{children:[e.jsx(Vt,{children:t}),e.jsx($t,{})]}),e.jsxs("div",{className:"mt-5 grid grid-cols-1 gap-x-2 gap-y-4",children:[e.jsx("div",{children:e.jsx(ls,{label:"Select Document",name:"doc_type_id",selectedText:"doc_name",data:((N=(S=u==null?void 0:u.data)==null?void 0:S.data)==null?void 0:N.map(_=>({label:String(_.doc_name),value:String(_.id)})))||[]})}),e.jsx("div",{children:e.jsx(Ss,{label:"Upload Document",name:"doc_path",accept:".pdf,.doc,.docx,.png,.jpg,.jpeg",onChange:h,placeholder:"Upload your document"})}),e.jsx("div",{children:e.jsx(C,{label:`${(g==null?void 0:g.watch("doc_name"))||"Document"} No (Optional)`,name:"description",placeholder:`Enter ${(g==null?void 0:g.watch("doc_name"))||"Document"} No`,inputValidation:["removeDoubleSpace","removeSpecialCharacterExceptSpace"]})}),e.jsx(ps,{})]}),e.jsxs(Bt,{className:"mt-5 flex justify-between",children:[e.jsx(Va,{asChild:!0,children:e.jsx(ye,{variant:"outline",ref:f,children:"Cancel"})}),e.jsx(et,{type:"submit",isLoading:b,children:"Save changes"})]})]})})]})}function qa({id:t,getDataById:s}){var u,m,g,x;const[a,n]=i.useState(""),[r,l]=i.useState(!1),{id:c}=je(),o=_e({api:`${Z.getEmployeeDocuments}/${c}`,key:"getEmployeeDocuments",value:[],options:{enabled:!0}}),p=Ee({}),f=async h=>{Ds("Are you sure?","Please confirm",async()=>{var d,b,y;try{const v=await p.mutateAsync({api:`${Z.deleteEmployeeDocument}`,data:{id:as(h.toString())}});(d=v==null?void 0:v.data)!=null&&d.success?(M.success(((b=v==null?void 0:v.data)==null?void 0:b.message)||"Deleted successfully"),o.refetch()):M.error(((y=v==null?void 0:v.data)==null?void 0:y.message)||"Failed to delete")}catch(v){M.error("Error deleting item"),console.error("Delete Error:",v)}})};return e.jsx("main",{className:"min-h-screen bg-gray-50/50",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsx("h1",{className:"text-2xl font-bold tracking-tight text-gray-900",children:"Employee Attached Documents"})}),e.jsx(za,{title:r?"Edit Document":"Attach Document",id:t,edit:r,setEdit:l,refetch:o.refetch,getDataById:s})]}),e.jsx("div",{className:"grid grid-cols-1 gap-6",children:o.isLoading?e.jsx(me,{children:e.jsx(fe,{className:"flex h-32 items-center justify-center",children:e.jsx(hs,{})})}):e.jsxs(e.Fragment,{children:[(m=(u=o==null?void 0:o.data)==null?void 0:u.data)==null?void 0:m.map(h=>e.jsxs(me,{className:"border border-gray-200 transition-all duration-200 hover:shadow-lg",children:[e.jsx(gs,{className:"pb-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(le,{className:"h-6 w-6 text-blue-500"}),e.jsxs("div",{children:[e.jsx(bs,{className:"text-lg font-semibold text-gray-900",children:(h==null?void 0:h.doc_name)||"Document"}),e.jsx(ys,{className:"mt-1 text-sm text-gray-600",children:h==null?void 0:h.description})]})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(Q,{className:"h-4 w-4"}),e.jsx("div",{className:"",children:vs(h==null?void 0:h.created_at).format("DD-MM-YYYY")}),e.jsx("div",{className:"ml-auto flex justify-end",children:e.jsx(ye,{size:"sm",variant:"ghost",className:"flex h-7 w-7 items-center p-0 text-red-500 hover:bg-red-50 hover:text-red-700",onClick:()=>f(h==null?void 0:h.id),children:e.jsx(_s,{className:"h-3.5 w-3.5"})})})]})})]})}),e.jsx(fe,{className:"pt-0",children:(h==null?void 0:h.doc_path)&&e.jsxs("div",{className:"rounded-lg border bg-gray-50 p-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[e.jsx(ws,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:"Document Path:"})]}),e.jsx("a",{href:h.doc_path,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-700 hover:underline",children:"View Document"})]}),e.jsx("p",{className:"mt-1 break-all text-xs text-gray-500",children:h.doc_path})]})})]},h==null?void 0:h.id)),((x=(g=o==null?void 0:o.data)==null?void 0:g.data)==null?void 0:x.length)===0&&e.jsx(me,{className:"py-12 text-center",children:e.jsxs(fe,{children:[e.jsx(le,{className:"mx-auto mb-4 h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mb-2 text-lg font-medium text-gray-900",children:"No documents found"}),e.jsx("p",{className:"mb-4 text-gray-600",children:a?"Try adjusting your search criteria":"Upload your first document to get started"})]})})]})})]})})}const nn=()=>{var p,f,u,m,g;const[t,s]=i.useState("basic"),{id:a}=je(),n=[{name:"Sunita Kumar",relation:"Spouse",age:"38",occupation:"Teacher"},{name:"Amit Kumar",relation:"Son",age:"12",occupation:"Student"},{name:"Priya Kumar",relation:"Daughter",age:"8",occupation:"Student"}],r={basicSalary:"45,000",hra:"18,000",da:"13,500",grossSalary:"76,500",pf:"5,400",tax:"7,650",netSalary:"63,450"},l=[{month:"November 2024",present:20,absent:0,leave:2,total:22},{month:"October 2024",present:23,absent:1,leave:1,total:25},{month:"September 2024",present:22,absent:0,leave:0,total:22},{month:"August 2024",present:24,absent:0,leave:1,total:25}],c=[{id:"basic",label:"Basic Details",icon:X},{id:"document",label:"Attached Documents",icon:le},{id:"family",label:"Family Details",icon:J},{id:"salary",label:"Salary Details",icon:Me},{id:"attendance",label:"Attendance",icon:Q}],o=_e({api:`${(p=Z)==null?void 0:p.getEmployeeById}/${a}`,key:"getEmployeeById",value:[a],options:{enabled:!!a}});return e.jsx(rs,{title:"Employee Management",children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-gray-100",children:e.jsx("div",{className:" py-4",children:e.jsxs("div",{className:"overflow-hidden rounded-lg bg-white shadow-xl",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-4 text-white",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-white",children:e.jsx(X,{size:32,className:"text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold",children:(u=(f=o==null?void 0:o.data)==null?void 0:f.data)==null?void 0:u.emp_name}),e.jsxs("p",{className:"text-blue-100",children:["ID: ",(g=(m=o==null?void 0:o.data)==null?void 0:m.data)==null?void 0:g.emp_code]})]})]})}),e.jsx("div",{className:"border-b border-gray-200 bg-gray-50",children:e.jsx("div",{className:"flex overflow-x-auto",children:c.map(x=>{const h=x.icon;return e.jsxs("button",{onClick:()=>s(x.id),className:`flex items-center gap-2 whitespace-nowrap px-6 py-4 font-semibold transition-all ${t===x.id?"border-b-4 border-blue-700 bg-white text-blue-700":"text-gray-600 hover:bg-gray-100 hover:text-blue-600"}`,children:[e.jsx(h,{size:20}),x.label]},x.id)})})}),e.jsxs("div",{className:"p-8",children:[t==="basic"&&e.jsx(Ps,{id:a,getDataById:o}),t==="document"&&e.jsx(qa,{id:a,getDataById:o}),t==="family"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[e.jsx(J,{className:"text-blue-600",size:28}),e.jsx("h3",{className:"text-2xl font-semibold text-gray-800",children:"Family Members"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-blue-600 text-white",children:[e.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"S.No."}),e.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Name"}),e.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Relation"}),e.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Age"}),e.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Occupation"})]})}),e.jsx("tbody",{children:n.map((x,h)=>e.jsxs("tr",{className:h%2===0?"bg-gray-50":"bg-white",children:[e.jsx("td",{className:"border-b border-gray-200 px-6 py-4",children:h+1}),e.jsx("td",{className:"border-b border-gray-200 px-6 py-4 font-medium",children:x.name}),e.jsx("td",{className:"border-b border-gray-200 px-6 py-4",children:x.relation}),e.jsx("td",{className:"border-b border-gray-200 px-6 py-4",children:x.age}),e.jsx("td",{className:"border-b border-gray-200 px-6 py-4",children:x.occupation})]},h))})]})}),e.jsx("div",{className:"mt-6 rounded-lg border border-blue-200 bg-blue-50 p-4",children:e.jsxs("p",{className:"text-blue-800",children:[e.jsx("strong",{children:"Total Family Members:"})," ",n.length]})})]}),t==="salary"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[e.jsx(Me,{className:"text-blue-600",size:28}),e.jsx("h3",{className:"text-2xl font-semibold text-gray-800",children:"Salary Breakdown"})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"rounded-lg border-2 border-green-200 bg-green-50 p-6",children:[e.jsxs("h4",{className:"mb-4 flex items-center gap-2 text-xl font-semibold text-green-800",children:[e.jsx(js,{size:24}),"Earnings"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-green-200 py-2",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Basic Salary"}),e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:r.basicSalary})]}),e.jsxs("div",{className:"flex items-center justify-between border-b border-green-200 py-2",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"House Rent Allowance (HRA)"}),e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:r.hra})]}),e.jsxs("div",{className:"flex items-center justify-between border-b border-green-200 py-2",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Dearness Allowance (DA)"}),e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:r.da})]}),e.jsxs("div",{className:"mt-4 flex items-center justify-between rounded-lg bg-green-100 px-3 py-3",children:[e.jsx("span",{className:"font-bold text-green-900",children:"Gross Salary"}),e.jsx("span",{className:"text-xl font-bold text-green-900",children:r.grossSalary})]})]})]}),e.jsxs("div",{className:"rounded-lg border-2 border-red-200 bg-red-50 p-6",children:[e.jsxs("h4",{className:"mb-4 flex items-center gap-2 text-xl font-semibold text-red-800",children:[e.jsx(le,{size:24}),"Deductions"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-red-200 py-2",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Provident Fund (PF)"}),e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:r.pf})]}),e.jsxs("div",{className:"flex items-center justify-between border-b border-red-200 py-2",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Income Tax (TDS)"}),e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:r.tax})]}),e.jsx("div",{className:"py-3"}),e.jsxs("div",{className:"mt-4 flex items-center justify-between rounded-lg bg-blue-100 px-3 py-3",children:[e.jsx("span",{className:"font-bold text-blue-900",children:"Net Salary"}),e.jsx("span",{className:"text-xl font-bold text-blue-900",children:r.netSalary})]})]})]})]}),e.jsx("div",{className:"mt-6 rounded-lg border border-yellow-300 bg-yellow-50 p-4",children:e.jsxs("p",{className:"text-sm text-yellow-900",children:[e.jsx("strong",{children:"Note:"})," Salary details shown are for the current month. For historical records, please contact the Accounts Department."]})})]}),t==="attendance"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[e.jsx(Q,{className:"text-blue-600",size:28}),e.jsx("h3",{className:"text-2xl font-semibold text-gray-800",children:"Attendance Records"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-blue-600 text-white",children:[e.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Month"}),e.jsx("th",{className:"px-6 py-4 text-center font-semibold",children:"Present"}),e.jsx("th",{className:"px-6 py-4 text-center font-semibold",children:"Absent"}),e.jsx("th",{className:"px-6 py-4 text-center font-semibold",children:"Leave"}),e.jsx("th",{className:"px-6 py-4 text-center font-semibold",children:"Total Days"}),e.jsx("th",{className:"px-6 py-4 text-center font-semibold",children:"Attendance %"})]})}),e.jsx("tbody",{children:l.map((x,h)=>{const d=(x.present/x.total*100).toFixed(1);return e.jsxs("tr",{className:h%2===0?"bg-gray-50":"bg-white",children:[e.jsx("td",{className:"border-b border-gray-200 px-6 py-4 font-medium",children:x.month}),e.jsx("td",{className:"border-b border-gray-200 px-6 py-4 text-center",children:e.jsx("span",{className:"rounded-full bg-green-100 px-3 py-1 font-semibold text-green-800",children:x.present})}),e.jsx("td",{className:"border-b border-gray-200 px-6 py-4 text-center",children:e.jsx("span",{className:"rounded-full bg-red-100 px-3 py-1 font-semibold text-red-800",children:x.absent})}),e.jsx("td",{className:"border-b border-gray-200 px-6 py-4 text-center",children:e.jsx("span",{className:"rounded-full bg-yellow-100 px-3 py-1 font-semibold text-yellow-800",children:x.leave})}),e.jsx("td",{className:"border-b border-gray-200 px-6 py-4 text-center font-semibold",children:x.total}),e.jsx("td",{className:"border-b border-gray-200 px-6 py-4 text-center",children:e.jsxs("span",{className:`rounded-full px-3 py-1 font-semibold ${parseFloat(d)>=90?"bg-green-100 text-green-800":parseFloat(d)>=75?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[d,"%"]})})]},h)})})]})}),e.jsxs("div",{className:"mt-6 grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4 text-center",children:[e.jsx("p",{className:"mb-1 text-sm font-semibold text-green-600",children:"Average Attendance"}),e.jsx("p",{className:"text-3xl font-bold text-green-700",children:"94.6%"})]}),e.jsxs("div",{className:"rounded-lg border border-blue-200 bg-blue-50 p-4 text-center",children:[e.jsx("p",{className:"mb-1 text-sm font-semibold text-blue-600",children:"Total Present Days"}),e.jsx("p",{className:"text-3xl font-bold text-blue-700",children:"89"})]}),e.jsxs("div",{className:"rounded-lg border border-yellow-200 bg-yellow-50 p-4 text-center",children:[e.jsx("p",{className:"mb-1 text-sm font-semibold text-yellow-600",children:"Total Leave Taken"}),e.jsx("p",{className:"text-3xl font-bold text-yellow-700",children:"4"})]})]})]})]})]})})})})};export{nn as default};
