import{i as j,u as T,r as d,U as se,j as a,S as O,a8 as oe,Z as F,s as L,b as le,ak as ie,l as ce,al as ue,am as de,an as me,ao as fe,ap as pe,aq as ge,ar as he,as as A,h as w,m as v,at as ye,e as ve,au as xe,av as E,L as be}from"./index-CzH94V9M.js";import{b as C,a as x}from"./useCustomQuery-Dhej8C9V.js";/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=j("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=j("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=j("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=j("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);function Ce(e=""){const{setTitle:t}=T();return d.useEffect(()=>{t(e)},[e]),null}var I="Avatar",[Ne,Xe]=se(I),[Ee,$]=Ne(I),B=d.forwardRef((e,t)=>{const{__scopeAvatar:n,...s}=e,[r,i]=d.useState("idle");return a.jsx(Ee,{scope:n,imageLoadingStatus:r,onImageLoadingStatusChange:i,children:a.jsx(O.span,{...s,ref:t})})});B.displayName=I;var W="AvatarImage",K=d.forwardRef((e,t)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:r=()=>{},...i}=e,u=$(W,n),o=_e(s),c=oe(l=>{r(l),u.onImageLoadingStatusChange(l)});return F(()=>{o!=="idle"&&c(o)},[o,c]),o==="loaded"?a.jsx(O.img,{...i,ref:t,src:s}):null});K.displayName=W;var q="AvatarFallback",z=d.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:s,...r}=e,i=$(q,n),[u,o]=d.useState(s===void 0);return d.useEffect(()=>{if(s!==void 0){const c=window.setTimeout(()=>o(!0),s);return()=>window.clearTimeout(c)}},[s]),u&&i.imageLoadingStatus!=="loaded"?a.jsx(O.span,{...r,ref:t}):null});z.displayName=q;function _e(e){const[t,n]=d.useState("idle");return F(()=>{if(!e){n("error");return}let s=!0;const r=new window.Image,i=u=>()=>{s&&n(u)};return n("loading"),r.onload=i("loaded"),r.onerror=i("error"),r.src=e,()=>{s=!1}},[e]),t}var H=B,G=K,V=z;const Y=d.forwardRef(({className:e,...t},n)=>a.jsx(H,{ref:n,className:L("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Y.displayName=H.displayName;const Z=d.forwardRef(({className:e,...t},n)=>a.jsx(G,{ref:n,className:L("aspect-square h-full w-full",e),...t}));Z.displayName=G.displayName;const J=d.forwardRef(({className:e,...t},n)=>a.jsx(V,{ref:n,className:L("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));J.displayName=V.displayName;var N={},Q={exports:{}},Re="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Se=Re,Te=Se;function X(){}function ee(){}ee.resetWarningCache=X;var Oe=function(){function e(s,r,i,u,o,c){if(c!==Te){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:ee,resetWarningCache:X};return n.PropTypes=n,n};Q.exports=Oe();var te=Q.exports;const et=le(te);Object.defineProperty(N,"__esModule",{value:!0});N.default=void 0;var Le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ie=function(){function e(t,n){for(var s=0;s<n.length;s++){var r=n[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),_,P,Me=N.confirmAlert=ze,ae=d,h=ne(ae),Pe=te,m=ne(Pe),D=ie;function ne(e){return e&&e.__esModule?e:{default:e}}function De(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Ue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var R=(P=_=function(e){Ue(t,e);function t(){var n,s,r,i;De(this,t);for(var u=arguments.length,o=Array(u),c=0;c<u;c++)o[c]=arguments[c];return i=(s=(r=U(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(o))),r),r.handleClickButton=function(l){l.onClick&&l.onClick(),r.close()},r.handleClickOverlay=function(l){var f=r.props,p=f.closeOnClickOutside,g=f.onClickOutside,y=l.target===r.overlay;p&&y&&(g(),r.close()),l.stopPropagation()},r.close=function(){var l=r.props.afterClose;qe(),We(r.props),$e(l)},r.keyboard=function(l){var f=r.props,p=f.closeOnEscape,g=f.onKeypressEscape,y=f.onkeyPress,k=f.keyCodeForClose,M=l.keyCode,re=M===27;k.includes(M)&&r.close(),p&&re&&(g(l),r.close()),y&&y()},r.componentDidMount=function(){document.addEventListener("keydown",r.keyboard,!1)},r.componentWillUnmount=function(){document.removeEventListener("keydown",r.keyboard,!1),r.props.willUnmount()},r.renderCustomUI=function(){var l=r.props,f=l.title,p=l.message,g=l.buttons,y=l.customUI,k={title:f,message:p,buttons:g,onClose:r.close};return y(k)},s),U(r,i)}return Ie(t,[{key:"render",value:function(){var s=this,r=this.props,i=r.title,u=r.message,o=r.buttons,c=r.childrenElement,l=r.customUI,f=r.overlayClassName;return h.default.createElement("div",{className:"react-confirm-alert-overlay "+f,ref:function(g){return s.overlay=g},onClick:this.handleClickOverlay},h.default.createElement("div",{className:"react-confirm-alert"},l?this.renderCustomUI():h.default.createElement("div",{className:"react-confirm-alert-body"},i&&h.default.createElement("h1",null,i),u,c(),h.default.createElement("div",{className:"react-confirm-alert-button-group"},o.map(function(p,g){return h.default.createElement("button",Le({key:g,className:p.className},p,{onClick:function(k){return s.handleClickButton(p)}}),p.label)})))))}}]),t}(ae.Component),_.propTypes={title:m.default.string,message:m.default.string,buttons:m.default.array.isRequired,childrenElement:m.default.func,customUI:m.default.func,closeOnClickOutside:m.default.bool,closeOnEscape:m.default.bool,keyCodeForClose:m.default.arrayOf(m.default.number),willUnmount:m.default.func,afterClose:m.default.func,onClickOutside:m.default.func,onKeypressEscape:m.default.func,onkeyPress:m.default.func,overlayClassName:m.default.string},_.defaultProps={buttons:[{label:"Cancel",onClick:function(){return null},className:null},{label:"Confirm",onClick:function(){return null},className:null}],childrenElement:function(){return null},closeOnClickOutside:!0,closeOnEscape:!0,keyCodeForClose:[],willUnmount:function(){return null},afterClose:function(){return null},onClickOutside:function(){return null},onKeypressEscape:function(){return null}},P);N.default=R;var b=null,S="react-confirm-alert";function Fe(){var e=document.getElementById("react-confirm-alert-firm-svg");if(!e){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"feGaussianBlur");n.setAttribute("stdDeviation","0.3");var s=document.createElementNS(t,"filter");s.setAttribute("id","gaussian-blur"),s.appendChild(n);var r=document.createElementNS(t,"svg");r.setAttribute("id","react-confirm-alert-firm-svg"),r.setAttribute("class","react-confirm-alert-svg"),r.appendChild(s),document.body.appendChild(r)}}function $e(e){var t=document.getElementById("react-confirm-alert-firm-svg");t&&t.parentNode.removeChild(t),document.body.children[0].classList.remove("react-confirm-alert-blur"),e()}function Be(e){var t=document.getElementById(e.targetId||S);e.targetId&&!t&&console.error("React Confirm Alert:","Can not get element id (#"+e.targetId+")"),t?(b=(0,D.createRoot)(t),b.render(h.default.createElement(R,e))):(document.body.children[0].classList.add("react-confirm-alert-blur"),t=document.createElement("div"),t.id=S,document.body.appendChild(t),b=(0,D.createRoot)(t),b.render(h.default.createElement(R,e)))}function We(e){var t=document.getElementById(e.targetId||S);t&&b.unmount(t)}function Ke(){document.body.classList.add("react-confirm-alert-body-element")}function qe(){document.body.classList.remove("react-confirm-alert-body-element")}function ze(e){Ke(),Fe(),Be(e)}const He=(e,t,n)=>{Me({customUI:({onClose:s})=>a.jsxs("div",{children:[a.jsx("div",{className:"fixed inset-0 bg-black opacity-50"}),a.jsxs("div",{className:"bg-white dark:bg-gray-700 py-4 px-12 shadow-lg rounded-md z-10 relative",children:[a.jsx("h1",{className:"text-lg font-bold",children:e}),a.jsx("p",{className:"text-sm",children:t}),a.jsxs("div",{className:"flex justify-end mt-4",children:[a.jsx("button",{className:"bg-red-500 text-white px-4 py-1 rounded-md",onClick:()=>{n(),s()},children:"Yes"}),a.jsx("button",{className:"bg-gray-500 text-white px-4 py-1 rounded-md ml-2",onClick:s,children:"No"})]})]})]})})};function Ge(){const{user:e,logout:t}=T(),n=()=>{He("Are you sure?","Please confirm",async()=>{t()})};return ce(),a.jsxs(ue,{children:[a.jsx(de,{asChild:!0,children:a.jsx(me,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:a.jsxs(Y,{className:"h-10 w-10",children:[a.jsx(Z,{src:(e==null?void 0:e.imgFullPath)||"/images/user.png",alt:"profile"}),a.jsx(J,{children:"SN"})]})})}),a.jsxs(fe,{className:"w-56",align:"end",forceMount:!0,children:[a.jsx(pe,{className:"cursor-pointer font-normal",onClick:()=>{window.location.href="/settings/dashboard/home"},children:a.jsxs("div",{className:"flex flex-col space-y-1",children:[a.jsx("p",{className:"text-sm font-medium leading-none",children:e==null?void 0:e.fullName}),a.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:e==null?void 0:e.email})]})}),a.jsx(ge,{}),a.jsxs(he,{children:[a.jsxs(A,{onClick:()=>window.location.replace("/settings/dashboard/home"),className:"flex items-center gap-2",children:[a.jsx(we,{size:16}),a.jsx("span",{children:"Profile"})]}),a.jsxs(A,{onClick:()=>window.location.replace("/settings/dashboard/change-password"),className:"flex items-center gap-2",children:[a.jsx(Ae,{size:16}),a.jsx("span",{children:"Change Password"})]}),a.jsxs(A,{onClick:()=>window.location.replace("/settings/dashboard/notification"),className:"flex items-center gap-2",children:[a.jsx(ke,{size:16}),a.jsx("span",{children:"Notifications"})]})]}),a.jsxs(A,{onClick:n,className:"flex items-center gap-2 text-red-600 focus:text-red-600",children:[a.jsx(je,{size:16}),a.jsx("span",{children:"Log out"})]})]})]})}function tt(){var t;return C({api:`${(t=w)==null?void 0:t.getAllEmpTypes}?page=1&limit=1000`,key:"getEmployeeTypeMaster",value:[],options:{enabled:!0}})}function at(){var t;return C({api:`${(t=w)==null?void 0:t.getAllDesignationMstr}?page=1&limit=1000`,key:"getDesignationMastersads",value:[],options:{enabled:!0}})}function nt(){var t;return C({api:`${(t=w)==null?void 0:t.getAllDocumentTypes}?page=1&limit=1000`,key:"getAllDocumentTypes",value:[],options:{enabled:!0}})}function rt(e){var n;return C({api:`${(n=w)==null?void 0:n.getModuleAccessByEmpId}?emp_id=${e}`,key:"getEmployeeModuleAccess",value:[e],options:{enabled:!!e}})}function st(){var t;return x({api:`${(t=v)==null?void 0:t.getUserTypeAuth}`,key:"getUserTypeAuth",value:[],options:{enabled:!0}})}function ot(e){var n;return x({api:`${(n=v)==null?void 0:n.getPermittedRoleAuth}`,key:"getPermittedRoleAuth",config:{userId:e},value:[e],options:{enabled:!!e}})}function lt(e){var n;return x({api:`${(n=v)==null?void 0:n.getWorkFlowRoleAuth}`,key:"getWorkFlowRoleAuth",config:{userId:e},value:[e],options:{enabled:!!e}})}function it(e){var n;return x({api:`${(n=v)==null?void 0:n.getWardAuth}`,key:"getWardAuthA213213",config:{userId:e},value:[e],options:{enabled:!!e}})}function Ve(){var t;return x({api:`${(t=v)==null?void 0:t.getAllUlb}`,key:"getAllUlb",config:{},value:[],options:{enabled:!0}})}function ct(){var t;return x({api:`${(t=v)==null?void 0:t.getAllDepartmentFromAuth}`,key:"getAllDepartmentFromAuth",config:{},value:[],options:{enabled:!0}})}function ut(){var t;return x({api:`${(t=v)==null?void 0:t.moduleListAuth}`,key:"moduleListAuth",config:{},value:[],options:{enabled:!0}})}function Ye(){var r,i,u;const[e,t]=d.useState(""),n=Ve();d.useEffect(()=>{const o=localStorage.getItem("ulbId");if(o){const c=ye(o);c&&t(c)}},[]);const s=o=>{const c=o.target.options[o.target.selectedIndex].text,l=o.target.value;if(!l)return;t(l);const f=ve(l);localStorage.setItem("ulbId",f),localStorage.setItem("ulbName",c),window.location.href="/hrms"};return(i=(r=n==null?void 0:n.data)==null?void 0:r.data.find(o=>o.id==e))!=null&&i.ulb_name,a.jsx("div",{className:"relative",children:a.jsxs("select",{value:e,onChange:s,className:"w-full cursor-pointer rounded-md border border-slate-300 bg-white py-2 pl-3 pr-10 text-sm text-slate-700 shadow-sm focus:border-slate-500 focus:outline-none focus:ring-1 focus:ring-slate-500 disabled:cursor-not-allowed disabled:opacity-50",children:[a.jsx("option",{value:"",disabled:!0,className:"text-xs text-slate-400",children:"Select ULB"}),(u=n==null?void 0:n.data)==null?void 0:u.data.map(o=>a.jsx("option",{value:o.id,className:"text-slate-700",children:o.ulb_name},o.id))]})})}const Ze=d.forwardRef(({children:e,title:t="",subTitle:n="",searchLink:s="",meta:r,...i},u)=>{Ce(t);const{user:o}=T();return d.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},[t]),a.jsxs(a.Fragment,{children:[a.jsxs(xe,{children:[a.jsx("title",{children:`${t} | HRMS`}),r]}),a.jsx("div",{ref:u,...i,children:a.jsxs(E,{fixed:!0,children:[a.jsx(E.Header,{sticky:!0,className:"border-b border-r-2 border-r-muted",children:a.jsxs("div",{className:"flex w-full items-center justify-between space-x-4",children:[a.jsx("div",{}),a.jsx("div",{className:"flex flex-1 justify-center",children:a.jsx("h1",{className:"bg-gradient-to-r from-slate-800 to-slate-600 bg-clip-text text-2xl font-bold tracking-tight text-transparent",children:(o==null?void 0:o.roleName)==="SUPER ADMIN"?a.jsx(Ye,{}):(o==null?void 0:o.ulbName)||""})}),a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsx("div",{className:"flex min-w-0 flex-col items-end space-y-1",children:a.jsx("span",{className:"truncate rounded-full bg-slate-100 px-2 py-1 text-xs font-medium text-slate-800",children:(o==null?void 0:o.roleName)||""})}),a.jsx("div",{className:"flex-shrink-0",children:a.jsx(Ge,{})})]})]})}),a.jsxs(E.Body,{children:[a.jsxs("div",{className:"mb-2 flex items-center justify-between space-y-2",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:t}),a.jsx("p",{className:"text-muted-foreground",children:n})]}),s&&a.jsx(be,{className:"font-semibold text-blue-800 hover:underline",to:s,target:"_blank",children:a.jsx("div",{children:"Search Details"})})]}),a.jsx("div",{className:"-mx-4 flex-1 overflow-auto px-4 py-1 lg:flex-row lg:space-x-12 lg:space-y-0",children:e})]})]})})]})}),dt=Ze;export{He as C,dt as P,we as U,et as a,ct as b,nt as c,at as d,ut as e,st as f,tt as g,lt as h,ot as i,it as j,rt as k,Me as l};
