import{r as g,l as q,j as e,B as O,_ as h,u as es,h as ss,n as as}from"./index-B4eP5Oxb.js";import{a as ts}from"./index-9-MsDMNw.js";import{R as u,c as de,b as t,d as Je,a as rs,o as ls,e as Ve,F as is,f as D,B as ns}from"./switch-BoGRV9fO.js";import{R as ee}from"./RHFTextArea-CKocWKZk.js";import"./select-CGHNiqeh.js";import{C as M,a as G,b as W,c as K,S as os}from"./separator-DBcuGKTH.js";import{a as R,u as ds}from"./useCustomQuery-ByO-Jd2Z.js";import{g as cs}from"./services-KQnp_8oA.js";import{u as us}from"./useMasters-gu-3z2X-.js";import{D as He,a as ze,b as Le,c as Me,d as Ge,e as We,T as Oe}from"./dialog-BF5m5yAr.js";import{R as oe,C as J}from"./SelectField-DCzKXFN6.js";import{S as Ke}from"./square-pen-DNZ2iEWR.js";import{L as ms}from"./loader-circle-X8j72nYu.js";import{C as Be}from"./circle-alert-Brt7o9EI.js";import{F as ps}from"./file-text-X6qgQWAO.js";import{C as V}from"./chevron-down-CbaobS3s.js";import{B as bs,G as se}from"./gavel-DTZQaJA3.js";import{U as xs}from"./users-CjVdJlgy.js";function $e({methods:j,judgeData:n,isExternal:B,append:m,editData:b,update:$,editIndex:p,isEdit:l=!1}){var v,o;const[S,N]=g.useState(""),[I,r]=g.useState(""),[F,_]=g.useState(""),[T,U]=g.useState(""),[Q,C]=g.useState(!1),k=R({api:`${q.getAllJudgeType}`,key:"getAllJudgeType",value:[],options:{enabled:!0}});g.useEffect(()=>{l&&b&&(N(b.judgeId||"0"),r(b.judgeName||""),U(b.judgeTypeId||""),_(b.judgeType||""))},[l,b,Q]);const Z=()=>{if(!S||!T||!I||!F){h.error("Please fill in all required fields");return}if((j.watch("judgeData")||[]).some((y,X)=>y.judgeName===I&&(!l||X!==p))){h.error("Judge already added");return}const c={judgeId:B?"0":S,judgeName:I,judgeTypeId:T,judgeType:F};l&&$&&p!==void 0?($(p,c),h.success("Judge updated successfully")):(m(c),h.success("Judge added successfully")),w(),C(!1)},w=()=>{N(""),r(""),_(""),U("")},Y=i=>{C(i),i?l&&b&&(N(b.judgeId||""),r(b.judgeName||""),U(b.judgeTypeId||""),_(b.judgeType||"")):w()};return e.jsxs(He,{open:Q,onOpenChange:Y,children:[e.jsx(ze,{asChild:!0,children:l?e.jsx("button",{type:"button",children:e.jsx(Ke,{className:"text-green-700",size:20})}):e.jsx(O,{type:"button",variant:l?"ghost":"outline",size:l?"sm":"default",children:l?"Edit":"Add Judge"})}),e.jsxs(Le,{className:"sm:max-w-[425px]",children:[e.jsx(Me,{children:e.jsx(Ge,{children:l?"Edit Judge":"Add Judge"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-sm font-medium",children:"Judge Name"}),B?e.jsx(u,{value:I,onChange:i=>{r(i.target.value),N("0")}}):e.jsx(oe,{onChange:i=>{var d;N(i.target.value),r(((d=n==null?void 0:n.find(c=>c._id.toString()===i.target.value))==null?void 0:d.name)||"")},value:S,isHookForm:!1,data:(n==null?void 0:n.map(i=>({value:String(i._id),label:String(i.name)})))||[]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-sm font-medium",children:"Judge Type"}),e.jsx(oe,{onChange:i=>{var d,c,y;U(i.target.value),_(((y=(c=(d=k==null?void 0:k.data)==null?void 0:d.data)==null?void 0:c.find(X=>(X==null?void 0:X.id.toString())===i.target.value))==null?void 0:y.judge_type_name)||"")},value:T,isHookForm:!1,data:((o=(v=k==null?void 0:k.data)==null?void 0:v.data)==null?void 0:o.map(i=>({label:i.judge_type_name,value:i.id.toString()})))||[]})]}),e.jsxs("div",{className:"col-span-2 mt-6 flex justify-center gap-2",children:[e.jsx(We,{asChild:!0,children:e.jsx(O,{type:"button",variant:"outline",size:"sm",children:"Cancel"})}),e.jsx(O,{type:"button",variant:"default",size:"sm",onClick:Z,disabled:!S||!T,children:l?"Update Judge":"Add New Judge"})]})]})]})]})}function Ye({methods:j,advocateData:n,append:B,editData:m,update:b,editIndex:$,isEdit:p=!1}){var Y,v;const[l,S]=g.useState(""),[N,I]=g.useState(""),[r,F]=g.useState(""),[_,T]=g.useState(""),[U,Q]=g.useState(!1),C=R({api:`${q.getAdvocateTypeStatus}`,key:"getAllAdvocateType",value:[],options:{enabled:!0}});g.useEffect(()=>{p&&m&&(S(m.advocateId||"0"),I(m.advocateName||""),T(m.advocateTypeId||""),F(m.advocateType||""))},[p,m,U]);const k=()=>{if(!l||!_||!N||!r){h.error("Please fill in all required fields");return}if((j.watch("advocateData")||[]).some((c,y)=>c.advocateName===N&&(!p||y!==$))){h.error("Advocate already added");return}const d={advocateId:l,advocateName:N,advocateTypeId:_,advocateType:r};p&&b&&$!==void 0?(b($,d),h.success("Advocate updated successfully")):(B(d),h.success("Advocate added successfully")),Z(),Q(!1)},Z=()=>{S(""),I(""),F(""),T("")},w=o=>{Q(o),o?p&&m&&(S(m.advocateId||""),I(m.advocateName||""),T(m.advocateTypeId||""),F(m.advocateType||"")):Z()};return e.jsxs(He,{open:U,onOpenChange:w,children:[e.jsx(ze,{asChild:!0,children:p?e.jsx("button",{type:"button",children:e.jsx(Ke,{className:"text-green-700",size:20})}):e.jsx(O,{type:"button",variant:p?"ghost":"outline",size:p?"sm":"default",children:p?"Edit":"Add Advocate"})}),e.jsxs(Le,{className:"sm:max-w-[425px]",children:[e.jsx(Me,{children:e.jsx(Ge,{children:p?"Edit Advocate":"Add Advocate"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-sm font-medium",children:"Advocate Name"}),e.jsx(oe,{onChange:o=>{var i;S(o.target.value),I(((i=n==null?void 0:n.find(d=>d._id.toString()===o.target.value))==null?void 0:i.name)||"")},value:l,isHookForm:!1,data:(n==null?void 0:n.map(o=>({value:String(o._id),label:String(o.name)})))||[]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-sm font-medium",children:"Advocate Type"}),e.jsx(oe,{onChange:o=>{var i,d,c;T(o.target.value),F(((c=(d=(i=C==null?void 0:C.data)==null?void 0:i.data)==null?void 0:d.find(y=>(y==null?void 0:y.id.toString())===o.target.value))==null?void 0:c.advocate_type_name)||"")},value:_,isHookForm:!1,data:((v=(Y=C==null?void 0:C.data)==null?void 0:Y.data)==null?void 0:v.map(o=>({label:o.advocate_type_name,value:o.id.toString()})))||[]})]}),e.jsxs("div",{className:"col-span-2 mt-6 flex justify-center gap-2",children:[e.jsx(We,{asChild:!0,children:e.jsx(O,{type:"button",variant:"outline",size:"sm",children:"Cancel"})}),e.jsx(O,{type:"button",variant:"default",size:"sm",onClick:k,disabled:!l||!_,children:p?"Update Advocate":"Add New Advocate"})]})]})]})]})}const gs=["NORMAL","HIGH","LOW"],hs=de({caseNo:t().required("Case number is required"),year:t().required("Year is required"),filedOn:t().required("Filed date is required"),caseTypeId:t().required("Case type is required"),caseSubTypeId:t().required("Case sub type is required"),natureOfCaseId:t().required("Case nature is required"),caseDescription:t().required("Case description is required"),actsId:t().required("Act is required"),sectionsId:t().required("Section is required"),courtName:t().required("Court name is required"),courtTypeId:t().required("Court type is required"),courtLocation:t().required("Court location is required"),casePriority:t().required("Case priority is required"),petitionerName:t().required("Petitioner name is required"),petitionerContact:t().required("Petitioner contact is required"),petitionerAdvocate:t().test("conditional-required","Petitioner advocate name is required",function(j){const{isUlbPetitioner:n}=this.parent;return n==="No"?!!j:!0}),respondentAdvocate:t().test("conditional-required","Respondent advocate name is required",function(j){const{isUlbRespondent:n}=this.parent;return n==="No"?!!j:!0}),respondent:t().required("Respondent name is required"),respondentContact:t().required("Respondent contact is required"),additionalParties:t(),caseRegistrationDate:t().required("Registration date is required"),hearingRemarks:t(),complainantId:t(),penaltyFine:t(),resolutionActionTaken:t(),appealStatus:t(),appealDetails:t(),slaTimeFrame:t(),actionByRoleId:t(),actionByUserId:t(),assignedCaseManager:t().required("Case manager is required"),caseCategory:t().required("Case category is required"),processType:t(),internalNotes:t(),judgeData:Je().of(de({judgeId:t().when("processType",{is:"Internal",then:()=>t().required("Judge name is required")}),judgeName:t().required("Judge name is required"),judgeTypeId:t().required("Judge name is required"),judgeType:t().required("Judge name is required")})),advocateData:Je().of(de({advocateId:t().required("Advocate name is required"),advocateName:t().required("Advocate name is required"),advocateTypeId:t().required("Advocate name is required"),advocateType:t().required("Advocate name is required")})),isUlbPetitioner:t(),isUlbRespondent:t(),petitionerAddress:t().required().label("Petitioner"),respondentAddress:t().required().label("Respondent")}),js=()=>{var me,pe,be,xe,ge,he,je,Ne,ve,ye,fe,_e,Ce,we,Ae,Se,Ie,Te,qe,ke;const{user:j}=es(),n=us(),B=ss(),[m,b]=g.useState(!1),[$,p]=g.useState(!1),[l,S]=g.useState({caseDetails:!0,legalProvisions:!0,courtInfo:!0,partyDetails:!0,statusHearing:!0,adminDetails:!0,appealExecution:!0,judge:!0,advocate:!0}),{id:N}=as(),I=ds({}),r=rs({defaultValues:{isUlbPetitioner:"No",isUlbRespondent:"No",caseNo:"",year:"",filedOn:"",caseTypeId:"",caseSubTypeId:"",natureOfCaseId:"",caseDescription:"",actsId:"",sectionsId:"",courtName:"",courtTypeId:"",courtLocation:"",petitionerName:"",petitionerContact:"",petitionerAdvocate:"",respondent:"",respondentContact:"",respondentAdvocate:"",additionalParties:"",caseRegistrationDate:"",casePriority:"",hearingRemarks:"",complainantId:"",penaltyFine:"",resolutionActionTaken:"",appealStatus:"",appealDetails:"",slaTimeFrame:"",actionByRoleId:"",actionByUserId:"",assignedCaseManager:"",caseCategory:"",processType:"",internalNotes:"",petitionerAddress:"",respondentAddress:"",judgeData:[],advocateData:[]},resolver:ls(hs)}),{fields:F,append:_,remove:T,update:U}=Ve({control:r.control,name:"judgeData"}),{fields:Q,append:C,remove:k,update:Z}=Ve({control:r.control,name:"advocateData"}),w=R({api:`${q.getDetailsByCaseId}/${N}`,key:"getCaseDetails",value:[N],options:{enabled:!!N}}),Y=R({api:`${q.getAllCaseType}`,key:"getAllCaseTypeList",value:[],options:{enabled:!0}}),v=R({api:`${q.getAllCaseSubTypesByType}/${r.watch("caseTypeId")}`,key:"getAllCaseSubTypesByType",value:[r.watch("caseTypeId")],options:{enabled:!!r.watch("caseTypeId")}}),o=R({api:`${q.getAllCaseNature}`,key:"getAllCaseNature",value:[],options:{enabled:!0}}),i=R({api:`${q.getAllActType}`,key:"getAllActType",value:[],options:{enabled:!0}}),d=R({api:`${q.getAllSectionByCaseActId}/${r.watch("actsId")}`,key:"getAllSectionByCaseActId",value:[r.watch("actsId")],options:{enabled:!!r.watch("actsId")}}),c=R({api:`${q.getAllCourtType}`,key:"getAllCourtType",value:[],options:{enabled:!0}}),y=R({api:`${q.getAllJudgeType}`,key:"getAllJudgeType",value:[],options:{enabled:!0}}),X=[{id:1,name:"External"},{id:2,name:"Internal"}],Qe=[{id:1,name:"High Priority - Encroachment"},{id:2,name:"General - Property"}];g.useEffect(()=>{var s,x,z,P,ae,te,re,le,L,f,A,Pe,De,Re,Fe,Ue,Ee;if((s=w.data)!=null&&s.data&&((x=Y.data)!=null&&x.data)&&((z=o.data)!=null&&z.data)&&((P=c.data)!=null&&P.data)&&((ae=y.data)!=null&&ae.data)&&((te=i.data)!=null&&te.data)){const a=w.data.data;r.reset({caseNo:a.case_no||"",year:a.year||"",filedOn:a.filed_on||"",caseTypeId:String(a==null?void 0:a.case_type_id),caseSubTypeId:((re=a==null?void 0:a.case_sub_type_id)==null?void 0:re.toString())??"",natureOfCaseId:(le=a==null?void 0:a.nature_of_case_id)==null?void 0:le.toString(),caseDescription:a.case_description||"",actsId:(L=a.acts_id)==null?void 0:L.toString(),sectionsId:(f=a==null?void 0:a.sections_id)==null?void 0:f.toString(),courtName:a.court_name||"",courtTypeId:(A=a==null?void 0:a.court_type_id)==null?void 0:A.toString(),courtLocation:a.court_location||"",petitionerName:a.petitioner_name||"",petitionerContact:a.petitioner_contact||"",petitionerAdvocate:a.petitioner_advocate||"",respondent:a.respondent||"",respondentContact:a.respondent_contact||"",respondentAdvocate:a.respondent_advocate||"",additionalParties:a.additional_parties||"",caseRegistrationDate:a.case_registration_date||"",petitionerAddress:(a==null?void 0:a.petitioner_address)||"",respondentAddress:(a==null?void 0:a.respondent_address)||"",complainantId:a.complaint_id||"",penaltyFine:a.penalty_fine||"",resolutionActionTaken:a.resolution_action_taken||"",appealStatus:a.appeal_status||"",appealDetails:a.appeal_details||"",slaTimeFrame:((Pe=a.sla_time_frame)==null?void 0:Pe.toString())||"",actionByRoleId:((De=a.action_by_role_id)==null?void 0:De.toString())||"",actionByUserId:((Re=a.action_by_user_id)==null?void 0:Re.toString())||"",assignedCaseManager:a.assigned_case_manager||"",caseCategory:((Fe=a.case_category)==null?void 0:Fe.toString())||"",processType:a.process_type||"",internalNotes:a.internal_notes||"",isUlbPetitioner:a.is_ulb_petioner||"",isUlbRespondent:a.is_ulb_respondent||"",casePriority:a.case_priority||"",judgeData:((Ue=a==null?void 0:a.judgeData)==null?void 0:Ue.map(E=>{var ie,ne;return{judgeId:((ie=E.judge_id)==null?void 0:ie.toString())||"",judgeName:E.judge_name||"",judgeTypeId:((ne=E.judge_type_id)==null?void 0:ne.toString())||"",judgeType:E.judge_type||""}}))||[],advocateData:((Ee=a==null?void 0:a.advocateData)==null?void 0:Ee.map(E=>{var ie,ne;return{advocateId:((ie=E.advocate_id)==null?void 0:ie.toString())||"",advocateName:E.advocate_name||"",advocateTypeId:((ne=E.advocate_type_id)==null?void 0:ne.toString())||"",advocateType:E.advocate_type||""}}))||[]}),p(!0)}},[w.data,Y.data,o.data,c.data,y.data,i.data,r]);const Xe=async s=>{var x,z,P,ae,te,re,le;if(((x=s==null?void 0:s.judgeData)==null?void 0:x.length)<=0)return h.error("Please add at least one Judge to proceed");if(((z=s==null?void 0:s.advocateData)==null?void 0:z.length)<=0)return h.error("Please add at least one Advocate to proceed");try{const L={id:Number(N),case_no:s.caseNo,year:s.year,filed_on:s.filedOn,case_type_id:parseInt(s.caseTypeId),case_sub_type_id:parseInt(s.caseSubTypeId),nature_of_case_id:parseInt(s.natureOfCaseId),acts_id:parseInt(s.actsId),sections_id:parseInt(s.sectionsId),court_type_id:parseInt(s.courtTypeId),court_location:s.courtLocation,case_priority:s.casePriority,petitioner_name:s.petitionerName,petitioner_contact:s.petitionerContact,respondent:s.respondent,respondent_contact:s.respondentContact,petitioner_advocate:s.petitionerAdvocate,respondent_advocate:s.respondentAdvocate,additional_parties:s.additionalParties,case_registration_date:s.caseRegistrationDate,petitioner_address:s==null?void 0:s.petitionerAddress,respondent_address:s==null?void 0:s.respondentAddress,hearing_remarks:s.hearingRemarks,court_name:s.courtName,complaint_id:s.complainantId,penalty_fine:s.penaltyFine,resolution_action_taken:s.resolutionActionTaken,appeal_status:s.appealStatus,appeal_details:s.appealDetails,sla_time_frame:s.slaTimeFrame?parseInt(s.slaTimeFrame):null,action_by_role_id:(j==null?void 0:j.roleId)||null,action_by_user_id:(j==null?void 0:j._id)||null,assigned_case_manager:s.assignedCaseManager,case_category:parseInt(s.caseCategory),process_type:s.processType,internal_notes:s.internalNotes,is_ulb_petitioner:s.isUlbPetitioner==="Yes",is_ulb_respondent:s.isUlbRespondent==="Yes",judgeData:(P=s==null?void 0:s.judgeData)==null?void 0:P.map(A=>({judge_id:s.processType==="External"?0:Number(A.judgeId??0),judge_name:A.judgeName,judge_type:A.judgeType,judge_type_id:parseInt(A.judgeTypeId)})),advocateData:(ae=s==null?void 0:s.advocateData)==null?void 0:ae.map(A=>({advocate_id:parseInt(A.advocateId),advocate_name:A.advocateName,advocate_type:A.advocateType,advocate_type_id:parseInt(A.advocateTypeId),is_petitioner:s.isUlbPetitioner==="Yes"}))};console.log("Transformed data:",L);const f=await I.mutateAsync({api:`${q.updateCase}`,data:L});console.log("Response:",f),(te=f==null?void 0:f.data)!=null&&te.success?(h.success(((re=f==null?void 0:f.data)==null?void 0:re.message)||"Case updated successfully"),B("/legal/dashboard/case-entry-form-list")):h.error(((le=f==null?void 0:f.data)==null?void 0:le.message)||"Failed to update case")}catch(L){console.error("Submit error:",L),h.error(cs(L.message))}},H=s=>{S(x=>({...x,[s]:!x[s]}))},ce=(pe=(me=n==null?void 0:n.data)==null?void 0:me.data)==null?void 0:pe.filter(s=>s.roleId==75),ue=(xe=(be=n==null?void 0:n.data)==null?void 0:be.data)==null?void 0:xe.filter(s=>s.roleId==76);if(w.isFetching||!$)return e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-gray-100 font-sans",children:e.jsx("div",{className:"flex min-h-screen items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ms,{className:"mx-auto mb-4 h-8 w-8 animate-spin text-blue-600"}),e.jsx("p",{className:"text-lg text-blue-600",children:"Loading case details..."})]})})});if(w.isError)return e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-gray-100 font-sans",children:e.jsx("div",{className:"flex min-h-screen items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Be,{className:"mx-auto mb-4 h-8 w-8 text-red-600"}),e.jsx("p",{className:"text-lg text-red-600",children:"Failed to load case details"}),e.jsx(O,{onClick:()=>B(-1),className:"mt-4",variant:"outline",children:"Go Back"})]})})});const Ze=()=>{const x=new Date().getFullYear()+5,z=[];for(let P=1950;P<=x;P++)z.push({label:P.toString(),value:P.toString()});return z.reverse()};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-gray-100 font-sans",children:[e.jsx("header",{className:"border-b-4 border-blue-600 bg-white shadow-lg",children:e.jsx("div",{className:"mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"mt-2 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold uppercase tracking-wider text-blue-900",children:"EDIT CASE DETAILS"}),e.jsxs("p",{className:"mt-2 text-sm text-blue-600",children:["Case No: ",(he=(ge=w.data)==null?void 0:ge.data)==null?void 0:he.case_no," | Year:"," ",(Ne=(je=w.data)==null?void 0:je.data)==null?void 0:Ne.year]})]})})}),e.jsx("main",{className:"mx-auto max-w-7xl px-4 py-8 sm:px-6 lg:px-8",children:e.jsx(is,{methods:r,onSubmit:r.handleSubmit(Xe),children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs(M,{className:"border-2 border-blue-300 shadow-md",children:[e.jsx(G,{className:"cursor-pointer border-b-2 border-blue-300 bg-blue-100",onClick:()=>H("caseDetails"),children:e.jsxs(W,{className:"flex items-center justify-between text-lg uppercase text-blue-800",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"rounded bg-blue-800 px-2 py-1 text-sm font-bold text-white",children:"1"}),e.jsx(ps,{className:"h-5 w-5"}),"Case Details"]}),l.caseDetails?e.jsx(J,{className:"h-5 w-5"}):e.jsx(V,{className:"h-5 w-5"})]})}),l.caseDetails&&e.jsx(K,{className:"bg-white p-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:[e.jsx("div",{className:"space-y-2",children:e.jsx(u,{name:"caseNo",label:"Case Number *",className:"border-2 border-blue-300 bg-blue-50 font-mono uppercase focus:ring-blue-500",inputValidation:["removeSpace"]})}),e.jsx("div",{className:"space-y-2",children:e.jsx(u,{name:"caseRegistrationDate",label:"Registration Date *",type:"date",className:"border-2 border-blue-300 bg-blue-50 focus:ring-blue-500"})}),e.jsx("div",{className:"space-y-2",children:e.jsx(u,{name:"filedOn",label:"Filed On *",type:"date",className:"border-2 border-blue-300 bg-blue-50 focus:ring-blue-500"})}),e.jsx("div",{className:"space-y-2",children:e.jsx(D,{disabled:v==null?void 0:v.isLoading,name:"caseTypeId",label:"Case Type *",className:"border-2 border-blue-300 bg-blue-50 focus:ring-blue-500",data:((ye=(ve=Y.data)==null?void 0:ve.data)==null?void 0:ye.map(s=>({label:s.case_type,value:s.id.toString()})))||[]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(D,{name:"caseSubTypeId",label:"Case Sub-Type *",className:"border-2 border-blue-300 bg-blue-50 focus:ring-blue-500",data:((_e=(fe=v.data)==null?void 0:fe.data)==null?void 0:_e.map(s=>({label:s.case_sub_type,value:s.id.toString()})))||[]}),(v==null?void 0:v.isLoading)&&e.jsx("h1",{className:"text-xs text-gray-600",children:"Loading.."})]}),e.jsx("div",{className:"space-y-2",children:e.jsx(D,{name:"natureOfCaseId",label:"Nature of Case *",className:"border-2 border-blue-300 bg-blue-50 focus:ring-blue-500",data:((we=(Ce=o==null?void 0:o.data)==null?void 0:Ce.data)==null?void 0:we.map(s=>({label:s.case_nature,value:s.id.toString()})))||[]})}),e.jsx("div",{className:"space-y-2",children:e.jsx(D,{name:"processType",label:"Process Type *",disabled:!0,className:"border-2 border-blue-300 bg-blue-50 focus:ring-blue-500",data:X.map(s=>({label:s.name,value:s.name.toString()}))})}),e.jsx("div",{className:"space-y-2",children:e.jsx(D,{name:"year",label:"Year *",data:Ze(),className:"border-2 border-blue-300 bg-blue-50 focus:ring-blue-500"})}),e.jsx("div",{className:"space-y-2",children:e.jsx(D,{name:"casePriority",label:"Case Priority *",className:"border-2 border-blue-300 bg-blue-50 focus:ring-blue-500",data:gs.map(s=>({label:s,value:s.toString()}))})}),e.jsx("div",{className:"col-span-1 space-y-2 sm:col-span-2 lg:col-span-3",children:e.jsx(ee,{name:"caseDescription",label:"Case Description *",rows:4})})]})})]}),e.jsxs(M,{className:"border-2 border-blue-300 shadow-md",children:[e.jsx(G,{className:"cursor-pointer border-b-2 border-blue-300 bg-blue-100",onClick:()=>H("legalProvisions"),children:e.jsxs(W,{className:"flex items-center justify-between text-lg uppercase text-blue-800",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"rounded bg-blue-800 px-2 py-1 text-sm font-bold text-white",children:"2"}),e.jsx(Be,{className:"h-5 w-5"}),"Legal Provisions"]}),l.legalProvisions?e.jsx(J,{className:"h-5 w-5"}):e.jsx(V,{className:"h-5 w-5"})]})}),l.legalProvisions&&e.jsx(K,{className:"bg-white p-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[e.jsx("div",{className:"space-y-2",children:e.jsx(D,{name:"actsId",label:"Acts Involved *",className:"border-2 border-blue-300 bg-blue-50 focus:ring-blue-500",data:((Se=(Ae=i==null?void 0:i.data)==null?void 0:Ae.data)==null?void 0:Se.map(s=>({label:String(s.case_act_name),value:s.id.toString()})))||[]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(D,{name:"sectionsId",label:"Sections Involved *",className:"border-2 border-blue-300 bg-blue-50 focus:ring-blue-500",data:((Te=(Ie=d==null?void 0:d.data)==null?void 0:Ie.data)==null?void 0:Te.map(s=>({label:String(s.section_name),value:s.id.toString()})))||[]}),(d==null?void 0:d.isLoading)&&e.jsx("h1",{className:"text-xs text-gray-600",children:"Loading.."})]})]})})]}),e.jsxs(M,{className:"border-2 border-blue-300 shadow-md",children:[e.jsx(G,{className:"cursor-pointer border-b-2 border-blue-300 bg-blue-100",onClick:()=>H("courtInfo"),children:e.jsxs(W,{className:"flex items-center justify-between text-lg uppercase text-blue-800",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"rounded bg-blue-800 px-2 py-1 text-sm font-bold text-white",children:"3"}),e.jsx(bs,{className:"h-5 w-5"}),"Court Information"]}),l.courtInfo?e.jsx(J,{className:"h-5 w-5"}):e.jsx(V,{className:"h-5 w-5"})]})}),l.courtInfo&&e.jsx(K,{className:"bg-white p-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:[e.jsx("div",{className:"space-y-2",children:e.jsx(u,{inputValidation:["removeSpecialCharacterExceptSpace","string","removeDoubleSpace","UppercaseAfterSpace"],name:"courtName",label:"Court Name *",className:"border-2 border-blue-300 bg-blue-50 focus:ring-blue-500"})}),e.jsx("div",{className:"space-y-2",children:e.jsx(D,{name:"courtTypeId",label:"Court Type *",className:"border-2 border-blue-300 bg-blue-50 focus:ring-blue-500",data:((ke=(qe=c==null?void 0:c.data)==null?void 0:qe.data)==null?void 0:ke.map(s=>({label:s.court_type_name,value:s.id.toString()})))||[]})}),e.jsx("div",{className:"space-y-2",children:e.jsx(u,{inputValidation:["removeSpecialCharacterExceptSpace","string","removeDoubleSpace","UppercaseAfterSpace"],name:"courtLocation",label:"Court Location *",className:"border-2 border-blue-300 bg-blue-50 focus:ring-blue-500"})})]})})]}),e.jsxs(M,{className:"border-2 border-blue-300 shadow-md",children:[e.jsx(G,{className:"cursor-pointer border-b-2 border-blue-300 bg-blue-100",onClick:()=>H("partyDetails"),children:e.jsxs(W,{className:"flex items-center justify-between text-lg uppercase text-blue-800",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"rounded bg-blue-800 px-2 py-1 text-sm font-bold text-white",children:"4"}),e.jsx(xs,{className:"h-5 w-5"}),"Party Details"]}),l.partyDetails?e.jsx(J,{className:"h-5 w-5"}):e.jsx(V,{className:"h-5 w-5"})]})}),l.partyDetails&&e.jsxs(K,{className:"bg-white p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"mb-4 border-b border-blue-300 pb-2 text-sm font-bold uppercase text-blue-800",children:e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsx("h1",{children:"A. Petitioner Details"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("h1",{className:"text-xs font-bold  text-blue-800",children:"ULB Petitioner"}),e.jsx("input",{checked:r.watch("isUlbPetitioner")==="Yes",type:"checkbox",name:"isUlbPetitioner",onChange:s=>{s.target.checked?(r.setValue("isUlbPetitioner","Yes"),r.setValue("isUlbRespondent","No")):r.setValue("isUlbPetitioner","No")}})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:[e.jsx("div",{className:"space-y-2",children:e.jsx(u,{inputValidation:["removeSpecialCharacterExceptSpace","string","removeDoubleSpace","UppercaseAfterSpace"],name:"petitionerName",label:"Petitioner Name *",className:"border-2 border-blue-300 bg-blue-50 focus:ring-blue-500"})}),e.jsx("div",{className:"space-y-2",children:e.jsx(u,{inputValidation:["number","mobile"],name:"petitionerContact",label:"Contact Number *",className:"border-2 border-blue-300 bg-blue-50 font-mono focus:ring-blue-500"})}),r.watch("isUlbPetitioner")==="No"&&e.jsx("div",{className:"space-y-2",children:e.jsx(u,{name:"petitionerAdvocate",label:"Advocate Name *",inputValidation:["removeSpecialCharacterExceptSpace","string","removeDoubleSpace","UppercaseAfterSpace"],className:"border-2 border-blue-300 bg-blue-50 focus:ring-blue-500"})})]}),e.jsx("div",{className:"mt-6 grid grid-cols-1 gap-6",children:e.jsx("div",{children:e.jsx(ee,{label:"Petitioner Address",name:"petitionerAddress",inputValidation:["removeDoubleSpace"]})})})]}),e.jsx(os,{className:"my-6"}),e.jsxs("div",{children:[e.jsx("h4",{className:"mb-4 border-b border-blue-300 pb-2 text-sm font-bold uppercase text-blue-800"}),e.jsx("div",{className:"mb-4 border-b border-blue-300 pb-2 text-sm font-bold uppercase text-blue-800",children:e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsx("h1",{children:" B. Respondent Details"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("h1",{className:"text-xs font-bold  text-blue-800",children:"ULB Respondent"}),e.jsx("input",{checked:r.watch("isUlbRespondent")==="Yes",type:"checkbox",name:"isUlbRespondent",onChange:s=>{s.target.checked?(r.setValue("isUlbRespondent","Yes"),r.setValue("isUlbPetitioner","No")):r.setValue("isUlbRespondent","No")}})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:[e.jsx("div",{className:"space-y-2",children:e.jsx(u,{inputValidation:["removeSpecialCharacterExceptSpace","string","removeDoubleSpace","UppercaseAfterSpace"],name:"respondent",label:"Respondent Name *",className:"border-2 border-blue-300 bg-blue-50 focus:ring-blue-500"})}),e.jsx("div",{className:"space-y-2",children:e.jsx(u,{name:"respondentContact",inputValidation:["number","mobile"],label:"Contact Number *",className:"border-2 border-blue-300 bg-blue-50 font-mono focus:ring-blue-500"})}),r.watch("isUlbRespondent")==="No"&&e.jsx("div",{className:"space-y-2",children:e.jsx(u,{name:"respondentAdvocate",inputValidation:["removeSpecialCharacterExceptSpace","string","removeDoubleSpace","UppercaseAfterSpace"],label:"Advocate Name *",className:"border-2 border-blue-300 bg-blue-50 focus:ring-blue-500"})})]})]}),e.jsx("div",{className:"mt-6 grid grid-cols-1 gap-6",children:e.jsx("div",{children:e.jsx(ee,{label:"Respondent Address *",name:"respondentAddress",inputValidation:["removeDoubleSpace"]})})}),e.jsx("div",{className:"mt-6",children:e.jsx(ee,{name:"additionalParties",label:"Additional Parties",rows:3})})]})]}),e.jsxs(M,{className:"border-2 border-blue-300 shadow-md",children:[e.jsx(G,{className:"cursor-pointer border-b-2 border-blue-300 bg-blue-100",onClick:()=>H("adminDetails"),children:e.jsxs(W,{className:"flex items-center justify-between text-lg uppercase text-blue-800",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"rounded bg-blue-800 px-2 py-1 text-sm font-bold text-white",children:"6"}),e.jsx(se,{className:"h-5 w-5"}),"Administrative Details"]}),l.adminDetails?e.jsx(J,{className:"h-5 w-5"}):e.jsx(V,{className:"h-5 w-5"})]})}),l.adminDetails&&e.jsxs(K,{className:"bg-white p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:[e.jsx("div",{className:"space-y-2",children:e.jsx(u,{inputValidation:["removeSpace"],name:"complainantId",label:"Complainant ID",className:"border-2 border-blue-300 bg-blue-50 font-mono focus:ring-blue-500"})}),e.jsx("div",{className:"space-y-2",children:e.jsx(D,{name:"caseCategory",label:"Case Category *",className:"border-2 border-blue-300 bg-blue-50 focus:ring-blue-500",data:Qe.map(s=>({label:s.name,value:s.id.toString()}))})}),e.jsx("div",{className:"space-y-2",children:e.jsx(u,{inputValidation:["removeSpecialCharacterExceptSpace","string","removeDoubleSpace","UppercaseAfterSpace"],name:"assignedCaseManager",label:"Case Manager *",className:"border-2 border-blue-300 bg-blue-50 focus:ring-blue-500"})}),e.jsx("div",{className:"space-y-2",children:e.jsx(u,{inputValidation:["number","zip"],name:"slaTimeFrame",label:"SLA Time Frame (Days)",type:"number",className:"border-2 border-blue-300 bg-blue-50 focus:ring-blue-500"})}),e.jsx("div",{className:"space-y-2",children:e.jsx(u,{inputValidation:["decimal"],name:"penaltyFine",label:"Penalty/Fine Levied",className:"border-2 border-blue-300 bg-blue-50 uppercase focus:ring-blue-500"})}),e.jsx("div",{className:"space-y-2",children:e.jsx(u,{name:"resolutionActionTaken",label:"Resolution Action Taken",className:"border-2 border-blue-300 bg-blue-50 uppercase focus:ring-blue-500"})})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs(O,{type:"button",variant:"outline",className:"flex items-center gap-2 border-blue-300 text-blue-700 hover:bg-blue-100",onClick:()=>b(!m),children:[m?e.jsx(J,{className:"h-4 w-4"}):e.jsx(V,{className:"h-4 w-4"}),"Internal Notes"]}),m&&e.jsx("div",{className:"mt-4 space-y-2 transition-all duration-300 ease-in-out",children:e.jsx(ee,{name:"internalNotes",label:"Internal Notes",rows:4})})]})]})]}),e.jsxs(M,{className:"border-2 border-blue-300 shadow-md",children:[e.jsx(G,{className:"cursor-pointer border-b-2 border-blue-300 bg-blue-100",onClick:()=>H("appealExecution"),children:e.jsxs(W,{className:"flex items-center justify-between text-lg uppercase text-blue-800",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"rounded bg-blue-800 px-2 py-1 text-sm font-bold text-white",children:"7"}),e.jsx(se,{className:"h-5 w-5"}),"Appeal & Execution Details"]}),l.appealExecution?e.jsx(J,{className:"h-5 w-5"}):e.jsx(V,{className:"h-5 w-5"})]})}),l.appealExecution&&e.jsx(K,{className:"bg-white p-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-1",children:[e.jsx("div",{className:"space-y-2",children:e.jsx(u,{name:"appealStatus",label:"Appeal Status",className:"border-2 border-blue-300 bg-blue-50 uppercase focus:ring-blue-500"})}),e.jsx("div",{className:"space-y-2",children:e.jsx(ee,{name:"appealDetails",label:"Appeal Details",rows:3})})]})})]}),e.jsxs(M,{className:"overflow-hidden border-2 border-blue-300 shadow-lg transition-all duration-200 hover:shadow-xl",children:[e.jsx(G,{className:"hover:to-blue-150 cursor-pointer border-b-2 border-blue-300 bg-gradient-to-r from-blue-50 to-blue-100 transition-colors duration-200 hover:from-blue-100",onClick:()=>H("appealExecution"),children:e.jsxs(W,{className:"flex items-center justify-between text-lg font-semibold uppercase text-blue-900",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-blue-800 shadow-md",children:e.jsx("span",{className:"text-sm font-bold text-white",children:"8"})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(se,{className:"h-6 w-6 text-blue-700"}),e.jsx("span",{className:"tracking-wide",children:"Judge"})]})]}),e.jsx("div",{className:"rounded-full bg-white/50 p-2 transition-transform duration-200",children:l.appealExecution?e.jsx(J,{className:"h-5 w-5 text-blue-700"}):e.jsx(V,{className:"h-5 w-5 text-blue-700"})})]})}),l.appealExecution&&e.jsx(K,{className:"bg-gradient-to-br from-white to-gray-50 p-8",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsx("div",{className:"flex-1",children:e.jsx("h2",{className:"mb-2 text-xl font-semibold text-gray-800",children:"Judge Selection"})}),e.jsx($e,{methods:r,judgeData:ue,append:_,editData:null,isExternal:r.watch("processType")=="External"})]}),e.jsx("div",{className:"mt-4 space-y-2",children:F.map((s,x)=>e.jsxs("div",{className:"flex items-center justify-between rounded border p-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.judgeName}),e.jsx("div",{className:"text-sm text-gray-500",children:s.judgeType})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx($e,{methods:r,judgeData:ue,append:_,editData:s,update:U,editIndex:x,isEdit:!0,isExternal:r.watch("processType")=="External"}),e.jsx("button",{type:"button",onClick:()=>{T(x),h.success("Judge removed successfully")},children:e.jsx(Oe,{className:"text-red-700",size:20})})]})]},s.id))}),(r==null?void 0:r.watch("judgeData").length)===0&&e.jsxs("div",{className:"rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 py-2 text-center",children:[e.jsx(se,{size:48,className:"mx-auto mb-4 text-gray-400"}),e.jsx("h3",{className:"mb-2 text-lg font-medium text-gray-700",children:"No judges selected yet"}),e.jsx("p",{className:"mb-4 text-gray-500",children:"Please select at least one judge to proceed"})]})]})})]}),e.jsxs(M,{className:"overflow-hidden border-2 border-blue-300 shadow-lg transition-all duration-200 hover:shadow-xl",children:[e.jsx(G,{className:"hover:to-blue-150 cursor-pointer border-b-2 border-blue-300 bg-gradient-to-r from-blue-50 to-blue-100 transition-colors duration-200 hover:from-blue-100",onClick:()=>H("appealExecution"),children:e.jsxs(W,{className:"flex items-center justify-between text-lg font-semibold uppercase text-blue-900",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-blue-800 shadow-md",children:e.jsx("span",{className:"text-sm font-bold text-white",children:"9"})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(se,{className:"h-6 w-6 text-blue-700"}),e.jsx("span",{className:"tracking-wide",children:"Advocate"})]})]}),e.jsx("div",{className:"rounded-full bg-white/50 p-2 transition-transform duration-200",children:l.appealExecution?e.jsx(J,{className:"h-5 w-5 text-blue-700"}):e.jsx(V,{className:"h-5 w-5 text-blue-700"})})]})}),l.appealExecution&&e.jsx(K,{className:"bg-gradient-to-br from-white to-gray-50 p-8",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsx("div",{className:"flex-1",children:e.jsx("h2",{className:"mb-2 text-xl font-semibold text-gray-800",children:"Advocate Selection"})}),e.jsx(Ye,{methods:r,advocateData:ce,append:C,editData:null})]}),e.jsx("div",{className:"mt-4 space-y-2",children:Q.map((s,x)=>e.jsxs("div",{className:"flex items-center justify-between rounded border p-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.advocateName}),e.jsx("div",{className:"text-sm text-gray-500",children:s.advocateType})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Ye,{methods:r,advocateData:ce,append:C,editData:s,update:Z,editIndex:x,isEdit:!0}),e.jsx("button",{type:"button",onClick:()=>{k(x),h.success("Advocate removed successfully")},children:e.jsx(Oe,{className:"text-red-700",size:20})})]})]},s.id))}),(r==null?void 0:r.watch("advocateData").length)===0&&e.jsxs("div",{className:"rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 py-2 text-center",children:[e.jsx(se,{size:48,className:"mx-auto mb-4 text-gray-400"}),e.jsx("h3",{className:"mb-2 text-lg font-medium text-gray-700",children:"No advocates selected yet"}),e.jsx("p",{className:"mb-4 text-gray-500",children:"Please select at least one advocate to proceed"})]})]})})]}),!1,e.jsxs("div",{className:"flex flex-col justify-center gap-4 pt-6 sm:flex-row",children:[e.jsx(ns,{type:"submit",isLoading:r.formState.isSubmitting,className:"bg-green-700 px-8 py-3 font-bold uppercase text-white hover:bg-green-800",children:"Update Case Details"}),e.jsx(O,{type:"button",variant:"outline",className:"border-2 border-gray-300 px-8 py-3 font-bold uppercase text-gray-700 hover:bg-gray-100",onClick:()=>B(-1),children:"Cancel"})]})]})})})]})},Ns=js;function Js(){return e.jsx(ts,{children:e.jsx("div",{children:e.jsx(Ns,{})})})}export{Js as default};
