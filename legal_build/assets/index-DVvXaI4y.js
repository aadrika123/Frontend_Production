import{e as R,r as x,f as U,j as e,B as M,l as _,_ as u}from"./index-zxtnylZV.js";import{P as Y}from"./index-C5Uwlxr7.js";import{S as I,h as V}from"./Spinner-Dol9DZmk.js";import{C as L,b as O,d as Q,a as J,S as z}from"./separator-CtuECwg1.js";import{T as G,a as K,b as T,c as r,d as W,e as n}from"./table-D1FAdFHs.js";import{u as X,a as Z}from"./useCustomQuery-BZd6sq92.js";import{g as F}from"./services-KQnp_8oA.js";import{S as ee,Q as se,P as ae}from"./switch-DLtzr9lu.js";import{B as c}from"./badge-B_LDco0W.js";import{L as te}from"./loader-circle-DhzsJjlR.js";import{S as re}from"./square-pen-DN5rQTGf.js";import{S as h}from"./scale-CZhdT5aD.js";import"./input-B7M4LWRP.js";/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=R("View",[["path",{d:"M21 17v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2",key:"mrq65r"}],["path",{d:"M21 7V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v2",key:"be3xqs"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["path",{d:"M18.944 12.33a1 1 0 0 0 0-.66 7.5 7.5 0 0 0-13.888 0 1 1 0 0 0 0 .66 7.5 7.5 0 0 0 13.888 0",key:"11ak4c"}]]);function ie(){var f,v,b,y,N,S;const $=X({}),[d,A]=x.useState(1),[o,B]=x.useState(10),[p,H]=x.useState(""),[j,g]=x.useState(null),m=U(),a=Z({api:`${_.getAllCase}?page=${d}&limit=${o}&q=${p}`,key:"getAllCase",value:[d,o],options:{enabled:!0}}),D=async s=>{var i,l,C,w,P,k;g(s);try{const t=await $.mutateAsync({api:`${(i=_)==null?void 0:i.updateCaseNatureStatus}`,data:{id:s}});(l=t==null?void 0:t.data)!=null&&l.success?(a.refetch(),u[((w=(C=t==null?void 0:t.data)==null?void 0:C.data)==null?void 0:w.status)==1?"success":"error"]((P=t==null?void 0:t.data)==null?void 0:P.message)):u.error((k=t.data)==null?void 0:k.message)}catch(t){u.error(F(t))}finally{g(null)}},q=s=>{const l={1:{label:"Pending",variant:"secondary"},2:{label:"Disposed",variant:"outline"},3:{label:"Dismissed",variant:"destructive"},4:{label:"Close",variant:"success"}}[s]||{label:"Unknown",variant:"secondary"};return e.jsx(c,{variant:l.variant,children:l.label})};function E(s){return s==1?e.jsxs(c,{variant:"default",children:[e.jsx(h,{className:"w-3 h-3 mr-1"}),"Judge"]}):s==2?e.jsxs(c,{variant:"success",children:[e.jsx(h,{className:"w-3 h-3 mr-1"}),"Advocate"]}):s==0?e.jsxs(c,{variant:"destructive",children:[e.jsx(h,{className:"w-3 h-3 mr-1"}),"Case Opretor"]}):e.jsx(c,{variant:"secondary",children:e.jsx(h,{className:"w-3 h-3 mr-1"})})}return e.jsx("main",{className:"grid items-start pb-8",children:e.jsxs("div",{className:"grid auto-rows-max gap-6",children:[e.jsx("div",{className:"flex justify-end ",children:e.jsx(ee,{search:p,setSearch:H,refetch:a.refetch,isFetching:a==null?void 0:a.isLoading})}),e.jsxs(L,{className:"shadow-md",children:[e.jsx(O,{className:"px-6 pb-2 pt-6",children:e.jsxs(Q,{children:["Showing ",((v=(f=a==null?void 0:a.data)==null?void 0:f.pagination)==null?void 0:v.total)||0," Cases"]})}),e.jsx(J,{className:"overflow-x-auto px-6",children:a.isLoading?e.jsx("div",{className:"flex h-32 items-center justify-center",children:e.jsx(I,{})}):e.jsxs(e.Fragment,{children:[e.jsxs(G,{children:[e.jsx(K,{children:e.jsxs(T,{children:[e.jsx(r,{children:"#"}),e.jsx(r,{children:"Case No"}),e.jsx(r,{children:"Filed On"}),e.jsx(r,{children:"Petitioner"}),e.jsx(r,{children:"Respondent"}),e.jsx(r,{children:"Process Type"}),e.jsx(r,{children:"Court"}),e.jsx(r,{children:"Current Level"}),e.jsx(r,{children:"Current Status"}),e.jsx(r,{children:"Status"}),e.jsx(r,{children:"Action"})]})}),e.jsx(W,{children:(y=(b=a==null?void 0:a.data)==null?void 0:b.data)==null?void 0:y.map((s,i)=>e.jsxs(T,{children:[e.jsx(n,{children:(d-1)*o+i+1}),e.jsx(n,{className:"font-medium",children:s.case_no}),e.jsx(n,{children:V(s.filed_on).format("DD MMM YYYY")}),e.jsx(n,{children:s.petitioner_name}),e.jsx(n,{children:s.respondent||"-"}),e.jsx(n,{children:s.process_type?e.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold 
        ${s.process_type.toLowerCase()==="internal"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:s.process_type.charAt(0).toUpperCase()+s.process_type.slice(1)}):"-"}),e.jsx(n,{children:s.court_location}),e.jsx(n,{children:E(s.application_status)}),e.jsx(n,{children:q(s.case_status)}),e.jsx(n,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(se,{checked:s.status===1,onChange:()=>D(String(s.id)),disabled:j===String(s.id),className:`${s.status===1?"bg-green-600":"bg-gray-300"} relative inline-flex h-6 w-11 items-center rounded-full transition`,children:[e.jsx("span",{className:"sr-only",children:"Toggle status"}),e.jsx("span",{className:`${s.status===1?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition`})]}),j===String(s.id)&&e.jsx(te,{className:"h-4 w-4 animate-spin text-primary"})]})}),e.jsx(n,{children:e.jsxs("div",{className:"flex items-center gap-2 ",children:[e.jsx(M,{className:"p-2.5 text-blue-600",variant:"outline",onClick:()=>m(`/legal/dashboard/case-view-details/${s.id}`),children:e.jsx(ne,{})}),e.jsx(M,{className:"p-2.5 text-green-600",variant:"outline",onClick:()=>m(`/legal/dashboard/edit-case-details/${s.id}`),children:e.jsx(re,{})})]})})]},s.id))})]}),e.jsx(z,{className:"my-4"}),e.jsx("div",{className:"flex justify-end",children:e.jsx(ae,{page:d,limit:o,totalPages:(S=(N=a==null?void 0:a.data)==null?void 0:N.pagination)==null?void 0:S.totalPages,setPage:A,setLimit:B})})]})})]})]})})}function be(){return e.jsx(Y,{title:"Case List",subTitle:"Manage all the Case here",children:e.jsx("div",{children:e.jsx(ie,{})})})}export{be as default};
