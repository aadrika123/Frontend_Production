import{e as C,r as h,j as e,B as S,ac as F}from"./index-CqjJS2bP.js";import{u as B}from"./useCustomQuery-ConDporK.js";import{c as I}from"./useMasters-DYVV8TWq.js";import{c as R,a as j,u as P,o as L,F as $,R as A,B as E}from"./switch-Cmw1Nmo_.js";import{R as U}from"./RHFTextField-BvP9Tqi1.js";import"./select-fVpZTNW5.js";import{C as k}from"./circle-alert-lG_zBJb1.js";import{E as T}from"./eye-DmzpnJzr.js";import{B as q,G}from"./gavel-C2YHu4zH.js";import{C as p}from"./calendar-BU5FjI1f.js";import{C as H}from"./clock-Bcz3Zg93.js";import{S as V}from"./scale-BWdB5ubv.js";import{F as N}from"./file-text-CakkPbfz.js";import{U as z}from"./user-CK9-T0Wb.js";const M=R({ulbId:j().required("ULB is required"),caseNo:j().required("Case number is required")}),ie=()=>{var o,x;const y=C(),[d,t]=h.useState([]),[m,r]=h.useState(""),a=B({}),l=I(),n=P({defaultValues:{ulbId:"",caseNo:""},resolver:L(M)}),v=async s=>{var g,u;r(""),t([]);try{const i=await a.mutateAsync({api:`${F.getDetailsByCaseNoList}`,data:{ulb:s.ulbId,caseNo:s.caseNo}});(g=i.data)!=null&&g.success&&i.data?(t((u=i.data)==null?void 0:u.data),r("")):(r("Case not found. Please check the case number and try again."),t([]))}catch{r("An error occurred while searching. Please try again."),t([])}},f=s=>{switch(s==null?void 0:s.toLowerCase()){case"civil":return"bg-blue-100 text-blue-800";case"criminal":return"bg-red-100 text-red-800";case"family":return"bg-purple-100 text-purple-800";case"bankruptcy":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},b=s=>{switch(s){case 1:return"bg-green-100 text-green-800";case 0:return"bg-yellow-100 text-yellow-800";case 2:return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},w=s=>{switch(s){case 1:return"Active";case 0:return"Pending";case 2:return"Completed";default:return"Unknown"}},c=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),_=s=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(parseFloat(s));return e.jsxs("div",{className:"container  max-w-6xl px-4 py-8",children:[e.jsx("div",{className:"mb-6 rounded-lg border bg-white p-6 shadow-sm",children:e.jsx($,{methods:n,onSubmit:n.handleSubmit(v),children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("div",{children:e.jsx(A,{data:((x=(o=l==null?void 0:l.data)==null?void 0:o.data)==null?void 0:x.map(s=>({value:String(s.id),label:s.ulb_name})))||[],name:"ulbId",label:"Select ULB"})}),e.jsx("div",{children:e.jsx(U,{name:"caseNo",label:"Case Number",placeholder:"Enter case number"})}),e.jsx("div",{className:"col-span-2",children:e.jsx(E,{type:"submit",isLoading:a==null?void 0:a.isPending,variant:"outline",className:"bg-[#99B37C] text-white hover:bg-[#5c783b] hover:text-white",children:"Search"})})]})})}),m&&e.jsxs("div",{className:"mb-6 flex items-center gap-3 rounded-lg border border-red-200 bg-red-50 p-4",children:[e.jsx(k,{className:"h-5 w-5 text-red-500"}),e.jsx("span",{className:"text-red-700",children:m})]}),d.length>0&&e.jsx("div",{className:"space-y-6",children:d.map(s=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"rounded-lg border bg-white p-6 shadow-sm",children:[e.jsxs("div",{className:"mb-4 flex flex-col items-start justify-between gap-4 lg:flex-row",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"mb-3 flex items-center gap-3",children:[e.jsx("span",{className:"rounded bg-blue-50 px-3 py-1 font-mono text-lg font-bold text-blue-600",children:s.case_no}),e.jsx("span",{className:`rounded-full px-3 py-1 text-sm font-semibold ${f(s.case_type)}`,children:s.case_type}),e.jsx("span",{className:`rounded-full px-3 py-1 text-sm font-semibold ${b(s.status)}`,children:w(s.status)}),s.case_ref_no&&e.jsxs("span",{className:"rounded bg-gray-100 px-2 py-1 font-mono text-sm text-gray-700",children:["Ref: ",s.case_ref_no]})]}),e.jsxs("h2",{className:"mb-2 text-2xl font-bold text-gray-900",children:[s.petitioner_name," vs ",s.respondent]}),s.case_description&&e.jsx("p",{className:"text-gray-600",children:s.case_description})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(S,{variant:"outline",onClick:()=>y(`/legal/citizen/view-cases-details?caseId=${s.id}&ulbId=${n.watch("ulbId")}`),children:[e.jsx(T,{className:"h-5 w-5"})," View Case"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(q,{className:"mt-1 h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Court"}),e.jsx("div",{className:"text-gray-600",children:s.court_name||s.court_type}),e.jsx("div",{className:"text-sm text-gray-500",children:s.court_location})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(p,{className:"mt-1 h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Filed Date"}),e.jsx("div",{className:"text-gray-600",children:c(s.filed_on)})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(p,{className:"mt-1 h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Registration Date"}),e.jsx("div",{className:"text-gray-600",children:c(s.case_registration_date)})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(H,{className:"mt-1 h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Next Hearing"}),e.jsx("div",{className:"text-gray-600",children:c(s.next_hearing_date)})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(V,{className:"mt-1 h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Nature of Case"}),e.jsx("div",{className:"text-gray-600",children:s.nature_of_case})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(N,{className:"mt-1 h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Acts & Sections"}),e.jsxs("div",{className:"text-gray-600",children:[s.acts," - Section ",s.sections]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(z,{className:"mt-1 h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Case Manager"}),e.jsx("div",{className:"text-gray-600",children:s.assigned_case_manager})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(G,{className:"mt-1 h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Process Type"}),e.jsx("div",{className:"text-gray-600",children:s.process_type})]})]}),s.penalty_fine&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(N,{className:"mt-1 h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Penalty/Fine"}),e.jsx("div",{className:"text-gray-600",children:_(s.penalty_fine)})]})]})]})]})]})},s.id))})]})};export{ie as default};
