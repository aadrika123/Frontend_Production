import{u as j,a as p,_ as d,j as e,P as f}from"./index-_tqp0EYG.js";import{b as F,L as n}from"./react-OSf1gc3u.js";import{u as L,a as w,b as P,c as E,d as c,F as N,T as y,P as v,L as A}from"./useCustomQuery-0SuS2i3H.js";function B(){const{AutoFocusErrorField:m}=L(),a=j(),{mutateAsync:u,isLoading:i}=w({}),t=P({initialValues:{mobile:"",password:""},validationSchema:E({mobile:c().required("Required"),password:c().required("Required")}),onSubmit:async h=>{var o,r,l;try{const s=await u({api:p.login,data:h});((o=s==null?void 0:s.data)==null?void 0:o.status)===!0?(a==null||a.login(s),d.success((r=s==null?void 0:s.data)==null?void 0:r.message)):d.error((l=s==null?void 0:s.data)==null?void 0:l.message)}catch(s){console.log(s)}}}),{isSubmitting:x,submitCount:b,errors:g}=t;return F.useEffect(()=>{m({formik:t})},[g,b,x]),e.jsx(f,{title:"Login",children:e.jsxs("div",{children:[e.jsx("h2",{className:" font-semibold mb-4",children:"Login with Mobile No"}),e.jsxs(N,{formik:t,children:[e.jsx(y,{label:"Mobile No",name:"mobile",type:"mobile",formik:t,placeholder:"Enter your register mobile no"}),e.jsx(v,{label:"Password",name:"password",formik:t}),e.jsx("div",{className:"text-center mt-8",children:e.jsx(A,{type:"submit",loading:i,disabled:i,children:"Login"})}),e.jsxs("div",{className:"text-center mt-4",children:[e.jsx(n,{to:"/juidco-app/auth/register",className:"text-[#5846BE]",children:"Register"}),"  |  ",e.jsx(n,{to:"#",className:"text-[#5846BE]",children:"Forgot Password"})]})]})]})})}export{B as default};
