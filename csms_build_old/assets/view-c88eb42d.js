import{u as re,r,j as e,S as h,A as F,a as I,b as ie}from"./index-3941a546.js";import{C as ce}from"./index-e1c4c483.js";import{E as oe}from"./jspdf.plugin.autotable-2f7e7c6a.js";import{s as de}from"./employeeModal-b1122de2.js";import{B as xe}from"./BarLoader-5e24b4d4.js";import{n as s}from"./PowerupFunctions-d2a7455a.js";import{B as ne}from"./BottomErrorCard-b06e7e18.js";import{C as me,D as P,E as Y}from"./image 44-32519075.js";import{E as fe,P as he,T as ue,a as $,L as O,R as G}from"./left-c24e9a90.js";import{L as M}from"./image 37-ddb4d523.js";import"./Link-af3f82af.js";import"./typeof-7fd5df1e.js";import"./formik.esm-f1168841.js";import"./hoist-non-react-statics.cjs-39f77784.js";import"./index.esm-6cf26a62.js";function Pe(){const o=re(),[u,R]=r.useState(),[y,b]=r.useState(!0),[j,J]=r.useState(""),[p,v]=r.useState([]),[C,U]=r.useState(!1),[W,d]=r.useState(!1),[q,H]=r.useState(!1),[K,z]=r.useState(null);r.useState(null);const[je,Q]=r.useState(!1),[N,X]=r.useState(!1),E=()=>X(!N),{api_addEmployeeData:pe,api_editEmployeeData:we,api_deleteEmployeeData:Z,api_getEmployeeData:V,api_getEmployeeDataById:ge}=ie();r.useRef();const[n,ee]=r.useState([]),[i,k]=r.useState(1),[x,ye]=r.useState(10),D=()=>{d(!0),F.post(V,{},I()).then(function(t){var a,l,g,c;console.log("view Employee Data..",(a=t==null?void 0:t.data)==null?void 0:a.data),((l=t==null?void 0:t.data)==null?void 0:l.status)===!0?(R((g=t==null?void 0:t.data)==null?void 0:g.data),ee((c=t==null?void 0:t.data)==null?void 0:c.data)):f(!0,"Error occured while fetching data."),d(!1)}).catch(function(t){console.log("==2 error list...",t),f(!0,"Error occured while fetching data."),d(!1)})};r.useEffect(()=>{D()},[]);const _=i*x,te=_-x,w=n.slice(te,_),m=Math.ceil((n==null?void 0:n.length)/x);for(let t=1;t<=Math.ceil(n.length/x);t++);const B=()=>{i!==1&&k(i-1)},S=()=>{i!==m&&k(i+1)},se=[{title:"Emp No",feild:"empNo"},{title:"Name",feild:"full_name"},{title:"Gender",feild:"gender_name"},{title:"Category",feild:"category_name"},{title:"DOB",feild:"dob"},{title:"DOJ",feild:"doj"},{title:"Mobile",feild:"mobile"},{title:"Email",feild:"email"},{title:"Blood Group",feild:"blood_group_name"},{title:"Department",feild:"department_name"}],ae=()=>{const t=new oe;t.text("Employee Details",10,10),t.autoTable({theme:"grid",columns:se.map(a=>({...a,dataKey:a.feild})),body:u}),t.save("employee.pdf")},le=t=>{if(J(t),j!==""){const a=u.filter(l=>Object.values(l).join("").toLowerCase().includes(j.toLowerCase()));v(a)}else v(u)},T=t=>{h.fire({icon:"warning",title:"Are you sure to delete?",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel!"}).then(l=>{l.value&&a(t)});const a=l=>{d(!0),Q(!1);let g={id:l,status:"deactive"};F.post(Z,g,I()).then(function(c){var A,L;console.log("delete response..",(A=c==null?void 0:c.data)==null?void 0:A.data),((L=c==null?void 0:c.data)==null?void 0:L.status)===!0?D():f(!0,"Error occured in deletion."),d(!1)}).catch(function(c){console.log("==delete error...",c),f(!0,"Error occured in deletion."),d(!1)})}},f=(t,a)=>{z(a),H(t)};return e.jsxs(e.Fragment,{children:[W&&e.jsx(xe,{}),q&&e.jsx(ne,{activateBottomErrorCard:f,errorTitle:K}),e.jsx("div",{className:"bg-white h-[80vh] overflow-auto  flex  justify-center",children:e.jsxs("div",{className:"block w-full mx-[10px]",children:[e.jsxs("div",{className:"flex  max-[694px]:block",children:[e.jsx("div",{className:"flex w-full items-start justify-start ml-5 mt-5",children:e.jsxs("div",{className:"block w-full",children:[e.jsx("h1",{className:"text-4xl font-semibold text-gray-700 flex justify-start w-full ",children:"Employee List"}),e.jsx("h1",{className:"text-gray-600 flex justify-start text-sm w-full",children:"Unlock Your Potential. Join Our Journey Of Education And Excellence"})]})}),e.jsx("div",{className:"flex items-end justify-end w-full",children:e.jsxs("a",{title:"Add Employees",children:[" ",e.jsx("button",{type:"submit",className:"text-black text-[2.2vh] bg-[#fde047] font-bold py-[5px] px-[10px] rounded-[5px] h-[40px] w-[100px] flex items-center mr-2 justify-center ",onClick:()=>{E()},children:"+ ADD"}),N&&e.jsx(de,{isOpen:N,toggle:E})]})})]}),e.jsxs("div",{className:"flex float-right mt-2",children:[e.jsx("a",{title:"Download CSV",children:e.jsx("img",{src:fe,onClick:()=>U(!C),className:"  font-bold  mr-4 w-17 h-17 "})}),C&&e.jsx(ce,{data:u,target:"_blank"}),e.jsx("a",{title:"Download PDF",children:e.jsx("img",{src:he,className:"  font-bold  w-17 h-17",onClick:ae})})]}),e.jsx("div",{className:"block  py-2",children:e.jsx("div",{className:"w-auto mt-[10vh] h-[70vh] overflow-y-auto overflow-x-hidden flex pt-[3vh]  pr-[3vh] bg-white max-[1024px]:overflow-auto  max-[768px]:w-[95%] max-[425px]:overflow-auto mr-2",children:e.jsxs("div",{className:"block w-full mt-[-20px]",children:[e.jsxs("div",{className:"flex items-center text-[2.4vh] justify-end mr-4 mb-[10px] max-[918px]:block",children:[e.jsx("div",{className:"float-left w-full flex ml-4 max-[918px]:ml-0",children:e.jsxs("div",{className:"ml-5",children:[" ",e.jsx("h1",{className:"font-bold text-gray-500",children:"List Of Employee"})]})}),e.jsxs("div",{className:"items-center float-left  flex mr-4 max-[618px]:ml-4",children:[e.jsx("div",{className:"flex w-full mr-4",children:e.jsx("div",{className:`${y?" text-[#4ade80]":""}`,children:e.jsx("h1",{onClick:()=>b(!0),children:e.jsx("a",{title:"List View",children:e.jsx("img",{src:ue,alt:"table",className:"w-8 h-8"})})})})}),e.jsx("div",{className:"flex w-full",children:e.jsxs("div",{className:`${y?"":" text-[#4ade80]"}`,children:[" ",e.jsx("h2",{onClick:()=>b(!1),children:e.jsx("a",{title:"Card View",children:e.jsx("img",{src:me,alt:"card",className:"w-14 h-10"})})})]})})]}),e.jsx("input",{placeholder:"search...",onChange:t=>le(t.target.value),className:"ml-2 bg-white border border-[gainsboro] pl-[10px] rounded-[5px] h-10 max-[618px]:w-full"})]}),e.jsx("div",{className:"ml-4 mb-4",children:e.jsx("hr",{className:" border-b-2"})}),y?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"w-full h-[60vh] block   ",children:[e.jsxs("table",{className:"w-full mx-4 my-1   border-b border-b-gray overflow-auto max-[1000px]:w-[100vh] max-[1000px]:relative max-[1000px]:overflow-auto",children:[e.jsx("thead",{className:" text-gray-600 bg-[#E7EFFC] text-[1.7vh] p-12 w-full border-b border-b-gray h-[6vh] ",children:e.jsxs("tr",{className:"py-2 pl-4 w-full flex items-start justify-start text-left",children:[e.jsx("th",{className:"w-[100%]"}),e.jsx("th",{className:"w-[100%]",children:"Sl no."}),e.jsx("th",{className:"w-[100%] flex items-start justify-start",children:"Emp ID"}),e.jsx("th",{className:"w-[100%] flex items-start justify-start",children:"Full Name"}),e.jsx("th",{className:"w-[100%] flex items-start justify-start",children:"Gender"}),e.jsx("th",{className:"w-[100%] flex items-start justify-start",children:"Category"}),e.jsx("th",{className:"w-[100%] flex items-start justify-start ",children:"Department"}),e.jsx("th",{className:"w-[100%] flex items-start justify-start ",children:"Blood Group"}),e.jsx("th",{className:"w-[100%] flex items-start justify-start",children:"DOB"}),e.jsx("th",{className:"w-[100%] flex items-start justify-start",children:"DOJ"}),e.jsx("th",{className:"w-[100%] flex items-start justify-start",children:"Mobile"}),e.jsx("th",{className:"w-[100%] flex items-start justify-start",children:"Email"}),e.jsx("th",{className:"w-[100%] flex items-center justify-center pr-1 mr-[2vh]",children:"Action"})]})}),e.jsx("tbody",{children:j.length>1?p&&p.map((t,a)=>e.jsx(e.Fragment,{children:e.jsxs("tr",{className:"py-2 pl-4 w-full text-[2vh] flex items-center justify-center text-[#696969] text-left verdana even:bg-gray-100",children:[e.jsx("td",{className:"w-[100%] flex items-start justify-start text-[1.5vh]",children:e.jsx("img",{src:M,className:"w-6 h-6"})}),e.jsx("td",{className:"w-[100%] flex items-start justify-start text-[1.5vh]  px-1",children:s((i-1)*x+a+1)}),e.jsx("td",{className:"w-[100%] flex items-start justify-start  px-1",children:s(t.emp_no)}),e.jsx("td",{className:"w-[100%] flex items-start justify-start  px-1",children:s(t.full_name)}),e.jsx("td",{className:"w-[100%] flex items-start justify-start  px-1",children:s(t.gender_name)}),e.jsx("td",{className:"w-[100%] flex items-start justify-start  px-1",children:s(t.category_name)}),e.jsx("td",{className:"w-[100%] flex items-start justify-start  px-1",children:s(t.department_name)}),e.jsx("td",{className:"w-[100%] flex items-center justify-center   px-1",children:s(t.blood_group_name)}),e.jsx("td",{className:"w-[100%] flex items-start justify-start  px-1",children:s(t.dob)}),e.jsx("td",{className:"w-[100%] flex items-start justify-start  px-1",children:s(t.doj)}),e.jsx("td",{className:"w-[100%] flex items-start justify-start  px-1",children:s(t.mobile)}),e.jsx("td",{className:"w-[100%] flex items-start justify-start  px-1",children:t.email}),e.jsxs("td",{className:" w-[100%] flex items-end justify-end pr-1 mr-[2vh]",children:[e.jsx("a",{title:"Edit",children:e.jsx("img",{src:$,className:"mr-2 text-indigo-600  hover:text-gray-500 w-6 h-6",onClick:()=>{h.fire({icon:"warning",title:"Are you sure?",text:"You want to update it!",showCancelButton:!0,confirmButtonText:"Yes, update it!",cancelButtonText:"No, cancel!"}).then(l=>{l.value&&o(`/editstep-form/${t.id}`)})}})}),e.jsx("a",{title:"Delete",children:e.jsx("img",{src:P,className:" text-red-600 hover:text-gray-500 mr-2 w-6 h-6",onClick:()=>T(t.id)})}),e.jsx("a",{title:"View",children:e.jsx("img",{src:Y,className:"text-[#06b6d4] hover:text-gray-500 w-6 h-6",onClick:()=>o(`/viewstep-form/${t.id}`)})})]})]})})):w&&w.map((t,a)=>e.jsx(e.Fragment,{children:e.jsxs("tr",{className:"py-2 pl-4 w-full text-[2vh] flex items-center justify-center text-[#696969] text-left verdana even:bg-gray-100 border-b border-gray-b",children:[e.jsx("td",{className:"w-[100%] flex items-start justify-start text-[2.2vh]",children:e.jsx("img",{src:M,className:"w-6 h-6 hover:border-2 hover:border-[#4338ca]"})}),e.jsx("td",{className:"w-[100%] flex items-start justify-start text-[2.2vh]  px-1",children:s((i-1)*x+a+1)}),e.jsx("td",{className:"w-[100%] flex items-start justify-start  px-1",children:s(t.emp_no)}),e.jsx("td",{className:"w-[100%] flex items-start justify-start  px-1",children:s(t.full_name)}),e.jsx("td",{className:"w-[100%] flex items-start justify-start  px-1",children:s(t.gender_name)}),e.jsx("td",{className:"w-[100%] flex items-start justify-start  px-1",children:s(t.category_name)}),e.jsx("td",{className:"w-[100%] flex items-start justify-start  px-1",children:s(t.department_name)}),e.jsx("td",{className:"w-[100%] flex items-start justify-start  px-1",children:s(t.blood_group_name)}),e.jsx("td",{className:"w-[100%] flex items-start justify-start  px-1",children:s(t.dob)}),e.jsx("td",{className:"w-[100%] flex items-start justify-start  px-1",children:s(t.doj)}),e.jsx("td",{className:"w-[100%] flex items-start justify-start  px-1",children:s(t.mobile)}),e.jsx("td",{className:"w-[100%] flex items-start justify-start  px-1",children:s(t.email)}),e.jsxs("td",{className:" w-[100%] flex items-end justify-end pr-1 mr-[2vh] ",children:[e.jsx("a",{title:"Edit",children:e.jsx("img",{src:$,className:"mr-2 text-indigo-600  hover:text-gray-500 w-6 h-6",onClick:()=>{h.fire({icon:"warning",title:"Are you sure?",text:"You want to update it!",showCancelButton:!0,confirmButtonText:"Yes, update it!",cancelButtonText:"No, cancel!"}).then(l=>{l.value&&o(`/editstep-form/${t.id}`)})}})}),e.jsx("a",{title:"Delete",children:e.jsx("img",{src:P,className:" text-red-600 hover:text-gray-500 mr-2 w-6 h-6",onClick:()=>T(t.id)})}),e.jsx("a",{title:"View",children:e.jsx("img",{src:Y,className:"text-[#06b6d4] hover:text-gray-500 w-6 h-6",onClick:()=>o(`/viewstep-form/${t.id}`)})})]})]})}))})]}),e.jsxs("div",{className:"flex justify-between mt-10 ",children:[e.jsxs("div",{className:"ml-10",children:[" ","Page ",i," to ",m," "]}),e.jsxs("div",{className:"flex float-right",children:[e.jsx("img",{src:O,className:i===1?"opacity-50 mr-2":"opacity-100 mr-2",onClick:B}),e.jsx("img",{src:G,onClick:S,className:i===m?"opacity-50":"opacity-100"})]})]})]})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"block",children:[e.jsx("div",{className:"w-full h-auto mx-4 inline-grid grid-cols-5 gap-1 ",children:j.length>1?p&&p.map((t,a)=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:" w-full border my-2  h-auto block border-gray-100 shadow-md rounded-[5px] bg-white",children:[e.jsx("div",{className:"my-2 h-[17vh] flex items-center justify-center w-full",children:e.jsx("img",{src:t.upload_images,alt:"Generic placeholder image",className:"w-[130px] height-[130px] rounded-full "})}),e.jsxs("div",{className:"block items-center justify-center w-full",children:[e.jsx("h1",{className:"font-bold",children:s(t.full_name)}),e.jsx("h1",{children:s(t.email)}),e.jsx("h1",{children:s(t.dob)})]}),e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("button",{type:"submit",className:" hover:border-[gainsboro]  max-[1260px]:px-1 max-[840px]:mx-1  hover:text-gray-500  text-[2vh]  w-full py-[5px] px-[25px]  border  mx-[8px] mt-[20px] mb-[10px] text-indigo-600 border-indigo-600 bg-white",onClick:()=>{h.fire({icon:"warning",title:"Are you sure?",text:"You want to update it!",showCancelButton:!0,confirmButtonText:"Yes, update it!",cancelButtonText:"No, cancel!"}).then(l=>{l.value&&o(`/editstep-form/${t.id}`)})},children:"EDIT"}),e.jsx("button",{type:"submit",className:"hover:border-[gainsboro]  max-[1260px]:px-1 max-[840px]:mx-1  hover:text-gray-500 text-[2vh] w-full  border py-[5px] px-[25px]  mx-[8px] mt-[20px] mb-[10px] text-[#22d3ee] border-[#22d3ee] bg-white",onClick:()=>o(`/viewstep-form/${t.id}`),children:"VIEW"})," "]})]})," "]})):w&&w.map((t,a)=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:" w-full my-2  border  h-auto block border-gray-100 shadow-md  rounded-[5px] bg-white",children:[e.jsx("div",{className:"my-2 h-[15vh] flex items-center justify-center w-full",children:e.jsx("img",{src:t.upload_images,alt:"Generic placeholder image",className:"w-[150px] height-[150px] rounded-full "})}),e.jsxs("div",{className:"block items-center justify-center w-full",children:[e.jsx("h1",{className:"font-bold",children:s(t.full_name)}),e.jsx("h1",{children:s(t.email)}),e.jsx("h1",{children:s(t.dob)})]}),e.jsxs("div",{className:"flex w-full ",children:[e.jsx("button",{className:"text-[2vh] max-[1260px]:px-1 max-[840px]:mx-1 w-full py-[5px] px-[25px]  border  mx-[8px] mt-[20px] mb-[10px] text-indigo-600 border-indigo-600 bg-white hover:border-[gainsboro] hover:text-gray-500",onClick:()=>{h.fire({icon:"warning",title:"Are you sure?",text:"You want to update it!",showCancelButton:!0,confirmButtonText:"Yes, update it!",cancelButtonText:"No, cancel!"}).then(l=>{l.value&&o(`/editstep-form/${t.id}`)})},children:"EDIT"}),e.jsx("button",{className:"text-[2vh] max-[1260px]:px-1 max-[840px]:mx-1 w-full  border py-[5px] px-[25px]  mx-[8px] mt-[20px] mb-[10px] text-[#22d3ee] border-[#22d3ee] bg-white hover:border-[gainsboro] hover:text-gray-500",onClick:()=>o(`/viewstep-form/${t.id}`),children:"VIEW"})," "]})]})}))}),e.jsxs("div",{className:"flex justify-between mt-10 ",children:[e.jsxs("div",{className:"ml-10",children:[" ","Page ",i," to ",m," "]}),e.jsxs("div",{className:"flex float-right",children:[e.jsx("img",{src:O,className:i===1?"opacity-50 mr-2":"opacity-100 mr-2",onClick:B}),e.jsx("img",{src:G,onClick:S,className:i===m?"opacity-50":"opacity-100"})]})]})]})})]})})})]})})]})}export{Pe as default};
