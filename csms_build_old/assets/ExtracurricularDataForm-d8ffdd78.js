import{r as m,u as $,m as D,A as x,a as f,j as t,b as V}from"./index-3941a546.js";import{u as I}from"./formik.esm-f1168841.js";import{c as M,a as P}from"./index.esm-6cf26a62.js";import{c as R}from"./PowerupFunctions-d2a7455a.js";import{B as T}from"./BarLoader-5e24b4d4.js";import{B as p}from"./BottomErrorCard-b06e7e18.js";import{T as J}from"./Tabs-6a332c64.js";import"./hoist-non-react-statics.cjs-39f77784.js";const X=()=>{const[g,h]=m.useState(!1),[N,j]=m.useState(null),[C,s]=m.useState(!1),[O,E]=m.useState([]),{api_getextracurricularById:y,api_postextracurricular:B,api_editextracurricular:S,api_getextracurricular:F}=V(),n=$(),{id:d}=D(),A=M({extraCurricularName:P().required("Extracurricular is required feild")}),l=I({initialValues:{extraCurricularName:""},onSubmit:(a,r)=>{console.log("at submit ",a),k(a)},validationSchema:A}),k=a=>{s(!0);let r,i,c={extraCurricularName:a.extraCurricularName};d!==void 0?(r=S,i=c,i.id=d):(r=B,i=c),x.post(r,i,f()).then(function(e){var o,v,b;console.log("Extracurricular master..",(o=e==null?void 0:e.data)==null?void 0:o.data),((v=e==null?void 0:e.data)==null?void 0:v.status)===!0?n("/extra-curricular"):u(!0,`${(b=e==null?void 0:e.data)==null?void 0:b.message}`),s(!1)}).catch(function(e){console.log("==2 error list...",e),u(!0,"Error occured in submitting form."),s(!1)})},L=()=>{s(!0);let a={id:d};x.post(y,a,f()).then(function(r){var i,c,e,o;console.log("fetch edit data response..",(i=r==null?void 0:r.data)==null?void 0:i.data),(c=r==null?void 0:r.data)!=null&&c.status?_((e=r==null?void 0:r.data)==null?void 0:e.data):u(!0,`${(o=r==null?void 0:r.data)==null?void 0:o.message}`),s(!1)}).catch(function(r){console.log("= edit data error...",r),h(!0),s(!1)})},_=a=>{console.log("existing property details in prop address...",a),l.setFieldValue("id",a==null?void 0:a.id),l.setFieldValue("extraCurricularName",a==null?void 0:a.extracurricular_name)},q=()=>{x.post(F,{},f()).then(function(a){var r,i,c;(r=a==null?void 0:a.data)!=null&&r.status?E((i=a==null?void 0:a.data)==null?void 0:i.data):u(!0,`${(c=a==null?void 0:a.data)==null?void 0:c.message}`),s(!1)}).catch(function(a){console.log("==2 error list...",a),u(!0,"Error occured while fetching data.")})};m.useEffect(()=>{q(),d!==void 0&&L()},[]);const w=a=>{let r=a.target.name,i=a.target.value;r=="extraCurricularName"&&l.setFieldValue("extraCurricularName",R(i,l.values.extraCurricularName,20))},u=(a,r)=>{j(r),h(a)};return t.jsx(t.Fragment,{children:t.jsx("div",{className:"main-div",children:t.jsxs("div",{className:"main-inner-div",children:[C&&t.jsx(T,{}),g&&t.jsx(p,{activateBottomErrorCard:u,errorTitle:N}),t.jsxs("div",{className:"main-sub-div",children:[t.jsx("div",{className:"main-sub-inner-div",children:t.jsxs("div",{className:"text-div",children:[t.jsx("div",{className:"big-text",children:"Extra Activities Form"}),t.jsx("div",{className:"small-text",children:"Unlock Your Potential. Join Our Journey Of Education And Excellence"})]})}),t.jsx("div",{className:"tab-div",children:t.jsx("div",{className:"add-button-master-div'",children:t.jsxs("button",{onClick:()=>n("/extra-curricular-form"),type:"submit",className:" add-button-master",children:["Add"," "]})})})]}),d!==void 0?"":t.jsx(J,{listRoute:"/extra-curricular",formRoute:"/extra-curricular-form"}),t.jsx("div",{className:"details-div",children:t.jsx("span",{className:"detailes",children:"Details of Extra Activities"})}),t.jsx("div",{className:"form-div",children:t.jsx("form",{onSubmit:l.handleSubmit,onChange:w,children:t.jsxs("div",{className:"form",children:[t.jsx("div",{className:"col-span-4 grid grid-cols-12",children:t.jsxs("div",{className:"form-group mb-6 col-span-12 md:col-span-2 md:pr-4",children:[t.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Extracurricular Activities",t.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),t.jsx("input",{...l.getFieldProps("extraCurricularName"),type:"text",className:"form-control h-10 block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",placeholder:"Enter extra curricular activities"}),t.jsx("span",{className:"text-red-600  text-xs",children:l.touched.extraCurricularName&&l.errors.extraCurricularName?l.errors.extraCurricularName:null})]})}),t.jsxs("div",{className:"cancel-button-div",children:[t.jsx("div",{className:"    ",children:t.jsx("button",{onClick:()=>n("/extra-curricular"),type:"button",className:"cancel-button",children:"Back to List"})}),t.jsx("div",{className:"submit-button-div",children:t.jsx("button",{type:"submit",className:"cypress_next2_button submit-button",children:"Save"})})]})]})})})]})})})};export{X as default};
