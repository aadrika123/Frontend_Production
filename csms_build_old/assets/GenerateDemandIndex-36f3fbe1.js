import{j as e,r as i,u as T,A as j,a as g,Q as v,a5 as q,b as I}from"./index-3941a546.js";import{u as O}from"./useSetTitle-46440c1e.js";import{n as o}from"./PowerupFunctions-d2a7455a.js";import{L as V}from"./ListTableRedesign-5d45db33.js";import{u as J}from"./formik.esm-f1168841.js";import{c as Y,a as w}from"./index.esm-6cf26a62.js";import"./index-c310cdae.js";import"./Link-af3f82af.js";import"./hoist-non-react-statics.cjs-39f77784.js";const K=d=>{const x=[{id:1,month:"January",fee:["School Fee","Bus Fee","Renewal Fee"],amount:[2500,3e3,4e3],totalFee:7800,isPaid:!0},{id:2,month:"February",fee:["School Fee","Bus Fee","Renewal Fee"],amount:[2100,3200,4e3],totalFee:6800,isPaid:!1},{id:3,month:"March",fee:["School Fee","Bus Fee","Renewal Fee"],amount:[2100,3200,4e3],totalFee:6800,isPaid:!1},{id:3,month:"April",fee:["School Fee","Bus Fee","Renewal Fee"],amount:[2100,3200,4e3],totalFee:6800,isPaid:!1},{id:3,month:"May",fee:["School Fee","Bus Fee","Renewal Fee"],amount:[2100,3200,4e3],totalFee:6800,isPaid:!1},{id:3,month:"June",fee:["School Fee","Bus Fee","Renewal Fee"],amount:[2100,3200,4e3],totalFee:6800,isPaid:!1},{id:3,month:"July",fee:["School Fee","Bus Fee","Renewal Fee"],amount:[2100,3200,4e3],totalFee:6800,isPaid:!1},{id:3,month:"August",fee:["School Fee","Bus Fee","Renewal Fee"],amount:[2100,3200,4e3],totalFee:6800,isPaid:!1},{id:3,month:"September",fee:["School Fee","Bus Fee","Renewal Fee"],amount:[2100,3200,4e3],totalFee:6800,isPaid:!1},{id:3,month:"October",fee:["School Fee","Bus Fee","Renewal Fee"],amount:[2100,3200,4e3],totalFee:6800,isPaid:!1},{id:3,month:"November",fee:["School Fee","Bus Fee","Renewal Fee"],amount:[2100,3200,4e3],totalFee:6800,isPaid:!1},{id:3,month:"December",fee:["School Fee","Bus Fee","Renewal Fee"],amount:[2100,3200,4e3],totalFee:6800,isPaid:!1}];return e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"border-b-2 border-gray-200 mx-5 my-5"}),e.jsxs("div",{className:"m-auto w-[80%]",children:[e.jsxs("div",{className:"flex justify-between text-gray-500 my-10",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Roll No."}),e.jsx("p",{className:"mt-3",children:"1"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Registration No."}),e.jsx("p",{className:"mt-3",children:"REG12342356"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Student Name"}),e.jsx("p",{className:"mt-3",children:"Amit Kumar"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Father Name"}),e.jsx("p",{className:"mt-3",children:"Amit Kumar"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Class"}),e.jsx("p",{className:"mt-3",children:"X"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Sec"}),e.jsx("p",{className:"mt-3",children:"A"})]})]}),e.jsxs("div",{className:"m-auto mt-5",children:[e.jsxs("div",{className:"grid grid-cols-12 font-semibold text-lg text-gray-700",children:[e.jsx("div",{className:"col-span-4 ml-5",children:"Months"}),e.jsx("div",{className:"col-span-4 ml-3",children:"Fees"}),e.jsx("div",{className:"col-span-4",children:"Amount"})]}),e.jsxs("div",{className:" rounded-xl shadow-md border border-gray-200 px-5 overflow-auto h-80",children:[x.map((c,h)=>e.jsxs("div",{className:"grid grid-cols-12 text-gray-600 border-b py-2",children:[e.jsx("div",{className:"col-span-4 ",children:c.month}),e.jsx("div",{className:"col-span-4",children:c.fee.map(n=>e.jsx("p",{children:n}))}),e.jsxs("div",{className:"col-span-4",children:[c.amount.map(n=>e.jsxs("p",{children:["₹ ",n]})),e.jsx("div",{className:"bg-gray-200 pr-10 pl-4 inline-block -ml-4 border border-gray-300",children:e.jsx("p",{className:"inline   w-[30%]",children:"₹ 7800"})})]})]},h)),e.jsxs("div",{className:"grid grid-cols-12  my-2",children:[e.jsx("p",{className:"col-span-4"}),e.jsx("p",{className:"col-span-4 font-bold text-lg text-gray-700",children:" Total Amount "}),e.jsx("p",{className:"col-span-4 border border-gray-300 bg-gray-200 w-[30%] font-medium text-gray-600",children:"Rs. 4000/-"})]})]})]})]})]})},de=()=>{const[d,x]=i.useState(0),[c,h]=i.useState([]);i.useState(!0);const[n,S]=i.useState(null),[Q,D]=i.useState(!1),[U,A]=i.useState(null),[X,r]=i.useState(!1),[f,B]=i.useState([]);i.useState([]);const{api_finance_year:R,api_getDemandGenerate:P,api_postDemandGenerate:E,api_editDemandGenerate:z,api_searchDemandGenerate:W}=I();T(),O("Generate Demand"),i.useEffect(()=>{L(),N(),m.setFieldValue("dateValue")},[]);const L=()=>{r(!0),j.post(R,{},g()).then(function(a){a!=null&&a.data?(console.log(a==null?void 0:a.data),B(a==null?void 0:a.data)):u(!0,"Error occured while fetching data."),r(!1)}).catch(function(a){console.log("==2 error list...",a),u(!0,"Error occured while fetching data."),r(!1)})},N=()=>{r(!0),j.post(P,{},g()).then(function(a){var s,t;(s=a==null?void 0:a.data)!=null&&s.status?h((t=a==null?void 0:a.data)==null?void 0:t.data):u(!0,"Error occured while fetching data."),r(!1)}).catch(function(a){console.log("==2 error list...",a),u(!0,"Error occured while fetching data."),r(!1)})},C=Y({fy:w().required("Select financial year."),admissionNo:w().required("Enter admission number.")}),m=J({initialValues:{fy:"",admissionNo:""},onSubmit:(a,s)=>{console.log("at submit ",a),_(a)},validationSchema:C});console.log(n);const _=a=>{r(!0);let s,t={fy:a.fy,admissionNo:a.admissionNo};n!==null?(s=t,s.id=n):s=t,j.post(E,s,g()).then(function(l){var b,F,y;console.log("view fee master..",(b=l==null?void 0:l.data)==null?void 0:b.data),(F=l==null?void 0:l.data)!=null&&F.status?N():v.error(`${(y=l==null?void 0:l.data)==null?void 0:y.message}`),r(!1)}).catch(function(l){console.log("==2 error list...",l),v.warning("Error occured in submitting form"),r(!1)})},p=new Date;let M=String(p.getDate()).padStart(2,"0"),G=String(p.getMonth()+1).padStart(2,"0"),k=p.getFullYear(),H=`${M}-${G}-${k}`;const $=[{Header:"Admission No.",accessor:"admission_no"},{Header:"Student Name",accessor:"student_name        ",Cell:({cell:a})=>e.jsx("span",{children:o(a.row.original.student_name)})},{Header:"Month Name",accessor:"month_name"},{Header:"Fee Head",accessor:"fee_head",Cell:({cell:a})=>e.jsx("span",{children:o(a.row.original.fee_head)})},{Header:"Amount",accessor:"amount",Cell:({cell:a})=>e.jsx("span",{children:o(a.row.original.amount)})},{Header:"Created Date & Time",Cell:({cell:a})=>{var s,t;return e.jsxs("span",{children:[o((s=a.row.original)==null?void 0:s.date)," |"," ",o((t=a.row.original)==null?void 0:t.time)]})}},{Header:"Status",Cell:({cell:a})=>{var s,t;return e.jsx("span",{className:((s=a.row.original)==null?void 0:s.status)==="Active"?"text-[green]":"text-[red]",children:o((t=a.row.original)==null?void 0:t.status)})}}],u=(a,s)=>{A(s),D(a)};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"w-full col-span-10 2xl:py-3 2xl:px-4 px-4 py-2",children:e.jsx("div",{className:"border-[2px] border-gray-200 rounded-md h-[82vh] 2xl:p-6 p-4 overflow-y-auto",children:e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"flex w-full justify-between items-center max-[870px]:block",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-3xl font-semibold text-gray-600 flex flex-start",children:"Generate Demand"}),e.jsx("span",{className:"text-sm font-medium text-gray-400",children:"Empowering Education: Discover Transparent and Affordable Class Fees"})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"search",name:"",id:"",className:"border-2 border-gray-300 w-[20vw] h-[4.5vh] relative rounded-sm pl-[2.2vw] focus:outline-none focus:border-2 focus:border-gray-500",placeholder:"Search..."}),e.jsx("span",{className:"absolute top-[1vh] left-[0.6vw] text-[2.4vh] text-gray-500",children:e.jsx(q,{})})]})})]}),e.jsx("form",{onSubmit:m.handleSubmit,children:e.jsxs("div",{className:"w-full grid grid-cols-10 text-gray-500 mt-5 max-[1120px]:block ",children:[e.jsxs("div",{className:"col-span-3 flex w-full justify-center gap-3  max-[1120px]:mt-2 max-[1120px]:justify-start",children:[e.jsx("p",{children:"Demand Date"}),e.jsx("input",{type:"text",...m.getFieldProps("dateValue"),disabled:!0,placeholder:H,className:"border rounded-lg h-8 shadow w-[50%] px-3"})]}),e.jsxs("div",{className:"col-span-3 flex w-full gap-3  max-[1120px]:mt-2 max-[1120px]:justify-start",children:[e.jsxs("p",{children:["Financial Year"," ",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600  ",children:"*"})]}),e.jsxs("select",{required:!0,...m.getFieldProps("fy"),id:"",className:"border rounded-lg h-8 shadow w-[50%] px-3",children:[e.jsx("option",{value:"",children:"Select"}),f==null?void 0:f.map((a,s)=>e.jsx("option",{value:a==null?void 0:a.fy,children:a==null?void 0:a.fy}))]})]}),e.jsxs("div",{className:"col-span-3 flex w-full justify-end gap-3  max-[1120px]:mt-2 max-[1120px]:justify-start",children:[e.jsxs("p",{children:["Admission no."," ",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600  ",children:"*"})]}),e.jsx("input",{required:!0,type:"text",...m.getFieldProps("admissionNo"),className:"border rounded-lg h-8 shadow w-[50%] px-3"})]}),e.jsx("div",{className:"col-span-1 flex w-full justify-end gap-3  max-[1120px]:mt-2 max-[1120px]:justify-start",children:e.jsx("button",{type:"submit",className:"bg-[#6AB783] px-3 rounded-md text-white",children:"Generate"})})]})}),e.jsxs("div",{className:"text-gray-600 flex gap-4 mt-8 mb-4",children:[e.jsx("div",{className:d==0&&"border-b-[2px] border-blue-500 w-max pb-2",children:e.jsx("button",{className:`${d==0?"bg-blue-200":"bg-gray-300"}  px-2 py-1.5 w-[4rem] rounded-[4px] text-sm transition-all duration-200`,onClick:()=>x(0),children:"List"})}),e.jsx("div",{className:d==1&&"border-b-[2px] border-blue-500 w-max pb-2",children:e.jsx("button",{className:`${d==1?"bg-blue-200":"bg-gray-200"}  px-2 py-1.5 w-[4rem] rounded-[4px] text-sm transition-all duration-200`,onClick:()=>(x(1),S(null)),children:"Details"})})]}),e.jsx("div",{className:"max-[768px]:block ",children:e.jsxs("div",{className:"max-[768px]:justify-start max-[768px]:mt-2",children:[d==0&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"mt-6",children:[e.jsx("h1",{className:"text-gray-600 text-xl",children:"List Of Students"}),e.jsx(V,{columns:$,dataList:c})]})}),d==1&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"mt-6",children:[e.jsx("h1",{className:"text-gray-600 text-xl",children:"Details Of Students"}),e.jsx(K,{id:n})]})})]})})]})})})})};export{de as default};
