import{u as it,r as l,j as t,S as u,A as L,a as $,b as lt}from"./index-3941a546.js";import{C as rt}from"./index-e1c4c483.js";import{E as nt}from"./jspdf.plugin.autotable-2f7e7c6a.js";import{B as dt}from"./BarLoader-5e24b4d4.js";import{n as s}from"./PowerupFunctions-d2a7455a.js";import{B as ot}from"./BottomErrorCard-b06e7e18.js";import{s as xt}from"./studentModal-57fc64af.js";import{C as ct,D as P,E as I}from"./image 44-32519075.js";import{E as mt,P as ft,T as ut,a as Y,L as M,R as O}from"./left-c24e9a90.js";import"./Link-af3f82af.js";import"./typeof-7fd5df1e.js";import"./formik.esm-f1168841.js";import"./hoist-non-react-statics.cjs-39f77784.js";import"./index.esm-6cf26a62.js";function Pt(){const d=it(),[h,R]=l.useState([]),[b,v]=l.useState(!0),[j,G]=l.useState(""),[p,N]=l.useState([]),[C,J]=l.useState(!1),[U,o]=l.useState(!1),[W,q]=l.useState(!1),[H,K]=l.useState(null);l.useState(null);const[ht,z]=l.useState(!1),[y,Q]=l.useState(!1),k=()=>Q(!y),{api_addEmployeeData:jt,api_editEmployeeData:pt,api_deleteEmployeeData:gt,api_getEmployeeData:wt,api_getEmployeeDataById:bt,api_retrieve_all_student:X,api_masters_student_crud_delete:Z}=lt();l.useRef();const[c,V]=l.useState([]),[r,_]=l.useState(1),[x,yt]=l.useState(10),E=()=>{o(!0),L.post(X,{},$()).then(function(e){var a,i,w,n;console.log("view Employee Data..",(a=e==null?void 0:e.data)==null?void 0:a.data),((i=e==null?void 0:e.data)==null?void 0:i.status)===!0?(R((w=e==null?void 0:e.data)==null?void 0:w.data),V((n=e==null?void 0:e.data)==null?void 0:n.data)):f(!0,"Error occured while fetching data."),o(!1)}).catch(function(e){console.log("==2 error list...",e),f(!0,"Error occured while fetching data."),o(!1)})};l.useEffect(()=>{E()},[]);const S=r*x,tt=S-x,g=c.slice(tt,S),m=Math.ceil((c==null?void 0:c.length)/x);for(let e=1;e<=Math.ceil(c.length/x);e++);const D=()=>{r!==1&&_(r-1)},A=()=>{r!==m&&_(r+1)},et=[{title:"Admission No",feild:"admission_no"},{title:"Name",feild:"full_name"},{title:"Class",feild:"class_name"},{title:"Category",feild:"category_name"},{title:"Section",feild:"section_name"},{title:"Admission date",feild:"admission_date"},{title:"DOB",feild:"dob"},{title:"Gender",feild:"gender_name"},{title:"Mobile",feild:"mobile"}],st=()=>{const e=new nt;e.text("Employee Details",10,10),e.autoTable({theme:"grid",columns:et.map(a=>({...a,dataKey:a.feild})),body:h}),e.save("employee.pdf")},at=e=>{if(G(e),j!==""){const a=h.filter(i=>Object.values(i).join("").toLowerCase().includes(j.toLowerCase()));N(a)}else N(h)},B=e=>{u.fire({icon:"warning",title:"Are you sure to deactivate ?",showCancelButton:!0,confirmButtonText:"Yes, deactivate it!",cancelButtonText:"No, cancel!"}).then(i=>{i.value&&a(e)});const a=i=>{o(!0),z(!1);let w={id:i,status:"deactive"};L.post(Z,w,$()).then(function(n){var T,F;console.log("delete response..",(T=n==null?void 0:n.data)==null?void 0:T.data),((F=n==null?void 0:n.data)==null?void 0:F.status)===!0?E():f(!0,"Error occured in deletion."),o(!1)}).catch(function(n){console.log("==delete error...",n),f(!0,"Error occured in deletion."),o(!1)})}},f=(e,a)=>{K(a),q(e)};return t.jsxs(t.Fragment,{children:[U&&t.jsx(dt,{}),W&&t.jsx(ot,{activateBottomErrorCard:f,errorTitle:H}),t.jsx("div",{className:"bg-white h-[80vh] overflow-auto  flex  justify-center",children:t.jsxs("div",{className:"block w-full mx-[10px]",children:[t.jsxs("div",{className:"flex  max-[694px]:block",children:[t.jsx("div",{className:"flex w-full items-start justify-start ml-5 mt-5",children:t.jsxs("div",{className:"block w-full",children:[t.jsx("h1",{className:"text-4xl font-semibold text-gray-700 flex justify-start w-full ",children:"Student List"}),t.jsx("h1",{className:"text-gray-600 flex justify-start text-sm w-full",children:"Unlock Your Potential. Join Our Journey Of Education And Excellence"})]})}),t.jsx("div",{className:"flex items-end justify-end w-full",children:t.jsxs("a",{title:"Add Employees",children:[" ",t.jsx("button",{type:"submit",className:"text-black text-[2.2vh] bg-[#fde047] font-bold py-[5px] px-[10px] rounded-[5px] h-[40px] w-[100px] flex items-center mr-2 justify-center ",onClick:()=>{k()},children:"+ ADD"}),y&&t.jsx(xt,{isOpen:y,toggle:k})]})})]}),t.jsxs("div",{className:"flex float-right mt-2",children:[t.jsx("a",{title:"Download CSV",children:t.jsx("img",{src:mt,onClick:()=>J(!C),className:"  font-bold  mr-4 w-17 h-17 "})}),C&&t.jsx(rt,{data:h,target:"_blank"}),t.jsx("a",{title:"Download PDF",children:t.jsx("img",{src:ft,className:"  font-bold  w-17 h-17",onClick:st})})]}),t.jsx("div",{className:"block  py-2",children:t.jsx("div",{className:"w-auto mt-[10vh] h-[70vh] overflow-y-auto overflow-x-hidden flex pt-[3vh]  pr-[3vh] bg-white max-[1024px]:overflow-auto  max-[768px]:w-[95%] max-[425px]:overflow-auto mr-2",children:t.jsxs("div",{className:"block w-full mt-[-20px]",children:[t.jsxs("div",{className:"flex items-center text-[2.4vh] justify-end mr-4 mb-[10px] max-[918px]:block",children:[t.jsx("div",{className:"float-left w-full flex ml-4 max-[918px]:ml-0",children:t.jsxs("div",{className:"ml-5",children:[" ",t.jsx("h1",{className:"font-bold text-gray-500",children:"List Of Student"})]})}),t.jsxs("div",{className:"items-center float-left  flex mr-4 max-[618px]:ml-4",children:[t.jsx("div",{className:"flex w-full mr-4",children:t.jsx("div",{className:`${b?" text-[#4ade80]":""}`,children:t.jsx("h1",{onClick:()=>v(!0),children:t.jsx("a",{title:"List View",children:t.jsx("img",{src:ut,alt:"table",className:"w-8 h-8"})})})})}),t.jsx("div",{className:"flex w-full",children:t.jsxs("div",{className:`${b?"":" text-[#4ade80]"}`,children:[" ",t.jsx("h2",{onClick:()=>v(!1),children:t.jsx("a",{title:"Card View",children:t.jsx("img",{src:ct,alt:"card",className:"w-14 h-10"})})})]})})]}),t.jsx("input",{placeholder:"search...",onChange:e=>at(e.target.value),className:"ml-2 bg-white border border-[gainsboro] pl-[10px] rounded-[5px] h-10 max-[618px]:w-full"})]}),t.jsx("div",{className:"ml-4 mb-4",children:t.jsx("hr",{className:" border-b-2"})}),b?t.jsx(t.Fragment,{children:t.jsxs("div",{className:"w-full h-[60vh] block   ",children:[t.jsxs("table",{className:"w-full mx-4 my-1   border-b border-b-gray overflow-auto max-[1000px]:w-[100vh] max-[1000px]:relative max-[1000px]:overflow-auto",children:[t.jsx("thead",{className:" text-gray-600 bg-[#E7EFFC] text-[1.7vh] p-12 w-full border-b border-b-gray h-[6vh] ",children:t.jsxs("tr",{className:"py-2 pl-4 w-full flex items-start justify-start text-left",children:[t.jsx("th",{className:"w-[100%] flex items-start justify-start",children:"Sl no."}),t.jsx("th",{className:"w-[100%] flex items-start justify-start",children:"Admission no"}),t.jsx("th",{className:"w-[100%] flex items-start justify-start",children:"First name"}),t.jsx("th",{className:"w-[100%] flex items-start justify-start",children:"Class"}),t.jsx("th",{className:"w-[100%] flex items-start justify-start ",children:"Section"}),t.jsx("th",{className:"w-[100%] flex items-start justify-start ",children:"Admission date"}),t.jsx("th",{className:"w-[100%] flex items-start justify-start",children:"Gender"}),t.jsx("th",{className:"w-[100%] flex items-start justify-start",children:"Mobile"}),t.jsx("th",{className:"w-[100%] flex items-start justify-start",children:"Status"}),t.jsx("th",{className:"w-[100%] flex items-end justify-end pr-1 mr-[2vh]",children:"Action"})]})}),t.jsx("tbody",{children:j.length>1?p&&p.map((e,a)=>(console.log(e),t.jsx(t.Fragment,{children:t.jsxs("tr",{className:"py-2 pl-4 w-full text-[2vh] flex items-center justify-center text-[#696969] text-left verdana even:bg-gray-100 border-b border-gray-b",children:[t.jsx("td",{className:"w-[100%] flex items-start justify-start px-1",children:s((r-1)*x+a+1)}),t.jsx("td",{className:"w-[100%] flex items-start justify-start ",children:s(e==null?void 0:e.admission_no)}),t.jsx("td",{className:"w-[100%] flex items-start justify-start px-1",children:s(e==null?void 0:e.first_name)}),t.jsx("td",{className:"w-[100%] flex items-start justify-start px-1",children:s(e==null?void 0:e.class_name)}),t.jsx("td",{className:"w-[100%] flex items-start justify-start px-1",children:s(e==null?void 0:e.section_name)}),t.jsx("td",{className:"w-[100%] flex items-start justify-start px-1",children:s(e==null?void 0:e.admission_date)}),t.jsx("td",{className:"w-[100%] flex items-start justify-start px-1",children:s(e==null?void 0:e.gender_name)}),t.jsx("td",{className:"w-[100%] flex items-start justify-start px-1",children:s(e==null?void 0:e.mobile)}),t.jsx("td",{className:"w-[100%] flex items-start justify-start px-1",children:t.jsx("span",{className:`text-xs font-semibold inline-block py-1 px-2 rounded ${item.status=="Active"?"text-green-600 bg-green-200":"text-red-600 bg-red-200"}  last:mr-0 `,children:(item==null?void 0:item.status)=="Active"?"Active":"Deactivate"})}),t.jsxs("td",{className:" w-[100%] flex items-end justify-end pr-1 mr-[2vh] ",children:[t.jsx("a",{title:"Edit",children:t.jsx("img",{src:Y,className:"mr-2 text-indigo-600  hover:text-gray-500 w-6 h-6",onClick:()=>{u.fire({icon:"warning",title:"Are you sure?",text:"You want to update it!",showCancelButton:!0,confirmButtonText:"Yes, update it!",cancelButtonText:"No, cancel!"}).then(i=>{i.value&&d(`/edit-student/${e==null?void 0:e.id}`)})}})}),t.jsx("a",{title:"Delete",children:t.jsx("img",{src:P,className:" text-red-600 hover:text-gray-500 mr-2 w-6 h-6",onClick:()=>B(e==null?void 0:e.id)})}),t.jsx("a",{title:"View",children:t.jsx("img",{src:I,className:"text-[#06b6d4] hover:text-gray-500 w-6 h-6",onClick:()=>d(`/view-student-details/${e==null?void 0:e.id}`)})})]})]})}))):g&&g.map((e,a)=>t.jsx(t.Fragment,{children:t.jsxs("tr",{className:"py-2 pl-4 w-full text-[2vh] flex items-center justify-center text-[#696969] text-left verdana even:bg-gray-100 border-b border-gray-b",children:[t.jsx("td",{className:"w-[100%] flex items-start justify-start px-1",children:s((r-1)*x+a+1)}),t.jsx("td",{className:"w-[100%] flex items-start justify-start px-1",children:s(e.admission_no)}),t.jsx("td",{className:"w-[100%] flex items-start justify-start px-1",children:s(e.first_name)}),t.jsx("td",{className:"w-[100%] flex items-start justify-start px-1",children:s(e.class_name)}),t.jsx("td",{className:"w-[100%] flex items-start justify-start px-1",children:s(e.section_name)}),t.jsx("td",{className:"w-[100%] flex items-start justify-start px-1",children:s(e.admission_date)}),t.jsx("td",{className:"w-[100%] flex items-start justify-start px-1",children:s(e.gender_name)}),t.jsx("td",{className:"w-[100%] flex items-start justify-start px-1",children:s(e.mobile)}),t.jsx("td",{className:"w-[100%] flex items-start justify-start px-1",children:t.jsx("span",{className:`text-xs font-semibold inline-block py-1 px-2 rounded ${e.status=="Active"?"text-green-600 bg-green-200":"text-red-600 bg-red-200"} last:mr-0`,children:e.status=="Active"?"Active":"Deactivate"})}),t.jsxs("td",{className:" w-[100%] flex items-end justify-end pr-1 mr-[2vh] ",children:[t.jsx("a",{title:"Edit",children:t.jsx("img",{src:Y,className:"mr-2 text-indigo-600  hover:text-gray-500 w-6 h-6",onClick:()=>{u.fire({icon:"warning",title:"Are you sure?",text:"You want to update it!",showCancelButton:!0,confirmButtonText:"Yes, update it!",cancelButtonText:"No, cancel!"}).then(i=>{i.value&&d(`/edit-student/${e==null?void 0:e.id}`)})}})}),t.jsx("a",{title:"Delete",children:t.jsx("img",{src:P,className:" text-red-600 hover:text-gray-500 mr-2 w-6 h-6",onClick:()=>B(e.id)})}),t.jsx("a",{title:"View",children:t.jsx("img",{src:I,className:"text-[#06b6d4] hover:text-gray-500 w-6 h-6",onClick:()=>d(`/view-student-details/${e.id}`)})})]})]})}))})]}),t.jsxs("div",{className:"flex justify-between mt-10 ",children:[t.jsxs("div",{className:"ml-10",children:[" ","Page ",r," to ",m," "]}),t.jsxs("div",{className:"flex float-right",children:[t.jsx("img",{src:M,className:r===1?"opacity-50 mr-2":"opacity-100 mr-2",onClick:D}),t.jsx("img",{src:O,onClick:A,className:r===m?"opacity-50":"opacity-100"})]})]})]})}):t.jsx(t.Fragment,{children:t.jsxs("div",{className:"block",children:[t.jsx("div",{className:"w-full h-auto mx-4 inline-grid grid-cols-5 gap-1 ",children:j.length>1?p&&p.map((e,a)=>t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:" w-full border my-2  h-auto block border-gray-100 shadow-md rounded-[5px] bg-white",children:[t.jsx("div",{className:"my-2 h-[17vh] flex items-center justify-center w-full",children:t.jsx("img",{src:e.upload_images,alt:"Generic placeholder image",className:"w-[130px] height-[130px] rounded-full "})}),t.jsxs("div",{className:"block items-center justify-center w-full",children:[t.jsx("h1",{className:"font-bold",children:s(e.full_name)}),t.jsx("h1",{children:s(e.email)})]}),t.jsxs("div",{className:"flex items-center justify-center",children:[t.jsx("button",{type:"submit",className:" hover:border-[gainsboro]  max-[1260px]:px-1 max-[840px]:mx-1  hover:text-gray-500  text-[2vh]  w-full py-[5px] px-[25px]  border  mx-[8px] mt-[20px] mb-[10px] text-indigo-600 border-indigo-600 bg-white",onClick:()=>{u.fire({icon:"warning",title:"Are you sure?",text:"You want to update it!",showCancelButton:!0,confirmButtonText:"Yes, update it!",cancelButtonText:"No, cancel!"}).then(i=>{i.value&&d(`/editstep-form/${e.id}`)})},children:"EDIT"}),t.jsx("button",{type:"submit",className:"hover:border-[gainsboro]  max-[1260px]:px-1 max-[840px]:mx-1  hover:text-gray-500 text-[2vh] w-full  border py-[5px] px-[25px]  mx-[8px] mt-[20px] mb-[10px] text-[#22d3ee] border-[#22d3ee] bg-white",onClick:()=>d(`/view-student-details/${e.id}`),children:"VIEW"})," "]})]})," "]})):g&&g.map((e,a)=>t.jsx(t.Fragment,{children:t.jsxs("div",{className:" w-full my-2  border  h-auto block border-gray-100 shadow-md  rounded-[5px] bg-white",children:[t.jsx("div",{className:"my-2 h-[15vh] flex items-center justify-center w-full",children:t.jsx("img",{src:e.upload_images,alt:"Generic placeholder image",className:"w-[150px] height-[150px] rounded-full "})}),t.jsxs("div",{className:"block items-center justify-center w-full",children:[t.jsx("h1",{className:"font-bold",children:s(e.full_name)}),t.jsx("h1",{children:s(e.email)}),t.jsx("h1",{children:s(e.dob)})]}),t.jsxs("div",{className:"flex w-full ",children:[t.jsx("button",{className:"text-[2vh] max-[1260px]:px-1 max-[840px]:mx-1 w-full py-[5px] px-[25px]  border  mx-[8px] mt-[20px] mb-[10px] text-indigo-600 border-indigo-600 bg-white hover:border-[gainsboro] hover:text-gray-500",onClick:()=>{u.fire({icon:"warning",title:"Are you sure?",text:"You want to update it!",showCancelButton:!0,confirmButtonText:"Yes, update it!",cancelButtonText:"No, cancel!"}).then(i=>{i.value&&d(`/editstep-form/${e.id}`)})},children:"EDIT"}),t.jsx("button",{className:"text-[2vh] max-[1260px]:px-1 max-[840px]:mx-1 w-full  border py-[5px] px-[25px]  mx-[8px] mt-[20px] mb-[10px] text-[#22d3ee] border-[#22d3ee] bg-white hover:border-[gainsboro] hover:text-gray-500",onClick:()=>d(`/view-student-details/${e.id}`),children:"VIEW"})," "]})]})}))}),t.jsxs("div",{className:"flex justify-between mt-10 ",children:[t.jsxs("div",{className:"ml-10",children:[" ","Page ",r," to ",m," "]}),t.jsxs("div",{className:"flex float-right",children:[t.jsx("img",{src:M,className:r===1?"opacity-50 mr-2":"opacity-100 mr-2",onClick:D}),t.jsx("img",{src:O,onClick:A,className:r===m?"opacity-50":"opacity-100"})]})]})]})})]})})})]})})]})}export{Pt as default};
