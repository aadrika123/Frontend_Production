import{r as x,u as q,j as t,C as I,A as M,a as $,b as D}from"./index-3941a546.js";import{u as _}from"./formik.esm-f1168841.js";import{B as V}from"./BarLoader-5e24b4d4.js";import{B as H}from"./BottomErrorCard-b06e7e18.js";import{c as O,a as R}from"./index.esm-6cf26a62.js";function P(i){const{isOpen:v,toggle:o}=i,[w,y]=x.useState(!1),[S,k]=x.useState(null),[C,n]=x.useState(!1),{api_searchStudentByIdList:E}=D(),m=q(),p={admissionNo:""},A=O({admissionNo:R().required("Admission Number is required feild")}),s=_({initialValues:p,onSubmit:a=>{console.log(a),B(a)},validationSchema:A}),B=a=>{n(!0);let d,r,F={admissionNo:a.admissionNo};d=E,r=F,M.post(d,r,$()).then(function(e){var c,h,u,f,g,b,N,j;console.log("category master..",(c=e==null?void 0:e.data)==null?void 0:c.data),((h=e==null?void 0:e.data)==null?void 0:h.status)===!0?((u=e==null?void 0:e.data)==null?void 0:u.message)==="Student Not Found"?(localStorage.setItem("admission_no",(g=(f=e==null?void 0:e.data)==null?void 0:f.data)==null?void 0:g.admission_no),m("/add-new-student")):((b=e==null?void 0:e.data)==null?void 0:b.message)==="Student ID Already Existing"&&(m(`/edit-student/${(j=(N=e==null?void 0:e.data)==null?void 0:N.data)==null?void 0:j.id}`),l(!0,"Admission No. already existing")):l(!0,"Error occured while fetching data."),n(!1)}).catch(function(e){console.log("==2 error list...",e),l(!0,"Error occured while fetching data."),n(!1)})},l=(a,d)=>{k(d),y(a)},L=a=>{let d=a.target.name,r=a.target.value;d=="admissionNo"&&s.setFieldValue("admissionNo",r.trim())};return t.jsxs(t.Fragment,{children:[C&&t.jsx(V,{}),w&&t.jsx(H,{activateBottomErrorCard:l,errorTitle:S}),t.jsxs(I,{isOpen:v,children:[t.jsx("div",{toggle:o,className:"flex justify-between w-full px-[20px] py-[20px] text-[2.5vh] font-bold bg-[#98D4D2] text-white rounded-t-[15px]",close:t.jsx("button",{onClick:()=>o(),children:"Ã—"}),children:t.jsx("h1",{children:"Search Admission No"})}),t.jsx("div",{className:"flex items-center  justify-center overflow-hidden bg-white rounded-b-[15px] h-auto max-[606px]:h-[35vh]",children:t.jsx("div",{className:"block w-full   m-[20px] max[784px]:m-[10]",children:t.jsxs("form",{onSubmit:s.handleSubmit,onChange:L,children:[t.jsx("div",{className:"w-full h-auto bg-white px-[20px] py-[20px] max[784px]:px-[0px]",children:t.jsx("div",{className:"m-3 block ",children:t.jsxs("div",{className:"flex max-[425px]:block",children:[t.jsxs("label",{className:"w-[25vh] mr-2 text-[2vh] flex items-center justify-center max-[625px]:w-full",children:["Admission No.",t.jsx("span",{className:"text-red-600 ml-1 mr-1",children:"*"})]}),t.jsxs("div",{className:"block",children:[t.jsx("input",{name:"admissionNo",type:"text",onChange:s.handleChange,value:s.values.admissionNo,className:"w-[40vh] h-11  p-3 flex text-[2vh]  items-start justify-start  border border-[#E5E7E9] bg-white rounded-[5px] max-[825px]:w-full max-[825px]:h-full"}),t.jsx("br",{}),t.jsx("span",{className:"text-red-600 text-xs",children:s.touched.admissionNo&&s.errors.admissionNo?s.errors.admissionNo:null})]})]})})}),t.jsxs("div",{className:" w-full h-[8vh] flex items-center justify-center max-[768px]:block mb-5 max-[768px]:ml-5",children:[t.jsx("button",{type:"submit",className:"text-[2vh] bg-indigo-600 text-white border border-indigo-600  py-[7px] px-[20px] rounded-[5px] m-[20px] hover:text-indigo-600 hover:border-indigo-600 hover:bg-white",children:"Search"}),t.jsx("button",{onClick:()=>{o(),i!=null&&i.Link&&m(`${i==null?void 0:i.Link}`)},type:"cancel",className:"text-[2vh] border-red-600 border text-white bg-red-600 px-[20px] py-[7px]  rounded-[5px] hover:border-red-600 hover:bg-white hover:text-red-600",children:"Cancel"})]}),t.jsx("div",{className:"mb-5 w-full flex justify-center items-center max-[350px]:items-end max-[350px]:mt-12",children:t.jsxs("h1",{className:"text-gray-500",children:["Note : (",t.jsx("span",{className:"text-red-600",children:"*"}),") marks is mandatory."]})})]})})})]})]})}export{P as s};
