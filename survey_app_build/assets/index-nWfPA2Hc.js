const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BfWz3uOf.js","assets/vendor-CknUfB-n.js","assets/vendor-DLy2ZVNp.css","assets/yup-CLxTwTut.js","assets/datetime-picker-7AEYRo8V.js","assets/select-BLJsPCI6.js","assets/ui-DnraMZli.js","assets/icons-8V-pPYCs.js","assets/useCustomQuery-DLgrLCpf.js","assets/query-C_vMNwHo.js","assets/axios-Dos3PyFQ.js","assets/zustand-Dt62-D6J.js","assets/index-DxcznmXN.js","assets/index-BrYRkeAH.js","assets/RHFUploadFiled-gJdLM1Ss.js","assets/useMasters-CDvZfPNO.js","assets/index-DKp0pnCk.js","assets/index-_jgwV8zp.js","assets/textarea-qQS1eIPW.js","assets/card-FyrjlMrl.js","assets/index-DOvMY3yX.js","assets/index-sb4od_LU.js","assets/skeleton-Cn_kxIvt.js","assets/index-6NC4Th0C.js"])))=>i.map(i=>d[i]);
import{j as e,r as t,f as s,g as r,i as a,O as n,k as i,u as l,s as o,z as d,l as c,m as u,N as m,n as p,o as h,F as v,q as x,E as f,B as g}from"./vendor-CknUfB-n.js";import{Q as y,a as j}from"./query-C_vMNwHo.js";import{S as b,C as w,P as S}from"./ui-DnraMZli.js";import{L as N,I as k}from"./icons-8V-pPYCs.js";import{a as I}from"./axios-Dos3PyFQ.js";import{c as E}from"./zustand-Dt62-D6J.js";function _({children:t}){return e.jsx(e.Fragment,{children:t})}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const z=t.createContext({theme:"system",setTheme:()=>null});function A({children:s,defaultTheme:r="system",storageKey:a="vite-ui-theme",...n}){const[i,l]=t.useState(()=>localStorage.getItem(a)||r);t.useEffect(()=>{const e=window.document.documentElement;if(e.classList.remove("light","dark"),"system"===i){const t=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";return void e.classList.add(t)}e.classList.add(i)},[i]);const o={theme:i,setTheme:e=>{localStorage.setItem(a,e),l(e)}};return e.jsx(z.Provider,{...n,value:o,children:s})}function L(...e){return s(r(e))}const T=a("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),P=t.forwardRef(({className:t,variant:s,size:r,asChild:a=!1,...n},i)=>{const l=a?b:"button";return e.jsx(l,{className:L(T({variant:s,size:r,className:t})),ref:i,...n})});function R({error:t}){return e.jsx("div",{className:"flex h-screen items-center justify-center",children:e.jsxs("div",{className:"space-y-2 px-6 text-center",children:[e.jsx("h1",{className:"text-xl font-bold text-red-500",children:"Error"}),e.jsx("p",{className:"text-sm font-semibold text-gray-500",children:t.message}),e.jsx(P,{onClick:()=>window.location.reload(),variant:"destructive",size:"sm",children:"Reload"})]})})}P.displayName="Button";const O=S;function C(){return e.jsxs("div",{className:"flex h-screen w-full flex-col justify-center",children:[e.jsx("main",{children:e.jsx(n,{})}),e.jsx("footer",{className:"absolute bottom-0 w-full py-6 text-center"})]})}function B(){return e.jsx("div",{className:"relative h-full overflow-hidden bg-background",children:e.jsx("main",{className:"relative h-full w-full overflow-auto scroll-smooth bg-background",children:e.jsx(n,{})})})}function M(e="1/1"){return{"4/3":"calc(100% / 4 * 3)","3/4":"calc(100% / 3 * 4)","6/4":"calc(100% / 6 * 4)","4/6":"calc(100% / 4 * 6)","16/9":"calc(100% / 16 * 9)","9/16":"calc(100% / 9 * 16)","21/9":"calc(100% / 21 * 9)","9/21":"calc(100% / 9 * 21)","1/1":"100%"}[e]}t.forwardRef(({className:t,sideOffset:s=4,...r},a)=>e.jsx(w,{ref:a,sideOffset:s,className:L("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})).displayName=w.displayName;const D=i.LazyLoadImage,U=t.forwardRef(({ratio:t,disabledEffect:s=!1,effect:r="blur",...a},n)=>{const i=e.jsx(D,{wrapperClassName:"wrapper",effect:s?"opacity":r,placeholderSrc:s?"/assets/transparent.png":"/assets/placeholder-new.png",width:"100%",style:{objectFit:"cover"},...a});return t?e.jsx("span",{ref:n,style:{width:1,lineHeight:1,display:"block",overflow:"hidden",position:"relative",paddingTop:M(t)},children:i}):e.jsx("span",{ref:n,style:{lineHeight:1,display:"block",overflow:"hidden",position:"relative"},children:i})});function $(){const t=l();return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"border-b bg-white shadow-sm",children:e.jsxs("div",{className:"mx-auto flex max-w-7xl items-center justify-between px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{children:e.jsx(U,{src:"/images/jlogo.png",alt:"logo",width:80,height:80})}),e.jsx("div",{className:"container mx-auto max-w-6xl px-4 py-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"mb-2 text-3xl font-bold text-gray-900",children:"URBAN DEVELOPMET & HOUSING DEPARTMENT"}),e.jsx("p",{className:"text-gray-600",children:"Goverment of Jharkhand"})]})})]})}),e.jsx("div",{className:"bg-[#99B37C] py-3 text-white",children:e.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between space-x-3",children:[e.jsx("div",{children:e.jsx("h1",{className:"text-xl font-bold",children:"UD&HD"})}),e.jsx("div",{children:e.jsxs(P,{variant:"secondary",className:"flex items-center space-x-2",onClick:()=>{t("/legal/auth/login")},children:[e.jsx(N,{className:"h-4 w-4"})," Admin Login"]})})]})})}),e.jsx(n,{})]})}const V=I.create({baseURL:"https://jharkhandegovernance.com/auth"});V.interceptors.request.use(e=>{const t=localStorage.getItem("token"),s=localStorage.getItem("ulbId")||null;return e.params={...e.params,ulbId:s},t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>{throw new Error(e)}),V.interceptors.response.use(e=>{var t,s;return"false"==(null==(t=e.data)?void 0:t.authenticated)&&(delete V.defaults.headers.common.Authorization,localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),localStorage.setItem("authenticated",null==(s=e.data)?void 0:s.authenticated),alert("Session Expired"),location.reload()),e},async e=>{throw new Error(e)}),o({language:"en",isGrid:!1,isSort:!1});const F={login:"/api/login",getUser:"/api/user-managment/get-user-dtls",byModule:"/api/menu/by-module",getAllUsers:"/api/user-managment/v1/crud/get/user-list-by-ulb-id-v1",changePassword:"/api/change-password",getCaptcha:"/api/login-Captcha"},H={api_getUlbWardList:"/api/get-all-ulb-ward",api_getUlbList:"/api/v2/get-all-ulb",api_getAllUlb:"/api/get-all-ulb",getMenuRoleList:"/api/user-managment/v1/crud/menu-role/list",zone_list_Api:"/api/get-zone",getWardAuth:"/api/user-managment/v1/crud/ward-user/by-user",mastersApiList:"/api/property/saf/master-saf",getZoneMaster:"/api/property/get-zone-byUlb",createSepticTankSurvey:"/api/survey/create-septic-tank-survey",getAllSepticTankSurveys:"/api/survey/get-all-septic-tank-surveys",getSepticTankSurveyById:"/api/survey/get-septic-tank-survey",getSepticTankSurveyByTag:"/api/survey/get-septic-tank-survey-by-tag",updateSepticTankSurvey:"/api/survey/update-septic-tank-survey",deleteSepticTankSurvey:"/api/survey/delete-septic-tank-survey",verifySepticTankSurvey:"/api/survey/verify-septic-tank-survey",createSwmSurvey:"/api/survey/create-swm-survey",getAllSwmSurveys:"/api/survey/get-all-swm-surveys",getSwmSurveyById:"/api/survey/get-swm-survey",getSwmSurveyByTag:"/api/survey/get-swm-survey-by-tag",updateSwmSurvey:"/api/survey/update-swm-survey",deleteSwmSurvey:"/api/survey/delete-swm-survey",verifySwmSurvey:"/api/survey/verify-swm-survey",appCount:"/api/survey/report/user-wise-count"},W=e=>{e?localStorage.setItem("token",e):(localStorage.removeItem("token"),delete V.defaults.headers.common.Authorization)};function q(e,t){let s="",r=e;for(let a=0;a<t;a++)r=(9301*r+49297)%233280,s+=(r%16).toString(16);return s}const G=E()((e,t)=>({isAuthenticated:!1,isInitialized:!1,user:null,menuItems:null,setIsAuthenticated:t=>e({isAuthenticated:t}),setIsInitialized:t=>e({isInitialized:t}),setMenuItems:t=>e({menuItems:t}),initialize:async()=>{var t,s;try{const r=localStorage.getItem("token");if(!r)return void e({isAuthenticated:!1,isInitialized:!0,user:null});W(r);const[a,n]=await Promise.all([V.post(`${F.getUser}`),V.post(`${F.byModule}`,{moduleId:"48"})]);if(null==(t=null==a?void 0:a.data)?void 0:t.authenticated){const t=a.data.data;"SUPER ADMIN"!=(null==t?void 0:t.roleName)&&window.localStorage.setItem("ulbId",function(e,t="EW^reB0tm}p)R3w+7=+0YG0[XpUOSPfy"){if(!e||!t)return"";let s=0;const r=e+t;for(let d=0;d<r.length;d++)s=(s<<5)-s+r.charCodeAt(d),s&=s;s=Math.abs(s);let a="";for(let d=0;d<e.length;d++){const s=t.charCodeAt(d%t.length);a+=(e.charCodeAt(d)^s).toString(16).padStart(4,"0")}const n=q(s,8),i=q(s+1,4),l=q(s+2,4),o=q(s+3,4);return q(s+4,12),`${n}-${i}-${l}-${o}:${e.length.toString(16).padStart(4,"0")}${a}`}(t.ulbId.toString())),e({isAuthenticated:!0,isInitialized:!0,user:t,menuItems:(null==(s=null==n?void 0:n.data)?void 0:s.data)||null})}else e({isAuthenticated:!1,isInitialized:!0,user:null})}catch(r){e({isAuthenticated:!1,isInitialized:!0,user:null})}},login:async e=>{try{const s=null==e?void 0:e.data;return W(null==s?void 0:s.token),t().initialize(),s}catch(s){d.error("Login Failed")}},logout:()=>{try{W(null),localStorage.removeItem("token"),e({isAuthenticated:!1,user:null,menuItems:null}),t().initialize()}catch(s){}}})),K=E(e=>({getTitle:"",setTitle:t=>e({getTitle:t})})),J=()=>({...G(),...K()});function Q(){return e.jsx("div",{className:"flex items-center justify-center w-full h-[550px]",children:e.jsxs("div",{className:"flex justify-center items-center space-x-1 text-sm text-gray-700",children:[e.jsx("svg",{fill:"none",className:"w-6 h-6 animate-spin",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{clipRule:"evenodd",d:"M15.165 8.53a.5.5 0 01-.404.58A7 7 0 1023 16a.5.5 0 011 0 8 8 0 11-9.416-7.874.5.5 0 01.58.404z",fill:"currentColor",fillRule:"evenodd"})}),e.jsx("div",{children:"Loading ..."})]})})}function X({children:s}){const{isInitialized:r,isAuthenticated:a,initialize:n,menuItems:i}=J(),{pathname:l}=c(),o=u(),[d,p]=t.useState(null),h=t.useRef(!1),v=null==i?void 0:i.permission.flatMap(e=>[{...e,children:e.children.map(e=>e.id)},...e.children]);return null==v||v.map(e=>{var t;return(null==(t=null==e?void 0:e.path)?void 0:t.includes(":id"))?null==e?void 0:e.path.replace(":id",o.id):null==e?void 0:e.path}).flat(1),t.useEffect(()=>{r||n()},[]),t.useEffect(()=>{const e=()=>{document.hidden?h.current=!0:h.current&&(n(),h.current=!1)};return document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}},[n]),r?a?d&&l!==d?(p(null),e.jsx(m,{to:d})):e.jsx(e.Fragment,{children:s}):(l!==d&&p(l),e.jsx(m,{to:"/survey-app/auth/login"})):e.jsx("div",{className:"flex h-screen items-center justify-center",children:e.jsx(Q,{})})}function Y({children:s}){const{isAuthenticated:r,isInitialized:a,initialize:n,user:i}=G();return t.useEffect(()=>{a||n()},[]),a?r?"HRMS Employee"==(null==i?void 0:i.roleName)?e.jsx(m,{to:"/survey-app/employee/emp-home",replace:!0}):e.jsx(m,{to:"/survey-app/dashboard/home",replace:!0}):e.jsx(e.Fragment,{children:s}):e.jsx("div",{className:"flex h-screen items-center justify-center",children:e.jsx(Q,{})})}const Z=a("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),ee=t.forwardRef(({className:t,variant:s,size:r,asChild:a=!1,children:n,disabled:i,loading:l=!1,leftSection:o,rightSection:d,...c},u)=>{const m=a?b:"button";return e.jsxs(m,{className:L(Z({variant:s,size:r,className:t})),disabled:l||i,ref:u,...c,children:[(o&&l||!o&&!d&&l)&&e.jsx(k,{className:"mr-2 h-4 w-4 animate-spin"}),!l&&o&&e.jsx("div",{className:"mr-2",children:o}),n,!l&&d&&e.jsx("div",{className:"ml-2",children:d}),d&&l&&e.jsx(k,{className:"ml-2 h-4 w-4 animate-spin"})]})});function te(){const t=l();return e.jsx("div",{className:"h-svh",children:e.jsxs("div",{className:"m-auto flex h-full w-full flex-col items-center justify-center gap-2",children:[e.jsx("h1",{className:"text-[7rem] font-bold leading-tight",children:"404"}),e.jsx("span",{className:"font-medium",children:"Oops! Page Not Found!"}),e.jsxs("p",{className:"text-center text-muted-foreground",children:["It seems like the page you're looking for ",e.jsx("br",{}),"does not exist or might have been removed."]}),e.jsxs("div",{className:"mt-6 flex gap-4",children:[e.jsx(ee,{variant:"outline",onClick:()=>t(-1),children:"Go Back"}),e.jsx(ee,{onClick:()=>t("/"),children:"Back to Home"})]})]})})}ee.displayName="Button";const se={},re=function(e,t,s){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),s=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));r=Promise.allSettled(t.map(e=>{if((e=function(e){return"/"+e}(e))in se)return;se[e]=!0;const t=e.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const a=document.createElement("link");return a.rel=t?"stylesheet":"modulepreload",t||(a.as="script"),a.crossOrigin="",a.href=e,s&&a.setAttribute("nonce",s),document.head.appendChild(a),t?new Promise((t,s)=>{a.addEventListener("load",t),a.addEventListener("error",()=>s(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function a(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(const e of t||[])"rejected"===e.status&&a(e.reason);return e().catch(a)})},ae=s=>{return r=t.lazy(async()=>{try{return await s()}catch(e){}}),s=>e.jsx(t.Suspense,{fallback:e.jsx(Q,{}),children:e.jsx(r,{...s})});var r},ne=ae(()=>re(()=>import("./index-BfWz3uOf.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]))),ie=ae(()=>re(()=>import("./index-DxcznmXN.js"),__vite__mapDeps([12,1,2,8,9,7,6,10,11]))),le=ae(()=>re(()=>import("./index-BrYRkeAH.js"),__vite__mapDeps([13,1,2,3,4,5,6,7,14,15,8,9,10,11]))),oe=ae(()=>re(()=>import("./index-DKp0pnCk.js"),__vite__mapDeps([16,1,2,3,4,5,6,7,14,15,8,9,10,11]))),de=ae(()=>re(()=>import("./index-_jgwV8zp.js"),__vite__mapDeps([17,1,2,18,9,8,6,15,5,7,19,10,11]))),ce=ae(()=>re(()=>import("./index-DOvMY3yX.js"),__vite__mapDeps([20,1,2,18,9,8,6,15,5,7,19,10,11]))),ue=ae(()=>re(()=>import("./index-sb4od_LU.js"),__vite__mapDeps([21,1,2,8,9,22,6,19,7,10,11]))),me=ae(()=>re(()=>import("./index-6NC4Th0C.js"),__vite__mapDeps([23,1,2,8,9,22,6,19,7,10,11]))),pe=[{layout:"auth",pages:[{id:"1",name:"Login",path:"login",element:e.jsx(ne,{})}]},{layout:"dashboard",pages:[{id:"1",name:"Home",path:"home",element:e.jsx(ie,{})},{id:"2",name:"Survey Form",path:"survey-form",element:e.jsx(le,{})},{id:"3",name:"SWM Survey Form",path:"swm-survey-form",element:e.jsx(oe,{})},{id:"4",name:"Septic Tank Survey List",path:"septic-tank-survey-list",element:e.jsx(de,{})},{id:"5",name:"SWM Survey List",path:"swm-survey-list",element:e.jsx(ce,{})},{id:"6",name:"Septic Tank Survey Details",path:"septic-tank-survey-details",element:e.jsx(ue,{})},{id:"7",name:"SWM Survey Details",path:"swm-survey-details",element:e.jsx(me,{})}]},{layout:"citizen",pages:[]}];function he(){return e.jsxs(p,{children:[e.jsx(h,{path:"/survey-app",element:e.jsx(m,{to:"/survey-app/dashboard/home"}),index:!0}),e.jsx(h,{path:"/survey-app/citizen",element:e.jsx($,{}),children:null==pe?void 0:pe.map(({layout:t,pages:s})=>"citizen"===t&&(null==s?void 0:s.map(({id:t,path:s,element:r})=>e.jsx(h,{path:s,element:r},t))))}),e.jsx(h,{path:"/survey-app/auth",element:e.jsx(Y,{children:e.jsx(C,{})}),children:null==pe?void 0:pe.map(({layout:t,pages:s})=>"auth"===t&&(null==s?void 0:s.map(({path:t,element:s,id:r})=>e.jsx(h,{path:t,element:s},r))))}),e.jsx(h,{path:"/survey-app/dashboard",element:e.jsx(X,{children:e.jsx(B,{})}),children:null==pe?void 0:pe.map(({layout:t,pages:s})=>"dashboard"===t&&(null==s?void 0:s.map(({id:t,path:s,element:r})=>e.jsx(h,{path:s,element:r},t))))}),e.jsx(h,{path:"*",element:e.jsx(te,{})}),e.jsx(h,{path:"",element:e.jsx(m,{to:"/survey-app",replace:!0})})]})}function ve(){return e.jsxs(O,{children:[e.jsx(v,{position:"top-center",reverseOrder:!1,toastOptions:{custom:{className:"bg-white text-black border border-gray-300 rounded-md shadow-lg"},success:{className:"bg-green-500 text-white border-none rounded-md shadow-lg"}}}),e.jsx(he,{})]})}const xe=new y;x.createRoot(document.getElementById("root")).render(e.jsx(f,{FallbackComponent:({error:t})=>e.jsx(R,{error:t}),onError:(e,t)=>{},children:e.jsx(_,{children:e.jsx(j,{client:xe,children:e.jsx(g,{children:e.jsx(A,{defaultTheme:"light",storageKey:"theme",children:e.jsx(ve,{})})})})})}));export{P as B,F as a,G as b,L as c,T as d,V as e,H as s,J as u};
