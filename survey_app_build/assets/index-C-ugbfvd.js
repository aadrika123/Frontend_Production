import{u as e,H as t,j as s}from"./vendor-CX7Sr6rY.js";import{f as a,g as r}from"./useSurveyApi-BI6OzhtC.js";import{V as d,y as i,U as l,F as x,_ as n,z as c}from"./icons--btW49PO.js";import"./query-D-Aji6U-.js";import"./index-BHHC9fLw.js";import"./ui-B_wVOan7.js";import"./axios-Dos3PyFQ.js";import"./zustand-DOMjtRnQ.js";import"./useCustomQuery-khXZmN5i.js";function o(){var o,m;const g=e(),[h]=t(),p=h.get("type")||"",y=h.get("id")||"",j=a("Septic"===p?y:""),N=r("SWM"===p?y:""),b="Septic"===p?null==(o=j.data)?void 0:o.data:null==(m=N.data)?void 0:m.data;return("Septic"===p?j.isLoading:N.isLoading)?s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-b from-slate-50 to-slate-100 dark:from-gray-950 dark:to-gray-900",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx("div",{className:"h-12 w-12 animate-spin rounded-full border-4 border-gray-300 border-t-indigo-600 dark:border-gray-700"}),s.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Loading survey details..."})]})}):b?s.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100 p-4 dark:from-gray-950 dark:to-gray-900 md:p-8",children:[s.jsxs("div",{className:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>g(-1),className:"rounded-lg p-2 hover:bg-gray-200 dark:hover:bg-gray-800",children:s.jsx(i,{className:"h-5 w-5 text-gray-700 dark:text-gray-300"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Survey Details"}),s.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[p," Survey â€¢ ID: ",b.tag_id||y]})]})]}),(e=>{if(!e)return null;const t=e.toLowerCase();return t.includes("approve")||t.includes("verified")?s.jsxs("div",{className:"flex items-center gap-2 rounded-full bg-green-100 px-4 py-2 text-green-700 dark:bg-green-900/30 dark:text-green-300",children:[s.jsx(n,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium",children:"Approved"})]}):t.includes("reject")?s.jsxs("div",{className:"flex items-center gap-2 rounded-full bg-red-100 px-4 py-2 text-red-700 dark:bg-red-900/30 dark:text-red-300",children:[s.jsx(c,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium",children:"Rejected"})]}):s.jsxs("div",{className:"flex items-center gap-2 rounded-full bg-amber-100 px-4 py-2 text-amber-700 dark:bg-amber-900/30 dark:text-amber-300",children:[s.jsx(d,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium",children:"Pending"})]})})(b.verification_status)]}),s.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[s.jsxs("div",{className:"lg:col-span-2",children:[s.jsxs("div",{className:"mb-6 rounded-2xl bg-white p-6 shadow-lg dark:bg-gray-900",children:[s.jsx("h2",{className:"mb-4 text-xl font-bold text-gray-900 dark:text-white",children:"Owner Information"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(l,{className:"mt-1 h-5 w-5 flex-shrink-0 text-indigo-600 dark:text-indigo-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Owner Name"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:b.owner_name||"N/A"})]})]}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(x,{className:"mt-1 h-5 w-5 flex-shrink-0 text-indigo-600 dark:text-indigo-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Address"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:b.address||"N/A"})]})]})]})]}),s.jsxs("div",{className:"mb-6 rounded-2xl bg-white p-6 shadow-lg dark:bg-gray-900",children:[s.jsx("h2",{className:"mb-4 text-xl font-bold text-gray-900 dark:text-white",children:"Location Information"}),s.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Ward No."}),s.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:b.ward_no||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Zone"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:b.zone||"N/A"})]}),b.holding_no&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Holding No."}),s.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:b.holding_no})]}),b.property_type&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Property Type"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:b.property_type})]})]})]}),"Septic"===p&&s.jsxs("div",{className:"rounded-2xl bg-white p-6 shadow-lg dark:bg-gray-900",children:[s.jsx("h2",{className:"mb-4 text-xl font-bold text-gray-900 dark:text-white",children:"Septic Tank Details"}),s.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Type of Sanitation"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:b.type_of_sanitation||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Construction Year"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:b.sanitation_construction_year||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Chamber Count"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:b.chamber_count||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Desludging Frequency"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:b.desludging_frequency||"N/A"})]})]})]}),"SWM"===p&&s.jsxs("div",{className:"rounded-2xl bg-white p-6 shadow-lg dark:bg-gray-900",children:[s.jsx("h2",{className:"mb-4 text-xl font-bold text-gray-900 dark:text-white",children:"SWM Details"}),s.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Property Type"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:b.property_type||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Usage Type"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:b.usage_type||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Waste Type"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:b.waste_type||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Bins Available"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:b.bins_available?"Yes":"No"})]})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"rounded-2xl bg-white p-6 shadow-lg dark:bg-gray-900",children:[s.jsx("h3",{className:"mb-4 text-lg font-bold text-gray-900 dark:text-white",children:"Submission Info"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Submitted By"}),s.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:b.submitted_by_name||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Submitted Date"}),s.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:b.created_at?new Date(b.created_at).toLocaleDateString():"N/A"})]})]})]}),b.verified_at&&s.jsxs("div",{className:"rounded-2xl bg-white p-6 shadow-lg dark:bg-gray-900",children:[s.jsx("h3",{className:"mb-4 text-lg font-bold text-gray-900 dark:text-white",children:"Verification Info"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Verified By"}),s.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:b.verified_by||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Verified Date"}),s.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:new Date(b.verified_at).toLocaleDateString()})]})]})]}),b.correction_notes&&s.jsx("div",{className:"rounded-2xl bg-amber-50 p-6 dark:bg-amber-900/20",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(d,{className:"mt-1 h-5 w-5 flex-shrink-0 text-amber-600 dark:text-amber-400"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-amber-900 dark:text-amber-300",children:"Correction Notes"}),s.jsx("p",{className:"mt-2 text-sm text-amber-800 dark:text-amber-200",children:b.correction_notes})]})]})}),(b.property_front_photo||b.front_view_photo||b.septic_tank_cover_photo)&&s.jsxs("div",{className:"rounded-2xl bg-white p-6 shadow-lg dark:bg-gray-900",children:[s.jsx("h3",{className:"mb-4 text-lg font-bold text-gray-900 dark:text-white",children:"Photos"}),s.jsxs("div",{className:"space-y-3",children:[(b.property_front_photo||b.front_view_photo)&&s.jsxs("div",{children:[s.jsx("p",{className:"mb-2 text-sm text-gray-600 dark:text-gray-400",children:"Front View"}),s.jsx("img",{src:b.property_front_photo||b.front_view_photo,alt:"Front view",className:"max-h-48 w-full rounded-lg object-cover"})]}),b.septic_tank_cover_photo&&s.jsxs("div",{children:[s.jsx("p",{className:"mb-2 text-sm text-gray-600 dark:text-gray-400",children:"Septic Tank Cover"}),s.jsx("img",{src:b.septic_tank_cover_photo,alt:"Tank cover",className:"max-h-48 w-full rounded-lg object-cover"})]})]})]})]})]})]}):s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-b from-slate-50 to-slate-100 p-4 dark:from-gray-950 dark:to-gray-900",children:s.jsxs("div",{className:"flex flex-col items-center gap-4 text-center",children:[s.jsx(d,{className:"h-12 w-12 text-gray-400"}),s.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Survey Not Found"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"The survey you're looking for doesn't exist or has been deleted."}),s.jsx("button",{onClick:()=>g(-1),className:"mt-4 rounded-lg bg-indigo-600 px-6 py-2 text-white transition-colors hover:bg-indigo-700",children:"Go Back"})]})})}export{o as default};
