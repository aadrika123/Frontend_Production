const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BmDE2oLa.js","assets/vendor-C5SoWx0X.js","assets/vendor-DLy2ZVNp.css","assets/yup-Czz5RPRD.js","assets/ui-AcXvwkci.js","assets/query-CTnAKrZn.js","assets/icons-D00L20pA.js","assets/axios-Dos3PyFQ.js","assets/zustand-B_dFtbWX.js","assets/index-DaDKKqOW.js","assets/index-D5YW0wc5.js"])))=>i.map(i=>d[i]);
import{r as e,c as t,j as s,f as a,g as r,i as l,O as i,u as n,L as d,k as o,z as c,l as u,m,n as x,N as p,o as h,F as g,q as f,C as v,v as b,w as j,D as y,x as N,y as w,A as k,B as _,E as S,G as A,H as C,I as L,J as P,K as I,M as R,P as D,Q as E,S as M,T,U,V as z,W as F,X as B,Y as O,Z as q,_ as W,$,a0 as V,a1 as H,a2 as Z,a3 as G,a4 as K,a5 as Y,a6 as Q,a7 as J,a8 as X,a9 as ee,aa as te,ab as se,ac as ae,ad as re,ae as le,af as ie,ag as ne,ah as de,ai as oe,aj as ce,ak as ue,al as me,am as xe,an as pe,ao as he,ap as ge,aq as fe,ar as ve,as as be,at as je,au as ye,av as Ne,aw as we,ax as ke,ay as _e,az as Se,aA as Ae,aB as Ce,aC as Le,aD as Pe,aE as Ie,aF as Re,aG as De,aH as Ee,aI as Me,aJ as Te,aK as Ue,aL as ze,aM as Fe,aN as Be,aO as Oe,aP as qe,aQ as We,aR as $e,aS as Ve,aT as He}from"./vendor-C5SoWx0X.js";import{u as Ze,a as Ge,Q as Ke,b as Ye}from"./query-CTnAKrZn.js";import{S as Qe,C as Je,P as Xe,R as et,T as tt,a as st,b as at,c as rt,d as lt,e as it,f as nt,g as dt,h as ot,I as ct,i as ut,j as mt,k as xt,l as pt,D as ht,L as gt,m as ft,n as vt,o as bt,G as jt,p as yt,q as Nt,F as wt,O as kt,r as _t,s as St,t as At,u as Ct,v as Lt,w as Pt,x as It,y as Rt,z as Dt,A as Et,B as Mt,E as Tt,H as Ut,J as zt,V as Ft,K as Bt,M as Ot,N as qt,Q as Wt,U as $t,W as Vt,X as Ht,Y as Zt,Z as Gt,_ as Kt,$ as Yt,a0 as Qt,a1 as Jt,a2 as Xt,a3 as es,a4 as ts,a5 as ss,a6 as as,a7 as rs,a8 as ls,a9 as is,aa as ns,ab as ds,ac as os,ad as cs,ae as us,af as ms,ag as xs,ah as ps,ai as hs,aj as gs,ak as fs,al as vs,am as bs}from"./ui-AcXvwkci.js";import{I as js,L as ys,a as Ns,C as ws,b as ks,c as _s,d as Ss,e as As,f as Cs,g as Ls,h as Ps,i as Is,j as Rs,k as Ds,l as Es,m as Ms,n as Ts,o as Us,p as zs,q as Fs,r as Bs,U as Os,K as qs,B as Ws,s as $s,t as Vs,E as Hs,u as Zs,v as Gs,w as Ks,x as Ys,y as Qs,z as Js,A as Xs,D as ea}from"./icons-D00L20pA.js";import{a as ta}from"./axios-Dos3PyFQ.js";import{c as sa}from"./zustand-B_dFtbWX.js";import{c as aa,a as ra,b as la,d as ia,e as na}from"./yup-Czz5RPRD.js";function da({children:e}){return s.jsx(s.Fragment,{children:e})}function oa({children:s}){return e.useEffect(()=>{var e;const a=t.Children.toArray(s);for(const t of a)if(t&&"object"==typeof t){if("title"===t.type){const s=null==(e=t.props)?void 0:e.children;"string"==typeof s?document.title=s:Array.isArray(s)&&(document.title=s.join(""))}if("meta"===t.type){const e=t.props||{};if(e.name){let t=document.head.querySelector(`meta[name="${e.name}"]`);t||(t=document.createElement("meta"),t.setAttribute("name",e.name),document.head.appendChild(t)),e.content&&t.setAttribute("content",e.content)}if(e.property){let t=document.head.querySelector(`meta[property="${e.property}"]`);t||(t=document.createElement("meta"),t.setAttribute("property",e.property),document.head.appendChild(t)),e.content&&t.setAttribute("content",e.content)}}}},[s]),null}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const ca=e.createContext({theme:"system",setTheme:()=>null});function ua({children:t,defaultTheme:a="system",storageKey:r="vite-ui-theme",...l}){const[i,n]=e.useState(()=>localStorage.getItem(r)||a);e.useEffect(()=>{const e=window.document.documentElement;if(e.classList.remove("light","dark"),"system"===i){const t=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";return void e.classList.add(t)}e.classList.add(i)},[i]);const d={theme:i,setTheme:e=>{localStorage.setItem(r,e),n(e)}};return s.jsx(ca.Provider,{...l,value:d,children:t})}function ma(...e){return a(r(e))}const xa=l("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),pa=e.forwardRef(({className:e,variant:t,size:a,asChild:r=!1,...l},i)=>{const n=r?Qe:"button";return s.jsx(n,{className:ma(xa({variant:t,size:a,className:e})),ref:i,...l})});function ha({error:e}){return s.jsx("div",{className:"flex h-screen items-center justify-center",children:s.jsxs("div",{className:"space-y-2 px-6 text-center",children:[s.jsx("h1",{className:"text-xl font-bold text-red-500",children:"Error"}),s.jsx("p",{className:"text-sm font-semibold text-gray-500",children:e.message}),s.jsx(pa,{onClick:()=>window.location.reload(),variant:"destructive",size:"sm",children:"Reload"})]})})}pa.displayName="Button";const ga=Xe,fa=et,va=tt,ba=e.forwardRef(({className:e,sideOffset:t=4,...a},r)=>s.jsx(Je,{ref:r,sideOffset:t,className:ma("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a}));function ja(){return s.jsxs("div",{className:"flex h-screen w-full flex-col justify-center",children:[s.jsx("main",{children:s.jsx(i,{})}),s.jsx("footer",{className:"absolute bottom-0 w-full py-6 text-center"})]})}ba.displayName=Je.displayName;const ya=e.createContext(null),Na=({className:t,fixed:a=!1,...r})=>{const l=e.useRef(null),[i,n]=e.useState(0);return e.useEffect(()=>{const e=l.current;if(!e)return;const t=()=>n(e.scrollTop);return e.removeEventListener("scroll",t),e.addEventListener("scroll",t,{passive:!0}),()=>e.removeEventListener("scroll",t)},[]),s.jsx(ya.Provider,{value:{offset:i,fixed:a},children:s.jsx("div",{ref:l,"data-layout":"layout",className:ma("h-full overflow-auto",a&&"flex flex-col",t),...r})})};Na.displayName="Layout";const wa=e.forwardRef(({className:t,sticky:a,...r},l)=>{const i=e.useContext(ya);if(null===i)throw new Error(`Layout.Header must be used within ${Na.displayName}.`);return s.jsx("div",{ref:l,"data-layout":"header",className:ma("z-10 flex h-[var(--header-height)] w-full items-center gap-4 bg-background p-4 md:px-8",a?"sticky top-0":"relative",i.offset>10&&a?"shadow":"shadow-none",i.fixed&&"flex-none ",t),...r})});wa.displayName="Header";const ka=e.forwardRef(({className:t,...a},r)=>{const l=e.useContext(ya);if(null===l)throw new Error(`Layout.Body must be used within ${Na.displayName}.`);return s.jsx("div",{ref:r,"data-layout":"body",className:ma("px-3 py-4 md:overflow-hidden md:px-6",l&&l.fixed&&"flex-1",t),...a})});ka.displayName="Body",Na.Header=wa,Na.Body=ka;const _a=l("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Sa=e.forwardRef(({className:e,variant:t,size:a,asChild:r=!1,children:l,disabled:i,loading:n=!1,leftSection:d,rightSection:o,...c},u)=>{const m=r?Qe:"button";return s.jsxs(m,{className:ma(_a({variant:t,size:a,className:e})),disabled:n||i,ref:u,...c,children:[(d&&n||!d&&!o&&n)&&s.jsx(js,{className:"mr-2 h-4 w-4 animate-spin"}),!n&&d&&s.jsx("div",{className:"mr-2",children:d}),l,!n&&o&&s.jsx("div",{className:"ml-2",children:o}),o&&n&&s.jsx(js,{className:"ml-2 h-4 w-4 animate-spin"})]})});Sa.displayName="Button";const Aa=st,Ca=at,La=rt,Pa=vt,Ia=bt,Ra=jt;e.forwardRef(({className:e,inset:t,children:a,...r},l)=>s.jsxs(lt,{ref:l,className:ma("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[a,s.jsx(it,{className:"ml-auto h-4 w-4"})]})).displayName=lt.displayName;e.forwardRef(({className:e,...t},a)=>s.jsx(nt,{ref:a,className:ma("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})).displayName=nt.displayName;const Da=e.forwardRef(({className:e,sideOffset:t=4,...a},r)=>s.jsx(dt,{children:s.jsx(ot,{ref:r,sideOffset:t,className:ma("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})}));Da.displayName=ot.displayName;const Ea=e.forwardRef(({className:e,inset:t,...a},r)=>s.jsx(ct,{ref:r,className:ma("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...a}));Ea.displayName=ct.displayName;e.forwardRef(({className:e,children:t,checked:a,...r},l)=>s.jsxs(ut,{ref:l,className:ma("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:a,...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(mt,{children:s.jsx(xt,{className:"h-4 w-4"})})}),t]})).displayName=ut.displayName;e.forwardRef(({className:e,children:t,...a},r)=>s.jsxs(pt,{ref:r,className:ma("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(mt,{children:s.jsx(ht,{className:"h-4 w-4 fill-current"})})}),t]})).displayName=pt.displayName;const Ma=e.forwardRef(({className:e,inset:t,...a},r)=>s.jsx(gt,{ref:r,className:ma("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...a}));Ma.displayName=gt.displayName;const Ta=e.forwardRef(({className:e,...t},a)=>s.jsx(ft,{ref:a,className:ma("-mx-1 my-1 h-px bg-muted",e),...t}));function Ua(){const{pathname:e}=n();return{checkActiveNav:t=>!!e.includes(t)}}function za({links:t,isCollapsed:a,className:r,closeNav:l}){return s.jsx("div",{"data-collapsed":a,className:ma("group py-5 transition-all duration-500 data-[collapsed=true]:py-3",r),children:s.jsx(ga,{delayDuration:0,children:s.jsx("nav",{className:"grid gap-1.5 px-3 group-[[data-collapsed=true]]:justify-center group-[[data-collapsed=true]]:px-2",children:t.map(({sub:t,...s})=>{const r=`${s.title}-${s.href}`;return a&&t?e.createElement(qa,{...s,sub:t,key:r,closeNav:l}):a?e.createElement(Oa,{...s,key:r,closeNav:l}):t?e.createElement(Ba,{...s,sub:t,key:r,closeNav:l}):e.createElement(Fa,{...s,key:r,closeNav:l})})})})})}function Fa({title:e,icon:t,label:a,href:r,closeNav:l,subLink:i=!1}){const{checkActiveNav:n}=Ua(),o=n(r);return s.jsxs(d,{to:r,onClick:l,className:ma("group relative flex items-center gap-3 rounded-xl px-3.5 py-2.5 font-medium transition-all duration-200",i&&"py-2 pl-11 text-[0.9375rem]",o&&!i&&"bg-primary text-primary-foreground shadow-sm",o&&i&&"bg-primary/10 font-bold text-primary",!o&&!i&&"text-slate-500  hover:bg-accent hover:text-accent-foreground dark:text-slate-400",!o&&i&&"text-slate-500/90 hover:bg-accent/50 hover:text-accent-foreground dark:text-slate-400/90"),"aria-current":o?"page":void 0,children:[!i&&s.jsx("div",{className:ma("flex items-center justify-center transition-transform duration-200",o&&"scale-105"),children:"Dashboard"==e?s.jsx(_s,{className:"h-[1.125rem] w-[1.125rem]"}):s.jsx(ks,{className:"h-[1.125rem] w-[1.125rem]"})}),i&&s.jsx("div",{className:"absolute left-5 top-1/2 flex -translate-y-1/2 items-center",children:s.jsx(ws,{className:ma("h-1.5 w-1.5 transition-all duration-200",o?"scale-125 fill-primary text-primary":"fill-muted-foreground/50 text-muted-foreground/50 group-hover:fill-muted-foreground group-hover:text-muted-foreground")})}),s.jsx("span",{className:"flex-1",children:e}),a&&s.jsx("div",{className:ma("rounded-full px-2 py-0.5 text-[0.625rem] font-bold uppercase tracking-wide transition-all duration-200",o&&!i&&"bg-primary-foreground text-primary",o&&i&&"bg-primary text-primary-foreground",!o&&"bg-slate-200 text-slate-600 dark:bg-slate-800 dark:text-slate-400"),children:a}),o&&s.jsx("div",{className:ma("absolute left-0 top-1/2 h-8 w-1 -translate-y-1/2 rounded-r-full transition-all duration-200",!i&&"bg-white",i&&"h-6 bg-primary")})]})}function Ba({title:e,icon:t,label:a,sub:r,closeNav:l}){const{checkActiveNav:i}=Ua(),n=!!(null==r?void 0:r.find(e=>i(e.href)));return s.jsxs(Aa,{defaultOpen:n,children:[s.jsxs(Ca,{className:ma("group relative flex w-full items-center gap-3 rounded-xl px-3.5 py-2.5 font-medium transition-all duration-200",n?"bg-primary text-primary-foreground shadow-sm":"text-slate-500 hover:bg-accent hover:text-accent-foreground dark:text-slate-400"),children:[s.jsx("div",{className:ma("flex items-center justify-center transition-transform duration-200",n&&"scale-105"),children:s.jsx(ys,{className:"h-[1.125rem] w-[1.125rem]"})}),s.jsx("span",{className:"flex-1 text-left",children:e}),a&&s.jsx("div",{className:ma("rounded-full px-2 py-0.5 text-[0.625rem] font-bold uppercase tracking-wide transition-all duration-200",n?"bg-white/95 text-blue-700":"bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-sm"),children:a}),s.jsx("span",{className:ma('transition-transform duration-300 ease-out group-data-[state="open"]:rotate-180',n?"text-white/90":"text-muted-foreground/60"),children:s.jsx(Ns,{stroke:2,size:16})}),n&&s.jsx("div",{className:"absolute left-0 top-1/2 h-8 w-1 -translate-y-1/2 rounded-r-full bg-white shadow-lg shadow-white/50"})]}),s.jsx(La,{className:"data-[state=closed]:animate-collapsible-up data-[state=open]:animate-collapsible-down overflow-hidden transition-all duration-300 ease-out",asChild:!0,children:s.jsx("ul",{className:"mt-1 space-y-0.5 pb-1",children:null==r?void 0:r.filter(e=>null==e?void 0:e.is_sidebar).map(e=>s.jsx("li",{children:s.jsx(Fa,{...e,subLink:!0,closeNav:l})},e.title))})})]})}function Oa({title:e,icon:t,label:a,href:r,closeNav:l}){const{checkActiveNav:i}=Ua(),n=i(r);return s.jsxs(fa,{delayDuration:0,children:[s.jsx(va,{asChild:!0,children:s.jsxs(d,{to:r,onClick:l,className:ma("relative flex h-9 w-9 items-center justify-center rounded-lg transition-all duration-200",n&&"scale-105 bg-primary text-primary-foreground shadow-sm",!n&&"text-slate-500 hover:scale-105 hover:bg-accent hover:text-accent-foreground dark:text-slate-400"),children:[s.jsx("div",{className:"transition-transform duration-200",children:s.jsx(ks,{className:"h-5 w-5"})}),s.jsx("span",{className:"sr-only",children:e}),n&&s.jsx("div",{className:"absolute -right-0.5 -top-0.5",children:s.jsx("div",{className:"rounded-ful h-2.5 w-2.5 shadow-none ring-2 ring-background"})})]})}),s.jsxs(ba,{side:"right",className:"flex items-center gap-3 border bg-popover px-3 py-2 text-popover-foreground shadow-xl",children:[s.jsx("span",{className:"text-sm font-medium",children:e}),a&&s.jsx("span",{className:"rounded-full bg-orange-500 px-2 py-0.5 text-[0.625rem] font-bold uppercase shadow-sm",children:a})]})]})}function qa({title:e,icon:t,label:a,sub:r,closeNav:l}){const{checkActiveNav:i}=Ua(),n=!!(null==r?void 0:r.find(e=>i(e.href)));return s.jsxs(Pa,{children:[s.jsxs(fa,{delayDuration:0,children:[s.jsx(va,{asChild:!0,children:s.jsx(Ia,{asChild:!0,children:s.jsxs(Sa,{variant:"ghost",size:"icon",className:ma("relative h-9 w-9 rounded-lg transition-all duration-200",n&&"scale-105 bg-primary text-primary-foreground shadow-sm",!n&&"text-slate-500 hover:scale-105 hover:bg-accent hover:text-accent-foreground dark:text-slate-400"),children:[s.jsx(ys,{className:"h-[1.125rem] w-[1.125rem]"}),n&&s.jsx("div",{className:"absolute -right-1 -top-1",children:s.jsx("div",{className:"h-2.5 w-2.5 rounded-full bg-primary shadow-none ring-2 ring-background"})})]})})}),s.jsxs(ba,{side:"right",className:"flex items-center gap-3 border bg-popover px-3 py-2 text-popover-foreground shadow-xl",children:[s.jsx("span",{className:"text-sm font-medium",children:e}),a&&s.jsx("span",{className:"rounded-full bg-orange-500 px-2 py-0.5 text-[0.625rem] font-bold uppercase shadow-sm",children:a}),s.jsx(Ns,{size:16,className:"-rotate-90 text-slate-400"})]})]}),s.jsxs(Da,{side:"right",align:"start",sideOffset:8,className:"min-w-[220px] rounded-xl border bg-popover p-1.5 shadow-xl",children:[s.jsxs(Ma,{className:"px-3 py-2 text-xs font-semibold uppercase tracking-wider text-foreground",children:[e," ",a&&`(${a})`]}),s.jsx(Ta,{className:"my-1"}),s.jsx("div",{className:"space-y-0.5",children:r.map(({title:e,icon:t,label:a,href:r})=>s.jsx(Ea,{asChild:!0,className:"p-0",children:s.jsxs(d,{to:r,onClick:l,className:ma("mx-1 flex items-center gap-3 rounded-lg px-3 py-2 transition-all duration-200",i(r)?"bg-gradient-to-r from-blue-600 to-indigo-600 font-semibold text-white shadow-md":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),children:[s.jsx(ws,{className:ma("h-1.5 w-1.5 shrink-0 transition-all duration-200",i(r)?"fill-white text-white":"fill-muted-foreground/50 text-muted-foreground/50")}),s.jsx("span",{className:"flex-1 text-wrap text-sm",children:e}),a&&s.jsx("span",{className:ma("rounded-full px-2 py-0.5 text-[0.625rem] font-bold uppercase shadow-sm",i(r)?"bg-white/95 text-blue-700":"bg-orange-500 text-white"),children:a})]})},`${e}-${r}`))})]})]})}Ta.displayName=ft.displayName;const Wa=ta.create({baseURL:"https://jharkhandegovernance.com/auth"});function $a(e,t){const s=e.currentTarget;if(t.includes("mobile")){const e=s.value;e.length>10&&(s.value=e.slice(0,10))}if(t.includes("zip")){const e=s.value;e.length>6&&(s.value=e.slice(0,6))}if(t.includes("aadhaar")){const e=s.value;e.length>12&&(s.value=e.slice(0,12))}if(t.includes("pan")){const e=s.value;e.length>10&&(s.value=e.slice(0,10))}if(t.includes("UAN")){const e=s.value;e.length>12&&(s.value=e.slice(0,12))}if(t.includes("Passport")){const e=s.value;e.length>8&&(s.value=e.slice(0,8))}if(t.includes("drivingLicence")){const e=s.value;e.length>15&&(s.value=e.slice(0,15))}if(t.includes("removeDoubleSpace")){const e=s.value;s.value=e.replace(/\s+/g," ")}if(t.includes("removeSpecialCharacter")){const e=s.value;s.value=e.replace(/[^a-zA-Z0-9]/g,"")}if(t.includes("removeSpecialCharacterExceptSpace")){const e=s.value;s.value=e.replace(/[^a-zA-Z0-9 ]/g,"")}if(t.includes("removeSpecialCharacterExceptSpaceAndDot")){const e=s.value;s.value=e.replace(/[^a-zA-Z0-9 .]/g,"")}if(t.includes("sqlInjectionGuard")){const e=s.value;(e.includes("drop")||e.includes("select"))&&(s.value="")}if(t.includes("address")){const e=s.value;s.value=e.replace(/[^a-zA-Z0-9 ,]/g,"")}if(t.includes("phone")){const e=s.value;s.value=e.replace(/[^0-9]/g,"")}if(t.includes("email")){const e=s.value;s.value=e.replace(/[^a-zA-Z0-9@.]/g,"")}if(t.includes("string")){const e=s.value;s.value=e.replace(/[^a-zA-Z ]/g,"")}if(t.includes("number")){const e=s.value;s.value=e.replace(/[^0-9]/g,"")}if(t.includes("removeDoubleQuote")){const e=s.value;s.value=e.replace(/"/g,"")}if(t.includes("removeSingleQuote")){const e=s.value;s.value=e.replace("'","")}if(t.includes("removeSpecialCharacterWithDoubleSpace")){const e=s.value;s.value=e.replace(/[^a-zA-Z0-9 ]/g,"");const t=s.value;s.value=t.replace(/\s+/g," ")}if(t.includes("CapitalFirstLetter")){const e=s.value;s.value=e.charAt(0).toUpperCase()+e.slice(1)}if(t.includes("UppercaseAfterSpace")){const e=s.value;s.value=e.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}if(t.includes("Uppercase")){const e=s.value;s.value=e.toUpperCase()}if(t.includes("removeSpace")){const e=s.value;s.value=e.replace(/\s+/g,"")}if(t.includes("Lowercase")){const e=s.value;s.value=e.toLowerCase()}if(t.includes("none")){const e=s.value;s.value=e}if(t.includes("decimal")){let e=s.value.replace(/[^0-9.]/g,"");const t=e.split(".");t.length>2&&(e=t[0]+"."+t.slice(1).join("")),2===t.length&&t[1].length>2&&(e=t[0]+"."+t[1].slice(0,2)),s.value=e}if(t.includes("maxTwoDecimalPlaces")){const e=s.value;e.length>2&&(s.value=e.slice(0,2))}}Wa.interceptors.request.use(e=>{const t=localStorage.getItem("token"),s=localStorage.getItem("ulbId")||null;return e.params={...e.params,ulbId:s},t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>{throw new Error(e)}),Wa.interceptors.response.use(e=>{var t,s;return"false"==(null==(t=e.data)?void 0:t.authenticated)&&(delete Wa.defaults.headers.common.Authorization,localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),localStorage.setItem("authenticated",null==(s=e.data)?void 0:s.authenticated),alert("Session Expired"),location.reload()),e},async e=>{throw new Error(e)}),o({language:"en",isGrid:!1,isSort:!1});const Va={login:"/api/login",getUser:"/api/user-managment/get-user-dtls",byModule:"/api/menu/by-module",getAllUsers:"/api/user-managment/v1/crud/get/user-list-by-ulb-id-v1",changePassword:"/api/change-password",getCaptcha:"/api/login-Captcha"},Ha={getMenuRoleList:"/api/user-managment/v1/crud/menu-role/list",api_getNotification:"/api/get-user-notifications",api_getDashboard:"/",api_getFreeMenuList:"/api/menu/by-module",api_getUlbWardList:"/api/get-all-ulb-ward",api_getUlbList:"/api/v2/get-all-ulb",api_getAllUlb:"/api/get-all-ulb",api_getUlbLogoList:"/api/get-upload/ulb-logo",api_PostUlb:"/api/create-ulb-master",api_PostUlblogo:"/api/upload/ulb-logo-by-id",api_getUlbById:"/api/get-ulb-by-id",api_updateUlb:"/api/updateUlbId",api_deleteUlb:"/api/ulb-master-delete",api_getWardListByULB:"/api/workflow/getWardByUlb",api_createUlbWard:"/api/create-ulb_ward_masters",api_updateUlbWard:"/api/update-ulb_ward_masters",api_deleteUlbWard:"/api/delete-ulb_ward_masters",api_getFinancialYearList:"/api/property/reports/list-fy",api_getDistrictList:"/api/list-district",api_getUlbWiseCollection:"/api/dashboard/state/ulb-wise-collection",api_getDcbMonthly:"/api/dashboard/state/property/DCB",api_getOnlinePaymentCount:"/api/dashboard/state/count-online-payment",api_getPercentageWiseModuleCollection:"/api/dashboard/state/collection-percentage",api_getUlbDataByDistrict:"/api/dashboard/state/district-wise-data",api_getOnlineUsers:"/",api_checkHeartBeat:"/api/heartbeat",api_logout:"/api/logout",api_getHeatMapDataByWard:"/api/property/getpropLatLong",api_wardByUlb:"/api/workflow/getWardByUlb",api_getTcByWard:"/api/workflow/ward-user/list-tc",ulbListApi:"/api/get-all-ulb",zone_list_Api:"/api/get-zone",api_deleteZoneApi:"/api/delete-zone",api_PostZoneApi:"/api/create-zone",api_zone_by_id:"/api/get-zone-by-id",api_updateZoneApi:"/api/update-zone",api_getRoleList:"/api/crud/roles/get-all-roles",api_postRole:"/api/crud/roles/save-role",api_deleteRole:"/api/crud/roles/delete-role",api_editRole:"/api/crud/roles/edit-role",api_getUserList:"/api/get-all-users",api_postUser:"/api/authorised-register",getMenuRole:"/api/user-managment/v1/crud/menu-role/list",api_PostMenuRole:"/api/user-managment/v1/crud/menu-role/save",api_deleteMenuRole:"/api/user-managment/v1/crud/menu-role/delete",api_updateMenuRole:"/api/user-managment/v1/crud/menu-role/edit",api_getMenuListByMenuRoleId:"/api/user-managment/v1/crud/menu-role/menu-list",api_updateMenuRoleMapping:"/api/user-managment/v1/crud/menu-role-map/save",getApiRole:"/api/user-managment/v1/crud/api-role/list",api_PostApiRole:"/api/user-managment/v1/crud/api-role/save",api_deleteApiRole:"/api/user-managment/v1/crud/api-role/delete",api_updateApiRole:"/api/user-managment/v1/crud/api-role/edit",api_getApiListByApiRoleId:"/api/user-managment/v1/crud/api-role/api-list",api_updateApiRoleMapping:"/api/user-managment/v1/crud/api-role-map/save",getWorkflowRole:"/api/user-managment/v1/crud/workflow-role/list",getWorkflowRoleById:"/api/user-managment/v1/crud/workflow-role/get",api_PostWorkflowRole:"/api/user-managment/v1/crud/workflow-role/save",api_deleteWorkflowRole:"/api/user-managment/v1/crud/workflow-role/delete",api_updateWorkflowRole:"/api/user-managment/v1/crud/workflow-role/edit",api_getMenuList:"/api/user-managment/v1/crud/menu/list",api_PostMenu:"/api/user-managment/v1/crud/menu/save",api_deleteMenu:"/api/user-managment/v1/crud/menu/delete",api_updateMenu:"/api/user-managment/v1/crud/menu/edit",api_getMenuById:"/api/user-managment/v1/crud/menu/get",api_getApiList:"/api/user-managment/v1/crud/api-master/list",api_PostApi:"/api/user-managment/v1/crud/api-master/save",api_deleteApi:"/api/user-managment/v1/crud/api-master/delete",api_updateApi:"/api/user-managment/v1/crud/api-master/edit",api_getApiById:"/api/user-managment/v1/crud/api-master/get",api_getUserLists:"/api/user-managment/v1/crud/user/list",api_PostUser:"/api/user-managment/v1/crud/user/create",api_EnalbeDisableUser:"/api/user-managment/v1/crud/user/delete",api_updateUser:"/api/user-managment/v1/crud/user/update",api_getUserById:"/api/user-managment/v1/crud/user/get",api_getModuleList:"/api/user-managment/v1/crud/module/list",api_getWorkflowByModule:"/api/user-managment/v1/crud/workflow-by-module",api_getParentMenuList:"/api/user-managment/v1/crud/menu/list-parent-serial",api_getApiCategory:"/api/user-managment/v1/api-category",api_getApiDeveloperList:"/api/user-managment/v1/developer-list",api_getMenuRolesByUser:"/api/user-managment/v1/crud/menu-role-user/by-user",api_getApiRolesByUser:"/api/user-managment/v1/crud/api-role-user/by-user",api_getWorkflowRolesByUser:"/api/user-managment/v1/crud/workflow-role-user/by-user",api_getUserTypeList:"/api/user-managment/v1/crud/get/user-type",api_postMenuRoleUserMapping:"/api/user-managment/v1/crud/menu-role-user/save",api_postApiRoleUserMapping:"/api/user-managment/v1/crud/api-role-user/save",api_postWorkflowRoleUserMapping:"/api/user-managment/v1/crud/workflow-role-user/save",api_postWardUserMapping:"/api/user-managment/v1/crud/ward-user/save",api_getWardListByUser:"/api/user-managment/v1/crud/ward-user/by-user",api_getConstructionApiList:"/api/property/ref-prop-construction-type-list",api_PostConstructionApi:"/api/property/ref-prop-construction-type-create",api_getConstructionApiById:"/api/property/ref-prop-construction-type-get",api_updateConstructionApi:"/api/property/ref-prop-construction-type-update",api_deleteConstructionApi:"/api/property/ref-prop-construction-type-delete",api_getFloorApiList:"/api/property/ref-prop-floor-type-list",api_PostFloorApi:"/api/property/ref-prop-floor-type-create",api_getFloorApiById:"/api/property/ref-prop-floor-type-get",api_updateFloorApi:"/api/property/ref-prop-floor-type-update",api_deleteFloorApi:"/api/property/ref-prop-floor-type-delete",api_getUsageTypeApiList:"/api/property/ref-prop-usage-type-list",api_PostUsageTypeApi:"/api/property/ref-prop-usage-type-create",api_getUsageTypeApiById:"/api/property/ref-prop-usage-type-get",api_updateUsageTypeApi:"/api/property/ref-prop-usage-type-update",api_deleteUsageTypeApi:"/api/property/ref-prop-usage-type-delete",api_getGbBuildingApiList:"/api/property/ref-prop-gbbuilding-type-list",api_PostGbBuildingApi:"/api/property/ref-prop-gbbuilding-type-create",api_getGbBuildingApiById:"/api/property/ref-prop-gbbuilding-type-get",api_updateGbBuildingApi:"/api/property/ref-prop-gbbuilding-type-update",api_deleteGbBuildingApi:"/api/property/ref-prop-gbbuilding-type-delete",api_getObjectionApiList:"/api/property/ref-prop-objection-type-list",api_PostObjectionApi:"/api/property/ref-prop-objection-type-create",api_getObjectionApiById:"/api/property/ref-prop-objection-type-get",api_updateObjectionApi:"/api/property/ref-prop-objection-type-update",api_deleteObjectionApi:"/api/property/ref-prop-objection-type-delete",api_getOccupancyApiList:"/api/property/ref-prop-occupancy-type-list",api_PostOccupancyApi:"/api/property/ref-prop-occupancy-type-create",api_getOccupancyApiById:"/api/property/ref-prop-occupancy-type-get",api_updateOccupancyApi:"/api/property/ref-prop-occupancy-type-update",api_deleteOccupancyApi:"/api/property/ref-prop-occupancy-type-delete",api_getPropertyApiList:"/api/property/ref-prop-property-type-list",api_PostPropertyApi:"/api/property/ref-prop-property-type-create",api_getPropertyApiById:"/api/property/ref-prop-property-type-get",api_updatePropertyApi:"/api/property/ref-prop-property-type-update",api_deletePropertyApi:"/api/property/ref-prop-property-type-delete",api_getGbpropusageApiList:"/api/property/ref-prop-gbpropusage-type-list",api_PostGbpropusageApi:"/api/property/ref-prop-gbpropusage-type-create",api_getGbpropusageApiById:"/api/property/ref-prop-gbpropusage-type-get",api_updateGbpropusageApi:"/api/property/ref-prop-gbpropusage-type-update",api_deleteGbpropusageApi:"/api/property/ref-prop-gbpropusage-type-delete",api_getPropOccupancyFactorApiList:"/api/property/ref-prop-occupancy-factor-list",api_PostPropOccupancyFactorApi:"/api/property/ref-prop-occupancy-factor-create",api_getPropOccupancyFactorApiById:"/api/property/ref-prop-occupancy-factor-get",api_updatePropOccupancyFactorApi:"/api/property/ref-prop-occupancy-factor-update",api_deletePropOccupancyFactorApi:"/api/property/ref-prop-occupancy-factor-delete",api_getRoadApiList:"/api/property/ref-prop-road-type-list",api_PostRoadApi:"/api/property/ref-prop-road-type-create",api_getRoadApiById:"/api/property/ref-prop-road-type-get",api_updateRoadApi:"/api/property/ref-prop-road-type-update",api_deleteRoadApi:"/api/property/ref-prop-road-type-delete",api_getOwnershipApiList:"/api/property/ref-prop-ownership-type-list",api_PostOwnershipApi:"/api/property/ref-prop-ownership-type-create",api_getOwnershipApiById:"/api/property/ref-prop-ownership-type-get",api_updateOwnershipApi:"/api/property/ref-prop-ownership-type-update",api_deleteOwnershipApi:"/api/property/ref-prop-ownership-type-delete",api_getTransferModeApiList:"/api/property/ref-prop-transfer-mode-list",api_PostTransferModeApi:"/api/property/ref-prop-transfer-mode-create",api_getTransferModeApiById:"/api/property/ref-prop-transfer-mode-get",api_updateTransferModeApi:"/api/property/ref-prop-transfer-mode-update",api_deleteTransferModeApi:"/api/property/ref-prop-transfer-mode-delete",api_getRebateTypeApiList:"/api/property/ref-prop-rebate-type-list",api_PostRebateTypeApi:"/api/property/ref-prop-rebate-type-create",api_getRebateTypeApiById:"/api/property/ref-prop-rebate-type-get",api_updateRebateTypeApi:"/api/property/ref-prop-rebate-type-update",api_deleteRebateTypeApi:"/api/property/ref-prop-rebate-type-delete",api_getPenaltyTypeApiList:"/api/property/ref-prop-penalty-type-list",api_PostPenaltyTypeApi:"/api/property/ref-prop-penalty-type-create",api_getPenaltyTypeApiById:"/api/property/ref-prop-penalty-type-get",api_updatePenaltyTypeApi:"/api/property/ref-prop-penalty-type-update",api_deletePenaltyTypeApi:"/api/property/ref-prop-penalty-type-delete",api_getForgeryTypeApiList:"/api/property/m-prop-forgery-type-list",api_PostForgeryTypeApi:"/api/property/m-prop-forgery-type-create",api_getForgeryTypeApiById:"/api/property/m-prop-forgery-type-get",api_updateForgeryTypeApi:"/api/property/m-prop-forgery-type-update",api_deleteForgeryTypeApi:"/api/property/m-prop-forgery-type-delete",api_getDistrictApiList:"/api/get-district",api_PostDistrictApi:"/api/add-district",api_getDistrictApiById:"/api/get-districtBy-Id",api_updateDistrictApi:"/api/update-districtBy-Id",api_deleteDistrictApi:"/api/delete-district",api_getSchemeTypeApiList:"/api/get-scheme-type",api_PostSchemeTypeApi:"/api/add-scheme-type",api_getSchemeTypeApiById:"/api/get-scheme-type-by-id",api_updateSchemeTypeApi:"/api/update-scheme-type",api_deleteSchemeTypeApi:"/api/scheme-type-delete",api_getCityApiList:"/api/get-city",api_PostCityApi:"/api/create-city",api_getCityApiById:"/api/get-by-Id-city",api_updateCityApi:"/api/update-city-by-id",api_deleteCityApi:"/api/city/enable-disable",api_getWaterTypeApiList:"/api/water/get-water-prop-type",api_PostWaterTypeApi:"/api/water/create-water-prop-type",api_getWaterTypeById:"/api/water/getby-id-water-prop-type",api_updateWaterTypeApi:"/api/water/update-water-prop-type",api_deleteWaterTypeApi:"/api/water/delete-water-prop-type",api_getCapitalValuesRateApiList:"/api/property/m-capital-value-rate-list",api_getCapitalValuesRateById:"/api/property/m-capital-value-rate-get",api_PostCapitalValuesRateApi:"/api/property/m-capital-value-rate-create",api_updateCapitalValuesRateApi:"/api/property/m-capital-value-rate-update",api_deleteCapitalValuesRateApi:"/api/property/m-capital-value-rate-delete",api_getBuildingRentalCostApiList:"/api/property/m-prop-building-reantal-const-list",api_getBuildingRentalCostById:"/api/property/m-prop-building-reantal-const-get",api_getRentalValuesApiList:"/api/property/m-prop-rental-value-list",api_getRentalValuesById:"/api/property/m-prop-rental-value-get",api_getMultiFactorApiList:"/api/property/m-prop-multi-factor-list",api_getMultiFactorById:"/api/property/m-prop-multi-factor-get",api_getRoadTypesApiList:"/api/property/m-prop-road-types-list",api_getRoadTypesById:"/api/property/m-prop-road-types-get",api_getVacantRentalRatesApiList:"/api/property/m-prop-vacant-rentalrates-list",api_getVacantRentalRatesById:"/api/property/m-prop-vacant-rentalrates-get",api_getBuildingRentalTypeApiList:"/api/property/m-prop-building-reantal-rate-list",api_getBuildingRentalTypeApiById:"/api/property/m-prop-building-reantal-rate-get",api_getAssetsApiList:"/api/property/m-assets-get",api_PostAssetsApi:"/api/property/m-assets-create",api_getAssetsApiById:"/api/property/m-assets-get-by-id",api_updateAssetsApi:"/api/property/m-assets-update",api_deleteAssetsApi:"/api/property/m-assets-delete",api_getBlogPostApiList:"/api/m-list-of-all-blog",api_PostBlogPostApi:"/api/m-store-blog-post",api_updateblog:"/api/m-update-blog",api_deleteBlogPostApi:"/api/m-delete-blog",api_getBlogById:"/api/m-get-blog-by-Id",api_getImopNoticeApiList:"/api/property/m-notice-list",api_PostImopNoticeApi:"/api/property/m-notice-create",api_getImopNoticeApiById:"/api/property/m-notice-get-by-id",api_updateImopNoticeApi:"/api/property/m-notice-update",api_deleteImpoNoticeApi:"/api/property/m-notice-delete",api_getAnnouncementApiList:"/api/property/m-announcement-list",api_PostAnnouncementApi:"/api/property/m-announcement-create",api_getAnnouncementApiById:"/api/property/m-announcement-get-by-id",api_updateAnnouncementApi:"/api/property/m-announcement-update",api_deleteAnnouncementApi:"/api/property/m-announcement-delete",api_getMobileAppApiList:"/api/property/m-app-list",api_PostMobileAppApi:"/api/property/m-app-create",api_getMobileAppApiById:"/api/property/m-app-get-by-id",api_updateMobileAppApi:"/api/property/m-app-update",api_deleteMobileAppApi:"/api/property/m-app-delete",api_getSchemeApiList:"/api/property/m-scheme-list",api_PostSchemeApi:"/api/property/m-scheme-create",api_getSchemeApiById:"/api/property/m-scheme-get-by-id",api_updateSchemeApi:"/api/property/m-scheme-update",api_deleteSchemeApi:"/api/property/m-scheme-delete",api_getNewEventsApiList:"/api/property/m-news-list",api_PostNewEventsApi:"/api/property/m-news-create",api_getNewEventsApiById:"/api/property/m-news-get-by-id",api_updateNewEventsApi:"/api/property/m-news-update",api_deleteNewEventsApi:"/api/property/m-news-delete",api_getEserviceApiList:"/api/property/m-e-service-list",api_PostEserviceApi:"/api/property/m-e-service-create",api_getEserviceApiById:"/api/property/m-e-service-get-by-id",api_updateEserviceApi:"/api/property/m-e-service-update",api_deleteEserviceApi:"/api/property/m-e-service-delete",api_getWhatsNewApiList:"/api/property/m-whats-new-list",api_PostWhatsNewApi:"/api/property/m-whats-new-createss",api_getWhatsNewApiById:"/api/property/m-whats-new-get-by-id",api_updateWhatsNewApi:"/api/property/m-whats-new-update",api_deleteWhatsNewApi:"/api/property/m-whats-new-delete",api_getQuickLinkApiList:"/api/property/m-quick-link-list",api_PostQuickLinkApi:"/api/property/m-quick-link-create",api_getQuickLinkApiById:"/api/property/m-quick-link-get-by-id",api_updateQuickLinkApi:"/api/property/m-quick-link-update",api_deleteQuickLinkApi:"/api/property/m-quick-link-delete",api_getUsefulLinkApiList:"/api/property/m-useful-link-list",api_PostUsefulLinkApi:"/api/property/m-useful-link-create",api_getUsefulLinkApiById:"/api/property/m-useful-link-get-by-id",api_updateUsefulLinkApi:"/api/property/m-useful-link-update",api_deleteUsefulLinkApi:"/api/property/m-useful-link-delete",api_getImportantLinkApiList:"/api/property/m-important-link-list",api_PostImportantLinkApi:"/api/property/m-important-link-create",api_getImportantLinkApiById:"/api/property/m-important-link-get-by-id",api_updateImportantLinkApi:"/api/property/m-important-link-update",api_deleteImportantLinkApi:"/api/property/m-important-link-delete",api_getDepartmentApiList:"/api/property/m-department-list",api_PostDepartmentApi:"/api/property/m-department-create",api_getDepartmentApiById:"/api/property/m-department-get-by-id",api_updateDepartmentApi:"/api/property/m-department-update",api_deleteDepartmentApi:"/api/property/m-department-delete",api_getContactInfoApiList:"/api/property/m-contact-list",api_PostContactInfoApi:"/api/property/m-contact-create",api_getContactInfoApiById:"/api/property/m-contact-get-by-id",api_updateContactInfoApi:"/api/property/m-contact-update",api_deleteContactInfoApi:"/api/property/m-contact-delete",api_getAboutUsApiList:"/api/property/m-about-us-list",api_PostAboutUsApi:"/api/property/m-about-us-create",api_getAboutUsApiById:"/api/property/m-about-us-get-by-id",api_updateAboutUsApi:"/api/property/m-about-us-update",api_deleteAboutUsApi:"/api/property/m-about-us-delete",api_getActRulesApiList:"/api/property/m-act-rules-list",api_PostActRulesApi:"/api/property/m-act-rules-create",api_getActRulesApiById:"/api/property/m-act-rules-get-by-id",api_updateActRulesApi:"/api/property/m-act-rules-update",api_deleteActRulesApi:"/api/property/m-act-rules-delete",api_getAdministrativeApiList:"/api/property/m-administrative-list",api_PostAdministrativeApi:"/api/property/m-administrative-create",api_getAdministrativeApiById:"/api/property/m-administrative-get-by-id",api_updateAdministrativeApi:"/api/property/m-administrative-update",api_deleteAdministrativeApi:"/api/property/m-administrative-delete",api_getSliderApiList:"/api/property/m-slider-get",api_PostSliderApi:"/api/property/m-slider-create",api_getSliderById:"/api/property/m-slider-get-by-id",api_updateSliderApi:"/api/property/m-slider-update",api_deleteSliderApi:"/api/property/m-slider-delete",api_getAdminLists:"/api/user-managment/v1/crud/get/admin-list",api_getHeadingApiList:"/api/property/m-heading-list",api_PostHeadingApi:"/api/property/m-heading-create",api_getHeadingById:"/api/property/m-heading-get-by-id",api_updateHeadingApi:"/api/property/m-heading-update",api_deleteHeadingApi:"/api/property/m-heading-delete",api_PostHeadingDescriptionApi:"/api/property/m-heading-description-create",api_getHeadingDescriptionById:"/api/property/m-heading-description-get-by-id",api_updateHeadingDescriptionApi:"/api/property/m-heading-description-update",api_deleteHeadingDescriptionApi:"/api/property/m-heading-description-delete",api_getC_DeskHeadingApiList:"/api/property/m-c-desk-list",api_PostC_DeskHeadingApi:"/api/property/m-c-desk-create",api_getC_DeskHeadingById:"/api/property/m-c-desk-get-by-id",api_updateC_DeskHeadingApi:"/api/property/m-c-desk-update",api_deleteC_DeskHeadingApi:"/api/property/m-c-desk-delete",api_PostC_DeskDescriptionApi:"/api/property/m-c-desk-des-create",api_getC_DeskDescriptionById:"/api/property/m-c-desk-des-get-by-id",api_updateC_DeskDescriptionApi:"/api/property/m-c-desk-des-update",api_deleteC_DeskDescriptionApi:"/api/property/m-c-desk-des-delete"},Za={workflowList:"/api/user-managment/v1/crud/workflow-master/list",workflowAdd:"/api/user-managment/v1/crud/workflow-master/save",workflowUpdate:"/api/user-managment/v1/crud/workflow-master/edit",workflowDelete:"/api/user-managment/v1/crud/workflow-master/delete",ulbWfList:"/api/user-managment/v1/crud/wf-workflow/list",workflowListById:"/api/user-managment/v1/crud/wf-workflow/get",ulbWfAdd:"/api/user-managment/v1/crud/wf-workflow/save",ulbWfUpdate:"/api/user-managment/v1/crud/wf-workflow/edit",ulbWfDelete:"/api/user-managment/v1/crud/wf-workflow/delete",allUlb:"/api/get-all-ulb",wfRoleList:"/api/user-managment/v1/crud/workflow-role-map/list",wfRoleUpdate:"/api/user-managment/v1/crud/workflow-role-map/edit",wfRoleDelete:"/api/user-managment/v1/crud/workflow-role-map/delete",wfRoleAdd:"/api/user-managment/v1/crud/workflow-role-map/save",wfRoleListById:"/api/user-managment/v1/crud/workflow-role-map/get",allRole:"/api/user-managment/v1/crud/workflow-role/list",wfListById:"/api/user-managment/v1/crud/workflow-master/get",wfListByUlb:"/api/workflow/getWorkflowInUlb",UmList:"/api/user-managment/v1/crud/user/list",UmListById:"/api/user-managment/v1/crud/user/get",UmAdd:"/api/user-managment/v1/crud/user/create",UmDelete:"/api/user-managment/v1/crud/user/delete",UmUpdate:"/api/user-managment/v1/crud/user/update",allUser:"/api/user-managment/v1/crud/user/list",PUAdd:"/",ulbListApi:"/api/get-all-ulb"},Ga={getUser:"/api/get-citizen-dtl",getModuleByUlbId:"/api/get/moudle-by-Ulb-id",userManagementModuleList:"/api/user-managment/v1/crud/module/list",createServiceMapping:"/api/global/mapping",getServiceMapping:"/api/global/mapping",updateServiceMapping:"/api/global/mapping/update",serviceList:"/api/get/service-list",addServiceByModule:"/api/create/services",updateServiceByModule:"/api/update/service-by-id",ulbEnableDisable:"/api/ulb-master-delete",moduleList:"/api/global/service",createService:"/api/global/service",getAllJuidcoUlbList:"/api/v2/get-all-ulb",getAnalyticsData:"/api/global/analytics",getMenuRoleList:"/api/user-managment/v1/crud/menu-role/list",getWorkFlowList:"/api/user-managment/v1/crud/workflow-role/list",getMenuMasterList:"/api/user-managment/v1/crud/menu/list",getPermitedMenuList:"/api/user-managment/v1/crud/menu-role/menu-list",getPermitedApiList:"/api/user-managment/v1/crud/api-role-map/list-v1",addRemoveMenuPermission:"/api/user-managment/v1/crud/menu-role-map/save",addRemoveApiPermission:"/api/user-managment/v1/crud/api-role-map/save-v1",addMenuList:"/api/user-managment/v1/crud/menu-role/save",editMenuList:"/api/user-managment/v1/crud/menu-role/edit",parentMenuList:"/api/user-managment/v1/crud/menu/list-parent-serial",workFlowByModule:"/api/user-managment/v1/crud/workflow-by-module",addMenuByModule:"/api/user-managment/v1/crud/menu/save",getMenuDetailsByModule:"/api/user-managment/v1/crud/menu/get",editMenuDetailsByModule:"/api/user-managment/v1/crud/menu/edit",userListByULBId:"/api/user-managment/v1/crud/get/user-list-by-ulb-id",userPermittedRoles:"/api/user-managment/v1/crud/menu-role-user/by-user",addMenuRoleUser:"/api/user-managment/v1/crud/menu-role-user/save",permittedWardByUser:"/api/user-managment/v1/crud/ward-user/by-user",addRemoveWard:"/api/user-managment/v1/crud/ward-user/save",workFlowRoleByUser:"/api/user-managment/v1/crud/workflow-role-user/by-user",AddRemoveWorkFlowRoleByUser:"/api/user-managment/v1/crud/workflow-role-user/save",addRemoveModuleToUlb:"/api/create/ulb-wise-module",getServicesByUlbModule:"/api/get/services-b-ulb-id-v1",addRemoveServiceByUlbModule:"/api/create/ulb-wise-services",enableDisableUserByModule:"/api/user-managment/v1/crud/user/delete",adminList:"/api/user-managment/v1/crud/get/admin-list-v1",createAdmin:"/api/user-managment/v1/crud/user/create",updateAdmin:"/api/user-managment/v1/crud/user/update",createUserType:"/api/user-managment/v1/crud/get/user-type",deleteMenu:"/api/user-managment/v1/crud/menu/delete",changeUserPassword:"/api/change-password-dev",apiListByModule:"/api/user-managment/v1/api-list-module-id",apiMasterCreateByModule:"/api/user-managment/v1/crud/api-master/save",apiDetailsById:"/api/user-managment/v1/api-details-by-id",apiMasterUpdate:"/api/user-managment/v1/update-api-details",apiMasterDelete:"/api/user-managment/v1/delete-api",apiRoleMasterActiveDeactive:"/api/user-managment/v1/menu-role/toggle-suspension",addModule:"api/add-module",updateModule:"api/update-module",deleteModule:"api/delete-module",ulbConfigurationList:"api/ulb-config-details"},Ka=e=>{e?localStorage.setItem("token",e):(localStorage.removeItem("token"),delete Wa.defaults.headers.common.Authorization)};function Ya(e){return e instanceof Error?e.message:String(e)}function Qa(e,t){let s="",a=e;for(let r=0;r<t;r++)a=(9301*a+49297)%233280,s+=(a%16).toString(16);return s}const Ja=sa()((e,t)=>({isAuthenticated:!1,isInitialized:!1,user:null,menuItems:null,setIsAuthenticated:t=>e({isAuthenticated:t}),setIsInitialized:t=>e({isInitialized:t}),setMenuItems:t=>e({menuItems:t}),initialize:async()=>{var t,s;try{const a=localStorage.getItem("token");if(!a)return void e({isAuthenticated:!1,isInitialized:!0,user:null});Ka(a);const[r,l]=await Promise.all([Wa.post(`${Va.getUser}`),Wa.post(`${Va.byModule}`,{moduleId:"35"})]);if(null==(t=null==r?void 0:r.data)?void 0:t.authenticated){const t=r.data.data;"SUPER ADMIN"!=(null==t?void 0:t.roleName)&&window.localStorage.setItem("ulbId",function(e,t="EW^reB0tm}p)R3w+7=+0YG0[XpUOSPfy"){if(!e||!t)return"";let s=0;const a=e+t;for(let o=0;o<a.length;o++)s=(s<<5)-s+a.charCodeAt(o),s&=s;s=Math.abs(s);let r="";for(let o=0;o<e.length;o++){const s=t.charCodeAt(o%t.length);r+=(e.charCodeAt(o)^s).toString(16).padStart(4,"0")}const l=Qa(s,8),i=Qa(s+1,4),n=Qa(s+2,4),d=Qa(s+3,4);return Qa(s+4,12),`${l}-${i}-${n}-${d}:${e.length.toString(16).padStart(4,"0")}${r}`}(t.ulbId.toString())),e({isAuthenticated:!0,isInitialized:!0,user:t,menuItems:(null==(s=null==l?void 0:l.data)?void 0:s.data)||null})}else e({isAuthenticated:!1,isInitialized:!0,user:null})}catch(a){e({isAuthenticated:!1,isInitialized:!0,user:null})}},login:async e=>{try{const s=null==e?void 0:e.data;return Ka(null==s?void 0:s.token),t().initialize(),s}catch(s){c.error("Login Failed")}},logout:()=>{try{Ka(null),localStorage.removeItem("token"),e({isAuthenticated:!1,user:null,menuItems:null}),t().initialize()}catch(s){}}})),Xa=sa(e=>({getTitle:"",setTitle:t=>e({getTitle:t})})),er=()=>({...Ja(),...Xa()});function tr(e="1/1"){return{"4/3":"calc(100% / 4 * 3)","3/4":"calc(100% / 3 * 4)","6/4":"calc(100% / 6 * 4)","4/6":"calc(100% / 4 * 6)","16/9":"calc(100% / 16 * 9)","9/16":"calc(100% / 9 * 16)","21/9":"calc(100% / 21 * 9)","9/21":"calc(100% / 9 * 21)","1/1":"100%"}[e]}const sr=u.LazyLoadImage,ar=e.forwardRef(({ratio:e,disabledEffect:t=!1,effect:a="blur",...r},l)=>{const i=s.jsx(sr,{wrapperClassName:"wrapper",effect:t?"opacity":a,placeholderSrc:t?"/assets/transparent.png":"/assets/placeholder-new.png",width:"100%",style:{objectFit:"cover"},...r});return e?s.jsx("span",{ref:l,style:{width:1,lineHeight:1,display:"block",overflow:"hidden",position:"relative",paddingTop:tr(e)},children:i}):s.jsx("span",{ref:l,style:{lineHeight:1,display:"block",overflow:"hidden",position:"relative"},children:i})}),rr=(e,t)=>{const a=e.toLowerCase();return t?s.jsx(ar,{src:t,alt:e,className:"h-5 w-5"}):a.includes("home")?s.jsx(Ss,{size:18}):a.includes("search")||a.includes("view")?s.jsx(ks,{size:18}):a.includes("holding")?s.jsx(As,{size:18}):a.includes("workflow")?s.jsx(Cs,{size:20}):a.includes("saf")?s.jsx(Ls,{size:18}):a.includes("concession")?s.jsx(Ps,{size:18}):a.includes("harvesting")?s.jsx(Is,{size:18}):a.includes("objection")?s.jsx(Rs,{size:18}):a.includes("gbsaf")?s.jsx(Ds,{size:18}):s.jsx(Es,{size:18})},lr=()=>{const{menuItems:e}=er();return t.useMemo(()=>{return e&&e.permission?(t=null==e?void 0:e.permission,[...t].sort((e,t)=>(e.order||999)-(t.order||999)).map(e=>{const t={title:e.name,label:"",href:e.path||"",is_sidebar:e.is_sidebar,icon:rr(e.name,e.icon)};if(e.children&&e.children.length>0){const s=[...e.children].sort((e,t)=>{const s=e.order||999;return(t.order||999)-s});t.sub=s.map(e=>({title:e.name,label:"",is_sidebar:e.is_sidebar,href:e.path||"",icon:rr(e.name,e.icon)}))}return t})):[];var t},[e])};function ir({className:t,isCollapsed:a,setIsCollapsed:r}){const l=lr(),[i,n]=e.useState(!1),[d,o]=e.useState([]),c=m();return e.useEffect(()=>{i?document.body.classList.add("overflow-hidden"):document.body.classList.remove("overflow-hidden"),o(l||[])},[i]),s.jsxs("aside",{className:ma("fixed left-0 right-0 top-0 z-50 w-full border-b border-r-2 border-border bg-background transition-[width] md:bottom-0 md:right-auto md:h-svh "+(a?"md:w-14":"md:w-64"),t),children:[s.jsx("div",{onClick:()=>n(!1),className:`absolute inset-0 transition-[opacity] delay-100 duration-700 ${i?"h-svh opacity-50":"h-0 opacity-0"} w-full bg-black/60 backdrop-blur-sm md:hidden`}),s.jsxs(Na,{fixed:!0,className:i?"h-svh":"",children:[s.jsxs(Na.Header,{sticky:!0,className:"z-50 flex justify-between border-b border-border bg-background px-4 py-3 md:px-4",children:[s.jsxs("div",{className:"flex items-center "+(a?"":"gap-2"),onClick:()=>c("/grievance/main"),children:[s.jsx("div",{children:s.jsx("img",{src:"https://i.ibb.co/vz5hT4c/jharkhand-Logo-uf1gjn.png",alt:"",className:"w-11"})}),s.jsxs("div",{className:"flex flex-col justify-end truncate "+(a?"invisible w-0":"visible w-auto"),children:[s.jsx("span",{className:"cursor-pointer font-medium",children:"UD&HD"}),s.jsx("span",{className:"text-xs",children:"HRMS"})]})]}),s.jsx(Sa,{variant:"ghost",size:"icon",className:"md:hidden","aria-label":"Toggle Navigation","aria-controls":"sidebar-menu","aria-expanded":i,onClick:()=>n(e=>!e),children:i?s.jsx(Ms,{}):s.jsx(Ts,{})})]}),s.jsx(za,{id:"sidebar-menu",className:"thin-scrollbar z-40 h-full flex-1 overflow-auto "+(i?"max-h-screen":"max-h-0 border-b py-0 md:max-h-screen md:py-2"),closeNav:()=>n(!1),isCollapsed:a,links:(null==d?void 0:d.filter(e=>e.is_sidebar))||[]}),s.jsx(Sa,{onClick:()=>r(e=>!e),size:"icon",variant:"outline",className:"absolute -right-5 top-1/2 z-50 hidden rounded-full md:inline-flex",children:s.jsx(Us,{stroke:1.5,className:"h-5 w-5 "+(a?"rotate-180":"")})})]})]})}function nr(){const[t,s]=function({key:t,defaultValue:s}){const[a,r]=e.useState(()=>{const e=localStorage.getItem(t);return null!==e?JSON.parse(e):s});return e.useEffect(()=>{localStorage.setItem(t,JSON.stringify(a))},[a,t]),[a,r]}({key:"collapsed-sidebar",defaultValue:!1});return e.useEffect(()=>{const e=()=>{s(!(window.innerWidth<768)&&t)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[t,s]),[t,s]}function dr(){const[e,t]=nr();return s.jsxs("div",{className:"relative h-full overflow-hidden bg-background",children:[s.jsx(ir,{isCollapsed:e,setIsCollapsed:t}),s.jsx("main",{id:"content",className:`overflow-x-hidden pt-16 transition-[margin] md:overflow-y-scroll md:pt-0 ${e?"md:ml-14":"md:ml-64"} h-full bg-secondary`,children:s.jsx(i,{})})]})}function or(){const e=m();return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"border-b bg-white shadow-sm",children:s.jsxs("div",{className:"mx-auto flex max-w-7xl items-center justify-between px-4 sm:px-6 lg:px-8",children:[s.jsx("div",{children:s.jsx(ar,{src:"/images/jlogo.png",alt:"logo",width:80,height:80})}),s.jsx("div",{className:"container mx-auto max-w-6xl px-4 py-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"mb-2 text-3xl font-bold text-gray-900",children:"URBAN DEVELOPMET & HOUSING DEPARTMENT"}),s.jsx("p",{className:"text-gray-600",children:"Goverment of Jharkhand"})]})})]})}),s.jsx("div",{className:"bg-[#99B37C] py-3 text-white",children:s.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between space-x-3",children:[s.jsx("div",{children:s.jsx("h1",{className:"text-xl font-bold",children:"UD&HD"})}),s.jsx("div",{children:s.jsxs(pa,{variant:"secondary",className:"flex items-center space-x-2",onClick:()=>{e("/legal/auth/login")},children:[s.jsx(zs,{className:"h-4 w-4"})," Admin Login"]})})]})})}),s.jsx(i,{})]})}function cr(){return s.jsx("div",{className:"flex items-center justify-center w-full h-[550px]",children:s.jsxs("div",{className:"flex justify-center items-center space-x-1 text-sm text-gray-700",children:[s.jsx("svg",{fill:"none",className:"w-6 h-6 animate-spin",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{clipRule:"evenodd",d:"M15.165 8.53a.5.5 0 01-.404.58A7 7 0 1023 16a.5.5 0 011 0 8 8 0 11-9.416-7.874.5.5 0 01.58.404z",fill:"currentColor",fillRule:"evenodd"})}),s.jsx("div",{children:"Loading ..."})]})})}function ur({children:t}){const{isInitialized:a,isAuthenticated:r,initialize:l,menuItems:i,logout:d}=er(),{pathname:o}=n(),c=x(),[u,m]=e.useState(null),h=e.useRef(!1),g=null==i?void 0:i.permission.flatMap(e=>[{...e,children:e.children.map(e=>e.id)},...e.children]),f=null==g?void 0:g.map(e=>{var t;return(null==(t=null==e?void 0:e.path)?void 0:t.includes(":id"))?null==e?void 0:e.path.replace(":id",c.id):null==e?void 0:e.path}).flat(1);return e.useEffect(()=>{a||l()},[]),e.useEffect(()=>{const e=()=>{document.hidden?h.current=!0:h.current&&(l(),h.current=!1)};return document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}},[l]),a?r?r&&!(null==f?void 0:f.includes(o))?s.jsx("div",{className:"flex h-screen flex-col",children:s.jsx("div",{className:"flex flex-1 flex-col items-center justify-center",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsxs("h1",{className:"text-lg font-bold text-gray-600",children:["403",s.jsx("span",{className:"text-lg font-medium text-gray-400",children:" | "}),"Unauthorized"]}),s.jsx("button",{onClick:()=>d(),className:"mt-4 rounded bg-blue-600 px-4 py-2 text-white transition hover:bg-blue-700",children:"Logout"})]})})}):u&&o!==u?(m(null),s.jsx(p,{to:u})):s.jsx(s.Fragment,{children:t}):(o!==u&&m(o),s.jsx(p,{to:"/project-config/auth/login"})):s.jsx("div",{className:"flex h-screen items-center justify-center",children:s.jsx(cr,{})})}function mr({children:t}){const{isAuthenticated:a,isInitialized:r,initialize:l,user:i}=Ja();return e.useEffect(()=>{r||l()},[]),r?a?"HRMS Employee"==(null==i?void 0:i.roleName)?s.jsx(p,{to:"/project-config/employee/emp-home",replace:!0}):s.jsx(p,{to:"/project-config/dashboard/home",replace:!0}):s.jsx(s.Fragment,{children:t}):s.jsx("div",{className:"flex h-screen items-center justify-center",children:s.jsx(cr,{})})}function xr(){const e=m();return s.jsx("div",{className:"h-svh",children:s.jsxs("div",{className:"m-auto flex h-full w-full flex-col items-center justify-center gap-2",children:[s.jsx("h1",{className:"text-[7rem] font-bold leading-tight",children:"404"}),s.jsx("span",{className:"font-medium",children:"Oops! Page Not Found!"}),s.jsxs("p",{className:"text-center text-muted-foreground",children:["It seems like the page you're looking for ",s.jsx("br",{}),"does not exist or might have been removed."]}),s.jsxs("div",{className:"mt-6 flex gap-4",children:[s.jsx(Sa,{variant:"outline",onClick:()=>e(-1),children:"Go Back"}),s.jsx(Sa,{onClick:()=>e("/"),children:"Back to Home"})]})]})})}const pr={},hr=function(e,t,s){let a=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),s=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));a=Promise.allSettled(t.map(e=>{if((e=function(e){return"/"+e}(e))in pr)return;pr[e]=!0;const t=e.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${a}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":"modulepreload",t||(r.as="script"),r.crossOrigin="",r.href=e,s&&r.setAttribute("nonce",s),document.head.appendChild(r),t?new Promise((t,s)=>{r.addEventListener("load",t),r.addEventListener("error",()=>s(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function r(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return a.then(t=>{for(const e of t||[])"rejected"===e.status&&r(e.reason);return e().catch(r)})};function gr(){const{theme:t,setTheme:a}=(()=>{const t=e.useContext(ca);if(void 0===t)throw new Error("useTheme must be used within a ThemeProvider");return t})();return e.useEffect(()=>{const e="dark"===t?"#020817":"#fff",s=document.querySelector("meta[name='theme-color']");s&&s.setAttribute("content",e)},[t]),s.jsx(Sa,{size:"icon",variant:"ghost",className:"rounded-full",onClick:()=>a("light"===t?"dark":"light"),children:"light"===t?s.jsx(Fs,{size:20}):s.jsx(Bs,{size:20})})}const fr=e.forwardRef(({className:e,...t},a)=>s.jsx(yt,{ref:a,className:ma("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));fr.displayName=yt.displayName;const vr=e.forwardRef(({className:e,...t},a)=>s.jsx(Nt,{ref:a,className:ma("aspect-square h-full w-full",e),...t}));vr.displayName=Nt.displayName;const br=e.forwardRef(({className:e,...t},a)=>s.jsx(wt,{ref:a,className:ma("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));br.displayName=wt.displayName;const jr=(e,t,a)=>{h({customUI:({onClose:r})=>s.jsxs("div",{children:[s.jsx("div",{className:"fixed inset-0 bg-black opacity-50"}),s.jsxs("div",{className:"relative z-10 rounded-md border border-border bg-card px-12 py-4 shadow-lg",children:[s.jsx("h1",{className:"text-lg font-bold",children:e}),s.jsx("p",{className:"text-sm",children:t}),s.jsxs("div",{className:"mt-4 flex justify-end",children:[s.jsx("button",{className:"rounded-md bg-red-500 px-4 py-1 text-white",onClick:()=>{a(),r()},children:"Yes"}),s.jsx("button",{className:"ml-2 rounded-md bg-gray-500 px-4 py-1 text-white",onClick:r,children:"No"})]})]})]})})};function yr(){const{user:e,logout:t}=er();return m(),s.jsxs(Pa,{children:[s.jsx(Ia,{asChild:!0,children:s.jsx(Sa,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:s.jsxs(fr,{className:"h-10 w-10",children:[s.jsx(vr,{src:(null==e?void 0:e.imgFullPath)||"/images/user.png",alt:"profile"}),s.jsx(br,{children:"SN"})]})})}),s.jsxs(Da,{className:"w-56",align:"end",forceMount:!0,children:[s.jsx(Ma,{className:"cursor-pointer font-normal",onClick:()=>{window.location.href="/settings/dashboard/home"},children:s.jsxs("div",{className:"flex flex-col space-y-1",children:[s.jsx("p",{className:"text-sm font-medium leading-none",children:null==e?void 0:e.fullName}),s.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:null==e?void 0:e.email})]})}),s.jsx(Ta,{}),s.jsxs(Ra,{children:[s.jsxs(Ea,{onClick:()=>window.location.replace("/settings/dashboard/home"),className:"flex items-center gap-2",children:[s.jsx(Os,{size:16}),s.jsx("span",{children:"Profile"})]}),s.jsxs(Ea,{onClick:()=>window.location.replace("/settings/dashboard/change-password"),className:"flex items-center gap-2",children:[s.jsx(qs,{size:16}),s.jsx("span",{children:"Change Password"})]}),s.jsxs(Ea,{onClick:()=>window.location.replace("/settings/dashboard/notification"),className:"flex items-center gap-2",children:[s.jsx(Ws,{size:16}),s.jsx("span",{children:"Notifications"})]})]}),s.jsxs(Ea,{onClick:()=>{jr("Are you sure?","Please confirm",async()=>{t()})},className:"flex items-center gap-2 text-red-600 focus:text-red-600",children:[s.jsx($s,{size:16}),s.jsx("span",{children:"Log out"})]})]})]})}const Nr=It,wr=_t,kr=e.forwardRef(({className:e,...t},a)=>s.jsx(kt,{ref:a,className:ma("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));kr.displayName=kt.displayName;const _r=e.forwardRef(({className:e,children:t,...a},r)=>s.jsxs(wr,{children:[s.jsx(kr,{}),s.jsxs(St,{ref:r,className:ma("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a,children:[t,s.jsxs(At,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(Ct,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));_r.displayName=St.displayName;const Sr=({className:e,...t})=>s.jsx("div",{className:ma("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Sr.displayName="DialogHeader";const Ar=e.forwardRef(({className:e,...t},a)=>s.jsx(Lt,{ref:a,className:ma("text-lg font-semibold leading-none tracking-tight",e),...t}));Ar.displayName=Lt.displayName;function Cr({links:t}){const[a,r]=e.useState(""),[l,i]=e.useState([]),[n,d]=e.useState(!1),[o,c]=e.useState(-1),[u,x]=e.useState(!1),p=e.useRef(null),h=e.useRef(null),g=m(),f=(e,t=[])=>{const s=[];return e.forEach(e=>{e.href&&s.push({title:e.title,href:e.href,path:[...t,e.title]}),e.sub&&e.sub.length>0&&s.push(...f(e.sub,[...t,e.title]))}),s};e.useEffect(()=>{if(""===a.trim())return i([]),d(!1),void c(-1);const e=f(t.filter(e=>e.is_sidebar)),s=a.toLowerCase(),r=e.filter(e=>e.title.toLowerCase().includes(s)||e.path.some(e=>e.toLowerCase().includes(s)));i(r.slice(0,10)),d(!0),c(-1)},[a,t]),e.useEffect(()=>{u||(r(""),i([]),d(!1),c(-1))},[u]),e.useEffect(()=>{const e=e=>{(e.ctrlKey||e.metaKey)&&"k"===e.key&&(e.preventDefault(),x(!0),setTimeout(()=>{var e;return null==(e=h.current)?void 0:e.focus()},100))};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[]);const v=e=>{g(e),x(!1)};return s.jsx(s.Fragment,{children:s.jsx(Nr,{open:u,onOpenChange:x,children:s.jsxs(_r,{className:"sm:max-w-[600px]",children:[s.jsx(Sr,{children:s.jsx(Ar,{className:"sr-only",children:"Search Menu"})}),s.jsxs("div",{ref:p,className:"space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Vs,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-muted-foreground"}),s.jsx("input",{ref:h,type:"text",placeholder:"Search menu items...",value:a,onChange:e=>r(e.target.value),onKeyDown:e=>{var t,s;if(n&&0!==l.length)switch(e.key){case"ArrowDown":e.preventDefault(),c(e=>e<l.length-1?e+1:0);break;case"ArrowUp":e.preventDefault(),c(e=>e>0?e-1:l.length-1);break;case"Enter":e.preventDefault(),o>=0&&o<l.length&&v(l[o].href);break;case"Escape":d(!1),x(!1),null==(s=h.current)||s.blur()}else"Escape"===e.key&&(x(!1),d(!1),null==(t=h.current)||t.blur())},className:ma("w-full rounded-lg border border-input bg-background py-3 pl-10 pr-10 text-base outline-none transition-all","placeholder:text-muted-foreground","focus:border-primary focus:ring-2 focus:ring-primary/20"),autoFocus:!0}),a&&s.jsx("button",{onClick:()=>{var e;r(""),d(!1),null==(e=h.current)||e.focus()},className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:s.jsx(Ms,{className:"h-5 w-5"})})]}),a&&s.jsx("div",{className:"max-h-[400px] overflow-y-auto rounded-lg border border-border",children:l.length>0?s.jsx("div",{className:"divide-y divide-border",children:l.map((e,t)=>s.jsx("button",{onClick:()=>v(e.href),className:ma("w-full px-4 py-3 text-left transition-colors",o===t?"bg-accent text-accent-foreground":"text-foreground hover:bg-accent/50"),children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vs,{className:"h-4 w-4 text-slate-400"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm font-medium",children:e.title}),e.path.length>1&&s.jsx("div",{className:"mt-0.5 text-xs text-muted-foreground",children:e.path.slice(0,-1).join("  ")})]})]})},`${e.href}-${t}`))}):s.jsxs("div",{className:"p-8 text-center text-sm text-muted-foreground",children:['No menu items found for "',a,'"']})}),!a&&s.jsxs("div",{className:"rounded-lg border border-border bg-muted/50 p-8 text-center",children:[s.jsx(Vs,{className:"mx-auto h-12 w-12 text-muted-foreground/30"}),s.jsx("p",{className:"mt-3 text-sm text-foreground/80",children:"Type to search menu items"}),s.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:"Use  to navigate, Enter to select, Esc to close"})]})]})]})})})}e.forwardRef(({className:e,...t},a)=>s.jsx(Pt,{ref:a,className:ma("text-sm text-muted-foreground",e),...t})).displayName=Pt.displayName;const Lr=e.forwardRef(({children:t,title:a="",subTitle:r="",searchLink:l="",meta:i,name:n,code:o,description:c,...u},m)=>{!function(t=""){const{setTitle:s}=er();e.useEffect(()=>{s(t)},[t])}(a);const{user:x}=er(),p=lr();return e.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},[a]),s.jsxs(s.Fragment,{children:[s.jsxs(oa,{children:[s.jsx("title",{children:`${a} | HRMS`}),i]}),s.jsx("div",{ref:m,...u,children:s.jsxs(Na,{fixed:!0,children:[s.jsxs(Na.Header,{sticky:!0,className:"border-b bg-background/80 shadow-sm backdrop-blur-md",children:[s.jsxs("div",{className:"flex w-full items-center justify-between gap-3 px-2 sm:px-4",children:[s.jsx("div",{className:"hidden lg:block lg:w-8"}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 md:gap-4",children:[s.jsx("div",{className:"hidden sm:block",children:s.jsx(Cr,{links:p})}),s.jsx("div",{className:"hidden min-w-0 flex-col items-end md:flex",children:s.jsx("span",{className:"truncate rounded-full border border-blue-200 bg-gradient-to-r from-blue-50 to-indigo-50 px-3 py-1.5 text-xs font-semibold text-blue-700 shadow-sm",children:(null==x?void 0:x.roleName)||""})}),s.jsx(gr,{}),s.jsx("div",{className:"flex-shrink-0",children:s.jsx(yr,{})})]})]}),s.jsxs("div",{className:"flex items-center justify-between gap-2 border-t border-border px-2 py-2 sm:hidden",children:[s.jsx(Cr,{links:p}),s.jsx("span",{className:"truncate rounded-full border border-blue-200 bg-gradient-to-r from-blue-50 to-indigo-50 px-2.5 py-1 text-xs font-semibold text-blue-700",children:(null==x?void 0:x.roleName)||""})]})]}),s.jsxs(Na.Body,{children:[s.jsxs("div",{className:"mb-2 sm:mb-4",children:[s.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between",children:[s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h2",{className:"mb-1 bg-gradient-to-r from-foreground to-foreground/70 bg-clip-text text-xl font-bold tracking-tight text-transparent sm:text-2xl",children:a}),r&&s.jsx("p",{className:"text-sm leading-relaxed text-muted-foreground sm:text-base",children:r})]}),(n||o)&&s.jsx("div",{className:"flex-shrink-0",children:s.jsxs("div",{className:"rounded-lg border bg-card p-2 shadow-sm",children:[n&&s.jsxs("div",{className:"mb-1 text-sm font-bold text-foreground",children:["Name-: ",n]}),o&&s.jsxs("div",{className:"rounded bg-muted px-2 py-0.5 font-mono text-xs font-bold text-muted-foreground",children:["Employee Code-: ",o]})]})})]}),l&&s.jsx("div",{className:"mt-4",children:s.jsxs(d,{className:"inline-flex items-center gap-2 rounded-lg bg-gradient-to-r from-blue-600 to-indigo-600 px-4 py-2.5 text-sm font-semibold text-white shadow-md transition-all hover:from-blue-700 hover:to-indigo-700 hover:shadow-lg active:scale-95",to:l,target:"_blank",children:[s.jsx(Hs,{className:"h-4 w-4"}),"Search Details"]})})]}),s.jsx("div",{className:"flex-1 overflow-auto",children:t})]})]})})]})});function Pr({key:e,api:t,options:s,value:a,config:r}){return Ge({queryKey:[e??t,...a??[]],queryFn:async()=>(await Wa.post(t,{...r})).data,refetchOnReconnect:"always",refetchOnWindowFocus:!1,...s})}const Ir=({options:e})=>Ze({mutationFn:({api:e,data:t})=>((e,t)=>Wa.post(e,t))(e,t),...e}),Rr=e.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:ma("rounded-xl border bg-card text-card-foreground shadow",e),...t}));Rr.displayName="Card";const Dr=e.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:ma("flex flex-col space-y-1.5 p-6",e),...t}));Dr.displayName="CardHeader";const Er=e.forwardRef(({className:e,...t},a)=>s.jsx("h3",{ref:a,className:ma("font-semibold leading-none tracking-tight",e),...t}));Er.displayName="CardTitle";e.forwardRef(({className:e,...t},a)=>s.jsx("p",{ref:a,className:ma("text-sm text-muted-foreground",e),...t})).displayName="CardDescription";const Mr=e.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:ma("p-6 pt-0",e),...t}));Mr.displayName="CardContent";e.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:ma("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter";const Tr=e.forwardRef(({className:e,...t},a)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:a,className:ma("w-full caption-bottom text-sm",e),...t})}));Tr.displayName="Table";const Ur=e.forwardRef(({className:e,...t},a)=>s.jsx("thead",{ref:a,className:ma("[&_tr]:border-b",e),...t}));Ur.displayName="TableHeader";const zr=e.forwardRef(({className:e,...t},a)=>s.jsx("tbody",{ref:a,className:ma("[&_tr:last-child]:border-0",e),...t}));zr.displayName="TableBody";e.forwardRef(({className:e,...t},a)=>s.jsx("tfoot",{ref:a,className:ma("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t})).displayName="TableFooter";const Fr=e.forwardRef(({className:e,...t},a)=>s.jsx("tr",{ref:a,className:ma("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Fr.displayName="TableRow";const Br=e.forwardRef(({className:e,...t},a)=>s.jsx("th",{ref:a,className:ma("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));Br.displayName="TableHead";const Or=e.forwardRef(({className:e,...t},a)=>s.jsx("td",{ref:a,className:ma("px-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));Or.displayName="TableCell";function qr({className:e}){return s.jsxs("div",{"aria-label":"Loading...",role:"status",className:ma("loader",e),children:[s.jsxs("svg",{className:"icon",viewBox:"0 0 256 256",children:[s.jsx("line",{x1:128,y1:32,x2:128,y2:64,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:24}),s.jsx("line",{x1:"195.9",y1:"60.1",x2:"173.3",y2:"82.7",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:24}),s.jsx("line",{x1:224,y1:128,x2:192,y2:128,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:24}),s.jsx("line",{x1:"195.9",y1:"195.9",x2:"173.3",y2:"173.3",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:24}),s.jsx("line",{x1:128,y1:224,x2:128,y2:192,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:24}),s.jsx("line",{x1:"60.1",y1:"195.9",x2:"82.7",y2:"173.3",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:24}),s.jsx("line",{x1:32,y1:128,x2:64,y2:128,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:24}),s.jsx("line",{x1:"60.1",y1:"60.1",x2:"82.7",y2:"82.7",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:24})]}),s.jsx("span",{className:"loading-text",children:"Loading..."})]})}e.forwardRef(({className:e,...t},a)=>s.jsx("caption",{ref:a,className:ma("mt-4 text-sm text-muted-foreground",e),...t})).displayName="TableCaption";const Wr=({currentPage:e,totalItems:t,itemsPerPage:a,onPageChange:r,onItemsPerPageChange:l})=>{const i=Math.ceil(t/a);return i<=0?null:s.jsxs("div",{className:"flex flex-col items-center justify-between gap-4 rounded-xl border border-border bg-card/50 p-4 shadow-sm backdrop-blur-sm md:flex-row",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing"," ",s.jsxs("span",{className:"font-bold text-foreground",children:[Math.min(t,(e-1)*a+1),"-",Math.min(t,e*a)]})," ","of ",s.jsx("span",{className:"font-bold text-foreground",children:t})," ","results"]}),s.jsx("div",{className:"h-4 w-[1px] bg-border"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{htmlFor:"items-per-page",className:"text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:"Rows"}),s.jsx("select",{id:"items-per-page",className:"rounded-lg border border-input bg-background px-2 py-1.5 text-xs font-bold transition-all hover:bg-accent focus:ring-2 focus:ring-primary/20",value:a,onChange:e=>l(Number(e.target.value)),children:[5,10,15,20,50].map(e=>s.jsx("option",{value:e,children:e},e))})]})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(pa,{onClick:()=>r(e-1),disabled:e<=1,variant:"ghost",size:"sm",className:"h-9 px-3 text-xs font-bold transition-all hover:bg-primary/10 hover:text-primary disabled:opacity-50",children:"Prev"}),s.jsx("div",{className:"flex items-center gap-1",children:(()=>{const t=[];if(i<=7)for(let e=1;e<=i;e++)t.push(e);else{t.push(1),e>3&&t.push("...");const s=Math.max(2,e-1),a=Math.min(i-1,e+1);for(let e=s;e<=a;e++)t.push(e);e<i-1-1&&t.push("..."),t.push(i)}return t})().map((t,a)=>{if("..."===t)return s.jsx("div",{className:"flex h-9 w-9 items-center justify-center text-xs text-muted-foreground",children:"..."},`ellipsis-${a}`);const l=t===e;return s.jsx(pa,{onClick:()=>r(Number(t)),variant:l?"default":"ghost",size:"icon",className:ma("h-9 w-9 text-xs font-bold transition-all",l?"bg-primary shadow-md hover:bg-primary/90":"hover:bg-primary/10 hover:text-primary"),children:t},`page-${t}`)})}),s.jsx(pa,{onClick:()=>r(e+1),disabled:e>=i,variant:"ghost",size:"sm",className:"h-9 px-3 text-xs font-bold transition-all hover:bg-primary/10 hover:text-primary disabled:opacity-50",children:"Next"})]})]})};function $r({children:e,onSubmit:t,className:a,methods:r}){return s.jsx(g,{...r,children:s.jsx("form",{onSubmit:t,className:a,children:e})})}const Vr=e.forwardRef(({className:t,type:a,onWheel:r,...l},i)=>{const n=e.useCallback(e=>{"number"===a&&(e.currentTarget.blur(),e.preventDefault(),setTimeout(()=>{var t;null==(t=e.currentTarget)||t.focus()},0)),null==r||r(e)},[a,r]);return s.jsx("input",{type:a,className:ma("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:i,onWheel:n,...l})});function Hr({name:e,label:t,isDynamic:a,inputValidation:r,inputSize:l,isRequired:i,...n}){const{control:d}=f();return s.jsx(s.Fragment,{children:e?s.jsx(v,{name:e,control:d,render:({field:{ref:e,...a},fieldState:{error:d}})=>s.jsxs("div",{children:[s.jsxs("h1",{className:"mb-1 text-sm text-gray-700 dark:text-gray-200",children:[t," ",i&&t&&s.jsx("span",{className:"text-red-400",children:"*"})]}),s.jsx(Vr,{...a,value:"number"==typeof a.value&&0===a.value?"":a.value??"",ref:e,className:`${d?"border-red-400":null}\n            ${("small"===l?"h-8":"medium"===l&&"h-10")||"large"===l&&"h-12"||"h-9"}`,onInput:e=>{r&&$a(e,r)},...n}),d&&s.jsx("span",{className:"text-xs text-red-400",children:d.message})]})}):s.jsxs("div",{children:[s.jsx("h1",{className:"mb-1 text-gray-700 dark:text-gray-200",children:t}),s.jsx(Vr,{...n,className:`\n        ${("small"===l?"h-8":"medium"===l&&"h-10")||"large"===l&&"h-12"||"h-9"}`,onInput:e=>{r&&$a(e,r)}})]})})}function Zr({isLoading:e,children:t,...a}){return s.jsxs(pa,{...a,disabled:e,children:[e&&s.jsx(Rt,{className:"mr-2 h-4 w-4 animate-spin"}),e?"Please wait...":t]})}Vr.displayName="Input";const Gr=Vt,Kr=Zt,Yr=Ht,Qr=e.forwardRef(({className:e,children:t,...a},r)=>s.jsxs(Dt,{ref:r,className:ma("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...a,children:[t,s.jsx(Et,{asChild:!0,children:s.jsx(Zs,{className:"h-4 w-4 opacity-50"})})]}));Qr.displayName=Dt.displayName;const Jr=e.forwardRef(({className:e,...t},a)=>s.jsx(Mt,{ref:a,className:ma("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Gs,{className:"h-4 w-4"})}));Jr.displayName=Mt.displayName;const Xr=e.forwardRef(({className:e,...t},a)=>s.jsx(Tt,{ref:a,className:ma("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Zs,{className:"h-4 w-4"})}));Xr.displayName=Tt.displayName;const el=e.forwardRef(({className:e,children:t,position:a="popper",...r},l)=>s.jsx(Ut,{children:s.jsxs(zt,{ref:l,className:ma("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:a,...r,children:[s.jsx(Jr,{}),s.jsx(Ft,{className:ma("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(Xr,{})]})}));el.displayName=zt.displayName;e.forwardRef(({className:e,...t},a)=>s.jsx(Bt,{ref:a,className:ma("px-2 py-1.5 text-sm font-semibold",e),...t})).displayName=Bt.displayName;const tl=e.forwardRef(({className:e,children:t,...a},r)=>s.jsxs(Ot,{ref:r,className:ma("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[s.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(qt,{children:s.jsx(Ks,{className:"h-4 w-4"})})}),s.jsx(Wt,{children:t})]}));tl.displayName=Ot.displayName;e.forwardRef(({className:e,...t},a)=>s.jsx($t,{ref:a,className:ma("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=$t.displayName;const sl=({children:t,name:a,label:r,selectedText:l,className:i,data:n,initialValue:d,initialValueText:o,isSearch:c=!1,...u})=>{const{control:m,setValue:x}=f(),[p,h]=e.useState(""),g=c?null==n?void 0:n.filter(e=>e.label.toLowerCase().includes(p.toLowerCase())):n;return s.jsx(v,{name:a,control:m,render:({field:{ref:e,...t},fieldState:{error:a}})=>s.jsxs(s.Fragment,{children:[s.jsx("h1",{className:"mb-1 text-sm text-gray-700 dark:text-gray-200",children:r}),s.jsxs(Gr,{onValueChange:e=>{var s;t.onChange(e),l&&x(l,null==(s=null==n?void 0:n.find(t=>t.value==e))?void 0:s.label)},value:void 0!==t.value&&null!==t.value?String(t.value):"",...u,children:[s.jsx(Qr,{ref:e,className:ma("h-9",a?"border-red-400":null,i),children:s.jsx(Yr,{placeholder:"Select"})}),s.jsxs(el,{children:[c&&s.jsx("div",{className:"sticky top-0 z-10 border-b bg-white px-2 pb-2 pt-2 dark:bg-gray-950",children:s.jsx(Vr,{placeholder:"Search...",value:p,onChange:e=>h(e.target.value),className:"h-8",onKeyDown:e=>{e.stopPropagation()}})}),s.jsxs("div",{className:c?"max-h-[300px] overflow-y-auto":"",children:[d&&s.jsx(tl,{value:d??"0",children:o??"Select"}),s.jsx(Kr,{children:(null==g?void 0:g.length)>0?g.map((e,t)=>s.jsx(tl,{value:e.value,children:e.label},t+1)):c&&s.jsx("div",{className:"py-6 text-center text-sm text-gray-500",children:"No results found"})})]})]})]}),a&&s.jsx("span",{className:"text-xs text-red-400",children:null==a?void 0:a.message})]})})};function al({name:e,label:t,isDynamic:a,isRequired:r,...l}){const{control:i,setValue:n}=f();return s.jsx(v,{name:e,control:i,render:({field:{ref:a},fieldState:{error:i}})=>s.jsxs(s.Fragment,{children:[s.jsxs("label",{className:"text-gray-700 dark:text-gray-200",htmlFor:t,children:[t," ",r&&s.jsx("span",{className:"text-red-400",children:"*"})]}),s.jsx(Vr,{type:"file",onChange:t=>{n(e,t.target.files?t.target.files[0]:null)},ref:a,className:`mt-1 ${i?"border-red-400":null}`,...l}),i&&s.jsx("span",{className:"text-red-400 text-xs",children:i.message})]})})}const rl=e.forwardRef(({className:e,...t},a)=>s.jsx(Gt,{className:ma("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:a,children:s.jsx(Kt,{className:ma("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));function ll({name:e,label:t,...a}){const{control:r}=f();return s.jsx(v,{name:e,control:r,render:({field:{ref:e,...r},fieldState:{error:l}})=>s.jsxs(s.Fragment,{children:[s.jsxs("label",{className:"text-gray-700 dark:text-gray-200",htmlFor:t,children:[t," ",l&&s.jsx("span",{className:"text-red-400",children:"*"})]}),s.jsx("div",{className:"relative mt-1",children:s.jsx(rl,{onCheckedChange:r.onChange,checked:r.value,ref:e,className:`mt-1 ${l?"border-red-400":null}`,...a})}),l&&s.jsx("span",{className:"text-red-400 text-xs",children:null==l?void 0:l.message})]})})}rl.displayName=Gt.displayName;const il=({children:e,name:t,label:a,selectedText:r,className:l,data:i,initialValue:n,initialValueText:d,isRequired:o,isHookForm:c=!0,...u})=>{const{control:m,setValue:x}=f();return s.jsx(s.Fragment,{children:c?s.jsx(v,{name:t??"",control:m,render:({field:{ref:e,...t},fieldState:{error:n}})=>s.jsxs(s.Fragment,{children:[s.jsxs("h1",{className:"text-gray-700 dark:text-gray-200 ",children:[a," ",o&&s.jsx("span",{className:"text-red-400",children:"*"})]}),s.jsxs("select",{...t,onChange:e=>{var s;t.onChange(e),r&&x(r,null==(s=null==i?void 0:i.find(t=>t.value==e.target.value))?void 0:s.label)},ref:e,className:ma("flex h-10 w-full rounded-md border border-input bg-background px-3 py-1 text-sm text-foreground shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",n?"border-red-400":null,l),...u,children:[s.jsx("option",{value:"",className:"bg-background text-foreground",children:d||"Select"}),null==i?void 0:i.map((e,t)=>s.jsx("option",{value:e.value,className:"bg-background text-foreground",children:e.label},t+1))]}),n&&s.jsx("span",{className:"text-xs text-red-400",children:null==n?void 0:n.message})]})}):s.jsxs(s.Fragment,{children:[s.jsxs("h1",{className:"text-gray-700 dark:text-gray-200 ",children:[a," ",o&&s.jsx("span",{className:"text-red-400",children:"*"})]}),s.jsxs("select",{className:ma("flex h-10 w-full rounded-md border border-input bg-background px-3 py-1 text-sm text-foreground shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",l),...u,children:[s.jsx("option",{value:"",className:"bg-background text-foreground",children:d||"Select"}),null==i?void 0:i.map((e,t)=>s.jsx("option",{value:e.value,className:"bg-background text-foreground",children:e.label},t+1))]})]})})};e.forwardRef(({className:e,...t},a)=>s.jsx(Yt,{ref:a,className:ma("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(Qt,{className:ma("flex items-center justify-center text-current"),children:s.jsx(xt,{className:"h-4 w-4"})})})).displayName=Yt.displayName;const nl=l("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70");e.forwardRef(({className:e,...t},a)=>s.jsx(Jt,{ref:a,className:ma(nl(),e),...t})).displayName=Jt.displayName;const dl=ts,ol=ss,cl=e.forwardRef(({className:e,align:t="center",sideOffset:a=4,...r},l)=>s.jsx(Xt,{children:s.jsx(es,{ref:l,align:t,sideOffset:a,className:ma("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...r})}));function ul(e,{max:t,min:s=0,loop:a=!1}){let r=parseInt(e,10);return Number.isNaN(r)?"00":(a?(r>t&&(r=s),r<s&&(r=t)):(r>t&&(r=t),r<s&&(r=s)),r.toString().padStart(2,"0"))}function ml(e){return function(e){return/^(0[0-9]|1[0-9]|2[0-3])$/.test(e)}(e)?e:ul(e,{max:23})}function xl(e){return function(e){return/^(0[1-9]|1[0-2])$/.test(e)}(e)?e:ul(e,{min:1,max:12})}function pl(e){return function(e){return/^[0-5][0-9]$/.test(e)}(e)?e:ul(e,{max:59})}function hl(e,{min:t,max:s,step:a}){let r=parseInt(e,10);return Number.isNaN(r)?"00":(r+=a,ul(String(r),{min:t,max:s,loop:!0}))}function gl(e,t){return hl(e,{min:0,max:59,step:t})}function fl(e,t,s,a){switch(s){case"minutes":return function(e,t){const s=pl(t);return e.setMinutes(parseInt(s,10)),e}(e,t);case"seconds":return function(e,t){const s=pl(t);return e.setSeconds(parseInt(s,10)),e}(e,t);case"hours":return function(e,t){const s=ml(t);return e.setHours(parseInt(s,10)),e}(e,t);case"12hours":return a?function(e,t,s){const a=function(e,t){return"PM"===t?e<=11?e+12:e:"AM"===t&&12===e?0:e}(parseInt(xl(t),10),s);return e.setHours(a),e}(e,t,a):e;default:return e}}function vl(e,t,s){switch(s){case"minutes":case"seconds":return gl(e,t);case"hours":return function(e,t){return hl(e,{min:0,max:23,step:t})}(e,t);case"12hours":return function(e,t){return hl(e,{min:1,max:12,step:t})}(e,t);default:return"00"}}function bl(e){return 0===e||12===e?"12":e>=22?""+(e-12):e%12>9?`${e}`:"0"+e%12}function jl({className:t,classNames:a,showOutsideDays:r=!0,yearRange:l=50,...i}){const n=e.useMemo(()=>{let e=b;const{options:t,localize:s,formatLong:a}=i.locale||{};return t&&s&&a&&(e={options:t,localize:s,formatLong:a}),function(e){return Array.from({length:12},(t,s)=>({value:s,label:j(new Date(2021,s),"MMMM",{locale:e})}))}(e)},[]),d=e.useMemo(()=>function(e=50){const t=new Date;return Array.from({length:2*e+1},(s,a)=>({value:t.getFullYear()-e+a,label:(t.getFullYear()-e+a).toString()}))}(l),[]);return s.jsx(y,{showOutsideDays:r,className:ma("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4  sm:space-y-0 justify-center",month:"flex flex-col items-center space-y-4",month_caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center ",button_previous:ma(xa({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100 absolute left-5 top-5",(()=>{const e=new Date((new Date).getFullYear()-l,0,1);return!!i.month&&(i.month.getMonth()===e.getMonth()&&i.month.getFullYear()===e.getFullYear())})()&&"pointer-events-none"),button_next:ma(xa({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100 absolute right-5 top-5",(()=>{const e=new Date((new Date).getFullYear()+l,11,31);return!!i.month&&(i.month.getMonth()===e.getMonth()&&i.month.getFullYear()===e.getFullYear())})()&&"pointer-events-none"),month_grid:"w-full border-collapse space-y-1",weekdays:ma("flex",i.showWeekNumber&&"justify-end"),weekday:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",week:"flex w-full mt-2",day:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20 rounded-1",day_button:ma(xa({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100 rounded-l-md rounded-r-md"),range_end:"day-range-end",selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground rounded-l-md rounded-r-md",today:"bg-accent text-accent-foreground",outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",disabled:"text-muted-foreground opacity-50",range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",hidden:"invisible",...a},components:{Chevron:({...e})=>"left"===e.orientation?s.jsx(Js,{className:"h-4 w-4"}):s.jsx(Xs,{className:"h-4 w-4"}),MonthCaption:({calendarMonth:e})=>s.jsxs("div",{className:"inline-flex gap-2",children:[s.jsxs(Gr,{defaultValue:e.date.getMonth().toString(),onValueChange:t=>{var s;const a=new Date(e.date);a.setMonth(Number.parseInt(t,10)),null==(s=i.onMonthChange)||s.call(i,a)},children:[s.jsx(Qr,{className:"w-fit gap-1 border-none p-0 focus:bg-accent focus:text-accent-foreground",children:s.jsx(Yr,{})}),s.jsx(el,{children:n.map(e=>s.jsx(tl,{value:e.value.toString(),children:e.label},e.value))})]}),s.jsxs(Gr,{defaultValue:e.date.getFullYear().toString(),onValueChange:t=>{var s;const a=new Date(e.date);a.setFullYear(Number.parseInt(t,10)),null==(s=i.onMonthChange)||s.call(i,a)},children:[s.jsx(Qr,{className:"w-fit gap-1 border-none p-0 focus:bg-accent focus:text-accent-foreground",children:s.jsx(Yr,{})}),s.jsx(el,{children:d.map(e=>s.jsx(tl,{value:e.value.toString(),children:e.label},e.value))})]})]})},...i})}cl.displayName=es.displayName,jl.displayName="Calendar";const yl=e.forwardRef(({period:e,setPeriod:t,date:a,onDateChange:r,onLeftFocus:l,onRightFocus:i},n)=>s.jsx("div",{className:"flex h-10 items-center",children:s.jsxs(Gr,{defaultValue:e,onValueChange:s=>(s=>{if(null==t||t(s),a){const t=new Date(a),s=bl(a.getHours());null==r||r(fl(t,s.toString(),"12hours","AM"===e?"PM":"AM"))}})(s),children:[s.jsx(Qr,{ref:n,className:"w-[65px] focus:bg-accent focus:text-accent-foreground",onKeyDown:e=>{"ArrowRight"===e.key&&(null==i||i()),"ArrowLeft"===e.key&&(null==l||l())},children:s.jsx(Yr,{})}),s.jsxs(el,{children:[s.jsx(tl,{value:"AM",children:"AM"}),s.jsx(tl,{value:"PM",children:"PM"})]})]})}));yl.displayName="TimePeriodSelect";const Nl=e.forwardRef(({className:t,type:a="tel",value:r,id:l,name:i,date:n=new Date((new Date).setHours(0,0,0,0)),onDateChange:d,onChange:o,onKeyDown:c,picker:u,period:m,onLeftFocus:x,onRightFocus:p,...h},g)=>{const[f,v]=e.useState(!1),[b,j]=e.useState("0");e.useEffect(()=>{if(f){const e=setTimeout(()=>{v(!1)},2e3);return()=>clearTimeout(e)}},[f]);const y=e.useMemo(()=>function(e,t){if(!e)return"00";switch(t){case"minutes":return pl(String(e.getMinutes()));case"seconds":return pl(String(e.getSeconds()));case"hours":return ml(String(e.getHours()));case"12hours":return xl(String(bl(e.getHours())));default:return"00"}}(n,u),[n,u]),N=e=>{if("Tab"!==e.key){if(e.preventDefault(),"ArrowRight"===e.key&&(null==p||p()),"ArrowLeft"===e.key&&(null==x||x()),["ArrowUp","ArrowDown"].includes(e.key)){const t="ArrowUp"===e.key?1:-1,s=vl(y,t,u);f&&v(!1);const a=n?new Date(n):new Date;null==d||d(fl(a,s,u,m))}if(e.key>="0"&&e.key<="9"){"12hours"===u&&j(e.key);const s=(t=e.key,"12hours"===u&&f&&"1"===y.slice(1,2)&&"0"===b?`0${t}`:f?y.slice(1,2)+t:`0${t}`);f&&(null==p||p()),v(e=>!e);const a=n?new Date(n):new Date;null==d||d(fl(a,s,u,m))}var t}};return s.jsx(Vr,{ref:g,id:l||u,name:i||u,className:ma("w-[48px] text-center font-mono text-base tabular-nums caret-transparent focus:bg-accent focus:text-accent-foreground [&::-webkit-inner-spin-button]:appearance-none",t),value:r||y,onChange:e=>{e.preventDefault(),null==o||o(e)},type:a,inputMode:"decimal",onKeyDown:e=>{null==c||c(e),N(e)},...h})});Nl.displayName="TimePickerInput";const wl=e.forwardRef(({date:t,onChange:a,hourCycle:r=24,granularity:l="second"},i)=>{const n=e.useRef(null),d=e.useRef(null),o=e.useRef(null),c=e.useRef(null),[u,m]=e.useState(t&&t.getHours()>=12?"PM":"AM");return e.useImperativeHandle(i,()=>({minuteRef:n.current,hourRef:d.current,secondRef:o.current,periodRef:c.current}),[n,d,o]),s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("label",{htmlFor:"datetime-picker-hour-input",className:"cursor-pointer",children:s.jsx(Ys,{className:"mr-2 h-4 w-4"})}),s.jsx(Nl,{picker:24===r?"hours":"12hours",date:t,id:"datetime-picker-hour-input",onDateChange:a,ref:d,period:u,onRightFocus:()=>{var e;return null==(e=null==n?void 0:n.current)?void 0:e.focus()}}),("minute"===l||"second"===l)&&s.jsxs(s.Fragment,{children:[":",s.jsx(Nl,{picker:"minutes",date:t,onDateChange:a,ref:n,onLeftFocus:()=>{var e;return null==(e=null==d?void 0:d.current)?void 0:e.focus()},onRightFocus:()=>{var e;return null==(e=null==o?void 0:o.current)?void 0:e.focus()}})]}),"second"===l&&s.jsxs(s.Fragment,{children:[":",s.jsx(Nl,{picker:"seconds",date:t,onDateChange:a,ref:o,onLeftFocus:()=>{var e;return null==(e=null==n?void 0:n.current)?void 0:e.focus()},onRightFocus:()=>{var e;return null==(e=null==c?void 0:c.current)?void 0:e.focus()}})]}),12===r&&s.jsx("div",{className:"grid gap-1 text-center",children:s.jsx(yl,{period:u,setPeriod:m,date:t,onDateChange:e=>{null==a||a(e),e&&(null==e?void 0:e.getHours())>=12?m("PM"):m("AM")},ref:c,onLeftFocus:()=>{var e;return null==(e=null==o?void 0:o.current)?void 0:e.focus()}})})]})});wl.displayName="TimePicker";e.forwardRef(({locale:t=b,defaultPopupValue:a=new Date((new Date).setHours(0,0,0,0)),value:r,onChange:l,onMonthChange:i,hourCycle:n=24,yearRange:d=50,disabled:o=!1,displayFormat:c,granularity:u="second",placeholder:m="Pick a date",className:x,...p},h)=>{const[g,f]=e.useState(r??a),v=e.useRef(null),[y,w]=e.useState(r??void 0);i||(i=l),e.useEffect(()=>{w(r)},[r]);e.useImperativeHandle(h,()=>({...v.current,value:y}),[y]);const k={hour24:(null==c?void 0:c.hour24)??"PPP HH:mm"+(u&&"second"!==u?"":":ss"),hour12:(null==c?void 0:c.hour12)??`PP hh:mm${u&&"second"!==u?"":":ss"} b`};let _=b;const{options:S,localize:A,formatLong:C}=t;return S&&A&&C&&(_={...b,options:S,localize:A,formatLong:C}),s.jsxs(dl,{children:[s.jsx(ol,{asChild:!0,disabled:o,children:s.jsxs(pa,{variant:"outline",className:ma("w-full justify-start text-left font-normal",!y&&"text-muted-foreground",x),ref:v,children:[s.jsx(Qs,{className:"mr-2 h-4 w-4"}),y?j(y,24===n?k.hour24:k.hour12,{locale:_}):s.jsx("span",{children:m})]})}),s.jsxs(cl,{className:"w-auto p-0",children:[s.jsx(jl,{mode:"single",selected:y,month:g,onSelect:e=>{var t;e&&(e.setHours((null==g?void 0:g.getHours())??0,(null==g?void 0:g.getMinutes())??0,(null==g?void 0:g.getSeconds())??0),(t=e)&&(null==l||l(t),f(t),w(t)))},onMonthChange:e=>{if(!e)return;if(!a)return e.setHours((null==g?void 0:g.getHours())??0,(null==g?void 0:g.getMinutes())??0,(null==g?void 0:g.getSeconds())??0),null==i||i(e),void f(e);const t=(e.getTime()-a.getTime())/864e5,s=N(a,{days:Math.ceil(t)});s.setHours((null==g?void 0:g.getHours())??0,(null==g?void 0:g.getMinutes())??0,(null==g?void 0:g.getSeconds())??0),null==i||i(s),f(s)},yearRange:d,locale:t,...p}),"day"!==u&&s.jsx("div",{className:"border-t border-border p-3",children:s.jsx(wl,{onChange:e=>{null==l||l(e),w(e),e&&f(e)},date:g,hourCycle:n,granularity:u})})]})]})}).displayName="DateTimePicker";const kl=e.forwardRef(({className:e,orientation:t="horizontal",decorative:a=!0,...r},l)=>s.jsx(as,{ref:l,decorative:a,orientation:t,className:ma("shrink-0 bg-border","horizontal"===t?"h-[1px] w-full":"h-full w-[1px]",e),...r}));function _l({children:e,open:t,setOpen:a,title:r,setEdit:l,isLoading:i}){return s.jsxs("div",{children:[t&&s.jsx("div",{className:"fixed inset-0 z-50 bg-gray-900/50 dark:bg-gray-900/80"}),s.jsx("div",{id:"authentication-modal",tabIndex:-1,className:(t?"flex":"hidden")+" fixed left-0 right-0 top-0 z-50 h-[calc(100%-1rem)] max-h-full w-full items-center justify-center overflow-y-auto overflow-x-hidden md:inset-0",children:s.jsx("div",{className:"relative max-h-full w-full max-w-2xl p-4",children:s.jsxs("div",{className:"relative rounded-lg bg-white shadow dark:bg-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between rounded-t border-b p-4 dark:border-gray-600 md:p-5",children:[s.jsx("h3",{className:"text-base font-semibold text-gray-900 dark:text-white",children:r??"Add/Edit"}),s.jsxs("button",{onClick:()=>{l(!1),a(e=>!e)},type:"button",className:"end-2.5 ms-auto inline-flex h-8 w-8 items-center justify-center rounded-lg bg-transparent text-sm text-gray-400 hover:bg-gray-200 hover:text-gray-900 dark:hover:bg-gray-600 dark:hover:text-white","data-modal-hide":"authentication-modal",children:[s.jsx("svg",{className:"h-3 w-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14",children:s.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})}),s.jsx("span",{className:"sr-only",children:"Close modal"})]})]}),s.jsx("div",{className:"p-4 md:p-5",children:i?s.jsx("div",{className:"flex h-32 items-center justify-center",children:s.jsx(qr,{})}):e})]})})})]})}kl.displayName=as.displayName;const Sl=aa().shape({menuName:la().required("Menu name is required"),route:la().nullable(),parentId:la().nullable(),workflowId:la().nullable(),isSidebar:ra().default(!1)});function Al({open:t,setOpen:a,title:r,edit:l,setEdit:i,id:n,refetch:d,menuId:o,editData:u}){var m,x,p,h;const g=Ir({}),f=w({resolver:k(Sl),defaultValues:{menuName:"",route:"",parentId:"",workflowId:"",isSidebar:!1}}),{reset:v,handleSubmit:b,formState:{isSubmitting:j}}=f;e.useEffect(()=>{t&&v(l&&u?{menuName:u.menu_string||"",route:u.route||"",parentId:u.parent_id?String(u.parent_id):"",workflowId:u.workflow_id?String(u.workflow_id):"",isSidebar:!!u.is_sidebar}:{menuName:"",route:"",parentId:"",workflowId:"",isSidebar:!1})},[t,l,u,v]);const y=Pr({api:null==Ga?void 0:Ga.parentMenuList,key:`parentMenuList-${n}`,config:{moduleId:String(n)},options:{enabled:!!n&&t}}),N=Pr({api:null==Ga?void 0:Ga.workFlowByModule,key:`workflowList-${n}`,config:{moduleId:String(n)},options:{enabled:!!n&&t}});return s.jsx(_l,{open:t,setOpen:a,title:r||(l?"Edit Menu":"Add Menu"),setEdit:i,edit:l,children:s.jsx("div",{className:"p-1",children:s.jsx($r,{methods:f,onSubmit:b(async e=>{var t,s,r;try{const u={...e,moduleId:Number(n),...l&&{id:Number(o)},parentId:e.parentId?Number(e.parentId):null,workflowId:e.workflowId?Number(e.workflowId):null},m=l?null==Ga?void 0:Ga.editMenuDetailsByModule:null==Ga?void 0:Ga.addMenuByModule,x=await g.mutateAsync({api:m,data:u});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||`Menu ${l?"updated":"added"} successfully`),a(!1),i&&i(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(u){c.error(Ya(u))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(il,{label:"Parent Menu Name",name:"parentId",initialValueText:"Select Parent Menu",data:(null==(x=null==(m=null==y?void 0:y.data)?void 0:m.data)?void 0:x.map(e=>({label:null==e?void 0:e.menu_string,value:String(null==e?void 0:e.id)})))||[]}),s.jsx(Hr,{label:"Menu Name",name:"menuName",placeholder:"Enter menu name"}),s.jsx(Hr,{label:"Menu Route",name:"route",placeholder:"Enter menu url"}),s.jsx(Hr,{label:"Serial No.",name:"serial",type:"number",placeholder:"Enter Serial No."}),s.jsx(il,{label:"Workflow (select module to get workflow list)",name:"workflowId",initialValueText:"Select Workflow",data:(null==(h=null==(p=null==N?void 0:N.data)?void 0:p.data)?void 0:h.map(e=>({label:null==e?void 0:e.workflow_name,value:String(null==e?void 0:e.id)})))||[]}),s.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-border bg-muted/30 p-3 px-4 transition-all hover:bg-muted/50",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("label",{htmlFor:"isSidebar",className:"cursor-pointer text-sm font-bold text-foreground",children:"Is Sidebar Show"}),s.jsx("p",{className:"text-[10px] font-medium uppercase tracking-wider text-muted-foreground",children:"Show this menu in the side navigation"})]}),s.jsx(ll,{name:"isSidebar",id:"isSidebar"})]})]}),s.jsx(kl,{className:"opacity-50"}),s.jsx(Zr,{isLoading:j,type:"submit",className:"h-12 w-full rounded-xl bg-[#7C3AED] text-sm font-bold text-white shadow-lg shadow-purple-500/20 transition-all hover:bg-[#6D28D9] active:scale-[0.98]",children:l?"Update Menu":"Submit"})]})})})})}function Cl(){var t,a,r;const l=n(),[i]=_(),d=m(),o=i.get("module_name"),u=i.get("id"),[x,p]=e.useState(1),[h,g]=e.useState(10),[f,v]=e.useState(!1),[b,j]=e.useState(!1),[y,N]=e.useState(null),[w,k]=e.useState(null),[F,B]=e.useState(""),O=Pr({api:null==Ga?void 0:Ga.getMenuMasterList,key:"menuMasterList",options:{enabled:!0}}),q=Ir({}),W=(null==(r=null==(a=null==(t=null==O?void 0:O.data)?void 0:t.data)?void 0:a.filter(e=>(null==e?void 0:e.module_id)==Number(u)))?void 0:r.filter(e=>{var t,s;return(null==(t=null==e?void 0:e.menu_string)?void 0:t.toLowerCase().includes(F.toLowerCase()))||(null==(s=null==e?void 0:e.route)?void 0:s.toLowerCase().includes(F.toLowerCase()))}))??[],$=x*h,V=$-h,H=W.slice(V,$),Z=[{key:"menu-list",label:"Menu List",icon:s.jsx(I,{className:"h-4 w-4"}),color:"bg-blue-600/10 hover:bg-blue-600/20 text-blue-600 border-blue-600/20"},{key:"service-list",label:"Service List",icon:s.jsx(T,{className:"h-4 w-4"}),color:"bg-emerald-600/10 hover:bg-emerald-600/20 text-emerald-600 border-emerald-600/20"},{key:"role-list",label:"Role List",icon:s.jsx(U,{className:"h-4 w-4"}),color:"bg-violet-600/10 hover:bg-violet-600/20 text-violet-600 border-violet-600/20"},{key:"workflow-list",label:"Workflow Role",icon:s.jsx(z,{className:"h-4 w-4"}),color:"bg-amber-600/10 hover:bg-amber-600/20 text-amber-600 border-amber-600/20"}];return s.jsxs("div",{className:"",children:[s.jsx("div",{className:"mb-6 flex flex-wrap gap-2",children:Z.map(e=>{const t=l.pathname.includes(e.key);return s.jsxs(Sa,{variant:t?"default":"outline",size:"sm",onClick:()=>{d(`/project-config/dashboard/module-list/${e.key}?module_name=${o}&id=${u}`)},className:ma("flex items-center gap-2 transition-all hover:scale-105",t?ma("bg-primary text-primary-foreground shadow-md",e.color&&"bg-opacity-100"):ma("bg-background hover:bg-muted",e.color)),children:[e.icon,s.jsx("span",{className:"hidden sm:inline",children:e.label})]},e.key)})}),s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(Rr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Sa,{variant:"ghost",size:"sm",onClick:()=>d(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:o}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[W.length," Menu Items"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search menu or route...",value:F,onChange:e=>{B(e.target.value),p(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20 md:w-64"})]}),s.jsxs(Sa,{type:"button",onClick:()=>{j(!1),v(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New Menu"]})]})]})}),s.jsxs(Mr,{className:"p-0",children:[O.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(qr,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Fetching menu structure..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(Tr,{children:[s.jsx(Ur,{children:s.jsxs(Fr,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(Br,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(Br,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Parent Menu"}),s.jsx(Br,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Menu Details"}),s.jsx(Br,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Route Path"}),s.jsx(Br,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"SideBar"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Serial"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"})]})}),s.jsx(zr,{children:s.jsx(P,{children:H.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(Or,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:V+t+1})}),s.jsx(Or,{className:"px-2 text-muted-foreground",children:(null==e?void 0:e.parentName)||"-"}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(I,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:e.menu_string}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id," | Parent: ",e.parent_id]})]})]})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-foreground/80",children:[s.jsx(R,{className:"h-3 w-3 text-muted-foreground/60"}),s.jsx("code",{className:"rounded bg-muted px-1.5 py-0.5 text-xs font-semibold text-muted-foreground ring-1 ring-primary/10",children:e.route||"-"})]})}),s.jsx(Or,{className:"py-4",children:s.jsx("div",{className:"flex items-center text-sm font-medium text-foreground/80",children:e.is_sidebar?"Yes":"No"})}),s.jsx(Or,{className:"py-4 text-center",children:s.jsxs("div",{className:"inline-flex items-center gap-1.5 rounded-full border border-border/50 bg-accent/50 px-2.5 py-1 text-xs font-bold text-foreground/70",children:[s.jsx(D,{className:"h-3 w-3 text-muted-foreground"}),e.serial]})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>{N(e.id),k(e),j(!0),v(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>{jr("Delete Menu",`Are you sure you want to delete ${e.menu_string}?`,async()=>{var t,s,a;try{const r=await q.mutateAsync({api:Ga.deleteMenu,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Menu deleted successfully"),O.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete menu")}catch(r){c.error("An error occurred")}})},className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})})]},e.id))})})]}),W.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(Wr,{currentPage:x,totalItems:W.length,itemsPerPage:h,onPageChange:e=>{p(e)},onItemsPerPageChange:e=>{g(e),p(1)}})})]}),!O.isLoading&&0===W.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(I,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No menu items found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:"This module doesn't have any navigation items configured yet."}),s.jsxs(Sa,{className:"mt-6",variant:"outline",children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Create First Menu"]})]})]})]}),s.jsx(Al,{open:f,setOpen:v,id:u,edit:b,setEdit:j,menuId:y,editData:w,refetch:O.refetch})]})]})}function Ll(){return s.jsx(Lr,{title:"Menu List",subTitle:"Control all Menu here",children:s.jsx(Cl,{})})}const Pl=aa().shape({serviceName:la().required("Service name is required"),path:la().required("Path is required")});function Il({open:t,setOpen:a,title:r,edit:l,setEdit:i,serviceList:n,id:d,paginatedMenuList:o,moduleId:u}){const m=Ir({}),x=w({defaultValues:{serviceName:""},resolver:k(Pl)}),{reset:p}=x;e.useEffect(()=>{var e,s;if(t)if(l&&d){const t=null==(s=null==(e=null==n?void 0:n.data)?void 0:e.data)?void 0:s.find(e=>e.id==d);t&&p({serviceName:t.service_name||"",path:t.path||""})}else p({serviceName:"",path:""})},[t,l,d,p]);return s.jsx(_l,{open:t,setOpen:a,title:r,setEdit:i,edit:l,children:s.jsx($r,{methods:x,onSubmit:x.handleSubmit(async e=>{var t,s,r;try{const o=l?null==Ga?void 0:Ga.updateServiceByModule:null==Ga?void 0:Ga.addServiceByModule,x=l?{...e,id:d}:{...e,moduleId:Number(u)},p=await m.mutateAsync({api:o,data:x});(null==(t=null==p?void 0:p.data)?void 0:t.status)?(c.success((null==(s=null==p?void 0:p.data)?void 0:s.message)||`Service ${l?"updated":"added"} successfully`),a(!1),i&&i(!1),n.refetch()):c.error((null==(r=null==p?void 0:p.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(Ya(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-x-2 gap-y-4",children:[s.jsx("div",{children:s.jsx(Hr,{label:"Service Name",name:"serviceName",placeholder:"Enter service name"})}),s.jsx("div",{children:s.jsx(Hr,{label:"Service Path",name:"path",placeholder:"Enter path"})}),s.jsx(kl,{}),s.jsx("div",{children:s.jsx(Zr,{isLoading:x.formState.isSubmitting,type:"submit",className:"h-11 w-full rounded-xl",children:"Submit"})})]})})})}function Rl(){var t,a;const[r]=_(),l=m(),i=r.get("module_name"),n=r.get("id"),[d,o]=e.useState(1),[c,u]=e.useState(10),[x,p]=e.useState(""),[h,g]=e.useState(!1),[f,v]=e.useState(!1),[b,j]=e.useState(void 0),y=()=>{v(!1),j(void 0),g(!0)},N=Pr({api:null==Ga?void 0:Ga.serviceList,key:"serviceMasterList",config:{moduleId:n},options:{enabled:!0}}),w=(null==(a=null==(t=null==N?void 0:N.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=e.service_name)?void 0:t.toLowerCase().includes(x.toLowerCase())}))||[],k=d*c,R=k-c,D=w.slice(R,k),O=[{key:"menu-list",label:"Menu List",icon:s.jsx(I,{className:"h-4 w-4"}),color:"bg-blue-600/10 hover:bg-blue-600/20 text-blue-600 border-blue-600/20"},{key:"service-list",label:"Service List",icon:s.jsx(T,{className:"h-4 w-4"}),color:"bg-emerald-600/10 hover:bg-emerald-600/20 text-emerald-600 border-emerald-600/20"},{key:"role-list",label:"Role List",icon:s.jsx(U,{className:"h-4 w-4"}),color:"bg-violet-600/10 hover:bg-violet-600/20 text-violet-600 border-violet-600/20"},{key:"workflow-list",label:"Workflow Role",icon:s.jsx(z,{className:"h-4 w-4"}),color:"bg-amber-600/10 hover:bg-amber-600/20 text-amber-600 border-amber-600/20"}];return s.jsxs("div",{className:"",children:[s.jsx("div",{className:"mb-6 flex flex-wrap gap-2",children:O.map(e=>{const t=location.pathname.includes(e.key);return s.jsxs(Sa,{variant:t?"default":"outline",size:"sm",onClick:()=>{l(`/project-config/dashboard/module-list/${e.key}?module_name=${i}&id=${n}`)},className:ma("flex items-center gap-2 transition-all hover:scale-105",t?ma("bg-primary text-primary-foreground shadow-md",e.color&&"bg-opacity-100"):ma("bg-background hover:bg-muted",e.color)),children:[e.icon,s.jsx("span",{className:"hidden sm:inline",children:e.label})]},e.key)})}),s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(Rr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Sa,{variant:"ghost",size:"sm",onClick:()=>l(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:i}),s.jsxs("div",{className:"inline-block rounded-full bg-emerald-600/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-emerald-600",children:[w.length," Services"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search service name...",value:x,onChange:e=>{p(e.target.value),o(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20 md:w-64"})]}),s.jsxs(Sa,{type:"button",onClick:y,className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New Service"]})]})]})}),s.jsxs(Mr,{className:"p-0",children:[N.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(qr,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading services..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(Tr,{children:[s.jsx(Ur,{children:s.jsxs(Fr,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(Br,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(Br,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Service Name"}),s.jsx(Br,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Service Path"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"})]})}),s.jsx(zr,{children:s.jsx(P,{children:D.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(Or,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:R+t+1})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-emerald-600/10 transition-colors group-hover/row:bg-emerald-600/20",children:s.jsx(T,{className:"h-5 w-5 text-emerald-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:e.service_name}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-emerald-600/10 transition-colors group-hover/row:bg-emerald-600/20",children:s.jsx(ea,{className:"h-5 w-5 text-emerald-600"})}),s.jsx("div",{children:s.jsx("p",{className:"font-bold leading-tight text-foreground",children:e.path})})]})}),s.jsx(Or,{className:"py-4 text-center",children:s.jsxs("span",{className:ma("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",e.is_suspended?"border-red-500/20 bg-red-500/10 text-red-500":"border-green-500/20 bg-green-500/10 text-green-500"),children:[e.is_suspended?s.jsx(F,{className:"h-3 w-3"}):s.jsx(B,{className:"h-3 w-3"}),e.is_suspended?"Suspended":"Active"]})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>{return t=e.id,v(!0),j(t),void g(!0);var t},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Sa,{variant:"ghost",size:"icon",className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})})]},e.id))})})]}),w.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(Wr,{currentPage:d,totalItems:w.length,itemsPerPage:c,onPageChange:e=>{o(e)},onItemsPerPageChange:e=>{u(e),o(1)}})})]}),!N.isLoading&&0===w.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(T,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No services found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:"Start by adding services to this module to define its capabilities."}),s.jsxs(Sa,{className:"mt-6",variant:"outline",onClick:y,children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Service"]})]})]})]})}),s.jsx(Il,{open:h,setOpen:g,title:f?"Edit Service":"Add New Service",edit:f,setEdit:v,id:b,serviceList:N,moduleId:n})]})}function Dl(){return s.jsx(Lr,{title:"Service List",subTitle:"Control all Service here",children:s.jsx(Rl,{})})}const El=aa().shape({menuRoleName:la().required("Role name is required")});function Ml({open:t,setOpen:a,title:r,edit:l,setEdit:i,id:n,moduleId:d,refetch:o,editData:u}){const m=Ir({}),x=w({defaultValues:{menuRoleName:""},resolver:k(El)}),{reset:p,handleSubmit:h,formState:{isSubmitting:g}}=x;e.useEffect(()=>{t&&p(l&&u?{menuRoleName:u.menu_role_name||""}:{menuRoleName:""})},[t,l,u,p]);return s.jsx(_l,{open:t,setOpen:a,title:r||(l?"Edit Role":"Add Role"),setEdit:i,edit:l,children:s.jsx("div",{className:"p-1",children:s.jsx($r,{methods:x,onSubmit:h(async e=>{var t,s,r;try{const u=l?null==Ga?void 0:Ga.editMenuList:null==Ga?void 0:Ga.addMenuList,x=l?{...e,id:n}:{...e,moduleId:Number(d)},p=await m.mutateAsync({api:u,data:x});(null==(t=null==p?void 0:p.data)?void 0:t.status)?(c.success((null==(s=null==p?void 0:p.data)?void 0:s.message)||`Role ${l?"updated":"added"} successfully`),a(!1),i&&i(!1),o&&o()):c.error((null==(r=null==p?void 0:p.data)?void 0:r.message)||"Something went wrong")}catch(u){c.error(Ya(u))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsx("div",{className:"space-y-4",children:s.jsx(Hr,{label:"Role Name",name:"menuRoleName",placeholder:"Enter role name"})}),s.jsx(kl,{className:"opacity-50"}),s.jsx(Zr,{isLoading:g,type:"submit",className:"h-12 w-full rounded-xl bg-[#7C3AED] text-sm font-bold text-white shadow-lg shadow-purple-500/20 transition-all hover:bg-[#6D28D9] active:scale-[0.98]",children:l?"Update Role":"Submit"})]})})})})}function Tl(){var a,r,l;const[i]=_(),n=m(),d=i.get("module_name"),o=i.get("id"),[u,x]=e.useState(1),[p,h]=e.useState(10),[g,f]=e.useState(""),[v,b]=e.useState(!1),[j,y]=e.useState(!1),[N,w]=e.useState(null),[k,R]=e.useState(null),[D,q]=e.useState({}),[W,$]=e.useState(!1),[V,H]=e.useState(null),Z=Pr({api:null==Ga?void 0:Ga.getMenuRoleList,key:"roleMasterList",options:{enabled:!0}}),G=Ir({}),K=Ir({}),Y=(null==(l=null==(r=null==(a=null==Z?void 0:Z.data)?void 0:a.data)?void 0:r.filter(e=>e.module_id==Number(o)))?void 0:l.filter(e=>{var t;return null==(t=e.menu_role_name)?void 0:t.toLowerCase().includes(g.toLowerCase())}))||[],Q=u*p,J=Q-p,X=Y.slice(J,Q),ee=e=>void 0!==D[e.id]?D[e.id]:!0===e.is_suspended;t.useEffect(()=>{W&&(K.isSuccess&&(c.success("Role status updated successfully"),Z.refetch(),H(null),$(!1),K.reset()),K.isError&&(c.error(Ya(K.error)),q(e=>{const t={...e};return V&&delete t[V.roleId],t}),H(null),$(!1),K.reset()))},[K.isSuccess,K.isError,W,Z,V,K]);const te=[{key:"menu-list",label:"Menu List",icon:s.jsx(I,{className:"h-4 w-4"}),color:"bg-blue-600/10 hover:bg-blue-600/20 text-blue-600 border-blue-600/20"},{key:"service-list",label:"Service List",icon:s.jsx(T,{className:"h-4 w-4"}),color:"bg-emerald-600/10 hover:bg-emerald-600/20 text-emerald-600 border-emerald-600/20"},{key:"role-list",label:"Role List",icon:s.jsx(U,{className:"h-4 w-4"}),color:"bg-violet-600/10 hover:bg-violet-600/20 text-violet-600 border-violet-600/20"},{key:"workflow-list",label:"Workflow Role",icon:s.jsx(z,{className:"h-4 w-4"}),color:"bg-amber-600/10 hover:bg-amber-600/20 text-amber-600 border-amber-600/20"}];return s.jsxs("div",{className:"",children:[s.jsx("div",{className:"mb-6 flex flex-wrap gap-2",children:te.map(e=>{const t=location.pathname.includes(e.key);return s.jsxs(Sa,{variant:t?"default":"outline",size:"sm",onClick:()=>{n(`/project-config/dashboard/module-list/${e.key}?module_name=${d}&id=${o}`)},className:ma("flex items-center gap-2 transition-all hover:scale-105",t?ma("bg-primary text-primary-foreground shadow-md",e.color&&"bg-opacity-100"):ma("bg-background hover:bg-muted",e.color)),children:[e.icon,s.jsx("span",{className:"hidden sm:inline",children:e.label})]},e.key)})}),s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(Rr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Sa,{variant:"ghost",size:"sm",onClick:()=>n(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:d}),s.jsxs("div",{className:"inline-block rounded-full bg-violet-600/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-violet-600",children:[Y.length," Roles"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search role name...",value:g,onChange:e=>{f(e.target.value),x(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20 md:w-64"})]}),s.jsxs(Sa,{type:"button",onClick:()=>{y(!1),b(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New Role"]})]})]})}),s.jsxs(Mr,{className:"p-0",children:[Z.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(qr,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading user roles..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(Tr,{children:[s.jsx(Ur,{children:s.jsxs(Fr,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(Br,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(Br,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Role Name"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Is Suspended"})]})}),s.jsx(zr,{children:s.jsx(P,{children:X.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(Or,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:J+t+1})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-violet-600/10 transition-colors group-hover/row:bg-violet-600/20",children:s.jsx(U,{className:"h-5 w-5 text-violet-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:e.menu_role_name}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(Or,{className:"py-4 text-center",children:s.jsxs("span",{className:ma("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",e.is_suspended?"border-red-500/20 bg-red-500/10 text-red-500":"border-green-500/20 bg-green-500/10 text-green-500"),children:[e.is_suspended?s.jsx(F,{className:"h-3 w-3"}):s.jsx(B,{className:"h-3 w-3"}),e.is_suspended?"Suspended":"Active"]})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>{w(e.id),R(e),y(!0),b(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>{jr("Delete Role",`Are you sure you want to delete ${e.menu_role_name}?`,async()=>{var t,s,a;try{const r=await G.mutateAsync({api:Ga.apiRoleMasterActiveDeactive,data:{role_id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Action performed successfully"),Z.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to perform action")}catch(r){c.error("An error occurred")}})},className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})}),s.jsxs(Sa,{onClick:()=>n(`/project-config/dashboard/module-list/role-list/manage-menu?module_id=${e.module_id}&role_id=${e.id}&module_name=${d}`,{state:{role_name:null==e?void 0:e.menu_role_name}}),className:"flex items-center gap-2",children:[s.jsx(O,{className:"h-4 w-4"}),"View"]})]})}),s.jsx(Or,{className:"mt-6 flex items-center justify-center",children:s.jsx(rl,{checked:ee(e),onCheckedChange:()=>(e=>{const t=!ee(e);q(s=>({...s,[e.id]:t}));const s={roleId:Number(e.id),isSuspended:t?"inactive":"active"};$(!0),H(s),K.mutate({api:null==Ga?void 0:Ga.apiRoleMasterActiveDeactive,data:s})})(e)})})]},e.id))})})]}),Y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(Wr,{currentPage:u,totalItems:Y.length,itemsPerPage:p,onPageChange:e=>{x(e)},onItemsPerPageChange:e=>{h(e),x(1)}})})]}),!Z.isLoading&&0===Y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(U,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No roles found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:"Configure roles for this module to manage user permissions."}),s.jsxs(Sa,{className:"mt-6",variant:"outline",children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Role"]})]})]})]}),s.jsx(Ml,{open:v,setOpen:b,moduleId:o,edit:j,setEdit:y,id:N,editData:k,refetch:Z.refetch})]})]})}function Ul(){return s.jsx(Lr,{title:"Role List",subTitle:"Control all Role here",children:s.jsx(Tl,{})})}function zl(){var t,a;const[r]=_(),l=m(),i=r.get("module_name"),n=r.get("id"),[d,o]=e.useState(1),[c,u]=e.useState(10),[x,p]=e.useState(""),h=Pr({api:null==Ga?void 0:Ga.getWorkFlowList,key:"workflowMasterList",options:{enabled:!0}}),g=(null==(a=null==(t=null==h?void 0:h.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=e.role_name)?void 0:t.toLowerCase().includes(x.toLowerCase())}))||[],f=d*c,v=f-c,b=g.slice(v,f),j=[{key:"menu-list",label:"Menu List",icon:s.jsx(I,{className:"h-4 w-4"}),color:"bg-blue-600/10 hover:bg-blue-600/20 text-blue-600 border-blue-600/20"},{key:"service-list",label:"Service List",icon:s.jsx(T,{className:"h-4 w-4"}),color:"bg-emerald-600/10 hover:bg-emerald-600/20 text-emerald-600 border-emerald-600/20"},{key:"role-list",label:"Role List",icon:s.jsx(U,{className:"h-4 w-4"}),color:"bg-violet-600/10 hover:bg-violet-600/20 text-violet-600 border-violet-600/20"},{key:"workflow-list",label:"Workflow Role",icon:s.jsx(z,{className:"h-4 w-4"}),color:"bg-amber-600/10 hover:bg-amber-600/20 text-amber-600 border-amber-600/20"}];return s.jsxs("div",{className:"",children:[s.jsx("div",{className:"mb-6 flex flex-wrap gap-2",children:j.map(e=>{const t=location.pathname.includes(e.key);return s.jsxs(Sa,{variant:t?"default":"outline",size:"sm",onClick:()=>{l(`/project-config/dashboard/module-list/${e.key}?module_name=${i}&id=${n}`)},className:ma("flex items-center gap-2 transition-all hover:scale-105",t?ma("bg-primary text-primary-foreground shadow-md",e.color&&"bg-opacity-100"):ma("bg-background hover:bg-muted",e.color)),children:[e.icon,s.jsx("span",{className:"hidden sm:inline",children:e.label})]},e.key)})}),s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(Rr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Sa,{variant:"ghost",size:"sm",onClick:()=>l(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:i}),s.jsxs("div",{className:"inline-block rounded-full bg-amber-600/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-amber-600",children:[g.length," Workflows"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search role name...",value:x,onChange:e=>{p(e.target.value),o(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20 md:w-64"})]}),s.jsxs(Sa,{type:"button",className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New Workflow"]})]})]})}),s.jsxs(Mr,{className:"p-0",children:[h.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(qr,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading workflow configurations..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(Tr,{children:[s.jsx(Ur,{children:s.jsxs(Fr,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(Br,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(Br,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Workflow Name"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"})]})}),s.jsx(zr,{children:s.jsx(P,{children:b.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(Or,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:v+t+1})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-amber-600/10 transition-colors group-hover/row:bg-amber-600/20",children:s.jsx(z,{className:"h-5 w-5 text-amber-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:e.role_name}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(Or,{className:"py-4 text-center",children:s.jsxs("span",{className:ma("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",e.is_suspended?"border-red-500/20 bg-red-500/10 text-red-500":"border-green-500/20 bg-green-500/10 text-green-500"),children:[e.is_suspended?s.jsx(F,{className:"h-3 w-3"}):s.jsx(B,{className:"h-3 w-3"}),e.is_suspended?"Suspended":"Active"]})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Sa,{variant:"ghost",size:"icon",className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Sa,{variant:"ghost",size:"icon",className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})})]},e.id))})})]}),g.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(Wr,{currentPage:d,totalItems:g.length,itemsPerPage:c,onPageChange:e=>{o(e)},onItemsPerPageChange:e=>{u(e),o(1)}})})]}),!h.isLoading&&0===g.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(z,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No workflows found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:"Define and manage business logic workflows for this module."}),s.jsxs(Sa,{className:"mt-6",variant:"outline",children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Workflow"]})]})]})]})})]})}function Fl(){return s.jsx(Lr,{title:"Workflow List",subTitle:"Control all Workflow here",children:s.jsx(zl,{})})}function Bl({open:t,setOpen:a,title:r,menuRoleId:l,moduleId:i,moduleName:n,refetch:d}){var o;const[u,m]=e.useState(""),x=Ir({}),p=Pr({api:null==Ga?void 0:Ga.getPermitedMenuList,key:`manage-permissions-${l}-${i}`,config:{menuRoleId:l,moduleId:i},options:{enabled:t&&!!l&&!!i}}),h=e.useMemo(()=>{var e,t;const s=(null==(t=null==(e=null==p?void 0:p.data)?void 0:e.data)?void 0:t[n])||[];return u?s.filter(e=>{var t,s;return(null==(t=e.menu_string)?void 0:t.toLowerCase().includes(u.toLowerCase()))||(null==(s=e.route)?void 0:s.toLowerCase().includes(u.toLowerCase()))}):s},[null==(o=null==p?void 0:p.data)?void 0:o.data,n,u]);return s.jsx(_l,{open:t,setOpen:a,setEdit:()=>{},title:r||"Manage Menu Permissions",children:s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"relative mb-2 flex items-center",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search menus or routes...",value:u,onChange:e=>m(e.target.value),className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsx("div",{className:"custom-scrollbar max-h-[60vh] overflow-y-auto pr-2",children:p.isLoading?s.jsx("div",{className:"flex h-48 items-center justify-center",children:s.jsx(qr,{})}):0===h.length?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center text-muted-foreground",children:[s.jsx(I,{className:"mb-3 h-12 w-12 opacity-20"}),s.jsx("p",{children:"No menus found matching your search"})]}):s.jsx("div",{className:"space-y-3 pb-4",children:h.map((e,t)=>{var a,r;const i=!e.is_suspended;return s.jsxs(S.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.03*t},className:ma("flex items-center justify-between rounded-2xl border p-4 transition-all duration-200",i?"border-green-500/20 bg-green-500/5 hover:bg-green-500/10":"border-border bg-muted/20 hover:bg-muted/30"),children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:ma("flex h-10 w-10 items-center justify-center rounded-xl transition-colors",i?"bg-green-500/20 text-green-600":"bg-muted text-muted-foreground"),children:s.jsx(I,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold leading-tight text-foreground",children:e.menu_string}),s.jsx("p",{className:"mt-1 font-mono text-xs text-muted-foreground",children:e.route})]})]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsx(pa,{size:"sm",variant:i?"destructive":"default",onClick:()=>(async(e,t)=>{var s,a,r;try{const i={isSuspended:t,menuId:e,menuRoleId:l},n=await x.mutateAsync({api:null==Ga?void 0:Ga.addRemoveMenuPermission,data:i});(null==(s=null==n?void 0:n.data)?void 0:s.status)?(c.success((null==(a=null==n?void 0:n.data)?void 0:a.message)||"Permission updated"),p.refetch(),d&&d()):c.error((null==(r=null==n?void 0:n.data)?void 0:r.message)||"Failed to update")}catch(i){c.error(Ya(i))}})(e.id,!e.is_suspended),disabled:x.isPending,className:ma("h-9 gap-2 rounded-xl px-4 shadow-sm transition-all active:scale-95",i?"border-none bg-red-500 text-white hover:bg-red-600":"border-none bg-primary text-white hover:bg-primary/90"),children:x.isPending&&(null==(r=null==(a=x.variables)?void 0:a.data)?void 0:r.menuId)===e.id?s.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white/30 border-t-white"}):i?s.jsxs(s.Fragment,{children:[s.jsx(q,{className:"h-3 w-3"}),"Remove"]}):s.jsxs(s.Fragment,{children:[s.jsx(L,{className:"h-3 w-3"}),"Add"]})})})]},e.id)})})})]})})}function Ol(){var t,a,r;const l=Ir({}),i=m(),[d]=_(),o=d.get("role_id"),u=d.get("module_id"),x=d.get("module_name")||"Menu Roles",{role_name:p}=(null==(t=n())?void 0:t.state)||{},[h,g]=e.useState(""),[f,v]=e.useState("all"),[b,j]=e.useState(!1),y=e.useRef(null),N=Pr({api:null==Ga?void 0:Ga.getPermitedMenuList,key:`permittedMenuList-${o}-${u}`,options:{enabled:!!o&&!!u},config:{menuRoleId:Number(o),moduleId:Number(u)}}),w=Ir({});e.useEffect(()=>{const e=e=>{var t;!e.altKey||"s"!==e.key&&"S"!==e.key||(e.preventDefault(),e.stopPropagation(),null==(t=y.current)||t.focus())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]);const k=(null==(r=null==(a=null==N?void 0:N.data)?void 0:a.data)?void 0:r[x])||[],L=e=>Number(e.menu_role_id)===Number(o)&&!e.is_suspended,R=k.filter(e=>{var t;return null==(t=null==e?void 0:e.menu_string)?void 0:t.toLowerCase().includes(h.toLowerCase())}),D=R.filter(e=>{const t=L(e);return"active"===f?t:"inactive"!==f||!t}),E=R.filter(e=>L(e)).length,M=R.filter(e=>!L(e)).length;return s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(Rr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Sa,{variant:"ghost",size:"sm",onClick:()=>i(-1),className:"flex h-10 items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-blue-600/10 text-blue-600",children:s.jsx(I,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:x}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Role:"," ",s.jsx("span",{className:"font-semibold text-blue-600",children:p})]}),s.jsxs("div",{className:"inline-block rounded-full bg-blue-600/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-blue-600",children:[k.length," Menus Found"]})]})]})]}),s.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[s.jsxs("div",{className:"flex items-center gap-2 rounded-xl border bg-muted/30 p-1",children:[s.jsxs(Sa,{variant:"ghost",size:"sm",onClick:()=>v("all"),className:ma("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","all"===f?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[s.jsx(W,{className:"h-3 w-3"}),"All (",R.length,")"]}),s.jsxs(Sa,{variant:"ghost",size:"sm",onClick:()=>v("active"),className:ma("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","active"===f?"bg-green-600 text-white shadow-sm hover:bg-green-600":"text-muted-foreground hover:text-foreground"),children:[s.jsx(B,{className:"h-3 w-3"}),"Active (",E,")"]}),s.jsxs(Sa,{variant:"ghost",size:"sm",onClick:()=>v("inactive"),className:ma("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","inactive"===f?"bg-muted text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[s.jsx(F,{className:"h-3 w-3"}),"Inactive (",M,")"]})]}),s.jsxs("div",{className:"relative flex items-center",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{ref:y,type:"text",placeholder:"Search menu...",value:h,onChange:e=>g(e.target.value),className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-20 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20 sm:w-64"}),s.jsx("div",{className:"absolute right-2.5 hidden items-center gap-1 sm:flex",children:s.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[s.jsx("span",{className:"text-xs",children:"Alt"}),"S"]})})]})]})]})}),s.jsx(Mr,{className:"p-6",children:N.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(qr,{}),s.jsx("p",{className:"mt-4 text-xs font-medium text-muted-foreground",children:"Loading menus..."})]})}):s.jsx(s.Fragment,{children:0===D.length?s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(I,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No menus found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:h||"all"!==f?"Try adjusting your filters or search criteria":"No menus available for this role yet."})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:s.jsx(P,{mode:"popLayout",children:D.map((e,t)=>{const a=L(e);return s.jsx(S.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2,delay:.02*t},children:s.jsx(Rr,{className:ma("group overflow-hidden rounded-xl border transition-all hover:shadow-md",a?"border-green-500/20 bg-green-500/5":"border-border bg-card hover:border-primary/30"),children:s.jsx(Mr,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("div",{className:ma("flex h-10 w-10 items-center justify-center rounded-lg transition-all",a?"bg-green-500/20 text-green-600":"bg-muted text-muted-foreground group-hover:bg-primary/10 group-hover:text-primary"),children:a?s.jsx(B,{className:"h-5 w-5"}):s.jsx(F,{className:"h-5 w-5"})}),s.jsx(rl,{checked:a,onCheckedChange:()=>(async e=>{var t,s,a;const r=L(e),i=e.id,n=o;try{const e={isSuspended:r,menuId:i,menuRoleId:n},d=await l.mutateAsync({api:null==Ga?void 0:Ga.addRemoveMenuPermission,data:e});(null==(t=null==d?void 0:d.data)?void 0:t.status)?(c.success((null==(s=null==d?void 0:d.data)?void 0:s.message)||"Role status updated successfully"),N.refetch()):c.error((null==(a=null==d?void 0:d.data)?void 0:a.message)||"Failed to update status")}catch(d){c.error(Ya(d))}})(e),disabled:w.isPending,className:"data-[state=checked]:bg-green-600"})]}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h4",{className:"line-clamp-1 text-sm font-bold text-foreground",children:e.menu_string}),s.jsx("p",{className:"truncate font-mono text-[10px] text-muted-foreground",title:e.route,children:e.route??"--"})]}),s.jsx("p",{className:ma("mt-1 text-[10px] font-bold uppercase tracking-wider",a?"text-green-600":Number(e.menu_role_id)===Number(o)?"text-red-500":"text-muted-foreground"),children:a?"Active":Number(e.menu_role_id)===Number(o)?"Suspended":"Inactive"})]})})})},e.id)})})}),s.jsxs("div",{className:"mt-6 flex flex-col gap-2 rounded-xl border bg-muted/20 px-4 py-3 sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("span",{className:"text-xs font-bold uppercase tracking-widest text-muted-foreground",children:["Showing: ",D.length," of"," ",R.length," Menus"]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500"}),s.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Active: ",E]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-muted-foreground"}),s.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Inactive: ",M]})]})]})]})]})})})]})}),s.jsx(Bl,{open:b,setOpen:j,menuRoleId:o,moduleId:u,moduleName:x,title:`Manage Menus for ${p}`,refetch:N.refetch})]})}function ql(){return s.jsx(Lr,{title:"Menu Role List",subTitle:"Control all Menu Role here",children:s.jsx(Ol,{})})}const Wl=({ulbName:e,logo:t,progress:a,onBack:r})=>{const l=m();return s.jsxs("div",{className:"relative overflow-hidden bg-slate-900 px-8 py-10 shadow-2xl dark:bg-black rounded-2xl",children:[s.jsx("div",{className:"absolute right-0 top-0 -mr-32 -mt-32 h-64 w-64 rounded-full bg-primary/5 blur-3xl"}),s.jsx("div",{className:"absolute bottom-0 left-0 -mb-32 -ml-32 h-64 w-64 rounded-full bg-primary/5 blur-3xl"}),s.jsxs("div",{className:"relative z-10 mx-auto max-w-7xl rounded-2xl",children:[s.jsxs(S.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"mb-6 flex items-center gap-2 text-sm font-medium text-slate-500",children:[s.jsx("span",{className:"cursor-pointer transition-colors hover:text-slate-300",onClick:()=>r?r():l(-1),children:"ULB Configuration"}),s.jsx($,{size:10,className:"text-slate-700"}),s.jsx("span",{className:"rounded bg-primary/10 px-2 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:"Global Controls"})]}),s.jsxs("div",{className:"mb-8 flex flex-col justify-between gap-8 md:flex-row md:items-end",children:[s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"flex-1",children:[s.jsxs("div",{className:"mb-4 flex items-center gap-4",children:[t?s.jsx("div",{className:"h-16 w-16 overflow-hidden rounded-2xl bg-white p-2 shadow-2xl ring-4 ring-white/10",children:s.jsx("img",{src:t,alt:e,className:"h-full w-full object-contain"})}):s.jsx("div",{className:"rounded-2xl bg-primary/10 p-3 text-primary ring-1 ring-primary/20",children:s.jsx(V,{className:"animate-spin-slow",size:24})}),s.jsx("h1",{className:"text-2xl font-black tracking-tight text-white md:text-3xl",children:e})]}),s.jsxs("div",{className:"mt-8 max-w-md",children:[s.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[s.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500",children:"Synchronization Status"}),s.jsxs("span",{className:"text-[10px] font-black text-white/90",children:[a,"% Optimal"]})]}),s.jsx("div",{className:"h-2 w-full overflow-hidden rounded-full bg-slate-800 p-[1px]",children:s.jsx(S.div,{initial:{width:0},animate:{width:`${a}%`},transition:{duration:1,ease:"easeOut"},className:"h-full rounded-full bg-primary shadow-[0_0_10px_rgba(59,130,246,0.5)]"})})]})]}),s.jsxs(S.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"flex gap-3",children:[s.jsxs(Sa,{variant:"outline",onClick:()=>r?r():l(-1),className:"border-slate-700 bg-slate-800/50 text-slate-300 backdrop-blur-sm hover:bg-slate-700 hover:text-white",children:[s.jsx(A,{className:"mr-2"}),r?"Switch ULB":"Back"]}),s.jsx(Sa,{className:"bg-primary shadow-lg shadow-primary/20 hover:bg-primary/90",children:"Audit Logs"})]})]})]})]})},$l=({data:e})=>{const{basic_information:t,global_master:a}=e,r=[{label:"Municipal Code",value:t.code,icon:H},{label:"Regional Association",value:t.association_with||"N/A",icon:Z},{label:"Ward Count",value:a.ward_count.toLocaleString(),icon:G},{label:"Operational Status",value:t.active_status?"active":"inactive",icon:K,isStatus:!0}];return s.jsx("div",{className:"grid grid-cols-1 gap-4 px-8 md:grid-cols-2 lg:grid-cols-4",children:r.map((e,t)=>s.jsx(S.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.1*t+.3},children:s.jsx(Rr,{className:"group overflow-hidden border-none bg-white shadow-xl transition-all duration-300 hover:shadow-2xl dark:bg-slate-900",children:s.jsx(Mr,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"rounded-xl bg-slate-100 p-3 text-slate-500 transition-all duration-300 group-hover:bg-primary/10 group-hover:text-primary dark:bg-slate-800 dark:text-slate-400",children:s.jsx(e.icon,{size:20})}),s.jsxs("div",{className:"min-h-12 max-h-12",children:[s.jsx("p",{className:"mb-1 text-[10px] font-black uppercase tracking-widest text-slate-400 dark:text-slate-500",children:e.label}),e.isStatus?s.jsxs("div",{className:ma("inline-flex items-center gap-1.5 rounded-full px-2.5 py-0.5 text-[10px] font-bold uppercase tracking-wider","active"===e.value?"border border-emerald-500/20 bg-emerald-500/10 text-emerald-600":"border border-red-500/20 bg-red-500/10 text-red-500"),children:[s.jsx("div",{className:ma("h-1.5 w-1.5 animate-pulse rounded-full","active"===e.value?"bg-emerald-500":"bg-red-500")}),e.value]}):s.jsx("p",{className:"text-sm font-black tracking-tight text-slate-800 dark:text-slate-200",children:e.value})]})]})})})},e.label))})},Vl=({data:t})=>{const[a,r]=e.useState(!0),l=[{label:"Official Name",value:t.ulb_name,icon:Y,fullWidth:!0},{label:"Registry ID",value:t.id,icon:Q},{label:"Code",value:t.code,icon:Q},{label:"Type",value:t.ulb_type,icon:J},{label:"Regional Category",value:t.category||"N/A",icon:X},{label:"Primary Address",value:t.address,icon:X,fullWidth:!0},{label:"Hindi Title",value:t.hindi_name||"N/A",icon:E,fullWidth:!0},{label:"Incorporation",value:t.incorporation_date?new Date(t.incorporation_date).toLocaleDateString():"N/A",icon:ee},{label:"Toll Free Support",value:t.toll_free_no||"N/A",icon:te},{label:"Corporate Email",value:t.email||"N/A",icon:se},{label:"Administrative Web",value:t.current_website||"N/A",icon:ae,fullWidth:!0},{label:"Parent Gateway",value:t.parent_website||"N/A",icon:R,fullWidth:!0}];return s.jsxs(Rr,{className:"mx-8 overflow-hidden border-none bg-white shadow-xl transition-all duration-500 dark:bg-slate-900",children:[s.jsxs(Dr,{className:"flex cursor-pointer flex-row items-center justify-between border-b border-slate-100 bg-slate-50/50 p-6 transition-colors hover:bg-slate-100 dark:border-slate-800 dark:bg-slate-800/30 dark:hover:bg-slate-800/50",onClick:()=>r(!a),children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"rounded-xl bg-primary/10 p-3 text-primary ring-1 ring-primary/20",children:s.jsx(Y,{})}),s.jsxs("div",{children:[s.jsx(Er,{className:"text-xl font-black tracking-tight text-slate-800 dark:text-slate-200",children:"Basic Configuration"}),s.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Core identification and contact matrix"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Sa,{variant:"outline",size:"sm",className:"h-9 border-slate-200 bg-white px-4 shadow-sm transition-all hover:bg-primary hover:text-white dark:border-slate-700 dark:bg-slate-800 dark:text-slate-300",children:[s.jsx(E,{className:"mr-2"}),"Modify"]}),s.jsx("div",{className:"text-slate-400",children:a?s.jsx(re,{}):s.jsx(le,{})})]})]}),s.jsx(P,{children:a&&s.jsx(S.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},children:s.jsx(Mr,{className:"p-8",children:s.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:l.map((e,t)=>s.jsxs("div",{className:ma("group flex gap-4 rounded-2xl border border-slate-100 bg-slate-50 p-4 transition-all duration-300 hover:border-primary/20 hover:bg-white hover:shadow-lg dark:border-slate-800 dark:bg-slate-800/20 dark:hover:bg-slate-800",e.fullWidth&&"md:col-span-2"),children:[s.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-xl bg-white text-slate-400 shadow-sm transition-all group-hover:scale-110 group-hover:text-primary dark:bg-slate-700",children:s.jsx(e.icon,{size:16})}),s.jsxs("div",{children:[s.jsx("p",{className:"mb-1 text-[10px] font-black uppercase tracking-widest text-slate-400 dark:text-slate-500",children:e.label}),s.jsx("p",{className:"text-sm font-bold leading-tight text-slate-800 dark:text-slate-200",children:e.value||"N/A"})]})]},`${e.label}-${t}`))})})})})]})},Hl=ns,Zl=e.forwardRef(({className:e,...t},a)=>s.jsx(rs,{ref:a,className:ma("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));Zl.displayName=rs.displayName;const Gl=e.forwardRef(({className:e,...t},a)=>s.jsx(ls,{ref:a,className:ma("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));Gl.displayName=ls.displayName;const Kl=e.forwardRef(({className:e,...t},a)=>s.jsx(is,{ref:a,className:ma("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Kl.displayName=is.displayName;const Yl=aa().shape({id:ia().nullable(),wardNumber:la().required("Ward Number is required").matches(/^\d+$/,"Must be a number")}),Ql=({open:t,onOpenChange:a,ulbId:r})=>{const[l,i]=e.useState(null),{data:n,refetch:d,isLoading:o}=Pr({api:Ha.api_getUlbWardList,key:`wardList-${r}`,config:{ulbId:r},options:{enabled:t&&!!r}}),u=Ir({}),m=Ir({}),x=Ir({}),{register:p,handleSubmit:h,reset:g,setValue:f,formState:{errors:v,isSubmitting:b}}=w({resolver:k(Yl),defaultValues:{id:null,wardNumber:""}}),j=(null==n?void 0:n.data)||[];return s.jsx(Nr,{open:t,onOpenChange:a,children:s.jsxs(_r,{className:"max-w-3xl overflow-hidden border-none bg-white p-0 shadow-2xl dark:bg-slate-900",children:[s.jsx(Sr,{className:"bg-slate-50 px-6 py-4 dark:bg-slate-800/50",children:s.jsxs(Ar,{className:"flex items-center gap-3 text-xl font-black tracking-tight text-slate-800 dark:text-slate-100",children:[s.jsx("div",{className:"rounded-xl bg-primary/10 p-2 text-primary",children:s.jsx(G,{})}),"Ward Management Matrix"]})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("form",{onSubmit:h(async e=>{var t,s;try{const a=!!e.id,l=a?Ha.api_updateUlbWard:Ha.api_createUlbWard,n=a?{id:e.id,wardNumber:e.wardNumber,ulbId:r}:{ulbId:r,wardNumber:e.wardNumber},o=await(a?m:u).mutateAsync({api:l,data:n});(null==(t=null==o?void 0:o.data)?void 0:t.status)?(c.success(o.data.message||`Ward ${a?"updated":"created"} successfully`),g({id:null,wardNumber:""}),i(null),d()):c.error((null==(s=null==o?void 0:o.data)?void 0:s.message)||"Operation failed")}catch(a){c.error(Ya(a))}}),className:"mb-8 flex items-end gap-4 rounded-2xl border border-slate-100 bg-slate-50/50 p-4 dark:border-slate-800 dark:bg-slate-800/20",children:[s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500",children:l?"Update Ward Identifier":"New Ward Identifier"}),s.jsx(Vr,{...p("wardNumber"),placeholder:"Enter Ward Number (e.g. 101)",className:"h-11 border-slate-200 bg-white font-bold text-slate-800 transition-all focus:ring-primary/20 dark:border-slate-700 dark:bg-slate-800 dark:text-slate-200"}),v.wardNumber&&s.jsx("p",{className:"text-xs font-bold text-red-500",children:v.wardNumber.message})]}),s.jsxs("div",{className:"flex gap-2",children:[l&&s.jsx(Sa,{type:"button",variant:"outline",onClick:()=>{i(null),g({id:null,wardNumber:""})},className:"h-11 px-6",children:"Cancel"}),s.jsx(Sa,{type:"submit",disabled:b,className:"h-11 min-w-[120px] bg-primary font-bold shadow-lg shadow-primary/20 hover:bg-primary/90",children:b?s.jsx(qr,{className:"h-4 w-4 text-white"}):l?"Update":"Create"})]})]}),s.jsx("div",{className:"max-h-[400px] overflow-y-auto rounded-xl border border-slate-100 bg-white dark:border-slate-800 dark:bg-slate-900",children:s.jsxs(Tr,{children:[s.jsx(Ur,{className:"bg-slate-50 dark:bg-slate-800/50",children:s.jsxs(Fr,{children:[s.jsx(Br,{className:"font-bold text-slate-500",children:"ID"}),s.jsx(Br,{className:"font-bold text-slate-500",children:"Ward Number"}),s.jsx(Br,{className:"font-bold text-slate-500",children:"Status"}),s.jsx(Br,{className:"text-right font-bold text-slate-500",children:"Actions"})]})}),s.jsx(zr,{children:o?s.jsx(Fr,{children:s.jsx(Or,{colSpan:4,className:"h-32 text-center",children:s.jsx(qr,{className:"mx-auto text-primary"})})}):0===j.length?s.jsx(Fr,{children:s.jsx(Or,{colSpan:4,className:"h-32 text-center text-slate-400",children:"No wards found. Create one above."})}):j.map(e=>s.jsxs(Fr,{className:"group transition-colors hover:bg-slate-50 dark:hover:bg-slate-800/30",children:[s.jsxs(Or,{className:"font-mono text-xs font-bold text-slate-400",children:["#",e.id]}),s.jsx(Or,{className:"font-bold text-slate-700 dark:text-slate-300",children:e.ward_name||e.ward_number||`Ward ${e.id}`}),s.jsx(Or,{children:s.jsx(rl,{checked:1===e.status||!0===e.status,onCheckedChange:()=>(async(e,t)=>{var s,a;try{const r=t?0:1,l=await x.mutateAsync({api:Ha.api_deleteUlbWard,data:{id:e,status:r}});(null==(s=null==l?void 0:l.data)?void 0:s.status)?(c.success(`Ward ${r?"activated":"deactivated"} successfully`),d()):c.error((null==(a=null==l?void 0:l.data)?void 0:a.message)||"Status update failed")}catch(r){c.error(Ya(r))}})(e.id,1===e.status||!0===e.status),className:"data-[state=checked]:bg-emerald-500"})}),s.jsx(Or,{className:"text-right",children:s.jsx("div",{className:"flex justify-end gap-2 opacity-0 transition-opacity group-hover:opacity-100",children:s.jsx(Sa,{size:"icon",variant:"ghost",onClick:()=>(e=>{i(e.id),f("id",e.id),f("wardNumber",e.ward_name||e.ward_number)})(e),className:"h-8 w-8 text-slate-400 hover:bg-primary/10 hover:text-primary",children:s.jsx(E,{size:14})})})})]},e.id))})]})})]})]})})},Jl=aa().shape({id:ia().nullable(),zone:la().required("Zone Name is required").min(2,"Zone Name must be at least 2 characters")}),Xl=({open:t,onOpenChange:a,ulbId:r})=>{const[l,i]=e.useState(null),{data:n,refetch:d,isLoading:o}=Pr({api:Ha.zone_list_Api,key:`zoneList-${r}`,config:{ulbId:r},options:{enabled:t&&!!r}}),u=Ir({}),m=Ir({}),x=Ir({}),{register:p,handleSubmit:h,reset:g,setValue:f,formState:{errors:v,isSubmitting:b}}=w({resolver:k(Jl),defaultValues:{id:null,zone:""}}),j=(null==n?void 0:n.data)||[];return s.jsx(Nr,{open:t,onOpenChange:a,children:s.jsxs(_r,{className:"max-w-3xl overflow-hidden border-none bg-white p-0 shadow-2xl dark:bg-slate-900",children:[s.jsx(Sr,{className:"bg-slate-50 px-6 py-4 dark:bg-slate-800/50",children:s.jsxs(Ar,{className:"flex items-center gap-3 text-xl font-black tracking-tight text-slate-800 dark:text-slate-100",children:[s.jsx("div",{className:"rounded-xl bg-primary/10 p-2 text-primary",children:s.jsx(Z,{})}),"Zone Distribution Matrix"]})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("form",{onSubmit:h(async e=>{var t,s;try{const a=!!e.id,l=a?Ha.api_updateZoneApi:Ha.api_PostZoneApi,n=a?{id:e.id,zone:e.zone,ulbId:r}:{ulbId:r,zone:e.zone},o=await(a?m:u).mutateAsync({api:l,data:n});(null==(t=null==o?void 0:o.data)?void 0:t.status)?(c.success(o.data.message||`Zone ${a?"updated":"created"} successfully`),g({id:null,zone:""}),i(null),d()):c.error((null==(s=null==o?void 0:o.data)?void 0:s.message)||"Operation failed")}catch(a){c.error(Ya(a))}}),className:"mb-8 flex items-end gap-4 rounded-2xl border border-slate-100 bg-slate-50/50 p-4 dark:border-slate-800 dark:bg-slate-800/20",children:[s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500",children:l?"Update Zone Identifier":"New Zone Identifier"}),s.jsx(Vr,{...p("zone"),placeholder:"Enter Zone Name (e.g. North Zone)",className:"h-11 border-slate-200 bg-white font-bold text-slate-800 transition-all focus:ring-primary/20 dark:border-slate-700 dark:bg-slate-800 dark:text-slate-200"}),v.zone&&s.jsx("p",{className:"text-xs font-bold text-red-500",children:v.zone.message})]}),s.jsxs("div",{className:"flex gap-2",children:[l&&s.jsx(Sa,{type:"button",variant:"outline",onClick:()=>{i(null),g({id:null,zone:""})},className:"h-11 px-6",children:"Cancel"}),s.jsx(Sa,{type:"submit",disabled:b,className:"h-11 min-w-[120px] bg-primary font-bold shadow-lg shadow-primary/20 hover:bg-primary/90",children:b?s.jsx(qr,{className:"h-4 w-4 text-white"}):l?"Update":"Create"})]})]}),s.jsx("div",{className:"max-h-[400px] overflow-y-auto rounded-xl border border-slate-100 bg-white dark:border-slate-800 dark:bg-slate-900",children:s.jsxs(Tr,{children:[s.jsx(Ur,{className:"bg-slate-50 dark:bg-slate-800/50",children:s.jsxs(Fr,{children:[s.jsx(Br,{className:"font-bold text-slate-500",children:"ID"}),s.jsx(Br,{className:"font-bold text-slate-500",children:"Zone Name"}),s.jsx(Br,{className:"font-bold text-slate-500",children:"ULB Name"}),s.jsx(Br,{className:"font-bold text-slate-500",children:"Status"}),s.jsx(Br,{className:"text-right font-bold text-slate-500",children:"Actions"})]})}),s.jsx(zr,{children:o?s.jsx(Fr,{children:s.jsx(Or,{colSpan:5,className:"h-32 text-center",children:s.jsx(qr,{className:"mx-auto text-primary"})})}):0===j.length?s.jsx(Fr,{children:s.jsx(Or,{colSpan:5,className:"h-32 text-center text-slate-400",children:"No zones found. Create one above."})}):j.map(e=>s.jsxs(Fr,{className:"group transition-colors hover:bg-slate-50 dark:hover:bg-slate-800/30",children:[s.jsxs(Or,{className:"font-mono text-xs font-bold text-slate-400",children:["#",e.id]}),s.jsx(Or,{className:"font-bold text-slate-700 dark:text-slate-300",children:e.zone}),s.jsx(Or,{className:"text-xs font-medium text-slate-500",children:e.ulb_name}),s.jsx(Or,{children:s.jsx(rl,{checked:e.status,onCheckedChange:()=>(async(e,t)=>{var s,a;try{const r=t?0:1,l=await x.mutateAsync({api:Ha.api_deleteZoneApi,data:{id:e,status:r}});(null==(s=null==l?void 0:l.data)?void 0:s.status)?(c.success(`Zone ${r?"activated":"deactivated"} successfully`),d()):c.error((null==(a=null==l?void 0:l.data)?void 0:a.message)||"Status update failed")}catch(r){c.error(Ya(r))}})(e.id,e.status),className:"data-[state=checked]:bg-emerald-500"})}),s.jsx(Or,{className:"text-right",children:s.jsx("div",{className:"flex justify-end gap-2 opacity-0 transition-opacity group-hover:opacity-100",children:s.jsx(Sa,{size:"icon",variant:"ghost",type:"button",onClick:()=>(e=>{i(e.id),f("id",e.id),f("zone",e.zone_name||e.zone)})(e),className:"h-8 w-8 text-slate-400 hover:bg-primary/10 hover:text-primary",children:s.jsx(E,{size:14})})})})]},e.id))})]})})]})]})})},ei=({globalMaster:t,ulbId:a})=>{const[r,l]=e.useState(!1),[i,n]=e.useState(!1),d=[{id:1,name:"Ward Management",count:t.ward_count,icon:G,description:"Geographic boundaries and civic wards",color:"blue",action:()=>l(!0)},{id:2,name:"Zone Distribution",count:t.zone_count,icon:ie,description:"Macro administrative divisions",color:"emerald",action:()=>n(!0)},{id:3,name:"Department Matrix",count:t.department_count,icon:ne,description:"Internal functional departments",color:"violet",action:()=>{}}];return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mx-8 space-y-6",children:s.jsxs(Hl,{defaultValue:"basic",className:"w-full",children:[s.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[s.jsxs(Zl,{className:"h-12 rounded-xl bg-slate-200/50 p-1 dark:bg-slate-800/50",children:[s.jsxs(Gl,{value:"basic",className:"rounded-lg px-6 text-xs font-bold uppercase tracking-wider transition-all data-[state=active]:bg-white data-[state=active]:text-primary data-[state=active]:shadow-sm dark:data-[state=active]:bg-slate-700 dark:data-[state=active]:text-primary",children:[s.jsx(de,{className:"mr-2 text-[10px]"}),"Global Masters"]}),s.jsxs(Gl,{value:"module",className:"rounded-lg px-6 text-xs font-bold uppercase tracking-wider transition-all data-[state=active]:bg-white data-[state=active]:text-primary data-[state=active]:shadow-sm dark:data-[state=active]:bg-slate-700 dark:data-[state=active]:text-primary",children:[s.jsx(Z,{className:"mr-2 text-[10px]"}),"Module Specific"]})]}),s.jsxs(Sa,{className:"h-11 rounded-xl bg-primary px-6 text-xs font-bold uppercase tracking-widest shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"mr-2"}),"Create Master"]})]}),s.jsx(Kl,{value:"basic",className:"mt-0",children:s.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:d.map((e,t)=>s.jsx(S.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.05*t},children:s.jsx(Rr,{className:"group overflow-hidden border-none bg-white shadow-lg ring-1 ring-slate-200/50 transition-all duration-500 hover:shadow-2xl dark:bg-slate-900 dark:ring-slate-800",children:s.jsxs(Mr,{className:"p-0",children:[s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"mb-6 flex items-start justify-between",children:s.jsx("div",{className:"rounded-2xl bg-primary/10 p-4 text-primary shadow-inner transition-all duration-500 group-hover:bg-primary group-hover:text-white",children:s.jsx(e.icon,{size:24})})}),s.jsx("h3",{className:"mb-1 text-xl font-black tracking-tight text-slate-800 dark:text-slate-200",children:e.name}),s.jsx("p",{className:"mb-3 text-[11px] font-medium text-slate-500",children:e.description}),s.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-black uppercase tracking-widest text-slate-400",children:[s.jsx(oe,{className:"text-[8px]"}),"Real-time synchronization"]})]}),s.jsxs("div",{className:"flex items-center justify-between border-t border-slate-100 bg-slate-50 px-6 py-4 dark:border-slate-800 dark:bg-slate-800/50",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-3xl font-black leading-none tracking-tighter text-slate-800 dark:text-slate-200",children:e.count}),s.jsx("span",{className:"mt-1 text-[9px] font-black uppercase tracking-widest text-slate-400 dark:text-slate-500",children:"Active Records"})]}),s.jsxs(Sa,{variant:"link",onClick:e.action,className:"h-auto p-0 text-[10px] font-black uppercase tracking-widest text-primary transition-transform group-hover:translate-x-1",children:["Manage ","->"]})]})]})})},e.id))})}),s.jsx(Kl,{value:"module",className:"mt-0",children:s.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[{module:"Property Tax",masters:[{name:"Property Types",count:12},{name:"Tax Categories",count:8},{name:"Assessment Rules",count:15}]},{module:"Water & Sewerage",masters:[{name:"Connection Types",count:6},{name:"Tariff Plans",count:10},{name:"Meter Types",count:5}]}].map((e,t)=>s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},children:s.jsxs(Rr,{className:"overflow-hidden border-none bg-white shadow-lg transition-all duration-300 hover:shadow-xl dark:bg-slate-900",children:[s.jsx("div",{className:"border-b border-primary/10 bg-primary/5 px-6 py-4 dark:border-primary/20 dark:bg-primary/10",children:s.jsxs("h3",{className:"flex items-center gap-2 text-sm font-black uppercase tracking-widest text-primary",children:[s.jsx(ce,{}),e.module]})}),s.jsx(Mr,{className:"space-y-3 p-6",children:e.masters.map((e,t)=>s.jsxs("div",{className:"group flex items-center justify-between rounded-xl border border-transparent p-3 transition-all duration-300 hover:border-slate-200 hover:bg-slate-50 dark:hover:border-slate-700 dark:hover:bg-slate-800/50",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-primary/40"}),s.jsx("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:e.name})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"rounded-lg border border-slate-100 bg-white px-3 py-1 text-xs font-black text-slate-800 shadow-sm dark:border-slate-700 dark:bg-slate-800 dark:text-slate-300",children:e.count}),s.jsx(Sa,{variant:"ghost",size:"sm",className:"h-8 text-[10px] font-black uppercase tracking-wider text-primary opacity-0 transition-all hover:bg-primary/5 group-hover:opacity-100",children:"View"})]})]},t))})]})},e.module))})})]})}),s.jsx(Ql,{open:r,onOpenChange:l,ulbId:a}),s.jsx(Xl,{open:i,onOpenChange:n,ulbId:a})]})},ti=({actions:e})=>s.jsxs(Rr,{className:"mx-8 overflow-hidden border-none bg-white shadow-xl transition-all duration-500 dark:bg-slate-900",children:[s.jsx(Dr,{className:"border-b border-slate-100 bg-red-50/20 p-6 dark:border-slate-800 dark:bg-red-950/20",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"rounded-xl bg-red-100 p-3 text-red-600 ring-1 ring-red-200 dark:bg-red-900/40 dark:text-red-400 dark:ring-red-800",children:s.jsx(K,{})}),s.jsxs("div",{children:[s.jsx(Er,{className:"text-xl font-black tracking-tight text-slate-800 dark:text-slate-200",children:"Administrative Controls"}),s.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Critical system overrides and security protocols"})]})]})}),s.jsx(Mr,{className:"p-8",children:s.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:e.map((e,t)=>s.jsx(S.div,{initial:{opacity:0,x:t%2==0?-20:20},animate:{opacity:1,x:0},transition:{delay:.5+.1*t},children:s.jsxs(Sa,{variant:"outline",className:ma("group flex h-auto w-full flex-row items-start gap-5 rounded-2xl border-2 p-6 shadow-sm transition-all duration-300","warning"===e.color?"border-slate-100 bg-slate-50 hover:border-primary hover:bg-primary hover:text-white dark:border-slate-800 dark:bg-slate-800/50":"border-red-50 bg-red-50/30 hover:border-red-500 hover:bg-red-500 hover:text-white dark:border-red-950/20 dark:bg-red-950/10"),onClick:e.action,children:[s.jsx("div",{className:ma("rounded-xl p-4 shadow-sm transition-all duration-300 group-hover:scale-110 group-hover:bg-white/20","warning"===e.color?"bg-white text-slate-400 dark:bg-slate-700 dark:text-slate-300":"bg-white text-red-600 dark:bg-slate-700 dark:text-red-400"),children:s.jsx(e.icon,{size:24})}),s.jsxs("div",{className:"flex-1 text-left",children:[s.jsx("h4",{className:"mb-1 text-lg font-black tracking-tight",children:e.title}),s.jsx("p",{className:ma("text-xs font-medium leading-relaxed","text-slate-500 group-hover:text-white/80 dark:text-slate-400"),children:e.description})]}),s.jsx("div",{className:"opacity-0 transition-opacity group-hover:opacity-100",children:s.jsx(ue,{className:"animate-pulse text-white"})})]})},e.id))})})]}),si=hs,ai=os,ri=e.forwardRef(({className:e,...t},a)=>s.jsx(ds,{className:ma("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:a}));ri.displayName=ds.displayName;const li=e.forwardRef(({className:e,...t},a)=>s.jsxs(ai,{children:[s.jsx(ri,{}),s.jsx(cs,{ref:a,className:ma("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));li.displayName=cs.displayName;const ii=({className:e,...t})=>s.jsx("div",{className:ma("flex flex-col space-y-2 text-center sm:text-left",e),...t});ii.displayName="AlertDialogHeader";const ni=({className:e,...t})=>s.jsx("div",{className:ma("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});ni.displayName="AlertDialogFooter";const di=e.forwardRef(({className:e,...t},a)=>s.jsx(us,{ref:a,className:ma("text-lg font-semibold",e),...t}));di.displayName=us.displayName;const oi=e.forwardRef(({className:e,...t},a)=>s.jsx(ms,{ref:a,className:ma("text-sm text-muted-foreground",e),...t}));oi.displayName=ms.displayName;const ci=e.forwardRef(({className:e,...t},a)=>s.jsx(xs,{ref:a,className:ma(xa(),e),...t}));ci.displayName=xs.displayName;const ui=e.forwardRef(({className:e,...t},a)=>s.jsx(ps,{ref:a,className:ma(xa({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));ui.displayName=ps.displayName;const mi=({open:e,onOpenChange:t,onConfirm:a,title:r,description:l,isSaving:i})=>s.jsx(si,{open:e,onOpenChange:t,children:s.jsxs(li,{className:"overflow-hidden rounded-3xl border-none bg-white p-8 shadow-2xl dark:bg-slate-900",children:[s.jsx("div",{className:"absolute -left-24 -top-24 h-48 w-48 rounded-full bg-red-500/10 blur-3xl dark:bg-red-500/5"}),s.jsxs(ii,{className:"relative z-10",children:[s.jsx("div",{className:"mx-auto mb-6 flex h-20 w-20 items-center justify-center rounded-2xl bg-red-50 text-red-600 shadow-inner ring-1 ring-red-100 dark:bg-red-950/30 dark:text-red-400 dark:ring-red-900/50",children:s.jsx(ue,{size:32})}),s.jsx(di,{className:"text-center text-3xl font-black tracking-tight text-slate-800 dark:text-slate-100",children:r}),s.jsx(oi,{className:"text-center text-base font-medium leading-relaxed text-slate-500 dark:text-slate-400 md:px-6",children:l})]}),s.jsxs(ni,{className:"relative z-10 mt-8 flex-col-reverse gap-3 sm:flex-row",children:[s.jsx(ui,{disabled:i,className:"h-12 flex-1 rounded-xl border-none bg-slate-100 text-[10px] font-black uppercase tracking-widest text-slate-500 transition-all hover:bg-slate-200 dark:bg-slate-800 dark:text-slate-400 dark:hover:bg-slate-700",children:"Abort"}),s.jsx(ci,{onClick:e=>{e.preventDefault(),a()},disabled:i,className:"h-12 flex-1 rounded-xl bg-red-600 text-[10px] font-black uppercase tracking-widest text-white shadow-lg shadow-red-600/20 transition-all hover:bg-red-700 active:scale-95 dark:bg-red-600 dark:hover:bg-red-700",children:i?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(me,{className:"animate-spin text-[10px]"}),"Processing"]}):"Confirm"})]})]})}),xi=()=>{var t,a;const[r,l]=e.useState(null),[i,n]=e.useState(null),[d,o]=e.useState(!1),[u,m]=e.useState(""),x=Pr({api:Ha.api_getUlbList,key:"api_getUlbList",options:{}}),p=Pr({api:Ga.ulbConfigurationList,key:`ulbConfig-${r}`,config:{ulbId:r},options:{enabled:!!r}}),h=((null==(t=null==x?void 0:x.data)?void 0:t.data)||[]).filter(e=>e.ulb_name.toLowerCase().includes(u.toLowerCase())),g=(null==(a=null==p?void 0:p.data)?void 0:a.data)||null,f=e=>{n(e)},v=[{id:"hide-citizen",title:"Hide from Citizen Portal",description:"ULB will not be visible to citizens",icon:xe,color:"warning",action:()=>f({id:"hide-citizen",title:"Hide from Citizen Portal",description:"ULB will not be visible to citizens",icon:xe,color:"warning"})},{id:"hide-admin",title:"Hide from Admin Panel",description:"ULB will not appear in admin listings",icon:O,color:"warning",action:()=>f({id:"hide-admin",title:"Hide from Admin Panel",description:"ULB will not appear in admin listings",icon:O,color:"warning"})},{id:"disable-login",title:"Disable Login Access",description:"Prevent all users from signing into this ULB",icon:pe,color:"danger",action:()=>f({id:"disable-login",title:"Disable Login Access",description:"Prevent all users from signing into this ULB",icon:pe,color:"danger"})},{id:"deactivate",title:"Emergency Deactivation",description:"Immediately suspend all ULB services and access",icon:ue,color:"danger",action:()=>f({id:"deactivate",title:"Emergency Deactivation",description:"Immediately suspend all ULB services and access",icon:ue,color:"danger"})}];return r?p.isLoading||!g?s.jsxs("div",{className:"flex h-screen w-full flex-col items-center justify-center gap-6 bg-slate-50 dark:bg-[#0a0a0a]",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"h-24 w-24 animate-spin rounded-full border-4 border-slate-200 border-t-primary"}),s.jsx(Y,{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 text-primary",size:24})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl font-black tracking-tight text-slate-800 dark:text-white",children:"Configuring Municipal Data"}),s.jsx("p",{className:"text-xs font-bold uppercase tracking-[0.3em] text-slate-400",children:"Matrix Initializing..."})]})]}):s.jsxs(S.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-screen overflow-x-hidden bg-slate-50 pb-20 transition-colors duration-500 dark:bg-[#0a0a0a] rounded-2xl",children:[s.jsx(Wl,{ulbName:g.basic_information.ulb_name,logo:g.basic_information.logo,progress:90,onBack:()=>l(null)}),s.jsxs("main",{className:"relative z-20 -mt-10 space-y-8",children:[s.jsx($l,{data:g}),s.jsxs("div",{className:"mx-auto flex max-w-7xl flex-col gap-10",children:[s.jsx(Vl,{data:g.basic_information}),s.jsx(ei,{globalMaster:g.global_master,ulbId:g.basic_information.id}),s.jsx(ti,{actions:v})]})]}),s.jsx(mi,{open:!!i,onOpenChange:e=>!e&&n(null),onConfirm:()=>{i&&(o(!0),setTimeout(()=>{o(!1),n(null),c.success(`${i.title} executed successfully!`,{icon:"",style:{borderRadius:"15px",background:"#1e293b",color:"#fff",fontWeight:"bold",fontSize:"12px"}})},2e3))},title:(null==i?void 0:i.title)||"Confirm Action",description:`Are you absolutely sure you want to perform "${null==i?void 0:i.title}"? This is an administrative operation that may affect production data and user access.`,isSaving:d})]}):s.jsx("div",{className:"min-h-screen bg-slate-50 p-8 dark:bg-[#0a0a0a] ",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mx-auto max-w-4xl ",children:[s.jsxs("div",{className:"mb-8 text-center ",children:[s.jsx("h1",{className:"mb-3 text-4xl font-black tracking-tight text-slate-800 dark:text-white",children:"Select ULB for Configuration"}),s.jsx("p",{className:"text-lg font-medium text-slate-500 dark:text-slate-400",children:"Choose a municipality to manage its core settings and masters"})]}),s.jsx(Rr,{className:"overflow-hidden border-none bg-white shadow-2xl dark:bg-slate-900",children:s.jsxs(Mr,{className:"p-6",children:[s.jsxs("div",{className:"relative mb-8",children:[s.jsx(C,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),s.jsx("input",{type:"text",placeholder:"Search by ULB name...",value:u,onChange:e=>m(e.target.value),className:"h-14 w-full rounded-2xl border-none bg-slate-100 pl-12 pr-6 text-base font-bold text-slate-700 outline-none ring-2 ring-transparent transition-all focus:bg-white focus:ring-primary/20 dark:bg-slate-800 dark:text-slate-200 dark:focus:bg-slate-800/50"})]}),x.isLoading?s.jsxs("div",{className:"flex h-64 flex-col items-center justify-center gap-4",children:[s.jsx(qr,{}),s.jsx("p",{className:"text-sm font-black uppercase tracking-widest text-slate-400",children:"Loading your municipalities..."})]}):s.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[s.jsx(P,{children:h.map((e,t)=>s.jsxs(S.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*t},whileHover:{scale:1.02,x:5},whileTap:{scale:.98},onClick:()=>l(e.id),className:"group flex cursor-pointer items-center gap-4 rounded-2xl border border-slate-100 bg-slate-50/50 p-5 transition-all hover:border-primary/20 hover:bg-white hover:shadow-xl dark:border-slate-800 dark:bg-slate-800/30",children:[s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-white text-slate-400 shadow-sm transition-all group-hover:bg-primary group-hover:text-white dark:bg-slate-700",children:s.jsx(Y,{size:18})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-sm font-black tracking-tight text-slate-800 group-hover:text-primary dark:text-slate-200",children:e.ulb_name}),s.jsxs("div",{className:"mt-1 flex items-center gap-1.5 text-[10px] font-bold text-slate-400",children:[s.jsx(X,{size:10}),s.jsx("span",{children:"Select to configure"})]})]})]},e.id))}),0===h.length&&s.jsx("div",{className:"col-span-full py-12 text-center",children:s.jsxs("p",{className:"text-lg font-bold text-slate-400",children:['No results found for "',u,'"']})})]})]})})]})})};function pi(){return s.jsx(Lr,{title:"ULB Master Data",subTitle:"Control all ULB Master Data here",children:s.jsx(xi,{})})}const hi=aa().shape({id:la().nullable(),ulbName:la().required("Ulb Name is required"),ulbType:la().required("Ulb Type is required"),remarks:la().nullable(),cityId:ia().typeError("City Id must be a number").required("City Id is required"),incorporationDate:la().required("Incorporation Date is required"),departmentId:ia().typeError("Department Id must be a number").required("Department Id is required"),districtCode:la().required("District Code is required"),category:la().required("Category is required"),code:la().required("Code is required"),shortName:la().required("Short Name is required"),tollFreeNo:la().required("Toll Free No is required"),currentWebsite:la().url("Enter a valid URL").required("Current Website is required"),parentWebsite:la().url("Enter a valid URL").required("Parent Website is required"),email:la().email("Enter a valid email").required("Email is required"),mobileNo:la().matches(/^\d{10}$/,"Mobile number must be 10 digits").required("Mobile No is required"),stateId:ia().typeError("State ID must be a number").required("State ID is required"),districtId:ia().typeError("District ID must be a number").required("District ID is required"),associationWith:la().required("Association With is required"),latitude:la().required("Latitude is required"),longitude:la().required("Longitude is required")});function gi({open:t,setOpen:a,title:r,edit:l,setEdit:i,editData:n,refetch:d}){const o=Ir({}),u=w({defaultValues:{id:"",ulbName:"",ulbType:"",remarks:"",cityId:void 0,incorporationDate:"",departmentId:void 0,districtCode:"",category:"",code:"",shortName:"",tollFreeNo:"",currentWebsite:"",parentWebsite:"",email:"",mobileNo:"",stateId:void 0,districtId:void 0,associationWith:"",latitude:"",longitude:""},resolver:k(hi)}),{reset:m}=u;e.useEffect(()=>{t&&m(l&&n?{id:(null==n?void 0:n.id)||"",ulbName:(null==n?void 0:n.ulb_name)||"",ulbType:(null==n?void 0:n.ulb_type)||"",remarks:(null==n?void 0:n.remarks)||"",cityId:Number(null==n?void 0:n.city_id)||0,incorporationDate:(null==n?void 0:n.incorporation_date)||"",departmentId:Number(null==n?void 0:n.department_id)||0,districtCode:(null==n?void 0:n.district_code)||"",category:(null==n?void 0:n.category)||"",code:(null==n?void 0:n.code)||"",shortName:(null==n?void 0:n.short_name)||"",tollFreeNo:(null==n?void 0:n.toll_free_no)||"",currentWebsite:(null==n?void 0:n.current_website)||"",parentWebsite:(null==n?void 0:n.parent_website)||"",email:(null==n?void 0:n.email)||"",mobileNo:(null==n?void 0:n.mobile_no)||"",stateId:Number(null==n?void 0:n.state_id)||0,districtId:Number(null==n?void 0:n.district_id)||0,associationWith:(null==n?void 0:n.association_with)||"",latitude:(null==n?void 0:n.latitude)||"",longitude:(null==n?void 0:n.longitude)||""}:{id:"",ulbName:"",ulbType:"",remarks:"",cityId:void 0,incorporationDate:"",departmentId:void 0,districtCode:"",category:"",code:"",shortName:"",tollFreeNo:"",currentWebsite:"",parentWebsite:"",email:"",mobileNo:"",stateId:void 0,districtId:void 0,associationWith:"",latitude:"",longitude:""})},[t,l,n,m]);return s.jsx(_l,{open:t,setOpen:a,title:r,setEdit:i,edit:l,children:s.jsx("div",{className:"p-1",children:s.jsx($r,{methods:u,onSubmit:u.handleSubmit(async e=>{var t,s,r;try{const u=l?null==Ha?void 0:Ha.api_updateUlb:null==Ha?void 0:Ha.api_PostUlb,m={...e,isSuspended:!1,id:(null==n?void 0:n.id)||""},x=await o.mutateAsync({api:u,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||(l?"ULB Account updated successfully":"ULB Account created successfully")),a(!1),i&&i(!1),d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(u){c.error(Ya(u))}}),children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsx("div",{className:"max-h-[60vh] overflow-y-auto px-1",children:s.jsxs("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"flex items-center gap-2 border-b pb-2 text-sm font-bold uppercase tracking-wider text-muted-foreground",children:[s.jsx(Y,{className:"text-primary"})," Basic Information"]}),s.jsx(Hr,{label:"Ulb Name",name:"ulbName",placeholder:"e.g. Deoghar Municipal Corporation"}),s.jsx(Hr,{label:"Ulb Type",name:"ulbType",placeholder:"e.g. Municipal Corporation"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Hr,{label:"Short Name",name:"shortName",placeholder:"DMC"}),s.jsx(Hr,{label:"Code",name:"code",placeholder:"e.g. DMC001"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Hr,{label:"Category",name:"category",placeholder:"e.g. Urban"}),s.jsx(Hr,{label:"City Id",name:"cityId",type:"number",placeholder:"12"})]}),s.jsx(Hr,{label:"Incorporation Date",name:"incorporationDate",type:"date"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"flex items-center gap-2 border-b pb-2 text-sm font-bold uppercase tracking-wider text-muted-foreground",children:[s.jsx(he,{className:"text-primary"})," Remarks & Info"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Hr,{label:"Remarks",name:"remarks",placeholder:"Special notes..."}),s.jsx(Hr,{label:"Association With",name:"associationWith",placeholder:"State Government"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"flex items-center gap-2 border-b pb-2 text-sm font-bold uppercase tracking-wider text-muted-foreground",children:[s.jsx(ae,{className:"text-primary"})," Contact & Web"]}),s.jsx(Hr,{label:"Email Address",name:"email",placeholder:"contact@deoghar.gov.in"}),s.jsx(Hr,{label:"Mobile No",name:"mobileNo",placeholder:"9876543210"}),s.jsx(Hr,{label:"Toll Free No",name:"tollFreeNo",placeholder:"1800123456"}),s.jsx(Hr,{label:"Current Website",name:"currentWebsite",placeholder:"https://deoghar.gov.in"}),s.jsx(Hr,{label:"Parent Website",name:"parentWebsite",placeholder:"https://jharkhand.gov.in"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"flex items-center gap-2 border-b pb-2 text-sm font-bold uppercase tracking-wider text-muted-foreground",children:[s.jsx(X,{className:"text-primary"})," Regional Information"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Hr,{label:"State ID",name:"stateId",type:"number",placeholder:"20"}),s.jsx(Hr,{label:"District ID",name:"districtId",type:"number",placeholder:"5"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Hr,{label:"District Code",name:"districtCode",placeholder:"e.g. DGHR"}),s.jsx(Hr,{label:"Dept Id",name:"departmentId",type:"number",placeholder:"3"})]})]}),s.jsxs("div",{className:"space-y-4 md:col-span-2",children:[s.jsxs("h4",{className:"flex items-center gap-2 border-b pb-2 text-sm font-bold uppercase tracking-wider text-muted-foreground",children:[s.jsx(ge,{className:"text-primary"})," Location Coordinates"]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[s.jsx(Hr,{label:"Latitude",name:"latitude",placeholder:"24.4850"}),s.jsx(Hr,{label:"Longitude",name:"longitude",placeholder:"86.6950"})]})]})]})}),s.jsx("div",{className:"flex items-center justify-end gap-3 border-t pt-4",children:s.jsx(Zr,{isLoading:u.formState.isSubmitting,type:"submit",className:"h-12 rounded-xl bg-primary px-10 text-sm font-bold text-primary-foreground shadow-lg shadow-primary/25 transition-all hover:bg-primary/95 hover:shadow-xl active:scale-[0.98]",children:l?"Update ULB Account":"Create ULB Account"})})]})})})})}function fi(){var t,a;const r=m(),[l,i]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),x=e.useRef(null),[p,h]=e.useState(!1),[g,f]=e.useState(!1),[v,b]=e.useState(null);e.useEffect(()=>{const e=e=>{var t;!e.altKey||"s"!==e.key&&"S"!==e.key||(e.preventDefault(),e.stopPropagation(),null==(t=x.current)||t.focus())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]);const j=Pr({api:null==Ga?void 0:Ga.getAllJuidcoUlbList,key:"ulbLists",options:{enabled:!0}}),y=[{key:"permitted-module",label:"Permitted Module",icon:s.jsx(Y,{className:"h-4 w-4"}),color:"bg-blue-600/10 hover:bg-blue-600/20 text-blue-600 border-blue-600/20"},{key:"user-list",label:"User List",icon:s.jsx(U,{className:"h-4 w-4"}),color:"bg-emerald-600/10 hover:bg-emerald-600/20 text-emerald-600 border-emerald-600/20"},{key:"admin-list",label:"Admin List",icon:s.jsx(K,{className:"h-4 w-4"}),color:"bg-violet-600/10 hover:bg-violet-600/20 text-violet-600 border-violet-600/20"}],N=Ir({}),w=(null==(a=null==(t=null==j?void 0:j.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=null==e?void 0:e.ulb_name)?void 0:t.toLowerCase().includes(o.toLowerCase())}))||[],k=l*n,_=k-n,A=null==w?void 0:w.slice(_,k);return s.jsxs("div",{className:"",children:[s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(Rr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"ULB Management"}),s.jsxs("div",{className:"inline-block rounded-full bg-blue-600/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-blue-600",children:[w.length," ULBs Found"]})]})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{ref:x,type:"text",placeholder:"Search ULB name...",value:o,onChange:e=>{u(e.target.value),i(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-20 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"}),s.jsx("div",{className:"absolute right-2.5 hidden items-center gap-1 sm:flex",children:s.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[s.jsx("span",{className:"text-xs",children:"Alt"}),"S"]})})]}),s.jsxs(Sa,{type:"button",onClick:()=>{b(null),f(!1),h(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New ULB"]})]})]})}),s.jsxs(Mr,{className:"p-0",children:[j.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(qr,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading ULBs..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(Tr,{children:[s.jsx(Ur,{children:s.jsxs(Fr,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(Br,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(Br,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"ULB Name"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Enable/Disable"})]})}),s.jsx(zr,{children:s.jsx(P,{children:A.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(Or,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:_+t+1})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-blue-600/10 transition-colors group-hover/row:bg-blue-600/20",children:s.jsx(Y,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.ulb_name}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(Or,{className:"py-4 text-center",children:s.jsxs("span",{className:ma("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",e.active_status?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[e.active_status?s.jsx(B,{className:"h-3 w-3"}):s.jsx(F,{className:"h-3 w-3"}),e.active_status?"Active":"Disabled"]})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[y.map(t=>s.jsxs(Sa,{variant:"outline",size:"sm",onClick:()=>{r(`/project-config/dashboard/ulb-list/${t.key}?ulb_name=${null==e?void 0:e.ulb_name}&ulb_id=${null==e?void 0:e.id}`)},className:ma("flex items-center gap-2 border-0 transition-all hover:scale-105",t.color),children:[t.icon,s.jsx("span",{className:"hidden sm:inline",children:t.label})]},t.key)),s.jsx("div",{className:"mx-2 h-6 w-[1px] bg-border"}),s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>(e=>{b(e),f(!0),h(!0)})(e),className:"h-8 w-8 text-blue-600 hover:bg-blue-600/10 hover:text-blue-700",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>(async e=>{jr("Are you sure?","Do you want to delete this ULB?",async()=>{var t,s,a;try{const r=await N.mutateAsync({api:Ha.api_deleteUlb,data:{id:e}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"ULB deleted successfully"),j.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete ULB")}catch(r){c.error(Ya(r))}})})(e.id),className:"h-8 w-8 text-red-600 hover:bg-red-600/10 hover:text-red-700",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(Or,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(rl,{checked:e.active_status,onCheckedChange:()=>(async(e,t)=>{var s,a,r;try{const l={id:e,status:t?1:0},i=await N.mutateAsync({api:null==Ga?void 0:Ga.ulbEnableDisable,data:l});(null==(s=null==i?void 0:i.data)?void 0:s.status)?(c.success((null==(a=null==i?void 0:i.data)?void 0:a.message)||"ULB status updated successfully"),j.refetch()):c.error((null==(r=null==i?void 0:i.data)?void 0:r.message)||"Failed to update ULB status")}catch(l){c.error(Ya(l))}})(e.id,!e.active_status)})})})]},e.id))})})]}),w.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(Wr,{currentPage:l,totalItems:w.length,itemsPerPage:n,onPageChange:e=>{i(e)},onItemsPerPageChange:e=>{d(e),i(1)}})})]}),!j.isLoading&&0===w.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Y,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No ULBs found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No Urban Local Bodies have been added yet."})]})]})]})}),s.jsx(gi,{open:p,setOpen:h,edit:g,setEdit:f,editData:v,title:g?"Update ULB Details":"Add New ULB",refetch:()=>j.refetch()})]})}function vi(){return s.jsx(Lr,{title:"Manage All Ulb Here.",children:s.jsx(fi,{})})}function bi(t){var a,r;const[l,i]=e.useState(""),[n,d]=e.useState("all"),o=e.useRef(null),u=Ir({}),m=Pr({api:null==Ga?void 0:Ga.getServicesByUlbModule,key:"getServicesByUlbModule",config:{ulbId:null==t?void 0:t.ulbId,moduleId:null==t?void 0:t.moduleId},options:{enabled:!!(null==t?void 0:t.ulbId)&&!!(null==t?void 0:t.moduleId)}});e.useEffect(()=>{const e=e=>{var t;!e.altKey||"s"!==e.key&&"S"!==e.key||(e.preventDefault(),e.stopPropagation(),null==(t=o.current)||t.focus())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]);const x=(null==(r=null==(a=null==m?void 0:m.data)?void 0:a.data)?void 0:r.filter(e=>{var t;return null==(t=e.services)?void 0:t.toLowerCase().includes(l.toLowerCase())}))||[],p=x.filter(e=>"active"===n?!0===e.permission_status:"inactive"!==n||!1===e.permission_status),h=x.filter(e=>e.permission_status).length,g=x.filter(e=>!e.permission_status).length;return s.jsxs("div",{className:"flex flex-col gap-6 p-4",children:[s.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-primary/10 text-primary",children:s.jsx(ce,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Service Restrictions"}),s.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:"Manage access to specific services with quick toggle"})]})]}),s.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[s.jsxs("div",{className:"flex items-center gap-2 rounded-xl border bg-muted/30 p-1",children:[s.jsxs(Sa,{variant:"ghost",size:"sm",onClick:()=>d("all"),className:ma("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","all"===n?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[s.jsx(W,{className:"h-3 w-3"}),"All (",x.length,")"]}),s.jsxs(Sa,{variant:"ghost",size:"sm",onClick:()=>d("active"),className:ma("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","active"===n?"bg-primary text-white shadow-sm hover:bg-primary":"text-muted-foreground hover:text-foreground"),children:[s.jsx(B,{className:"h-3 w-3"}),"Restricted (",h,")"]}),s.jsxs(Sa,{variant:"ghost",size:"sm",onClick:()=>d("inactive"),className:ma("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","inactive"===n?"bg-muted text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[s.jsx(F,{className:"h-3 w-3"}),"Allowed (",g,")"]})]}),s.jsxs("div",{className:"relative flex items-center",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{ref:o,type:"text",placeholder:"Search services...",value:l,onChange:e=>i(e.target.value),className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-20 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20 sm:w-64"}),s.jsx("div",{className:"absolute right-2.5 hidden items-center gap-1 sm:flex",children:s.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[s.jsx("span",{className:"text-xs",children:"Alt"}),"S"]})})]})]})]}),m.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(qr,{}),s.jsx("p",{className:"mt-4 text-xs font-medium text-muted-foreground",children:"Loading services..."})]})}):s.jsx(s.Fragment,{children:0===p.length?s.jsx(Rr,{className:"overflow-hidden rounded-2xl border bg-card shadow-sm",children:s.jsx(Mr,{className:"p-12",children:s.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[s.jsx("div",{className:"mb-3 flex h-16 w-16 items-center justify-center rounded-full bg-muted/50",children:s.jsx(ce,{className:"h-8 w-8 text-muted-foreground/30"})}),s.jsx("h4",{className:"text-sm font-bold text-foreground",children:"No services found"}),s.jsx("p",{className:"text-[11px] text-muted-foreground",children:l||"all"!==n?"Try adjusting your filters or search criteria":"No services available for this module"})]})})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:s.jsx(P,{mode:"popLayout",children:p.map((e,a)=>{const r=e.permission_status;return s.jsx(S.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2,delay:.02*a},children:s.jsx(Rr,{className:ma("group overflow-hidden rounded-xl border transition-all hover:shadow-md",r?"border-primary/20 bg-primary/5":"border-border bg-card hover:border-primary/30"),children:s.jsx(Mr,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("div",{className:ma("flex h-10 w-10 items-center justify-center rounded-lg transition-all",r?"bg-primary/20 text-primary":"bg-muted text-muted-foreground group-hover:bg-primary/10 group-hover:text-primary"),children:r?s.jsx(B,{className:"h-5 w-5"}):s.jsx(F,{className:"h-5 w-5"})}),s.jsx(rl,{checked:r,onCheckedChange:s=>(async(e,s)=>{var a,r,l;try{const i={ulbId:null==t?void 0:t.ulbId,moduleId:null==t?void 0:t.moduleId,serviceList:[{permissionStatus:s,serviceId:e}]},n=await u.mutateAsync({api:null==Ga?void 0:Ga.addRemoveServiceByUlbModule,data:i});(null==(a=null==n?void 0:n.data)?void 0:a.status)?(c.success((null==(r=null==n?void 0:n.data)?void 0:r.message)||"Permission updated successfully"),m.refetch()):c.error((null==(l=null==n?void 0:n.data)?void 0:l.message)||"Failed to update permission")}catch(i){c.error(Ya(i))}})(e.id,s),disabled:u.isPending,className:"data-[state=checked]:bg-primary"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"line-clamp-2 text-sm font-bold text-foreground",children:e.services}),s.jsx("p",{className:"mt-1 font-mono text-[10px] text-muted-foreground",children:e.path})]}),s.jsx("div",{children:s.jsx("span",{className:ma("text-[10px] font-bold uppercase tracking-wider",r?"text-primary":"text-muted-foreground"),children:r?"Restricted":"Allowed"})})]})})})},e.id)})})}),s.jsxs("div",{className:"flex flex-col gap-2 rounded-xl border bg-muted/20 px-4 py-3 sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("span",{className:"text-xs font-bold uppercase tracking-widest text-muted-foreground",children:["Showing: ",p.length," of ",x.length," ","Services"]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-primary"}),s.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Restricted: ",h]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-muted-foreground"}),s.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Allowed: ",g]})]})]})]})]})})]})}function ji(){var t,a;const r=m(),[l]=_(),i=l.get("ulb_id"),n=l.get("ulb_name"),[d,o]=e.useState(""),[u,x]=e.useState("all"),p=e.useRef(null),[h,g]=e.useState(!1),[f,v]=e.useState(null),[b,j]=e.useState(""),y=Ir({}),N=Pr({api:null==Ga?void 0:Ga.getModuleByUlbId,key:"permittedModuleListByUlb",config:{ulbId:i},options:{enabled:!!i}});e.useEffect(()=>{const e=e=>{var t;!e.altKey||"s"!==e.key&&"S"!==e.key||(e.preventDefault(),e.stopPropagation(),null==(t=p.current)||t.focus())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]);const w=(null==(a=null==(t=null==N?void 0:N.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=e.module_name)?void 0:t.toLowerCase().includes(d.toLowerCase())}))||[],k=w.filter(e=>"active"===u?!0===e.permission_status:"inactive"!==u||!1===e.permission_status),L=w.filter(e=>e.permission_status).length,I=w.filter(e=>!e.permission_status).length;return s.jsxs("div",{children:[s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(Rr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Sa,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Permitted Modules"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:["ULB:"," ",s.jsx("span",{className:"font-semibold text-purple-600",children:n})]}),s.jsxs("div",{className:"inline-block rounded-full bg-purple-600/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-purple-600",children:[w.length," Modules"]})]})]})]}),s.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[s.jsxs("div",{className:"flex items-center gap-2 rounded-xl border bg-muted/30 p-1",children:[s.jsxs(Sa,{variant:"ghost",size:"sm",onClick:()=>x("all"),className:ma("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","all"===u?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[s.jsx(W,{className:"h-3 w-3"}),"All (",w.length,")"]}),s.jsxs(Sa,{variant:"ghost",size:"sm",onClick:()=>x("active"),className:ma("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","active"===u?"bg-purple-600 text-white shadow-sm hover:bg-purple-600":"text-muted-foreground hover:text-foreground"),children:[s.jsx(B,{className:"h-3 w-3"}),"Active (",L,")"]}),s.jsxs(Sa,{variant:"ghost",size:"sm",onClick:()=>x("inactive"),className:ma("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","inactive"===u?"bg-muted text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[s.jsx(F,{className:"h-3 w-3"}),"Inactive (",I,")"]})]}),s.jsxs("div",{className:"relative flex items-center",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{ref:p,type:"text",placeholder:"Search modules...",value:d,onChange:e=>o(e.target.value),className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-20 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20 sm:w-64"}),s.jsx("div",{className:"absolute right-2.5 hidden items-center gap-1 sm:flex",children:s.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[s.jsx("span",{className:"text-xs",children:"Alt"}),"S"]})})]})]})]})}),s.jsx(Mr,{className:"p-6",children:N.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(qr,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading modules..."})]})}):s.jsx(s.Fragment,{children:0===k.length?s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(ce,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No modules found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:d||"all"!==u?"Try adjusting your filters or search criteria":"No modules available for this ULB yet."})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:s.jsx(P,{mode:"popLayout",children:k.map((e,t)=>{const a=e.permission_status;return s.jsx(S.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2,delay:.02*t},children:s.jsx(Rr,{className:ma("group overflow-hidden rounded-xl border transition-all hover:shadow-md",a?"border-purple-500/20 bg-purple-500/5":"border-border bg-card hover:border-primary/30"),children:s.jsx(Mr,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("div",{className:ma("flex h-10 w-10 items-center justify-center rounded-lg transition-all",a?"bg-purple-500/20 text-purple-600":"bg-muted text-muted-foreground group-hover:bg-primary/10 group-hover:text-primary"),children:s.jsx(ce,{className:"h-5 w-5"})}),s.jsx(rl,{checked:a,onCheckedChange:t=>(async(e,t)=>{var s,a,r;try{const l={ulbId:i,moduleList:[{permissionStatus:t,moduleId:e}]},n=await y.mutateAsync({api:null==Ga?void 0:Ga.addRemoveModuleToUlb,data:l});(null==(s=null==n?void 0:n.data)?void 0:s.status)?(c.success((null==(a=null==n?void 0:n.data)?void 0:a.message)||"Permission updated successfully"),N.refetch()):c.error((null==(r=null==n?void 0:n.data)?void 0:r.message)||"Failed to update permission")}catch(l){c.error(Ya(l))}})(e.id,t),disabled:y.isPending,className:"data-[state=checked]:bg-purple-600"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"line-clamp-2 text-sm font-bold text-foreground",children:e.module_name}),s.jsx("p",{className:"mt-1 font-mono text-[10px] text-muted-foreground",children:e.url||"/"})]}),s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsx("span",{className:ma("text-[10px] font-bold uppercase tracking-wider",a?"text-purple-600":"text-muted-foreground"),children:a?"Active":"Inactive"}),a&&s.jsxs(Sa,{variant:"ghost",size:"sm",onClick:()=>{return v(t=e),j(t.id),void g(!0);var t},className:"h-7 gap-1 px-2 text-[10px] font-bold text-primary hover:bg-primary/10",children:[s.jsx(O,{className:"h-3 w-3"}),"Services"]})]})]})})})},e.id)})})}),s.jsxs("div",{className:"mt-6 flex flex-col gap-2 rounded-xl border bg-muted/20 px-4 py-3 sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("span",{className:"text-xs font-bold uppercase tracking-widest text-muted-foreground",children:["Showing: ",k.length," of"," ",w.length," Modules"]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-purple-500"}),s.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Active: ",L]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-muted-foreground"}),s.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Inactive: ",I]})]})]})]})]})})})]})}),s.jsx(Nr,{open:h,onOpenChange:g,children:s.jsxs(_r,{className:"flex h-[80%] w-[70%] mx-auto my-auto max-w-none flex-col overflow-hidden rounded-none border-gray-600 p-0 shadow-none duration-0",children:[s.jsx(Sr,{className:"shrink-0 border-b bg-muted/30 px-8 py-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(Sa,{variant:"ghost",size:"sm",onClick:()=>g(!1),className:"flex h-10 items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsx("div",{className:"rounded-xl bg-primary/10 p-3 text-primary ring-1 ring-primary/20",children:s.jsx(ce,{size:24})}),s.jsxs("div",{children:[s.jsx(Ar,{className:"text-2xl font-black tracking-tight text-foreground",children:"Service Management"}),s.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[s.jsxs("span",{className:"text-xs font-bold uppercase tracking-widest text-muted-foreground",children:["ULB: ",s.jsx("span",{className:"text-primary",children:n})]}),s.jsx("div",{className:"h-1 w-1 rounded-full bg-muted-foreground/30"}),s.jsxs("span",{className:"text-xs font-bold uppercase tracking-widest text-muted-foreground",children:["Module:"," ",s.jsx("span",{className:"text-primary",children:null==f?void 0:f.module_name})]})]})]})]})}),s.jsx("div",{className:"flex-1 overflow-auto px-8 py-6",children:s.jsxs(Hl,{defaultValue:"restricted",className:"w-full",children:[s.jsx(Zl,{className:"mb-6 h-12 rounded-xl bg-muted p-1",children:s.jsx(Gl,{value:"restricted",className:"rounded-lg px-8 py-2 text-xs font-black uppercase tracking-widest data-[state=active]:bg-background data-[state=active]:text-primary data-[state=active]:shadow-sm",children:"Restricted Services"})}),s.jsx(Kl,{value:"restricted",className:"mt-0 transition-all",children:s.jsx("div",{className:"overflow-hidden rounded-2xl border bg-card shadow-sm",children:s.jsx(bi,{ulbId:i,moduleId:b,viewService:f})})})]})})]})})]})}function yi(){return s.jsx(Lr,{title:"Manage All Ulb Here.",children:s.jsx(ji,{})})}function Ni(t){var a,r;const[l,i]=e.useState(""),[n,d]=e.useState("all"),o=e.useRef(null),u=Ir({}),m=Pr({api:null==Ga?void 0:Ga.userPermittedRoles,key:"userPermittedRoles",config:{userId:null==t?void 0:t.id},options:{enabled:!0}});e.useEffect(()=>{const e=e=>{var t;!e.altKey||"s"!==e.key&&"S"!==e.key||(e.preventDefault(),e.stopPropagation(),null==(t=o.current)||t.focus())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]);const x=(null==(r=null==(a=null==m?void 0:m.data)?void 0:a.data)?void 0:r.filter(e=>e.menu_role_name.toLowerCase().includes(l.toLowerCase())))||[],p=x.filter(e=>"active"===n?!0===e.permission_status:"inactive"!==n||!1===e.permission_status),h=x.filter(e=>e.permission_status).length,g=x.filter(e=>!e.permission_status).length;return s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-blue-600/10 text-blue-600",children:s.jsx(K,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Role Permissions"}),s.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:"Manage menu access roles with quick toggle"})]})]}),s.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[s.jsxs("div",{className:"flex items-center gap-2 rounded-xl border bg-muted/30 p-1",children:[s.jsxs(Sa,{variant:"ghost",size:"sm",onClick:()=>d("all"),className:ma("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","all"===n?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[s.jsx(W,{className:"h-3 w-3"}),"All (",x.length,")"]}),s.jsxs(Sa,{variant:"ghost",size:"sm",onClick:()=>d("active"),className:ma("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","active"===n?"bg-green-600 text-white shadow-sm hover:bg-green-600":"text-muted-foreground hover:text-foreground"),children:[s.jsx(B,{className:"h-3 w-3"}),"Active (",h,")"]}),s.jsxs(Sa,{variant:"ghost",size:"sm",onClick:()=>d("inactive"),className:ma("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","inactive"===n?"bg-muted text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[s.jsx(F,{className:"h-3 w-3"}),"Inactive (",g,")"]})]}),s.jsxs("div",{className:"relative flex items-center",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{ref:o,type:"text",placeholder:"Search roles...",value:l,onChange:e=>i(e.target.value),className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-20 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20 sm:w-64"}),s.jsx("div",{className:"absolute right-2.5 hidden items-center gap-1 sm:flex",children:s.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[s.jsx("span",{className:"text-xs",children:"Alt"}),"S"]})})]})]})]}),m.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(qr,{}),s.jsx("p",{className:"mt-4 text-xs font-medium text-muted-foreground",children:"Loading permissions..."})]})}):s.jsx(s.Fragment,{children:0===p.length?s.jsx(Rr,{className:"overflow-hidden rounded-2xl border bg-card shadow-sm",children:s.jsx(Mr,{className:"p-12",children:s.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[s.jsx("div",{className:"mb-3 flex h-16 w-16 items-center justify-center rounded-full bg-muted/50",children:s.jsx(K,{className:"h-8 w-8 text-muted-foreground/30"})}),s.jsx("h4",{className:"text-sm font-bold text-foreground",children:"No roles found"}),s.jsx("p",{className:"text-[11px] text-muted-foreground",children:l||"all"!==n?"Try adjusting your filters or search criteria":"No roles available for this user"})]})})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:s.jsx(P,{mode:"popLayout",children:p.map((e,a)=>{const r=e.permission_status;return s.jsx(S.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2,delay:.02*a},children:s.jsx(Rr,{className:ma("group overflow-hidden rounded-xl border transition-all hover:shadow-md",r?"border-green-500/20 bg-green-500/5":"border-border bg-card hover:border-primary/30"),children:s.jsx(Mr,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("div",{className:ma("flex h-10 w-10 items-center justify-center rounded-lg transition-all",r?"bg-green-500/20 text-green-600":"bg-muted text-muted-foreground group-hover:bg-primary/10 group-hover:text-primary"),children:r?s.jsx(B,{className:"h-5 w-5"}):s.jsx(F,{className:"h-5 w-5"})}),s.jsx(rl,{checked:r,onCheckedChange:s=>(async(e,s)=>{var a,r,l;try{const i={userId:null==t?void 0:t.id,permissionStatus:s,menuRoleId:e},n=await u.mutateAsync({api:null==Ga?void 0:Ga.addMenuRoleUser,data:i});(null==(a=null==n?void 0:n.data)?void 0:a.status)?(c.success((null==(r=null==n?void 0:n.data)?void 0:r.message)||"Permission updated successfully"),m.refetch()):c.error((null==(l=null==n?void 0:n.data)?void 0:l.message)||"Failed to update permission")}catch(i){c.error(Ya(i))}})(e.id,s),disabled:u.isPending,className:"data-[state=checked]:bg-green-600"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"line-clamp-2 text-sm font-bold text-foreground",children:e.menu_role_name}),s.jsx("p",{className:ma("mt-1 text-[10px] font-bold uppercase tracking-wider",r?"text-green-600":"text-muted-foreground"),children:r?"Active":"Inactive"})]})]})})})},e.id)})})}),s.jsxs("div",{className:"flex flex-col gap-2 rounded-xl border bg-muted/20 px-4 py-3 sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("span",{className:"text-xs font-bold uppercase tracking-widest text-muted-foreground",children:["Showing: ",p.length," of ",x.length," ","Roles"]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500"}),s.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Active: ",h]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-muted-foreground"}),s.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Inactive: ",g]})]})]})]})]})})]})}function wi(t){var a,r;const[l,i]=e.useState(""),[n,d]=e.useState("all"),o=e.useRef(null),u=Ir({}),m=Pr({api:null==Ga?void 0:Ga.permittedWardByUser,key:"permittedWardByUser",config:{userId:null==t?void 0:t.id},options:{enabled:!0}});e.useEffect(()=>{const e=e=>{var t;!e.altKey||"s"!==e.key&&"S"!==e.key||(e.preventDefault(),e.stopPropagation(),null==(t=o.current)||t.focus())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]);const x=(null==(r=null==(a=null==m?void 0:m.data)?void 0:a.data)?void 0:r.filter(e=>(null==e?void 0:e.ward_name)==l||""==l))||[],p=x.filter(e=>"active"===n?!0===e.permission_status:"inactive"!==n||!1===e.permission_status),h=x.filter(e=>e.permission_status).length,g=x.filter(e=>!e.permission_status).length,f=async e=>{var s,a,r;try{const l={userId:null==t?void 0:t.id,wardList:x.map(t=>({wardId:t.id,permissionStatus:e}))},i=await u.mutateAsync({api:null==Ga?void 0:Ga.addRemoveWard,data:l});(null==(s=null==i?void 0:i.data)?void 0:s.status)?(c.success((null==(a=null==i?void 0:i.data)?void 0:a.message)||(e?"Selected":"Removed")+" all wards successfully"),m.refetch()):c.error((null==(r=null==i?void 0:i.data)?void 0:r.message)||"Failed to update permissions")}catch(l){c.error(Ya(l))}};return s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-amber-600/10 text-amber-600",children:s.jsx(X,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Ward Permissions"}),s.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:"Manage geographical ward access with quick toggle"})]})]}),s.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Sa,{variant:"outline",size:"sm",className:"gap-2 border-emerald-600/20 bg-emerald-600/10 text-emerald-600 hover:bg-emerald-600 hover:text-white",onClick:()=>f(!0),disabled:u.isPending,children:[s.jsx(fe,{className:"h-3 w-3"}),"Select All"]}),s.jsxs(Sa,{variant:"outline",size:"sm",className:"gap-2 border-red-600/20 bg-red-600/10 text-red-600 hover:bg-red-600 hover:text-white",onClick:()=>f(!1),disabled:u.isPending,children:[s.jsx(ve,{className:"h-3 w-3"}),"Remove All"]})]}),s.jsxs("div",{className:"flex items-center gap-2 rounded-xl border bg-muted/30 p-1",children:[s.jsxs(Sa,{variant:"ghost",size:"sm",onClick:()=>d("all"),className:ma("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","all"===n?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[s.jsx(W,{className:"h-3 w-3"}),"All (",x.length,")"]}),s.jsxs(Sa,{variant:"ghost",size:"sm",onClick:()=>d("active"),className:ma("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","active"===n?"bg-green-600 text-white shadow-sm hover:bg-green-600":"text-muted-foreground hover:text-foreground"),children:[s.jsx(B,{className:"h-3 w-3"}),"Active (",h,")"]}),s.jsxs(Sa,{variant:"ghost",size:"sm",onClick:()=>d("inactive"),className:ma("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","inactive"===n?"bg-muted text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[s.jsx(F,{className:"h-3 w-3"}),"Inactive (",g,")"]})]}),s.jsxs("div",{className:"relative flex items-center",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{ref:o,type:"text",placeholder:"Search wards...",value:l,onChange:e=>i(e.target.value),className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-20 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20 sm:w-64"}),s.jsx("div",{className:"absolute right-2.5 hidden items-center gap-1 sm:flex",children:s.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[s.jsx("span",{className:"text-xs",children:"Alt"}),"S"]})})]})]})]}),m.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(qr,{}),s.jsx("p",{className:"mt-4 text-xs font-medium text-muted-foreground",children:"Loading permissions..."})]})}):s.jsx(s.Fragment,{children:0===p.length?s.jsx(Rr,{className:"overflow-hidden rounded-2xl border bg-card shadow-sm",children:s.jsx(Mr,{className:"p-12",children:s.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[s.jsx("div",{className:"mb-3 flex h-16 w-16 items-center justify-center rounded-full bg-muted/50",children:s.jsx(X,{className:"h-8 w-8 text-muted-foreground/30"})}),s.jsx("h4",{className:"text-sm font-bold text-foreground",children:"No wards found"}),s.jsx("p",{className:"text-[11px] text-muted-foreground",children:l||"all"!==n?"Try adjusting your filters or search criteria":"No wards available for this user"})]})})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:s.jsx(P,{mode:"popLayout",children:p.map((e,a)=>{const r=e.permission_status;return s.jsx(S.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2,delay:.02*a},children:s.jsx(Rr,{className:ma("group overflow-hidden rounded-xl border transition-all hover:shadow-md",r?"border-green-500/20 bg-green-500/5":"border-border bg-card hover:border-primary/30"),children:s.jsx(Mr,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("div",{className:ma("flex h-10 w-10 items-center justify-center rounded-lg transition-all",r?"bg-green-500/20 text-green-600":"bg-muted text-muted-foreground group-hover:bg-primary/10 group-hover:text-primary"),children:r?s.jsx(B,{className:"h-5 w-5"}):s.jsx(F,{className:"h-5 w-5"})}),s.jsx(rl,{checked:r,onCheckedChange:s=>(async(e,s)=>{var a,r,l;try{const i={userId:null==t?void 0:t.id,wardList:[{permissionStatus:s,wardId:e}]},n=await u.mutateAsync({api:null==Ga?void 0:Ga.addRemoveWard,data:i});(null==(a=null==n?void 0:n.data)?void 0:a.status)?(c.success((null==(r=null==n?void 0:n.data)?void 0:r.message)||"Permission updated successfully"),m.refetch()):c.error((null==(l=null==n?void 0:n.data)?void 0:l.message)||"Failed to update permission")}catch(i){c.error(Ya(i))}})(e.id,s),disabled:u.isPending,className:"data-[state=checked]:bg-green-600"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"line-clamp-2 text-sm font-bold text-foreground",children:e.ward_name}),s.jsx("p",{className:ma("mt-1 text-[10px] font-bold uppercase tracking-wider",r?"text-green-600":"text-muted-foreground"),children:r?"Active":"Inactive"})]})]})})})},e.id)})})}),s.jsxs("div",{className:"flex flex-col gap-2 rounded-xl border bg-muted/20 px-4 py-3 sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("span",{className:"text-xs font-bold uppercase tracking-widest text-muted-foreground",children:["Showing: ",p.length," of ",x.length," ","Wards"]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500"}),s.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Active: ",h]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-muted-foreground"}),s.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Inactive: ",g]})]})]})]})]})})]})}function ki(t){var a,r;const[l,i]=e.useState(""),[n,d]=e.useState("all"),o=e.useRef(null),u=Ir({}),m=Pr({api:null==Ga?void 0:Ga.workFlowRoleByUser,key:"permittedworkFlowRoleByUser",config:{userId:null==t?void 0:t.id},options:{enabled:!0}});e.useEffect(()=>{const e=e=>{var t;!e.altKey||"s"!==e.key&&"S"!==e.key||(e.preventDefault(),e.stopPropagation(),null==(t=o.current)||t.focus())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]);const x=(null==(r=null==(a=null==m?void 0:m.data)?void 0:a.data)?void 0:r.filter(e=>e.role_name.toLowerCase().includes(l.toLowerCase())))||[],p=x.filter(e=>"active"===n?!0===e.permission_status:"inactive"!==n||!1===e.permission_status),h=x.filter(e=>e.permission_status).length,g=x.filter(e=>!e.permission_status).length,f=async(e,s)=>{var a,r,l;try{const i={permissionStatus:s,userId:null==t?void 0:t.id,wfRoleId:e},n=await u.mutateAsync({api:null==Ga?void 0:Ga.AddRemoveWorkFlowRoleByUser,data:i});(null==(a=null==n?void 0:n.data)?void 0:a.status)?(c.success((null==(r=null==n?void 0:n.data)?void 0:r.message)||"Permission updated successfully"),m.refetch()):c.error((null==(l=null==n?void 0:n.data)?void 0:l.message)||"Failed to update permission")}catch(i){c.error(Ya(i))}};return s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-violet-600/10 text-violet-600",children:s.jsx(z,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Workflow Roles"}),s.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:"Assign process and approval roles with quick toggle"})]})]}),s.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[s.jsxs("div",{className:"flex items-center gap-2 rounded-xl border bg-muted/30 p-1",children:[s.jsxs(Sa,{variant:"ghost",size:"sm",onClick:()=>d("all"),className:ma("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","all"===n?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[s.jsx(W,{className:"h-3 w-3"}),"All (",x.length,")"]}),s.jsxs(Sa,{variant:"ghost",size:"sm",onClick:()=>d("active"),className:ma("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","active"===n?"bg-violet-600 text-white shadow-sm hover:bg-violet-600":"text-muted-foreground hover:text-foreground"),children:[s.jsx(B,{className:"h-3 w-3"}),"Active (",h,")"]}),s.jsxs(Sa,{variant:"ghost",size:"sm",onClick:()=>d("inactive"),className:ma("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","inactive"===n?"bg-muted text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[s.jsx(F,{className:"h-3 w-3"}),"Inactive (",g,")"]})]}),s.jsxs("div",{className:"relative flex items-center",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{ref:o,type:"text",placeholder:"Search workflow roles...",value:l,onChange:e=>i(e.target.value),className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-20 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20 sm:w-64"}),s.jsx("div",{className:"absolute right-2.5 hidden items-center gap-1 sm:flex",children:s.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[s.jsx("span",{className:"text-xs",children:"Alt"}),"S"]})})]})]})]}),m.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(qr,{}),s.jsx("p",{className:"mt-4 text-xs font-medium text-muted-foreground",children:"Loading permissions..."})]})}):s.jsx(s.Fragment,{children:0===p.length?s.jsx(Rr,{className:"overflow-hidden rounded-2xl border bg-card shadow-sm",children:s.jsx(Mr,{className:"p-12",children:s.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[s.jsx("div",{className:"mb-3 flex h-16 w-16 items-center justify-center rounded-full bg-muted/50",children:s.jsx(z,{className:"h-8 w-8 text-muted-foreground/30"})}),s.jsx("h4",{className:"text-sm font-bold text-foreground",children:"No workflow roles found"}),s.jsx("p",{className:"text-[11px] text-muted-foreground",children:l||"all"!==n?"Try adjusting your filters or search criteria":"No workflow roles available for this user"})]})})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:s.jsx(P,{mode:"popLayout",children:p.map((e,t)=>{const a=e.permission_status;return s.jsx(S.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2,delay:.02*t},children:s.jsx(Rr,{className:ma("group overflow-hidden rounded-xl border transition-all hover:shadow-md",a?"border-violet-500/20 bg-violet-500/5":"border-border bg-card hover:border-primary/30"),children:s.jsx(Mr,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("div",{className:ma("flex h-10 w-10 items-center justify-center rounded-lg transition-all",a?"bg-violet-500/20 text-violet-600":"bg-muted text-muted-foreground group-hover:bg-primary/10 group-hover:text-primary"),children:a?s.jsx(B,{className:"h-5 w-5"}):s.jsx(F,{className:"h-5 w-5"})}),s.jsx(rl,{checked:a,onCheckedChange:t=>(async(e,t)=>{try{const a=x.find(t=>t.permission_status&&t.id!==e);t&&a?c(r=>s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("p",{className:"text-sm font-bold",children:"Replace Active Workflow Role?"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Only one workflow role can be active at a time. This will deactivate"," ",s.jsx("span",{className:"font-bold text-violet-600",children:a.role_name}),"."]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:async()=>{c.dismiss(r.id),await f(e,t)},className:"rounded-lg bg-violet-600 px-3 py-1.5 text-xs font-bold text-white hover:bg-violet-700",children:"Replace"}),s.jsx("button",{onClick:()=>c.dismiss(r.id),className:"rounded-lg bg-muted px-3 py-1.5 text-xs font-bold text-foreground hover:bg-muted/80",children:"Cancel"})]})]}),{duration:6e3}):await f(e,t)}catch(a){c.error(Ya(a))}})(e.id,t),disabled:u.isPending,className:"data-[state=checked]:bg-violet-600"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"line-clamp-2 text-sm font-bold text-foreground",children:e.role_name}),s.jsx("p",{className:ma("mt-1 text-[10px] font-bold uppercase tracking-wider",a?"text-violet-600":"text-muted-foreground"),children:a?"Active":"Inactive"})]})]})})})},e.id)})})}),s.jsxs("div",{className:"flex flex-col gap-2 rounded-xl border bg-muted/20 px-4 py-3 sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("span",{className:"text-xs font-bold uppercase tracking-widest text-muted-foreground",children:["Showing: ",p.length," of ",x.length," ","Workflow Roles"]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-violet-500"}),s.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Active: ",h]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-muted-foreground"}),s.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Inactive: ",g]})]})]})]})]})})]})}const _i=aa().shape({userType:la().required("User Type is required"),name:la().required("Full Name is required"),mobile:la().matches(/^\d{10}$/,"Mobile number must be 10 digits").required("Mobile number is required"),altMobile:la().matches(/^\d{10}$/,"Alternate mobile number must be 10 digits").nullable(),email:la().email("Enter a valid email").required("Email is required"),address:la().required("Address is required"),photo:na().nullable()});function Si({open:t,setOpen:a,title:r,edit:l,setEdit:i,adminListFun:n,id:d,ulbId:o,userListByUlbId:u}){var m;const x=Ir({}),p=e.useRef(null),[h,g]=e.useState(null),f=w({defaultValues:{userType:"",name:"",mobile:"",altMobile:"",email:"",address:"",photo:null},resolver:k(_i)}),{reset:v}=f;e.useEffect(()=>{var e,s,a;if(t){if(l&&d){const t=null==(a=null==(s=null==(e=null==u?void 0:u.data)?void 0:e.data)?void 0:s.data)?void 0:a.find(e=>e.id==d);t&&(g(t.documentUrl||null),v({userType:t.user_type||"",name:t.name||"",mobile:t.mobile||"",altMobile:t.alternateMobile||"",email:t.email||"",address:t.address||"",photo:null}))}else g(null),v({userType:"",name:"",mobile:"",altMobile:"",email:"",address:"",photo:null});f.setValue("photo",""),p.current&&(p.current.value="")}},[t,l,d,n,v]);const b=Pr({api:null==Ga?void 0:Ga.createUserType,key:"createUserTypeList",options:{enabled:!0}});return s.jsx(_l,{open:t,setOpen:a,title:r,setEdit:i,edit:l,children:s.jsx("div",{className:"p-1",children:s.jsx($r,{methods:f,onSubmit:f.handleSubmit(async e=>{var t,s,r;try{const n=l?null==Ga?void 0:Ga.updateAdmin:null==Ga?void 0:Ga.createAdmin,m=l&&d?{...e,id:d}:{...e,ulbId:o},p=new FormData;p.append("name",m.name),p.append("mobile",m.mobile),p.append("altMobile",m.altMobile),p.append("email",m.email),p.append("address",m.address),p.append("userType",m.userType);const h=f.watch("photo");if(h)p.append("photo",h);else if(!l)return void c.error("User Image is required");l&&d&&p.append("id",d),p.append("ulbId",o||"");const g=await x.mutateAsync({api:n,data:p});(null==(t=null==g?void 0:g.data)?void 0:t.status)?(c.success(null==(s=null==g?void 0:g.data)?void 0:s.message),a(!1),i(!1),u.refetch()):c.error(null==(r=null==g?void 0:g.data)?void 0:r.message)}catch(n){c.error(Ya(n))}}),children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-5 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"relative",children:s.jsx(sl,{label:"User Type",name:"userType",data:(null==(m=null==b?void 0:b.data)?void 0:m.data.map(e=>({value:String(e),label:String(e)})))||[]})}),s.jsx("div",{className:"relative",children:s.jsx(Hr,{label:"Full Name",name:"name",inputValidation:["CapitalFirstLetter","removeDoubleSpace"],placeholder:"Enter full name"})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Hr,{label:"Mobile No",name:"mobile",inputValidation:["mobile","number"],placeholder:"Enter mobile"}),s.jsx(Hr,{label:"Alt Mobile No",name:"altMobile",inputValidation:["mobile","number"],placeholder:"Enter alternate"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Hr,{label:"Email Address",name:"email",inputValidation:["email"],placeholder:"Enter email"}),s.jsx(Hr,{label:"Physical Address",name:"address",inputValidation:["CapitalFirstLetter","removeDoubleSpace"],placeholder:"Enter permanent address"}),s.jsxs("div",{className:"rounded-xl border border-dashed border-primary/20 bg-primary/5 p-4",children:[l&&h&&!f.watch("photo")&&s.jsxs("div",{className:"mb-3 flex flex-col items-center gap-2",children:[s.jsx("p",{className:"text-[10px] font-bold uppercase tracking-wider text-muted-foreground",children:"Current Profile Image"}),s.jsx("img",{src:h,alt:"Current profile",className:"h-20 w-20 rounded-lg border-2 border-primary/20 object-cover shadow-sm"})]}),s.jsx(al,{label:l&&h?"Update Profile Image":"User Profile Image",name:"photo"},t?"open":"closed")]})]})]}),s.jsx("div",{className:"flex items-center justify-end gap-3 border-t pt-4",children:s.jsx(Zr,{isLoading:f.formState.isSubmitting,type:"submit",className:"h-11 rounded-xl bg-primary px-8 text-sm font-bold text-primary-foreground shadow-lg shadow-primary/20 transition-all hover:shadow-xl active:scale-95",children:l?"Update User Account":"Create User Account"})})]})})})})}function Ai(){var t,a,r,l,i,n,d,o,u,x;const p=m(),[h]=_(),g=h.get("ulb_id"),f=h.get("ulb_name"),v=e.useRef(null),[b,j]=e.useState(1),[y,N]=e.useState(10),w=Ir({}),[k,I]=e.useState(!1),[R,D]=e.useState(""),[M,T]=e.useState(!1),[z,q]=e.useState(!1),[W,$]=e.useState(!1),[V,H]=e.useState("name"),[Z,G]=e.useState(""),[K,Y]=e.useState("");e.useEffect(()=>{const e=setTimeout(()=>{Y(Z)},700);return()=>clearTimeout(e)},[Z]),e.useEffect(()=>{const e=e=>{var t;!e.altKey||"s"!==e.key&&"S"!==e.key||(e.preventDefault(),e.stopPropagation(),null==(t=v.current)||t.focus())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]);const Q=Pr({api:null==Ga?void 0:Ga.userListByULBId,key:"userListByUlbId",config:{ulbId:g,page:b,perPage:y,searchQuery:K,[V]:K},value:[b,y,V,K],options:{enabled:!0}});e.useEffect(()=>{K?(j(1),Q.refetch()):Q.refetch()},[K]);return s.jsxs("div",{className:"",children:[s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(Rr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Sa,{variant:"ghost",size:"sm",onClick:()=>p(-1),className:"flex h-10 items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-amber-500/10 text-amber-500",children:s.jsx(be,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:f}),s.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-blue-600/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-blue-600",children:[(null==(a=null==(t=null==Q?void 0:Q.data)?void 0:t.data)?void 0:a.total)||0," Registered Users"]})]})]}),s.jsxs("div",{className:"flex w-full flex-wrap items-center gap-3 lg:w-auto",children:[s.jsxs("div",{className:"relative flex flex-1 items-center md:min-w-[350px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{ref:v,type:"text",value:Z,onChange:e=>{G(e.target.value)},placeholder:"Search users...",className:"h-11 w-full rounded-xl border border-border bg-background pl-10 pr-24 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20",maxLength:"mobile"==V?10:void 0}),s.jsxs("div",{className:"absolute right-2.5 flex items-center gap-1.5",children:[s.jsx("div",{className:"hidden items-center gap-1 sm:flex",children:s.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[s.jsx("span",{className:"text-xs",children:"Alt"}),"S"]})}),s.jsx("div",{className:"mx-1 h-4 w-[1px] bg-border"}),s.jsxs("select",{value:V,onChange:e=>{return t=e.target.value,void H(t);var t},className:"h-8 cursor-pointer rounded-lg border-none bg-transparent px-2 py-0 text-xs font-semibold outline-none transition-all hover:bg-muted/50 focus:ring-0",children:[s.jsx("option",{value:"name",children:"Name"}),s.jsx("option",{value:"email",children:"Email"}),s.jsx("option",{value:"mobile",children:"Mobile"})]})]})]}),s.jsxs(Sa,{type:"button",onClick:()=>{D(""),T(!1),I(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Create User"]})]})]})}),s.jsxs(Mr,{className:"p-0",children:[Q.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(qr,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading users..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(Tr,{children:[s.jsx(Ur,{children:s.jsxs(Fr,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(Br,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(Br,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"User Profile"}),s.jsx(Br,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Contact Details"}),s.jsx(Br,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"User Type"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Access Status"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"})]})}),s.jsx(zr,{children:s.jsx(P,{children:null==(i=null==(l=null==(r=null==Q?void 0:Q.data)?void 0:r.data)?void 0:l.data)?void 0:i.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(Or,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:b*y-y+t+1})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(ar,{src:e.documentUrl,alt:e.name,className:"h-12 w-12 rounded-xl border-2 border-background object-cover shadow-sm"}),s.jsx("div",{className:ma("absolute -right-1 -top-1 h-3.5 w-3.5 rounded-full border-2 border-background",e.suspended?"bg-red-500":"bg-green-500")})]}),s.jsxs("div",{children:[s.jsx("p",{className:ma("font-bold leading-tight text-foreground",e.suspended&&"text-muted-foreground line-through opacity-60"),children:null==e?void 0:e.name}),s.jsxs("div",{className:"mt-1 flex items-center gap-1.5",children:[s.jsx(X,{className:"h-2.5 w-2.5 text-muted-foreground"}),s.jsx("p",{className:"max-w-[150px] truncate text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:(null==e?void 0:e.address)||"No Address"})]})]})]})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex flex-col gap-1.5",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-foreground/80",children:[s.jsx("div",{className:"flex h-5 w-5 items-center justify-center rounded-md bg-blue-600/10 text-blue-600",children:s.jsx(je,{className:"h-2.5 w-2.5"})}),null==e?void 0:e.mobile]}),s.jsxs("div",{className:"flex items-center gap-2 text-[11px] font-medium text-muted-foreground",children:[s.jsx("div",{className:"flex h-5 w-5 items-center justify-center rounded-md bg-emerald-600/10 text-emerald-600",children:s.jsx(se,{className:"h-2.5 w-2.5"})}),null==e?void 0:e.email]})]})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"inline-flex items-center gap-2 rounded-lg border border-violet-600/20 bg-violet-600/10 px-2.5 py-1 text-[10px] font-bold uppercase tracking-wider text-violet-600",children:[s.jsx(ye,{className:"h-3 w-3"}),null==e?void 0:e.user_type]})}),s.jsx(Or,{className:"py-4 text-center",children:s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(rl,{checked:!(null==e?void 0:e.suspended),onCheckedChange:()=>(async(e,t)=>{var s,a,r;try{const l={id:e,isSuspended:t},i=await w.mutateAsync({api:null==Ga?void 0:Ga.enableDisableUserByModule,data:l});(null==(s=null==i?void 0:i.data)?void 0:s.status)?(c.success((null==(a=null==i?void 0:i.data)?void 0:a.message)||"Permission updated successfully"),Q.refetch()):c.error((null==(r=null==i?void 0:i.data)?void 0:r.message)||"Failed to update permission")}catch(l){c.error(Ya(l))}})(e.id,!e.suspended)}),s.jsx("span",{className:ma("inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-[9px] font-bold uppercase tracking-tighter",e.suspended?"bg-red-500/10 text-red-500":"bg-green-500/10 text-green-500"),children:e.suspended?s.jsxs(s.Fragment,{children:[s.jsx(F,{className:"h-2 w-2"})," ","Suspended"]}):s.jsxs(s.Fragment,{children:[s.jsx(B,{className:"h-2 w-2"})," ","Active"]})})]})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Sa,{variant:"outline",size:"sm",onClick:()=>{D(null==e?void 0:e.id),T(!0),I(!0)},className:"h-9 w-9 border-amber-600/20 bg-amber-600/10 p-0 text-amber-600 transition-all hover:bg-amber-600 hover:text-white",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsxs(Sa,{variant:"outline",size:"sm",onClick:()=>{p(`/project-config/dashboard/ulb-list/user-list/permission?ulb_id=${g}&ulb_name=${f}`,{state:{item:e}})},className:"flex items-center gap-2 border-blue-600/20 bg-blue-600/10 text-blue-600 transition-all hover:bg-blue-600 hover:text-white",children:[s.jsx(O,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Permissions"})]})]})})]},null==e?void 0:e.id))})})]}),s.jsx("div",{className:"border-t p-4",children:s.jsx(Wr,{currentPage:b,totalItems:(null==(d=null==(n=null==Q?void 0:Q.data)?void 0:n.data)?void 0:d.total)||0,itemsPerPage:y,onPageChange:e=>j(e),onItemsPerPageChange:e=>{N(e),j(1)}})})]}),!Q.isLoading&&0===(null==(x=null==(u=null==(o=null==Q?void 0:Q.data)?void 0:o.data)?void 0:u.data)?void 0:x.length)&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(be,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No users found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:Z?"Try adjusting your search criteria":"No users have been registered in this ULB yet."})]})]})]})}),s.jsx(Nr,{open:W,onOpenChange:$,children:s.jsxs(_r,{className:"flex h-[90vh] max-h-[90vh] max-w-[1200px] flex-col overflow-hidden border-none p-0 shadow-2xl",children:[s.jsx(Sr,{className:"border-b bg-muted/30 px-8 py-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-blue-600/10 text-blue-600",children:s.jsx(U,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx(Ar,{className:"text-2xl font-bold text-foreground",children:"User Access Control"}),s.jsxs("p",{className:"text-sm font-medium text-muted-foreground",children:["Configuring permissions for"," ",s.jsx("span",{className:"font-bold text-blue-600",children:null==z?void 0:z.name})]})]})]})}),s.jsx("div",{className:"flex flex-1 flex-col overflow-hidden bg-background p-6",children:s.jsxs(gs,{defaultValue:"ROLELIST",className:"flex flex-1 flex-col overflow-hidden",children:[s.jsx("div",{className:"mb-6 flex justify-center",children:s.jsxs(fs,{className:"inline-flex h-11 items-center justify-center rounded-xl bg-muted p-1",children:[s.jsx(vs,{className:"inline-flex items-center justify-center whitespace-nowrap rounded-lg px-6 py-2 text-sm font-bold transition-all data-[state=active]:bg-background data-[state=active]:text-primary data-[state=active]:shadow-sm",value:"ROLELIST",children:"Permitted Roles"}),s.jsx(vs,{className:"inline-flex items-center justify-center whitespace-nowrap rounded-lg px-6 py-2 text-sm font-bold transition-all data-[state=active]:bg-background data-[state=active]:text-primary data-[state=active]:shadow-sm",value:"PERMITTED_WARDS",children:"Permitted Wards"}),s.jsx(vs,{className:"inline-flex items-center justify-center whitespace-nowrap rounded-lg px-6 py-2 text-sm font-bold transition-all data-[state=active]:bg-background data-[state=active]:text-primary data-[state=active]:shadow-sm",value:"PERMITTED_WORKFLOW_ROLE",children:"Workflow Roles"})]})}),s.jsxs("div",{className:"custom-scrollbar flex-1 overflow-y-auto pr-2",children:[s.jsx(bs,{value:"ROLELIST",className:"m-0 focus-visible:outline-none",children:s.jsx(Ni,{selectedULB:z,id:R})}),s.jsx(bs,{value:"PERMITTED_WARDS",className:"m-0 focus-visible:outline-none",children:s.jsx(wi,{selectedULB:z,id:R})}),s.jsx(bs,{value:"PERMITTED_WORKFLOW_ROLE",className:"m-0 focus-visible:outline-none",children:s.jsx(ki,{selectedULB:z,id:R})})]})]})})]})}),s.jsx(Si,{open:k,setOpen:I,title:M?"Update User Account":"Register New User",id:R,edit:M,setEdit:T,ulbId:g,userListByUlbId:Q})]})}function Ci(){return s.jsx(Lr,{title:"Manage All Ulb Here.",children:s.jsx(Ai,{})})}function Li(){var e;const t=m(),[a]=_();a.get("ulb_id"),a.get("ulb_name");const r=null==(e=n().state)?void 0:e.item;return s.jsxs("div",{className:"flex h-full w-full flex-col overflow-hidden bg-background",children:[s.jsx("header",{className:"shrink-0 border-b bg-muted/30 px-8 py-4",children:s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs(Sa,{variant:"ghost",size:"sm",onClick:()=>t(-1),className:"flex h-10 items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{className:"group flex cursor-pointer items-center gap-4",children:[s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-blue-600/10 text-blue-600 transition-all group-hover:bg-blue-600 group-hover:text-white",children:s.jsx(U,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground transition-colors group-hover:text-primary",children:"User Access Control"}),s.jsxs("p",{className:"text-sm font-medium text-muted-foreground",children:["Configuring permissions for"," ",s.jsx("span",{className:"font-mono font-bold text-blue-600",children:r.name})]})]})]})]})}),s.jsx("main",{className:"flex flex-1 flex-col overflow-hidden p-6",children:s.jsxs(Hl,{defaultValue:"ROLELIST",className:"flex flex-1 flex-col overflow-hidden",children:[s.jsx("div",{className:"mb-6 flex justify-center",children:s.jsxs(Zl,{className:"inline-flex h-11 items-center justify-center rounded-xl bg-muted p-1",children:[s.jsx(Gl,{className:"inline-flex items-center justify-center whitespace-nowrap rounded-lg px-6 py-2 text-sm font-bold transition-all data-[state=active]:bg-background data-[state=active]:text-primary data-[state=active]:shadow-sm",value:"ROLELIST",children:"Permitted Roles"}),s.jsx(Gl,{className:"inline-flex items-center justify-center whitespace-nowrap rounded-lg px-6 py-2 text-sm font-bold transition-all data-[state=active]:bg-background data-[state=active]:text-primary data-[state=active]:shadow-sm",value:"PERMITTED_WARDS",children:"Permitted Wards"}),s.jsx(Gl,{className:"inline-flex items-center justify-center whitespace-nowrap rounded-lg px-6 py-2 text-sm font-bold transition-all data-[state=active]:bg-background data-[state=active]:text-primary data-[state=active]:shadow-sm",value:"PERMITTED_WORKFLOW_ROLE",children:"Workflow Roles"})]})}),s.jsxs("div",{className:"custom-scrollbar flex-1 overflow-y-auto pr-2",children:[s.jsx(Kl,{value:"ROLELIST",className:"m-0 focus-visible:outline-none",children:s.jsx(Ni,{selectedULB:r,id:r.id})}),s.jsx(Kl,{value:"PERMITTED_WARDS",className:"m-0 focus-visible:outline-none",children:s.jsx(wi,{selectedULB:r,id:r.id})}),s.jsx(Kl,{value:"PERMITTED_WORKFLOW_ROLE",className:"m-0 focus-visible:outline-none",children:s.jsx(ki,{selectedULB:r,id:r.id})})]})]})})]})}function Pi(){return s.jsx(Lr,{title:"Mange Permission Here.",children:s.jsx(Li,{})})}aa().shape({ulbId:la(),moduleId:la(),complaintRefNo:la()});const Ii=aa().shape({name:la().required("Full Name is required"),mobile:la().matches(/^\d{10}$/,"Mobile number must be 10 digits").required("Mobile number is required"),altMobile:la().matches(/^\d{10}$/,"Alternate mobile number must be 10 digits").nullable(),email:la().email("Enter a valid email").required("Email is required"),address:la().required("Address is required"),photo:na().nullable()});function Ri({open:t,setOpen:a,title:r,edit:l,setEdit:i,adminListFun:n,id:d,ulbId:o,adminListData:u}){const m=Ir({}),x=e.useRef(null),[p,h]=e.useState(null),g=w({defaultValues:{name:"",mobile:"",altMobile:"",email:"",address:"",photo:null},resolver:k(Ii)}),{reset:f}=g;e.useEffect(()=>{if(t){if(l&&d){const e=null==u?void 0:u.find(e=>e.id==d);e&&(h(e.documentUrl||null),f({name:e.name||"",mobile:e.mobile||"",altMobile:e.alternateMobile||"",email:e.email||"",address:e.address||"",photo:null}))}else h(null),f({name:"",mobile:"",altMobile:"",email:"",address:"",photo:null});g.setValue("photo",""),x.current&&(x.current.value="")}},[t,l,d,u,f]);return s.jsx(_l,{open:t,setOpen:a,title:r,setEdit:i,edit:l,children:s.jsx("div",{className:"p-1",children:s.jsx($r,{methods:g,onSubmit:g.handleSubmit(async e=>{var t,s,r;try{const u=l?null==Ga?void 0:Ga.updateAdmin:null==Ga?void 0:Ga.createAdmin,x=l&&d?{...e,id:d}:{...e,ulbId:o},p=new FormData;p.append("name",x.name),p.append("mobile",x.mobile),p.append("altMobile",x.altMobile),p.append("email",x.email),p.append("address",x.address);const h=g.watch("photo");if(h)p.append("photo",h);else if(!l)return void c.error("User Image is required");l&&d&&p.append("id",d),p.append("ulbId",o||"");const f=await m.mutateAsync({api:u,data:p});(null==(t=null==f?void 0:f.data)?void 0:t.status)?(c.success(null==(s=null==f?void 0:f.data)?void 0:s.message),a(!1),i(!1),n.refetch()):c.error(null==(r=null==f?void 0:f.data)?void 0:r.message)}catch(u){c.error(Ya(u))}}),children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-5 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"relative",children:s.jsx(Hr,{label:"Full Name",name:"name",inputValidation:["CapitalFirstLetter","removeDoubleSpace"],placeholder:"Enter full name"})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Hr,{label:"Mobile No",name:"mobile",inputValidation:["mobile","number"],placeholder:"Enter mobile"}),s.jsx(Hr,{label:"Alt Mobile No",name:"altMobile",inputValidation:["mobile","number"],placeholder:"Enter alternate"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Hr,{label:"Email Address",name:"email",inputValidation:["email"],placeholder:"Enter email"}),s.jsx(Hr,{label:"Physical Address",name:"address",inputValidation:["CapitalFirstLetter","removeDoubleSpace"],placeholder:"Enter permanent address"})]})]}),s.jsxs("div",{className:"rounded-xl border border-dashed border-primary/20 bg-primary/5 p-4",children:[l&&p&&!g.watch("photo")&&s.jsxs("div",{className:"mb-3 flex flex-col items-center gap-2",children:[s.jsx("p",{className:"text-[10px] font-bold uppercase tracking-wider text-muted-foreground",children:"Current Profile Image"}),s.jsx("img",{src:p,alt:"Current profile",className:"h-20 w-20 rounded-lg border-2 border-primary/20 object-cover shadow-sm"})]}),s.jsx(al,{label:l&&p?"Update Profile Image":"User Profile Image",name:"photo"},t?"open":"closed")]}),s.jsx("div",{className:"flex items-center justify-end gap-3 border-t pt-4",children:s.jsx(Zr,{isLoading:g.formState.isSubmitting,type:"submit",className:"h-11 rounded-xl bg-primary px-8 text-sm font-bold text-primary-foreground shadow-lg shadow-primary/20 transition-all hover:shadow-xl active:scale-95",children:l?"Update Admin Account":"Create Admin Account"})})]})})})})}function Di(){var t,a,r,l,i,n,d,o,u,x,p,h,g,f;const v=m(),[b]=_(),j=b.get("ulb_id"),y=b.get("ulb_name"),N=e.useRef(null),[w,k]=e.useState(1),[I,R]=e.useState(10),D=Ir({}),[M,T]=e.useState(!1),[z,O]=e.useState(""),[q,W]=e.useState(!1),[$,V]=e.useState("name"),[H,Z]=e.useState(""),[G,K]=e.useState("");e.useEffect(()=>{const e=setTimeout(()=>{K(H)},700);return()=>clearTimeout(e)},[H]),e.useEffect(()=>{const e=e=>{var t;!e.altKey||"s"!==e.key&&"S"!==e.key||(e.preventDefault(),e.stopPropagation(),null==(t=N.current)||t.focus())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]),Pr({api:null==Ga?void 0:Ga.userManagementModuleList,key:"permittedModuleList",options:{enabled:!0}});const Y=Pr({api:null==Ga?void 0:Ga.adminList,key:"adminListFun",config:{ulbId:j,page:w,perPage:I,parameter:G||"",filterBy:$||""},value:[w,I,$,G],options:{enabled:!!j}});e.useEffect(()=>{G?(k(1),Y.refetch()):Y.refetch()},[G]);return s.jsxs("div",{className:"",children:[s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(Rr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Sa,{variant:"ghost",size:"sm",onClick:()=>v(-1),className:"flex h-10 items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-amber-500/10 text-amber-500",children:s.jsx(U,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:y||"Admin List"}),s.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-blue-600/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-blue-600",children:[(null==(a=null==(t=null==Y?void 0:Y.data)?void 0:t.data)?void 0:a.total)||0," Registered Admins"]})]})]}),s.jsxs("div",{className:"flex w-full flex-wrap items-center gap-3 lg:w-auto",children:[s.jsxs("div",{className:"relative flex flex-1 items-center md:min-w-[350px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{ref:N,type:"text",value:H,onChange:e=>{Z(e.target.value)},placeholder:`Search admins by ${$}...`,className:"h-11 w-full rounded-xl border border-border bg-background pl-10 pr-24 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20",maxLength:"mobile"==$?10:void 0}),s.jsxs("div",{className:"absolute right-2.5 flex items-center gap-1.5",children:[s.jsx("div",{className:"hidden items-center gap-1 sm:flex",children:s.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[s.jsx("span",{className:"text-xs",children:"Alt"}),"S"]})}),s.jsx("div",{className:"mx-1 h-4 w-[1px] bg-border"}),s.jsxs("select",{value:$,onChange:e=>{return t=e.target.value,void V(t);var t},className:"h-8 cursor-pointer rounded-lg border-none bg-transparent px-2 py-0 text-xs font-semibold outline-none transition-all hover:bg-muted/50 focus:ring-0",children:[s.jsx("option",{value:"name",children:"Name"}),s.jsx("option",{value:"email",children:"Email"}),s.jsx("option",{value:"mobile",children:"Mobile"})]})]})]}),s.jsxs(Sa,{type:"button",onClick:()=>{O(""),W(!1),T(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Create Admin"]})]})]})}),s.jsxs(Mr,{className:"p-0",children:[Y.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(qr,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading admins..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(Tr,{children:[s.jsx(Ur,{children:s.jsxs(Fr,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(Br,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(Br,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Admin Profile"}),s.jsx(Br,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Contact Details"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"})]})}),s.jsx(zr,{children:s.jsx(P,{children:null==(i=null==(l=null==(r=null==Y?void 0:Y.data)?void 0:r.data)?void 0:l.data)?void 0:i.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(Or,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w*I-I+t+1})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(ar,{src:e.documentUrl,alt:e.name,className:"h-12 w-12 rounded-xl border-2 border-background object-cover shadow-sm"}),s.jsx("div",{className:ma("absolute -right-1 -top-1 h-3.5 w-3.5 rounded-full border-2 border-background",e.suspended?"bg-red-500":"bg-green-500")})]}),s.jsxs("div",{children:[s.jsx("p",{className:ma("font-bold leading-tight text-foreground",e.suspended&&"text-muted-foreground line-through opacity-60"),children:null==e?void 0:e.name}),s.jsxs("div",{className:"mt-1 flex items-center gap-1.5",children:[s.jsx(X,{className:"h-2.5 w-2.5 text-muted-foreground"}),s.jsx("p",{className:"max-w-[150px] truncate text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:(null==e?void 0:e.address)||"No Address"})]})]})]})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex flex-col gap-1.5",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-foreground/80",children:[s.jsx("div",{className:"flex h-5 w-5 items-center justify-center rounded-md bg-blue-600/10 text-blue-600",children:s.jsx(je,{className:"h-2.5 w-2.5"})}),null==e?void 0:e.mobile,(null==e?void 0:e.alternateMobile)&&s.jsxs("span",{className:"text-muted-foreground",children:["/ ",e.alternateMobile]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-[11px] font-medium text-muted-foreground",children:[s.jsx("div",{className:"flex h-5 w-5 items-center justify-center rounded-md bg-emerald-600/10 text-emerald-600",children:s.jsx(se,{className:"h-2.5 w-2.5"})}),null==e?void 0:e.email]})]})}),s.jsx(Or,{className:"py-4 text-center",children:s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(rl,{checked:!(null==e?void 0:e.suspended),onCheckedChange:()=>(async(e,t)=>{var s,a,r;try{const l={id:e,isSuspended:t},i=await D.mutateAsync({api:null==Ga?void 0:Ga.enableDisableUserByModule,data:l});(null==(s=null==i?void 0:i.data)?void 0:s.status)?(c.success((null==(a=null==i?void 0:i.data)?void 0:a.message)||"Permission updated successfully"),Y.refetch()):c.error((null==(r=null==i?void 0:i.data)?void 0:r.message)||"Failed to update permission")}catch(l){c.error(Ya(l))}})(e.id,!e.suspended)}),s.jsx("span",{className:ma("inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-[9px] font-bold uppercase tracking-tighter",e.suspended?"bg-red-500/10 text-red-500":"bg-green-500/10 text-green-500"),children:e.suspended?s.jsxs(s.Fragment,{children:[s.jsx(F,{className:"h-2 w-2"})," ","Suspended"]}):s.jsxs(s.Fragment,{children:[s.jsx(B,{className:"h-2 w-2"})," ","Active"]})})]})}),s.jsx(Or,{className:"py-4",children:s.jsx("div",{className:"flex items-center justify-center gap-2",children:s.jsx(Sa,{variant:"outline",size:"sm",onClick:()=>{O(null==e?void 0:e.id),W(!0),T(!0)},className:"h-9 w-9 border-amber-600/20 bg-amber-600/10 p-0 text-amber-600 transition-all hover:bg-amber-600 hover:text-white",children:s.jsx(E,{className:"h-4 w-4"})})})})]},null==e?void 0:e.id))})})]}),(null==(d=null==(n=null==Y?void 0:Y.data)?void 0:n.data)?void 0:d.total)>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(Wr,{currentPage:w,totalItems:(null==(u=null==(o=null==Y?void 0:Y.data)?void 0:o.data)?void 0:u.total)||0,itemsPerPage:I,onPageChange:e=>k(e),onItemsPerPageChange:e=>{R(e),k(1)}})})]}),!Y.isLoading&&0===(null==(h=null==(p=null==(x=null==Y?void 0:Y.data)?void 0:x.data)?void 0:p.data)?void 0:h.length)&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(U,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No admins found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:H?"Try adjusting your search criteria":"No admins have been registered in this ULB yet."})]})]})]})}),s.jsx(Ri,{open:M,setOpen:T,title:q?"Update Admin Account":"Create Admin Account",id:z,edit:q,setEdit:W,ulbId:j,adminListFun:Y,adminListData:null==(f=null==(g=null==Y?void 0:Y.data)?void 0:g.data)?void 0:f.data})]})}function Ei(){return s.jsx(Lr,{title:"Manage All Admins Here.",children:s.jsx(Di,{})})}const Mi=aa().shape({construction_type:la().required("Construction type is required")});function Ti({open:t,setOpen:a,title:r,edit:l,setEdit:i,id:n,refetch:d,editData:o}){const u=Ir({}),m=w({defaultValues:{construction_type:""},resolver:k(Mi)}),{reset:x,handleSubmit:p,formState:{isSubmitting:h}}=m;e.useEffect(()=>{t&&x(l&&o?{construction_type:o.construction_type||""}:{construction_type:""})},[t,l,o,x]);return s.jsx(_l,{open:t,setOpen:a,title:r||(l?"Edit Construction Type":"Add Construction Type"),setEdit:i,edit:l,children:s.jsx("div",{className:"p-1",children:s.jsx($r,{methods:m,onSubmit:p(async e=>{var t,s,r;try{const o=l?null==Ha?void 0:Ha.api_updateConstructionApi:null==Ha?void 0:Ha.api_PostConstructionApi,m=l?{...e,id:n}:e,x=await u.mutateAsync({api:o,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||`Construction type ${l?"updated":"added"} successfully`),a(!1),i&&i(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(Ya(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsx("div",{className:"space-y-4",children:s.jsx(Hr,{label:"Construction Type",name:"construction_type",placeholder:"Enter construction type"})}),s.jsx(kl,{className:"opacity-50"}),s.jsx(Zr,{isLoading:h,type:"submit",className:"h-10 w-full rounded-xl bg-primary text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:l?"Update Construction Type":"Submit"})]})})})})}function Ui(){var t,a;const r=m(),[l,i]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,v]=e.useState(null),b=Pr({key:"api_getConstructionApiList",api:Ha.api_getConstructionApiList,options:{enabled:!0}}),j=Ir({}),y=(null==(a=null==(t=null==b?void 0:b.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=null==e?void 0:e.construction_type)?void 0:t.toLowerCase().includes(o.toLowerCase())}))||[],N=l*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(Rr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Sa,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Construction Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Types Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search construction type...",value:o,onChange:e=>{u(e.target.value),i(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(Sa,{type:"button",onClick:()=>{g(!1),v(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New"]})]})]})}),s.jsxs(Mr,{className:"p-0",children:[b.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(qr,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading construction types..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(Tr,{children:[s.jsx(Ur,{children:s.jsxs(Fr,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(Br,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(Br,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Construction Type"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(zr,{children:s.jsx(P,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(Or,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(Ne,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.construction_type}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(Or,{className:"py-4 text-center",children:s.jsxs("span",{className:ma("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-red-500/20 bg-red-500/10 text-red-500":"border-green-500/20 bg-green-500/10 text-green-500"),children:[1===e.is_suspended?s.jsx(F,{className:"h-3 w-3"}):s.jsx(B,{className:"h-3 w-3"}),1===e.is_suspended?"Suspended":"Active"]})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>{v(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>(e=>{jr("Delete Construction Type",`Are you sure you want to delete "${e.construction_type}"?`,async()=>{var t,s,a;try{const r=await j.mutateAsync({api:Ha.api_deleteConstructionApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),b.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(Ya(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(Or,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(rl,{checked:1===e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:1===e.is_suspended?0:1},l=await j.mutateAsync({api:Ha.api_deleteConstructionApi,data:r});(null==(t=null==l?void 0:l.data)?void 0:t.status)?(c.success((null==(s=null==l?void 0:l.data)?void 0:s.message)||"Status updated successfully"),b.refetch()):c.error((null==(a=null==l?void 0:l.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(Ya(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(Wr,{currentPage:l,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{i(e)},onItemsPerPageChange:e=>{d(e),i(1)}})})]}),!b.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Ne,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No construction types found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No construction types have been added yet."}),!o&&s.jsxs(Sa,{className:"mt-6",onClick:()=>{g(!1),v(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Type"]})]})]})]}),s.jsx(Ti,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:b.refetch})]})})}function zi(){return s.jsx(Lr,{title:"Manage Construction Master Here.",children:s.jsx(Ui,{})})}const Fi=aa().shape({floor_name:la().required("Floor name is required")});function Bi({open:t,setOpen:a,title:r,edit:l,setEdit:i,id:n,refetch:d,editData:o}){const u=Ir({}),m=w({defaultValues:{floor_name:""},resolver:k(Fi)}),{reset:x,handleSubmit:p,formState:{isSubmitting:h}}=m;e.useEffect(()=>{t&&x(l&&o?{floor_name:o.floor_name||""}:{floor_name:""})},[t,l,o,x]);return s.jsx(_l,{open:t,setOpen:a,title:r||(l?"Edit Floor":"Add Floor"),setEdit:i,edit:l,children:s.jsx("div",{className:"p-1",children:s.jsx($r,{methods:m,onSubmit:p(async e=>{var t,s,r;try{const o=l?null==Ha?void 0:Ha.api_updateFloorApi:null==Ha?void 0:Ha.api_PostFloorApi,m=l?{...e,id:n}:e,x=await u.mutateAsync({api:o,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||`Floor ${l?"updated":"added"} successfully`),a(!1),i&&i(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(Ya(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsx("div",{className:"space-y-4",children:s.jsx(Hr,{label:"Floor Name",name:"floor_name",placeholder:"Enter floor name"})}),s.jsx(kl,{className:"opacity-50"}),s.jsx(Zr,{isLoading:h,type:"submit",className:"h-10 w-full rounded-xl bg-primary text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:l?"Update Floor":"Submit"})]})})})})}function Oi(){var t,a;const r=m(),[l,i]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,v]=e.useState(null),b=Pr({key:"api_getFloorApiList",api:Ha.api_getFloorApiList,options:{enabled:!0}}),j=Ir({}),y=(null==(a=null==(t=null==b?void 0:b.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=null==e?void 0:e.floor_name)?void 0:t.toLowerCase().includes(o.toLowerCase())}))||[],N=l*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(Rr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Sa,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Floor Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Floors Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search floor name...",value:o,onChange:e=>{u(e.target.value),i(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(Sa,{type:"button",onClick:()=>{g(!1),v(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New"]})]})]})}),s.jsxs(Mr,{className:"p-0",children:[b.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(qr,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading floor types..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(Tr,{children:[s.jsx(Ur,{children:s.jsxs(Fr,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(Br,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(Br,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Floor Name"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(zr,{children:s.jsx(P,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(Or,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(Z,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.floor_name}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(Or,{className:"py-4 text-center",children:s.jsxs("span",{className:ma("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(F,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Suspended"]})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>{v(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>(e=>{jr("Delete Floor",`Are you sure you want to delete "${e.floor_name}"?`,async()=>{var t,s,a;try{const r=await j.mutateAsync({api:Ha.api_deleteFloorApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),b.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(Ya(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(Or,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(rl,{checked:1===e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:1===e.is_suspended?0:1},l=await j.mutateAsync({api:Ha.api_deleteFloorApi,data:r});(null==(t=null==l?void 0:l.data)?void 0:t.status)?(c.success((null==(s=null==l?void 0:l.data)?void 0:s.message)||"Status updated successfully"),b.refetch()):c.error((null==(a=null==l?void 0:l.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(Ya(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(Wr,{currentPage:l,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{i(e)},onItemsPerPageChange:e=>{d(e),i(1)}})})]}),!b.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Z,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No floors found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No floors have been added yet."}),!o&&s.jsxs(Sa,{className:"mt-6",onClick:()=>{g(!1),v(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Floor"]})]})]})]}),s.jsx(Bi,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:b.refetch})]})})}function qi(){return s.jsx(Lr,{title:"Manage Floor Master Here.",children:s.jsx(Oi,{})})}const Wi=aa().shape({type:la().required("Objection type name is required")});function $i({open:t,setOpen:a,title:r,edit:l,setEdit:i,id:n,refetch:d,editData:o}){const u=Ir({}),m=w({defaultValues:{type:""},resolver:k(Wi)}),{reset:x,handleSubmit:p,formState:{isSubmitting:h}}=m;e.useEffect(()=>{t&&x(l&&o?{type:o.type||""}:{type:""})},[t,l,o,x]);return s.jsx(_l,{open:t,setOpen:a,title:r||(l?"Edit Objection Type":"Add Objection Type"),setEdit:i,edit:l,children:s.jsx("div",{className:"p-1",children:s.jsx($r,{methods:m,onSubmit:p(async e=>{var t,s,r;try{const o=l?null==Ha?void 0:Ha.api_updateObjectionApi:null==Ha?void 0:Ha.api_PostObjectionApi,m=l?{...e,id:n}:e,x=await u.mutateAsync({api:o,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||`Objection type ${l?"updated":"added"} successfully`),a(!1),i&&i(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(Ya(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsx("div",{className:"space-y-4",children:s.jsx(Hr,{label:"Objection Type Name",name:"type",placeholder:"Enter objection type name"})}),s.jsx(kl,{className:"opacity-50"}),s.jsx(Zr,{isLoading:h,type:"submit",className:"h-10 w-full rounded-xl bg-primary text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:l?"Update Objection Type":"Submit"})]})})})})}function Vi(){var t,a;const r=m(),[l,i]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,v]=e.useState(null),b=Pr({key:"api_getObjectionApiList",api:Ha.api_getObjectionApiList,options:{enabled:!0}}),j=Ir({}),y=(null==(a=null==(t=null==b?void 0:b.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=null==e?void 0:e.type)?void 0:t.toLowerCase().includes(o.toLowerCase())}))||[],N=l*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(Rr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Sa,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Objection Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Types Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search objection type...",value:o,onChange:e=>{u(e.target.value),i(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(Sa,{type:"button",onClick:()=>{g(!1),v(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New"]})]})]})}),s.jsxs(Mr,{className:"p-0",children:[b.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(qr,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading objection types..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(Tr,{children:[s.jsx(Ur,{children:s.jsxs(Fr,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(Br,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(Br,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Objection Type"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(zr,{children:s.jsx(P,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(Or,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(ue,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.type}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(Or,{className:"py-4 text-center",children:s.jsxs("span",{className:ma("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(F,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Suspended"]})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>{v(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>(e=>{jr("Delete Objection Type",`Are you sure you want to delete "${e.type}"?`,async()=>{var t,s,a;try{const r=await j.mutateAsync({api:Ha.api_deleteObjectionApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),b.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(Ya(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(Or,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(rl,{checked:1===e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:1===e.is_suspended?0:1},l=await j.mutateAsync({api:Ha.api_deleteObjectionApi,data:r});(null==(t=null==l?void 0:l.data)?void 0:t.status)?(c.success((null==(s=null==l?void 0:l.data)?void 0:s.message)||"Status updated successfully"),b.refetch()):c.error((null==(a=null==l?void 0:l.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(Ya(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(Wr,{currentPage:l,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{i(e)},onItemsPerPageChange:e=>{d(e),i(1)}})})]}),!b.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(ue,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No objection types found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No objection types have been added yet."}),!o&&s.jsxs(Sa,{className:"mt-6",onClick:()=>{g(!1),v(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Type"]})]})]})]}),s.jsx($i,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:b.refetch})]})})}function Hi(){return s.jsx(Lr,{title:"Manage Objection Master Here.",children:s.jsx(Vi,{})})}const Zi=aa().shape({usage_type:la().required("Usage type name is required"),usage_code:la().required("Usage code is required")});function Gi({open:t,setOpen:a,title:r,edit:l,setEdit:i,id:n,refetch:d,editData:o}){const u=Ir({}),m=w({defaultValues:{usage_type:"",usage_code:""},resolver:k(Zi)}),{reset:x,handleSubmit:p,formState:{isSubmitting:h}}=m;e.useEffect(()=>{t&&x(l&&o?{usage_type:o.usage_type||"",usage_code:o.usage_code||""}:{usage_type:"",usage_code:""})},[t,l,o,x]);return s.jsx(_l,{open:t,setOpen:a,title:r||(l?"Edit Usage Type":"Add Usage Type"),setEdit:i,edit:l,children:s.jsx("div",{className:"p-1",children:s.jsx($r,{methods:m,onSubmit:p(async e=>{var t,s,r;try{const o=l?null==Ha?void 0:Ha.api_updateUsageTypeApi:null==Ha?void 0:Ha.api_PostUsageTypeApi,m=l?{...e,id:n}:e,x=await u.mutateAsync({api:o,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||`Usage type ${l?"updated":"added"} successfully`),a(!1),i&&i(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(Ya(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(Hr,{label:"Usage Type",name:"usage_type",placeholder:"Enter usage type name"}),s.jsx(Hr,{label:"Usage Code",name:"usage_code",placeholder:"Enter usage code"})]}),s.jsx(kl,{className:"opacity-50"}),s.jsx(Zr,{isLoading:h,type:"submit",className:"h-10 w-full rounded-xl bg-primary text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:l?"Update Usage Type":"Submit"})]})})})})}function Ki(){var t,a;const r=m(),[l,i]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,v]=e.useState(null),b=Pr({key:"api_getUsageTypeApiList",api:Ha.api_getUsageTypeApiList,options:{enabled:!0}}),j=Ir({}),y=(null==(a=null==(t=null==b?void 0:b.data)?void 0:t.data)?void 0:a.filter(e=>{var t,s;return(null==(t=null==e?void 0:e.usage_type)?void 0:t.toLowerCase().includes(o.toLowerCase()))||(null==(s=null==e?void 0:e.usage_code)?void 0:s.toLowerCase().includes(o.toLowerCase()))}))||[],N=l*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(Rr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Sa,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Usage Type Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Types Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search usage type or code...",value:o,onChange:e=>{u(e.target.value),i(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(Sa,{type:"button",onClick:()=>{g(!1),v(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New"]})]})]})}),s.jsxs(Mr,{className:"p-0",children:[b.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(qr,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading usage types..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(Tr,{children:[s.jsx(Ur,{children:s.jsxs(Fr,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(Br,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(Br,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Usage Code"}),s.jsx(Br,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Usage Type"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(zr,{children:s.jsx(P,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(Or,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(Or,{className:"py-4",children:s.jsx("span",{className:"rounded bg-primary/10 px-2 py-1 text-xs font-bold text-primary",children:e.usage_code})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 min-w-[40px] items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(we,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"max-w-md font-bold leading-tight text-foreground",children:null==e?void 0:e.usage_type}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(Or,{className:"py-4 text-center",children:s.jsxs("span",{className:ma("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(F,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Suspended"]})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>{v(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>(e=>{jr("Delete Usage Type",`Are you sure you want to delete "${e.usage_type}"?`,async()=>{var t,s,a;try{const r=await j.mutateAsync({api:Ha.api_deleteUsageTypeApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),b.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(Ya(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(Or,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(rl,{checked:1===e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:1===e.is_suspended?0:1},l=await j.mutateAsync({api:Ha.api_deleteUsageTypeApi,data:r});(null==(t=null==l?void 0:l.data)?void 0:t.status)?(c.success((null==(s=null==l?void 0:l.data)?void 0:s.message)||"Status updated successfully"),b.refetch()):c.error((null==(a=null==l?void 0:l.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(Ya(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(Wr,{currentPage:l,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{i(e)},onItemsPerPageChange:e=>{d(e),i(1)}})})]}),!b.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(we,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No usage types found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No usage types have been added yet."}),!o&&s.jsxs(Sa,{className:"mt-6",onClick:()=>{g(!1),v(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Type"]})]})]})]}),s.jsx(Gi,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:b.refetch})]})})}function Yi(){return s.jsx(Lr,{title:"Manage Usage Type Master Here.",children:s.jsx(Ki,{})})}const Qi=aa().shape({building_type:la().required("Building type name is required")});function Ji({open:t,setOpen:a,title:r,edit:l,setEdit:i,id:n,refetch:d,editData:o}){const u=Ir({}),m=w({defaultValues:{building_type:""},resolver:k(Qi)}),{reset:x,handleSubmit:p,formState:{isSubmitting:h}}=m;e.useEffect(()=>{t&&x(l&&o?{building_type:o.building_type||""}:{building_type:""})},[t,l,o,x]);return s.jsx(_l,{open:t,setOpen:a,title:r||(l?"Edit Building Type":"Add Building Type"),setEdit:i,edit:l,children:s.jsx("div",{className:"p-1",children:s.jsx($r,{methods:m,onSubmit:p(async e=>{var t,s,r;try{const o=l?null==Ha?void 0:Ha.api_updateGbBuildingApi:null==Ha?void 0:Ha.api_PostGbBuildingApi,m=l?{...e,id:n}:e,x=await u.mutateAsync({api:o,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||`Building type ${l?"updated":"added"} successfully`),a(!1),i&&i(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(Ya(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsx("div",{className:"space-y-4",children:s.jsx(Hr,{label:"Building Type Name",name:"building_type",placeholder:"Enter building type name"})}),s.jsx(kl,{className:"opacity-50"}),s.jsx(Zr,{isLoading:h,type:"submit",className:"h-10 w-full rounded-xl bg-primary text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:l?"Update Building Type":"Submit"})]})})})})}function Xi(){var t,a;const r=m(),[l,i]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,v]=e.useState(null),b=Pr({key:"api_getGbBuildingApiList",api:Ha.api_getGbBuildingApiList,options:{enabled:!0}}),j=Ir({}),y=(null==(a=null==(t=null==b?void 0:b.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=null==e?void 0:e.building_type)?void 0:t.toLowerCase().includes(o.toLowerCase())}))||[],N=l*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(Rr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Sa,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Gb Building Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Types Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search building type...",value:o,onChange:e=>{u(e.target.value),i(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(Sa,{type:"button",onClick:()=>{g(!1),v(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New"]})]})]})}),s.jsxs(Mr,{className:"p-0",children:[b.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(qr,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading building types..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(Tr,{children:[s.jsx(Ur,{children:s.jsxs(Fr,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(Br,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(Br,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Building Type"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(zr,{children:s.jsx(P,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(Or,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(Y,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.building_type}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(Or,{className:"py-4 text-center",children:s.jsxs("span",{className:ma("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(F,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Suspended"]})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>{v(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>(e=>{jr("Delete Building Type",`Are you sure you want to delete "${e.building_type}"?`,async()=>{var t,s,a;try{const r=await j.mutateAsync({api:Ha.api_deleteGbBuildingApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),b.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(Ya(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(Or,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(rl,{checked:1===e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:1===e.is_suspended?0:1},l=await j.mutateAsync({api:Ha.api_deleteGbBuildingApi,data:r});(null==(t=null==l?void 0:l.data)?void 0:t.status)?(c.success((null==(s=null==l?void 0:l.data)?void 0:s.message)||"Status updated successfully"),b.refetch()):c.error((null==(a=null==l?void 0:l.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(Ya(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(Wr,{currentPage:l,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{i(e)},onItemsPerPageChange:e=>{d(e),i(1)}})})]}),!b.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Y,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No building types found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No building types have been added yet."}),!o&&s.jsxs(Sa,{className:"mt-6",onClick:()=>{g(!1),v(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Type"]})]})]})]}),s.jsx(Ji,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:b.refetch})]})})}function en(){return s.jsx(Lr,{title:"Manage Gb Building Master Here.",children:s.jsx(Xi,{})})}const tn=aa().shape({occupancy_type:la().required("Occupancy type name is required")});function sn({open:t,setOpen:a,title:r,edit:l,setEdit:i,id:n,refetch:d,editData:o}){const u=Ir({}),m=w({defaultValues:{occupancy_type:""},resolver:k(tn)}),{reset:x,handleSubmit:p,formState:{isSubmitting:h}}=m;e.useEffect(()=>{t&&x(l&&o?{occupancy_type:o.occupancy_type||""}:{occupancy_type:""})},[t,l,o,x]);return s.jsx(_l,{open:t,setOpen:a,title:r||(l?"Edit Occupancy Type":"Add Occupancy Type"),setEdit:i,edit:l,children:s.jsx("div",{className:"p-1",children:s.jsx($r,{methods:m,onSubmit:p(async e=>{var t,s,r;try{const o=l?null==Ha?void 0:Ha.api_updateOccupancyApi:null==Ha?void 0:Ha.api_PostOccupancyApi,m=l?{...e,id:n}:e,x=await u.mutateAsync({api:o,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||`Occupancy type ${l?"updated":"added"} successfully`),a(!1),i&&i(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(Ya(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsx("div",{className:"space-y-4",children:s.jsx(Hr,{label:"Occupancy Type Name",name:"occupancy_type",placeholder:"Enter occupancy type name"})}),s.jsx(kl,{className:"opacity-50"}),s.jsx(Zr,{isLoading:h,type:"submit",className:"h-10 w-full rounded-xl bg-primary text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:l?"Update Occupancy Type":"Submit"})]})})})})}function an(){var t,a;const r=m(),[l,i]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,v]=e.useState(null),b=Pr({key:"api_getOccupancyApiList",api:Ha.api_getOccupancyApiList,options:{enabled:!0}}),j=Ir({}),y=(null==(a=null==(t=null==b?void 0:b.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=null==e?void 0:e.occupancy_type)?void 0:t.toLowerCase().includes(o.toLowerCase())}))||[],N=l*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(Rr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Sa,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Occupancy Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Types Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search occupancy type...",value:o,onChange:e=>{u(e.target.value),i(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(Sa,{type:"button",onClick:()=>{g(!1),v(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New"]})]})]})}),s.jsxs(Mr,{className:"p-0",children:[b.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(qr,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading occupancy types..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(Tr,{children:[s.jsx(Ur,{children:s.jsxs(Fr,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(Br,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(Br,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Occupancy Type"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(zr,{children:s.jsx(P,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(Or,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(ke,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.occupancy_type}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(Or,{className:"py-4 text-center",children:s.jsxs("span",{className:ma("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(F,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Suspended"]})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>{v(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>(e=>{jr("Delete Occupancy Type",`Are you sure you want to delete "${e.occupancy_type}"?`,async()=>{var t,s,a;try{const r=await j.mutateAsync({api:Ha.api_deleteOccupancyApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),b.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(Ya(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(Or,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(rl,{checked:1===e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:1===e.is_suspended?0:1},l=await j.mutateAsync({api:Ha.api_deleteOccupancyApi,data:r});(null==(t=null==l?void 0:l.data)?void 0:t.status)?(c.success((null==(s=null==l?void 0:l.data)?void 0:s.message)||"Status updated successfully"),b.refetch()):c.error((null==(a=null==l?void 0:l.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(Ya(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(Wr,{currentPage:l,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{i(e)},onItemsPerPageChange:e=>{d(e),i(1)}})})]}),!b.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(ke,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No occupancy types found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No occupancy types have been added yet."}),!o&&s.jsxs(Sa,{className:"mt-6",onClick:()=>{g(!1),v(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Type"]})]})]})]}),s.jsx(sn,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:b.refetch})]})})}function rn(){return s.jsx(Lr,{title:"Manage Occupancy Master Here.",children:s.jsx(an,{})})}const ln=aa().shape({property_type:la().required("Property type name is required")});function nn({open:t,setOpen:a,title:r,edit:l,setEdit:i,id:n,refetch:d,editData:o}){const u=Ir({}),m=w({defaultValues:{property_type:""},resolver:k(ln)}),{reset:x,handleSubmit:p,formState:{isSubmitting:h}}=m;e.useEffect(()=>{t&&x(l&&o?{property_type:o.property_type||""}:{property_type:""})},[t,l,o,x]);return s.jsx(_l,{open:t,setOpen:a,title:r||(l?"Edit Property Type":"Add Property Type"),setEdit:i,edit:l,children:s.jsx("div",{className:"p-1",children:s.jsx($r,{methods:m,onSubmit:p(async e=>{var t,s,r;try{const o=l?null==Ha?void 0:Ha.api_updatePropertyApi:null==Ha?void 0:Ha.api_PostPropertyApi,m=l?{...e,id:n}:e,x=await u.mutateAsync({api:o,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||`Property type ${l?"updated":"added"} successfully`),a(!1),i&&i(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(Ya(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsx("div",{className:"space-y-4",children:s.jsx(Hr,{label:"Property Type Name",name:"property_type",placeholder:"Enter property type name"})}),s.jsx(kl,{className:"opacity-50"}),s.jsx(Zr,{isLoading:h,type:"submit",className:"h-10 w-full rounded-xl bg-primary text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:l?"Update Property Type":"Submit"})]})})})})}function dn(){var t,a;const r=m(),[l,i]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,v]=e.useState(null),b=Pr({key:"api_getPropertyApiList",api:Ha.api_getPropertyApiList,options:{enabled:!0}}),j=Ir({}),y=(null==(a=null==(t=null==b?void 0:b.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=null==e?void 0:e.property_type)?void 0:t.toLowerCase().includes(o.toLowerCase())}))||[],N=l*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(Rr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Sa,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Property Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Types Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search property type...",value:o,onChange:e=>{u(e.target.value),i(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(Sa,{type:"button",onClick:()=>{g(!1),v(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New"]})]})]})}),s.jsxs(Mr,{className:"p-0",children:[b.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(qr,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading property types..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(Tr,{children:[s.jsx(Ur,{children:s.jsxs(Fr,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(Br,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(Br,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Property Type"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(zr,{children:s.jsx(P,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(Or,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(_e,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.property_type}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(Or,{className:"py-4 text-center",children:s.jsxs("span",{className:ma("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(F,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Suspended"]})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>{v(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>(e=>{jr("Delete Property Type",`Are you sure you want to delete "${e.property_type}"?`,async()=>{var t,s,a;try{const r=await j.mutateAsync({api:Ha.api_deletePropertyApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),b.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(Ya(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(Or,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(rl,{checked:1===e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:1===e.is_suspended?0:1},l=await j.mutateAsync({api:Ha.api_deletePropertyApi,data:r});(null==(t=null==l?void 0:l.data)?void 0:t.status)?(c.success((null==(s=null==l?void 0:l.data)?void 0:s.message)||"Status updated successfully"),b.refetch()):c.error((null==(a=null==l?void 0:l.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(Ya(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(Wr,{currentPage:l,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{i(e)},onItemsPerPageChange:e=>{d(e),i(1)}})})]}),!b.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(_e,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No property types found"}),s.jsx("p",{className:"max-max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No property types have been added yet."}),!o&&s.jsxs(Sa,{className:"mt-6",onClick:()=>{g(!1),v(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Type"]})]})]})]}),s.jsx(nn,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:b.refetch})]})})}function on(){return s.jsx(Lr,{title:"Manage Property Master Here.",children:s.jsx(dn,{})})}const cn=aa().shape({prop_usage_type:la().required("Usage type name is required")});function un({open:t,setOpen:a,title:r,edit:l,setEdit:i,id:n,refetch:d,editData:o}){const u=Ir({}),m=w({defaultValues:{prop_usage_type:""},resolver:k(cn)}),{reset:x,handleSubmit:p,formState:{isSubmitting:h}}=m;e.useEffect(()=>{t&&x(l&&o?{prop_usage_type:o.prop_usage_type||""}:{prop_usage_type:""})},[t,l,o,x]);return s.jsx(_l,{open:t,setOpen:a,title:r||(l?"Edit Gb Usage Type":"Add Gb Usage Type"),setEdit:i,edit:l,children:s.jsx("div",{className:"p-1",children:s.jsx($r,{methods:m,onSubmit:p(async e=>{var t,s,r;try{const o=l?null==Ha?void 0:Ha.api_updateGbpropusageApi:null==Ha?void 0:Ha.api_PostGbpropusageApi,m=l?{...e,id:n}:e,x=await u.mutateAsync({api:o,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||`Usage type ${l?"updated":"added"} successfully`),a(!1),i&&i(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(Ya(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsx("div",{className:"space-y-4",children:s.jsx(Hr,{label:"Usage Type Name",name:"prop_usage_type",placeholder:"Enter usage type name"})}),s.jsx(kl,{className:"opacity-50"}),s.jsx(Zr,{isLoading:h,type:"submit",className:"h-10 w-full rounded-xl bg-primary text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:l?"Update Usage Type":"Submit"})]})})})})}function mn(){var t,a;const r=m(),[l,i]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,v]=e.useState(null),b=Pr({key:"api_getGbpropusageApiList",api:Ha.api_getGbpropusageApiList,options:{enabled:!0}}),j=Ir({}),y=(null==(a=null==(t=null==b?void 0:b.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=null==e?void 0:e.prop_usage_type)?void 0:t.toLowerCase().includes(o.toLowerCase())}))||[],N=l*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(Rr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Sa,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Gb Usage Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Types Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search usage type...",value:o,onChange:e=>{u(e.target.value),i(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(Sa,{type:"button",onClick:()=>{g(!1),v(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New"]})]})]})}),s.jsxs(Mr,{className:"p-0",children:[b.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(qr,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading usage types..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(Tr,{children:[s.jsx(Ur,{children:s.jsxs(Fr,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(Br,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(Br,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Gb Usage Type"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(zr,{children:s.jsx(P,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(Or,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(Se,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.prop_usage_type}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(Or,{className:"py-4 text-center",children:s.jsxs("span",{className:ma("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(F,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Suspended"]})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>{v(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>(e=>{jr("Delete Gb Usage Type",`Are you sure you want to delete "${e.prop_usage_type}"?`,async()=>{var t,s,a;try{const r=await j.mutateAsync({api:Ha.api_deleteGbpropusageApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),b.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(Ya(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(Or,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(rl,{checked:1===e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:1===e.is_suspended?0:1},l=await j.mutateAsync({api:Ha.api_deleteGbpropusageApi,data:r});(null==(t=null==l?void 0:l.data)?void 0:t.status)?(c.success((null==(s=null==l?void 0:l.data)?void 0:s.message)||"Status updated successfully"),b.refetch()):c.error((null==(a=null==l?void 0:l.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(Ya(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(Wr,{currentPage:l,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{i(e)},onItemsPerPageChange:e=>{d(e),i(1)}})})]}),!b.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Se,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No usage types found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No usage types have been added yet."}),!o&&s.jsxs(Sa,{className:"mt-6",onClick:()=>{g(!1),v(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Type"]})]})]})]}),s.jsx(un,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:b.refetch})]})})}function xn(){return s.jsx(Lr,{title:"Manage Gb Usage Master Here.",children:s.jsx(mn,{})})}const pn=aa().shape({occupancy_name:la().required("Occupancy name is required"),mult_factor:la().required("Multiplication factor is required").matches(/^[0-9.]+$/,"Only numbers and decimals are allowed")});function hn({open:t,setOpen:a,title:r,edit:l,setEdit:i,id:n,refetch:d,editData:o}){const u=Ir({}),m=w({defaultValues:{occupancy_name:"",mult_factor:""},resolver:k(pn)}),{reset:x,handleSubmit:p,formState:{isSubmitting:h}}=m;e.useEffect(()=>{t&&x(l&&o?{occupancy_name:o.occupancy_name||"",mult_factor:o.mult_factor||""}:{occupancy_name:"",mult_factor:""})},[t,l,o,x]);return s.jsx(_l,{open:t,setOpen:a,title:r||(l?"Edit Occupancy Factor":"Add Occupancy Factor"),setEdit:i,edit:l,children:s.jsx("div",{className:"p-1",children:s.jsx($r,{methods:m,onSubmit:p(async e=>{var t,s,r;try{const o=l?null==Ha?void 0:Ha.api_updatePropOccupancyFactorApi:null==Ha?void 0:Ha.api_PostPropOccupancyFactorApi,m=l?{...e,id:n}:e,x=await u.mutateAsync({api:o,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||`Occupancy factor ${l?"updated":"added"} successfully`),a(!1),i&&i(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(Ya(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(Hr,{label:"Occupancy Name",name:"occupancy_name",placeholder:"Enter occupancy name"}),s.jsx(Hr,{label:"Multiplication Factor (e.g. 1.50)",name:"mult_factor",placeholder:"Enter multiplication factor"})]}),s.jsx(kl,{className:"opacity-50"}),s.jsx(Zr,{isLoading:h,type:"submit",className:"h-10 w-full rounded-xl bg-primary text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:l?"Update Occupancy Factor":"Submit"})]})})})})}function gn(){var t,a;const r=m(),[l,i]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,v]=e.useState(null),b=Pr({key:"api_getPropOccupancyFactorApiList",api:Ha.api_getPropOccupancyFactorApiList,options:{enabled:!0}}),j=Ir({}),y=(null==(a=null==(t=null==b?void 0:b.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=null==e?void 0:e.occupancy_name)?void 0:t.toLowerCase().includes(o.toLowerCase())}))||[],N=l*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(Rr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Sa,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Occupancy Factor Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Factors Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search occupancy factor...",value:o,onChange:e=>{u(e.target.value),i(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(Sa,{type:"button",onClick:()=>{g(!1),v(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New"]})]})]})}),s.jsxs(Mr,{className:"p-0",children:[b.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(qr,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading occupancy factors..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(Tr,{children:[s.jsx(Ur,{children:s.jsxs(Fr,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(Br,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(Br,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Occupancy Name"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Factor"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(zr,{children:s.jsx(P,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(Or,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 min-w-[40px] items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(Ae,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.occupancy_name}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(Or,{className:"py-4 text-center",children:s.jsx("span",{className:"rounded bg-orange-100 px-2 py-1 text-xs font-bold text-orange-600",children:e.mult_factor})}),s.jsx(Or,{className:"py-4 text-center",children:s.jsxs("span",{className:ma("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(F,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Suspended"]})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>{v(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>(e=>{jr("Delete Occupancy Factor",`Are you sure you want to delete "${e.occupancy_name}"?`,async()=>{var t,s,a;try{const r=await j.mutateAsync({api:Ha.api_deletePropOccupancyFactorApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),b.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(Ya(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(Or,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(rl,{checked:1===e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:1===e.is_suspended?0:1},l=await j.mutateAsync({api:Ha.api_deletePropOccupancyFactorApi,data:r});(null==(t=null==l?void 0:l.data)?void 0:t.status)?(c.success((null==(s=null==l?void 0:l.data)?void 0:s.message)||"Status updated successfully"),b.refetch()):c.error((null==(a=null==l?void 0:l.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(Ya(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(Wr,{currentPage:l,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{i(e)},onItemsPerPageChange:e=>{d(e),i(1)}})})]}),!b.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Ae,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No occupancy factors found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No factors have been added yet."}),!o&&s.jsxs(Sa,{className:"mt-6",onClick:()=>{g(!1),v(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Factor"]})]})]})]}),s.jsx(hn,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:b.refetch})]})})}function fn(){return s.jsx(Lr,{title:"Manage Occupancy Factor Here.",children:s.jsx(gn,{})})}const vn=aa().shape({zone:la().required("Zone name is required"),ulb_id:la().required("ULB is required")});function bn({open:t,setOpen:a,title:r,edit:l,setEdit:i,id:n,refetch:d,editData:o}){var u,m,x,p;const h=Ir({}),g=Pr({key:"api_getUlbList_ZoneForm",api:Ha.api_getAllUlb,options:{enabled:t}}),f=w({defaultValues:{zone:"",ulb_id:""},resolver:k(vn)}),{reset:v,handleSubmit:b,formState:{isSubmitting:j}}=f;e.useEffect(()=>{t&&v(l&&o?{zone:o.zone||"",ulb_id:o.ulb_id?String(o.ulb_id):""}:{zone:"",ulb_id:""})},[t,l,o,v]);const y=(null==(m=null==(u=null==g?void 0:g.data)?void 0:u.data)?void 0:m.length)>0&&(null==(p=null==(x=null==g?void 0:g.data)?void 0:x.data)?void 0:p.map(e=>({label:e.ulb_name,value:String(e.id)})))||[];return s.jsx(_l,{open:t,setOpen:a,title:r||(l?"Edit Zone":"Add Zone"),setEdit:i,edit:l,children:s.jsx("div",{className:"p-1",children:s.jsx($r,{methods:f,onSubmit:b(async e=>{var t,s,r;try{const o=l?null==Ha?void 0:Ha.api_updateZoneApi:null==Ha?void 0:Ha.api_PostZoneApi,u=l?{...e,id:n,ulb_id:Number(e.ulb_id)}:{...e,ulb_id:Number(e.ulb_id)},m=await h.mutateAsync({api:o,data:u});(null==(t=null==m?void 0:m.data)?void 0:t.status)?(c.success((null==(s=null==m?void 0:m.data)?void 0:s.message)||`Zone ${l?"updated":"added"} successfully`),a(!1),i&&i(!1),d&&d()):c.error((null==(r=null==m?void 0:m.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(Ya(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(Hr,{label:"Zone Name",name:"zone",placeholder:"Enter zone name"}),s.jsx(sl,{label:"Select ULB",name:"ulb_id",data:y})]}),s.jsx(kl,{className:"opacity-50"}),s.jsx(Zr,{isLoading:j,type:"submit",className:"h-10 w-full rounded-xl bg-primary text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:l?"Update Zone":"Submit"})]})})})})}function jn(){var t,a;const r=m(),[l,i]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,v]=e.useState(null),b=Pr({key:"api_getZoneList",api:Ha.zone_list_Api,options:{enabled:!0}}),j=Ir({}),y=(null==(a=null==(t=null==b?void 0:b.data)?void 0:t.data)?void 0:a.filter(e=>{var t,s;return(null==(t=null==e?void 0:e.zone)?void 0:t.toLowerCase().includes(o.toLowerCase()))||(null==(s=null==e?void 0:e.ulb_name)?void 0:s.toLowerCase().includes(o.toLowerCase()))}))||[],N=l*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(Rr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Sa,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Zone Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Zones Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search zone or ULB...",value:o,onChange:e=>{u(e.target.value),i(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(Sa,{type:"button",onClick:()=>{g(!1),v(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New"]})]})]})}),s.jsxs(Mr,{className:"p-0",children:[b.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(qr,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading zones..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(Tr,{children:[s.jsx(Ur,{children:s.jsxs(Fr,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(Br,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(Br,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Zone Name"}),s.jsx(Br,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"ULB Name"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(zr,{children:s.jsx(P,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(Or,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 min-w-[40px] items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(G,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.zone}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(Or,{className:"py-4 font-medium text-muted-foreground",children:null==e?void 0:e.ulb_name}),s.jsx(Or,{className:"py-4 text-center",children:s.jsxs("span",{className:ma("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(F,{className:"h-3 w-3"}),e.is_suspended?"Active":"Suspended"]})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>{v(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>(e=>{jr("Delete Zone",`Are you sure you want to delete "${e.zone}"?`,async()=>{var t,s,a;try{const r=await j.mutateAsync({api:Ha.api_deleteZoneApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),b.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(Ya(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(Or,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(rl,{checked:e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:!e.is_suspended},l=await j.mutateAsync({api:Ha.api_deleteZoneApi,data:r});(null==(t=null==l?void 0:l.data)?void 0:t.status)?(c.success((null==(s=null==l?void 0:l.data)?void 0:s.message)||"Status updated successfully"),b.refetch()):c.error((null==(a=null==l?void 0:l.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(Ya(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(Wr,{currentPage:l,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{i(e)},onItemsPerPageChange:e=>{d(e),i(1)}})})]}),!b.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(G,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No zones found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No zones have been added yet."}),!o&&s.jsxs(Sa,{className:"mt-6",onClick:()=>{g(!1),v(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Zone"]})]})]})]}),s.jsx(bn,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:b.refetch})]})})}function yn(){return s.jsx(Lr,{title:"Manage Zone Master Here.",children:s.jsx(jn,{})})}const Nn=aa().shape({city_name:la().required("City name is required")});function wn({open:t,setOpen:a,title:r,edit:l,setEdit:i,id:n,refetch:d,editData:o}){const u=Ir({}),m=w({defaultValues:{city_name:""},resolver:k(Nn)}),{reset:x,handleSubmit:p,formState:{isSubmitting:h}}=m;e.useEffect(()=>{t&&x(l&&o?{city_name:o.city_name||""}:{city_name:""})},[t,l,o,x]);return s.jsx(_l,{open:t,setOpen:a,title:r||(l?"Edit City":"Add City"),setEdit:i,edit:l,children:s.jsx("div",{className:"p-1",children:s.jsx($r,{methods:m,onSubmit:p(async e=>{var t,s,r;try{const o=l?null==Ha?void 0:Ha.api_updateCityApi:null==Ha?void 0:Ha.api_PostCityApi,m=l?{...e,id:n}:e,x=await u.mutateAsync({api:o,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||`City ${l?"updated":"added"} successfully`),a(!1),i&&i(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(Ya(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsx("div",{className:"space-y-4",children:s.jsx(Hr,{label:"City Name",name:"city_name",placeholder:"Enter city name"})}),s.jsx(kl,{className:"opacity-50"}),s.jsx(Zr,{isLoading:h,type:"submit",className:"h-10 w-full rounded-xl bg-primary text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:l?"Update City":"Submit"})]})})})})}function kn(){var t,a;const r=m(),[l,i]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,v]=e.useState(null),b=Pr({key:"api_getCityApiList",api:Ha.api_getCityApiList,options:{enabled:!0}}),j=Ir({}),y=(null==(a=null==(t=null==b?void 0:b.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=null==e?void 0:e.city_name)?void 0:t.toLowerCase().includes(o.toLowerCase())}))||[],N=l*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(Rr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Sa,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"City Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Cities Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search city name...",value:o,onChange:e=>{u(e.target.value),i(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(Sa,{type:"button",onClick:()=>{g(!1),v(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New"]})]})]})}),s.jsxs(Mr,{className:"p-0",children:[b.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(qr,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading cities..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(Tr,{children:[s.jsx(Ur,{children:s.jsxs(Fr,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(Br,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(Br,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"City Name"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(zr,{children:s.jsx(P,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(Or,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 min-w-[40px] items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(_e,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.city_name}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(Or,{className:"py-4 text-center",children:s.jsxs("span",{className:ma("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(F,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Suspended"]})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>{v(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>(e=>{jr("Delete City",`Are you sure you want to delete "${e.city_name}"?`,async()=>{var t,s,a;try{const r=await j.mutateAsync({api:Ha.api_deleteCityApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),b.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(Ya(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(Or,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(rl,{checked:1===e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:1===e.is_suspended?0:1},l=await j.mutateAsync({api:Ha.api_deleteCityApi,data:r});(null==(t=null==l?void 0:l.data)?void 0:t.status)?(c.success((null==(s=null==l?void 0:l.data)?void 0:s.message)||"Status updated successfully"),b.refetch()):c.error((null==(a=null==l?void 0:l.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(Ya(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(Wr,{currentPage:l,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{i(e)},onItemsPerPageChange:e=>{d(e),i(1)}})})]}),!b.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(_e,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No cities found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No cities have been added yet."}),!o&&s.jsxs(Sa,{className:"mt-6",onClick:()=>{g(!1),v(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New City"]})]})]})]}),s.jsx(wn,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:b.refetch})]})})}function _n(){return s.jsx(Lr,{title:"Manage City Master Here.",children:s.jsx(kn,{})})}const Sn=aa().shape({property_type:la().required("Property type name is required")});function An({open:t,setOpen:a,title:r,edit:l,setEdit:i,id:n,refetch:d,editData:o}){const u=Ir({}),m=w({defaultValues:{property_type:""},resolver:k(Sn)}),{reset:x,handleSubmit:p,formState:{isSubmitting:h}}=m;e.useEffect(()=>{t&&x(l&&o?{property_type:o.property_type||""}:{property_type:""})},[t,l,o,x]);return s.jsx(_l,{open:t,setOpen:a,title:r||(l?"Edit Water Property Type":"Add Water Property Type"),setEdit:i,edit:l,children:s.jsx("div",{className:"p-1",children:s.jsx($r,{methods:m,onSubmit:p(async e=>{var t,s,r;try{const o=l?null==Ha?void 0:Ha.api_updateWaterTypeApi:null==Ha?void 0:Ha.api_PostWaterTypeApi,m=l?{...e,id:n}:e,x=await u.mutateAsync({api:o,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||`Property type ${l?"updated":"added"} successfully`),a(!1),i&&i(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(Ya(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsx("div",{className:"space-y-4",children:s.jsx(Hr,{label:"Property Type Name",name:"property_type",placeholder:"Enter property type name"})}),s.jsx(kl,{className:"opacity-50"}),s.jsx(Zr,{isLoading:h,type:"submit",className:"h-10 w-full rounded-xl bg-primary text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:l?"Update Property Type":"Submit"})]})})})})}function Cn(){var t,a;const r=m(),[l,i]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,v]=e.useState(null),b=Pr({key:"api_getWaterTypeApiList",api:Ha.api_getWaterTypeApiList,options:{enabled:!0}}),j=Ir({}),y=(null==(a=null==(t=null==b?void 0:b.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=null==e?void 0:e.property_type)?void 0:t.toLowerCase().includes(o.toLowerCase())}))||[],N=l*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(Rr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Sa,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Water Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Types Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search property type...",value:o,onChange:e=>{u(e.target.value),i(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(Sa,{type:"button",onClick:()=>{g(!1),v(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New"]})]})]})}),s.jsxs(Mr,{className:"p-0",children:[b.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(qr,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading property types..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(Tr,{children:[s.jsx(Ur,{children:s.jsxs(Fr,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(Br,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(Br,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Property Type"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(zr,{children:s.jsx(P,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(Or,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 min-w-[40px] items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(Ce,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.property_type}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(Or,{className:"py-4 text-center",children:s.jsxs("span",{className:ma("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(F,{className:"h-3 w-3"}),e.is_suspended?"Active":"Suspended"]})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>{v(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>(e=>{jr("Delete Water Property Type",`Are you sure you want to delete "${e.property_type}"?`,async()=>{var t,s,a;try{const r=await j.mutateAsync({api:Ha.api_deleteWaterTypeApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),b.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(Ya(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(Or,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(rl,{checked:e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:!e.is_suspended},l=await j.mutateAsync({api:Ha.api_deleteWaterTypeApi,data:r});(null==(t=null==l?void 0:l.data)?void 0:t.status)?(c.success((null==(s=null==l?void 0:l.data)?void 0:s.message)||"Status updated successfully"),b.refetch()):c.error((null==(a=null==l?void 0:l.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(Ya(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(Wr,{currentPage:l,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{i(e)},onItemsPerPageChange:e=>{d(e),i(1)}})})]}),!b.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Ce,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No property types found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No property types have been added yet."}),!o&&s.jsxs(Sa,{className:"mt-6",onClick:()=>{g(!1),v(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Type"]})]})]})]}),s.jsx(An,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:b.refetch})]})})}function Ln(){return s.jsx(Lr,{title:"Manage Water Type Master Here.",children:s.jsx(Cn,{})})}const Pn=aa().shape({road_type:la().required("Road type name is required")});function In({open:t,setOpen:a,title:r,edit:l,setEdit:i,id:n,refetch:d,editData:o}){const u=Ir({}),m=w({defaultValues:{road_type:""},resolver:k(Pn)}),{reset:x,handleSubmit:p,formState:{isSubmitting:h}}=m;e.useEffect(()=>{t&&x(l&&o?{road_type:o.road_type||""}:{road_type:""})},[t,l,o,x]);return s.jsx(_l,{open:t,setOpen:a,title:r||(l?"Edit Road Type":"Add Road Type"),setEdit:i,edit:l,children:s.jsx("div",{className:"p-1",children:s.jsx($r,{methods:m,onSubmit:p(async e=>{var t,s,r;try{const o=l?null==Ha?void 0:Ha.api_updateRoadApi:null==Ha?void 0:Ha.api_PostRoadApi,m=l?{...e,id:n}:e,x=await u.mutateAsync({api:o,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||`Road type ${l?"updated":"added"} successfully`),a(!1),i&&i(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(Ya(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsx("div",{className:"space-y-4",children:s.jsx(Hr,{label:"Road Type Name",name:"road_type",placeholder:"Enter road type name"})}),s.jsx(kl,{className:"opacity-50"}),s.jsx(Zr,{isLoading:h,type:"submit",className:"h-10 w-full rounded-xl bg-primary text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:l?"Update Road Type":"Submit"})]})})})})}function Rn(){var t,a;const r=m(),[l,i]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,v]=e.useState(null),b=Pr({key:"api_getRoadApiList",api:Ha.api_getRoadApiList,options:{enabled:!0}}),j=Ir({}),y=(null==(a=null==(t=null==b?void 0:b.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=null==e?void 0:e.road_type)?void 0:t.toLowerCase().includes(o.toLowerCase())}))||[],N=l*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(Rr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Sa,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Road Type Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Types Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search road type...",value:o,onChange:e=>{u(e.target.value),i(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(Sa,{type:"button",onClick:()=>{g(!1),v(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New"]})]})]})}),s.jsxs(Mr,{className:"p-0",children:[b.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(qr,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading road types..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(Tr,{children:[s.jsx(Ur,{children:s.jsxs(Fr,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(Br,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(Br,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Road Type"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(zr,{children:s.jsx(P,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(Or,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 min-w-[40px] items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(Le,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.road_type}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(Or,{className:"py-4 text-center",children:s.jsxs("span",{className:ma("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(F,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Suspended"]})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>{v(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>(e=>{jr("Delete Road Type",`Are you sure you want to delete "${e.road_type}"?`,async()=>{var t,s,a;try{const r=await j.mutateAsync({api:Ha.api_deleteRoadApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),b.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(Ya(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(Or,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(rl,{checked:1===e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:1===e.is_suspended?0:1},l=await j.mutateAsync({api:Ha.api_deleteRoadApi,data:r});(null==(t=null==l?void 0:l.data)?void 0:t.status)?(c.success((null==(s=null==l?void 0:l.data)?void 0:s.message)||"Status updated successfully"),b.refetch()):c.error((null==(a=null==l?void 0:l.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(Ya(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(Wr,{currentPage:l,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{i(e)},onItemsPerPageChange:e=>{d(e),i(1)}})})]}),!b.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Le,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No road types found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No road types have been added yet."}),!o&&s.jsxs(Sa,{className:"mt-6",onClick:()=>{g(!1),v(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Type"]})]})]})]}),s.jsx(In,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:b.refetch})]})})}function Dn(){return s.jsx(Lr,{title:"Manage Road Type Master Here.",children:s.jsx(Rn,{})})}const En=aa().shape({ownership_type:la().required("Ownership type name is required")});function Mn({open:t,setOpen:a,title:r,edit:l,setEdit:i,id:n,refetch:d,editData:o}){const u=Ir({}),m=w({defaultValues:{ownership_type:""},resolver:k(En)}),{reset:x,handleSubmit:p,formState:{isSubmitting:h}}=m;e.useEffect(()=>{t&&x(l&&o?{ownership_type:o.ownership_type||""}:{ownership_type:""})},[t,l,o,x]);return s.jsx(_l,{open:t,setOpen:a,title:r||(l?"Edit Ownership Type":"Add Ownership Type"),setEdit:i,edit:l,children:s.jsx("div",{className:"p-1",children:s.jsx($r,{methods:m,onSubmit:p(async e=>{var t,s,r;try{const o=l?null==Ha?void 0:Ha.api_updateOwnershipApi:null==Ha?void 0:Ha.api_PostOwnershipApi,m=l?{...e,id:n}:e,x=await u.mutateAsync({api:o,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||`Ownership type ${l?"updated":"added"} successfully`),a(!1),i&&i(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(Ya(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsx("div",{className:"space-y-4",children:s.jsx(Hr,{label:"Ownership Type Name",name:"ownership_type",placeholder:"Enter ownership type name"})}),s.jsx(kl,{className:"opacity-50"}),s.jsx(Zr,{isLoading:h,type:"submit",className:"h-10 w-full rounded-xl bg-primary text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:l?"Update Ownership Type":"Submit"})]})})})})}function Tn(){var t,a;const r=m(),[l,i]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,v]=e.useState(null),b=Pr({key:"api_getOwnershipApiList",api:Ha.api_getOwnershipApiList,options:{enabled:!0}}),j=Ir({}),y=(null==(a=null==(t=null==b?void 0:b.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=null==e?void 0:e.ownership_type)?void 0:t.toLowerCase().includes(o.toLowerCase())}))||[],N=l*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(Rr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Sa,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Ownership Type Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Types Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search ownership type...",value:o,onChange:e=>{u(e.target.value),i(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(Sa,{type:"button",onClick:()=>{g(!1),v(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New"]})]})]})}),s.jsxs(Mr,{className:"p-0",children:[b.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(qr,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading ownership types..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(Tr,{children:[s.jsx(Ur,{children:s.jsxs(Fr,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(Br,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(Br,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Ownership Type"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(zr,{children:s.jsx(P,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(Or,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 min-w-[40px] items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(H,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.ownership_type}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(Or,{className:"py-4 text-center",children:s.jsxs("span",{className:ma("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(F,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Suspended"]})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>{v(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>(e=>{jr("Delete Ownership Type",`Are you sure you want to delete "${e.ownership_type}"?`,async()=>{var t,s,a;try{const r=await j.mutateAsync({api:Ha.api_deleteOwnershipApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),b.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(Ya(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(Or,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(rl,{checked:1===e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:1===e.is_suspended?0:1},l=await j.mutateAsync({api:Ha.api_deleteOwnershipApi,data:r});(null==(t=null==l?void 0:l.data)?void 0:t.status)?(c.success((null==(s=null==l?void 0:l.data)?void 0:s.message)||"Status updated successfully"),b.refetch()):c.error((null==(a=null==l?void 0:l.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(Ya(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(Wr,{currentPage:l,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{i(e)},onItemsPerPageChange:e=>{d(e),i(1)}})})]}),!b.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(H,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No ownership types found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No ownership types have been added yet."}),!o&&s.jsxs(Sa,{className:"mt-6",onClick:()=>{g(!1),v(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Type"]})]})]})]}),s.jsx(Mn,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:b.refetch})]})})}function Un(){return s.jsx(Lr,{title:"Manage Ownership Type Master Here.",children:s.jsx(Tn,{})})}const zn=aa().shape({transfer_mode:la().required("Transfer mode name is required")});function Fn({open:t,setOpen:a,title:r,edit:l,setEdit:i,id:n,refetch:d,editData:o}){const u=Ir({}),m=w({defaultValues:{transfer_mode:""},resolver:k(zn)}),{reset:x,handleSubmit:p,formState:{isSubmitting:h}}=m;e.useEffect(()=>{t&&x(l&&o?{transfer_mode:o.transfer_mode||""}:{transfer_mode:""})},[t,l,o,x]);return s.jsx(_l,{open:t,setOpen:a,title:r||(l?"Edit Transfer Mode":"Add Transfer Mode"),setEdit:i,edit:l,children:s.jsx("div",{className:"p-1",children:s.jsx($r,{methods:m,onSubmit:p(async e=>{var t,s,r;try{const o=l?null==Ha?void 0:Ha.api_updateTransferModeApi:null==Ha?void 0:Ha.api_PostTransferModeApi,m=l?{...e,id:n}:e,x=await u.mutateAsync({api:o,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||`Transfer mode ${l?"updated":"added"} successfully`),a(!1),i&&i(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(Ya(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsx("div",{className:"space-y-4",children:s.jsx(Hr,{label:"Transfer Mode Name",name:"transfer_mode",placeholder:"Enter transfer mode name"})}),s.jsx(kl,{className:"opacity-50"}),s.jsx(Zr,{isLoading:h,type:"submit",className:"h-10 w-full rounded-xl bg-primary text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:l?"Update Transfer Mode":"Submit"})]})})})})}function Bn(){var t,a;const r=m(),[l,i]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,v]=e.useState(null),b=Pr({key:"api_getTransferModeApiList",api:Ha.api_getTransferModeApiList,options:{enabled:!0}}),j=Ir({}),y=(null==(a=null==(t=null==b?void 0:b.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=null==e?void 0:e.transfer_mode)?void 0:t.toLowerCase().includes(o.toLowerCase())}))||[],N=l*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(Rr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Sa,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Transfer Mode Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Modes Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search transfer mode...",value:o,onChange:e=>{u(e.target.value),i(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(Sa,{type:"button",onClick:()=>{g(!1),v(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New"]})]})]})}),s.jsxs(Mr,{className:"p-0",children:[b.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(qr,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading transfer modes..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(Tr,{children:[s.jsx(Ur,{children:s.jsxs(Fr,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(Br,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(Br,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Transfer Mode"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(zr,{children:s.jsx(P,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(Or,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 min-w-[40px] items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(Pe,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.transfer_mode}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(Or,{className:"py-4 text-center",children:s.jsxs("span",{className:ma("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(F,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Suspended"]})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>{v(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>(e=>{jr("Delete Transfer Mode",`Are you sure you want to delete "${e.transfer_mode}"?`,async()=>{var t,s,a;try{const r=await j.mutateAsync({api:Ha.api_deleteTransferModeApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),b.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(Ya(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(Or,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(rl,{checked:1===e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:1===e.is_suspended?0:1},l=await j.mutateAsync({api:Ha.api_deleteTransferModeApi,data:r});(null==(t=null==l?void 0:l.data)?void 0:t.status)?(c.success((null==(s=null==l?void 0:l.data)?void 0:s.message)||"Status updated successfully"),b.refetch()):c.error((null==(a=null==l?void 0:l.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(Ya(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(Wr,{currentPage:l,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{i(e)},onItemsPerPageChange:e=>{d(e),i(1)}})})]}),!b.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Pe,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No transfer modes found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No transfer modes have been added yet."}),!o&&s.jsxs(Sa,{className:"mt-6",onClick:()=>{g(!1),v(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Mode"]})]})]})]}),s.jsx(Fn,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:b.refetch})]})})}function On(){return s.jsx(Lr,{title:"Transfer Mode Master",children:s.jsx(Bn,{})})}const qn=aa().shape({rebate_type:la().required("Rebate type name is required")});function Wn({open:t,setOpen:a,title:r,edit:l,setEdit:i,id:n,refetch:d,editData:o}){const u=Ir({}),m=w({defaultValues:{rebate_type:""},resolver:k(qn)}),{reset:x,handleSubmit:p,formState:{isSubmitting:h}}=m;e.useEffect(()=>{t&&x(l&&o?{rebate_type:o.rebate_type||""}:{rebate_type:""})},[t,l,o,x]);return s.jsx(_l,{open:t,setOpen:a,title:r||(l?"Edit Rebate Type":"Add Rebate Type"),setEdit:i,edit:l,children:s.jsx("div",{className:"p-1",children:s.jsx($r,{methods:m,onSubmit:p(async e=>{var t,s,r;try{const o=l?null==Ha?void 0:Ha.api_updateRebateTypeApi:null==Ha?void 0:Ha.api_PostRebateTypeApi,m=l?{...e,id:n}:e,x=await u.mutateAsync({api:o,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||`Rebate type ${l?"updated":"added"} successfully`),a(!1),i&&i(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(Ya(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsx("div",{className:"space-y-4",children:s.jsx(Hr,{label:"Rebate Type Name",name:"rebate_type",placeholder:"Enter rebate type name"})}),s.jsx(kl,{className:"opacity-50"}),s.jsx(Zr,{isLoading:h,type:"submit",className:"h-10 w-full rounded-xl bg-primary text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:l?"Update Rebate Type":"Submit"})]})})})})}function $n(){var t,a;const r=m(),[l,i]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,v]=e.useState(null),b=Pr({key:"api_getRebateTypeApiList",api:Ha.api_getRebateTypeApiList,options:{enabled:!0}}),j=Ir({}),y=(null==(a=null==(t=null==b?void 0:b.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=null==e?void 0:e.rebate_type)?void 0:t.toLowerCase().includes(o.toLowerCase())}))||[],N=l*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(Rr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Sa,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Rebate Type Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Types Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search rebate type...",value:o,onChange:e=>{u(e.target.value),i(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(Sa,{type:"button",onClick:()=>{g(!1),v(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New"]})]})]})}),s.jsxs(Mr,{className:"p-0",children:[b.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(qr,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading rebate types..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(Tr,{children:[s.jsx(Ur,{children:s.jsxs(Fr,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(Br,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(Br,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Rebate Type"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(zr,{children:s.jsx(P,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(Or,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 min-w-[40px] items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(Ae,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.rebate_type}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(Or,{className:"py-4 text-center",children:s.jsxs("span",{className:ma("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(F,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Suspended"]})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>{v(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>(e=>{jr("Delete Rebate Type",`Are you sure you want to delete "${e.rebate_type}"?`,async()=>{var t,s,a;try{const r=await j.mutateAsync({api:Ha.api_deleteRebateTypeApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),b.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(Ya(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(Or,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(rl,{checked:1===e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:1===e.is_suspended?0:1},l=await j.mutateAsync({api:Ha.api_deleteRebateTypeApi,data:r});(null==(t=null==l?void 0:l.data)?void 0:t.status)?(c.success((null==(s=null==l?void 0:l.data)?void 0:s.message)||"Status updated successfully"),b.refetch()):c.error((null==(a=null==l?void 0:l.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(Ya(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(Wr,{currentPage:l,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{i(e)},onItemsPerPageChange:e=>{d(e),i(1)}})})]}),!b.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Ae,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No rebate types found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No rebate types have been added yet."}),!o&&s.jsxs(Sa,{className:"mt-6",onClick:()=>{g(!1),v(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Type"]})]})]})]}),s.jsx(Wn,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:b.refetch})]})})}function Vn(){return s.jsx(Lr,{title:"Rebate Type Master",children:s.jsx($n,{})})}const Hn=aa().shape({penalty_type:la().required("Penalty type name is required")});function Zn({open:t,setOpen:a,title:r,edit:l,setEdit:i,id:n,refetch:d,editData:o}){const u=Ir({}),m=w({defaultValues:{penalty_type:""},resolver:k(Hn)}),{reset:x,handleSubmit:p,formState:{isSubmitting:h}}=m;e.useEffect(()=>{t&&x(l&&o?{penalty_type:o.penalty_type||""}:{penalty_type:""})},[t,l,o,x]);return s.jsx(_l,{open:t,setOpen:a,title:r||(l?"Edit Penalty Type":"Add Penalty Type"),setEdit:i,edit:l,children:s.jsx("div",{className:"p-1",children:s.jsx($r,{methods:m,onSubmit:p(async e=>{var t,s,r;try{const o=l?null==Ha?void 0:Ha.api_updatePenaltyTypeApi:null==Ha?void 0:Ha.api_PostPenaltyTypeApi,m=l?{...e,id:n}:e,x=await u.mutateAsync({api:o,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||`Penalty type ${l?"updated":"added"} successfully`),a(!1),i&&i(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(Ya(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsx("div",{className:"space-y-4",children:s.jsx(Hr,{label:"Penalty Type Name",name:"penalty_type",placeholder:"Enter penalty type name"})}),s.jsx(kl,{className:"opacity-50"}),s.jsx(Zr,{isLoading:h,type:"submit",className:"h-10 w-full rounded-xl bg-primary text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:l?"Update Penalty Type":"Submit"})]})})})})}function Gn(){var t,a;const r=m(),[l,i]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,v]=e.useState(null),b=Pr({key:"api_getPenaltyTypeApiList",api:Ha.api_getPenaltyTypeApiList,options:{enabled:!0}}),j=Ir({}),y=(null==(a=null==(t=null==b?void 0:b.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=null==e?void 0:e.penalty_type)?void 0:t.toLowerCase().includes(o.toLowerCase())}))||[],N=l*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(Rr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Sa,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Penalty Type Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Types Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search penalty type...",value:o,onChange:e=>{u(e.target.value),i(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(Sa,{type:"button",onClick:()=>{g(!1),v(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New"]})]})]})}),s.jsxs(Mr,{className:"p-0",children:[b.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(qr,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading penalty types..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(Tr,{children:[s.jsx(Ur,{children:s.jsxs(Fr,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(Br,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(Br,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Penalty Type"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(zr,{children:s.jsx(P,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(Or,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 min-w-[40px] items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(Ie,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.penalty_type}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(Or,{className:"py-4 text-center",children:s.jsxs("span",{className:ma("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(F,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Suspended"]})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>{v(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>(e=>{jr("Delete Penalty Type",`Are you sure you want to delete "${e.penalty_type}"?`,async()=>{var t,s,a;try{const r=await j.mutateAsync({api:Ha.api_deletePenaltyTypeApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),b.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(Ya(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(Or,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(rl,{checked:1===e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:1===e.is_suspended?0:1},l=await j.mutateAsync({api:Ha.api_deletePenaltyTypeApi,data:r});(null==(t=null==l?void 0:l.data)?void 0:t.status)?(c.success((null==(s=null==l?void 0:l.data)?void 0:s.message)||"Status updated successfully"),b.refetch()):c.error((null==(a=null==l?void 0:l.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(Ya(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(Wr,{currentPage:l,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{i(e)},onItemsPerPageChange:e=>{d(e),i(1)}})})]}),!b.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Ie,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No penalty types found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No penalty types have been added yet."}),!o&&s.jsxs(Sa,{className:"mt-6",onClick:()=>{g(!1),v(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Type"]})]})]})]}),s.jsx(Zn,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:b.refetch})]})})}function Kn(){return s.jsx(Lr,{title:"Penalty Type Master",children:s.jsx(Gn,{})})}const Yn=aa().shape({type:la().required("Forgery type name is required")});function Qn({open:t,setOpen:a,title:r,edit:l,setEdit:i,id:n,refetch:d,editData:o}){const u=Ir({}),m=w({defaultValues:{type:""},resolver:k(Yn)}),{reset:x,handleSubmit:p,formState:{isSubmitting:h}}=m;e.useEffect(()=>{t&&x(l&&o?{type:o.type||""}:{type:""})},[t,l,o,x]);return s.jsx(_l,{open:t,setOpen:a,title:r||(l?"Edit Forgery Type":"Add Forgery Type"),setEdit:i,edit:l,children:s.jsx("div",{className:"p-1",children:s.jsx($r,{methods:m,onSubmit:p(async e=>{var t,s,r;try{const o=l?null==Ha?void 0:Ha.api_updateForgeryTypeApi:null==Ha?void 0:Ha.api_PostForgeryTypeApi,m=l?{...e,id:n}:e,x=await u.mutateAsync({api:o,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||`Forgery type ${l?"updated":"added"} successfully`),a(!1),i&&i(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(Ya(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsx("div",{className:"space-y-4",children:s.jsx(Hr,{label:"Forgery Type Name",name:"type",placeholder:"Enter forgery type name"})}),s.jsx(kl,{className:"opacity-50"}),s.jsx(Zr,{isLoading:h,type:"submit",className:"h-10 w-full rounded-xl bg-primary text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:l?"Update Forgery Type":"Submit"})]})})})})}function Jn(){var t,a;const r=m(),[l,i]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,v]=e.useState(null),b=Pr({key:"api_getForgeryTypeApiList",api:Ha.api_getForgeryTypeApiList,options:{enabled:!0}}),j=Ir({}),y=(null==(a=null==(t=null==b?void 0:b.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=null==e?void 0:e.type)?void 0:t.toLowerCase().includes(o.toLowerCase())}))||[],N=l*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(Rr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Sa,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Forgery Type Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Types Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search forgery type...",value:o,onChange:e=>{u(e.target.value),i(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(Sa,{type:"button",onClick:()=>{g(!1),v(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New"]})]})]})}),s.jsxs(Mr,{className:"p-0",children:[b.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(qr,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading forgery types..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(Tr,{children:[s.jsx(Ur,{children:s.jsxs(Fr,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(Br,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(Br,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Forgery Type"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(zr,{children:s.jsx(P,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(Or,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 min-w-[40px] items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(Re,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"max-w-md font-bold leading-tight text-foreground",children:null==e?void 0:e.type}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(Or,{className:"py-4 text-center",children:s.jsxs("span",{className:ma("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",e.is_suspended?"border-red-500/20 bg-red-500/10 text-red-500":"border-green-500/20 bg-green-500/10 text-green-500"),children:[e.is_suspended?s.jsx(F,{className:"h-3 w-3"}):s.jsx(B,{className:"h-3 w-3"}),e.is_suspended?"Suspended":"Active"]})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>{v(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>(e=>{jr("Delete Forgery Type",`Are you sure you want to delete "${e.type}"?`,async()=>{var t,s,a;try{const r=await j.mutateAsync({api:Ha.api_deleteForgeryTypeApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),b.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(Ya(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(Or,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(rl,{checked:!e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:!e.is_suspended},l=await j.mutateAsync({api:Ha.api_deleteForgeryTypeApi,data:r});(null==(t=null==l?void 0:l.data)?void 0:t.status)?(c.success((null==(s=null==l?void 0:l.data)?void 0:s.message)||"Status updated successfully"),b.refetch()):c.error((null==(a=null==l?void 0:l.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(Ya(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(Wr,{currentPage:l,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{i(e)},onItemsPerPageChange:e=>{d(e),i(1)}})})]}),!b.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Re,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No forgery types found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No forgery types have been added yet."}),!o&&s.jsxs(Sa,{className:"mt-6",onClick:()=>{g(!1),v(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Type"]})]})]})]}),s.jsx(Qn,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:b.refetch})]})})}function Xn(){return s.jsx(Lr,{title:"Forgery Type Master",children:s.jsx(Jn,{})})}const ed=aa().shape({district_code:la().required("District code is required"),district_name:la().required("District name is required")});function td({open:t,setOpen:a,title:r,edit:l,setEdit:i,id:n,refetch:d,editData:o}){const u=Ir({}),m=w({defaultValues:{district_code:"",district_name:""},resolver:k(ed)}),{reset:x,handleSubmit:p,formState:{isSubmitting:h}}=m;e.useEffect(()=>{t&&x(l&&o?{district_code:o.district_code||"",district_name:o.district_name||""}:{district_code:"",district_name:""})},[t,l,o,x]);return s.jsx(_l,{open:t,setOpen:a,title:r||(l?"Edit District":"Add District"),setEdit:i,edit:l,children:s.jsx("div",{className:"p-1",children:s.jsx($r,{methods:m,onSubmit:p(async e=>{var t,s,r;try{const o=l?null==Ha?void 0:Ha.api_updateDistrictApi:null==Ha?void 0:Ha.api_PostDistrictApi,m=l?{...e,id:n}:e,x=await u.mutateAsync({api:o,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||`District ${l?"updated":"added"} successfully`),a(!1),i&&i(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(Ya(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(Hr,{label:"District Code",name:"district_code",placeholder:"Enter district code"}),s.jsx(Hr,{label:"District Name",name:"district_name",placeholder:"Enter district name"})]}),s.jsx(kl,{className:"opacity-50"}),s.jsx(Zr,{isLoading:h,type:"submit",className:"h-10 w-full rounded-xl bg-primary text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:l?"Update District":"Submit"})]})})})})}function sd(){var t,a;const r=m(),[l,i]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,v]=e.useState(null),b=Pr({key:"api_getDistrictApiList",api:Ha.api_getDistrictApiList,options:{enabled:!0}}),j=Ir({}),y=(null==(a=null==(t=null==b?void 0:b.data)?void 0:t.data)?void 0:a.filter(e=>{var t,s;return(null==(t=null==e?void 0:e.district_name)?void 0:t.toLowerCase().includes(o.toLowerCase()))||(null==(s=null==e?void 0:e.district_code)?void 0:s.toLowerCase().includes(o.toLowerCase()))}))||[],N=l*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(Rr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Sa,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"District Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Districts Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search district name or code...",value:o,onChange:e=>{u(e.target.value),i(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(Sa,{type:"button",onClick:()=>{g(!1),v(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New"]})]})]})}),s.jsxs(Mr,{className:"p-0",children:[b.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(qr,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading districts..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(Tr,{children:[s.jsx(Ur,{children:s.jsxs(Fr,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(Br,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(Br,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"District Code"}),s.jsx(Br,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"District Name"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(zr,{children:s.jsx(P,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(Or,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(Or,{className:"py-4",children:s.jsx("div",{className:"font-semibold text-primary",children:null==e?void 0:e.district_code})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 min-w-[40px] items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(G,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.district_name}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(Or,{className:"py-4 text-center",children:s.jsxs("span",{className:ma("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",e.is_suspended?"border-red-500/20 bg-red-500/10 text-red-500":"border-green-500/20 bg-green-500/10 text-green-500"),children:[e.is_suspended?s.jsx(F,{className:"h-3 w-3"}):s.jsx(B,{className:"h-3 w-3"}),e.is_suspended?"Suspended":"Active"]})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>{v(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>(e=>{jr("Delete District",`Are you sure you want to delete "${e.district_name}"?`,async()=>{var t,s,a;try{const r=await j.mutateAsync({api:Ha.api_deleteDistrictApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),b.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(Ya(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(Or,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(rl,{checked:!e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:!e.is_suspended},l=await j.mutateAsync({api:Ha.api_deleteDistrictApi,data:r});(null==(t=null==l?void 0:l.data)?void 0:t.status)?(c.success((null==(s=null==l?void 0:l.data)?void 0:s.message)||"Status updated successfully"),b.refetch()):c.error((null==(a=null==l?void 0:l.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(Ya(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(Wr,{currentPage:l,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{i(e)},onItemsPerPageChange:e=>{d(e),i(1)}})})]}),!b.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(G,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No districts found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No districts have been added yet."}),!o&&s.jsxs(Sa,{className:"mt-6",onClick:()=>{g(!1),v(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New District"]})]})]})]}),s.jsx(td,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:b.refetch})]})})}function ad(){return s.jsx(Lr,{title:"District Master",children:s.jsx(sd,{})})}const rd=l("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{success:"border-transparent bg-green-400 text-primary-foreground shadow hover:bg-green-400/80",default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ld({className:e,variant:t,...a}){return s.jsx("div",{className:ma(rd({variant:t}),e),...a})}function id(){var t,a;const r=m(),[l,i]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,v]=e.useState(null),b=Pr({key:"api_getCapitalValuesRateApiList",api:Ha.api_getCapitalValuesRateApiList,options:{enabled:!0}}),j=Ir({}),y=(null==(a=null==(t=null==b?void 0:b.data)?void 0:t.data)?void 0:a.filter(e=>{var t,s,a;return(null==(t=null==e?void 0:e.property_type)?void 0:t.toLowerCase().includes(o.toLowerCase()))||(null==(s=null==e?void 0:e.usage_type)?void 0:s.toLowerCase().includes(o.toLowerCase()))||(null==(a=null==e?void 0:e.ward_no)?void 0:a.toString().includes(o))}))||[],N=l*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(Rr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Sa,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Capital Value Rate Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Rate Policies"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search property, usage or ward...",value:o,onChange:e=>{u(e.target.value),i(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(Sa,{type:"button",onClick:()=>{g(!1),v(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New Rate"]})]})]})}),s.jsxs(Mr,{className:"p-0",children:[b.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(qr,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading rate list..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(Tr,{children:[s.jsx(Ur,{children:s.jsxs(Fr,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(Br,{className:"w-16 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(Br,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Property & Usage Details"}),s.jsx(Br,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Location/Road"}),s.jsx(Br,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Rate Info"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(zr,{children:s.jsx(P,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(Or,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 min-w-[40px] items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(Se,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.property_type}),s.jsx("div",{className:"mt-1 flex gap-1",children:s.jsx(ld,{variant:"outline",className:"bg-background text-[10px] font-bold uppercase",children:null==e?void 0:e.usage_type})})]})]})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"text-[10px] font-semibold uppercase text-muted-foreground",children:"Ward:"}),s.jsx("span",{className:"font-bold text-foreground",children:null==e?void 0:e.ward_no})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"text-[10px] font-semibold uppercase text-muted-foreground",children:"Road ID:"}),s.jsx("span",{className:"font-medium text-foreground",children:null==e?void 0:e.road_type_mstr_id})]})]})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"font-bold text-primary",children:["",null==e?void 0:e.rate]}),s.jsx("span",{className:"text-[10px] text-muted-foreground",children:"(Rate)"})]}),s.jsxs("div",{className:"text-[10px] font-semibold text-muted-foreground",children:["Effective: ",null==e?void 0:e.effect_from]})]})}),s.jsx(Or,{className:"py-4 text-center",children:s.jsxs("span",{className:ma("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(F,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Suspended"]})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>{v(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>(e=>{jr("Delete Rate Policy",`Are you sure you want to delete this rate entry for "${e.property_type}"?`,async()=>{var t,s,a;try{const r=await j.mutateAsync({api:Ha.api_deleteCapitalValuesRateApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),b.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(Ya(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(Or,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(rl,{checked:1===e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:1===e.is_suspended?0:1},l=await j.mutateAsync({api:Ha.api_deleteCapitalValuesRateApi,data:r});(null==(t=null==l?void 0:l.data)?void 0:t.status)?(c.success((null==(s=null==l?void 0:l.data)?void 0:s.message)||"Status updated successfully"),b.refetch()):c.error((null==(a=null==l?void 0:l.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(Ya(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(Wr,{currentPage:l,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{i(e)},onItemsPerPageChange:e=>{d(e),i(1)}})})]}),!b.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Se,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No rate policies found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No capital value rate policies have been configured yet."}),!o&&s.jsxs(Sa,{className:"mt-6",onClick:()=>{g(!1),v(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Configure New Rate"]})]})]})]})})})}function nd(){return s.jsx(Lr,{title:"Capital Value Rate Master",children:s.jsx(id,{})})}const dd=aa().shape({x:la().required("Rental cost (X) is required").matches(/^\d+(\.\d{1,2})?$/,"Enter a valid cost (e.g. 144.00)"),ulb_id:ia().typeError("ULB is required").required("ULB is required"),effective_date:la().required("Effective date is required")});function od({open:t,setOpen:a,title:r,edit:l,setEdit:i,id:n,refetch:d,editData:o}){var u,m;const x=Pr({key:"api_getUlbList",api:Ha.api_getUlbList,options:{}}),p=w({defaultValues:{x:"",ulb_id:void 0,effective_date:""},resolver:k(dd)}),{reset:h,handleSubmit:g,formState:{isSubmitting:f}}=p;e.useEffect(()=>{t&&h(l&&o?{x:o.x||"",ulb_id:o.ulb_id,effective_date:o.effective_date||""}:{x:"",ulb_id:void 0,effective_date:(new Date).toISOString().split("T")[0]})},[t,l,o,h]);const v=(null==(m=null==(u=null==x?void 0:x.data)?void 0:u.data)?void 0:m.map(e=>({value:e.id.toString(),label:e.ulb_name})))||[];return s.jsx(_l,{open:t,setOpen:a,title:r||(l?"Edit Rental Cost":"Add Rental Cost"),setEdit:i,edit:l,children:s.jsx("div",{className:"p-1",children:s.jsx($r,{methods:p,onSubmit:g(async e=>{c.success(`UI Only: Building rental cost ${l?"updated":"added"} successfully (API disabled)`),a(!1),i&&i(!1),d&&d()}),children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"flex items-center gap-2 border-b pb-2 text-sm font-bold uppercase tracking-wider text-muted-foreground",children:[s.jsx(De,{className:"text-primary"})," Cost Details"]}),s.jsx(Hr,{label:"Rental Cost (X)",name:"x",placeholder:"e.g. 144.00"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"flex items-center gap-2 border-b pb-2 text-sm font-bold uppercase tracking-wider text-muted-foreground",children:[s.jsx(Y,{className:"text-primary"})," Administration"]}),s.jsx(sl,{label:"ULB",name:"ulb_id",data:v}),s.jsx(Hr,{label:"Effective Date",name:"effective_date",type:"date"})]})]}),s.jsx(kl,{className:"opacity-50"}),s.jsx("div",{className:"flex items-center justify-end gap-3",children:s.jsx(Zr,{isLoading:f,type:"submit",className:"h-11 rounded-xl bg-primary px-10 text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:l?"Update Cost Policy":"Save Cost Entry"})})]})})})})}function cd(){var t,a;const r=m(),[l,i]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,v]=e.useState(null),b=Pr({key:"api_getBuildingRentalCostApiList",api:Ha.api_getBuildingRentalCostApiList,options:{enabled:!0}}),j=(null==(a=null==(t=null==b?void 0:b.data)?void 0:t.data)?void 0:a.filter(e=>{var t,s;return(null==(t=null==e?void 0:e.ulb_id)?void 0:t.toString().includes(o))||(null==(s=null==e?void 0:e.x)?void 0:s.toString().includes(o))}))||[],y=l*n,N=y-n,w=j.slice(N,y);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(Rr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Sa,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Building Rental Cost Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[j.length," Entries"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search by cost or ULB ID...",value:o,onChange:e=>{u(e.target.value),i(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(Sa,{type:"button",onClick:()=>{g(!1),v(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New Entry"]})]})]})}),s.jsxs(Mr,{className:"p-0",children:[b.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(qr,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading cost list..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(Tr,{children:[s.jsx(Ur,{children:s.jsxs(Fr,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(Br,{className:"w-16 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(Br,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Rental Cost (X)"}),s.jsx(Br,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"ULB ID"}),s.jsx(Br,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Effective Date"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(zr,{children:s.jsx(P,{children:w.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(Or,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:N+t+1})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 min-w-[40px] items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(Ee,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{className:"text-base font-bold text-primary",children:["",null==e?void 0:e.x]})]})}),s.jsx(Or,{className:"py-4 text-sm font-medium",children:s.jsxs(ld,{variant:"secondary",className:"rounded-md",children:["ULB #",null==e?void 0:e.ulb_id]})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(ee,{className:"h-3 w-3"}),null==e?void 0:e.effective_date]})}),s.jsx(Or,{className:"py-4 text-center",children:s.jsxs("span",{className:ma("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(F,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Suspended"]})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>{v(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>{jr("Delete Cost Entry","Are you sure you want to delete this cost entry? (UI Only)",async()=>{c.success("UI Only: Deleted successfully (API disabled)"),b.refetch()})},className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(Or,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(rl,{checked:1===e.is_suspended,onCheckedChange:()=>(c.success("UI Only: Status toggled (API disabled)"),void b.refetch())})})})]},e.id))})})]}),j.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(Wr,{currentPage:l,totalItems:j.length,itemsPerPage:n,onPageChange:e=>{i(e)},onItemsPerPageChange:e=>{d(e),i(1)}})})]}),!b.isLoading&&0===j.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Ee,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No cost entries found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No building rental cost entries have been configured yet."}),!o&&s.jsxs(Sa,{className:"mt-6",onClick:()=>{g(!1),v(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add Entry"]})]})]})]}),s.jsx(od,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:b.refetch})]})})}function ud(){return s.jsx(Lr,{title:"Building Rental Cost Master",children:s.jsx(cd,{})})}const md=aa().shape({usage_types_id:ia().typeError("Usage type is required").required("Usage type is required"),zone_id:ia().typeError("Zone is required").required("Zone is required"),construction_types_id:ia().typeError("Construction type is required").required("Construction type is required"),rate:la().required("Rate is required").matches(/^\d+(\.\d{1,2})?$/,"Enter a valid rate (e.g. 1.60)"),ulb_id:ia().typeError("ULB is required").required("ULB is required")});function xd({open:t,setOpen:a,title:r,edit:l,setEdit:i,id:n,refetch:d,editData:o}){var u,m,x,p,h,g,f,v;const b=Pr({key:"api_getUsageTypeApiList",api:Ha.api_getUsageTypeApiList,options:{}}),j=Pr({key:"zone_list_Api",api:Ha.zone_list_Api,options:{}}),y=Pr({key:"api_getConstructionApiList",api:Ha.api_getConstructionApiList,options:{}}),N=Pr({key:"api_getUlbList",api:Ha.api_getUlbList,options:{}}),_=w({defaultValues:{usage_types_id:void 0,zone_id:void 0,construction_types_id:void 0,rate:"",ulb_id:void 0},resolver:k(md)}),{reset:S,handleSubmit:A,formState:{isSubmitting:C}}=_;e.useEffect(()=>{t&&S(l&&o?{usage_types_id:o.usage_types_id,zone_id:o.zone_id,construction_types_id:o.construction_types_id,rate:o.rate||"",ulb_id:o.ulb_id}:{usage_types_id:void 0,zone_id:void 0,construction_types_id:void 0,rate:"",ulb_id:void 0})},[t,l,o,S]);const L=(null==(m=null==(u=null==b?void 0:b.data)?void 0:u.data)?void 0:m.map(e=>({value:e.id.toString(),label:e.usage_type})))||[],P=(null==(p=null==(x=null==j?void 0:j.data)?void 0:x.data)?void 0:p.map(e=>({value:e.id.toString(),label:e.zone_name})))||[],I=(null==(g=null==(h=null==y?void 0:y.data)?void 0:h.data)?void 0:g.map(e=>({value:e.id.toString(),label:e.construction_type})))||[],R=(null==(v=null==(f=null==N?void 0:N.data)?void 0:f.data)?void 0:v.map(e=>({value:e.id.toString(),label:e.ulb_name})))||[];return s.jsx(_l,{open:t,setOpen:a,title:r||(l?"Edit Rental Value":"Add Rental Value"),setEdit:i,edit:l,children:s.jsx("div",{className:"p-1",children:s.jsx($r,{methods:_,onSubmit:A(async e=>{c.success(`UI Only: Rental value ${l?"updated":"added"} successfully (API disabled)`),a(!1),i&&i(!1),d&&d()}),children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsx("div",{className:"max-h-[60vh] overflow-y-auto px-1",children:s.jsxs("div",{className:"grid grid-cols-1 gap-5 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"flex items-center gap-2 border-b pb-2 text-sm font-bold uppercase tracking-wider text-muted-foreground",children:[s.jsx(we,{className:"text-primary"})," Categorization"]}),s.jsx(sl,{label:"Usage Type",name:"usage_types_id",data:L}),s.jsx(sl,{label:"Construction Type",name:"construction_types_id",data:I})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"flex items-center gap-2 border-b pb-2 text-sm font-bold uppercase tracking-wider text-muted-foreground",children:[s.jsx(X,{className:"text-primary"})," Location & Value"]}),s.jsx(sl,{label:"Zone",name:"zone_id",data:P}),s.jsx(Hr,{label:"Rental Rate (per sq ft)",name:"rate",placeholder:"0.00"})]}),s.jsxs("div",{className:"space-y-4 md:col-span-2",children:[s.jsxs("h4",{className:"flex items-center gap-2 border-b pb-2 text-sm font-bold uppercase tracking-wider text-muted-foreground",children:[s.jsx(Y,{className:"text-primary"})," Administrative"]}),s.jsx(sl,{label:"ULB",name:"ulb_id",data:R})]})]})}),s.jsx(kl,{className:"opacity-50"}),s.jsx("div",{className:"flex items-center justify-end gap-3",children:s.jsx(Zr,{isLoading:C,type:"submit",className:"h-11 rounded-xl bg-primary px-10 text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:l?"Update Rental Policy":"Save Rental Value"})})]})})})})}function pd(){var t,a;const r=m(),[l,i]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,v]=e.useState(null),b=Pr({key:"api_getRentalValuesApiList",api:Ha.api_getRentalValuesApiList,options:{enabled:!0}}),j=(null==(a=null==(t=null==b?void 0:b.data)?void 0:t.data)?void 0:a.filter(e=>{var t,s,a;return(null==(t=null==e?void 0:e.usage_types_id)?void 0:t.toString().includes(o))||(null==(s=null==e?void 0:e.zone_id)?void 0:s.toString().includes(o))||(null==(a=null==e?void 0:e.rate)?void 0:a.toString().includes(o))}))||[],y=l*n,N=y-n,w=j.slice(N,y);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(Rr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Sa,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Rental Value Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[j.length," Policy Entries"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search by ID or Rate...",value:o,onChange:e=>{u(e.target.value),i(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(Sa,{type:"button",onClick:()=>{g(!1),v(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New Policy"]})]})]})}),s.jsxs(Mr,{className:"p-0",children:[b.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(qr,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading rental policies..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(Tr,{children:[s.jsx(Ur,{children:s.jsxs(Fr,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(Br,{className:"w-16 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(Br,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Categories (Usage/Construction)"}),s.jsx(Br,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Zone & ULB"}),s.jsx(Br,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Rental Rate"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(zr,{children:s.jsx(P,{children:w.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(Or,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:N+t+1})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 min-w-[40px] items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(Me,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex gap-1",children:[s.jsxs(ld,{variant:"outline",className:"text-[10px] font-bold",children:["U: #",null==e?void 0:e.usage_types_id]}),s.jsxs(ld,{variant:"outline",className:"text-[10px] font-bold",children:["C: #",null==e?void 0:e.construction_types_id]})]}),s.jsxs("p",{className:"text-[10px] font-bold uppercase tracking-tight text-muted-foreground",children:["Policy ID: ",e.id]})]})]})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"flex items-center gap-2 text-sm",children:s.jsxs("span",{className:"font-bold text-foreground",children:["Zone ",null==e?void 0:e.zone_id]})}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["ULB ID: ",null==e?void 0:e.ulb_id]})]})}),s.jsxs(Or,{className:"py-4",children:[s.jsxs("div",{className:"text-base font-bold text-primary",children:["",null==e?void 0:e.rate]}),s.jsx("p",{className:"text-[10px] text-muted-foreground",children:"per sq. ft."})]}),s.jsx(Or,{className:"py-4 text-center",children:s.jsxs("span",{className:ma("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(F,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Suspended"]})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>{v(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>{jr("Delete Rental Policy","Are you sure you want to delete this rental value entry?",async()=>{c.success("UI Only: Deleted successfully (API disabled)"),b.refetch()})},className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(Or,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(rl,{checked:1===e.is_suspended,onCheckedChange:()=>(c.success("UI Only: Status toggled (API disabled)"),void b.refetch())})})})]},e.id))})})]}),j.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(Wr,{currentPage:l,totalItems:j.length,itemsPerPage:n,onPageChange:e=>{i(e)},onItemsPerPageChange:e=>{d(e),i(1)}})})]}),!b.isLoading&&0===j.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Me,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No rental policies found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No rental value policies have been configured yet."}),!o&&s.jsxs(Sa,{className:"mt-6",onClick:()=>{g(!1),v(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Policy"]})]})]})]}),s.jsx(xd,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:b.refetch})]})})}function hd(){return s.jsx(Lr,{title:"Rental Value Master",children:s.jsx(pd,{})})}const gd=aa().shape({prop_road_typ_id:ia().typeError("Road type is required").required("Road type is required"),range_from_sqft:la().required("Range from is required").matches(/^\d+(\.\d{1,2})?$/,"Enter a valid number"),range_upto_sqft:la().nullable().transform(e=>""===e?null:e).test("is-valid-number","Enter a valid number",e=>!e||/^\d+(\.\d{1,2})?$/.test(e)),effective_date:la().required("Effective date is required")});function fd({open:t,setOpen:a,title:r,edit:l,setEdit:i,id:n,refetch:d,editData:o}){var u,m;const x=Pr({key:"api_getRoadApiList",api:Ha.api_getRoadApiList,options:{}}),p=w({defaultValues:{prop_road_typ_id:void 0,range_from_sqft:"",range_upto_sqft:null,effective_date:""},resolver:k(gd)}),{reset:h,handleSubmit:g,formState:{isSubmitting:f}}=p;e.useEffect(()=>{t&&h(l&&o?{prop_road_typ_id:o.prop_road_typ_id,range_from_sqft:o.range_from_sqft||"",range_upto_sqft:o.range_upto_sqft||null,effective_date:o.effective_date||""}:{prop_road_typ_id:void 0,range_from_sqft:"",range_upto_sqft:null,effective_date:(new Date).toISOString().split("T")[0]})},[t,l,o,h]);const v=(null==(m=null==(u=null==x?void 0:x.data)?void 0:u.data)?void 0:m.map(e=>({value:e.id.toString(),label:e.road_type})))||[];return s.jsx(_l,{open:t,setOpen:a,title:r||(l?"Edit Road Type Entry":"Add Road Type Entry"),setEdit:i,edit:l,children:s.jsx("div",{className:"p-1",children:s.jsx($r,{methods:p,onSubmit:g(async e=>{c.success(`UI Only: Road type entry ${l?"updated":"added"} successfully (API disabled)`),a(!1),i&&i(!1),d&&d()}),children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-5 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-4 md:col-span-2",children:[s.jsxs("h4",{className:"flex items-center gap-2 border-b pb-2 text-sm font-bold uppercase tracking-wider text-muted-foreground",children:[s.jsx(Le,{className:"text-primary"})," Road Classification"]}),s.jsx(sl,{label:"Select Road Type",name:"prop_road_typ_id",data:v})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"flex items-center gap-2 border-b pb-2 text-sm font-bold uppercase tracking-wider text-muted-foreground",children:[s.jsx(Te,{className:"text-primary"})," Measurement Range"]}),s.jsx(Hr,{label:"Range From (sq. ft.)",name:"range_from_sqft",placeholder:"0.00"}),s.jsx(Hr,{label:"Range Upto (sq. ft.)",name:"range_upto_sqft",placeholder:"Leave blank for no limit"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"flex items-center gap-2 border-b pb-2 text-sm font-bold uppercase tracking-wider text-muted-foreground",children:[s.jsx(ee,{className:"text-primary"})," Validity"]}),s.jsx(Hr,{label:"Effective Date",name:"effective_date",type:"date"})]})]}),s.jsx(kl,{className:"opacity-50"}),s.jsx("div",{className:"flex items-center justify-end gap-3",children:s.jsx(Zr,{isLoading:f,type:"submit",className:"h-11 rounded-xl bg-primary px-10 text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:l?"Update Entry":"Save Entry"})})]})})})})}function vd(){var t,a;const r=m(),[l,i]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,v]=e.useState(null),b=Pr({key:"api_getRoadTypesApiList",api:Ha.api_getRoadTypesApiList,options:{enabled:!0}}),j=(null==(a=null==(t=null==b?void 0:b.data)?void 0:t.data)?void 0:a.filter(e=>{var t,s,a;return(null==(t=null==e?void 0:e.prop_road_typ_id)?void 0:t.toString().includes(o))||(null==(s=null==e?void 0:e.range_from_sqft)?void 0:s.toString().includes(o))||(null==(a=null==e?void 0:e.range_upto_sqft)?void 0:a.toString().includes(o))}))||[],y=l*n,N=y-n,w=j.slice(N,y);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(Rr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Sa,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Road Type List Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[j.length," Entries Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search by ID or Range...",value:o,onChange:e=>{u(e.target.value),i(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(Sa,{type:"button",onClick:()=>{g(!1),v(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New Entry"]})]})]})}),s.jsxs(Mr,{className:"p-0",children:[b.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(qr,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading road type list..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(Tr,{children:[s.jsx(Ur,{children:s.jsxs(Fr,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(Br,{className:"w-16 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(Br,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Road Type ID"}),s.jsx(Br,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"SQFT Range"}),s.jsx(Br,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Effective Date"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(zr,{children:s.jsx(P,{children:w.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(Or,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:N+t+1})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 min-w-[40px] items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(Le,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-bold leading-tight text-foreground",children:["Type ID: #",null==e?void 0:e.prop_road_typ_id]}),s.jsxs("p",{className:"text-[10px] font-bold uppercase text-muted-foreground",children:["Record #",e.id]})]})]})}),s.jsx(Or,{className:"py-4",children:s.jsx("div",{className:"flex flex-wrap items-center gap-2",children:s.jsxs(ld,{variant:"secondary",className:"flex items-center gap-1.5 py-1",children:[s.jsx(Ue,{className:"h-3 w-3 opacity-70"}),e.range_from_sqft," -"," ",e.range_upto_sqft||""," SQFT"]})})}),s.jsx(Or,{className:"py-4",children:s.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:null==e?void 0:e.effective_date})}),s.jsx(Or,{className:"py-4 text-center",children:s.jsxs("span",{className:ma("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(F,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Suspended"]})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>{v(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>{jr("Delete Entry","Are you sure you want to delete this road type entry?",async()=>{c.success("UI Only: Deleted successfully (API disabled)"),b.refetch()})},className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(Or,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(rl,{checked:1===e.is_suspended,onCheckedChange:()=>(c.success("UI Only: Status toggled (API disabled)"),void b.refetch())})})})]},e.id))})})]}),j.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(Wr,{currentPage:l,totalItems:j.length,itemsPerPage:n,onPageChange:e=>{i(e)},onItemsPerPageChange:e=>{d(e),i(1)}})})]}),!b.isLoading&&0===j.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Le,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No entries found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No road type list entries have been configured yet."}),!o&&s.jsxs(Sa,{className:"mt-6",onClick:()=>{g(!1),v(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add Entry"]})]})]})]}),s.jsx(fd,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:b.refetch})]})})}function bd(){return s.jsx(Lr,{title:"Road Type List Master",children:s.jsx(vd,{})})}const jd=aa().shape({prop_road_type_id:ia().typeError("Road type is required").required("Road type is required"),ulb_type_id:ia().typeError("ULB type is required").required("ULB type is required"),rate:la().required("Rate is required").matches(/^\d+(\.\d{1,2})?$/,"Enter a valid rate (e.g. 2.50)"),effective_date:la().required("Effective date is required")});function yd({open:t,setOpen:a,title:r,edit:l,setEdit:i,id:n,refetch:d,editData:o}){var u,m;const x=Pr({key:"api_getRoadApiList",api:Ha.api_getRoadApiList,options:{}}),p=w({defaultValues:{prop_road_type_id:void 0,ulb_type_id:void 0,rate:"",effective_date:""},resolver:k(jd)}),{reset:h,handleSubmit:g,formState:{isSubmitting:f}}=p;e.useEffect(()=>{t&&h(l&&o?{prop_road_type_id:o.prop_road_type_id,ulb_type_id:o.ulb_type_id,rate:o.rate||"",effective_date:o.effective_date||""}:{prop_road_type_id:void 0,ulb_type_id:void 0,rate:"",effective_date:(new Date).toISOString().split("T")[0]})},[t,l,o,h]);const v=(null==(m=null==(u=null==x?void 0:x.data)?void 0:u.data)?void 0:m.map(e=>({value:e.id.toString(),label:e.road_type})))||[];return s.jsx(_l,{open:t,setOpen:a,title:r||(l?"Edit Vacant Rental Rate":"Add Vacant Rental Rate"),setEdit:i,edit:l,children:s.jsx("div",{className:"p-1",children:s.jsx($r,{methods:p,onSubmit:g(async e=>{c.success(`UI Only: Vacant rental rate ${l?"updated":"added"} successfully (API disabled)`),a(!1),i&&i(!1),d&&d()}),children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-5 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-4 md:col-span-2",children:[s.jsxs("h4",{className:"flex items-center gap-2 border-b pb-2 text-sm font-bold uppercase tracking-wider text-muted-foreground",children:[s.jsx(Y,{className:"text-primary"})," ULB & Road Info"]}),s.jsxs("div",{className:"grid grid-cols-1 gap-5 md:grid-cols-2",children:[s.jsx(sl,{label:"ULB Type",name:"ulb_type_id",data:[{value:"1",label:"Municipal Corporation"},{value:"2",label:"Municipality"},{value:"3",label:"Nagar Panchayat"}]}),s.jsx(sl,{label:"Road Type",name:"prop_road_type_id",data:v})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"flex items-center gap-2 border-b pb-2 text-sm font-bold uppercase tracking-wider text-muted-foreground",children:[s.jsx(De,{className:"text-primary"})," Rate Details"]}),s.jsx(Hr,{label:"Rate (per sq. ft.)",name:"rate",placeholder:"0.00"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"flex items-center gap-2 border-b pb-2 text-sm font-bold uppercase tracking-wider text-muted-foreground",children:[s.jsx(ee,{className:"text-primary"})," Validity"]}),s.jsx(Hr,{label:"Effective Date",name:"effective_date",type:"date"})]})]}),s.jsx(kl,{className:"opacity-50"}),s.jsx("div",{className:"flex items-center justify-end gap-3",children:s.jsx(Zr,{isLoading:f,type:"submit",className:"h-11 rounded-xl bg-primary px-10 text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:l?"Update Rate Policy":"Save Rate Strategy"})})]})})})})}function Nd(){var t,a;const r=m(),[l,i]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,v]=e.useState(null),b=Pr({key:"api_getVacantRentalRatesApiList",api:Ha.api_getVacantRentalRatesApiList,options:{enabled:!0}}),j=(null==(a=null==(t=null==b?void 0:b.data)?void 0:t.data)?void 0:a.filter(e=>{var t,s,a;return(null==(t=null==e?void 0:e.prop_road_type_id)?void 0:t.toString().includes(o))||(null==(s=null==e?void 0:e.ulb_type_id)?void 0:s.toString().includes(o))||(null==(a=null==e?void 0:e.rate)?void 0:a.toString().includes(o))}))||[],y=l*n,N=y-n,w=j.slice(N,y);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(Rr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Sa,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Vacant Rental Rate Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[j.length," Specialized Rates"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search by ID or Rate...",value:o,onChange:e=>{u(e.target.value),i(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(Sa,{type:"button",onClick:()=>{g(!1),v(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New Rate"]})]})]})}),s.jsxs(Mr,{className:"p-0",children:[b.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(qr,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading specialized rates..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(Tr,{children:[s.jsx(Ur,{children:s.jsxs(Fr,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(Br,{className:"w-16 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(Br,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Entities (Road / ULB Type)"}),s.jsx(Br,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Rental Rate"}),s.jsx(Br,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Effective Date"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(Br,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(zr,{children:s.jsx(P,{children:w.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(Or,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:N+t+1})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 min-w-[40px] items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(ze,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"flex items-center gap-1.5",children:s.jsxs(ld,{variant:"outline",className:"text-[10px] font-bold",children:["Road ID: #",null==e?void 0:e.prop_road_type_id]})}),s.jsxs("div",{className:"text-[10px] font-bold uppercase text-muted-foreground",children:["ULB Type ID: ",null==e?void 0:e.ulb_type_id]})]})]})}),s.jsxs(Or,{className:"py-4",children:[s.jsxs("div",{className:"text-base font-bold text-primary",children:["",null==e?void 0:e.rate]}),s.jsx("p",{className:"text-[10px] text-muted-foreground",children:"per sq. ft. / month"})]}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[s.jsx(ee,{className:"h-3 w-3 opacity-70"}),null==e?void 0:e.effective_date]})}),s.jsx(Or,{className:"py-4 text-center",children:s.jsxs("span",{className:ma("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(F,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Suspended"]})}),s.jsx(Or,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>{v(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>{jr("Delete Policy","Are you sure you want to delete this vacant rental rate entry?",async()=>{c.success("UI Only: Deleted successfully (API disabled)"),b.refetch()})},className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(Or,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(rl,{checked:1===e.is_suspended,onCheckedChange:()=>(c.success("UI Only: Status toggled (API disabled)"),void b.refetch())})})})]},e.id))})})]}),j.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(Wr,{currentPage:l,totalItems:j.length,itemsPerPage:n,onPageChange:e=>{i(e)},onItemsPerPageChange:e=>{d(e),i(1)}})})]}),!b.isLoading&&0===j.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(ze,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No vacant rental rates found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No specialized rental rates have been configured for vacant properties."}),!o&&s.jsxs(Sa,{className:"mt-6",onClick:()=>{g(!1),v(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add Entry"]})]})]})]}),s.jsx(yd,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:b.refetch})]})})}function wd(){return s.jsx(Lr,{title:"Vacant Rental Rate Master",children:s.jsx(Nd,{})})}const kd=aa().shape({id:ia().nullable(),workflowName:la().required("Workflow Name is required"),moduleId:ia().typeError("Module is required").required("Module is required")});function _d({open:t,setOpen:a,edit:r,setEdit:l,editData:i,refetch:n}){var d,o;const u=Ir({}),m=Pr({api:Ga.userManagementModuleList,key:"userManagementModuleList",options:{enabled:t}}),x=w({defaultValues:{id:void 0,workflowName:"",moduleId:void 0},resolver:k(kd)}),{reset:p,handleSubmit:h,formState:{isSubmitting:g}}=x;e.useEffect(()=>{t&&p(r&&i?{id:i.id,workflowName:i.workflow_name,moduleId:i.module_id}:{id:void 0,workflowName:"",moduleId:void 0})},[t,r,i,p]);const f=(null==(o=null==(d=null==m?void 0:m.data)?void 0:d.data)?void 0:o.map(e=>({value:e.id.toString(),label:e.module_name})))||[];return s.jsx(_l,{open:t,setOpen:a,title:r?"Update Workflow":"Add New Workflow",setEdit:l,edit:r,children:s.jsx("div",{className:"p-1",children:s.jsx($r,{methods:x,onSubmit:h(async e=>{var t,s,i;try{const d=r?Za.workflowUpdate:Za.workflowAdd,o=await u.mutateAsync({api:d,data:e});(null==(t=null==o?void 0:o.data)?void 0:t.status)?(c.success((null==(s=null==o?void 0:o.data)?void 0:s.message)||`Workflow ${r?"updated":"added"} successfully`),a(!1),l&&l(!1),n()):c.error((null==(i=null==o?void 0:o.data)?void 0:i.message)||"Something went wrong")}catch(d){c.error(Ya(d))}}),children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"flex items-center gap-3 rounded-xl bg-primary/5 p-4 text-primary",children:[s.jsx(z,{size:20}),s.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider",children:"Workflow Configuration"})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsx(Hr,{label:"Workflow Name",name:"workflowName",placeholder:"e.g. RIG MACHINE"}),s.jsx(sl,{label:"Assign to Module",name:"moduleId",data:f})]})]}),s.jsx("div",{className:"flex items-center justify-end gap-3 border-t pt-4",children:s.jsx(Zr,{isLoading:g,type:"submit",className:"h-11 rounded-xl bg-primary px-8 text-sm font-bold text-primary-foreground shadow-lg shadow-primary/20 transition-all hover:shadow-xl active:scale-95",children:r?"Update Workflow":"Create Workflow"})})]})})})})}function Sd(){var t,a;const[r,l]=e.useState(1),[i,n]=e.useState(10),[d,o]=e.useState(""),u=e.useRef(null),[m,x]=e.useState(!1),[p,h]=e.useState(!1),[g,f]=e.useState(null),v=Pr({api:Za.workflowList,key:"workflowList",options:{enabled:!0}}),b=Ir({}),j=(null==(a=null==(t=null==v?void 0:v.data)?void 0:t.data)?void 0:a.filter(e=>{var t,s;return(null==(t=null==e?void 0:e.workflow_name)?void 0:t.toLowerCase().includes(d.toLowerCase()))||(null==(s=null==e?void 0:e.module_name)?void 0:s.toLowerCase().includes(d.toLowerCase()))}))||[],y=r*i,N=y-i,w=null==j?void 0:j.slice(N,y);return s.jsxs("div",{className:"mt-4",children:[s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(Rr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-primary/10 text-primary",children:s.jsx(z,{size:24})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Workflow Master"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Define and manage system-wide workflow processes"})]})]}),s.jsxs("div",{className:"flex w-full flex-wrap items-center gap-3 lg:w-auto",children:[s.jsxs("div",{className:"relative flex-1 lg:min-w-[300px]",children:[s.jsx(C,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground"}),s.jsx("input",{ref:u,type:"text",placeholder:"Search workflow or module (Alt+S)...",className:"h-10 w-full rounded-xl border border-input bg-background pl-10 pr-4 text-sm ring-offset-background transition-all focus:outline-none focus:ring-2 focus:ring-primary/20",value:d,onChange:e=>o(e.target.value)})]}),s.jsxs(Sa,{onClick:()=>{f(null),h(!1),x(!0)},className:"h-10 gap-2 rounded-xl bg-primary px-4 font-semibold text-primary-foreground shadow-lg shadow-primary/20 transition-all hover:shadow-xl active:scale-95",children:[s.jsx(L,{size:14}),s.jsx("span",{children:"Add Workflow"})]})]})]})}),s.jsx("div",{className:"relative",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Tr,{children:[s.jsx(Ur,{className:"bg-muted/50",children:s.jsxs(Fr,{className:"hover:bg-transparent",children:[s.jsx(Br,{className:"w-[80px] font-bold",children:"SL. No."}),s.jsx(Br,{className:"font-bold",children:"Workflow Name"}),s.jsx(Br,{className:"font-bold",children:"Module Name"}),s.jsx(Br,{className:"text-center font-bold",children:"Created At"}),s.jsx(Br,{className:"text-right font-bold",children:"Actions"})]})}),s.jsx(zr,{className:"px-4",children:s.jsx(P,{mode:"wait",children:(null==v?void 0:v.isLoading)?s.jsx(Fr,{children:s.jsx(Or,{colSpan:5,className:"h-48 text-center",children:s.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[s.jsx(qr,{}),s.jsx("p",{className:"animate-pulse text-sm text-muted-foreground",children:"Loading workflows..."})]})})}):0===w.length?s.jsx(Fr,{children:s.jsx(Or,{colSpan:5,className:"h-48 text-center",children:s.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 opacity-50",children:[s.jsx(z,{size:50,className:"text-muted-foreground"}),s.jsx("p",{className:"font-medium text-muted-foreground",children:"No workflows found"})]})})}):w.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{delay:.05*t},className:"group border-b transition-colors hover:bg-muted/30",children:[s.jsx(Or,{className:"font-medium p-4",children:(r-1)*i+t+1}),s.jsx(Or,{children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-bold text-foreground",children:e.workflow_name}),s.jsxs("span",{className:"text-[10px] uppercase tracking-wider text-muted-foreground",children:["ID: #",e.id]})]})}),s.jsx(Or,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex h-7 w-7 items-center justify-center rounded-lg bg-blue-100/50 text-blue-600 dark:bg-blue-900/20",children:s.jsx(Z,{size:12})}),s.jsx("span",{className:"font-semibold",children:e.module_name})]})}),s.jsx(Or,{className:"text-center text-sm italic text-muted-foreground",children:e.created_at||"N/A"}),s.jsx(Or,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>(e=>{f(e),h(!0),x(!0)})(e),className:"h-8 w-8 rounded-lg text-blue-600 hover:bg-blue-50 hover:text-blue-700 dark:hover:bg-blue-900/30",title:"Edit",children:s.jsx(E,{size:14})}),s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>(async e=>{jr("Are you sure?","Do you want to delete this workflow?",async()=>{var t,s,a;try{const r=await b.mutateAsync({api:Za.workflowDelete,data:{id:e}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Workflow deleted successfully"),v.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete workflow")}catch(r){c.error(Ya(r))}})})(e.id),className:"h-8 w-8 rounded-lg text-red-600 hover:bg-red-50 hover:text-red-700 dark:hover:bg-red-900/30",title:"Delete",children:s.jsx(M,{size:14})})]})})]},e.id))})})]})})}),!(null==v?void 0:v.isLoading)&&j.length>0&&s.jsx("div",{className:"border-t bg-muted/10 p-4",children:s.jsx(Wr,{currentPage:r,onPageChange:e=>{l(e)},itemsPerPage:i,onItemsPerPageChange:e=>{n(e),l(1)},totalItems:j.length})})]})}),s.jsx(_d,{open:m,setOpen:x,edit:p,setEdit:h,editData:g,refetch:v.refetch})]})}const Ad=aa().shape({id:ia().nullable(),ulbId:ia().typeError("ULB is required").required("ULB is required"),wfMasterId:ia().typeError("Workflow is required").required("Workflow is required"),altName:la().nullable(),initiatorRoleId:ia().typeError("Initiator Role is required").required("Initiator Role is required"),finisherRoleId:ia().typeError("Finisher Role is required").required("Finisher Role is required"),isDocRequired:ra().nullable()});function Cd({open:t,setOpen:a,edit:r,setEdit:l,editData:i,refetch:n}){var d,o,u,m,x,p;const h=Ir({}),g=Pr({api:Ha.api_getUlbList,key:"api_getUlbList",options:{enabled:t}}),f=Pr({api:Za.workflowList,key:"workflowList",options:{enabled:t}}),b=Pr({api:Za.allRole,key:"allRoleList",options:{enabled:t}}),j=w({defaultValues:{id:void 0,ulbId:void 0,wfMasterId:void 0,altName:"",initiatorRoleId:void 0,finisherRoleId:void 0,isDocRequired:!1},resolver:k(Ad)}),{reset:y,handleSubmit:N,control:_,formState:{isSubmitting:S}}=j;e.useEffect(()=>{t&&y(r&&i?{id:i.id,ulbId:i.ulb_id,wfMasterId:i.wf_master_id,altName:i.alt_name||"",initiatorRoleId:i.initiator_role_id,finisherRoleId:i.finisher_role_id,isDocRequired:Boolean(i.is_doc_required)}:{id:void 0,ulbId:void 0,wfMasterId:void 0,altName:"",initiatorRoleId:void 0,finisherRoleId:void 0,isDocRequired:!1})},[t,r,i,y]);const A=(null==(o=null==(d=null==g?void 0:g.data)?void 0:d.data)?void 0:o.map(e=>({value:e.id.toString(),label:e.ulb_name})))||[],C=(null==(m=null==(u=null==f?void 0:f.data)?void 0:u.data)?void 0:m.map(e=>({value:e.id.toString(),label:e.workflow_name})))||[],L=(null==(p=null==(x=null==b?void 0:b.data)?void 0:x.data)?void 0:p.map(e=>({value:e.id.toString(),label:e.role_name})))||[];return s.jsx(_l,{open:t,setOpen:a,title:r?"Edit ULB Workflow":"Add ULB Workflow",setEdit:l,edit:r,children:s.jsx("div",{className:"p-2",children:s.jsx($r,{methods:j,onSubmit:N(async e=>{var t,s,i;try{const d=r?Za.ulbWfUpdate:Za.ulbWfAdd,o={...e,isDocRequired:e.isDocRequired?"true":"false"},u=await h.mutateAsync({api:d,data:o});(null==(t=null==u?void 0:u.data)?void 0:t.status)?(c.success((null==(s=null==u?void 0:u.data)?void 0:s.message)||`ULB Workflow ${r?"updated":"added"} successfully`),a(!1),l&&l(!1),n()):c.error((null==(i=null==u?void 0:u.data)?void 0:i.message)||"Something went wrong")}catch(d){c.error(Ya(d))}}),children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-5 md:grid-cols-2",children:[s.jsx(sl,{label:"ULB Name",name:"ulbId",data:A}),s.jsx(sl,{label:"Workflow Name",name:"wfMasterId",data:C})]}),s.jsx(Hr,{label:"Alternate Name (Optional)",name:"altName",placeholder:"Enter alternate name if any..."}),s.jsxs("div",{className:"grid grid-cols-1 gap-5 md:grid-cols-2",children:[s.jsx(sl,{label:"Initiator Role Name",name:"initiatorRoleId",data:L}),s.jsx(sl,{label:"Finisher Role Name",name:"finisherRoleId",data:L})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-700 dark:text-gray-200",children:"Is Document Required?"}),s.jsx(v,{name:"isDocRequired",control:_,render:({field:e})=>s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("label",{className:"group flex cursor-pointer items-center gap-2",children:[s.jsx("div",{className:"flex h-5 w-5 items-center justify-center rounded-full border-2 transition-all "+(!0===e.value?"border-primary bg-primary shadow-lg shadow-primary/20":"border-slate-300 dark:border-slate-600"),children:!0===e.value&&s.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-white"})}),s.jsx("input",{type:"radio",className:"hidden",checked:!0===e.value,onChange:()=>e.onChange(!0)}),s.jsx("span",{className:"text-sm font-bold "+(!0===e.value?"text-primary":"text-muted-foreground"),children:"Yes"})]}),s.jsxs("label",{className:"group flex cursor-pointer items-center gap-2",children:[s.jsx("div",{className:"flex h-5 w-5 items-center justify-center rounded-full border-2 transition-all "+(!1===e.value?"border-slate-700 bg-slate-700 dark:border-slate-300 dark:bg-slate-300":"border-slate-300 dark:border-slate-600"),children:!1===e.value&&s.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-white dark:bg-slate-900"})}),s.jsx("input",{type:"radio",className:"hidden",checked:!1===e.value,onChange:()=>e.onChange(!1)}),s.jsx("span",{className:"text-sm font-bold "+(!1===e.value?"text-slate-800 dark:text-slate-200":"text-muted-foreground"),children:"No"})]})]})})]})]})}),s.jsx("div",{className:"flex items-center justify-end gap-3 border-t pt-5",children:s.jsx(Zr,{isLoading:S,type:"submit",className:"h-12 rounded-2xl bg-primary px-10 text-sm font-black uppercase tracking-widest text-primary-foreground shadow-xl shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:r?"Update Assignment":"Assign Workflow"})})]})})})})}function Ld(){var t,a;const[r,l]=e.useState(1),[i,n]=e.useState(10),[d,o]=e.useState(""),u=e.useRef(null),[m,x]=e.useState(!1),[p,h]=e.useState(!1),[g,f]=e.useState(null),v=Pr({api:Za.ulbWfList,key:"ulbWfList",options:{enabled:!0}}),b=Ir({}),j=(null==(a=null==(t=null==v?void 0:v.data)?void 0:t.data)?void 0:a.filter(e=>{var t,s,a;return(null==(t=null==e?void 0:e.workflow_name)?void 0:t.toLowerCase().includes(d.toLowerCase()))||(null==(s=null==e?void 0:e.ulb_name)?void 0:s.toLowerCase().includes(d.toLowerCase()))||(null==(a=null==e?void 0:e.alt_name)?void 0:a.toLowerCase().includes(d.toLowerCase()))}))||[],y=r*i,N=y-i,w=null==j?void 0:j.slice(N,y);return s.jsxs("div",{className:"mt-4",children:[s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(Rr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-blue-600/10 text-blue-600",children:s.jsx(_e,{size:24})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"ULB Workflow Management"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Assign and customize workflows for specific ULBs"})]})]}),s.jsxs("div",{className:"flex w-full flex-wrap items-center gap-3 lg:w-auto",children:[s.jsxs("div",{className:"relative flex-1 lg:min-w-[300px]",children:[s.jsx(C,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground"}),s.jsx("input",{ref:u,type:"text",placeholder:"Search workflow, ULB or alt name...",className:"h-10 w-full rounded-xl border border-input bg-background pl-10 pr-4 text-sm ring-offset-background transition-all focus:outline-none focus:ring-2 focus:ring-primary/20",value:d,onChange:e=>o(e.target.value)})]}),s.jsxs(Sa,{onClick:()=>{f(null),h(!1),x(!0)},className:"h-10 gap-2 rounded-xl bg-primary px-4 font-semibold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{size:14}),s.jsx("span",{children:"Add ULB Workflow"})]})]})]})}),s.jsx("div",{className:"relative",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Tr,{children:[s.jsx(Ur,{className:"bg-muted/40",children:s.jsxs(Fr,{className:"border-b text-center hover:bg-transparent",children:[s.jsx(Br,{className:"w-[80px] px-6 py-4 text-center text-[11px] font-bold uppercase tracking-wider text-muted-foreground",children:"SL."}),s.jsx(Br,{className:"px-6 py-4 text-left text-[11px] font-bold uppercase tracking-wider text-muted-foreground",children:"ULB & Workflow"}),s.jsx(Br,{className:"px-6 py-4 text-left text-[11px] font-bold uppercase tracking-wider text-muted-foreground",children:"Alternate Name"}),s.jsx(Br,{className:"px-6 py-4 text-center text-[11px] font-bold uppercase tracking-wider text-muted-foreground",children:"Roles (Init/Fin)"}),s.jsx(Br,{className:"px-6 py-4 text-center text-[11px] font-bold uppercase tracking-wider text-muted-foreground",children:"Doc Required"}),s.jsx(Br,{className:"px-6 py-4 text-right text-[11px] font-bold uppercase tracking-wider text-muted-foreground",children:"Actions"})]})}),s.jsx(zr,{children:s.jsx(P,{mode:"wait",children:(null==v?void 0:v.isLoading)?s.jsx(Fr,{children:s.jsx(Or,{colSpan:6,className:"h-64 border-none text-center",children:s.jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[s.jsx(qr,{}),s.jsx("p",{className:"animate-pulse text-sm font-medium text-muted-foreground",children:"Fetching ULB workflows..."})]})})}):0===w.length?s.jsx(Fr,{children:s.jsx(Or,{colSpan:6,className:"h-64 border-none text-center",children:s.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 opacity-40",children:[s.jsx(_e,{size:48,className:"text-muted-foreground"}),s.jsx("p",{className:"text-lg font-semibold text-muted-foreground",children:"No ULB workflows found"})]})})}):w.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,scale:.98},transition:{delay:.04*t,duration:.2},className:"group border-b transition-all last:border-0 hover:bg-muted/40",children:[s.jsx(Or,{className:"px-6 py-5 text-center font-semibold text-muted-foreground",children:(r-1)*i+t+1}),s.jsx(Or,{className:"px-6 py-5",children:s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"rounded bg-blue-100 px-1.5 py-0.5 text-[10px] font-bold uppercase text-blue-600",children:"ULB"}),s.jsx("span",{className:"text-sm font-bold text-foreground",children:e.ulb_name})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"rounded bg-slate-100 px-1.5 py-0.5 text-[10px] font-bold uppercase text-slate-600",children:"WF"}),s.jsx("span",{className:"text-xs font-semibold text-muted-foreground",children:e.workflow_name})]})]})}),s.jsx(Or,{className:"px-6 py-5",children:s.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:e.alt_name||"-"})}),s.jsx(Or,{className:"px-6 py-5 text-center",children:s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsx("div",{className:"flex h-7 w-7 items-center justify-center rounded-full bg-emerald-100 text-emerald-600 shadow-sm",title:`Initiator: ${e.initiator_role_name}`,children:s.jsx(U,{size:12})}),s.jsx("span",{className:"max-w-[80px] truncate text-[9px] font-black uppercase tracking-tighter text-muted-foreground",children:e.initiator_role_name||"--"})]}),s.jsx("div",{className:"h-4 w-[1px] rotate-12 bg-border"}),s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsx("div",{className:"flex h-7 w-7 items-center justify-center rounded-full bg-violet-100 text-violet-600 shadow-sm",title:`Finisher: ${e.finisher_role_name}`,children:s.jsx(U,{size:12})}),s.jsx("span",{className:"max-w-[90px] truncate text-[9px] font-black uppercase tracking-tighter text-muted-foreground",children:e.finisher_role_name||"--"})]})]})}),s.jsx(Or,{className:"px-6 py-5 text-center",children:s.jsx("div",{className:"inline-flex items-center gap-1 rounded-full px-2.5 py-1 text-[11px] font-bold "+(e.is_doc_required?"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400":"bg-slate-100 text-slate-600 dark:bg-slate-800"),children:e.is_doc_required?s.jsxs(s.Fragment,{children:[s.jsx(J,{size:10}),s.jsx("span",{children:"Yes"})]}):s.jsx("span",{children:"No"})})}),s.jsx(Or,{className:"px-6 py-5 text-right",children:s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>(e=>{f(e),h(!0),x(!0)})(e),className:"h-9 w-9 rounded-xl border border-blue-100 bg-blue-50 text-blue-600 shadow-sm transition-all hover:bg-blue-600 hover:text-white active:scale-90 dark:border-blue-900/30 dark:bg-blue-900/20",title:"Edit",children:s.jsx(E,{size:14})}),s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>(async e=>{jr("Are you sure?","Do you want to delete this ULB workflow?",async()=>{var t,s,a;try{const r=await b.mutateAsync({api:Za.ulbWfDelete,data:{id:e}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"ULB Workflow deleted successfully"),v.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete ULB workflow")}catch(r){c.error(Ya(r))}})})(e.id),className:"h-9 w-9 rounded-xl border border-red-100 bg-red-50 text-red-600 shadow-sm transition-all hover:bg-red-600 hover:text-white active:scale-90 dark:border-red-900/30 dark:bg-red-900/20",title:"Delete",children:s.jsx(M,{size:14})})]})})]},e.id))})})]})})}),!(null==v?void 0:v.isLoading)&&j.length>0&&s.jsx("div",{className:"border-t bg-muted/10 p-4",children:s.jsx(Wr,{currentPage:r,onPageChange:e=>{l(e)},itemsPerPage:i,onItemsPerPageChange:e=>{n(e),l(1)},totalItems:j.length})})]})}),s.jsx(Cd,{open:m,setOpen:x,edit:p,setEdit:h,editData:g,refetch:v.refetch})]})}const Pd=aa().shape({id:ia().nullable(),workflowName:la().required("Workflow Name is required"),roleName:la().required("Role Name is required"),fdRoleName:la().nullable(),bdRoleName:la().nullable(),isInitiator:ra().default(!1),isFinisher:ra().default(!1),isBtc:ra().default(!1),canViewDocument:ra().default(!1),canUploadDocument:ra().default(!1),canVerifyDocument:ra().default(!1),allowFreeCommunication:ra().default(!1),allowFullList:ra().default(!1),canEscalate:ra().default(!1),canForward:ra().default(!1),canBackward:ra().default(!1),isPseudo:ra().default(!1),showFieldVerification:ra().default(!1),serialNo:ia().typeError("Serial No must be a number").required("Serial No is required")});function Id({open:t,setOpen:a,edit:r,setEdit:l,editData:i,refetch:n}){var d,o,u,m;const x=Ir({}),p=Pr({api:Za.workflowList,key:"workflowList",options:{enabled:t}}),h=Pr({api:Za.allRole,key:"roleList",options:{enabled:t}}),g=w({defaultValues:{id:void 0,workflowName:"",roleName:"",fdRoleName:"",bdRoleName:"",isInitiator:!1,isFinisher:!1,isBtc:!1,canViewDocument:!1,canUploadDocument:!1,canVerifyDocument:!1,allowFreeCommunication:!1,allowFullList:!1,canEscalate:!1,canForward:!1,canBackward:!1,isPseudo:!1,showFieldVerification:!1,serialNo:0},resolver:k(Pd)}),{reset:f,handleSubmit:v,formState:{isSubmitting:b}}=g;e.useEffect(()=>{var e,s,a,l;t&&f(r&&i?{id:i.id,workflowName:null==(e=i.workflow_id)?void 0:e.toString(),roleName:null==(s=i.wf_role_id)?void 0:s.toString(),fdRoleName:(null==(a=i.forward_role_id)?void 0:a.toString())||"",bdRoleName:(null==(l=i.backward_role_id)?void 0:l.toString())||"",isInitiator:i.is_initiator,isFinisher:i.is_finisher,isBtc:i.is_btc,canViewDocument:i.can_view_document,canUploadDocument:i.can_upload_document,canVerifyDocument:i.can_verify_document,allowFreeCommunication:i.allow_free_communication,allowFullList:i.allow_full_list,canEscalate:i.can_escalate,canForward:i.can_forward,canBackward:i.can_backward,isPseudo:i.is_pseudo,showFieldVerification:i.show_field_verification,serialNo:i.serial_no}:{id:void 0,workflowName:"",roleName:"",fdRoleName:"",bdRoleName:"",isInitiator:!1,isFinisher:!1,isBtc:!1,canViewDocument:!1,canUploadDocument:!1,canVerifyDocument:!1,allowFreeCommunication:!1,allowFullList:!1,canEscalate:!1,canForward:!1,canBackward:!1,isPseudo:!1,showFieldVerification:!1,serialNo:0})},[t,r,i,f]);const j=(null==(o=null==(d=null==p?void 0:p.data)?void 0:d.data)?void 0:o.map(e=>({value:e.id.toString(),label:e.workflow_name})))||[],y=(null==(m=null==(u=null==h?void 0:h.data)?void 0:u.data)?void 0:m.map(e=>({value:e.id.toString(),label:e.role_name})))||[];return s.jsx(_l,{open:t,setOpen:a,title:r?"Update Role Map":"Add New Role Map",setEdit:l,edit:r,children:s.jsx("div",{className:"p-1",children:s.jsx($r,{methods:g,onSubmit:v(async e=>{var t,s,i;try{const d=r?Za.wfRoleUpdate:Za.wfRoleAdd,o={id:r?e.id:void 0,workflowId:Number(e.workflowName),wfRoleId:Number(e.roleName),forwardRoleId:e.fdRoleName?Number(e.fdRoleName):null,backwardRoleId:e.bdRoleName?Number(e.bdRoleName):null,isInitiator:e.isInitiator,isFinisher:e.isFinisher,isBtc:e.isBtc,canViewDocument:e.canViewDocument,canUploadDocument:e.canUploadDocument,canVerifyDocument:e.canVerifyDocument,allowFreeCommunication:e.allowFreeCommunication,allowFullList:e.allowFullList,canEscalate:e.canEscalate,canForward:e.canForward,canBackward:e.canBackward,isPseudo:e.isPseudo,showFieldVerification:e.showFieldVerification,serialNo:Number(e.serialNo)},u=await x.mutateAsync({api:d,data:o});(null==(t=null==u?void 0:u.data)?void 0:t.status)?(c.success((null==(s=null==u?void 0:u.data)?void 0:s.message)||`Workflow Map ${r?"updated":"added"} successfully`),a(!1),l&&l(!1),n()):c.error((null==(i=null==u?void 0:u.data)?void 0:i.message)||"Something went wrong")}catch(d){c.error(Ya(d))}}),children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-5 md:grid-cols-2",children:[s.jsx(sl,{label:"Workflow",name:"workflowName",data:j}),s.jsx(sl,{label:"Role",name:"roleName",data:y}),s.jsx(sl,{label:"Forward Role",name:"fdRoleName",data:y}),s.jsx(sl,{label:"Backward Role",name:"bdRoleName",data:y}),s.jsx(Hr,{label:"Serial No",name:"serialNo",type:"number",placeholder:"e.g. 1"})]}),s.jsxs("div",{className:"rounded-xl bg-muted/30 p-4",children:[s.jsx("p",{className:"mb-4 text-xs font-bold uppercase tracking-wider text-muted-foreground",children:"Permissions & Controls"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-3 lg:grid-cols-4",children:[s.jsx(ll,{label:"Is Initiator",name:"isInitiator"}),s.jsx(ll,{label:"Is Finisher",name:"isFinisher"}),s.jsx(ll,{label:"Is BTC",name:"isBtc"}),s.jsx(ll,{label:"Is Pseudo",name:"isPseudo"}),s.jsx(ll,{label:"Can View Docs",name:"canViewDocument"}),s.jsx(ll,{label:"Can Upload Docs",name:"canUploadDocument"}),s.jsx(ll,{label:"Can Verify Docs",name:"canVerifyDocument"}),s.jsx(ll,{label:"Can Forward",name:"canForward"}),s.jsx(ll,{label:"Can Backward",name:"canBackward"}),s.jsx(ll,{label:"Can Escalate",name:"canEscalate"}),s.jsx(ll,{label:"Free Comm.",name:"allowFreeCommunication"}),s.jsx(ll,{label:"Full List",name:"allowFullList"}),s.jsx(ll,{label:"Show Field Verif.",name:"showFieldVerification"})]})]}),s.jsx("div",{className:"flex items-center justify-end gap-3 border-t pt-4",children:s.jsx(Zr,{isLoading:b,type:"submit",className:"h-11 rounded-xl bg-violet-600 px-8 text-sm font-bold text-white shadow-lg shadow-violet-600/20 transition-all hover:bg-violet-700 active:scale-95",children:r?"Update Map":"Create Map"})})]})})})})}function Rd(){var t,a;const[r,l]=e.useState(1),[i,n]=e.useState(10),[d,o]=e.useState(""),u=e.useRef(null),[m,x]=e.useState(!1),[p,h]=e.useState(!1),[g,f]=e.useState(null),v=Pr({api:Za.wfRoleList,key:"wfRoleList",options:{enabled:!0}}),b=Ir({}),j=(null==(a=null==(t=null==v?void 0:v.data)?void 0:t.data)?void 0:a.filter(e=>{var t,s,a;return(null==(t=null==e?void 0:e.role_name)?void 0:t.toLowerCase().includes(d.toLowerCase()))||(null==(s=null==e?void 0:e.workflow_name)?void 0:s.toLowerCase().includes(d.toLowerCase()))||(null==(a=null==e?void 0:e.ulb_name)?void 0:a.toLowerCase().includes(d.toLowerCase()))}))||[],y=r*i,N=y-i,w=null==j?void 0:j.slice(N,y);return s.jsxs("div",{className:"mt-4",children:[s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(Rr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-violet-100 text-violet-600 dark:bg-violet-900/20",children:s.jsx(G,{size:24})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Workflow Role Mapping"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Define workflow steps and role permissions"})]})]}),s.jsxs("div",{className:"flex w-full flex-wrap items-center gap-3 lg:w-auto",children:[s.jsxs("div",{className:"relative flex-1 lg:min-w-[300px]",children:[s.jsx(C,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground"}),s.jsx("input",{ref:u,type:"text",placeholder:"Search role, workflow or ULB...",className:"h-10 w-full rounded-xl border border-input bg-background pl-10 pr-4 text-sm ring-offset-background transition-all focus:outline-none focus:ring-2 focus:ring-violet-500/20",value:d,onChange:e=>o(e.target.value)})]}),s.jsxs(Sa,{onClick:()=>{f(null),h(!1),x(!0)},className:"h-10 gap-2 rounded-xl bg-violet-600 px-4 font-semibold text-white shadow-lg shadow-violet-600/20 transition-all hover:bg-violet-700 active:scale-95",children:[s.jsx(L,{size:14}),s.jsx("span",{children:"Add Role Map"})]})]})]})}),s.jsx("div",{className:"relative",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Tr,{children:[s.jsx(Ur,{className:"bg-muted/50",children:s.jsxs(Fr,{className:"hover:bg-transparent",children:[s.jsx(Br,{className:"w-[80px] font-bold",children:"SL. No."}),s.jsx(Br,{className:"font-bold",children:"Role Name"}),s.jsx(Br,{className:"font-bold",children:"Workflow & ULB"}),s.jsx(Br,{className:"font-bold",children:"Direction"}),s.jsx(Br,{className:"min-w-[600px] text-center font-bold",children:"Permissions"}),s.jsx(Br,{className:"text-right font-bold",children:"Actions"})]})}),s.jsx(zr,{className:"px-4",children:s.jsx(P,{mode:"wait",children:(null==v?void 0:v.isLoading)?s.jsx(Fr,{children:s.jsx(Or,{colSpan:6,className:"h-48 text-center",children:s.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[s.jsx(qr,{}),s.jsx("p",{className:"animate-pulse text-sm text-muted-foreground",children:"Loading role maps..."})]})})}):0===w.length?s.jsx(Fr,{children:s.jsx(Or,{colSpan:6,className:"h-48 text-center",children:s.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 opacity-50",children:[s.jsx(G,{size:50,className:"text-muted-foreground"}),s.jsx("p",{className:"font-medium text-muted-foreground",children:"No role maps found"})]})})}):w.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{delay:.05*t},className:"group border-b transition-colors hover:bg-muted/30",children:[s.jsx(Or,{className:"p-4 font-medium",children:(r-1)*i+t+1}),s.jsx(Or,{children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-bold text-foreground",children:e.role_name}),s.jsxs("span",{className:"text-[10px] uppercase tracking-wider text-muted-foreground",children:["Step: #",e.serial_no]})]})}),s.jsx(Or,{children:s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Fe,{className:"text-violet-500",size:12}),s.jsx("span",{className:"text-xs font-semibold",children:e.workflow_name})]}),s.jsx("span",{className:"text-[10px] text-muted-foreground",children:e.ulb_name})]})}),s.jsx(Or,{children:s.jsxs("div",{className:"flex flex-col gap-1 text-[11px] font-medium",children:[e.forward_role_name&&s.jsxs("div",{className:"flex items-center gap-1 text-emerald-600",children:[s.jsx("span",{className:"rounded bg-emerald-100 px-1 py-0.5 dark:bg-emerald-900/30",children:"FWD:"}),e.forward_role_name]}),e.backward_role_name&&s.jsxs("div",{className:"flex items-center gap-1 text-rose-600",children:[s.jsx("span",{className:"rounded bg-rose-100 px-1 py-0.5 dark:bg-rose-900/30",children:"BWD:"}),e.backward_role_name]})]})}),s.jsx(Or,{children:s.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2 sm:grid-cols-3 md:grid-cols-4",children:[{label:"Is Initiator",value:e.is_initiator},{label:"Is Finisher",value:e.is_finisher},{label:"Is BTC",value:e.is_btc},{label:"View Document",value:e.can_view_document},{label:"Upload Document",value:e.can_upload_document},{label:"Verify Document",value:e.can_verify_document},{label:"Free Comm.",value:e.allow_free_communication},{label:"Full List",value:e.allow_full_list},{label:"Can Escalate",value:e.can_escalate},{label:"Pseudo User",value:e.is_pseudo},{label:"Can Forward",value:e.can_forward},{label:"Can Backward",value:e.can_backward},{label:"Field Verif.",value:e.show_field_verification}].map((e,t)=>s.jsxs("div",{className:"flex items-center justify-between gap-2 rounded border bg-background px-2 py-1 text-[10px]",children:[s.jsx("span",{className:"whitespace-nowrap font-medium text-muted-foreground",children:e.label}),s.jsx("span",{className:"font-bold "+(e.value?"text-green-600":"text-red-500"),children:e.value?"Yes":"No"})]},t))})}),s.jsx(Or,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>(e=>{f(e),h(!0),x(!0)})(e),className:"h-8 w-8 rounded-lg text-blue-600 hover:bg-blue-50 hover:text-blue-700 dark:hover:bg-blue-900/30",title:"Edit",children:s.jsx(E,{size:14})}),s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>(async e=>{jr("Are you sure?","Do you want to delete this role map?",async()=>{var t,s,a;try{const r=await b.mutateAsync({api:Za.wfRoleDelete,data:{id:e}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Role map deleted successfully"),v.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete role map")}catch(r){c.error(Ya(r))}})})(e.id),className:"h-8 w-8 rounded-lg text-red-600 hover:bg-red-50 hover:text-red-700 dark:hover:bg-red-900/30",title:"Delete",children:s.jsx(M,{size:14})})]})})]},e.id))})})]})})}),!(null==v?void 0:v.isLoading)&&j.length>0&&s.jsx("div",{className:"border-t bg-muted/10 p-4",children:s.jsx(Wr,{currentPage:r,onPageChange:e=>{l(e)},itemsPerPage:i,onItemsPerPageChange:e=>{n(e),l(1)},totalItems:j.length})})]})}),s.jsx(Id,{open:m,setOpen:x,edit:p,setEdit:h,editData:g,refetch:v.refetch})]})}const Dd=aa().shape({id:ia().nullable(),roleName:la().required("Role Name is required"),isSuspended:ra().default(!1)});function Ed({open:t,setOpen:a,edit:r,setEdit:l,editData:i,refetch:n}){const d=Ir({}),o=w({defaultValues:{id:void 0,roleName:"",isSuspended:!1},resolver:k(Dd)}),{reset:u,handleSubmit:m,formState:{isSubmitting:x}}=o;e.useEffect(()=>{t&&u(r&&i?{id:i.id,roleName:i.role_name,isSuspended:i.is_suspended}:{id:void 0,roleName:"",isSuspended:!1})},[t,r,i,u]);return s.jsx(_l,{open:t,setOpen:a,title:r?"Update Workflow Role":"Add New Workflow Role",setEdit:l,edit:r,children:s.jsx("div",{className:"p-1",children:s.jsx($r,{methods:o,onSubmit:m(async e=>{var t,s,i;try{const o=r?Ha.api_updateWorkflowRole:Ha.api_PostWorkflowRole,u={id:r?e.id:void 0,roleName:e.roleName,isSuspended:e.isSuspended},m=await d.mutateAsync({api:o,data:u});(null==(t=null==m?void 0:m.data)?void 0:t.status)?(c.success((null==(s=null==m?void 0:m.data)?void 0:s.message)||`Workflow Role ${r?"updated":"added"} successfully`),a(!1),l&&l(!1),n()):c.error((null==(i=null==m?void 0:m.data)?void 0:i.message)||"Something went wrong")}catch(o){c.error(Ya(o))}}),children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"flex items-center gap-3 rounded-xl bg-orange-100 p-4 text-orange-600 dark:bg-orange-900/20",children:[s.jsx(Be,{size:20}),s.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider",children:"Role Configuration"})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsx(Hr,{label:"Role Name",name:"roleName",placeholder:"e.g. Developer"}),s.jsx(ll,{label:"Is Suspended",name:"isSuspended"})]})]}),s.jsx("div",{className:"flex items-center justify-end gap-3 border-t pt-4",children:s.jsx(Zr,{isLoading:x,type:"submit",className:"h-11 rounded-xl bg-violet-600 px-8 text-sm font-bold text-white shadow-lg shadow-violet-600/20 transition-all hover:bg-violet-700 active:scale-95",children:r?"Update Role":"Create Role"})})]})})})})}function Md(){var t,a;const[r,l]=e.useState(1),[i,n]=e.useState(10),[d,o]=e.useState(""),u=e.useRef(null),[m,x]=e.useState(!1),[p,h]=e.useState(!1),[g,f]=e.useState(null),v=Pr({api:Ha.getWorkflowRole,key:"getWorkflowRole",options:{enabled:!0}}),b=Ir({}),j=(null==(a=null==(t=null==v?void 0:v.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=null==e?void 0:e.role_name)?void 0:t.toLowerCase().includes(d.toLowerCase())}))||[],y=r*i,N=y-i,w=null==j?void 0:j.slice(N,y);return s.jsxs("div",{className:"mt-4",children:[s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(Rr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-orange-100 text-orange-600 dark:bg-orange-900/20",children:s.jsx(ne,{size:24})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Workflow Roles"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Manage roles for workflow assignments"})]})]}),s.jsxs("div",{className:"flex w-full flex-wrap items-center gap-3 lg:w-auto",children:[s.jsxs("div",{className:"relative flex-1 lg:min-w-[300px]",children:[s.jsx(C,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground"}),s.jsx("input",{ref:u,type:"text",placeholder:"Search roles...",className:"h-10 w-full rounded-xl border border-input bg-background pl-10 pr-4 text-sm ring-offset-background transition-all focus:outline-none focus:ring-2 focus:ring-orange-500/20",value:d,onChange:e=>o(e.target.value)})]}),s.jsxs(Sa,{onClick:()=>{f(null),h(!1),x(!0)},className:"h-10 gap-2 rounded-xl bg-orange-600 px-4 font-semibold text-white shadow-lg shadow-orange-600/20 transition-all hover:bg-orange-700 active:scale-95",children:[s.jsx(L,{size:14}),s.jsx("span",{children:"Add Role"})]})]})]})}),s.jsx("div",{className:"relative",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Tr,{children:[s.jsx(Ur,{className:"bg-muted/50",children:s.jsxs(Fr,{className:"hover:bg-transparent",children:[s.jsx(Br,{className:"w-[80px] font-bold",children:"SL. No."}),s.jsx(Br,{className:"font-bold",children:"Role Name"}),s.jsx(Br,{className:"font-bold",children:"Created By"}),s.jsx(Br,{className:"text-center font-bold",children:"Status"}),s.jsx(Br,{className:"text-right font-bold",children:"Actions"})]})}),s.jsx(zr,{className:"px-4",children:s.jsx(P,{mode:"wait",children:(null==v?void 0:v.isLoading)?s.jsx(Fr,{children:s.jsx(Or,{colSpan:5,className:"h-48 text-center",children:s.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[s.jsx(qr,{}),s.jsx("p",{className:"animate-pulse text-sm text-muted-foreground",children:"Loading roles..."})]})})}):0===w.length?s.jsx(Fr,{children:s.jsx(Or,{colSpan:5,className:"h-48 text-center",children:s.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 opacity-50",children:[s.jsx(Be,{size:50,className:"text-muted-foreground"}),s.jsx("p",{className:"font-medium text-muted-foreground",children:"No workflow roles found"})]})})}):w.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{delay:.05*t},className:"group border-b transition-colors hover:bg-muted/30",children:[s.jsx(Or,{className:"p-4 font-medium",children:(r-1)*i+t+1}),s.jsx(Or,{children:s.jsx("span",{className:"font-bold text-foreground",children:e.role_name})}),s.jsx(Or,{children:s.jsx("span",{className:"text-sm text-muted-foreground",children:e.created_by})}),s.jsx(Or,{className:"text-center",children:s.jsx("span",{className:"inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium "+(e.is_suspended?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300":"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300"),children:e.is_suspended?"Suspended":"Active"})}),s.jsx(Or,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>(e=>{f(e),h(!0),x(!0)})(e),className:"h-8 w-8 rounded-lg text-blue-600 hover:bg-blue-50 hover:text-blue-700 dark:hover:bg-blue-900/30",title:"Edit",children:s.jsx(E,{size:14})}),s.jsx(Sa,{variant:"ghost",size:"icon",onClick:()=>(async e=>{jr("Are you sure?","Do you want to delete this role?",async()=>{var t,s,a;try{const r=await b.mutateAsync({api:Ha.api_deleteWorkflowRole,data:{id:e}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Role deleted successfully"),v.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete role")}catch(r){c.error(Ya(r))}})})(e.id),className:"h-8 w-8 rounded-lg text-red-600 hover:bg-red-50 hover:text-red-700 dark:hover:bg-red-900/30",title:"Delete",children:s.jsx(M,{size:14})})]})})]},e.id))})})]})})}),!(null==v?void 0:v.isLoading)&&j.length>0&&s.jsx("div",{className:"border-t bg-muted/10 p-4",children:s.jsx(Wr,{currentPage:r,onPageChange:e=>{l(e)},itemsPerPage:i,onItemsPerPageChange:e=>{n(e),l(1)},totalItems:j.length})})]})}),s.jsx(Ed,{open:m,setOpen:x,edit:p,setEdit:h,editData:g,refetch:v.refetch})]})}function Td(){const[e,t]=_(),a=e.get("tab")||"workflow-master",r=[{id:"workflow-master",label:"Workflow Master",icon:s.jsx(z,{size:14}),content:s.jsx(Sd,{})},{id:"ulb-workflow",label:"Ulb Workflow",icon:s.jsx(_e,{size:14}),content:s.jsx(Ld,{})},{id:"workflow-rolemap",label:"Workflow Rolemap",icon:s.jsx(G,{size:14}),content:s.jsx(Rd,{})},{id:"workflow-role",label:"Workflow Role",icon:s.jsx(Be,{size:14}),content:s.jsx(Md,{})}];return s.jsx("div",{className:"flex flex-col gap-6 p-1",children:s.jsx(S.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.2},children:s.jsxs(Hl,{value:a,onValueChange:e=>{t({tab:e})},className:"w-full",children:[s.jsx(Zl,{className:" inline-flex h-12 items-center justify-start rounded-2xl bg-muted/30 p-1",children:r.map(e=>s.jsxs(Gl,{value:e.id,className:"flex items-center gap-2 rounded-xl px-4 py-2 text-sm font-semibold transition-all data-[state=active]:bg-background data-[state=active]:text-primary data-[state=active]:shadow-md",children:[e.icon,s.jsx("span",{children:e.label})]},e.id))}),r.map(e=>s.jsx(Kl,{value:e.id,className:"focus:outline-none",children:e.content},e.id))]})})})}function Ud(){return s.jsx(Lr,{title:"Manage All Workflow Here.",children:s.jsx(Td,{})})}const zd=t=>{return a=e.lazy(async()=>{try{return await t()}catch(e){}}),t=>s.jsx(e.Suspense,{fallback:s.jsx(cr,{}),children:s.jsx(a,{...t})});var a},Fd=zd(()=>hr(()=>import("./index-BmDE2oLa.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]))),Bd=zd(()=>hr(()=>import("./index-DaDKKqOW.js"),__vite__mapDeps([9,1,2,5,4,6,7,8,3]))),Od=zd(()=>hr(()=>import("./index-D5YW0wc5.js"),__vite__mapDeps([10,1,2,3,5,4,6,7,8]))),qd=[{layout:"auth",pages:[{id:"1",name:"Login",path:"login",element:s.jsx(Fd,{})}]},{layout:"dashboard",pages:[{id:"1",name:"Home",path:"home",element:s.jsx(Bd,{})},{id:"2",name:"Module List",path:"module-list",element:s.jsx(Od,{})},{id:"3",name:"Menu List",path:"module-list/menu-list",element:s.jsx(Ll,{})},{id:"4",name:"Service List",path:"module-list/service-list",element:s.jsx(Dl,{})},{id:"5",name:"Role List",path:"module-list/role-list",element:s.jsx(Ul,{})},{id:"6",name:"Workflow List",path:"module-list/workflow-list",element:s.jsx(Fl,{})},{id:"7",name:"Menu Role List",path:"module-list/role-list/manage-menu",element:s.jsx(ql,{})},{id:"8",name:"Ulb Configuration",path:"ulb-configuration",element:s.jsx(pi,{})},{id:"9",name:"Ulb List",path:"ulb-list",element:s.jsx(vi,{})},{id:"10",name:"Permitted Module",path:"ulb-list/permitted-module",element:s.jsx(yi,{})},{id:"11",name:"User List",path:"ulb-list/user-list",element:s.jsx(Ci,{})},{id:"12",name:"Admin List",path:"ulb-list/admin-list",element:s.jsx(Ei,{})},{id:"13",name:"Manage Permission",path:"ulb-list/user-list/permission",element:s.jsx(Pi,{})},{id:"14",name:"Construction Master",path:"common-masters/construction-master",element:s.jsx(zi,{})},{id:"15",name:"Floor Master",path:"common-masters/floor-master",element:s.jsx(qi,{})},{id:"16",name:"Objection Master",path:"common-masters/objection-master",element:s.jsx(Hi,{})},{id:"17",name:"Usage Type Master",path:"common-masters/usage-type-master",element:s.jsx(Yi,{})},{id:"18",name:"Gb Building Master",path:"common-masters/gb-building-master",element:s.jsx(en,{})},{id:"19",name:"Occupancy Master",path:"common-masters/occupancy-master",element:s.jsx(rn,{})},{id:"20",name:"Property Master",path:"common-masters/property-master",element:s.jsx(on,{})},{id:"21",name:"Gb Usage Master",path:"common-masters/gb-usage-master",element:s.jsx(xn,{})},{id:"22",name:"Occupancy Factor Master",path:"common-masters/occupancy-factor",element:s.jsx(fn,{})},{id:"23",name:"Zone Master",path:"common-masters/zone-master",element:s.jsx(yn,{})},{id:"24",name:"City Master",path:"common-masters/city-master",element:s.jsx(_n,{})},{id:"25",name:"Water Master",path:"common-masters/water-master",element:s.jsx(Ln,{})},{id:"26",name:"Road Type Master",path:"common-masters/road-type-master",element:s.jsx(Dn,{})},{id:"27",name:"Ownership Type Master",path:"common-masters/ownership-type-master",element:s.jsx(Un,{})},{id:"28",name:"Transfer Mode Master",path:"common-masters/transfer-mode-master",element:s.jsx(On,{})},{id:"29",name:"Rebate Type Master",path:"common-masters/rebate-type-master",element:s.jsx(Vn,{})},{id:"30",name:"Penalty Type Master",path:"common-masters/penalty-type-master",element:s.jsx(Kn,{})},{id:"31",name:"Forgery Type Master",path:"common-masters/forgery-type-master",element:s.jsx(Xn,{})},{id:"32",name:"District Master",path:"common-masters/district-master",element:s.jsx(ad,{})},{id:"33",name:"Capital Value Rate Master",path:"common-masters/capital-value-rate-master",element:s.jsx(nd,{})},{id:"34",name:"Building Rental Cost Master",path:"common-masters/building-rental-cost-master",element:s.jsx(ud,{})},{id:"35",name:"Rental Value Master",path:"common-masters/rental-value-master",element:s.jsx(hd,{})},{id:"36",name:"Road Type List Master",path:"common-masters/road-type-list-master",element:s.jsx(bd,{})},{id:"37",name:"Vacant Rental Rate Master",path:"common-masters/vacant-rental-rate-list",element:s.jsx(wd,{})},{id:"38",name:"Workflow Master",path:"workflow-master",element:s.jsx(Ud,{})}]},{layout:"citizen",pages:[]}];function Wd(){const{user:e}=Ja();return s.jsxs(Oe,{children:[s.jsx(qe,{path:"/project-config",element:s.jsx(p,{to:"/project-config/dashboard/home"}),index:!0}),"ADMIN"==(null==e?void 0:e.roleName)&&s.jsx(qe,{path:"/project-config",element:s.jsx(p,{to:"/project-config/dashboard/home"}),index:!0}),"HRMS Employee"==(null==e?void 0:e.roleName)&&s.jsx(qe,{path:"/project-config",element:s.jsx(p,{to:"/project-config/employee/employee"}),index:!0}),s.jsx(qe,{path:"/project-config/citizen",element:s.jsx(or,{}),children:null==qd?void 0:qd.map(({layout:e,pages:t})=>"citizen"===e&&(null==t?void 0:t.map(({id:e,path:t,element:a})=>s.jsx(qe,{path:t,element:a},e))))}),s.jsx(qe,{path:"/project-config/auth",element:s.jsx(mr,{children:s.jsx(ja,{})}),children:null==qd?void 0:qd.map(({layout:e,pages:t})=>"auth"===e&&(null==t?void 0:t.map(({path:e,element:t,id:a})=>s.jsx(qe,{path:e,element:t},a))))}),s.jsx(qe,{path:"/project-config/dashboard",element:s.jsx(ur,{children:s.jsx(dr,{})}),children:null==qd?void 0:qd.map(({layout:e,pages:t})=>"dashboard"===e&&(null==t?void 0:t.map(({id:e,path:t,element:a})=>s.jsx(qe,{path:t,element:a},e))))}),s.jsx(qe,{path:"*",element:s.jsx(xr,{})}),s.jsx(qe,{path:"",element:s.jsx(p,{to:"/project-config",replace:!0})})]})}function $d(){return s.jsxs(ga,{children:[s.jsx(We,{position:"top-center",reverseOrder:!1,toastOptions:{}}),s.jsx(Wd,{})]})}const Vd=new Ke;$e.createRoot(document.getElementById("root")).render(s.jsx(Ve,{FallbackComponent:({error:e})=>s.jsx(ha,{error:e}),onError:(e,t)=>{},children:s.jsx(da,{children:s.jsx(Ye,{client:Vd,children:s.jsx(He,{children:s.jsx(ua,{defaultTheme:"light",storageKey:"theme",children:s.jsx($d,{})})})})})}));export{Zr as B,Rr as C,_l as D,$r as F,Vr as I,Lr as P,Hr as R,kl as S,Tr as T,er as a,Pr as b,ar as c,Va as d,ll as e,Sa as f,Ya as g,Mr as h,qr as i,Ur as j,Fr as k,Br as l,Ga as m,zr as n,Or as o,ma as p,jr as q,Ir as u};
