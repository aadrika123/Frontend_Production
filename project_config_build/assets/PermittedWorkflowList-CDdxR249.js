import{r as e,j as s,ae as t,aa as r,a7 as l,a6 as a,W as d,Y as i,J as n,z as o,ai as c,aH as x,ap as m,H as u}from"./vendor-BYEve7Lm.js";import{C as g,a as h}from"./card-CCk4Fcj3.js";import{u as f,a as p}from"./useCustomQuery-BqJuBb9h.js";import{B as v,c as j,m as b}from"./index-D-WK3WBg.js";import{g as N}from"./services-Bn_cfjy0.js";import{S as w}from"./Spinner-CCa1YHa-.js";import{S as y}from"./switch-C2b8-GuS.js";function k(c){var x,m,u;const[k,C]=e.useState(""),[S,_]=e.useState("all"),A=e.useRef(null),R=f({}),L=p({api:null==(x=b)?void 0:x.userPermittedRoles,key:"userPermittedRoles",config:{userId:null==c?void 0:c.id},options:{enabled:!0}});e.useEffect(()=>{const e=e=>{var s;!e.altKey||"s"!==e.key&&"S"!==e.key||(e.preventDefault(),e.stopPropagation(),null==(s=A.current)||s.focus())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]);const I=(null==(u=null==(m=null==L?void 0:L.data)?void 0:m.data)?void 0:u.filter(e=>e.menu_role_name.toLowerCase().includes(k.toLowerCase())))||[],P=I.filter(e=>"active"===S?!0===e.permission_status:"inactive"!==S||!1===e.permission_status),F=I.filter(e=>e.permission_status).length,z=I.filter(e=>!e.permission_status).length;return s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-blue-600/10 text-blue-600",children:s.jsx(t,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Role Permissions"}),s.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:"Manage menu access roles with quick toggle"})]})]}),s.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[s.jsxs("div",{className:"flex items-center gap-2 rounded-xl border bg-muted/30 p-1",children:[s.jsxs(v,{variant:"ghost",size:"sm",onClick:()=>_("all"),className:j("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","all"===S?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[s.jsx(r,{className:"h-3 w-3"}),"All (",I.length,")"]}),s.jsxs(v,{variant:"ghost",size:"sm",onClick:()=>_("active"),className:j("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","active"===S?"bg-green-600 text-white shadow-sm hover:bg-green-600":"text-muted-foreground hover:text-foreground"),children:[s.jsx(l,{className:"h-3 w-3"}),"Active (",F,")"]}),s.jsxs(v,{variant:"ghost",size:"sm",onClick:()=>_("inactive"),className:j("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","inactive"===S?"bg-muted text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[s.jsx(a,{className:"h-3 w-3"}),"Inactive (",z,")"]})]}),s.jsxs("div",{className:"relative flex items-center",children:[s.jsx(d,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{ref:A,type:"text",placeholder:"Search roles...",value:k,onChange:e=>C(e.target.value),className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-20 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20 sm:w-64"}),s.jsx("div",{className:"absolute right-2.5 hidden items-center gap-1 sm:flex",children:s.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[s.jsx("span",{className:"text-xs",children:"Alt"}),"S"]})})]})]})]}),L.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(w,{}),s.jsx("p",{className:"mt-4 text-xs font-medium text-muted-foreground",children:"Loading permissions..."})]})}):s.jsx(s.Fragment,{children:0===P.length?s.jsx(g,{className:"overflow-hidden rounded-2xl border bg-card shadow-sm",children:s.jsx(h,{className:"p-12",children:s.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[s.jsx("div",{className:"mb-3 flex h-16 w-16 items-center justify-center rounded-full bg-muted/50",children:s.jsx(t,{className:"h-8 w-8 text-muted-foreground/30"})}),s.jsx("h4",{className:"text-sm font-bold text-foreground",children:"No roles found"}),s.jsx("p",{className:"text-[11px] text-muted-foreground",children:k||"all"!==S?"Try adjusting your filters or search criteria":"No roles available for this user"})]})})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:s.jsx(i,{mode:"popLayout",children:P.map((e,t)=>{const r=e.permission_status;return s.jsx(n.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2,delay:.02*t},children:s.jsx(g,{className:j("group overflow-hidden rounded-xl border transition-all hover:shadow-md",r?"border-green-500/20 bg-green-500/5":"border-border bg-card hover:border-primary/30"),children:s.jsx(h,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("div",{className:j("flex h-10 w-10 items-center justify-center rounded-lg transition-all",r?"bg-green-500/20 text-green-600":"bg-muted text-muted-foreground group-hover:bg-primary/10 group-hover:text-primary"),children:r?s.jsx(l,{className:"h-5 w-5"}):s.jsx(a,{className:"h-5 w-5"})}),s.jsx(y,{checked:r,onCheckedChange:s=>(async(e,s)=>{var t,r,l,a;try{const d={userId:null==c?void 0:c.id,permissionStatus:s,menuRoleId:e},i=await R.mutateAsync({api:null==(t=b)?void 0:t.addMenuRoleUser,data:d});(null==(r=null==i?void 0:i.data)?void 0:r.status)?(o.success((null==(l=null==i?void 0:i.data)?void 0:l.message)||"Permission updated successfully"),L.refetch()):o.error((null==(a=null==i?void 0:i.data)?void 0:a.message)||"Failed to update permission")}catch(d){o.error(N(d))}})(e.id,s),disabled:R.isPending,className:"data-[state=checked]:bg-green-600"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"line-clamp-2 text-sm font-bold text-foreground",children:e.menu_role_name}),s.jsx("p",{className:j("mt-1 text-[10px] font-bold uppercase tracking-wider",r?"text-green-600":"text-muted-foreground"),children:r?"Active":"Inactive"})]})]})})})},e.id)})})}),s.jsxs("div",{className:"flex flex-col gap-2 rounded-xl border bg-muted/20 px-4 py-3 sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("span",{className:"text-xs font-bold uppercase tracking-widest text-muted-foreground",children:["Showing: ",P.length," of ",I.length," ","Roles"]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500"}),s.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Active: ",F]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-muted-foreground"}),s.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Inactive: ",z]})]})]})]})]})})]})}function C(t){var u,k,C;const[S,_]=e.useState(""),[A,R]=e.useState("all"),L=e.useRef(null),I=f({}),P=p({api:null==(u=b)?void 0:u.permittedWardByUser,key:"permittedWardByUser",config:{userId:null==t?void 0:t.id},options:{enabled:!0}});e.useEffect(()=>{const e=e=>{var s;!e.altKey||"s"!==e.key&&"S"!==e.key||(e.preventDefault(),e.stopPropagation(),null==(s=L.current)||s.focus())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]);const F=(null==(C=null==(k=null==P?void 0:P.data)?void 0:k.data)?void 0:C.filter(e=>(null==e?void 0:e.ward_name)==S||""==S))||[],z=F.filter(e=>"active"===A?!0===e.permission_status:"inactive"!==A||!1===e.permission_status),W=F.filter(e=>e.permission_status).length,E=F.filter(e=>!e.permission_status).length,B=async e=>{var s,r,l,a;try{const d={userId:null==t?void 0:t.id,wardList:F.map(s=>({wardId:s.id,permissionStatus:e}))},i=await I.mutateAsync({api:null==(s=b)?void 0:s.addRemoveWard,data:d});(null==(r=null==i?void 0:i.data)?void 0:r.status)?(o.success((null==(l=null==i?void 0:i.data)?void 0:l.message)||(e?"Selected":"Removed")+" all wards successfully"),P.refetch()):o.error((null==(a=null==i?void 0:i.data)?void 0:a.message)||"Failed to update permissions")}catch(d){o.error(N(d))}};return s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-amber-600/10 text-amber-600",children:s.jsx(c,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Ward Permissions"}),s.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:"Manage geographical ward access with quick toggle"})]})]}),s.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(v,{variant:"outline",size:"sm",className:"gap-2 border-emerald-600/20 bg-emerald-600/10 text-emerald-600 hover:bg-emerald-600 hover:text-white",onClick:()=>B(!0),disabled:I.isPending,children:[s.jsx(x,{className:"h-3 w-3"}),"Select All"]}),s.jsxs(v,{variant:"outline",size:"sm",className:"gap-2 border-red-600/20 bg-red-600/10 text-red-600 hover:bg-red-600 hover:text-white",onClick:()=>B(!1),disabled:I.isPending,children:[s.jsx(m,{className:"h-3 w-3"}),"Remove All"]})]}),s.jsxs("div",{className:"flex items-center gap-2 rounded-xl border bg-muted/30 p-1",children:[s.jsxs(v,{variant:"ghost",size:"sm",onClick:()=>R("all"),className:j("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","all"===A?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[s.jsx(r,{className:"h-3 w-3"}),"All (",F.length,")"]}),s.jsxs(v,{variant:"ghost",size:"sm",onClick:()=>R("active"),className:j("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","active"===A?"bg-green-600 text-white shadow-sm hover:bg-green-600":"text-muted-foreground hover:text-foreground"),children:[s.jsx(l,{className:"h-3 w-3"}),"Active (",W,")"]}),s.jsxs(v,{variant:"ghost",size:"sm",onClick:()=>R("inactive"),className:j("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","inactive"===A?"bg-muted text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[s.jsx(a,{className:"h-3 w-3"}),"Inactive (",E,")"]})]}),s.jsxs("div",{className:"relative flex items-center",children:[s.jsx(d,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{ref:L,type:"text",placeholder:"Search wards...",value:S,onChange:e=>_(e.target.value),className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-20 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20 sm:w-64"}),s.jsx("div",{className:"absolute right-2.5 hidden items-center gap-1 sm:flex",children:s.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[s.jsx("span",{className:"text-xs",children:"Alt"}),"S"]})})]})]})]}),P.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(w,{}),s.jsx("p",{className:"mt-4 text-xs font-medium text-muted-foreground",children:"Loading permissions..."})]})}):s.jsx(s.Fragment,{children:0===z.length?s.jsx(g,{className:"overflow-hidden rounded-2xl border bg-card shadow-sm",children:s.jsx(h,{className:"p-12",children:s.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[s.jsx("div",{className:"mb-3 flex h-16 w-16 items-center justify-center rounded-full bg-muted/50",children:s.jsx(c,{className:"h-8 w-8 text-muted-foreground/30"})}),s.jsx("h4",{className:"text-sm font-bold text-foreground",children:"No wards found"}),s.jsx("p",{className:"text-[11px] text-muted-foreground",children:S||"all"!==A?"Try adjusting your filters or search criteria":"No wards available for this user"})]})})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:s.jsx(i,{mode:"popLayout",children:z.map((e,r)=>{const d=e.permission_status;return s.jsx(n.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2,delay:.02*r},children:s.jsx(g,{className:j("group overflow-hidden rounded-xl border transition-all hover:shadow-md",d?"border-green-500/20 bg-green-500/5":"border-border bg-card hover:border-primary/30"),children:s.jsx(h,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("div",{className:j("flex h-10 w-10 items-center justify-center rounded-lg transition-all",d?"bg-green-500/20 text-green-600":"bg-muted text-muted-foreground group-hover:bg-primary/10 group-hover:text-primary"),children:d?s.jsx(l,{className:"h-5 w-5"}):s.jsx(a,{className:"h-5 w-5"})}),s.jsx(y,{checked:d,onCheckedChange:s=>(async(e,s)=>{var r,l,a,d;try{const i={userId:null==t?void 0:t.id,wardList:[{permissionStatus:s,wardId:e}]},n=await I.mutateAsync({api:null==(r=b)?void 0:r.addRemoveWard,data:i});(null==(l=null==n?void 0:n.data)?void 0:l.status)?(o.success((null==(a=null==n?void 0:n.data)?void 0:a.message)||"Permission updated successfully"),P.refetch()):o.error((null==(d=null==n?void 0:n.data)?void 0:d.message)||"Failed to update permission")}catch(i){o.error(N(i))}})(e.id,s),disabled:I.isPending,className:"data-[state=checked]:bg-green-600"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"line-clamp-2 text-sm font-bold text-foreground",children:e.ward_name}),s.jsx("p",{className:j("mt-1 text-[10px] font-bold uppercase tracking-wider",d?"text-green-600":"text-muted-foreground"),children:d?"Active":"Inactive"})]})]})})})},e.id)})})}),s.jsxs("div",{className:"flex flex-col gap-2 rounded-xl border bg-muted/20 px-4 py-3 sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("span",{className:"text-xs font-bold uppercase tracking-widest text-muted-foreground",children:["Showing: ",z.length," of ",F.length," ","Wards"]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500"}),s.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Active: ",W]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-muted-foreground"}),s.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Inactive: ",E]})]})]})]})]})})]})}function S(t){var c,x,m;const[k,C]=e.useState(""),[S,_]=e.useState("all"),A=e.useRef(null),R=f({}),L=p({api:null==(c=b)?void 0:c.workFlowRoleByUser,key:"permittedworkFlowRoleByUser",config:{userId:null==t?void 0:t.id},options:{enabled:!0}});e.useEffect(()=>{const e=e=>{var s;!e.altKey||"s"!==e.key&&"S"!==e.key||(e.preventDefault(),e.stopPropagation(),null==(s=A.current)||s.focus())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]);const I=(null==(m=null==(x=null==L?void 0:L.data)?void 0:x.data)?void 0:m.filter(e=>e.role_name.toLowerCase().includes(k.toLowerCase())))||[],P=I.filter(e=>"active"===S?!0===e.permission_status:"inactive"!==S||!1===e.permission_status),F=I.filter(e=>e.permission_status).length,z=I.filter(e=>!e.permission_status).length,W=async(e,s)=>{var r,l,a,d;try{const i={permissionStatus:s,userId:null==t?void 0:t.id,wfRoleId:e},n=await R.mutateAsync({api:null==(r=b)?void 0:r.AddRemoveWorkFlowRoleByUser,data:i});(null==(l=null==n?void 0:n.data)?void 0:l.status)?(o.success((null==(a=null==n?void 0:n.data)?void 0:a.message)||"Permission updated successfully"),L.refetch()):o.error((null==(d=null==n?void 0:n.data)?void 0:d.message)||"Failed to update permission")}catch(i){o.error(N(i))}};return s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-violet-600/10 text-violet-600",children:s.jsx(u,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Workflow Roles"}),s.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:"Assign process and approval roles with quick toggle"})]})]}),s.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[s.jsxs("div",{className:"flex items-center gap-2 rounded-xl border bg-muted/30 p-1",children:[s.jsxs(v,{variant:"ghost",size:"sm",onClick:()=>_("all"),className:j("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","all"===S?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[s.jsx(r,{className:"h-3 w-3"}),"All (",I.length,")"]}),s.jsxs(v,{variant:"ghost",size:"sm",onClick:()=>_("active"),className:j("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","active"===S?"bg-violet-600 text-white shadow-sm hover:bg-violet-600":"text-muted-foreground hover:text-foreground"),children:[s.jsx(l,{className:"h-3 w-3"}),"Active (",F,")"]}),s.jsxs(v,{variant:"ghost",size:"sm",onClick:()=>_("inactive"),className:j("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","inactive"===S?"bg-muted text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[s.jsx(a,{className:"h-3 w-3"}),"Inactive (",z,")"]})]}),s.jsxs("div",{className:"relative flex items-center",children:[s.jsx(d,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{ref:A,type:"text",placeholder:"Search workflow roles...",value:k,onChange:e=>C(e.target.value),className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-20 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20 sm:w-64"}),s.jsx("div",{className:"absolute right-2.5 hidden items-center gap-1 sm:flex",children:s.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[s.jsx("span",{className:"text-xs",children:"Alt"}),"S"]})})]})]})]}),L.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(w,{}),s.jsx("p",{className:"mt-4 text-xs font-medium text-muted-foreground",children:"Loading permissions..."})]})}):s.jsx(s.Fragment,{children:0===P.length?s.jsx(g,{className:"overflow-hidden rounded-2xl border bg-card shadow-sm",children:s.jsx(h,{className:"p-12",children:s.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[s.jsx("div",{className:"mb-3 flex h-16 w-16 items-center justify-center rounded-full bg-muted/50",children:s.jsx(u,{className:"h-8 w-8 text-muted-foreground/30"})}),s.jsx("h4",{className:"text-sm font-bold text-foreground",children:"No workflow roles found"}),s.jsx("p",{className:"text-[11px] text-muted-foreground",children:k||"all"!==S?"Try adjusting your filters or search criteria":"No workflow roles available for this user"})]})})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:s.jsx(i,{mode:"popLayout",children:P.map((e,t)=>{const r=e.permission_status;return s.jsx(n.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2,delay:.02*t},children:s.jsx(g,{className:j("group overflow-hidden rounded-xl border transition-all hover:shadow-md",r?"border-violet-500/20 bg-violet-500/5":"border-border bg-card hover:border-primary/30"),children:s.jsx(h,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("div",{className:j("flex h-10 w-10 items-center justify-center rounded-lg transition-all",r?"bg-violet-500/20 text-violet-600":"bg-muted text-muted-foreground group-hover:bg-primary/10 group-hover:text-primary"),children:r?s.jsx(l,{className:"h-5 w-5"}):s.jsx(a,{className:"h-5 w-5"})}),s.jsx(y,{checked:r,onCheckedChange:t=>(async(e,t)=>{try{const r=I.find(s=>s.permission_status&&s.id!==e);t&&r?o(l=>s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("p",{className:"text-sm font-bold",children:"Replace Active Workflow Role?"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Only one workflow role can be active at a time. This will deactivate"," ",s.jsx("span",{className:"font-bold text-violet-600",children:r.role_name}),"."]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:async()=>{o.dismiss(l.id),await W(e,t)},className:"rounded-lg bg-violet-600 px-3 py-1.5 text-xs font-bold text-white hover:bg-violet-700",children:"Replace"}),s.jsx("button",{onClick:()=>o.dismiss(l.id),className:"rounded-lg bg-muted px-3 py-1.5 text-xs font-bold text-foreground hover:bg-muted/80",children:"Cancel"})]})]}),{duration:6e3}):await W(e,t)}catch(r){o.error(N(r))}})(e.id,t),disabled:R.isPending,className:"data-[state=checked]:bg-violet-600"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"line-clamp-2 text-sm font-bold text-foreground",children:e.role_name}),s.jsx("p",{className:j("mt-1 text-[10px] font-bold uppercase tracking-wider",r?"text-violet-600":"text-muted-foreground"),children:r?"Active":"Inactive"})]})]})})})},e.id)})})}),s.jsxs("div",{className:"flex flex-col gap-2 rounded-xl border bg-muted/20 px-4 py-3 sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("span",{className:"text-xs font-bold uppercase tracking-widest text-muted-foreground",children:["Showing: ",P.length," of ",I.length," ","Workflow Roles"]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-violet-500"}),s.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Active: ",F]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-muted-foreground"}),s.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Inactive: ",z]})]})]})]})]})})]})}export{k as P,C as a,S as b};
