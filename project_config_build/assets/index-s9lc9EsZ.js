const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BZlGPxK7.js","assets/vendor-CnMlIJEa.js","assets/vendor-DLy2ZVNp.css","assets/yup-D0bnqBmo.js","assets/ui-BRSC7w9J.js","assets/query-B28qGfLr.js","assets/icons-nIvWbq7m.js","assets/axios-Dos3PyFQ.js","assets/zustand-Daf0m85S.js","assets/index-DlV-z17W.js","assets/index-De36Y-My.js"])))=>i.map(i=>d[i]);
import{r as e,c as t,j as s,f as a,g as r,i as l,O as i,u as n,L as d,k as o,z as c,l as u,m,n as x,N as p,o as h,F as g,q as f,C as b,v,w as j,D as y,x as N,y as w,A as k,B as _,E as S,G as A,H as C,I as L,J as I,K as P,M as R,P as D,Q as E,S as M,T,U as z,V as F,W as U,X as B,Y as O,Z as q,_ as W,$,a0 as V,a1 as H,a2 as Z,a3 as G,a4 as Q,a5 as K,a6 as Y,a7 as J,a8 as X,a9 as ee,aa as te,ab as se,ac as ae,ad as re,ae as le,af as ie,ag as ne,ah as de,ai as oe,aj as ce,ak as ue,al as me,am as xe,an as pe,ao as he,ap as ge,aq as fe,ar as be,as as ve,at as je,au as ye,av as Ne,aw as we,ax as ke,ay as _e,az as Se,aA as Ae,aB as Ce,aC as Le,aD as Ie,aE as Pe,aF as Re,aG as De,aH as Ee,aI as Me,aJ as Te,aK as ze,aL as Fe,aM as Ue,aN as Be,aO as Oe,aP as qe,aQ as We,aR as $e,aS as Ve,aT as He,aU as Ze,aV as Ge,aW as Qe,aX as Ke,aY as Ye,aZ as Je,a_ as Xe,a$ as et,b0 as tt,b1 as st}from"./vendor-CnMlIJEa.js";import{u as at,a as rt,Q as lt,b as it}from"./query-B28qGfLr.js";import{S as nt,C as dt,P as ot,R as ct,T as ut,a as mt,b as xt,c as pt,d as ht,e as gt,f as ft,g as bt,h as vt,I as jt,i as yt,j as Nt,k as wt,l as kt,D as _t,L as St,m as At,n as Ct,o as Lt,G as It,p as Pt,q as Rt,F as Dt,O as Et,r as Mt,s as Tt,t as zt,u as Ft,v as Ut,w as Bt,x as Ot,y as qt,z as Wt,A as $t,B as Vt,E as Ht,H as Zt,J as Gt,V as Qt,K as Kt,M as Yt,N as Jt,Q as Xt,U as es,W as ts,X as ss,Y as as,Z as rs,_ as ls,$ as is,a0 as ns,a1 as ds,a2 as os,a3 as cs,a4 as us,a5 as ms,a6 as xs,a7 as ps,a8 as hs,a9 as gs,aa as fs,ab as bs,ac as vs,ad as js,ae as ys,af as Ns,ag as ws,ah as ks,ai as _s,aj as Ss,ak as As,al as Cs,am as Ls,an as Is,ao as Ps,ap as Rs,aq as Ds,ar as Es}from"./ui-BRSC7w9J.js";import{I as Ms,L as Ts,a as zs,C as Fs,b as Us,c as Bs,d as Os,e as qs,f as Ws,g as $s,h as Vs,i as Hs,j as Zs,k as Gs,l as Qs,m as Ks,n as Ys,o as Js,p as Xs,q as ea,r as ta,U as sa,K as aa,B as ra,s as la,t as ia,E as na,u as da,v as oa,w as ca,x as ua,y as ma,z as xa,A as pa,D as ha,F as ga,G as fa}from"./icons-nIvWbq7m.js";import{a as ba}from"./axios-Dos3PyFQ.js";import{c as va}from"./zustand-Daf0m85S.js";import{c as ja,a as ya,b as Na,d as wa,e as ka}from"./yup-D0bnqBmo.js";function _a({children:e}){return s.jsx(s.Fragment,{children:e})}function Sa({children:s}){return e.useEffect(()=>{var e;const a=t.Children.toArray(s);for(const t of a)if(t&&"object"==typeof t){if("title"===t.type){const s=null==(e=t.props)?void 0:e.children;"string"==typeof s?document.title=s:Array.isArray(s)&&(document.title=s.join(""))}if("meta"===t.type){const e=t.props||{};if(e.name){let t=document.head.querySelector(`meta[name="${e.name}"]`);t||(t=document.createElement("meta"),t.setAttribute("name",e.name),document.head.appendChild(t)),e.content&&t.setAttribute("content",e.content)}if(e.property){let t=document.head.querySelector(`meta[property="${e.property}"]`);t||(t=document.createElement("meta"),t.setAttribute("property",e.property),document.head.appendChild(t)),e.content&&t.setAttribute("content",e.content)}}}},[s]),null}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const Aa=e.createContext({theme:"system",setTheme:()=>null});function Ca({children:t,defaultTheme:a="system",storageKey:r="vite-ui-theme",...l}){const[i,n]=e.useState(()=>localStorage.getItem(r)||a);e.useEffect(()=>{const e=window.document.documentElement;if(e.classList.remove("light","dark"),"system"===i){const t=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";return void e.classList.add(t)}e.classList.add(i)},[i]);const d={theme:i,setTheme:e=>{localStorage.setItem(r,e),n(e)}};return s.jsx(Aa.Provider,{...l,value:d,children:t})}function La(...e){return a(r(e))}const Ia=l("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Pa=e.forwardRef(({className:e,variant:t,size:a,asChild:r=!1,...l},i)=>{const n=r?nt:"button";return s.jsx(n,{className:La(Ia({variant:t,size:a,className:e})),ref:i,...l})});function Ra({error:e}){return s.jsx("div",{className:"flex h-screen items-center justify-center",children:s.jsxs("div",{className:"space-y-2 px-6 text-center",children:[s.jsx("h1",{className:"text-xl font-bold text-red-500",children:"Error"}),s.jsx("p",{className:"text-sm font-semibold text-gray-500",children:e.message}),s.jsx(Pa,{onClick:()=>window.location.reload(),variant:"destructive",size:"sm",children:"Reload"})]})})}Pa.displayName="Button";const Da=ot,Ea=ct,Ma=ut,Ta=e.forwardRef(({className:e,sideOffset:t=4,...a},r)=>s.jsx(dt,{ref:r,sideOffset:t,className:La("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a}));function za(){return s.jsxs("div",{className:"flex h-screen w-full flex-col justify-center",children:[s.jsx("main",{children:s.jsx(i,{})}),s.jsx("footer",{className:"absolute bottom-0 w-full py-6 text-center"})]})}Ta.displayName=dt.displayName;const Fa=e.createContext(null),Ua=({className:t,fixed:a=!1,...r})=>{const l=e.useRef(null),[i,n]=e.useState(0);return e.useEffect(()=>{const e=l.current;if(!e)return;const t=()=>n(e.scrollTop);return e.removeEventListener("scroll",t),e.addEventListener("scroll",t,{passive:!0}),()=>e.removeEventListener("scroll",t)},[]),s.jsx(Fa.Provider,{value:{offset:i,fixed:a},children:s.jsx("div",{ref:l,"data-layout":"layout",className:La("h-full overflow-auto",a&&"flex flex-col",t),...r})})};Ua.displayName="Layout";const Ba=e.forwardRef(({className:t,sticky:a,...r},l)=>{const i=e.useContext(Fa);if(null===i)throw new Error(`Layout.Header must be used within ${Ua.displayName}.`);return s.jsx("div",{ref:l,"data-layout":"header",className:La("z-10 flex h-[var(--header-height)] w-full items-center gap-4 bg-background p-4 md:px-8",a?"sticky top-0":"relative",i.offset>10&&a?"shadow":"shadow-none",i.fixed&&"flex-none ",t),...r})});Ba.displayName="Header";const Oa=e.forwardRef(({className:t,...a},r)=>{const l=e.useContext(Fa);if(null===l)throw new Error(`Layout.Body must be used within ${Ua.displayName}.`);return s.jsx("div",{ref:r,"data-layout":"body",className:La("px-3 py-4 md:overflow-hidden md:px-6",l&&l.fixed&&"flex-1",t),...a})});Oa.displayName="Body",Ua.Header=Ba,Ua.Body=Oa;const qa=l("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Wa=e.forwardRef(({className:e,variant:t,size:a,asChild:r=!1,children:l,disabled:i,loading:n=!1,leftSection:d,rightSection:o,...c},u)=>{const m=r?nt:"button";return s.jsxs(m,{className:La(qa({variant:t,size:a,className:e})),disabled:n||i,ref:u,...c,children:[(d&&n||!d&&!o&&n)&&s.jsx(Ms,{className:"mr-2 h-4 w-4 animate-spin"}),!n&&d&&s.jsx("div",{className:"mr-2",children:d}),l,!n&&o&&s.jsx("div",{className:"ml-2",children:o}),o&&n&&s.jsx(Ms,{className:"ml-2 h-4 w-4 animate-spin"})]})});Wa.displayName="Button";const $a=mt,Va=xt,Ha=pt,Za=Ct,Ga=Lt,Qa=It;e.forwardRef(({className:e,inset:t,children:a,...r},l)=>s.jsxs(ht,{ref:l,className:La("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[a,s.jsx(gt,{className:"ml-auto h-4 w-4"})]})).displayName=ht.displayName;e.forwardRef(({className:e,...t},a)=>s.jsx(ft,{ref:a,className:La("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})).displayName=ft.displayName;const Ka=e.forwardRef(({className:e,sideOffset:t=4,...a},r)=>s.jsx(bt,{children:s.jsx(vt,{ref:r,sideOffset:t,className:La("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})}));Ka.displayName=vt.displayName;const Ya=e.forwardRef(({className:e,inset:t,...a},r)=>s.jsx(jt,{ref:r,className:La("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...a}));Ya.displayName=jt.displayName;e.forwardRef(({className:e,children:t,checked:a,...r},l)=>s.jsxs(yt,{ref:l,className:La("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:a,...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Nt,{children:s.jsx(wt,{className:"h-4 w-4"})})}),t]})).displayName=yt.displayName;e.forwardRef(({className:e,children:t,...a},r)=>s.jsxs(kt,{ref:r,className:La("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Nt,{children:s.jsx(_t,{className:"h-4 w-4 fill-current"})})}),t]})).displayName=kt.displayName;const Ja=e.forwardRef(({className:e,inset:t,...a},r)=>s.jsx(St,{ref:r,className:La("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...a}));Ja.displayName=St.displayName;const Xa=e.forwardRef(({className:e,...t},a)=>s.jsx(At,{ref:a,className:La("-mx-1 my-1 h-px bg-muted",e),...t}));function er(){const{pathname:e}=n();return{checkActiveNav:t=>!!e.includes(t)}}function tr({links:t,isCollapsed:a,className:r,closeNav:l}){return s.jsx("div",{"data-collapsed":a,className:La("group py-5 transition-all duration-500 data-[collapsed=true]:py-3",r),children:s.jsx(Da,{delayDuration:0,children:s.jsx("nav",{className:"grid gap-1.5 px-3 group-[[data-collapsed=true]]:justify-center group-[[data-collapsed=true]]:px-2",children:t.map(({sub:t,...s})=>{const r=`${s.title}-${s.href}`;return a&&t?e.createElement(lr,{...s,sub:t,key:r,closeNav:l}):a?e.createElement(rr,{...s,key:r,closeNav:l}):t?e.createElement(ar,{...s,sub:t,key:r,closeNav:l}):e.createElement(sr,{...s,key:r,closeNav:l})})})})})}function sr({title:e,icon:t,label:a,href:r,closeNav:l,subLink:i=!1}){const{checkActiveNav:n}=er(),o=n(r);return s.jsxs(d,{to:r,onClick:l,className:La("group relative flex items-center gap-3 rounded-xl px-3.5 py-2.5 font-medium transition-all duration-200",i&&"py-2 pl-11 text-[0.9375rem]",o&&!i&&"bg-primary text-primary-foreground shadow-sm",o&&i&&"bg-primary/10 font-bold text-primary",!o&&!i&&"text-slate-500  hover:bg-accent hover:text-accent-foreground dark:text-slate-400",!o&&i&&"text-slate-500/90 hover:bg-accent/50 hover:text-accent-foreground dark:text-slate-400/90"),"aria-current":o?"page":void 0,children:[!i&&s.jsx("div",{className:La("flex items-center justify-center transition-transform duration-200",o&&"scale-105"),children:"Dashboard"==e?s.jsx(Bs,{className:"h-[1.125rem] w-[1.125rem]"}):s.jsx(Us,{className:"h-[1.125rem] w-[1.125rem]"})}),i&&s.jsx("div",{className:"absolute left-5 top-1/2 flex -translate-y-1/2 items-center",children:s.jsx(Fs,{className:La("h-1.5 w-1.5 transition-all duration-200",o?"scale-125 fill-primary text-primary":"fill-muted-foreground/50 text-muted-foreground/50 group-hover:fill-muted-foreground group-hover:text-muted-foreground")})}),s.jsx("span",{className:"flex-1",children:e}),a&&s.jsx("div",{className:La("rounded-full px-2 py-0.5 text-[0.625rem] font-bold uppercase tracking-wide transition-all duration-200",o&&!i&&"bg-primary-foreground text-primary",o&&i&&"bg-primary text-primary-foreground",!o&&"bg-slate-200 text-slate-600 dark:bg-slate-800 dark:text-slate-400"),children:a}),o&&s.jsx("div",{className:La("absolute left-0 top-1/2 h-8 w-1 -translate-y-1/2 rounded-r-full transition-all duration-200",!i&&"bg-white",i&&"h-6 bg-primary")})]})}function ar({title:e,icon:t,label:a,sub:r,closeNav:l}){const{checkActiveNav:i}=er(),n=!!(null==r?void 0:r.find(e=>i(e.href)));return s.jsxs($a,{defaultOpen:n,children:[s.jsxs(Va,{className:La("group relative flex w-full items-center gap-3 rounded-xl px-3.5 py-2.5 font-medium transition-all duration-200",n?"bg-primary text-primary-foreground shadow-sm":"text-slate-500 hover:bg-accent hover:text-accent-foreground dark:text-slate-400"),children:[s.jsx("div",{className:La("flex items-center justify-center transition-transform duration-200",n&&"scale-105"),children:s.jsx(Ts,{className:"h-[1.125rem] w-[1.125rem]"})}),s.jsx("span",{className:"flex-1 text-left",children:e}),a&&s.jsx("div",{className:La("rounded-full px-2 py-0.5 text-[0.625rem] font-bold uppercase tracking-wide transition-all duration-200",n?"bg-white/95 text-blue-700":"bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-sm"),children:a}),s.jsx("span",{className:La('transition-transform duration-300 ease-out group-data-[state="open"]:rotate-180',n?"text-white/90":"text-muted-foreground/60"),children:s.jsx(zs,{stroke:2,size:16})}),n&&s.jsx("div",{className:"absolute left-0 top-1/2 h-8 w-1 -translate-y-1/2 rounded-r-full bg-white shadow-lg shadow-white/50"})]}),s.jsx(Ha,{className:"data-[state=closed]:animate-collapsible-up data-[state=open]:animate-collapsible-down overflow-hidden transition-all duration-300 ease-out",asChild:!0,children:s.jsx("ul",{className:"mt-1 space-y-0.5 pb-1",children:null==r?void 0:r.filter(e=>null==e?void 0:e.is_sidebar).map(e=>s.jsx("li",{children:s.jsx(sr,{...e,subLink:!0,closeNav:l})},e.title))})})]})}function rr({title:e,icon:t,label:a,href:r,closeNav:l}){const{checkActiveNav:i}=er(),n=i(r);return s.jsxs(Ea,{delayDuration:0,children:[s.jsx(Ma,{asChild:!0,children:s.jsxs(d,{to:r,onClick:l,className:La("relative flex h-9 w-9 items-center justify-center rounded-lg transition-all duration-200",n&&"scale-105 bg-primary text-primary-foreground shadow-sm",!n&&"text-slate-500 hover:scale-105 hover:bg-accent hover:text-accent-foreground dark:text-slate-400"),children:[s.jsx("div",{className:"transition-transform duration-200",children:s.jsx(Us,{className:"h-5 w-5"})}),s.jsx("span",{className:"sr-only",children:e}),n&&s.jsx("div",{className:"absolute -right-0.5 -top-0.5",children:s.jsx("div",{className:"rounded-ful h-2.5 w-2.5 shadow-none ring-2 ring-background"})})]})}),s.jsxs(Ta,{side:"right",className:"flex items-center gap-3 border bg-popover px-3 py-2 text-popover-foreground shadow-xl",children:[s.jsx("span",{className:"text-sm font-medium",children:e}),a&&s.jsx("span",{className:"rounded-full bg-orange-500 px-2 py-0.5 text-[0.625rem] font-bold uppercase shadow-sm",children:a})]})]})}function lr({title:e,icon:t,label:a,sub:r,closeNav:l}){const{checkActiveNav:i}=er(),n=!!(null==r?void 0:r.find(e=>i(e.href)));return s.jsxs(Za,{children:[s.jsxs(Ea,{delayDuration:0,children:[s.jsx(Ma,{asChild:!0,children:s.jsx(Ga,{asChild:!0,children:s.jsxs(Wa,{variant:"ghost",size:"icon",className:La("relative h-9 w-9 rounded-lg transition-all duration-200",n&&"scale-105 bg-primary text-primary-foreground shadow-sm",!n&&"text-slate-500 hover:scale-105 hover:bg-accent hover:text-accent-foreground dark:text-slate-400"),children:[s.jsx(Ts,{className:"h-[1.125rem] w-[1.125rem]"}),n&&s.jsx("div",{className:"absolute -right-1 -top-1",children:s.jsx("div",{className:"h-2.5 w-2.5 rounded-full bg-primary shadow-none ring-2 ring-background"})})]})})}),s.jsxs(Ta,{side:"right",className:"flex items-center gap-3 border bg-popover px-3 py-2 text-popover-foreground shadow-xl",children:[s.jsx("span",{className:"text-sm font-medium",children:e}),a&&s.jsx("span",{className:"rounded-full bg-orange-500 px-2 py-0.5 text-[0.625rem] font-bold uppercase shadow-sm",children:a}),s.jsx(zs,{size:16,className:"-rotate-90 text-slate-400"})]})]}),s.jsxs(Ka,{side:"right",align:"start",sideOffset:8,className:"min-w-[220px] rounded-xl border bg-popover p-1.5 shadow-xl",children:[s.jsxs(Ja,{className:"px-3 py-2 text-xs font-semibold uppercase tracking-wider text-foreground",children:[e," ",a&&`(${a})`]}),s.jsx(Xa,{className:"my-1"}),s.jsx("div",{className:"space-y-0.5",children:r.map(({title:e,icon:t,label:a,href:r})=>s.jsx(Ya,{asChild:!0,className:"p-0",children:s.jsxs(d,{to:r,onClick:l,className:La("mx-1 flex items-center gap-3 rounded-lg px-3 py-2 transition-all duration-200",i(r)?"bg-gradient-to-r from-blue-600 to-indigo-600 font-semibold text-white shadow-md":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),children:[s.jsx(Fs,{className:La("h-1.5 w-1.5 shrink-0 transition-all duration-200",i(r)?"fill-white text-white":"fill-muted-foreground/50 text-muted-foreground/50")}),s.jsx("span",{className:"flex-1 text-wrap text-sm",children:e}),a&&s.jsx("span",{className:La("rounded-full px-2 py-0.5 text-[0.625rem] font-bold uppercase shadow-sm",i(r)?"bg-white/95 text-blue-700":"bg-orange-500 text-white"),children:a})]})},`${e}-${r}`))})]})]})}Xa.displayName=At.displayName;const ir=ba.create({baseURL:"https://jharkhandegovernance.com/auth"});function nr(e,t){const s=e.currentTarget;if(t.includes("mobile")){const e=s.value;e.length>10&&(s.value=e.slice(0,10))}if(t.includes("zip")){const e=s.value;e.length>6&&(s.value=e.slice(0,6))}if(t.includes("aadhaar")){const e=s.value;e.length>12&&(s.value=e.slice(0,12))}if(t.includes("pan")){const e=s.value;e.length>10&&(s.value=e.slice(0,10))}if(t.includes("UAN")){const e=s.value;e.length>12&&(s.value=e.slice(0,12))}if(t.includes("Passport")){const e=s.value;e.length>8&&(s.value=e.slice(0,8))}if(t.includes("drivingLicence")){const e=s.value;e.length>15&&(s.value=e.slice(0,15))}if(t.includes("removeDoubleSpace")){const e=s.value;s.value=e.replace(/\s+/g," ")}if(t.includes("removeSpecialCharacter")){const e=s.value;s.value=e.replace(/[^a-zA-Z0-9]/g,"")}if(t.includes("removeSpecialCharacterExceptSpace")){const e=s.value;s.value=e.replace(/[^a-zA-Z0-9 ]/g,"")}if(t.includes("removeSpecialCharacterExceptSpaceAndDot")){const e=s.value;s.value=e.replace(/[^a-zA-Z0-9 .]/g,"")}if(t.includes("sqlInjectionGuard")){const e=s.value;(e.includes("drop")||e.includes("select"))&&(s.value="")}if(t.includes("address")){const e=s.value;s.value=e.replace(/[^a-zA-Z0-9 ,]/g,"")}if(t.includes("phone")){const e=s.value;s.value=e.replace(/[^0-9]/g,"")}if(t.includes("email")){const e=s.value;s.value=e.replace(/[^a-zA-Z0-9@.]/g,"")}if(t.includes("string")){const e=s.value;s.value=e.replace(/[^a-zA-Z ]/g,"")}if(t.includes("number")){const e=s.value;s.value=e.replace(/[^0-9]/g,"")}if(t.includes("removeDoubleQuote")){const e=s.value;s.value=e.replace(/"/g,"")}if(t.includes("removeSingleQuote")){const e=s.value;s.value=e.replace("'","")}if(t.includes("removeSpecialCharacterWithDoubleSpace")){const e=s.value;s.value=e.replace(/[^a-zA-Z0-9 ]/g,"");const t=s.value;s.value=t.replace(/\s+/g," ")}if(t.includes("CapitalFirstLetter")){const e=s.value;s.value=e.charAt(0).toUpperCase()+e.slice(1)}if(t.includes("UppercaseAfterSpace")){const e=s.value;s.value=e.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}if(t.includes("Uppercase")){const e=s.value;s.value=e.toUpperCase()}if(t.includes("removeSpace")){const e=s.value;s.value=e.replace(/\s+/g,"")}if(t.includes("Lowercase")){const e=s.value;s.value=e.toLowerCase()}if(t.includes("none")){const e=s.value;s.value=e}if(t.includes("decimal")){let e=s.value.replace(/[^0-9.]/g,"");const t=e.split(".");t.length>2&&(e=t[0]+"."+t.slice(1).join("")),2===t.length&&t[1].length>2&&(e=t[0]+"."+t[1].slice(0,2)),s.value=e}if(t.includes("maxTwoDecimalPlaces")){const e=s.value;e.length>2&&(s.value=e.slice(0,2))}}ir.interceptors.request.use(e=>{const t=localStorage.getItem("token"),s=localStorage.getItem("ulbId")||null;return e.params={...e.params,ulbId:s},t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>{throw new Error(e)}),ir.interceptors.response.use(e=>{var t,s;return"false"==(null==(t=e.data)?void 0:t.authenticated)&&(delete ir.defaults.headers.common.Authorization,localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),localStorage.setItem("authenticated",null==(s=e.data)?void 0:s.authenticated),alert("Session Expired"),location.reload()),e},async e=>{throw new Error(e)}),o({language:"en",isGrid:!1,isSort:!1});const dr={login:"/api/login",getUser:"/api/user-managment/get-user-dtls",byModule:"/api/menu/by-module",getAllUsers:"/api/user-managment/v1/crud/get/user-list-by-ulb-id-v1",changePassword:"/api/change-password",getCaptcha:"/api/login-Captcha"},or={getMenuRoleList:"/api/user-managment/v1/crud/menu-role/list",api_getNotification:"/api/get-user-notifications",api_getDashboard:"/",api_getFreeMenuList:"/api/menu/by-module",api_getUlbWardList:"/api/get-all-ulb-ward",api_getUlbList:"/api/v2/get-all-ulb",api_getAllUlb:"/api/get-all-ulb",api_getUlbLogoList:"/api/get-upload/ulb-logo",api_PostUlb:"/api/create-ulb-master",api_PostUlblogo:"/api/upload/ulb-logo-by-id",api_getUlbById:"/api/get-ulb-by-id",api_updateUlb:"/api/updateUlbId",api_deleteUlb:"/api/ulb-master-delete",api_getWardListByULB:"/api/workflow/getWardByUlb",api_createUlbWard:"/api/create-ulb_ward_masters",api_updateUlbWard:"/api/update-ulb_ward_masters",api_deleteUlbWard:"/api/delete-ulb_ward_masters",api_getFinancialYearList:"/api/property/reports/list-fy",api_getDistrictList:"/api/list-district",api_getUlbWiseCollection:"/api/dashboard/state/ulb-wise-collection",api_getDcbMonthly:"/api/dashboard/state/property/DCB",api_getOnlinePaymentCount:"/api/dashboard/state/count-online-payment",api_getPercentageWiseModuleCollection:"/api/dashboard/state/collection-percentage",api_getUlbDataByDistrict:"/api/dashboard/state/district-wise-data",api_getOnlineUsers:"/",api_checkHeartBeat:"/api/heartbeat",api_logout:"/api/logout",api_getHeatMapDataByWard:"/api/property/getpropLatLong",api_wardByUlb:"/api/workflow/getWardByUlb",api_getTcByWard:"/api/workflow/ward-user/list-tc",ulbListApi:"/api/get-all-ulb",zone_list_Api:"/api/get-zone",api_deleteZoneApi:"/api/delete-zone",api_PostZoneApi:"/api/create-zone",api_zone_by_id:"/api/get-zone-by-id",api_updateZoneApi:"/api/update-zone",api_getRoleList:"/api/crud/roles/get-all-roles",api_postRole:"/api/crud/roles/save-role",api_deleteRole:"/api/crud/roles/delete-role",api_editRole:"/api/crud/roles/edit-role",api_getUserList:"/api/get-all-users",api_postUser:"/api/authorised-register",getMenuRole:"/api/user-managment/v1/crud/menu-role/list",api_PostMenuRole:"/api/user-managment/v1/crud/menu-role/save",api_deleteMenuRole:"/api/user-managment/v1/crud/menu-role/delete",api_updateMenuRole:"/api/user-managment/v1/crud/menu-role/edit",api_getMenuListByMenuRoleId:"/api/user-managment/v1/crud/menu-role/menu-list",api_updateMenuRoleMapping:"/api/user-managment/v1/crud/menu-role-map/save",getApiRole:"/api/user-managment/v1/crud/api-role/list",api_PostApiRole:"/api/user-managment/v1/crud/api-role/save",api_deleteApiRole:"/api/user-managment/v1/crud/api-role/delete",api_updateApiRole:"/api/user-managment/v1/crud/api-role/edit",api_getApiListByApiRoleId:"/api/user-managment/v1/crud/api-role/api-list",api_updateApiRoleMapping:"/api/user-managment/v1/crud/api-role-map/save",getWorkflowRole:"/api/user-managment/v1/crud/workflow-role/list",getWorkflowRoleById:"/api/user-managment/v1/crud/workflow-role/get",api_PostWorkflowRole:"/api/user-managment/v1/crud/workflow-role/save",api_deleteWorkflowRole:"/api/user-managment/v1/crud/workflow-role/delete",api_updateWorkflowRole:"/api/user-managment/v1/crud/workflow-role/edit",api_getMenuList:"/api/user-managment/v1/crud/menu/list",api_PostMenu:"/api/user-managment/v1/crud/menu/save",api_deleteMenu:"/api/user-managment/v1/crud/menu/delete",api_updateMenu:"/api/user-managment/v1/crud/menu/edit",api_getMenuById:"/api/user-managment/v1/crud/menu/get",api_getApiList:"/api/user-managment/v1/crud/api-master/list",api_PostApi:"/api/user-managment/v1/crud/api-master/save",api_deleteApi:"/api/user-managment/v1/crud/api-master/delete",api_updateApi:"/api/user-managment/v1/crud/api-master/edit",api_getApiById:"/api/user-managment/v1/crud/api-master/get",api_getUserLists:"/api/user-managment/v1/crud/user/list",api_PostUser:"/api/user-managment/v1/crud/user/create",api_EnalbeDisableUser:"/api/user-managment/v1/crud/user/delete",api_updateUser:"/api/user-managment/v1/crud/user/update",api_getUserById:"/api/user-managment/v1/crud/user/get",api_getModuleList:"/api/user-managment/v1/crud/module/list",api_getWorkflowByModule:"/api/user-managment/v1/crud/workflow-by-module",api_getParentMenuList:"/api/user-managment/v1/crud/menu/list-parent-serial",api_getApiCategory:"/api/user-managment/v1/api-category",api_getApiDeveloperList:"/api/user-managment/v1/developer-list",api_getMenuRolesByUser:"/api/user-managment/v1/crud/menu-role-user/by-user",api_getApiRolesByUser:"/api/user-managment/v1/crud/api-role-user/by-user",api_getWorkflowRolesByUser:"/api/user-managment/v1/crud/workflow-role-user/by-user",api_getUserTypeList:"/api/user-managment/v1/crud/get/user-type",api_postMenuRoleUserMapping:"/api/user-managment/v1/crud/menu-role-user/save",api_postApiRoleUserMapping:"/api/user-managment/v1/crud/api-role-user/save",api_postWorkflowRoleUserMapping:"/api/user-managment/v1/crud/workflow-role-user/save",api_postWardUserMapping:"/api/user-managment/v1/crud/ward-user/save",api_getWardListByUser:"/api/user-managment/v1/crud/ward-user/by-user",api_getConstructionApiList:"/api/property/ref-prop-construction-type-list",api_PostConstructionApi:"/api/property/ref-prop-construction-type-create",api_getConstructionApiById:"/api/property/ref-prop-construction-type-get",api_updateConstructionApi:"/api/property/ref-prop-construction-type-update",api_deleteConstructionApi:"/api/property/ref-prop-construction-type-delete",api_getFloorApiList:"/api/property/ref-prop-floor-type-list",api_PostFloorApi:"/api/property/ref-prop-floor-type-create",api_getFloorApiById:"/api/property/ref-prop-floor-type-get",api_updateFloorApi:"/api/property/ref-prop-floor-type-update",api_deleteFloorApi:"/api/property/ref-prop-floor-type-delete",api_getUsageTypeApiList:"/api/property/ref-prop-usage-type-list",api_PostUsageTypeApi:"/api/property/ref-prop-usage-type-create",api_getUsageTypeApiById:"/api/property/ref-prop-usage-type-get",api_updateUsageTypeApi:"/api/property/ref-prop-usage-type-update",api_deleteUsageTypeApi:"/api/property/ref-prop-usage-type-delete",api_getGbBuildingApiList:"/api/property/ref-prop-gbbuilding-type-list",api_PostGbBuildingApi:"/api/property/ref-prop-gbbuilding-type-create",api_getGbBuildingApiById:"/api/property/ref-prop-gbbuilding-type-get",api_updateGbBuildingApi:"/api/property/ref-prop-gbbuilding-type-update",api_deleteGbBuildingApi:"/api/property/ref-prop-gbbuilding-type-delete",api_getObjectionApiList:"/api/property/ref-prop-objection-type-list",api_PostObjectionApi:"/api/property/ref-prop-objection-type-create",api_getObjectionApiById:"/api/property/ref-prop-objection-type-get",api_updateObjectionApi:"/api/property/ref-prop-objection-type-update",api_deleteObjectionApi:"/api/property/ref-prop-objection-type-delete",api_getOccupancyApiList:"/api/property/ref-prop-occupancy-type-list",api_PostOccupancyApi:"/api/property/ref-prop-occupancy-type-create",api_getOccupancyApiById:"/api/property/ref-prop-occupancy-type-get",api_updateOccupancyApi:"/api/property/ref-prop-occupancy-type-update",api_deleteOccupancyApi:"/api/property/ref-prop-occupancy-type-delete",api_getPropertyApiList:"/api/property/ref-prop-property-type-list",api_PostPropertyApi:"/api/property/ref-prop-property-type-create",api_getPropertyApiById:"/api/property/ref-prop-property-type-get",api_updatePropertyApi:"/api/property/ref-prop-property-type-update",api_deletePropertyApi:"/api/property/ref-prop-property-type-delete",api_getGbpropusageApiList:"/api/property/ref-prop-gbpropusage-type-list",api_PostGbpropusageApi:"/api/property/ref-prop-gbpropusage-type-create",api_getGbpropusageApiById:"/api/property/ref-prop-gbpropusage-type-get",api_updateGbpropusageApi:"/api/property/ref-prop-gbpropusage-type-update",api_deleteGbpropusageApi:"/api/property/ref-prop-gbpropusage-type-delete",api_getPropOccupancyFactorApiList:"/api/property/ref-prop-occupancy-factor-list",api_PostPropOccupancyFactorApi:"/api/property/ref-prop-occupancy-factor-create",api_getPropOccupancyFactorApiById:"/api/property/ref-prop-occupancy-factor-get",api_updatePropOccupancyFactorApi:"/api/property/ref-prop-occupancy-factor-update",api_deletePropOccupancyFactorApi:"/api/property/ref-prop-occupancy-factor-delete",api_getRoadApiList:"/api/property/ref-prop-road-type-list",api_PostRoadApi:"/api/property/ref-prop-road-type-create",api_getRoadApiById:"/api/property/ref-prop-road-type-get",api_updateRoadApi:"/api/property/ref-prop-road-type-update",api_deleteRoadApi:"/api/property/ref-prop-road-type-delete",api_getOwnershipApiList:"/api/property/ref-prop-ownership-type-list",api_PostOwnershipApi:"/api/property/ref-prop-ownership-type-create",api_getOwnershipApiById:"/api/property/ref-prop-ownership-type-get",api_updateOwnershipApi:"/api/property/ref-prop-ownership-type-update",api_deleteOwnershipApi:"/api/property/ref-prop-ownership-type-delete",api_getTransferModeApiList:"/api/property/ref-prop-transfer-mode-list",api_PostTransferModeApi:"/api/property/ref-prop-transfer-mode-create",api_getTransferModeApiById:"/api/property/ref-prop-transfer-mode-get",api_updateTransferModeApi:"/api/property/ref-prop-transfer-mode-update",api_deleteTransferModeApi:"/api/property/ref-prop-transfer-mode-delete",api_getRebateTypeApiList:"/api/property/ref-prop-rebate-type-list",api_PostRebateTypeApi:"/api/property/ref-prop-rebate-type-create",api_getRebateTypeApiById:"/api/property/ref-prop-rebate-type-get",api_updateRebateTypeApi:"/api/property/ref-prop-rebate-type-update",api_deleteRebateTypeApi:"/api/property/ref-prop-rebate-type-delete",api_getPenaltyTypeApiList:"/api/property/ref-prop-penalty-type-list",api_PostPenaltyTypeApi:"/api/property/ref-prop-penalty-type-create",api_getPenaltyTypeApiById:"/api/property/ref-prop-penalty-type-get",api_updatePenaltyTypeApi:"/api/property/ref-prop-penalty-type-update",api_deletePenaltyTypeApi:"/api/property/ref-prop-penalty-type-delete",api_getForgeryTypeApiList:"/api/property/m-prop-forgery-type-list",api_PostForgeryTypeApi:"/api/property/m-prop-forgery-type-create",api_getForgeryTypeApiById:"/api/property/m-prop-forgery-type-get",api_updateForgeryTypeApi:"/api/property/m-prop-forgery-type-update",api_deleteForgeryTypeApi:"/api/property/m-prop-forgery-type-delete",api_getDistrictApiList:"/api/get-district",api_PostDistrictApi:"/api/add-district",api_getDistrictApiById:"/api/get-districtBy-Id",api_updateDistrictApi:"/api/update-districtBy-Id",api_deleteDistrictApi:"/api/delete-district",api_getSchemeTypeApiList:"/api/get-scheme-type",api_PostSchemeTypeApi:"/api/add-scheme-type",api_getSchemeTypeApiById:"/api/get-scheme-type-by-id",api_updateSchemeTypeApi:"/api/update-scheme-type",api_deleteSchemeTypeApi:"/api/scheme-type-delete",api_getCityApiList:"/api/get-city",api_PostCityApi:"/api/create-city",api_getCityApiById:"/api/get-by-Id-city",api_updateCityApi:"/api/update-city-by-id",api_deleteCityApi:"/api/city/enable-disable",api_getWaterTypeApiList:"/api/water/get-water-prop-type",api_PostWaterTypeApi:"/api/water/create-water-prop-type",api_getWaterTypeById:"/api/water/getby-id-water-prop-type",api_updateWaterTypeApi:"/api/water/update-water-prop-type",api_deleteWaterTypeApi:"/api/water/delete-water-prop-type",api_getCapitalValuesRateApiList:"/api/property/m-capital-value-rate-list",api_getCapitalValuesRateById:"/api/property/m-capital-value-rate-get",api_PostCapitalValuesRateApi:"/api/property/m-capital-value-rate-create",api_updateCapitalValuesRateApi:"/api/property/m-capital-value-rate-update",api_deleteCapitalValuesRateApi:"/api/property/m-capital-value-rate-delete",api_getBuildingRentalCostApiList:"/api/property/m-prop-building-reantal-const-list",api_getBuildingRentalCostById:"/api/property/m-prop-building-reantal-const-get",api_getRentalValuesApiList:"/api/property/m-prop-rental-value-list",api_getRentalValuesById:"/api/property/m-prop-rental-value-get",api_getMultiFactorApiList:"/api/property/m-prop-multi-factor-list",api_getMultiFactorById:"/api/property/m-prop-multi-factor-get",api_getRoadTypesApiList:"/api/property/m-prop-road-types-list",api_getRoadTypesById:"/api/property/m-prop-road-types-get",api_getVacantRentalRatesApiList:"/api/property/m-prop-vacant-rentalrates-list",api_getVacantRentalRatesById:"/api/property/m-prop-vacant-rentalrates-get",api_getBuildingRentalTypeApiList:"/api/property/m-prop-building-reantal-rate-list",api_getBuildingRentalTypeApiById:"/api/property/m-prop-building-reantal-rate-get",api_getAssetsApiList:"/api/property/m-assets-get",api_PostAssetsApi:"/api/property/m-assets-create",api_getAssetsApiById:"/api/property/m-assets-get-by-id",api_updateAssetsApi:"/api/property/m-assets-update",api_deleteAssetsApi:"/api/property/m-assets-delete",api_getBlogPostApiList:"/api/m-list-of-all-blog",api_PostBlogPostApi:"/api/m-store-blog-post",api_updateblog:"/api/m-update-blog",api_deleteBlogPostApi:"/api/m-delete-blog",api_getBlogById:"/api/m-get-blog-by-Id",api_getImopNoticeApiList:"/api/property/m-notice-list",api_PostImopNoticeApi:"/api/property/m-notice-create",api_getImopNoticeApiById:"/api/property/m-notice-get-by-id",api_updateImopNoticeApi:"/api/property/m-notice-update",api_deleteImpoNoticeApi:"/api/property/m-notice-delete",api_getAnnouncementApiList:"/api/property/m-announcement-list",api_PostAnnouncementApi:"/api/property/m-announcement-create",api_getAnnouncementApiById:"/api/property/m-announcement-get-by-id",api_updateAnnouncementApi:"/api/property/m-announcement-update",api_deleteAnnouncementApi:"/api/property/m-announcement-delete",api_getMobileAppApiList:"/api/property/m-app-list",api_PostMobileAppApi:"/api/property/m-app-create",api_getMobileAppApiById:"/api/property/m-app-get-by-id",api_updateMobileAppApi:"/api/property/m-app-update",api_deleteMobileAppApi:"/api/property/m-app-delete",api_getSchemeApiList:"/api/property/m-scheme-list",api_PostSchemeApi:"/api/property/m-scheme-create",api_getSchemeApiById:"/api/property/m-scheme-get-by-id",api_updateSchemeApi:"/api/property/m-scheme-update",api_deleteSchemeApi:"/api/property/m-scheme-delete",api_getNewEventsApiList:"/api/property/m-news-list",api_PostNewEventsApi:"/api/property/m-news-create",api_getNewEventsApiById:"/api/property/m-news-get-by-id",api_updateNewEventsApi:"/api/property/m-news-update",api_deleteNewEventsApi:"/api/property/m-news-delete",api_getEserviceApiList:"/api/property/m-e-service-list",api_PostEserviceApi:"/api/property/m-e-service-create",api_getEserviceApiById:"/api/property/m-e-service-get-by-id",api_updateEserviceApi:"/api/property/m-e-service-update",api_deleteEserviceApi:"/api/property/m-e-service-delete",api_getWhatsNewApiList:"/api/property/m-whats-new-list",api_PostWhatsNewApi:"/api/property/m-whats-new-createss",api_getWhatsNewApiById:"/api/property/m-whats-new-get-by-id",api_updateWhatsNewApi:"/api/property/m-whats-new-update",api_deleteWhatsNewApi:"/api/property/m-whats-new-delete",api_getQuickLinkApiList:"/api/property/m-quick-link-list",api_PostQuickLinkApi:"/api/property/m-quick-link-create",api_getQuickLinkApiById:"/api/property/m-quick-link-get-by-id",api_updateQuickLinkApi:"/api/property/m-quick-link-update",api_deleteQuickLinkApi:"/api/property/m-quick-link-delete",api_getUsefulLinkApiList:"/api/property/m-useful-link-list",api_PostUsefulLinkApi:"/api/property/m-useful-link-create",api_getUsefulLinkApiById:"/api/property/m-useful-link-get-by-id",api_updateUsefulLinkApi:"/api/property/m-useful-link-update",api_deleteUsefulLinkApi:"/api/property/m-useful-link-delete",api_getImportantLinkApiList:"/api/property/m-important-link-list",api_PostImportantLinkApi:"/api/property/m-important-link-create",api_getImportantLinkApiById:"/api/property/m-important-link-get-by-id",api_updateImportantLinkApi:"/api/property/m-important-link-update",api_deleteImportantLinkApi:"/api/property/m-important-link-delete",api_getDepartmentApiList:"/api/property/m-department-list",api_PostDepartmentApi:"/api/property/m-department-create",api_getDepartmentApiById:"/api/property/m-department-get-by-id",api_updateDepartmentApi:"/api/property/m-department-update",api_deleteDepartmentApi:"/api/property/m-department-delete",api_getContactInfoApiList:"/api/property/m-contact-list",api_PostContactInfoApi:"/api/property/m-contact-create",api_getContactInfoApiById:"/api/property/m-contact-get-by-id",api_updateContactInfoApi:"/api/property/m-contact-update",api_deleteContactInfoApi:"/api/property/m-contact-delete",api_getAboutUsApiList:"/api/property/m-about-us-list",api_PostAboutUsApi:"/api/property/m-about-us-create",api_getAboutUsApiById:"/api/property/m-about-us-get-by-id",api_updateAboutUsApi:"/api/property/m-about-us-update",api_deleteAboutUsApi:"/api/property/m-about-us-delete",api_getActRulesApiList:"/api/property/m-act-rules-list",api_PostActRulesApi:"/api/property/m-act-rules-create",api_getActRulesApiById:"/api/property/m-act-rules-get-by-id",api_updateActRulesApi:"/api/property/m-act-rules-update",api_deleteActRulesApi:"/api/property/m-act-rules-delete",api_getAdministrativeApiList:"/api/property/m-administrative-list",api_PostAdministrativeApi:"/api/property/m-administrative-create",api_getAdministrativeApiById:"/api/property/m-administrative-get-by-id",api_updateAdministrativeApi:"/api/property/m-administrative-update",api_deleteAdministrativeApi:"/api/property/m-administrative-delete",api_getSliderApiList:"/api/property/m-slider-get",api_PostSliderApi:"/api/property/m-slider-create",api_getSliderById:"/api/property/m-slider-get-by-id",api_updateSliderApi:"/api/property/m-slider-update",api_deleteSliderApi:"/api/property/m-slider-delete",api_getAdminLists:"/api/user-managment/v1/crud/get/admin-list",api_getHeadingApiList:"/api/property/m-heading-list",api_PostHeadingApi:"/api/property/m-heading-create",api_getHeadingById:"/api/property/m-heading-get-by-id",api_updateHeadingApi:"/api/property/m-heading-update",api_deleteHeadingApi:"/api/property/m-heading-delete",api_PostHeadingDescriptionApi:"/api/property/m-heading-description-create",api_getHeadingDescriptionById:"/api/property/m-heading-description-get-by-id",api_updateHeadingDescriptionApi:"/api/property/m-heading-description-update",api_deleteHeadingDescriptionApi:"/api/property/m-heading-description-delete",api_getC_DeskHeadingApiList:"/api/property/m-c-desk-list",api_PostC_DeskHeadingApi:"/api/property/m-c-desk-create",api_getC_DeskHeadingById:"/api/property/m-c-desk-get-by-id",api_updateC_DeskHeadingApi:"/api/property/m-c-desk-update",api_deleteC_DeskHeadingApi:"/api/property/m-c-desk-delete",api_PostC_DeskDescriptionApi:"/api/property/m-c-desk-des-create",api_getC_DeskDescriptionById:"/api/property/m-c-desk-des-get-by-id",api_updateC_DeskDescriptionApi:"/api/property/m-c-desk-des-update",api_deleteC_DeskDescriptionApi:"/api/property/m-c-desk-des-delete"},cr={workflowList:"/api/user-managment/v1/crud/workflow-master/list",workflowAdd:"/api/user-managment/v1/crud/workflow-master/save",workflowUpdate:"/api/user-managment/v1/crud/workflow-master/edit",workflowDelete:"/api/user-managment/v1/crud/workflow-master/delete",ulbWfList:"/api/user-managment/v1/crud/wf-workflow/list",workflowListById:"/api/user-managment/v1/crud/wf-workflow/get",ulbWfAdd:"/api/user-managment/v1/crud/wf-workflow/save",ulbWfUpdate:"/api/user-managment/v1/crud/wf-workflow/edit",ulbWfDelete:"/api/user-managment/v1/crud/wf-workflow/delete",allUlb:"/api/get-all-ulb",wfRoleList:"/api/user-managment/v1/crud/workflow-role-map/list",wfRoleUpdate:"/api/user-managment/v1/crud/workflow-role-map/edit",wfRoleDelete:"/api/user-managment/v1/crud/workflow-role-map/delete",wfRoleAdd:"/api/user-managment/v1/crud/workflow-role-map/save",wfRoleListById:"/api/user-managment/v1/crud/workflow-role-map/get",allRole:"/api/user-managment/v1/crud/workflow-role/list",wfListById:"/api/user-managment/v1/crud/workflow-master/get",wfListByUlb:"/api/workflow/getWorkflowInUlb",UmList:"/api/user-managment/v1/crud/user/list",UmListById:"/api/user-managment/v1/crud/user/get",UmAdd:"/api/user-managment/v1/crud/user/create",UmDelete:"/api/user-managment/v1/crud/user/delete",UmUpdate:"/api/user-managment/v1/crud/user/update",allUser:"/api/user-managment/v1/crud/user/list",PUAdd:"/",ulbListApi:"/api/get-all-ulb"},ur={getUser:"/api/get-citizen-dtl",getModuleByUlbId:"/api/get/moudle-by-Ulb-id",userManagementModuleList:"/api/user-managment/v1/crud/module/list",createServiceMapping:"/api/global/mapping",getServiceMapping:"/api/global/mapping",updateServiceMapping:"/api/global/mapping/update",serviceList:"/api/get/service-list",addServiceByModule:"/api/create/services",updateServiceByModule:"/api/update/service-by-id",ulbEnableDisable:"/api/ulb-master-delete",moduleList:"/api/global/service",createService:"/api/global/service",getAllJuidcoUlbList:"/api/v2/get-all-ulb",getAnalyticsData:"/api/global/analytics",getMenuRoleList:"/api/user-managment/v1/crud/menu-role/list",getWorkFlowList:"/api/user-managment/v1/crud/workflow-role/list",getMenuMasterList:"/api/user-managment/v1/crud/menu/list",getPermitedMenuList:"/api/user-managment/v1/crud/menu-role/menu-list",getPermitedApiList:"/api/user-managment/v1/crud/api-role-map/list-v1",addRemoveMenuPermission:"/api/user-managment/v1/crud/menu-role-map/save",addRemoveApiPermission:"/api/user-managment/v1/crud/api-role-map/save-v1",addMenuList:"/api/user-managment/v1/crud/menu-role/save",editMenuList:"/api/user-managment/v1/crud/menu-role/edit",parentMenuList:"/api/user-managment/v1/crud/menu/list-parent-serial",workFlowByModule:"/api/user-managment/v1/crud/workflow-by-module",addMenuByModule:"/api/user-managment/v1/crud/menu/save",getMenuDetailsByModule:"/api/user-managment/v1/crud/menu/get",editMenuDetailsByModule:"/api/user-managment/v1/crud/menu/edit",userListByULBId:"/api/user-managment/v1/crud/get/user-list-by-ulb-id",userPermittedRoles:"/api/user-managment/v1/crud/menu-role-user/by-user",addMenuRoleUser:"/api/user-managment/v1/crud/menu-role-user/save",permittedWardByUser:"/api/user-managment/v1/crud/ward-user/by-user",addRemoveWard:"/api/user-managment/v1/crud/ward-user/save",workFlowRoleByUser:"/api/user-managment/v1/crud/workflow-role-user/by-user",AddRemoveWorkFlowRoleByUser:"/api/user-managment/v1/crud/workflow-role-user/save",addRemoveModuleToUlb:"/api/create/ulb-wise-module",getServicesByUlbModule:"/api/get/services-b-ulb-id-v1",addRemoveServiceByUlbModule:"/api/create/ulb-wise-services",enableDisableUserByModule:"/api/user-managment/v1/crud/user/delete",adminList:"/api/user-managment/v1/crud/get/admin-list-v1",createAdmin:"/api/user-managment/v1/crud/user/create",updateAdmin:"/api/user-managment/v1/crud/user/update",createUserType:"/api/user-managment/v1/crud/get/user-type",deleteMenu:"/api/user-managment/v1/crud/menu/delete",changeUserPassword:"/api/change-password-dev",apiListByModule:"/api/user-managment/v1/api-list-module-id",apiMasterCreateByModule:"/api/user-managment/v1/crud/api-master/save",apiDetailsById:"/api/user-managment/v1/api-details-by-id",apiMasterUpdate:"/api/user-managment/v1/update-api-details",apiMasterDelete:"/api/user-managment/v1/delete-api",apiRoleMasterActiveDeactive:"/api/user-managment/v1/menu-role/toggle-suspension",addModule:"api/add-module",updateModule:"api/update-module",deleteModule:"api/delete-module",ulbConfigurationList:"api/ulb-config-details",moduleRegistryList:"api/module-registry/list",getDynamicTableStructure:"api/dynamic-table/list",createDynamicTable:"api/dynamic-table/create",updateDynamicTable:"api/dynamic-table/update",deleteDynamicTable:"api/dynamic-table/delete",dashboardStats:"api/dashboard-counts",post_addFaq:"api/user-managment/v1/crud/faq/save",post_getFaq:"api/user-managment/v1/crud/faq/get",post_listFaq:"api/user-managment/v1/crud/faq/list",post_editFaq:"api/user-managment/v1/crud/faq/edit",post_deleteFaq:"api/user-managment/v1/crud/faq/delete",post_moduleList:"api/user-managment/v1/crud/module/list"},mr=e=>{e?localStorage.setItem("token",e):(localStorage.removeItem("token"),delete ir.defaults.headers.common.Authorization)};function xr(e){return e instanceof Error?e.message:String(e)}function pr(e,t){let s="",a=e;for(let r=0;r<t;r++)a=(9301*a+49297)%233280,s+=(a%16).toString(16);return s}const hr=va()((e,t)=>({isAuthenticated:!1,isInitialized:!1,user:null,menuItems:null,setIsAuthenticated:t=>e({isAuthenticated:t}),setIsInitialized:t=>e({isInitialized:t}),setMenuItems:t=>e({menuItems:t}),initialize:async()=>{var t,s;try{const a=localStorage.getItem("token");if(!a)return void e({isAuthenticated:!1,isInitialized:!0,user:null});mr(a);const[r,l]=await Promise.all([ir.post(`${dr.getUser}`),ir.post(`${dr.byModule}`,{moduleId:"35"})]);if(null==(t=null==r?void 0:r.data)?void 0:t.authenticated){const t=r.data.data;"SUPER ADMIN"!=(null==t?void 0:t.roleName)&&window.localStorage.setItem("ulbId",function(e,t="EW^reB0tm}p)R3w+7=+0YG0[XpUOSPfy"){if(!e||!t)return"";let s=0;const a=e+t;for(let o=0;o<a.length;o++)s=(s<<5)-s+a.charCodeAt(o),s&=s;s=Math.abs(s);let r="";for(let o=0;o<e.length;o++){const s=t.charCodeAt(o%t.length);r+=(e.charCodeAt(o)^s).toString(16).padStart(4,"0")}const l=pr(s,8),i=pr(s+1,4),n=pr(s+2,4),d=pr(s+3,4);return pr(s+4,12),`${l}-${i}-${n}-${d}:${e.length.toString(16).padStart(4,"0")}${r}`}(t.ulbId.toString())),e({isAuthenticated:!0,isInitialized:!0,user:t,menuItems:(null==(s=null==l?void 0:l.data)?void 0:s.data)||null})}else e({isAuthenticated:!1,isInitialized:!0,user:null})}catch(a){e({isAuthenticated:!1,isInitialized:!0,user:null})}},login:async e=>{try{const s=null==e?void 0:e.data;return mr(null==s?void 0:s.token),t().initialize(),s}catch(s){c.error("Login Failed")}},logout:()=>{try{mr(null),localStorage.removeItem("token"),e({isAuthenticated:!1,user:null,menuItems:null}),t().initialize()}catch(s){}}})),gr=va(e=>({getTitle:"",setTitle:t=>e({getTitle:t})})),fr=()=>({...hr(),...gr()});function br(e="1/1"){return{"4/3":"calc(100% / 4 * 3)","3/4":"calc(100% / 3 * 4)","6/4":"calc(100% / 6 * 4)","4/6":"calc(100% / 4 * 6)","16/9":"calc(100% / 16 * 9)","9/16":"calc(100% / 9 * 16)","21/9":"calc(100% / 21 * 9)","9/21":"calc(100% / 9 * 21)","1/1":"100%"}[e]}const vr=u.LazyLoadImage,jr=e.forwardRef(({ratio:e,disabledEffect:t=!1,effect:a="blur",...r},l)=>{const i=s.jsx(vr,{wrapperClassName:"wrapper",effect:t?"opacity":a,placeholderSrc:t?"/assets/transparent.png":"/assets/placeholder-new.png",width:"100%",style:{objectFit:"cover"},...r});return e?s.jsx("span",{ref:l,style:{width:1,lineHeight:1,display:"block",overflow:"hidden",position:"relative",paddingTop:br(e)},children:i}):s.jsx("span",{ref:l,style:{lineHeight:1,display:"block",overflow:"hidden",position:"relative"},children:i})}),yr=(e,t)=>{const a=e.toLowerCase();return t?s.jsx(jr,{src:t,alt:e,className:"h-5 w-5"}):a.includes("home")?s.jsx(Os,{size:18}):a.includes("search")||a.includes("view")?s.jsx(Us,{size:18}):a.includes("holding")?s.jsx(qs,{size:18}):a.includes("workflow")?s.jsx(Ws,{size:20}):a.includes("saf")?s.jsx($s,{size:18}):a.includes("concession")?s.jsx(Vs,{size:18}):a.includes("harvesting")?s.jsx(Hs,{size:18}):a.includes("objection")?s.jsx(Zs,{size:18}):a.includes("gbsaf")?s.jsx(Gs,{size:18}):s.jsx(Qs,{size:18})},Nr=()=>{const{menuItems:e}=fr();return t.useMemo(()=>{return e&&e.permission?(t=null==e?void 0:e.permission,[...t].sort((e,t)=>(e.order||999)-(t.order||999)).map(e=>{const t={title:e.name,label:"",href:e.path||"",is_sidebar:e.is_sidebar,icon:yr(e.name,e.icon)};if(e.children&&e.children.length>0){const s=[...e.children].sort((e,t)=>{const s=e.order||999;return(t.order||999)-s});t.sub=s.map(e=>({title:e.name,label:"",is_sidebar:e.is_sidebar,href:e.path||"",icon:yr(e.name,e.icon)}))}return t})):[];var t},[e])};function wr({className:t,isCollapsed:a,setIsCollapsed:r}){const l=Nr(),[i,n]=e.useState(!1),[d,o]=e.useState([]),c=m();return e.useEffect(()=>{i?document.body.classList.add("overflow-hidden"):document.body.classList.remove("overflow-hidden"),o(l||[])},[i]),s.jsxs("aside",{className:La("fixed left-0 right-0 top-0 z-50 w-full border-b border-r-2 border-border bg-background transition-[width] md:bottom-0 md:right-auto md:h-svh "+(a?"md:w-14":"md:w-64"),t),children:[s.jsx("div",{onClick:()=>n(!1),className:`absolute inset-0 transition-[opacity] delay-100 duration-700 ${i?"h-svh opacity-50":"h-0 opacity-0"} w-full bg-black/60 backdrop-blur-sm md:hidden`}),s.jsxs(Ua,{fixed:!0,className:i?"h-svh":"",children:[s.jsxs(Ua.Header,{sticky:!0,className:"z-50 flex justify-between border-b border-border bg-background px-4 py-3 md:px-4",children:[s.jsxs("div",{className:"flex items-center "+(a?"":"gap-2"),onClick:()=>c("/grievance/main"),children:[s.jsx("div",{children:s.jsx("img",{src:"https://i.ibb.co/vz5hT4c/jharkhand-Logo-uf1gjn.png",alt:"",className:"w-11"})}),s.jsxs("div",{className:"flex flex-col justify-end truncate "+(a?"invisible w-0":"visible w-auto"),children:[s.jsx("span",{className:"cursor-pointer font-medium",children:"UD&HD"}),s.jsx("span",{className:"text-xs",children:"HRMS"})]})]}),s.jsx(Wa,{variant:"ghost",size:"icon",className:"md:hidden","aria-label":"Toggle Navigation","aria-controls":"sidebar-menu","aria-expanded":i,onClick:()=>n(e=>!e),children:i?s.jsx(Ks,{}):s.jsx(Ys,{})})]}),s.jsx(tr,{id:"sidebar-menu",className:"thin-scrollbar z-40 h-full flex-1 overflow-auto "+(i?"max-h-screen":"max-h-0 border-b py-0 md:max-h-screen md:py-2"),closeNav:()=>n(!1),isCollapsed:a,links:(null==d?void 0:d.filter(e=>e.is_sidebar))||[]}),s.jsx(Wa,{onClick:()=>r(e=>!e),size:"icon",variant:"outline",className:"absolute -right-5 top-1/2 z-50 hidden rounded-full md:inline-flex",children:s.jsx(Js,{stroke:1.5,className:"h-5 w-5 "+(a?"rotate-180":"")})})]})]})}function kr(){const[t,s]=function({key:t,defaultValue:s}){const[a,r]=e.useState(()=>{const e=localStorage.getItem(t);return null!==e?JSON.parse(e):s});return e.useEffect(()=>{localStorage.setItem(t,JSON.stringify(a))},[a,t]),[a,r]}({key:"collapsed-sidebar",defaultValue:!1});return e.useEffect(()=>{const e=()=>{s(!(window.innerWidth<768)&&t)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[t,s]),[t,s]}function _r(){const[e,t]=kr();return s.jsxs("div",{className:"relative h-full overflow-hidden bg-background",children:[s.jsx(wr,{isCollapsed:e,setIsCollapsed:t}),s.jsx("main",{id:"content",className:`overflow-x-hidden pt-16 transition-[margin] md:overflow-y-scroll md:pt-0 ${e?"md:ml-14":"md:ml-64"} h-full bg-secondary`,children:s.jsx(i,{})})]})}function Sr(){const e=m();return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"border-b bg-white shadow-sm",children:s.jsxs("div",{className:"mx-auto flex max-w-7xl items-center justify-between px-4 sm:px-6 lg:px-8",children:[s.jsx("div",{children:s.jsx(jr,{src:"/images/jlogo.png",alt:"logo",width:80,height:80})}),s.jsx("div",{className:"container mx-auto max-w-6xl px-4 py-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"mb-2 text-3xl font-bold text-gray-900",children:"URBAN DEVELOPMET & HOUSING DEPARTMENT"}),s.jsx("p",{className:"text-gray-600",children:"Goverment of Jharkhand"})]})})]})}),s.jsx("div",{className:"bg-[#99B37C] py-3 text-white",children:s.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between space-x-3",children:[s.jsx("div",{children:s.jsx("h1",{className:"text-xl font-bold",children:"UD&HD"})}),s.jsx("div",{children:s.jsxs(Pa,{variant:"secondary",className:"flex items-center space-x-2",onClick:()=>{e("/legal/auth/login")},children:[s.jsx(Xs,{className:"h-4 w-4"})," Admin Login"]})})]})})}),s.jsx(i,{})]})}function Ar(){return s.jsx("div",{className:"flex items-center justify-center w-full h-[550px]",children:s.jsxs("div",{className:"flex justify-center items-center space-x-1 text-sm text-gray-700",children:[s.jsx("svg",{fill:"none",className:"w-6 h-6 animate-spin",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{clipRule:"evenodd",d:"M15.165 8.53a.5.5 0 01-.404.58A7 7 0 1023 16a.5.5 0 011 0 8 8 0 11-9.416-7.874.5.5 0 01.58.404z",fill:"currentColor",fillRule:"evenodd"})}),s.jsx("div",{children:"Loading ..."})]})})}function Cr({children:t}){const{isInitialized:a,isAuthenticated:r,initialize:l,menuItems:i,logout:d}=fr(),{pathname:o}=n(),c=x(),[u,m]=e.useState(null),h=e.useRef(!1),g=null==i?void 0:i.permission.flatMap(e=>[{...e,children:e.children.map(e=>e.id)},...e.children]),f=null==g?void 0:g.map(e=>{var t;return(null==(t=null==e?void 0:e.path)?void 0:t.includes(":id"))?null==e?void 0:e.path.replace(":id",c.id):null==e?void 0:e.path}).flat(1);return e.useEffect(()=>{a||l()},[]),e.useEffect(()=>{const e=()=>{document.hidden?h.current=!0:h.current&&(l(),h.current=!1)};return document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}},[l]),a?r?r&&!(null==f?void 0:f.includes(o))?s.jsx("div",{className:"flex h-screen flex-col",children:s.jsx("div",{className:"flex flex-1 flex-col items-center justify-center",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsxs("h1",{className:"text-lg font-bold text-gray-600",children:["403",s.jsx("span",{className:"text-lg font-medium text-gray-400",children:" | "}),"Unauthorized"]}),s.jsx("button",{onClick:()=>d(),className:"mt-4 rounded bg-blue-600 px-4 py-2 text-white transition hover:bg-blue-700",children:"Logout"})]})})}):u&&o!==u?(m(null),s.jsx(p,{to:u})):s.jsx(s.Fragment,{children:t}):(o!==u&&m(o),s.jsx(p,{to:"/project-config/auth/login"})):s.jsx("div",{className:"flex h-screen items-center justify-center",children:s.jsx(Ar,{})})}function Lr({children:t}){const{isAuthenticated:a,isInitialized:r,initialize:l,user:i}=hr();return e.useEffect(()=>{r||l()},[]),r?a?"HRMS Employee"==(null==i?void 0:i.roleName)?s.jsx(p,{to:"/project-config/employee/emp-home",replace:!0}):s.jsx(p,{to:"/project-config/dashboard/home",replace:!0}):s.jsx(s.Fragment,{children:t}):s.jsx("div",{className:"flex h-screen items-center justify-center",children:s.jsx(Ar,{})})}function Ir(){const e=m();return s.jsx("div",{className:"h-svh",children:s.jsxs("div",{className:"m-auto flex h-full w-full flex-col items-center justify-center gap-2",children:[s.jsx("h1",{className:"text-[7rem] font-bold leading-tight",children:"404"}),s.jsx("span",{className:"font-medium",children:"Oops! Page Not Found!"}),s.jsxs("p",{className:"text-center text-muted-foreground",children:["It seems like the page you're looking for ",s.jsx("br",{}),"does not exist or might have been removed."]}),s.jsxs("div",{className:"mt-6 flex gap-4",children:[s.jsx(Wa,{variant:"outline",onClick:()=>e(-1),children:"Go Back"}),s.jsx(Wa,{onClick:()=>e("/"),children:"Back to Home"})]})]})})}const Pr={},Rr=function(e,t,s){let a=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),s=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));a=Promise.allSettled(t.map(e=>{if((e=function(e){return"/"+e}(e))in Pr)return;Pr[e]=!0;const t=e.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${a}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":"modulepreload",t||(r.as="script"),r.crossOrigin="",r.href=e,s&&r.setAttribute("nonce",s),document.head.appendChild(r),t?new Promise((t,s)=>{r.addEventListener("load",t),r.addEventListener("error",()=>s(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function r(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return a.then(t=>{for(const e of t||[])"rejected"===e.status&&r(e.reason);return e().catch(r)})};function Dr(){const{theme:t,setTheme:a}=(()=>{const t=e.useContext(Aa);if(void 0===t)throw new Error("useTheme must be used within a ThemeProvider");return t})();return e.useEffect(()=>{const e="dark"===t?"#020817":"#fff",s=document.querySelector("meta[name='theme-color']");s&&s.setAttribute("content",e)},[t]),s.jsx(Wa,{size:"icon",variant:"ghost",className:"rounded-full",onClick:()=>a("light"===t?"dark":"light"),children:"light"===t?s.jsx(ea,{size:20}):s.jsx(ta,{size:20})})}const Er=e.forwardRef(({className:e,...t},a)=>s.jsx(Pt,{ref:a,className:La("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Er.displayName=Pt.displayName;const Mr=e.forwardRef(({className:e,...t},a)=>s.jsx(Rt,{ref:a,className:La("aspect-square h-full w-full",e),...t}));Mr.displayName=Rt.displayName;const Tr=e.forwardRef(({className:e,...t},a)=>s.jsx(Dt,{ref:a,className:La("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Tr.displayName=Dt.displayName;const zr=(e,t,a)=>{h({customUI:({onClose:r})=>s.jsxs("div",{children:[s.jsx("div",{className:"fixed inset-0 bg-black opacity-50"}),s.jsxs("div",{className:"relative z-10 rounded-md border border-border bg-card px-12 py-4 shadow-lg",children:[s.jsx("h1",{className:"text-lg font-bold",children:e}),s.jsx("p",{className:"text-sm",children:t}),s.jsxs("div",{className:"mt-4 flex justify-end",children:[s.jsx("button",{className:"rounded-md bg-red-500 px-4 py-1 text-white",onClick:()=>{a(),r()},children:"Yes"}),s.jsx("button",{className:"ml-2 rounded-md bg-gray-500 px-4 py-1 text-white",onClick:r,children:"No"})]})]})]})})};function Fr(){const{user:e,logout:t}=fr();return m(),s.jsxs(Za,{children:[s.jsx(Ga,{asChild:!0,children:s.jsx(Wa,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:s.jsxs(Er,{className:"h-10 w-10",children:[s.jsx(Mr,{src:(null==e?void 0:e.imgFullPath)||"/images/user.png",alt:"profile"}),s.jsx(Tr,{children:"SN"})]})})}),s.jsxs(Ka,{className:"w-56",align:"end",forceMount:!0,children:[s.jsx(Ja,{className:"cursor-pointer font-normal",onClick:()=>{window.location.href="/settings/dashboard/home"},children:s.jsxs("div",{className:"flex flex-col space-y-1",children:[s.jsx("p",{className:"text-sm font-medium leading-none",children:null==e?void 0:e.fullName}),s.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:null==e?void 0:e.email})]})}),s.jsx(Xa,{}),s.jsxs(Qa,{children:[s.jsxs(Ya,{onClick:()=>window.location.replace("/settings/dashboard/home"),className:"flex items-center gap-2",children:[s.jsx(sa,{size:16}),s.jsx("span",{children:"Profile"})]}),s.jsxs(Ya,{onClick:()=>window.location.replace("/settings/dashboard/change-password"),className:"flex items-center gap-2",children:[s.jsx(aa,{size:16}),s.jsx("span",{children:"Change Password"})]}),s.jsxs(Ya,{onClick:()=>window.location.replace("/settings/dashboard/notification"),className:"flex items-center gap-2",children:[s.jsx(ra,{size:16}),s.jsx("span",{children:"Notifications"})]})]}),s.jsxs(Ya,{onClick:()=>{zr("Are you sure?","Please confirm",async()=>{t()})},className:"flex items-center gap-2 text-red-600 focus:text-red-600",children:[s.jsx(la,{size:16}),s.jsx("span",{children:"Log out"})]})]})]})}const Ur=Ot,Br=Mt,Or=e.forwardRef(({className:e,...t},a)=>s.jsx(Et,{ref:a,className:La("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Or.displayName=Et.displayName;const qr=e.forwardRef(({className:e,children:t,...a},r)=>s.jsxs(Br,{children:[s.jsx(Or,{}),s.jsxs(Tt,{ref:r,className:La("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a,children:[t,s.jsxs(zt,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(Ft,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));qr.displayName=Tt.displayName;const Wr=({className:e,...t})=>s.jsx("div",{className:La("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Wr.displayName="DialogHeader";const $r=({className:e,...t})=>s.jsx("div",{className:La("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});$r.displayName="DialogFooter";const Vr=e.forwardRef(({className:e,...t},a)=>s.jsx(Ut,{ref:a,className:La("text-lg font-semibold leading-none tracking-tight",e),...t}));Vr.displayName=Ut.displayName;function Hr({links:t}){const[a,r]=e.useState(""),[l,i]=e.useState([]),[n,d]=e.useState(!1),[o,c]=e.useState(-1),[u,x]=e.useState(!1),p=e.useRef(null),h=e.useRef(null),g=m(),f=(e,t=[])=>{const s=[];return e.forEach(e=>{e.href&&s.push({title:e.title,href:e.href,path:[...t,e.title]}),e.sub&&e.sub.length>0&&s.push(...f(e.sub,[...t,e.title]))}),s};e.useEffect(()=>{if(""===a.trim())return i([]),d(!1),void c(-1);const e=f(t.filter(e=>e.is_sidebar)),s=a.toLowerCase(),r=e.filter(e=>e.title.toLowerCase().includes(s)||e.path.some(e=>e.toLowerCase().includes(s)));i(r.slice(0,10)),d(!0),c(-1)},[a,t]),e.useEffect(()=>{u||(r(""),i([]),d(!1),c(-1))},[u]),e.useEffect(()=>{const e=e=>{(e.ctrlKey||e.metaKey)&&"k"===e.key&&(e.preventDefault(),x(!0),setTimeout(()=>{var e;return null==(e=h.current)?void 0:e.focus()},100))};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[]);const b=e=>{g(e),x(!1)};return s.jsx(s.Fragment,{children:s.jsx(Ur,{open:u,onOpenChange:x,children:s.jsxs(qr,{className:"sm:max-w-[600px]",children:[s.jsx(Wr,{children:s.jsx(Vr,{className:"sr-only",children:"Search Menu"})}),s.jsxs("div",{ref:p,className:"space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(ia,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-muted-foreground"}),s.jsx("input",{ref:h,type:"text",placeholder:"Search menu items...",value:a,onChange:e=>r(e.target.value),onKeyDown:e=>{var t,s;if(n&&0!==l.length)switch(e.key){case"ArrowDown":e.preventDefault(),c(e=>e<l.length-1?e+1:0);break;case"ArrowUp":e.preventDefault(),c(e=>e>0?e-1:l.length-1);break;case"Enter":e.preventDefault(),o>=0&&o<l.length&&b(l[o].href);break;case"Escape":d(!1),x(!1),null==(s=h.current)||s.blur()}else"Escape"===e.key&&(x(!1),d(!1),null==(t=h.current)||t.blur())},className:La("w-full rounded-lg border border-input bg-background py-3 pl-10 pr-10 text-base outline-none transition-all","placeholder:text-muted-foreground","focus:border-primary focus:ring-2 focus:ring-primary/20"),autoFocus:!0}),a&&s.jsx("button",{onClick:()=>{var e;r(""),d(!1),null==(e=h.current)||e.focus()},className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:s.jsx(Ks,{className:"h-5 w-5"})})]}),a&&s.jsx("div",{className:"max-h-[400px] overflow-y-auto rounded-lg border border-border",children:l.length>0?s.jsx("div",{className:"divide-y divide-border",children:l.map((e,t)=>s.jsx("button",{onClick:()=>b(e.href),className:La("w-full px-4 py-3 text-left transition-colors",o===t?"bg-accent text-accent-foreground":"text-foreground hover:bg-accent/50"),children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ia,{className:"h-4 w-4 text-slate-400"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm font-medium",children:e.title}),e.path.length>1&&s.jsx("div",{className:"mt-0.5 text-xs text-muted-foreground",children:e.path.slice(0,-1).join("  ")})]})]})},`${e.href}-${t}`))}):s.jsxs("div",{className:"p-8 text-center text-sm text-muted-foreground",children:['No menu items found for "',a,'"']})}),!a&&s.jsxs("div",{className:"rounded-lg border border-border bg-muted/50 p-8 text-center",children:[s.jsx(ia,{className:"mx-auto h-12 w-12 text-muted-foreground/30"}),s.jsx("p",{className:"mt-3 text-sm text-foreground/80",children:"Type to search menu items"}),s.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:"Use  to navigate, Enter to select, Esc to close"})]})]})]})})})}e.forwardRef(({className:e,...t},a)=>s.jsx(Bt,{ref:a,className:La("text-sm text-muted-foreground",e),...t})).displayName=Bt.displayName;const Zr=e.forwardRef(({children:t,title:a="",subTitle:r="",searchLink:l="",meta:i,name:n,code:o,description:c,...u},m)=>{!function(t=""){const{setTitle:s}=fr();e.useEffect(()=>{s(t)},[t])}(a);const{user:x}=fr(),p=Nr();return e.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},[a]),s.jsxs(s.Fragment,{children:[s.jsxs(Sa,{children:[s.jsx("title",{children:`${a} | HRMS`}),i]}),s.jsx("div",{ref:m,...u,children:s.jsxs(Ua,{fixed:!0,children:[s.jsxs(Ua.Header,{sticky:!0,className:"border-b bg-background/80 shadow-sm backdrop-blur-md",children:[s.jsxs("div",{className:"flex w-full items-center justify-between gap-3 px-2 sm:px-4",children:[s.jsx("div",{className:"hidden lg:block lg:w-8"}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 md:gap-4",children:[s.jsx("div",{className:"hidden sm:block",children:s.jsx(Hr,{links:p})}),s.jsx("div",{className:"hidden min-w-0 flex-col items-end md:flex",children:s.jsx("span",{className:"truncate rounded-full border border-blue-200 bg-gradient-to-r from-blue-50 to-indigo-50 px-3 py-1.5 text-xs font-semibold text-blue-700 shadow-sm",children:(null==x?void 0:x.roleName)||""})}),s.jsx(Dr,{}),s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Fr,{})})]})]}),s.jsxs("div",{className:"flex items-center justify-between gap-2 border-t border-border px-2 py-2 sm:hidden",children:[s.jsx(Hr,{links:p}),s.jsx("span",{className:"truncate rounded-full border border-blue-200 bg-gradient-to-r from-blue-50 to-indigo-50 px-2.5 py-1 text-xs font-semibold text-blue-700",children:(null==x?void 0:x.roleName)||""})]})]}),s.jsxs(Ua.Body,{children:[s.jsxs("div",{className:"mb-2 sm:mb-4",children:[s.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between",children:[s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h2",{className:"mb-1 bg-gradient-to-r from-foreground to-foreground/70 bg-clip-text text-xl font-bold tracking-tight text-transparent sm:text-2xl",children:a}),r&&s.jsx("p",{className:"text-sm leading-relaxed text-muted-foreground sm:text-base",children:r})]}),(n||o)&&s.jsx("div",{className:"flex-shrink-0",children:s.jsxs("div",{className:"rounded-lg border bg-card p-2 shadow-sm",children:[n&&s.jsxs("div",{className:"mb-1 text-sm font-bold text-foreground",children:["Name-: ",n]}),o&&s.jsxs("div",{className:"rounded bg-muted px-2 py-0.5 font-mono text-xs font-bold text-muted-foreground",children:["Employee Code-: ",o]})]})})]}),l&&s.jsx("div",{className:"mt-4",children:s.jsxs(d,{className:"inline-flex items-center gap-2 rounded-lg bg-gradient-to-r from-blue-600 to-indigo-600 px-4 py-2.5 text-sm font-semibold text-white shadow-md transition-all hover:from-blue-700 hover:to-indigo-700 hover:shadow-lg active:scale-95",to:l,target:"_blank",children:[s.jsx(na,{className:"h-4 w-4"}),"Search Details"]})})]}),s.jsx("div",{className:"flex-1 overflow-auto",children:t})]})]})})]})});function Gr({key:e,api:t,options:s,value:a,config:r}){return rt({queryKey:[e??t,...a??[]],queryFn:async()=>(await ir.post(t,{...r})).data,refetchOnReconnect:"always",refetchOnWindowFocus:!1,...s})}const Qr=({options:e})=>at({mutationFn:({api:e,data:t})=>((e,t)=>ir.post(e,t))(e,t),...e}),Kr=({options:e})=>at({mutationFn:({api:e,data:t})=>ir.post(e,t,{headers:{"Content-Type":"multipart/form-data"}}),...e}),Yr=e.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:La("rounded-xl border bg-card text-card-foreground shadow",e),...t}));Yr.displayName="Card";const Jr=e.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:La("flex flex-col space-y-1.5 p-6",e),...t}));Jr.displayName="CardHeader";const Xr=e.forwardRef(({className:e,...t},a)=>s.jsx("h3",{ref:a,className:La("font-semibold leading-none tracking-tight",e),...t}));Xr.displayName="CardTitle";e.forwardRef(({className:e,...t},a)=>s.jsx("p",{ref:a,className:La("text-sm text-muted-foreground",e),...t})).displayName="CardDescription";const el=e.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:La("p-6 pt-0",e),...t}));el.displayName="CardContent";e.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:La("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter";const tl=e.forwardRef(({className:e,...t},a)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:a,className:La("w-full caption-bottom text-sm",e),...t})}));tl.displayName="Table";const sl=e.forwardRef(({className:e,...t},a)=>s.jsx("thead",{ref:a,className:La("[&_tr]:border-b",e),...t}));sl.displayName="TableHeader";const al=e.forwardRef(({className:e,...t},a)=>s.jsx("tbody",{ref:a,className:La("[&_tr:last-child]:border-0",e),...t}));al.displayName="TableBody";e.forwardRef(({className:e,...t},a)=>s.jsx("tfoot",{ref:a,className:La("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t})).displayName="TableFooter";const rl=e.forwardRef(({className:e,...t},a)=>s.jsx("tr",{ref:a,className:La("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));rl.displayName="TableRow";const ll=e.forwardRef(({className:e,...t},a)=>s.jsx("th",{ref:a,className:La("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));ll.displayName="TableHead";const il=e.forwardRef(({className:e,...t},a)=>s.jsx("td",{ref:a,className:La("px-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));il.displayName="TableCell";function nl({className:e}){return s.jsxs("div",{"aria-label":"Loading...",role:"status",className:La("loader",e),children:[s.jsxs("svg",{className:"icon",viewBox:"0 0 256 256",children:[s.jsx("line",{x1:128,y1:32,x2:128,y2:64,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:24}),s.jsx("line",{x1:"195.9",y1:"60.1",x2:"173.3",y2:"82.7",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:24}),s.jsx("line",{x1:224,y1:128,x2:192,y2:128,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:24}),s.jsx("line",{x1:"195.9",y1:"195.9",x2:"173.3",y2:"173.3",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:24}),s.jsx("line",{x1:128,y1:224,x2:128,y2:192,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:24}),s.jsx("line",{x1:"60.1",y1:"195.9",x2:"82.7",y2:"173.3",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:24}),s.jsx("line",{x1:32,y1:128,x2:64,y2:128,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:24}),s.jsx("line",{x1:"60.1",y1:"60.1",x2:"82.7",y2:"82.7",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:24})]}),s.jsx("span",{className:"loading-text",children:"Loading..."})]})}e.forwardRef(({className:e,...t},a)=>s.jsx("caption",{ref:a,className:La("mt-4 text-sm text-muted-foreground",e),...t})).displayName="TableCaption";const dl=({currentPage:e,totalItems:t,itemsPerPage:a,onPageChange:r,onItemsPerPageChange:l})=>{const i=Math.ceil(t/a);return i<=0?null:s.jsxs("div",{className:"flex flex-col items-center justify-between gap-4 rounded-xl border border-border bg-card/50 p-4 shadow-sm backdrop-blur-sm md:flex-row",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing"," ",s.jsxs("span",{className:"font-bold text-foreground",children:[Math.min(t,(e-1)*a+1),"-",Math.min(t,e*a)]})," ","of ",s.jsx("span",{className:"font-bold text-foreground",children:t})," ","results"]}),s.jsx("div",{className:"h-4 w-[1px] bg-border"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{htmlFor:"items-per-page",className:"text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:"Rows"}),s.jsx("select",{id:"items-per-page",className:"rounded-lg border border-input bg-background px-2 py-1.5 text-xs font-bold transition-all hover:bg-accent focus:ring-2 focus:ring-primary/20",value:a,onChange:e=>l(Number(e.target.value)),children:[5,10,15,20,50].map(e=>s.jsx("option",{value:e,children:e},e))})]})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(Pa,{onClick:()=>r(e-1),disabled:e<=1,variant:"ghost",size:"sm",className:"h-9 px-3 text-xs font-bold transition-all hover:bg-primary/10 hover:text-primary disabled:opacity-50",children:"Prev"}),s.jsx("div",{className:"flex items-center gap-1",children:(()=>{const t=[];if(i<=7)for(let e=1;e<=i;e++)t.push(e);else{t.push(1),e>3&&t.push("...");const s=Math.max(2,e-1),a=Math.min(i-1,e+1);for(let e=s;e<=a;e++)t.push(e);e<i-1-1&&t.push("..."),t.push(i)}return t})().map((t,a)=>{if("..."===t)return s.jsx("div",{className:"flex h-9 w-9 items-center justify-center text-xs text-muted-foreground",children:"..."},`ellipsis-${a}`);const l=t===e;return s.jsx(Pa,{onClick:()=>r(Number(t)),variant:l?"default":"ghost",size:"icon",className:La("h-9 w-9 text-xs font-bold transition-all",l?"bg-primary shadow-md hover:bg-primary/90":"hover:bg-primary/10 hover:text-primary"),children:t},`page-${t}`)})}),s.jsx(Pa,{onClick:()=>r(e+1),disabled:e>=i,variant:"ghost",size:"sm",className:"h-9 px-3 text-xs font-bold transition-all hover:bg-primary/10 hover:text-primary disabled:opacity-50",children:"Next"})]})]})};function ol({children:e,onSubmit:t,className:a,methods:r}){return s.jsx(g,{...r,children:s.jsx("form",{onSubmit:t,className:a,children:e})})}const cl=e.forwardRef(({className:t,type:a,onWheel:r,...l},i)=>{const n=e.useCallback(e=>{"number"===a&&(e.currentTarget.blur(),e.preventDefault(),setTimeout(()=>{var t;null==(t=e.currentTarget)||t.focus()},0)),null==r||r(e)},[a,r]);return s.jsx("input",{type:a,className:La("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:i,onWheel:n,...l})});function ul({name:e,label:t,isDynamic:a,inputValidation:r,inputSize:l,isRequired:i,...n}){const{control:d}=f();return s.jsx(s.Fragment,{children:e?s.jsx(b,{name:e,control:d,render:({field:{ref:e,...a},fieldState:{error:d}})=>s.jsxs("div",{children:[s.jsxs("h1",{className:"mb-1 text-sm text-gray-700 dark:text-gray-200",children:[t," ",i&&t&&s.jsx("span",{className:"text-red-400",children:"*"})]}),s.jsx(cl,{...a,value:"number"==typeof a.value&&0===a.value?"":a.value??"",ref:e,className:`${d?"border-red-400":null}\n            ${("small"===l?"h-8":"medium"===l&&"h-10")||"large"===l&&"h-12"||"h-9"}`,onInput:e=>{r&&nr(e,r)},...n}),d&&s.jsx("span",{className:"text-xs text-red-400",children:d.message})]})}):s.jsxs("div",{children:[s.jsx("h1",{className:"mb-1 text-gray-700 dark:text-gray-200",children:t}),s.jsx(cl,{...n,className:`\n        ${("small"===l?"h-8":"medium"===l&&"h-10")||"large"===l&&"h-12"||"h-9"}`,onInput:e=>{r&&nr(e,r)}})]})})}function ml({isLoading:e,children:t,...a}){return s.jsxs(Pa,{...a,disabled:e,children:[e&&s.jsx(qt,{className:"mr-2 h-4 w-4 animate-spin"}),e?"Please wait...":t]})}cl.displayName="Input";const xl=ts,pl=as,hl=ss,gl=e.forwardRef(({className:e,children:t,...a},r)=>s.jsxs(Wt,{ref:r,className:La("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...a,children:[t,s.jsx($t,{asChild:!0,children:s.jsx(da,{className:"h-4 w-4 opacity-50"})})]}));gl.displayName=Wt.displayName;const fl=e.forwardRef(({className:e,...t},a)=>s.jsx(Vt,{ref:a,className:La("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(oa,{className:"h-4 w-4"})}));fl.displayName=Vt.displayName;const bl=e.forwardRef(({className:e,...t},a)=>s.jsx(Ht,{ref:a,className:La("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(da,{className:"h-4 w-4"})}));bl.displayName=Ht.displayName;const vl=e.forwardRef(({className:e,children:t,position:a="popper",...r},l)=>s.jsx(Zt,{children:s.jsxs(Gt,{ref:l,className:La("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:a,...r,children:[s.jsx(fl,{}),s.jsx(Qt,{className:La("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(bl,{})]})}));vl.displayName=Gt.displayName;e.forwardRef(({className:e,...t},a)=>s.jsx(Kt,{ref:a,className:La("px-2 py-1.5 text-sm font-semibold",e),...t})).displayName=Kt.displayName;const jl=e.forwardRef(({className:e,children:t,...a},r)=>s.jsxs(Yt,{ref:r,className:La("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[s.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Jt,{children:s.jsx(ca,{className:"h-4 w-4"})})}),s.jsx(Xt,{children:t})]}));jl.displayName=Yt.displayName;e.forwardRef(({className:e,...t},a)=>s.jsx(es,{ref:a,className:La("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=es.displayName;const yl=({children:t,name:a,label:r,selectedText:l,className:i,data:n,initialValue:d,initialValueText:o,isSearch:c=!1,...u})=>{const{control:m,setValue:x}=f(),[p,h]=e.useState(""),g=c?null==n?void 0:n.filter(e=>e.label.toLowerCase().includes(p.toLowerCase())):n;return s.jsx(b,{name:a,control:m,render:({field:{ref:e,...t},fieldState:{error:a}})=>s.jsxs(s.Fragment,{children:[s.jsx("h1",{className:"mb-1 text-sm text-gray-700 dark:text-gray-200",children:r}),s.jsxs(xl,{onValueChange:e=>{var s;t.onChange(e),l&&x(l,null==(s=null==n?void 0:n.find(t=>t.value==e))?void 0:s.label)},value:void 0!==t.value&&null!==t.value?String(t.value):"",...u,children:[s.jsx(gl,{ref:e,className:La("h-9",a?"border-red-400":null,i),children:s.jsx(hl,{placeholder:"Select"})}),s.jsxs(vl,{children:[c&&s.jsx("div",{className:"sticky top-0 z-10 border-b bg-white px-2 pb-2 pt-2 dark:bg-gray-950",children:s.jsx(cl,{placeholder:"Search...",value:p,onChange:e=>h(e.target.value),className:"h-8",onKeyDown:e=>{e.stopPropagation()}})}),s.jsxs("div",{className:c?"max-h-[300px] overflow-y-auto":"",children:[d&&s.jsx(jl,{value:d??"0",children:o??"Select"}),s.jsx(pl,{children:(null==g?void 0:g.length)>0?g.map((e,t)=>s.jsx(jl,{value:e.value,children:e.label},t+1)):c&&s.jsx("div",{className:"py-6 text-center text-sm text-gray-500",children:"No results found"})})]})]})]}),a&&s.jsx("span",{className:"text-xs text-red-400",children:null==a?void 0:a.message})]})})};function Nl({name:e,label:t,isDynamic:a,isRequired:r,...l}){const{control:i,setValue:n}=f();return s.jsx(b,{name:e,control:i,render:({field:{ref:a},fieldState:{error:i}})=>s.jsxs(s.Fragment,{children:[s.jsxs("label",{className:"text-gray-700 dark:text-gray-200",htmlFor:t,children:[t," ",r&&s.jsx("span",{className:"text-red-400",children:"*"})]}),s.jsx(cl,{type:"file",onChange:t=>{n(e,t.target.files?t.target.files[0]:null)},ref:a,className:`mt-1 ${i?"border-red-400":null}`,...l}),i&&s.jsx("span",{className:"text-red-400 text-xs",children:i.message})]})})}const wl=e.forwardRef(({className:e,...t},a)=>s.jsx(rs,{className:La("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:a,children:s.jsx(ls,{className:La("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));function kl({name:e,label:t,...a}){const{control:r}=f();return s.jsx(b,{name:e,control:r,render:({field:{ref:e,...r},fieldState:{error:l}})=>s.jsxs(s.Fragment,{children:[s.jsxs("label",{className:"text-gray-700 dark:text-gray-200",htmlFor:t,children:[t," ",l&&s.jsx("span",{className:"text-red-400",children:"*"})]}),s.jsx("div",{className:"relative mt-1",children:s.jsx(wl,{onCheckedChange:r.onChange,checked:r.value,ref:e,className:`mt-1 ${l?"border-red-400":null}`,...a})}),l&&s.jsx("span",{className:"text-red-400 text-xs",children:null==l?void 0:l.message})]})})}wl.displayName=rs.displayName;const _l=({children:e,name:t,label:a,selectedText:r,className:l,data:i,initialValue:n,initialValueText:d,isRequired:o,isHookForm:c=!0,...u})=>{const{control:m,setValue:x}=f();return s.jsx(s.Fragment,{children:c?s.jsx(b,{name:t??"",control:m,render:({field:{ref:e,...t},fieldState:{error:n}})=>s.jsxs(s.Fragment,{children:[s.jsxs("h1",{className:"text-gray-700 dark:text-gray-200 ",children:[a," ",o&&s.jsx("span",{className:"text-red-400",children:"*"})]}),s.jsxs("select",{...t,onChange:e=>{var s;t.onChange(e),r&&x(r,null==(s=null==i?void 0:i.find(t=>t.value==e.target.value))?void 0:s.label)},ref:e,className:La("flex h-10 w-full rounded-md border border-input bg-background px-3 py-1 text-sm text-foreground shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",n?"border-red-400":null,l),...u,children:[s.jsx("option",{value:"",className:"bg-background text-foreground",children:d||"Select"}),null==i?void 0:i.map((e,t)=>s.jsx("option",{value:e.value,className:"bg-background text-foreground",children:e.label},t+1))]}),n&&s.jsx("span",{className:"text-xs text-red-400",children:null==n?void 0:n.message})]})}):s.jsxs(s.Fragment,{children:[s.jsxs("h1",{className:"text-gray-700 dark:text-gray-200 ",children:[a," ",o&&s.jsx("span",{className:"text-red-400",children:"*"})]}),s.jsxs("select",{className:La("flex h-10 w-full rounded-md border border-input bg-background px-3 py-1 text-sm text-foreground shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",l),...u,children:[s.jsx("option",{value:"",className:"bg-background text-foreground",children:d||"Select"}),null==i?void 0:i.map((e,t)=>s.jsx("option",{value:e.value,className:"bg-background text-foreground",children:e.label},t+1))]})]})})};e.forwardRef(({className:e,...t},a)=>s.jsx(is,{ref:a,className:La("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(ns,{className:La("flex items-center justify-center text-current"),children:s.jsx(wt,{className:"h-4 w-4"})})})).displayName=is.displayName;const Sl=l("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Al=e.forwardRef(({className:e,...t},a)=>s.jsx(ds,{ref:a,className:La(Sl(),e),...t}));Al.displayName=ds.displayName;const Cl=us,Ll=ms,Il=e.forwardRef(({className:e,align:t="center",sideOffset:a=4,...r},l)=>s.jsx(os,{children:s.jsx(cs,{ref:l,align:t,sideOffset:a,className:La("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...r})}));function Pl(e,{max:t,min:s=0,loop:a=!1}){let r=parseInt(e,10);return Number.isNaN(r)?"00":(a?(r>t&&(r=s),r<s&&(r=t)):(r>t&&(r=t),r<s&&(r=s)),r.toString().padStart(2,"0"))}function Rl(e){return function(e){return/^(0[0-9]|1[0-9]|2[0-3])$/.test(e)}(e)?e:Pl(e,{max:23})}function Dl(e){return function(e){return/^(0[1-9]|1[0-2])$/.test(e)}(e)?e:Pl(e,{min:1,max:12})}function El(e){return function(e){return/^[0-5][0-9]$/.test(e)}(e)?e:Pl(e,{max:59})}function Ml(e,{min:t,max:s,step:a}){let r=parseInt(e,10);return Number.isNaN(r)?"00":(r+=a,Pl(String(r),{min:t,max:s,loop:!0}))}function Tl(e,t){return Ml(e,{min:0,max:59,step:t})}function zl(e,t,s,a){switch(s){case"minutes":return function(e,t){const s=El(t);return e.setMinutes(parseInt(s,10)),e}(e,t);case"seconds":return function(e,t){const s=El(t);return e.setSeconds(parseInt(s,10)),e}(e,t);case"hours":return function(e,t){const s=Rl(t);return e.setHours(parseInt(s,10)),e}(e,t);case"12hours":return a?function(e,t,s){const a=function(e,t){return"PM"===t?e<=11?e+12:e:"AM"===t&&12===e?0:e}(parseInt(Dl(t),10),s);return e.setHours(a),e}(e,t,a):e;default:return e}}function Fl(e,t,s){switch(s){case"minutes":case"seconds":return Tl(e,t);case"hours":return function(e,t){return Ml(e,{min:0,max:23,step:t})}(e,t);case"12hours":return function(e,t){return Ml(e,{min:1,max:12,step:t})}(e,t);default:return"00"}}function Ul(e){return 0===e||12===e?"12":e>=22?""+(e-12):e%12>9?`${e}`:"0"+e%12}function Bl({className:t,classNames:a,showOutsideDays:r=!0,yearRange:l=50,...i}){const n=e.useMemo(()=>{let e=v;const{options:t,localize:s,formatLong:a}=i.locale||{};return t&&s&&a&&(e={options:t,localize:s,formatLong:a}),function(e){return Array.from({length:12},(t,s)=>({value:s,label:j(new Date(2021,s),"MMMM",{locale:e})}))}(e)},[]),d=e.useMemo(()=>function(e=50){const t=new Date;return Array.from({length:2*e+1},(s,a)=>({value:t.getFullYear()-e+a,label:(t.getFullYear()-e+a).toString()}))}(l),[]);return s.jsx(y,{showOutsideDays:r,className:La("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4  sm:space-y-0 justify-center",month:"flex flex-col items-center space-y-4",month_caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center ",button_previous:La(Ia({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100 absolute left-5 top-5",(()=>{const e=new Date((new Date).getFullYear()-l,0,1);return!!i.month&&(i.month.getMonth()===e.getMonth()&&i.month.getFullYear()===e.getFullYear())})()&&"pointer-events-none"),button_next:La(Ia({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100 absolute right-5 top-5",(()=>{const e=new Date((new Date).getFullYear()+l,11,31);return!!i.month&&(i.month.getMonth()===e.getMonth()&&i.month.getFullYear()===e.getFullYear())})()&&"pointer-events-none"),month_grid:"w-full border-collapse space-y-1",weekdays:La("flex",i.showWeekNumber&&"justify-end"),weekday:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",week:"flex w-full mt-2",day:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20 rounded-1",day_button:La(Ia({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100 rounded-l-md rounded-r-md"),range_end:"day-range-end",selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground rounded-l-md rounded-r-md",today:"bg-accent text-accent-foreground",outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",disabled:"text-muted-foreground opacity-50",range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",hidden:"invisible",...a},components:{Chevron:({...e})=>"left"===e.orientation?s.jsx(xa,{className:"h-4 w-4"}):s.jsx(pa,{className:"h-4 w-4"}),MonthCaption:({calendarMonth:e})=>s.jsxs("div",{className:"inline-flex gap-2",children:[s.jsxs(xl,{defaultValue:e.date.getMonth().toString(),onValueChange:t=>{var s;const a=new Date(e.date);a.setMonth(Number.parseInt(t,10)),null==(s=i.onMonthChange)||s.call(i,a)},children:[s.jsx(gl,{className:"w-fit gap-1 border-none p-0 focus:bg-accent focus:text-accent-foreground",children:s.jsx(hl,{})}),s.jsx(vl,{children:n.map(e=>s.jsx(jl,{value:e.value.toString(),children:e.label},e.value))})]}),s.jsxs(xl,{defaultValue:e.date.getFullYear().toString(),onValueChange:t=>{var s;const a=new Date(e.date);a.setFullYear(Number.parseInt(t,10)),null==(s=i.onMonthChange)||s.call(i,a)},children:[s.jsx(gl,{className:"w-fit gap-1 border-none p-0 focus:bg-accent focus:text-accent-foreground",children:s.jsx(hl,{})}),s.jsx(vl,{children:d.map(e=>s.jsx(jl,{value:e.value.toString(),children:e.label},e.value))})]})]})},...i})}Il.displayName=cs.displayName,Bl.displayName="Calendar";const Ol=e.forwardRef(({period:e,setPeriod:t,date:a,onDateChange:r,onLeftFocus:l,onRightFocus:i},n)=>s.jsx("div",{className:"flex h-10 items-center",children:s.jsxs(xl,{defaultValue:e,onValueChange:s=>(s=>{if(null==t||t(s),a){const t=new Date(a),s=Ul(a.getHours());null==r||r(zl(t,s.toString(),"12hours","AM"===e?"PM":"AM"))}})(s),children:[s.jsx(gl,{ref:n,className:"w-[65px] focus:bg-accent focus:text-accent-foreground",onKeyDown:e=>{"ArrowRight"===e.key&&(null==i||i()),"ArrowLeft"===e.key&&(null==l||l())},children:s.jsx(hl,{})}),s.jsxs(vl,{children:[s.jsx(jl,{value:"AM",children:"AM"}),s.jsx(jl,{value:"PM",children:"PM"})]})]})}));Ol.displayName="TimePeriodSelect";const ql=e.forwardRef(({className:t,type:a="tel",value:r,id:l,name:i,date:n=new Date((new Date).setHours(0,0,0,0)),onDateChange:d,onChange:o,onKeyDown:c,picker:u,period:m,onLeftFocus:x,onRightFocus:p,...h},g)=>{const[f,b]=e.useState(!1),[v,j]=e.useState("0");e.useEffect(()=>{if(f){const e=setTimeout(()=>{b(!1)},2e3);return()=>clearTimeout(e)}},[f]);const y=e.useMemo(()=>function(e,t){if(!e)return"00";switch(t){case"minutes":return El(String(e.getMinutes()));case"seconds":return El(String(e.getSeconds()));case"hours":return Rl(String(e.getHours()));case"12hours":return Dl(String(Ul(e.getHours())));default:return"00"}}(n,u),[n,u]),N=e=>{if("Tab"!==e.key){if(e.preventDefault(),"ArrowRight"===e.key&&(null==p||p()),"ArrowLeft"===e.key&&(null==x||x()),["ArrowUp","ArrowDown"].includes(e.key)){const t="ArrowUp"===e.key?1:-1,s=Fl(y,t,u);f&&b(!1);const a=n?new Date(n):new Date;null==d||d(zl(a,s,u,m))}if(e.key>="0"&&e.key<="9"){"12hours"===u&&j(e.key);const s=(t=e.key,"12hours"===u&&f&&"1"===y.slice(1,2)&&"0"===v?`0${t}`:f?y.slice(1,2)+t:`0${t}`);f&&(null==p||p()),b(e=>!e);const a=n?new Date(n):new Date;null==d||d(zl(a,s,u,m))}var t}};return s.jsx(cl,{ref:g,id:l||u,name:i||u,className:La("w-[48px] text-center font-mono text-base tabular-nums caret-transparent focus:bg-accent focus:text-accent-foreground [&::-webkit-inner-spin-button]:appearance-none",t),value:r||y,onChange:e=>{e.preventDefault(),null==o||o(e)},type:a,inputMode:"decimal",onKeyDown:e=>{null==c||c(e),N(e)},...h})});ql.displayName="TimePickerInput";const Wl=e.forwardRef(({date:t,onChange:a,hourCycle:r=24,granularity:l="second"},i)=>{const n=e.useRef(null),d=e.useRef(null),o=e.useRef(null),c=e.useRef(null),[u,m]=e.useState(t&&t.getHours()>=12?"PM":"AM");return e.useImperativeHandle(i,()=>({minuteRef:n.current,hourRef:d.current,secondRef:o.current,periodRef:c.current}),[n,d,o]),s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("label",{htmlFor:"datetime-picker-hour-input",className:"cursor-pointer",children:s.jsx(ua,{className:"mr-2 h-4 w-4"})}),s.jsx(ql,{picker:24===r?"hours":"12hours",date:t,id:"datetime-picker-hour-input",onDateChange:a,ref:d,period:u,onRightFocus:()=>{var e;return null==(e=null==n?void 0:n.current)?void 0:e.focus()}}),("minute"===l||"second"===l)&&s.jsxs(s.Fragment,{children:[":",s.jsx(ql,{picker:"minutes",date:t,onDateChange:a,ref:n,onLeftFocus:()=>{var e;return null==(e=null==d?void 0:d.current)?void 0:e.focus()},onRightFocus:()=>{var e;return null==(e=null==o?void 0:o.current)?void 0:e.focus()}})]}),"second"===l&&s.jsxs(s.Fragment,{children:[":",s.jsx(ql,{picker:"seconds",date:t,onDateChange:a,ref:o,onLeftFocus:()=>{var e;return null==(e=null==n?void 0:n.current)?void 0:e.focus()},onRightFocus:()=>{var e;return null==(e=null==c?void 0:c.current)?void 0:e.focus()}})]}),12===r&&s.jsx("div",{className:"grid gap-1 text-center",children:s.jsx(Ol,{period:u,setPeriod:m,date:t,onDateChange:e=>{null==a||a(e),e&&(null==e?void 0:e.getHours())>=12?m("PM"):m("AM")},ref:c,onLeftFocus:()=>{var e;return null==(e=null==o?void 0:o.current)?void 0:e.focus()}})})]})});Wl.displayName="TimePicker";e.forwardRef(({locale:t=v,defaultPopupValue:a=new Date((new Date).setHours(0,0,0,0)),value:r,onChange:l,onMonthChange:i,hourCycle:n=24,yearRange:d=50,disabled:o=!1,displayFormat:c,granularity:u="second",placeholder:m="Pick a date",className:x,...p},h)=>{const[g,f]=e.useState(r??a),b=e.useRef(null),[y,w]=e.useState(r??void 0);i||(i=l),e.useEffect(()=>{w(r)},[r]);e.useImperativeHandle(h,()=>({...b.current,value:y}),[y]);const k={hour24:(null==c?void 0:c.hour24)??"PPP HH:mm"+(u&&"second"!==u?"":":ss"),hour12:(null==c?void 0:c.hour12)??`PP hh:mm${u&&"second"!==u?"":":ss"} b`};let _=v;const{options:S,localize:A,formatLong:C}=t;return S&&A&&C&&(_={...v,options:S,localize:A,formatLong:C}),s.jsxs(Cl,{children:[s.jsx(Ll,{asChild:!0,disabled:o,children:s.jsxs(Pa,{variant:"outline",className:La("w-full justify-start text-left font-normal",!y&&"text-muted-foreground",x),ref:b,children:[s.jsx(ma,{className:"mr-2 h-4 w-4"}),y?j(y,24===n?k.hour24:k.hour12,{locale:_}):s.jsx("span",{children:m})]})}),s.jsxs(Il,{className:"w-auto p-0",children:[s.jsx(Bl,{mode:"single",selected:y,month:g,onSelect:e=>{var t;e&&(e.setHours((null==g?void 0:g.getHours())??0,(null==g?void 0:g.getMinutes())??0,(null==g?void 0:g.getSeconds())??0),(t=e)&&(null==l||l(t),f(t),w(t)))},onMonthChange:e=>{if(!e)return;if(!a)return e.setHours((null==g?void 0:g.getHours())??0,(null==g?void 0:g.getMinutes())??0,(null==g?void 0:g.getSeconds())??0),null==i||i(e),void f(e);const t=(e.getTime()-a.getTime())/864e5,s=N(a,{days:Math.ceil(t)});s.setHours((null==g?void 0:g.getHours())??0,(null==g?void 0:g.getMinutes())??0,(null==g?void 0:g.getSeconds())??0),null==i||i(s),f(s)},yearRange:d,locale:t,...p}),"day"!==u&&s.jsx("div",{className:"border-t border-border p-3",children:s.jsx(Wl,{onChange:e=>{null==l||l(e),w(e),e&&f(e)},date:g,hourCycle:n,granularity:u})})]})]})}).displayName="DateTimePicker";const $l=e.forwardRef(({className:e,orientation:t="horizontal",decorative:a=!0,...r},l)=>s.jsx(xs,{ref:l,decorative:a,orientation:t,className:La("shrink-0 bg-border","horizontal"===t?"h-[1px] w-full":"h-full w-[1px]",e),...r}));function Vl({children:e,open:t,setOpen:a,title:r,setEdit:l,isLoading:i}){return s.jsxs("div",{children:[t&&s.jsx("div",{className:"fixed inset-0 z-50 bg-gray-900/50 dark:bg-gray-900/80"}),s.jsx("div",{id:"authentication-modal",tabIndex:-1,className:(t?"flex":"hidden")+" fixed left-0 right-0 top-0 z-50 h-[calc(100%-1rem)] max-h-full w-full items-center justify-center overflow-y-auto overflow-x-hidden md:inset-0",children:s.jsx("div",{className:"relative max-h-full w-full max-w-2xl p-4",children:s.jsxs("div",{className:"relative rounded-lg bg-white shadow dark:bg-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between rounded-t border-b p-4 dark:border-gray-600 md:p-5",children:[s.jsx("h3",{className:"text-base font-semibold text-gray-900 dark:text-white",children:r??"Add/Edit"}),s.jsxs("button",{onClick:()=>{l(!1),a(e=>!e)},type:"button",className:"end-2.5 ms-auto inline-flex h-8 w-8 items-center justify-center rounded-lg bg-transparent text-sm text-gray-400 hover:bg-gray-200 hover:text-gray-900 dark:hover:bg-gray-600 dark:hover:text-white","data-modal-hide":"authentication-modal",children:[s.jsx("svg",{className:"h-3 w-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14",children:s.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})}),s.jsx("span",{className:"sr-only",children:"Close modal"})]})]}),s.jsx("div",{className:"p-4 md:p-5",children:i?s.jsx("div",{className:"flex h-32 items-center justify-center",children:s.jsx(nl,{})}):e})]})})})]})}$l.displayName=xs.displayName;const Hl=ja().shape({menuName:ya().required("Menu name is required"),route:ya().nullable(),parentId:ya().nullable(),workflowId:ya().nullable(),isSidebar:Na().default(!1),serial:ya().nullable()});function Zl({open:t,setOpen:a,title:r,edit:l,setEdit:i,id:n,refetch:d,menuId:o,editData:u}){var m,x,p,h;const g=Qr({}),f=w({resolver:k(Hl),defaultValues:{menuName:"",route:"",parentId:"",workflowId:"",isSidebar:!1,serial:""}}),{reset:b,handleSubmit:v,formState:{isSubmitting:j}}=f;e.useEffect(()=>{t&&b(l&&u?{menuName:u.menu_string||"",route:u.route||"",parentId:u.parent_id?String(u.parent_id):"",workflowId:u.workflow_id?String(u.workflow_id):"",isSidebar:!!u.is_sidebar,serial:u.serial||""}:{menuName:"",route:"",parentId:"",workflowId:"",isSidebar:!1,serial:""})},[t,l,u,b]);const y=Gr({api:null==ur?void 0:ur.parentMenuList,key:`parentMenuList-${n}`,config:{moduleId:String(n)},options:{enabled:!!n&&t}}),N=Gr({api:null==ur?void 0:ur.workFlowByModule,key:`workflowList-${n}`,config:{moduleId:String(n)},options:{enabled:!!n&&t}});return s.jsx(Vl,{open:t,setOpen:a,title:r||(l?"Edit Menu":"Add Menu"),setEdit:i,edit:l,children:s.jsx("div",{className:"p-1",children:s.jsx(ol,{methods:f,onSubmit:v(async e=>{var t,s,r;try{const u={...e,moduleId:Number(n),...l&&{id:Number(o)},parentId:e.parentId?Number(e.parentId):null,workflowId:e.workflowId?Number(e.workflowId):null},m=l?null==ur?void 0:ur.editMenuDetailsByModule:null==ur?void 0:ur.addMenuByModule,x=await g.mutateAsync({api:m,data:u});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||`Menu ${l?"updated":"added"} successfully`),a(!1),i&&i(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(u){c.error(xr(u))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(_l,{label:"Parent Menu Name",name:"parentId",initialValueText:"Select Parent Menu",data:(null==(x=null==(m=null==y?void 0:y.data)?void 0:m.data)?void 0:x.map(e=>({label:null==e?void 0:e.menu_string,value:String(null==e?void 0:e.id)})))||[]}),s.jsx(ul,{label:"Menu Name",name:"menuName",placeholder:"Enter menu name"}),s.jsx(ul,{label:"Menu Route",name:"route",placeholder:"Enter menu url"}),s.jsx(ul,{label:"Serial No.",name:"serial",type:"number",placeholder:"Enter Serial No."}),s.jsx(_l,{label:"Workflow (select module to get workflow list)",name:"workflowId",initialValueText:"Select Workflow",data:(null==(h=null==(p=null==N?void 0:N.data)?void 0:p.data)?void 0:h.map(e=>({label:null==e?void 0:e.workflow_name,value:String(null==e?void 0:e.id)})))||[]}),s.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-border bg-muted/30 p-3 px-4 transition-all hover:bg-muted/50",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("label",{htmlFor:"isSidebar",className:"cursor-pointer text-sm font-bold text-foreground",children:"Is Sidebar Show"}),s.jsx("p",{className:"text-[10px] font-medium uppercase tracking-wider text-muted-foreground",children:"Show this menu in the side navigation"})]}),s.jsx(kl,{name:"isSidebar",id:"isSidebar"})]})]}),s.jsx($l,{className:"opacity-50"}),s.jsx(ml,{isLoading:j,type:"submit",className:"h-12 w-full rounded-xl bg-[#7C3AED] text-sm font-bold text-white shadow-lg shadow-purple-500/20 transition-all hover:bg-[#6D28D9] active:scale-[0.98]",children:l?"Update Menu":"Submit"})]})})})})}function Gl(){var t,a,r;const l=n(),[i]=_(),d=m(),o=i.get("module_name"),u=i.get("id"),[x,p]=e.useState(1),[h,g]=e.useState(10),[f,b]=e.useState(!1),[v,j]=e.useState(!1),[y,N]=e.useState(null),[w,k]=e.useState(null),[U,B]=e.useState(""),O=Gr({api:null==ur?void 0:ur.getMenuMasterList,key:"menuMasterList",options:{enabled:!0}}),q=Qr({}),W=(null==(r=null==(a=null==(t=null==O?void 0:O.data)?void 0:t.data)?void 0:a.filter(e=>(null==e?void 0:e.module_id)==Number(u)))?void 0:r.filter(e=>{var t,s;return(null==(t=null==e?void 0:e.menu_string)?void 0:t.toLowerCase().includes(U.toLowerCase()))||(null==(s=null==e?void 0:e.route)?void 0:s.toLowerCase().includes(U.toLowerCase()))}))??[],$=x*h,V=$-h,H=W.slice(V,$),Z=[{key:"menu-list",label:"Menu List",icon:s.jsx(P,{className:"h-4 w-4"}),color:"bg-blue-600/10 hover:bg-blue-600/20 text-blue-600 border-blue-600/20"},{key:"service-list",label:"Service List",icon:s.jsx(T,{className:"h-4 w-4"}),color:"bg-emerald-600/10 hover:bg-emerald-600/20 text-emerald-600 border-emerald-600/20"},{key:"role-list",label:"Role List",icon:s.jsx(z,{className:"h-4 w-4"}),color:"bg-violet-600/10 hover:bg-violet-600/20 text-violet-600 border-violet-600/20"},{key:"workflow-list",label:"Workflow Role",icon:s.jsx(F,{className:"h-4 w-4"}),color:"bg-amber-600/10 hover:bg-amber-600/20 text-amber-600 border-amber-600/20"}];return s.jsxs("div",{className:"",children:[s.jsx("div",{className:"mb-6 flex flex-wrap gap-2",children:Z.map(e=>{const t=l.pathname.includes(e.key);return s.jsxs(Wa,{variant:t?"default":"outline",size:"sm",onClick:()=>{d(`/project-config/dashboard/module-list/${e.key}?module_name=${o}&id=${u}`)},className:La("flex items-center gap-2 transition-all hover:scale-105",t?La("bg-primary text-primary-foreground shadow-md",e.color&&"bg-opacity-100"):La("bg-background hover:bg-muted",e.color)),children:[e.icon,s.jsx("span",{className:"hidden sm:inline",children:e.label})]},e.key)})}),s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(Yr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Wa,{variant:"ghost",size:"sm",onClick:()=>d(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:o}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[W.length," Menu Items"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search menu or route...",value:U,onChange:e=>{B(e.target.value),p(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20 md:w-64"})]}),s.jsxs(Wa,{type:"button",onClick:()=>{j(!1),b(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New Menu"]})]})]})}),s.jsxs(el,{className:"p-0",children:[O.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(nl,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Fetching menu structure..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(tl,{children:[s.jsx(sl,{children:s.jsxs(rl,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(ll,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(ll,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Parent Menu"}),s.jsx(ll,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Menu Details"}),s.jsx(ll,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Route Path"}),s.jsx(ll,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"SideBar"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Serial"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"})]})}),s.jsx(al,{children:s.jsx(I,{children:H.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:V+t+1})}),s.jsx(il,{className:"px-2 text-muted-foreground",children:(null==e?void 0:e.parentName)||"-"}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(P,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:e.menu_string}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id," | Parent: ",e.parent_id]})]})]})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-foreground/80",children:[s.jsx(R,{className:"h-3 w-3 text-muted-foreground/60"}),s.jsx("code",{className:"rounded bg-muted px-1.5 py-0.5 text-xs font-semibold text-muted-foreground ring-1 ring-primary/10",children:e.route||"-"})]})}),s.jsx(il,{className:"py-4",children:s.jsx("div",{className:"flex items-center text-sm font-medium text-foreground/80",children:e.is_sidebar?"Yes":"No"})}),s.jsx(il,{className:"py-4 text-center",children:s.jsxs("div",{className:"inline-flex items-center gap-1.5 rounded-full border border-border/50 bg-accent/50 px-2.5 py-1 text-xs font-bold text-foreground/70",children:[s.jsx(D,{className:"h-3 w-3 text-muted-foreground"}),e.serial]})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>{N(e.id),k(e),j(!0),b(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>{zr("Delete Menu",`Are you sure you want to delete ${e.menu_string}?`,async()=>{var t,s,a;try{const r=await q.mutateAsync({api:ur.deleteMenu,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Menu deleted successfully"),O.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete menu")}catch(r){c.error("An error occurred")}})},className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})})]},e.id))})})]}),W.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(dl,{currentPage:x,totalItems:W.length,itemsPerPage:h,onPageChange:e=>{p(e)},onItemsPerPageChange:e=>{g(e),p(1)}})})]}),!O.isLoading&&0===W.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(P,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No menu items found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:"This module doesn't have any navigation items configured yet."}),s.jsxs(Wa,{className:"mt-6",variant:"outline",children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Create First Menu"]})]})]})]}),s.jsx(Zl,{open:f,setOpen:b,id:u,edit:v,setEdit:j,menuId:y,editData:w,refetch:O.refetch})]})]})}function Ql(){return s.jsx(Zr,{title:"Menu List",subTitle:"Control all Menu here",children:s.jsx(Gl,{})})}const Kl=ja().shape({serviceName:ya().required("Service name is required"),path:ya().required("Path is required")});function Yl({open:t,setOpen:a,title:r,edit:l,setEdit:i,serviceList:n,id:d,paginatedMenuList:o,moduleId:u}){const m=Qr({}),x=w({defaultValues:{serviceName:""},resolver:k(Kl)}),{reset:p}=x;e.useEffect(()=>{var e,s;if(t)if(l&&d){const t=null==(s=null==(e=null==n?void 0:n.data)?void 0:e.data)?void 0:s.find(e=>e.id==d);t&&p({serviceName:t.service_name||"",path:t.path||""})}else p({serviceName:"",path:""})},[t,l,d,p]);return s.jsx(Vl,{open:t,setOpen:a,title:r,setEdit:i,edit:l,children:s.jsx(ol,{methods:x,onSubmit:x.handleSubmit(async e=>{var t,s,r;try{const o=l?null==ur?void 0:ur.updateServiceByModule:null==ur?void 0:ur.addServiceByModule,x=l?{...e,id:d}:{...e,moduleId:Number(u)},p=await m.mutateAsync({api:o,data:x});(null==(t=null==p?void 0:p.data)?void 0:t.status)?(c.success((null==(s=null==p?void 0:p.data)?void 0:s.message)||`Service ${l?"updated":"added"} successfully`),a(!1),i&&i(!1),n.refetch()):c.error((null==(r=null==p?void 0:p.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(xr(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-x-2 gap-y-4",children:[s.jsx("div",{children:s.jsx(ul,{label:"Service Name",name:"serviceName",placeholder:"Enter service name"})}),s.jsx("div",{children:s.jsx(ul,{label:"Service Path",name:"path",placeholder:"Enter path"})}),s.jsx($l,{}),s.jsx("div",{children:s.jsx(ml,{isLoading:x.formState.isSubmitting,type:"submit",className:"h-11 w-full rounded-xl",children:"Submit"})})]})})})}function Jl(){var t,a;const[r]=_(),l=m(),i=r.get("module_name"),n=r.get("id"),[d,o]=e.useState(1),[c,u]=e.useState(10),[x,p]=e.useState(""),[h,g]=e.useState(!1),[f,b]=e.useState(!1),[v,j]=e.useState(void 0),y=()=>{b(!1),j(void 0),g(!0)},N=Gr({api:null==ur?void 0:ur.serviceList,key:"serviceMasterList",config:{moduleId:n},options:{enabled:!0}}),w=(null==(a=null==(t=null==N?void 0:N.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=e.service_name)?void 0:t.toLowerCase().includes(x.toLowerCase())}))||[],k=d*c,R=k-c,D=w.slice(R,k),O=[{key:"menu-list",label:"Menu List",icon:s.jsx(P,{className:"h-4 w-4"}),color:"bg-blue-600/10 hover:bg-blue-600/20 text-blue-600 border-blue-600/20"},{key:"service-list",label:"Service List",icon:s.jsx(T,{className:"h-4 w-4"}),color:"bg-emerald-600/10 hover:bg-emerald-600/20 text-emerald-600 border-emerald-600/20"},{key:"role-list",label:"Role List",icon:s.jsx(z,{className:"h-4 w-4"}),color:"bg-violet-600/10 hover:bg-violet-600/20 text-violet-600 border-violet-600/20"},{key:"workflow-list",label:"Workflow Role",icon:s.jsx(F,{className:"h-4 w-4"}),color:"bg-amber-600/10 hover:bg-amber-600/20 text-amber-600 border-amber-600/20"}];return s.jsxs("div",{className:"",children:[s.jsx("div",{className:"mb-6 flex flex-wrap gap-2",children:O.map(e=>{const t=location.pathname.includes(e.key);return s.jsxs(Wa,{variant:t?"default":"outline",size:"sm",onClick:()=>{l(`/project-config/dashboard/module-list/${e.key}?module_name=${i}&id=${n}`)},className:La("flex items-center gap-2 transition-all hover:scale-105",t?La("bg-primary text-primary-foreground shadow-md",e.color&&"bg-opacity-100"):La("bg-background hover:bg-muted",e.color)),children:[e.icon,s.jsx("span",{className:"hidden sm:inline",children:e.label})]},e.key)})}),s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(Yr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Wa,{variant:"ghost",size:"sm",onClick:()=>l(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:i}),s.jsxs("div",{className:"inline-block rounded-full bg-emerald-600/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-emerald-600",children:[w.length," Services"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search service name...",value:x,onChange:e=>{p(e.target.value),o(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20 md:w-64"})]}),s.jsxs(Wa,{type:"button",onClick:y,className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New Service"]})]})]})}),s.jsxs(el,{className:"p-0",children:[N.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(nl,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading services..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(tl,{children:[s.jsx(sl,{children:s.jsxs(rl,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(ll,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(ll,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Service Name"}),s.jsx(ll,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Service Path"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"})]})}),s.jsx(al,{children:s.jsx(I,{children:D.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:R+t+1})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-emerald-600/10 transition-colors group-hover/row:bg-emerald-600/20",children:s.jsx(T,{className:"h-5 w-5 text-emerald-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:e.service_name}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-emerald-600/10 transition-colors group-hover/row:bg-emerald-600/20",children:s.jsx(ha,{className:"h-5 w-5 text-emerald-600"})}),s.jsx("div",{children:s.jsx("p",{className:"font-bold leading-tight text-foreground",children:e.path})})]})}),s.jsx(il,{className:"py-4 text-center",children:s.jsxs("span",{className:La("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",e.is_suspended?"border-red-500/20 bg-red-500/10 text-red-500":"border-green-500/20 bg-green-500/10 text-green-500"),children:[e.is_suspended?s.jsx(U,{className:"h-3 w-3"}):s.jsx(B,{className:"h-3 w-3"}),e.is_suspended?"Suspended":"Active"]})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>{return t=e.id,b(!0),j(t),void g(!0);var t},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Wa,{variant:"ghost",size:"icon",className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})})]},e.id))})})]}),w.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(dl,{currentPage:d,totalItems:w.length,itemsPerPage:c,onPageChange:e=>{o(e)},onItemsPerPageChange:e=>{u(e),o(1)}})})]}),!N.isLoading&&0===w.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(T,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No services found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:"Start by adding services to this module to define its capabilities."}),s.jsxs(Wa,{className:"mt-6",variant:"outline",onClick:y,children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Service"]})]})]})]})}),s.jsx(Yl,{open:h,setOpen:g,title:f?"Edit Service":"Add New Service",edit:f,setEdit:b,id:v,serviceList:N,moduleId:n})]})}function Xl(){return s.jsx(Zr,{title:"Service List",subTitle:"Control all Service here",children:s.jsx(Jl,{})})}const ei=ja().shape({menuRoleName:ya().required("Role name is required")});function ti({open:t,setOpen:a,title:r,edit:l,setEdit:i,id:n,moduleId:d,refetch:o,editData:u}){const m=Qr({}),x=w({defaultValues:{menuRoleName:""},resolver:k(ei)}),{reset:p,handleSubmit:h,formState:{isSubmitting:g}}=x;e.useEffect(()=>{t&&p(l&&u?{menuRoleName:u.menu_role_name||""}:{menuRoleName:""})},[t,l,u,p]);return s.jsx(Vl,{open:t,setOpen:a,title:r||(l?"Edit Role":"Add Role"),setEdit:i,edit:l,children:s.jsx("div",{className:"p-1",children:s.jsx(ol,{methods:x,onSubmit:h(async e=>{var t,s,r;try{const u=l?null==ur?void 0:ur.editMenuList:null==ur?void 0:ur.addMenuList,x=l?{...e,id:n}:{...e,moduleId:Number(d)},p=await m.mutateAsync({api:u,data:x});(null==(t=null==p?void 0:p.data)?void 0:t.status)?(c.success((null==(s=null==p?void 0:p.data)?void 0:s.message)||`Role ${l?"updated":"added"} successfully`),a(!1),i&&i(!1),o&&o()):c.error((null==(r=null==p?void 0:p.data)?void 0:r.message)||"Something went wrong")}catch(u){c.error(xr(u))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsx("div",{className:"space-y-4",children:s.jsx(ul,{label:"Role Name",name:"menuRoleName",placeholder:"Enter role name"})}),s.jsx($l,{className:"opacity-50"}),s.jsx(ml,{isLoading:g,type:"submit",className:"h-12 w-full rounded-xl bg-[#7C3AED] text-sm font-bold text-white shadow-lg shadow-purple-500/20 transition-all hover:bg-[#6D28D9] active:scale-[0.98]",children:l?"Update Role":"Submit"})]})})})})}function si(){var a,r,l;const[i]=_(),n=m(),d=i.get("module_name"),o=i.get("id"),[u,x]=e.useState(1),[p,h]=e.useState(10),[g,f]=e.useState(""),[b,v]=e.useState(!1),[j,y]=e.useState(!1),[N,w]=e.useState(null),[k,R]=e.useState(null),[D,q]=e.useState({}),[W,$]=e.useState(!1),[V,H]=e.useState(null),Z=Gr({api:null==ur?void 0:ur.getMenuRoleList,key:"roleMasterList",options:{enabled:!0}}),G=Qr({}),Q=Qr({}),K=(null==(l=null==(r=null==(a=null==Z?void 0:Z.data)?void 0:a.data)?void 0:r.filter(e=>e.module_id==Number(o)))?void 0:l.filter(e=>{var t;return null==(t=e.menu_role_name)?void 0:t.toLowerCase().includes(g.toLowerCase())}))||[],Y=u*p,J=Y-p,X=K.slice(J,Y),ee=e=>void 0!==D[e.id]?D[e.id]:!0===e.is_suspended;t.useEffect(()=>{W&&(Q.isSuccess&&(c.success("Role status updated successfully"),Z.refetch(),H(null),$(!1),Q.reset()),Q.isError&&(c.error(xr(Q.error)),q(e=>{const t={...e};return V&&delete t[V.roleId],t}),H(null),$(!1),Q.reset()))},[Q.isSuccess,Q.isError,W,Z,V,Q]);const te=[{key:"menu-list",label:"Menu List",icon:s.jsx(P,{className:"h-4 w-4"}),color:"bg-blue-600/10 hover:bg-blue-600/20 text-blue-600 border-blue-600/20"},{key:"service-list",label:"Service List",icon:s.jsx(T,{className:"h-4 w-4"}),color:"bg-emerald-600/10 hover:bg-emerald-600/20 text-emerald-600 border-emerald-600/20"},{key:"role-list",label:"Role List",icon:s.jsx(z,{className:"h-4 w-4"}),color:"bg-violet-600/10 hover:bg-violet-600/20 text-violet-600 border-violet-600/20"},{key:"workflow-list",label:"Workflow Role",icon:s.jsx(F,{className:"h-4 w-4"}),color:"bg-amber-600/10 hover:bg-amber-600/20 text-amber-600 border-amber-600/20"}];return s.jsxs("div",{className:"",children:[s.jsx("div",{className:"mb-6 flex flex-wrap gap-2",children:te.map(e=>{const t=location.pathname.includes(e.key);return s.jsxs(Wa,{variant:t?"default":"outline",size:"sm",onClick:()=>{n(`/project-config/dashboard/module-list/${e.key}?module_name=${d}&id=${o}`)},className:La("flex items-center gap-2 transition-all hover:scale-105",t?La("bg-primary text-primary-foreground shadow-md",e.color&&"bg-opacity-100"):La("bg-background hover:bg-muted",e.color)),children:[e.icon,s.jsx("span",{className:"hidden sm:inline",children:e.label})]},e.key)})}),s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(Yr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Wa,{variant:"ghost",size:"sm",onClick:()=>n(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:d}),s.jsxs("div",{className:"inline-block rounded-full bg-violet-600/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-violet-600",children:[K.length," Roles"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search role name...",value:g,onChange:e=>{f(e.target.value),x(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20 md:w-64"})]}),s.jsxs(Wa,{type:"button",onClick:()=>{y(!1),v(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New Role"]})]})]})}),s.jsxs(el,{className:"p-0",children:[Z.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(nl,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading user roles..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(tl,{children:[s.jsx(sl,{children:s.jsxs(rl,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(ll,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(ll,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Role Name"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Is Suspended"})]})}),s.jsx(al,{children:s.jsx(I,{children:X.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:J+t+1})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-violet-600/10 transition-colors group-hover/row:bg-violet-600/20",children:s.jsx(z,{className:"h-5 w-5 text-violet-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:e.menu_role_name}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(il,{className:"py-4 text-center",children:s.jsxs("span",{className:La("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",e.is_suspended?"border-red-500/20 bg-red-500/10 text-red-500":"border-green-500/20 bg-green-500/10 text-green-500"),children:[e.is_suspended?s.jsx(U,{className:"h-3 w-3"}):s.jsx(B,{className:"h-3 w-3"}),e.is_suspended?"Suspended":"Active"]})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>{w(e.id),R(e),y(!0),v(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>{zr("Delete Role",`Are you sure you want to delete ${e.menu_role_name}?`,async()=>{var t,s,a;try{const r=await G.mutateAsync({api:ur.apiRoleMasterActiveDeactive,data:{role_id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Action performed successfully"),Z.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to perform action")}catch(r){c.error("An error occurred")}})},className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})}),s.jsxs(Wa,{onClick:()=>n(`/project-config/dashboard/module-list/role-list/manage-menu?module_id=${e.module_id}&role_id=${e.id}&module_name=${d}`,{state:{role_name:null==e?void 0:e.menu_role_name}}),className:"flex items-center gap-2",children:[s.jsx(O,{className:"h-4 w-4"}),"View"]})]})}),s.jsx(il,{className:"mt-6 flex items-center justify-center",children:s.jsx(wl,{checked:ee(e),onCheckedChange:()=>(e=>{const t=!ee(e);q(s=>({...s,[e.id]:t}));const s={roleId:Number(e.id),isSuspended:t?"inactive":"active"};$(!0),H(s),Q.mutate({api:null==ur?void 0:ur.apiRoleMasterActiveDeactive,data:s})})(e)})})]},e.id))})})]}),K.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(dl,{currentPage:u,totalItems:K.length,itemsPerPage:p,onPageChange:e=>{x(e)},onItemsPerPageChange:e=>{h(e),x(1)}})})]}),!Z.isLoading&&0===K.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(z,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No roles found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:"Configure roles for this module to manage user permissions."}),s.jsxs(Wa,{className:"mt-6",variant:"outline",children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Role"]})]})]})]}),s.jsx(ti,{open:b,setOpen:v,moduleId:o,edit:j,setEdit:y,id:N,editData:k,refetch:Z.refetch})]})]})}function ai(){return s.jsx(Zr,{title:"Role List",subTitle:"Control all Role here",children:s.jsx(si,{})})}function ri(){var t,a;const[r]=_(),l=m(),i=r.get("module_name"),n=r.get("id"),[d,o]=e.useState(1),[c,u]=e.useState(10),[x,p]=e.useState(""),h=Gr({api:null==ur?void 0:ur.getWorkFlowList,key:"workflowMasterList",options:{enabled:!0}}),g=(null==(a=null==(t=null==h?void 0:h.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=e.role_name)?void 0:t.toLowerCase().includes(x.toLowerCase())}))||[],f=d*c,b=f-c,v=g.slice(b,f),j=[{key:"menu-list",label:"Menu List",icon:s.jsx(P,{className:"h-4 w-4"}),color:"bg-blue-600/10 hover:bg-blue-600/20 text-blue-600 border-blue-600/20"},{key:"service-list",label:"Service List",icon:s.jsx(T,{className:"h-4 w-4"}),color:"bg-emerald-600/10 hover:bg-emerald-600/20 text-emerald-600 border-emerald-600/20"},{key:"role-list",label:"Role List",icon:s.jsx(z,{className:"h-4 w-4"}),color:"bg-violet-600/10 hover:bg-violet-600/20 text-violet-600 border-violet-600/20"},{key:"workflow-list",label:"Workflow Role",icon:s.jsx(F,{className:"h-4 w-4"}),color:"bg-amber-600/10 hover:bg-amber-600/20 text-amber-600 border-amber-600/20"}];return s.jsxs("div",{className:"",children:[s.jsx("div",{className:"mb-6 flex flex-wrap gap-2",children:j.map(e=>{const t=location.pathname.includes(e.key);return s.jsxs(Wa,{variant:t?"default":"outline",size:"sm",onClick:()=>{l(`/project-config/dashboard/module-list/${e.key}?module_name=${i}&id=${n}`)},className:La("flex items-center gap-2 transition-all hover:scale-105",t?La("bg-primary text-primary-foreground shadow-md",e.color&&"bg-opacity-100"):La("bg-background hover:bg-muted",e.color)),children:[e.icon,s.jsx("span",{className:"hidden sm:inline",children:e.label})]},e.key)})}),s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(Yr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Wa,{variant:"ghost",size:"sm",onClick:()=>l(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:i}),s.jsxs("div",{className:"inline-block rounded-full bg-amber-600/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-amber-600",children:[g.length," Workflows"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search role name...",value:x,onChange:e=>{p(e.target.value),o(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20 md:w-64"})]}),s.jsxs(Wa,{type:"button",className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New Workflow"]})]})]})}),s.jsxs(el,{className:"p-0",children:[h.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(nl,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading workflow configurations..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(tl,{children:[s.jsx(sl,{children:s.jsxs(rl,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(ll,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(ll,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Workflow Name"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"})]})}),s.jsx(al,{children:s.jsx(I,{children:v.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:b+t+1})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-amber-600/10 transition-colors group-hover/row:bg-amber-600/20",children:s.jsx(F,{className:"h-5 w-5 text-amber-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:e.role_name}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(il,{className:"py-4 text-center",children:s.jsxs("span",{className:La("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",e.is_suspended?"border-red-500/20 bg-red-500/10 text-red-500":"border-green-500/20 bg-green-500/10 text-green-500"),children:[e.is_suspended?s.jsx(U,{className:"h-3 w-3"}):s.jsx(B,{className:"h-3 w-3"}),e.is_suspended?"Suspended":"Active"]})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Wa,{variant:"ghost",size:"icon",className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Wa,{variant:"ghost",size:"icon",className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})})]},e.id))})})]}),g.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(dl,{currentPage:d,totalItems:g.length,itemsPerPage:c,onPageChange:e=>{o(e)},onItemsPerPageChange:e=>{u(e),o(1)}})})]}),!h.isLoading&&0===g.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(F,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No workflows found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:"Define and manage business logic workflows for this module."}),s.jsxs(Wa,{className:"mt-6",variant:"outline",children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Workflow"]})]})]})]})})]})}function li(){return s.jsx(Zr,{title:"Workflow List",subTitle:"Control all Workflow here",children:s.jsx(ri,{})})}function ii({open:t,setOpen:a,title:r,menuRoleId:l,moduleId:i,moduleName:n,refetch:d}){var o;const[u,m]=e.useState(""),x=Qr({}),p=Gr({api:null==ur?void 0:ur.getPermitedMenuList,key:`manage-permissions-${l}-${i}`,config:{menuRoleId:l,moduleId:i},options:{enabled:t&&!!l&&!!i}}),h=e.useMemo(()=>{var e,t;const s=(null==(t=null==(e=null==p?void 0:p.data)?void 0:e.data)?void 0:t[n])||[];return u?s.filter(e=>{var t,s;return(null==(t=e.menu_string)?void 0:t.toLowerCase().includes(u.toLowerCase()))||(null==(s=e.route)?void 0:s.toLowerCase().includes(u.toLowerCase()))}):s},[null==(o=null==p?void 0:p.data)?void 0:o.data,n,u]);return s.jsx(Vl,{open:t,setOpen:a,setEdit:()=>{},title:r||"Manage Menu Permissions",children:s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"relative mb-2 flex items-center",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search menus or routes...",value:u,onChange:e=>m(e.target.value),className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsx("div",{className:"custom-scrollbar max-h-[60vh] overflow-y-auto pr-2",children:p.isLoading?s.jsx("div",{className:"flex h-48 items-center justify-center",children:s.jsx(nl,{})}):0===h.length?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center text-muted-foreground",children:[s.jsx(P,{className:"mb-3 h-12 w-12 opacity-20"}),s.jsx("p",{children:"No menus found matching your search"})]}):s.jsx("div",{className:"space-y-3 pb-4",children:h.map((e,t)=>{var a,r;const i=!e.is_suspended;return s.jsxs(S.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.03*t},className:La("flex items-center justify-between rounded-2xl border p-4 transition-all duration-200",i?"border-green-500/20 bg-green-500/5 hover:bg-green-500/10":"border-border bg-muted/20 hover:bg-muted/30"),children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:La("flex h-10 w-10 items-center justify-center rounded-xl transition-colors",i?"bg-green-500/20 text-green-600":"bg-muted text-muted-foreground"),children:s.jsx(P,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold leading-tight text-foreground",children:e.menu_string}),s.jsx("p",{className:"mt-1 font-mono text-xs text-muted-foreground",children:e.route})]})]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsx(Pa,{size:"sm",variant:i?"destructive":"default",onClick:()=>(async(e,t)=>{var s,a,r;try{const i={isSuspended:t,menuId:e,menuRoleId:l},n=await x.mutateAsync({api:null==ur?void 0:ur.addRemoveMenuPermission,data:i});(null==(s=null==n?void 0:n.data)?void 0:s.status)?(c.success((null==(a=null==n?void 0:n.data)?void 0:a.message)||"Permission updated"),p.refetch(),d&&d()):c.error((null==(r=null==n?void 0:n.data)?void 0:r.message)||"Failed to update")}catch(i){c.error(xr(i))}})(e.id,!e.is_suspended),disabled:x.isPending,className:La("h-9 gap-2 rounded-xl px-4 shadow-sm transition-all active:scale-95",i?"border-none bg-red-500 text-white hover:bg-red-600":"border-none bg-primary text-white hover:bg-primary/90"),children:x.isPending&&(null==(r=null==(a=x.variables)?void 0:a.data)?void 0:r.menuId)===e.id?s.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white/30 border-t-white"}):i?s.jsxs(s.Fragment,{children:[s.jsx(q,{className:"h-3 w-3"}),"Remove"]}):s.jsxs(s.Fragment,{children:[s.jsx(L,{className:"h-3 w-3"}),"Add"]})})})]},e.id)})})})]})})}function ni(){var t,a,r;const l=Qr({}),i=m(),[d]=_(),o=d.get("role_id"),u=d.get("module_id"),x=d.get("module_name")||"Menu Roles",{role_name:p}=(null==(t=n())?void 0:t.state)||{},[h,g]=e.useState(""),[f,b]=e.useState("all"),[v,j]=e.useState(!1),y=e.useRef(null),N=Gr({api:null==ur?void 0:ur.getPermitedMenuList,key:`permittedMenuList-${o}-${u}`,options:{enabled:!!o&&!!u},config:{menuRoleId:Number(o),moduleId:Number(u)}}),w=Qr({});e.useEffect(()=>{const e=e=>{var t;!e.altKey||"s"!==e.key&&"S"!==e.key||(e.preventDefault(),e.stopPropagation(),null==(t=y.current)||t.focus())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]);const k=(null==(r=null==(a=null==N?void 0:N.data)?void 0:a.data)?void 0:r[x])||[],L=e=>Number(e.menu_role_id)===Number(o)&&!e.is_suspended,R=k.filter(e=>{var t;return null==(t=null==e?void 0:e.menu_string)?void 0:t.toLowerCase().includes(h.toLowerCase())}),D=R.filter(e=>{const t=L(e);return"active"===f?t:"inactive"!==f||!t}),E=R.filter(e=>L(e)).length,M=R.filter(e=>!L(e)).length;return s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(Yr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Wa,{variant:"ghost",size:"sm",onClick:()=>i(-1),className:"flex h-10 items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-blue-600/10 text-blue-600",children:s.jsx(P,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:x}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Role:"," ",s.jsx("span",{className:"font-semibold text-blue-600",children:p})]}),s.jsxs("div",{className:"inline-block rounded-full bg-blue-600/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-blue-600",children:[k.length," Menus Found"]})]})]})]}),s.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[s.jsxs("div",{className:"flex items-center gap-2 rounded-xl border bg-muted/30 p-1",children:[s.jsxs(Wa,{variant:"ghost",size:"sm",onClick:()=>b("all"),className:La("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","all"===f?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[s.jsx(W,{className:"h-3 w-3"}),"All (",R.length,")"]}),s.jsxs(Wa,{variant:"ghost",size:"sm",onClick:()=>b("active"),className:La("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","active"===f?"bg-green-600 text-white shadow-sm hover:bg-green-600":"text-muted-foreground hover:text-foreground"),children:[s.jsx(B,{className:"h-3 w-3"}),"Active (",E,")"]}),s.jsxs(Wa,{variant:"ghost",size:"sm",onClick:()=>b("inactive"),className:La("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","inactive"===f?"bg-muted text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[s.jsx(U,{className:"h-3 w-3"}),"Inactive (",M,")"]})]}),s.jsxs("div",{className:"relative flex items-center",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{ref:y,type:"text",placeholder:"Search menu...",value:h,onChange:e=>g(e.target.value),className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-20 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20 sm:w-64"}),s.jsx("div",{className:"absolute right-2.5 hidden items-center gap-1 sm:flex",children:s.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[s.jsx("span",{className:"text-xs",children:"Alt"}),"S"]})})]})]})]})}),s.jsx(el,{className:"p-6",children:N.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(nl,{}),s.jsx("p",{className:"mt-4 text-xs font-medium text-muted-foreground",children:"Loading menus..."})]})}):s.jsx(s.Fragment,{children:0===D.length?s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(P,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No menus found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:h||"all"!==f?"Try adjusting your filters or search criteria":"No menus available for this role yet."})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:s.jsx(I,{mode:"popLayout",children:D.map((e,t)=>{const a=L(e);return s.jsx(S.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2,delay:.02*t},children:s.jsx(Yr,{className:La("group overflow-hidden rounded-xl border transition-all hover:shadow-md",a?"border-green-500/20 bg-green-500/5":"border-border bg-card hover:border-primary/30"),children:s.jsx(el,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("div",{className:La("flex h-10 w-10 items-center justify-center rounded-lg transition-all",a?"bg-green-500/20 text-green-600":"bg-muted text-muted-foreground group-hover:bg-primary/10 group-hover:text-primary"),children:a?s.jsx(B,{className:"h-5 w-5"}):s.jsx(U,{className:"h-5 w-5"})}),s.jsx(wl,{checked:a,onCheckedChange:()=>(async e=>{var t,s,a;const r=L(e),i=e.id,n=o;try{const e={isSuspended:r,menuId:i,menuRoleId:n},d=await l.mutateAsync({api:null==ur?void 0:ur.addRemoveMenuPermission,data:e});(null==(t=null==d?void 0:d.data)?void 0:t.status)?(c.success((null==(s=null==d?void 0:d.data)?void 0:s.message)||"Role status updated successfully"),N.refetch()):c.error((null==(a=null==d?void 0:d.data)?void 0:a.message)||"Failed to update status")}catch(d){c.error(xr(d))}})(e),disabled:w.isPending,className:"data-[state=checked]:bg-green-600"})]}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h4",{className:"line-clamp-1 text-sm font-bold text-foreground",children:e.menu_string}),s.jsx("p",{className:"truncate font-mono text-[10px] text-muted-foreground",title:e.route,children:e.route??"--"})]}),s.jsx("p",{className:La("mt-1 text-[10px] font-bold uppercase tracking-wider",a?"text-green-600":Number(e.menu_role_id)===Number(o)?"text-red-500":"text-muted-foreground"),children:a?"Active":Number(e.menu_role_id)===Number(o)?"Suspended":"Inactive"})]})})})},e.id)})})}),s.jsxs("div",{className:"mt-6 flex flex-col gap-2 rounded-xl border bg-muted/20 px-4 py-3 sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("span",{className:"text-xs font-bold uppercase tracking-widest text-muted-foreground",children:["Showing: ",D.length," of"," ",R.length," Menus"]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500"}),s.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Active: ",E]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-muted-foreground"}),s.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Inactive: ",M]})]})]})]})]})})})]})}),s.jsx(ii,{open:v,setOpen:j,menuRoleId:o,moduleId:u,moduleName:x,title:`Manage Menus for ${p}`,refetch:N.refetch})]})}function di(){return s.jsx(Zr,{title:"Menu Role List",subTitle:"Control all Menu Role here",children:s.jsx(ni,{})})}const oi=({ulbName:e,ulb_logo:t,progress:a,onBack:r})=>{const l=m();return s.jsxs("div",{className:"relative overflow-hidden bg-slate-900 px-8 py-10 shadow-2xl dark:bg-black rounded-2xl",children:[s.jsx("div",{className:"absolute right-0 top-0 -mr-32 -mt-32 h-64 w-64 rounded-full bg-primary/5 blur-3xl"}),s.jsx("div",{className:"absolute bottom-0 left-0 -mb-32 -ml-32 h-64 w-64 rounded-full bg-primary/5 blur-3xl"}),s.jsx("div",{className:"relative z-10 mx-auto max-w-7xl rounded-2xl",children:s.jsxs("div",{className:"mb-8 flex flex-col justify-between gap-8 md:flex-row md:items-end",children:[s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"flex-1",children:[s.jsxs("div",{className:"mb-4 flex items-center gap-4",children:[t?s.jsx("div",{className:"h-16 w-16 overflow-hidden rounded-2xl bg-white p-2 shadow-2xl ring-4 ring-white/10",children:s.jsx("img",{src:t,alt:e,className:"h-full w-full object-contain"})}):s.jsx("div",{className:"rounded-2xl bg-primary/10 p-3 text-primary ring-1 ring-primary/20",children:s.jsx($,{className:"animate-spin-slow",size:24})}),s.jsx("h1",{className:"text-2xl font-black tracking-tight text-white md:text-3xl",children:e})]}),s.jsxs("div",{className:"mt-8 max-w-md",children:[s.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[s.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500",children:"Synchronization Status"}),s.jsxs("span",{className:"text-[10px] font-black text-white/90",children:[a,"% Optimal"]})]}),s.jsx("div",{className:"h-2 w-full overflow-hidden rounded-full bg-slate-800 p-[1px]",children:s.jsx(S.div,{initial:{width:0},animate:{width:`${a}%`},transition:{duration:1,ease:"easeOut"},className:"h-full rounded-full bg-primary shadow-[0_0_10px_rgba(59,130,246,0.5)]"})})]})]}),s.jsx(S.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"flex gap-3",children:s.jsxs(Wa,{variant:"outline",onClick:()=>l(-1),className:"border-slate-700 bg-slate-800/50 text-slate-300 backdrop-blur-sm hover:bg-slate-700 hover:text-white",children:[s.jsx(A,{className:"mr-2"}),r?"Switch ULB":"Back"]})})]})})]})},ci=({data:e})=>{const{basic_information:t,global_master:a}=e,r=[{label:"Municipal Code",value:t.code,icon:V},{label:"Regional Association",value:t.association_with||"N/A",icon:H},{label:"Ward Count",value:a.ward_count.toLocaleString(),icon:Z},{label:"Operational Status",value:t.active_status?"active":"inactive",icon:G,isStatus:!0}];return s.jsx("div",{className:"grid grid-cols-1 gap-4 px-8 md:grid-cols-2 lg:grid-cols-4",children:r.map((e,t)=>s.jsx(S.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.1*t+.3},children:s.jsx(Yr,{className:"group overflow-hidden border-none bg-white shadow-xl transition-all duration-300 hover:shadow-2xl dark:bg-slate-900",children:s.jsx(el,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"rounded-xl bg-slate-100 p-3 text-slate-500 transition-all duration-300 group-hover:bg-primary/10 group-hover:text-primary dark:bg-slate-800 dark:text-slate-400",children:s.jsx(e.icon,{size:20})}),s.jsxs("div",{className:"min-h-12 max-h-12",children:[s.jsx("p",{className:"mb-1 text-[10px] font-black uppercase tracking-widest text-slate-400 dark:text-slate-500",children:e.label}),e.isStatus?s.jsxs("div",{className:La("inline-flex items-center gap-1.5 rounded-full px-2.5 py-0.5 text-[10px] font-bold uppercase tracking-wider","active"===e.value?"border border-emerald-500/20 bg-emerald-500/10 text-emerald-600":"border border-red-500/20 bg-red-500/10 text-red-500"),children:[s.jsx("div",{className:La("h-1.5 w-1.5 animate-pulse rounded-full","active"===e.value?"bg-emerald-500":"bg-red-500")}),e.value]}):s.jsx("p",{className:"text-sm font-black tracking-tight text-slate-800 dark:text-slate-200",children:e.value})]})]})})})},e.label))})},ui=({data:t})=>{const[a,r]=e.useState(!0),l=[{label:"Official Name",value:t.ulb_name,icon:Q,fullWidth:!0},{label:"Registry ID",value:t.id,icon:K},{label:"Code",value:t.code,icon:K},{label:"Type",value:t.ulb_type,icon:Y},{label:"Regional Category",value:t.category||"N/A",icon:J},{label:"Primary Address",value:t.address,icon:J,fullWidth:!0},{label:"Hindi Title",value:t.hindi_name||"N/A",icon:E,fullWidth:!0},{label:"Incorporation",value:t.incorporation_date?new Date(t.incorporation_date).toLocaleDateString():"N/A",icon:X},{label:"Toll Free Support",value:t.toll_free_no||"N/A",icon:ee},{label:"Corporate Email",value:t.email||"N/A",icon:te},{label:"Administrative Web",value:t.current_website||"N/A",icon:se,fullWidth:!0},{label:"Parent Gateway",value:t.parent_website||"N/A",icon:R,fullWidth:!0}];return s.jsxs(Yr,{className:"mx-8 overflow-hidden border-none bg-white shadow-xl transition-all duration-500 dark:bg-slate-900",children:[s.jsxs(Jr,{className:"flex cursor-pointer flex-row items-center justify-between border-b border-slate-100 bg-slate-50/50 p-6 transition-colors hover:bg-slate-100 dark:border-slate-800 dark:bg-slate-800/30 dark:hover:bg-slate-800/50",onClick:()=>r(!a),children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"rounded-xl bg-primary/10 p-3 text-primary ring-1 ring-primary/20",children:s.jsx(Q,{})}),s.jsxs("div",{children:[s.jsx(Xr,{className:"text-xl font-black tracking-tight text-slate-800 dark:text-slate-200",children:"Basic Configuration"}),s.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Core identification and contact matrix"})]})]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsx("div",{className:"text-slate-400",children:a?s.jsx(ae,{}):s.jsx(re,{})})})]}),s.jsx(I,{children:a&&s.jsx(S.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},children:s.jsx(el,{className:"p-8",children:s.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:l.map((e,t)=>s.jsxs("div",{className:La("group flex gap-4 rounded-2xl border border-slate-100 bg-slate-50 p-4 transition-all duration-300 hover:border-primary/20 hover:bg-white hover:shadow-lg dark:border-slate-800 dark:bg-slate-800/20 dark:hover:bg-slate-800",e.fullWidth&&"md:col-span-2"),children:[s.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-xl bg-white text-slate-400 shadow-sm transition-all group-hover:scale-110 group-hover:text-primary dark:bg-slate-700",children:s.jsx(e.icon,{size:16})}),s.jsxs("div",{children:[s.jsx("p",{className:"mb-1 text-[10px] font-black uppercase tracking-widest text-slate-400 dark:text-slate-500",children:e.label}),s.jsx("p",{className:"text-sm font-bold leading-tight text-slate-800 dark:text-slate-200",children:e.value||"N/A"})]})]},`${e.label}-${t}`))})})})})]})},mi=fs,xi=e.forwardRef(({className:e,...t},a)=>s.jsx(ps,{ref:a,className:La("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));xi.displayName=ps.displayName;const pi=e.forwardRef(({className:e,...t},a)=>s.jsx(hs,{ref:a,className:La("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));pi.displayName=hs.displayName;const hi=e.forwardRef(({className:e,...t},a)=>s.jsx(gs,{ref:a,className:La("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));hi.displayName=gs.displayName;const gi=ja().shape({id:wa().nullable(),wardNumber:ya().required("Ward Number is required").matches(/^\d+$/,"Must be a number")}),fi=({open:t,onOpenChange:a,ulbId:r})=>{const[l,i]=e.useState(null),{data:n,refetch:d,isLoading:o}=Gr({api:or.api_getUlbWardList,key:`wardList-${r}`,config:{ulbId:r},options:{enabled:t&&!!r}}),u=Qr({}),m=Qr({}),x=Qr({}),{register:p,handleSubmit:h,reset:g,setValue:f,formState:{errors:b,isSubmitting:v}}=w({resolver:k(gi),defaultValues:{id:null,wardNumber:""}}),j=(null==n?void 0:n.data)||[];return s.jsx(Ur,{open:t,onOpenChange:a,children:s.jsxs(qr,{className:"max-w-3xl overflow-hidden border-none bg-white p-0 shadow-2xl dark:bg-slate-900",children:[s.jsx(Wr,{className:"bg-slate-50 px-6 py-4 dark:bg-slate-800/50",children:s.jsxs(Vr,{className:"flex items-center gap-3 text-xl font-black tracking-tight text-slate-800 dark:text-slate-100",children:[s.jsx("div",{className:"rounded-xl bg-primary/10 p-2 text-primary",children:s.jsx(Z,{})}),"Ward Management Matrix"]})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("form",{onSubmit:h(async e=>{var t,s;try{const a=!!e.id,l=a?or.api_updateUlbWard:or.api_createUlbWard,n=a?{id:e.id,wardNumber:e.wardNumber,ulbId:r}:{ulbId:r,wardNumber:e.wardNumber},o=await(a?m:u).mutateAsync({api:l,data:n});(null==(t=null==o?void 0:o.data)?void 0:t.status)?(c.success(o.data.message||`Ward ${a?"updated":"created"} successfully`),g({id:null,wardNumber:""}),i(null),d()):c.error((null==(s=null==o?void 0:o.data)?void 0:s.message)||"Operation failed")}catch(a){c.error(xr(a))}}),className:"mb-8 flex items-end gap-4 rounded-2xl border border-slate-100 bg-slate-50/50 p-4 dark:border-slate-800 dark:bg-slate-800/20",children:[s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500",children:l?"Update Ward Identifier":"New Ward Identifier"}),s.jsx(cl,{...p("wardNumber"),placeholder:"Enter Ward Number (e.g. 101)",className:"h-11 border-slate-200 bg-white font-bold text-slate-800 transition-all focus:ring-primary/20 dark:border-slate-700 dark:bg-slate-800 dark:text-slate-200"}),b.wardNumber&&s.jsx("p",{className:"text-xs font-bold text-red-500",children:b.wardNumber.message})]}),s.jsxs("div",{className:"flex gap-2",children:[l&&s.jsx(Wa,{type:"button",variant:"outline",onClick:()=>{i(null),g({id:null,wardNumber:""})},className:"h-11 px-6",children:"Cancel"}),s.jsx(Wa,{type:"submit",disabled:v,className:"h-11 min-w-[120px] bg-primary font-bold shadow-lg shadow-primary/20 hover:bg-primary/90",children:v?s.jsx(nl,{className:"h-4 w-4 text-white"}):l?"Update":"Create"})]})]}),s.jsx("div",{className:"max-h-[400px] overflow-y-auto rounded-xl border border-slate-100 bg-white dark:border-slate-800 dark:bg-slate-900",children:s.jsxs(tl,{children:[s.jsx(sl,{className:"bg-slate-50 dark:bg-slate-800/50",children:s.jsxs(rl,{children:[s.jsx(ll,{className:"font-bold text-slate-500",children:"ID"}),s.jsx(ll,{className:"font-bold text-slate-500",children:"Ward Number"}),s.jsx(ll,{className:"font-bold text-slate-500",children:"Status"}),s.jsx(ll,{className:"text-right font-bold text-slate-500",children:"Actions"})]})}),s.jsx(al,{children:o?s.jsx(rl,{children:s.jsx(il,{colSpan:4,className:"h-32 text-center",children:s.jsx(nl,{className:"mx-auto text-primary"})})}):0===j.length?s.jsx(rl,{children:s.jsx(il,{colSpan:4,className:"h-32 text-center text-slate-400",children:"No wards found. Create one above."})}):j.map(e=>s.jsxs(rl,{className:"group transition-colors hover:bg-slate-50 dark:hover:bg-slate-800/30",children:[s.jsxs(il,{className:"font-mono text-xs font-bold text-slate-400",children:["#",e.id]}),s.jsx(il,{className:"font-bold text-slate-700 dark:text-slate-300",children:e.ward_name||e.ward_number||`Ward ${e.id}`}),s.jsx(il,{children:s.jsx(wl,{checked:1===e.status||!0===e.status,onCheckedChange:()=>(async(e,t)=>{var s,a;try{const r=t?0:1,l=await x.mutateAsync({api:or.api_deleteUlbWard,data:{id:e,status:r}});(null==(s=null==l?void 0:l.data)?void 0:s.status)?(c.success(`Ward ${r?"activated":"deactivated"} successfully`),d()):c.error((null==(a=null==l?void 0:l.data)?void 0:a.message)||"Status update failed")}catch(r){c.error(xr(r))}})(e.id,1===e.status||!0===e.status),className:"data-[state=checked]:bg-emerald-500"})}),s.jsx(il,{className:"text-right",children:s.jsx("div",{className:"flex justify-end gap-2 opacity-0 transition-opacity group-hover:opacity-100",children:s.jsx(Wa,{size:"icon",variant:"ghost",onClick:()=>(e=>{i(e.id),f("id",e.id),f("wardNumber",e.ward_name||e.ward_number)})(e),className:"h-8 w-8 text-slate-400 hover:bg-primary/10 hover:text-primary",children:s.jsx(E,{size:14})})})})]},e.id))})]})})]})]})})},bi=ja().shape({id:wa().nullable(),zone:ya().required("Zone Name is required").min(2,"Zone Name must be at least 2 characters")}),vi=({open:t,onOpenChange:a,ulbId:r})=>{const[l,i]=e.useState(null),{data:n,refetch:d,isLoading:o}=Gr({api:or.zone_list_Api,key:`zoneList-${r}`,config:{ulbId:r},options:{enabled:t&&!!r}}),u=Qr({}),m=Qr({}),x=Qr({}),{register:p,handleSubmit:h,reset:g,setValue:f,formState:{errors:b,isSubmitting:v}}=w({resolver:k(bi),defaultValues:{id:null,zone:""}}),j=(null==n?void 0:n.data)||[];return s.jsx(Ur,{open:t,onOpenChange:a,children:s.jsxs(qr,{className:"max-w-3xl overflow-hidden border-none bg-white p-0 shadow-2xl dark:bg-slate-900",children:[s.jsx(Wr,{className:"bg-slate-50 px-6 py-4 dark:bg-slate-800/50",children:s.jsxs(Vr,{className:"flex items-center gap-3 text-xl font-black tracking-tight text-slate-800 dark:text-slate-100",children:[s.jsx("div",{className:"rounded-xl bg-primary/10 p-2 text-primary",children:s.jsx(H,{})}),"Zone Distribution Matrix"]})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("form",{onSubmit:h(async e=>{var t,s;try{const a=!!e.id,l=a?or.api_updateZoneApi:or.api_PostZoneApi,n=a?{id:e.id,zone:e.zone,ulbId:r}:{ulbId:r,zone:e.zone},o=await(a?m:u).mutateAsync({api:l,data:n});(null==(t=null==o?void 0:o.data)?void 0:t.status)?(c.success(o.data.message||`Zone ${a?"updated":"created"} successfully`),g({id:null,zone:""}),i(null),d()):c.error((null==(s=null==o?void 0:o.data)?void 0:s.message)||"Operation failed")}catch(a){c.error(xr(a))}}),className:"mb-8 flex items-end gap-4 rounded-2xl border border-slate-100 bg-slate-50/50 p-4 dark:border-slate-800 dark:bg-slate-800/20",children:[s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500",children:l?"Update Zone Identifier":"New Zone Identifier"}),s.jsx(cl,{...p("zone"),placeholder:"Enter Zone Name (e.g. North Zone)",className:"h-11 border-slate-200 bg-white font-bold text-slate-800 transition-all focus:ring-primary/20 dark:border-slate-700 dark:bg-slate-800 dark:text-slate-200"}),b.zone&&s.jsx("p",{className:"text-xs font-bold text-red-500",children:b.zone.message})]}),s.jsxs("div",{className:"flex gap-2",children:[l&&s.jsx(Wa,{type:"button",variant:"outline",onClick:()=>{i(null),g({id:null,zone:""})},className:"h-11 px-6",children:"Cancel"}),s.jsx(Wa,{type:"submit",disabled:v,className:"h-11 min-w-[120px] bg-primary font-bold shadow-lg shadow-primary/20 hover:bg-primary/90",children:v?s.jsx(nl,{className:"h-4 w-4 text-white"}):l?"Update":"Create"})]})]}),s.jsx("div",{className:"max-h-[400px] overflow-y-auto rounded-xl border border-slate-100 bg-white dark:border-slate-800 dark:bg-slate-900",children:s.jsxs(tl,{children:[s.jsx(sl,{className:"bg-slate-50 dark:bg-slate-800/50",children:s.jsxs(rl,{children:[s.jsx(ll,{className:"font-bold text-slate-500",children:"ID"}),s.jsx(ll,{className:"font-bold text-slate-500",children:"Zone Name"}),s.jsx(ll,{className:"font-bold text-slate-500",children:"ULB Name"}),s.jsx(ll,{className:"font-bold text-slate-500",children:"Status"}),s.jsx(ll,{className:"text-right font-bold text-slate-500",children:"Actions"})]})}),s.jsx(al,{children:o?s.jsx(rl,{children:s.jsx(il,{colSpan:5,className:"h-32 text-center",children:s.jsx(nl,{className:"mx-auto text-primary"})})}):0===j.length?s.jsx(rl,{children:s.jsx(il,{colSpan:5,className:"h-32 text-center text-slate-400",children:"No zones found. Create one above."})}):j.map(e=>s.jsxs(rl,{className:"group transition-colors hover:bg-slate-50 dark:hover:bg-slate-800/30",children:[s.jsxs(il,{className:"font-mono text-xs font-bold text-slate-400",children:["#",e.id]}),s.jsx(il,{className:"font-bold text-slate-700 dark:text-slate-300",children:e.zone}),s.jsx(il,{className:"text-xs font-medium text-slate-500",children:e.ulb_name}),s.jsx(il,{children:s.jsx(wl,{checked:e.status,onCheckedChange:()=>(async(e,t)=>{var s,a;try{const r=t?0:1,l=await x.mutateAsync({api:or.api_deleteZoneApi,data:{id:e,status:r}});(null==(s=null==l?void 0:l.data)?void 0:s.status)?(c.success(`Zone ${r?"activated":"deactivated"} successfully`),d()):c.error((null==(a=null==l?void 0:l.data)?void 0:a.message)||"Status update failed")}catch(r){c.error(xr(r))}})(e.id,e.status),className:"data-[state=checked]:bg-emerald-500"})}),s.jsx(il,{className:"text-right",children:s.jsx("div",{className:"flex justify-end gap-2 opacity-0 transition-opacity group-hover:opacity-100",children:s.jsx(Wa,{size:"icon",variant:"ghost",type:"button",onClick:()=>(e=>{i(e.id),f("id",e.id),f("zone",e.zone_name||e.zone)})(e),className:"h-8 w-8 text-slate-400 hover:bg-primary/10 hover:text-primary",children:s.jsx(E,{size:14})})})})]},e.id))})]})})]})]})})},ji=e.forwardRef(({className:e,children:t,...a},r)=>s.jsxs(bs,{ref:r,className:La("relative overflow-hidden",e),...a,children:[s.jsx(vs,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(yi,{}),s.jsx(js,{})]}));ji.displayName=bs.displayName;const yi=e.forwardRef(({className:e,orientation:t="vertical",...a},r)=>s.jsx(ys,{ref:r,orientation:t,className:La("flex touch-none select-none transition-colors","vertical"===t&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===t&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...a,children:s.jsx(Ns,{className:"relative flex-1 rounded-full bg-border"})}));yi.displayName=ys.displayName;const Ni=l("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{success:"border-transparent bg-green-400 text-primary-foreground shadow hover:bg-green-400/80",default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function wi({className:e,variant:t,...a}){return s.jsx("div",{className:La(Ni({variant:t}),e),...a})}function ki({className:e,...t}){return s.jsx("div",{className:La("animate-pulse rounded-md bg-muted",e),...t})}function _i({tableName:t,headers:a,onSuccess:r,onCancel:l,editData:i}){const[n,d]=e.useState(i||{}),[o,u]=e.useState(!1),m=!!i,x=e.useMemo(()=>a.filter(e=>!["id","created_at","updated_at","deleted_at","property_type_code","user_id"].includes(e.toLowerCase())),[a]),p=(e,t)=>{d(s=>({...s,[e]:t}))},h=Qr({}),g=Qr({});return s.jsxs(rl,{className:"border-b-2 border-blue-500 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20",children:[s.jsx(il,{className:"border-r bg-blue-100/50 text-center font-mono text-xs font-bold text-blue-600 dark:border-white/5 dark:bg-blue-900/30",children:m?"EDIT":"NEW"}),a.map(e=>{const t=x.includes(e),a=(e=>{const t=e.toLowerCase();return t.includes("status")||t.includes("active")?"boolean":t.includes("date")||t.includes("time")||t.includes("created")||t.includes("updated")?"date":t.includes("amount")||t.includes("price")||t.includes("count")||t.includes("number")?"number":"text"})(e);return t?s.jsx(il,{className:"border-r px-2 py-2 dark:border-white/5",children:"boolean"===a?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(wl,{checked:n[e]||!1,onCheckedChange:t=>p(e,t),className:"data-[state=checked]:bg-green-500"}),s.jsx("span",{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:n[e]?"Active":"Inactive"})]}):s.jsx(cl,{type:a,value:n[e]||"",onChange:t=>p(e,t.target.value),required:!0,placeholder:`Enter ${e.replace(/_/g," ")}`,className:"h-8 min-w-[150px] rounded border-slate-300 bg-white text-xs shadow-sm focus:border-blue-500 focus:ring-1 focus:ring-blue-500 dark:border-slate-600 dark:bg-slate-800"})},e):s.jsx(il,{className:"border-r px-2 py-2 dark:border-white/5",children:s.jsx("span",{className:"text-xs italic text-slate-400",children:"Auto"})},e)}),s.jsx(il,{className:"sticky right-0 bg-blue-50/90 px-2 py-2 dark:bg-blue-900/30",children:s.jsxs("div",{className:"flex justify-end gap-1",children:[s.jsx(Wa,{type:"button",variant:"ghost",size:"icon",onClick:l,disabled:o,className:"h-7 w-7 text-red-500 hover:bg-red-500/10",children:s.jsx(le,{size:12})}),s.jsx(Wa,{type:"button",onClick:async e=>{var s,a;e.preventDefault(),u(!0);try{const e={};x.forEach(t=>{void 0!==n[t]&&""!==n[t]&&(e[t]=n[t])});const l={tableName:t,data:e,id:null==i?void 0:i.id},o=m?g:h,u=m?ur.updateDynamicTable:ur.createDynamicTable,p=await o.mutateAsync({api:u,data:l});(null==(s=null==p?void 0:p.data)?void 0:s.status)?(c.success(p.data.message||`Record ${m?"updated":"created"} successfully!`),d({}),r()):c.error((null==(a=null==p?void 0:p.data)?void 0:a.message)||`Failed to ${m?"update":"create"} record`)}catch(l){c.error((null==l?void 0:l.message)||`An error occurred while ${m?"updating":"creating"} record`)}finally{u(!1)}},disabled:o,size:"icon",className:"h-7 w-7 bg-green-600 text-white hover:bg-green-700",children:o?s.jsx(ie,{className:"animate-spin",size:12}):s.jsx(ne,{size:12})})]})})]})}function Si({open:t,onOpenChange:a,moduleName:r,masterName:l,originalName:i}){var n,d,o;const[u,m]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(null),f=Qr({}),b=Gr({api:ur.getDynamicTableStructure,key:`dynamic_table_${i}`,config:{tableName:i},options:{enabled:!!i&&t}}),v=(null==(n=null==b?void 0:b.data)?void 0:n.data)||[],j=null==b?void 0:b.isLoading,y=e.useMemo(()=>0===v.length?[]:Object.keys(v[0]),[v]),N=e.useMemo(()=>u?v.filter(e=>y.some(t=>String(e[t]).toLowerCase().includes(u.toLowerCase()))):v,[v,u,y]);return s.jsx(s.Fragment,{children:s.jsx(Ur,{open:t,onOpenChange:a,children:s.jsxs(qr,{className:"flex h-[90vh] w-full max-w-[90vw] flex-col overflow-hidden border-none bg-[#f8f9fc] p-0 shadow-2xl dark:bg-secondary",children:[s.jsx(Wr,{className:"shrink-0 border-b border-white/10 bg-[#2c3e50] px-8 py-4 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg border border-blue-500/30 bg-blue-500/20 text-blue-400 backdrop-blur-md",children:s.jsx(de,{size:18})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vr,{className:"text-xl font-bold tracking-tight",children:l}),s.jsx(wi,{variant:"outline",className:"border-blue-500/30 bg-blue-500/10 text-[10px] font-black uppercase tracking-widest text-blue-400",children:i})]}),s.jsxs("p",{className:"text-[10px] font-bold uppercase tracking-[0.2em] text-white/50",children:["Registry Control  ",r]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>{b.refetch()},className:"h-9 w-9 text-white/70 hover:bg-white/10 hover:text-white",children:s.jsx(oe,{className:j?"animate-spin":""})}),s.jsxs(Wa,{className:"mr-6 h-9 gap-2 rounded-lg bg-blue-600 px-4 text-sm font-bold shadow-lg shadow-blue-600/20 hover:bg-blue-700",onClick:()=>{p(!0)},children:[s.jsx(L,{size:12})," Add Row"]})]})]})}),s.jsxs("div",{className:"flex shrink-0 items-center justify-between gap-4 border-b bg-white px-8 py-3 dark:border-white/5 dark:bg-[#1a1d24]",children:[s.jsxs("div",{className:"relative w-full max-w-md",children:[s.jsx(C,{className:"absolute left-3.5 top-1/2 size-3 -translate-y-1/2 text-slate-400"}),s.jsx(cl,{placeholder:"Filter results...",value:u,onChange:e=>m(e.target.value),className:"h-9 rounded-lg border-slate-200 bg-slate-50 pl-10 text-xs font-medium shadow-sm ring-offset-background focus-visible:ring-1 focus-visible:ring-blue-500 dark:border-white/10 dark:bg-black/20"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"mx-2 h-6 w-[1px] bg-slate-200 dark:bg-white/10"}),s.jsxs("span",{className:"text-[11px] font-bold uppercase tracking-wider text-slate-500",children:[N.length," Rows found"]})]})]}),s.jsx("div",{className:"relative flex-1 overflow-hidden",children:s.jsxs(ji,{className:"h-full w-full",children:[s.jsx("div",{className:"min-w-fit",children:s.jsxs(tl,{className:"border-separate border-spacing-0",children:[s.jsx(sl,{className:"sticky top-0 z-10 bg-slate-100/80 backdrop-blur-md dark:bg-white/5",children:s.jsxs(rl,{className:"border-none hover:bg-transparent",children:[s.jsx(ll,{className:"w-12 border-r text-center text-[10px] font-bold uppercase tracking-tighter text-slate-500 dark:border-white/5",children:"#"}),y.map(e=>{return s.jsx(ll,{className:"border-r px-6 text-[10px] font-black uppercase tracking-widest text-slate-600 dark:border-white/5 dark:text-slate-400",children:(t=e,t.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "))},e);var t}),s.jsx(ll,{className:"sticky right-0 bg-slate-100/90 px-4 text-right text-[10px] font-black uppercase tracking-widest text-slate-600 dark:bg-black/80 dark:text-slate-400",children:"Actions"})]})}),s.jsxs(al,{children:[x&&s.jsx(_i,{tableName:i,headers:y,onSuccess:()=>{p(!1),b.refetch()},onCancel:()=>p(!1)}),j?Array.from({length:15}).map((e,t)=>s.jsxs(rl,{children:[s.jsx(il,{children:s.jsx(ki,{className:"h-4 w-4"})}),y.map(e=>s.jsx(il,{children:s.jsx(ki,{className:"h-4 w-32"})},e)),s.jsx(il,{children:s.jsx(ki,{className:"h-4 w-12"})})]},t)):N.length>0?N.map((e,t)=>h&&h.id===e.id?s.jsx(_i,{tableName:i,headers:y,editData:e,onSuccess:()=>{g(null),b.refetch()},onCancel:()=>g(null)},`edit-${e.id}`):s.jsxs(rl,{className:"group border-b transition-colors hover:bg-blue-500/5 dark:border-white/5",children:[s.jsx(il,{className:"border-r bg-slate-50/50 text-center font-mono text-[10px] text-slate-400 dark:border-white/5 dark:bg-white/5",children:t+1}),y.map(t=>s.jsx(il,{className:"whitespace-nowrap border-r px-6 font-medium dark:border-white/5",children:"status"===t?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"size-1.5 rounded-full "+(e[t]?"animate-pulse bg-emerald-500":"bg-red-500")}),s.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest "+(e[t]?"text-emerald-500":"text-red-500"),children:e[t]?"Active":"Inactive"})]}):s.jsx("span",{className:"text-xs "+("number"==typeof e[t]?"font-mono text-blue-500":"text-slate-700 dark:text-slate-300"),children:""===e[t]?s.jsx("span",{className:"italic text-slate-400",children:"null"}):String(e[t])})},t)),s.jsx(il,{className:"sticky right-0 px-4 text-right",children:s.jsxs("div",{className:"flex justify-end gap-1 opacity-0 transition-opacity group-hover:opacity-100",children:[s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>{g(e),p(!1)},className:"h-7 w-7 text-blue-500 hover:bg-blue-500/10",children:s.jsx(E,{size:12})}),s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>(async e=>{var t,s,a;try{const r=await f.mutateAsync({api:ur.deleteDynamicTable,data:{tableName:i,id:e}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),b.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(xr(r))}})(e.id),className:"h-7 w-7 text-red-500 hover:bg-red-500/10",children:s.jsx(M,{size:12})})]})})]},e.id||t)):s.jsx(rl,{children:s.jsx(il,{colSpan:y.length+2,className:"h-[400px] bg-white text-center dark:bg-transparent",children:s.jsxs("div",{className:"flex flex-col items-center justify-center opacity-40",children:[s.jsx(de,{size:48,className:"mb-4 text-slate-300"}),s.jsx("p",{className:"text-sm font-bold uppercase tracking-widest",children:"No data records found"}),s.jsxs("p",{className:"text-xs",children:["The table ",i," is currently empty."]})]})})})]})]})}),s.jsx(yi,{orientation:"horizontal"})]})}),s.jsxs("div",{className:"flex shrink-0 items-center justify-between border-t bg-slate-50 px-8 py-2 text-[10px] font-bold uppercase tracking-widest text-slate-400 dark:border-white/5 dark:bg-black/40",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("span",{children:["Connected to: ",l," Registry"]}),s.jsx("span",{className:"text-slate-300",children:"|"}),s.jsxs("span",{children:["Buffer Size: ",N.length]})]}),s.jsxs("div",{children:["Server Response:"," ",(null==(o=null==(d=null==b?void 0:b.data)?void 0:d["meta-data"])?void 0:o.responsetime)||"0","ms"]})]})]})})})}function Ai(){return s.jsxs("div",{className:"w-full h-svh flex justify-center items-center",children:[s.jsx(ga,{className:"animate-spin",size:32}),s.jsx("span",{className:"sr-only",children:"loading"})]})}const Ci=({module:e,index:t,onOpenMaster:a})=>{var r;const l=e.id||e.module_id,i=Gr({api:null==ur?void 0:ur.moduleRegistryList,key:`moduleMasterList_${l}`,config:{moduleId:l},options:{enabled:!!l}}),n=(null==(r=null==i?void 0:i.data)?void 0:r.data)||[],d=n.length>0;return s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.06*t},children:s.jsxs(Yr,{className:"group overflow-hidden border border-slate-200/80 bg-white shadow-sm transition-all duration-300 hover:-translate-y-0.5 hover:shadow-lg dark:border-slate-800 dark:bg-slate-950 "+(d?"ring-1 ring-emerald-500/20":"ring-1 ring-amber-500/20"),children:[s.jsx("div",{className:"border-b border-slate-200/70 bg-slate-50/90 px-5 py-4 dark:border-slate-800 dark:bg-slate-900/80",children:s.jsxs("div",{className:"mb-3 flex items-center justify-between gap-2",children:[s.jsxs("h3",{className:"flex items-center gap-2 text-sm font-extrabold uppercase tracking-wider text-slate-800 dark:text-slate-100",children:[s.jsx("span",{className:"flex h-8 w-8 items-center justify-center rounded-lg "+(d?"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400":"bg-amber-500/10 text-amber-600 dark:text-amber-400"),children:s.jsx(ue,{})}),e.module_name]}),s.jsxs("span",{className:"rounded-full px-2.5  text-[10px] font-bold uppercase tracking-wider "+(d?"bg-emerald-500/10 text-emerald-700 dark:text-emerald-400":"bg-amber-500/10 text-amber-700 dark:text-amber-400"),children:[n.length," Masters"]})]})}),s.jsx(el,{className:"space-y-2.5 p-5",children:n.length>0?n.map((t,r)=>s.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-slate-200/70 bg-white p-3.5 transition-all duration-200 hover:border-primary/30 hover:bg-primary/[0.03] dark:border-slate-800 dark:bg-slate-900/50",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-primary/50"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200",children:t.table_name||t.name}),s.jsxs("span",{className:"text-[10px] font-medium text-slate-500 dark:text-slate-400",children:["DB: ",t.database_name||"N/A"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"rounded-full px-2.5 py-1 text-[10px] font-bold uppercase tracking-wider "+(t.status?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300"),children:t.status?"Active":"Inactive"}),s.jsx(Wa,{variant:"ghost",size:"sm",onClick:()=>a(null==e?void 0:e.module_name,(null==t?void 0:t.table_name)||(null==t?void 0:t.name),null==t?void 0:t.original_name),className:"h-8 rounded-lg border border-transparent px-3 text-[10px] font-bold uppercase tracking-wider text-primary transition-all hover:border-primary/20 hover:bg-primary/5",children:"View"})]})]},r)):s.jsxs("div",{className:"rounded-xl border border-dashed border-amber-300 bg-amber-50/70 py-3 text-center dark:border-amber-800/50 dark:bg-amber-900/10",children:[s.jsx(me,{className:"mx-auto mb-2 text-base text-amber-500/80"}),s.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest text-amber-700/90 dark:text-amber-300/90",children:"No Masters Configured"})]})})]})})};function Li({ulbId:t}){var a;const[r,l]=e.useState(!1),[i,n]=e.useState(""),[d,o]=e.useState(""),[c,u]=e.useState(""),x=m(),[p]=_(),h=p.get("ulb_id"),g=p.get("ulb_name"),f=(e,t,s)=>{n(e),o(t),u(s),l(!0)},b=Gr({api:null==ur?void 0:ur.getModuleByUlbId,key:"permittedModuleListByUlb",config:{ulbId:t},options:{enabled:!!t}}),v=(null==(a=null==b?void 0:b.data)?void 0:a.data)||[],j=null==b?void 0:b.isLoading;return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mb-5 rounded-2xl border border-slate-200/70 bg-white px-5 py-4 shadow-sm dark:border-slate-800 dark:bg-slate-950",children:s.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-primary/10 text-primary",children:s.jsx(H,{className:"text-sm"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-sm font-extrabold uppercase tracking-wider text-slate-800 dark:text-slate-100",children:"Module Registry Masters"}),s.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Configure and review master tables for each permitted module"})]})]}),s.jsxs("div",{className:"inline-flex w-fit items-center gap-2 rounded-full border border-slate-200 bg-slate-50 px-3 py-1.5 text-[11px] font-semibold text-slate-600 dark:border-slate-800 dark:bg-slate-900 dark:text-slate-300",children:[s.jsx(B,{className:"text-emerald-500"}),v.length," Modules"]})]})}),s.jsx("div",{className:"grid grid-cols-1 gap-5 md:grid-cols-2",children:j?s.jsx("div",{className:"col-span-1 rounded-xl border border-dashed border-primary/30 bg-primary/[0.03] py-12 text-center text-xl md:col-span-2",children:s.jsx(Ai,{})}):v.length>0?v.map((e,t)=>s.jsx(Ci,{module:e,index:t,onOpenMaster:f},e.id||e.module_id)):s.jsxs("div",{className:"col-span-1 rounded-2xl border border-dashed border-amber-300 bg-amber-50/60 px-6 py-10 text-center md:col-span-2 dark:border-amber-800/50 dark:bg-amber-900/10",children:[s.jsx("p",{className:"text-sm font-bold uppercase tracking-widest text-amber-700 dark:text-amber-300",children:"No Modules Configured"}),s.jsx("p",{className:"mt-2 text-xs text-amber-700/80 dark:text-amber-300/80",children:"Add permitted modules to start managing module-level masters."}),s.jsxs(Wa,{type:"button",variant:"outline",onClick:()=>{x(`/project-config/dashboard/ulb-list/permitted-module?ulb_name=${g}&ulb_id=${h}`)},className:"mx-auto mt-4 flex items-center gap-2 border-amber-400/70 bg-white/80 text-xs font-bold uppercase tracking-wider text-amber-800 hover:bg-amber-100 dark:bg-amber-950/30 dark:text-amber-200 dark:hover:bg-amber-900/40",children:["Configure Modules",s.jsx(ce,{})]})]})}),s.jsx(Si,{open:r,onOpenChange:l,moduleName:i,masterName:d,originalName:c})]})}const Ii=({globalMaster:t,ulbId:a})=>{const[r,l]=e.useState(!1),[i,n]=e.useState(!1),d=[{id:1,name:"Ward Management",count:t.ward_count,icon:Z,description:"Geographic boundaries and civic wards",color:t.ward_count>0?"green":"red",action:()=>l(!0)},{id:2,name:"Zone Distribution",count:t.zone_count,icon:xe,description:"Macro administrative divisions",color:t.zone_count>0?"green":"red",action:()=>n(!0)}];return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mx-8 space-y-6",children:s.jsxs(mi,{defaultValue:"basic",className:"w-full",children:[s.jsx("div",{className:"mb-6 flex items-center justify-between",children:s.jsxs(xi,{className:"h-12 gap-4 rounded-2xl bg-slate-300/50 px-4 dark:bg-slate-700/50",children:[s.jsxs(pi,{value:"basic",className:"\r\n                relative flex items-center gap-2\r\n                rounded-2xl px-6 py-2\r\n                text-xs font-extrabold uppercase tracking-widest\r\n                text-slate-600 transition-all\r\n\r\n                duration-300 ease-out hover:scale-[1.05]\r\n                hover:text-primary data-[state=active]:scale-[1.08]\r\n\r\n                data-[state=active]:bg-white\r\n                data-[state=active]:text-primary\r\n                data-[state=active]:shadow-lg\r\n                data-[state=active]:shadow-primary/30\r\n                dark:text-slate-300\r\n\r\n                dark:data-[state=active]:bg-slate-900\r\n              ",children:[s.jsx(pe,{className:"text-sm"}),"Global Masters"]}),s.jsxs(pi,{value:"module",className:"\r\n                  relative flex items-center gap-2\r\n                  rounded-2xl px-6 py-2\r\n                  text-xs font-extrabold uppercase tracking-widest\r\n                  text-slate-600 transition-all\r\n\r\n                  duration-300 ease-out hover:scale-[1.05]\r\n                  hover:text-primary data-[state=active]:scale-[1.08]\r\n\r\n                  data-[state=active]:bg-white\r\n                  data-[state=active]:text-primary\r\n                  data-[state=active]:shadow-lg\r\n                  data-[state=active]:shadow-primary/30\r\n                  dark:text-slate-300\r\n\r\n                  dark:data-[state=active]:bg-slate-900\r\n                ",children:[s.jsx(H,{className:"text-sm"}),"Module Specific"]})]})}),s.jsx(hi,{value:"basic",className:"mt-0",children:s.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:d.map((e,t)=>s.jsx(S.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.05*t},children:s.jsx(Yr,{className:`group overflow-hidden border-none bg-white shadow-lg ring-1 ring-slate-200/50 transition-all duration-500 hover:shadow-2xl bg-${e.color}-500/20 ring-${e.color}-500/20`,children:s.jsxs(el,{className:"p-0",children:[s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"mb-6 flex items-start justify-between",children:s.jsx("div",{className:La("rounded-2xl p-4 shadow-inner transition-all duration-500 group-hover:text-white","green"===e.color?"bg-green-500/10 text-green-500 group-hover:bg-green-500":"bg-red-500/10 text-red-500 group-hover:bg-red-500"),children:s.jsx(e.icon,{size:24})})}),s.jsx("h3",{className:"mb-1 text-xl font-black tracking-tight text-slate-800 dark:text-slate-200",children:e.name}),s.jsx("p",{className:"mb-3 text-[11px] font-medium text-slate-500",children:e.description}),s.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-black uppercase tracking-widest text-slate-400",children:[s.jsx(he,{className:"text-[8px]"}),"Real-time synchronization"]})]}),s.jsxs("div",{className:"flex items-center justify-between border-t border-slate-100 bg-slate-50 px-6 py-4 dark:border-slate-800 dark:bg-slate-800/50",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-3xl font-black leading-none tracking-tighter text-slate-800 dark:text-slate-200",children:e.count}),s.jsx("span",{className:"mt-1 text-[9px] font-black uppercase tracking-widest text-slate-400 dark:text-slate-500",children:"Active Records"})]}),s.jsxs(Wa,{variant:"link",onClick:e.action,className:La("h-auto p-0 text-[10px] font-black uppercase tracking-widest transition-transform group-hover:translate-x-1","green"===e.color?"text-green-500 hover:text-green-600":"text-red-500 hover:text-red-600"),children:["Manage ","->"]})]})]})})},e.id))})}),s.jsx(hi,{value:"module",className:"mt-0",children:s.jsx(Li,{ulbId:a})})]})}),s.jsx(fi,{open:r,onOpenChange:l,ulbId:a}),s.jsx(vi,{open:i,onOpenChange:n,ulbId:a})]})},Pi=({actions:e})=>s.jsxs(Yr,{className:"mx-8 overflow-hidden border-none bg-white shadow-xl transition-all duration-500 dark:bg-slate-900",children:[s.jsx(Jr,{className:"border-b border-slate-100 bg-red-50/20 p-6 dark:border-slate-800 dark:bg-red-950/20",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"rounded-xl bg-red-100 p-3 text-red-600 ring-1 ring-red-200 dark:bg-red-900/40 dark:text-red-400 dark:ring-red-800",children:s.jsx(G,{})}),s.jsxs("div",{children:[s.jsx(Xr,{className:"text-xl font-black tracking-tight text-slate-800 dark:text-slate-200",children:"Administrative Controls"}),s.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Critical system overrides and security protocols"})]})]})}),s.jsx(el,{className:"p-8",children:s.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:e.map((e,t)=>s.jsx(S.div,{initial:{opacity:0,x:t%2==0?-20:20},animate:{opacity:1,x:0},transition:{delay:.5+.1*t},children:s.jsxs(Wa,{variant:"outline",className:La("group flex h-auto w-full flex-row items-start gap-5 rounded-2xl border-2 p-6 shadow-sm transition-all duration-300","warning"===e.color?"border-slate-100 bg-slate-50 hover:border-primary hover:bg-primary hover:text-white dark:border-slate-800 dark:bg-slate-800/50":"border-red-50 bg-red-50/30 hover:border-red-500 hover:bg-red-500 hover:text-white dark:border-red-950/20 dark:bg-red-950/10"),onClick:e.action,children:[s.jsx("div",{className:La("rounded-xl p-4 shadow-sm transition-all duration-300 group-hover:scale-110 group-hover:bg-white/20","warning"===e.color?"bg-white text-slate-400 dark:bg-slate-700 dark:text-slate-300":"bg-white text-red-600 dark:bg-slate-700 dark:text-red-400"),children:s.jsx(e.icon,{size:24})}),s.jsxs("div",{className:"flex-1 text-left",children:[s.jsx("h4",{className:"mb-1 text-lg font-black tracking-tight",children:e.title}),s.jsx("p",{className:La("text-xs font-medium leading-relaxed","text-slate-500 group-hover:text-white/80 dark:text-slate-400"),children:e.description})]}),s.jsx("div",{className:"opacity-0 transition-opacity group-hover:opacity-100",children:s.jsx(ge,{className:"animate-pulse text-white"})})]})},e.id))})})]}),Ri=Is,Di=ks,Ei=e.forwardRef(({className:e,...t},a)=>s.jsx(ws,{className:La("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:a}));Ei.displayName=ws.displayName;const Mi=e.forwardRef(({className:e,...t},a)=>s.jsxs(Di,{children:[s.jsx(Ei,{}),s.jsx(_s,{ref:a,className:La("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Mi.displayName=_s.displayName;const Ti=({className:e,...t})=>s.jsx("div",{className:La("flex flex-col space-y-2 text-center sm:text-left",e),...t});Ti.displayName="AlertDialogHeader";const zi=({className:e,...t})=>s.jsx("div",{className:La("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});zi.displayName="AlertDialogFooter";const Fi=e.forwardRef(({className:e,...t},a)=>s.jsx(Ss,{ref:a,className:La("text-lg font-semibold",e),...t}));Fi.displayName=Ss.displayName;const Ui=e.forwardRef(({className:e,...t},a)=>s.jsx(As,{ref:a,className:La("text-sm text-muted-foreground",e),...t}));Ui.displayName=As.displayName;const Bi=e.forwardRef(({className:e,...t},a)=>s.jsx(Cs,{ref:a,className:La(Ia(),e),...t}));Bi.displayName=Cs.displayName;const Oi=e.forwardRef(({className:e,...t},a)=>s.jsx(Ls,{ref:a,className:La(Ia({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Oi.displayName=Ls.displayName;const qi=({open:e,onOpenChange:t,onConfirm:a,title:r,description:l,isSaving:i})=>s.jsx(Ri,{open:e,onOpenChange:t,children:s.jsxs(Mi,{className:"overflow-hidden rounded-3xl border-none bg-white p-8 shadow-2xl dark:bg-slate-900",children:[s.jsx("div",{className:"absolute -left-24 -top-24 h-48 w-48 rounded-full bg-red-500/10 blur-3xl dark:bg-red-500/5"}),s.jsxs(Ti,{className:"relative z-10",children:[s.jsx("div",{className:"mx-auto mb-6 flex h-20 w-20 items-center justify-center rounded-2xl bg-red-50 text-red-600 shadow-inner ring-1 ring-red-100 dark:bg-red-950/30 dark:text-red-400 dark:ring-red-900/50",children:s.jsx(ge,{size:32})}),s.jsx(Fi,{className:"text-center text-3xl font-black tracking-tight text-slate-800 dark:text-slate-100",children:r}),s.jsx(Ui,{className:"text-center text-base font-medium leading-relaxed text-slate-500 dark:text-slate-400 md:px-6",children:l})]}),s.jsxs(zi,{className:"relative z-10 mt-8 flex-col-reverse gap-3 sm:flex-row",children:[s.jsx(Oi,{disabled:i,className:"h-12 flex-1 rounded-xl border-none bg-slate-100 text-[10px] font-black uppercase tracking-widest text-slate-500 transition-all hover:bg-slate-200 dark:bg-slate-800 dark:text-slate-400 dark:hover:bg-slate-700",children:"Abort"}),s.jsx(Bi,{onClick:e=>{e.preventDefault(),a()},disabled:i,className:"h-12 flex-1 rounded-xl bg-red-600 text-[10px] font-black uppercase tracking-widest text-white shadow-lg shadow-red-600/20 transition-all hover:bg-red-700 active:scale-95 dark:bg-red-600 dark:hover:bg-red-700",children:i?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(fe,{className:"animate-spin text-[10px]"}),"Processing"]}):"Confirm"})]})]})}),Wi=()=>{var t,a;const[r,l]=e.useState(null),[i,n]=e.useState(!1),[d]=_(),o=d.get("ulb_id");d.get("ulb_name");const u=Gr({api:or.api_getUlbList,key:"api_getUlbList",options:{}}),m=Gr({api:ur.ulbConfigurationList,key:`ulbConfig-${o}`,config:{ulbId:o},options:{enabled:!!o}});null==(t=null==u?void 0:u.data)||t.data;const x=(null==(a=null==m?void 0:m.data)?void 0:a.data)||null,p=e=>{l(e)},h=[{id:"hide-citizen",title:"Hide from Citizen Portal",description:"ULB will not be visible to citizens",icon:be,color:"warning",action:()=>p({id:"hide-citizen",title:"Hide from Citizen Portal",description:"ULB will not be visible to citizens",icon:be,color:"warning"})},{id:"hide-admin",title:"Hide from Admin Panel",description:"ULB will not appear in admin listings",icon:O,color:"warning",action:()=>p({id:"hide-admin",title:"Hide from Admin Panel",description:"ULB will not appear in admin listings",icon:O,color:"warning"})},{id:"disable-login",title:"Disable Login Access",description:"Prevent all users from signing into this ULB",icon:ve,color:"danger",action:()=>p({id:"disable-login",title:"Disable Login Access",description:"Prevent all users from signing into this ULB",icon:ve,color:"danger"})},{id:"deactivate",title:"Emergency Deactivation",description:"Immediately suspend all ULB services and access",icon:ge,color:"danger",action:()=>p({id:"deactivate",title:"Emergency Deactivation",description:"Immediately suspend all ULB services and access",icon:ge,color:"danger"})}];return m.isLoading||!x?s.jsxs("div",{className:"flex h-screen w-full flex-col items-center justify-center gap-6 bg-slate-50 dark:bg-[#0a0a0a]",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"h-24 w-24 animate-spin rounded-full border-4 border-slate-200 border-t-primary"}),s.jsx(Q,{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 text-primary",size:24})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl font-black tracking-tight text-slate-800 dark:text-white",children:"Configuring Municipal Data"}),s.jsx("p",{className:"text-xs font-bold uppercase tracking-[0.3em] text-slate-400",children:"Matrix Initializing..."})]})]}):s.jsxs(S.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-screen overflow-x-hidden rounded-2xl bg-slate-50 pb-20 transition-colors duration-500 dark:bg-[#0a0a0a]",children:[s.jsx(oi,{ulbName:x.basic_information.ulb_name,ulb_logo:x.basic_information.ulb_logo,progress:90}),s.jsxs("main",{className:"relative z-20 -mt-10 space-y-8",children:[s.jsx(ci,{data:x}),s.jsxs("div",{className:"mx-auto flex max-w-7xl flex-col gap-10",children:[s.jsx(ui,{data:x.basic_information}),s.jsx(Ii,{globalMaster:x.global_master,ulbId:x.basic_information.id}),s.jsx(Pi,{actions:h})]})]}),s.jsx(qi,{open:!!r,onOpenChange:e=>!e&&l(null),onConfirm:()=>{r&&(n(!0),setTimeout(()=>{n(!1),l(null),c.success(`${r.title} executed successfully!`,{icon:"",style:{borderRadius:"15px",background:"#1e293b",color:"#fff",fontWeight:"bold",fontSize:"12px"}})},2e3))},title:(null==r?void 0:r.title)||"Confirm Action",description:`Are you absolutely sure you want to perform "${null==r?void 0:r.title}"? This is an administrative operation that may affect production data and user access.`,isSaving:i})]})};function $i(){return s.jsx(Zr,{title:"ULB Master Data",subTitle:"Control all ULB Master Data here",children:s.jsx(Wi,{})})}const Vi=ja().shape({id:ya().nullable(),ulbName:ya().required("Ulb Name is required"),ulbType:ya().required("Ulb Type is required"),remarks:ya().nullable(),cityId:wa().typeError("City Id must be a number").required("City Id is required"),incorporationDate:ya().required("Incorporation Date is required"),departmentId:wa().typeError("Department Id must be a number").required("Department Id is required"),districtCode:ya().required("District Code is required"),category:ya().required("Category is required"),code:ya().required("Code is required"),shortName:ya().required("Short Name is required"),tollFreeNo:ya().required("Toll Free No is required"),currentWebsite:ya().url("Enter a valid URL").required("Current Website is required"),parentWebsite:ya().url("Enter a valid URL").required("Parent Website is required"),email:ya().email("Enter a valid email").required("Email is required"),mobileNo:ya().matches(/^\d{10}$/,"Mobile number must be 10 digits").required("Mobile No is required"),stateId:wa().typeError("State ID must be a number").required("State ID is required"),districtId:wa().typeError("District ID must be a number").required("District ID is required"),associationWith:ya().required("Association With is required"),latitude:ya().required("Latitude is required"),longitude:ya().required("Longitude is required")});function Hi({open:t,setOpen:a,title:r,edit:l,setEdit:i,editData:n,refetch:d}){const o=Qr({}),u=w({defaultValues:{id:"",ulbName:"",ulbType:"",remarks:"",cityId:void 0,incorporationDate:"",departmentId:void 0,districtCode:"",category:"",code:"",shortName:"",tollFreeNo:"",currentWebsite:"",parentWebsite:"",email:"",mobileNo:"",stateId:void 0,districtId:void 0,associationWith:"",latitude:"",longitude:""},resolver:k(Vi)}),{reset:m}=u;e.useEffect(()=>{t&&m(l&&n?{id:(null==n?void 0:n.id)||"",ulbName:(null==n?void 0:n.ulb_name)||"",ulbType:(null==n?void 0:n.ulb_type)||"",remarks:(null==n?void 0:n.remarks)||"",cityId:Number(null==n?void 0:n.city_id)||0,incorporationDate:(null==n?void 0:n.incorporation_date)||"",departmentId:Number(null==n?void 0:n.department_id)||0,districtCode:(null==n?void 0:n.district_code)||"",category:(null==n?void 0:n.category)||"",code:(null==n?void 0:n.code)||"",shortName:(null==n?void 0:n.short_name)||"",tollFreeNo:(null==n?void 0:n.toll_free_no)||"",currentWebsite:(null==n?void 0:n.current_website)||"",parentWebsite:(null==n?void 0:n.parent_website)||"",email:(null==n?void 0:n.email)||"",mobileNo:(null==n?void 0:n.mobile_no)||"",stateId:Number(null==n?void 0:n.state_id)||0,districtId:Number(null==n?void 0:n.district_id)||0,associationWith:(null==n?void 0:n.association_with)||"",latitude:(null==n?void 0:n.latitude)||"",longitude:(null==n?void 0:n.longitude)||""}:{id:"",ulbName:"",ulbType:"",remarks:"",cityId:void 0,incorporationDate:"",departmentId:void 0,districtCode:"",category:"",code:"",shortName:"",tollFreeNo:"",currentWebsite:"",parentWebsite:"",email:"",mobileNo:"",stateId:void 0,districtId:void 0,associationWith:"",latitude:"",longitude:""})},[t,l,n,m]);return s.jsx(Vl,{open:t,setOpen:a,title:r,setEdit:i,edit:l,children:s.jsx("div",{className:"p-1",children:s.jsx(ol,{methods:u,onSubmit:u.handleSubmit(async e=>{var t,s,r;try{const u=l?null==or?void 0:or.api_updateUlb:null==or?void 0:or.api_PostUlb,m={...e,isSuspended:!1,id:(null==n?void 0:n.id)||""},x=await o.mutateAsync({api:u,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||(l?"ULB Account updated successfully":"ULB Account created successfully")),a(!1),i&&i(!1),d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(u){c.error(xr(u))}}),children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsx("div",{className:"max-h-[60vh] overflow-y-auto px-1",children:s.jsxs("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"flex items-center gap-2 border-b pb-2 text-sm font-bold uppercase tracking-wider text-muted-foreground",children:[s.jsx(Q,{className:"text-primary"})," Basic Information"]}),s.jsx(ul,{label:"Ulb Name",name:"ulbName",placeholder:"e.g. Deoghar Municipal Corporation"}),s.jsx(ul,{label:"Ulb Type",name:"ulbType",placeholder:"e.g. Municipal Corporation"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(ul,{label:"Short Name",name:"shortName",placeholder:"DMC"}),s.jsx(ul,{label:"Code",name:"code",placeholder:"e.g. DMC001"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(ul,{label:"Category",name:"category",placeholder:"e.g. Urban"}),s.jsx(ul,{label:"City Id",name:"cityId",type:"number",placeholder:"12"})]}),s.jsx(ul,{label:"Incorporation Date",name:"incorporationDate",type:"date"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"flex items-center gap-2 border-b pb-2 text-sm font-bold uppercase tracking-wider text-muted-foreground",children:[s.jsx(je,{className:"text-primary"})," Remarks & Info"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(ul,{label:"Remarks",name:"remarks",placeholder:"Special notes..."}),s.jsx(ul,{label:"Association With",name:"associationWith",placeholder:"State Government"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"flex items-center gap-2 border-b pb-2 text-sm font-bold uppercase tracking-wider text-muted-foreground",children:[s.jsx(se,{className:"text-primary"})," Contact & Web"]}),s.jsx(ul,{label:"Email Address",name:"email",placeholder:"contact@deoghar.gov.in"}),s.jsx(ul,{label:"Mobile No",name:"mobileNo",placeholder:"9876543210"}),s.jsx(ul,{label:"Toll Free No",name:"tollFreeNo",placeholder:"1800123456"}),s.jsx(ul,{label:"Current Website",name:"currentWebsite",placeholder:"https://deoghar.gov.in"}),s.jsx(ul,{label:"Parent Website",name:"parentWebsite",placeholder:"https://jharkhand.gov.in"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"flex items-center gap-2 border-b pb-2 text-sm font-bold uppercase tracking-wider text-muted-foreground",children:[s.jsx(J,{className:"text-primary"})," Regional Information"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(ul,{label:"State ID",name:"stateId",type:"number",placeholder:"20"}),s.jsx(ul,{label:"District ID",name:"districtId",type:"number",placeholder:"5"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(ul,{label:"District Code",name:"districtCode",placeholder:"e.g. DGHR"}),s.jsx(ul,{label:"Dept Id",name:"departmentId",type:"number",placeholder:"3"})]})]}),s.jsxs("div",{className:"space-y-4 md:col-span-2",children:[s.jsxs("h4",{className:"flex items-center gap-2 border-b pb-2 text-sm font-bold uppercase tracking-wider text-muted-foreground",children:[s.jsx(ye,{className:"text-primary"})," Location Coordinates"]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[s.jsx(ul,{label:"Latitude",name:"latitude",placeholder:"24.4850"}),s.jsx(ul,{label:"Longitude",name:"longitude",placeholder:"86.6950"})]})]})]})}),s.jsx("div",{className:"flex items-center justify-end gap-3 border-t pt-4",children:s.jsx(ml,{isLoading:u.formState.isSubmitting,type:"submit",className:"h-12 rounded-xl bg-primary px-10 text-sm font-bold text-primary-foreground shadow-lg shadow-primary/25 transition-all hover:bg-primary/95 hover:shadow-xl active:scale-[0.98]",children:l?"Update ULB Account":"Create ULB Account"})})]})})})})}function Zi(){var t,a;const r=m(),[l,i]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),x=e.useRef(null),[p,h]=e.useState(!1),[g,f]=e.useState(!1),[b,v]=e.useState(null);e.useEffect(()=>{const e=e=>{var t;!e.altKey||"s"!==e.key&&"S"!==e.key||(e.preventDefault(),e.stopPropagation(),null==(t=x.current)||t.focus())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]);const j=Gr({api:null==ur?void 0:ur.getAllJuidcoUlbList,key:"ulbLists",options:{enabled:!0}}),y=[{key:"permitted-module",label:"Permitted Module",icon:s.jsx(fa,{className:"h-4 w-4"}),color:"bg-blue-600/10 hover:bg-blue-600/20 text-blue-600 border-blue-600/20"},{key:"user-list",label:"User List",icon:s.jsx(z,{className:"h-4 w-4"}),color:"bg-cyan-600/10 hover:bg-cyan-600/20 text-cyan-600 border-cyan-600/20"},{key:"admin-list",label:"Admin List",icon:s.jsx(G,{className:"h-4 w-4"}),color:"bg-violet-600/10 hover:bg-violet-600/20 text-violet-600 border-violet-600/20"}],N=Qr({}),w=(null==(a=null==(t=null==j?void 0:j.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=null==e?void 0:e.ulb_name)?void 0:t.toLowerCase().includes(o.toLowerCase())}))||[],k=l*n,_=k-n,A=null==w?void 0:w.slice(_,k);return s.jsxs("div",{className:"",children:[s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(Yr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"ULB Management"}),s.jsxs("div",{className:"inline-block rounded-full bg-blue-600/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-blue-600",children:[w.length," ULBs Found"]})]})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{ref:x,type:"text",placeholder:"Search ULB name...",value:o,onChange:e=>{u(e.target.value),i(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-20 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"}),s.jsx("div",{className:"absolute right-2.5 hidden items-center gap-1 sm:flex",children:s.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[s.jsx("span",{className:"text-xs",children:"Alt"}),"S"]})})]}),s.jsxs(Wa,{type:"button",onClick:()=>{v(null),f(!1),h(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New ULB"]})]})]})}),s.jsxs(el,{className:"p-0",children:[j.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(nl,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading ULBs..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(tl,{children:[s.jsx(sl,{children:s.jsxs(rl,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(ll,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(ll,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"ULB Name"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Enable/Disable"})]})}),s.jsx(al,{children:s.jsx(I,{children:A.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:_+t+1})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-blue-600/10 transition-colors group-hover/row:bg-blue-600/20",children:s.jsx(Q,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.ulb_name}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(il,{className:"py-4 text-center",children:s.jsxs("span",{className:La("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",e.active_status?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[e.active_status?s.jsx(B,{className:"h-3 w-3"}):s.jsx(U,{className:"h-3 w-3"}),e.active_status?"Active":"Disabled"]})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsxs(Wa,{variant:"outline",size:"sm",onClick:()=>{r(`/project-config/dashboard/ulb-list/ulb-configuration?ulb_name=${null==e?void 0:e.ulb_name}&ulb_id=${null==e?void 0:e.id}`)},className:La("flex items-center gap-2 border-0 border-orange-500 text-orange-500 bg-orange-500/10 transition-all hover:scale-105"),children:[s.jsx(Q,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"ULB Configuration"})]},"ulb-configuration"),s.jsx("div",{className:"mx-2 h-6 w-[1px] bg-border border-gray-400"}),y.map(t=>s.jsxs(Wa,{variant:"outline",size:"sm",onClick:()=>{r(`/project-config/dashboard/ulb-list/${t.key}?ulb_name=${null==e?void 0:e.ulb_name}&ulb_id=${null==e?void 0:e.id}`)},className:La("flex items-center gap-2 border-0 border-gray-500 transition-all hover:scale-105",t.color),children:[t.icon,s.jsx("span",{className:"hidden sm:inline",children:t.label})]},t.key)),s.jsx("div",{className:"mx-2 h-6 w-[1px] bg-border"}),s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>(e=>{v(e),f(!0),h(!0)})(e),className:"h-8 w-8 text-blue-600 hover:bg-blue-600/10 hover:text-blue-700",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>(async e=>{zr("Are you sure?","Do you want to delete this ULB?",async()=>{var t,s,a;try{const r=await N.mutateAsync({api:or.api_deleteUlb,data:{id:e}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"ULB deleted successfully"),j.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete ULB")}catch(r){c.error(xr(r))}})})(e.id),className:"h-8 w-8 text-red-600 hover:bg-red-600/10 hover:text-red-700",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(wl,{checked:e.active_status,onCheckedChange:()=>(async(e,t)=>{var s,a,r;try{const l={id:e,status:t?1:0},i=await N.mutateAsync({api:null==ur?void 0:ur.ulbEnableDisable,data:l});(null==(s=null==i?void 0:i.data)?void 0:s.status)?(c.success((null==(a=null==i?void 0:i.data)?void 0:a.message)||"ULB status updated successfully"),j.refetch()):c.error((null==(r=null==i?void 0:i.data)?void 0:r.message)||"Failed to update ULB status")}catch(l){c.error(xr(l))}})(e.id,!e.active_status)})})})]},e.id))})})]}),w.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(dl,{currentPage:l,totalItems:w.length,itemsPerPage:n,onPageChange:e=>{i(e)},onItemsPerPageChange:e=>{d(e),i(1)}})})]}),!j.isLoading&&0===w.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Q,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No ULBs found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No Urban Local Bodies have been added yet."})]})]})]})}),s.jsx(Hi,{open:p,setOpen:h,edit:g,setEdit:f,editData:b,title:g?"Update ULB Details":"Add New ULB",refetch:()=>j.refetch()})]})}function Gi(){return s.jsx(Zr,{title:"Manage All Ulb Here.",children:s.jsx(Zi,{})})}function Qi(t){var a,r;const[l,i]=e.useState(""),[n,d]=e.useState("all"),o=e.useRef(null),u=Qr({}),m=Gr({api:null==ur?void 0:ur.getServicesByUlbModule,key:"getServicesByUlbModule",config:{ulbId:null==t?void 0:t.ulbId,moduleId:null==t?void 0:t.moduleId},options:{enabled:!!(null==t?void 0:t.ulbId)&&!!(null==t?void 0:t.moduleId)}});e.useEffect(()=>{const e=e=>{var t;!e.altKey||"s"!==e.key&&"S"!==e.key||(e.preventDefault(),e.stopPropagation(),null==(t=o.current)||t.focus())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]);const x=(null==(r=null==(a=null==m?void 0:m.data)?void 0:a.data)?void 0:r.filter(e=>{var t;return null==(t=e.services)?void 0:t.toLowerCase().includes(l.toLowerCase())}))||[],p=x.filter(e=>"active"===n?!0===e.permission_status:"inactive"!==n||!1===e.permission_status),h=x.filter(e=>e.permission_status).length,g=x.filter(e=>!e.permission_status).length;return s.jsxs("div",{className:"flex flex-col gap-6 p-4",children:[s.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-primary/10 text-primary",children:s.jsx(ue,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Service Restrictions"}),s.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:"Manage access to specific services with quick toggle"})]})]}),s.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[s.jsxs("div",{className:"flex items-center gap-2 rounded-xl border bg-muted/30 p-1",children:[s.jsxs(Wa,{variant:"ghost",size:"sm",onClick:()=>d("all"),className:La("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","all"===n?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[s.jsx(W,{className:"h-3 w-3"}),"All (",x.length,")"]}),s.jsxs(Wa,{variant:"ghost",size:"sm",onClick:()=>d("active"),className:La("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","active"===n?"bg-primary text-white shadow-sm hover:bg-primary":"text-muted-foreground hover:text-foreground"),children:[s.jsx(B,{className:"h-3 w-3"}),"Restricted (",h,")"]}),s.jsxs(Wa,{variant:"ghost",size:"sm",onClick:()=>d("inactive"),className:La("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","inactive"===n?"bg-muted text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[s.jsx(U,{className:"h-3 w-3"}),"Allowed (",g,")"]})]}),s.jsxs("div",{className:"relative flex items-center",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{ref:o,type:"text",placeholder:"Search services...",value:l,onChange:e=>i(e.target.value),className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-20 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20 sm:w-64"}),s.jsx("div",{className:"absolute right-2.5 hidden items-center gap-1 sm:flex",children:s.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[s.jsx("span",{className:"text-xs",children:"Alt"}),"S"]})})]})]})]}),m.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(nl,{}),s.jsx("p",{className:"mt-4 text-xs font-medium text-muted-foreground",children:"Loading services..."})]})}):s.jsx(s.Fragment,{children:0===p.length?s.jsx(Yr,{className:"overflow-hidden rounded-2xl border bg-card shadow-sm",children:s.jsx(el,{className:"p-12",children:s.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[s.jsx("div",{className:"mb-3 flex h-16 w-16 items-center justify-center rounded-full bg-muted/50",children:s.jsx(ue,{className:"h-8 w-8 text-muted-foreground/30"})}),s.jsx("h4",{className:"text-sm font-bold text-foreground",children:"No services found"}),s.jsx("p",{className:"text-[11px] text-muted-foreground",children:l||"all"!==n?"Try adjusting your filters or search criteria":"No services available for this module"})]})})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:s.jsx(I,{mode:"popLayout",children:p.map((e,a)=>{const r=e.permission_status;return s.jsx(S.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2,delay:.02*a},children:s.jsx(Yr,{className:La("group overflow-hidden rounded-xl border transition-all hover:shadow-md",r?"border-primary/20 bg-primary/5":"border-border bg-card hover:border-primary/30"),children:s.jsx(el,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("div",{className:La("flex h-10 w-10 items-center justify-center rounded-lg transition-all",r?"bg-primary/20 text-primary":"bg-muted text-muted-foreground group-hover:bg-primary/10 group-hover:text-primary"),children:r?s.jsx(B,{className:"h-5 w-5"}):s.jsx(U,{className:"h-5 w-5"})}),s.jsx(wl,{checked:r,onCheckedChange:s=>(async(e,s)=>{var a,r,l;try{const i={ulbId:null==t?void 0:t.ulbId,moduleId:null==t?void 0:t.moduleId,serviceList:[{permissionStatus:s,serviceId:e}]},n=await u.mutateAsync({api:null==ur?void 0:ur.addRemoveServiceByUlbModule,data:i});(null==(a=null==n?void 0:n.data)?void 0:a.status)?(c.success((null==(r=null==n?void 0:n.data)?void 0:r.message)||"Permission updated successfully"),m.refetch()):c.error((null==(l=null==n?void 0:n.data)?void 0:l.message)||"Failed to update permission")}catch(i){c.error(xr(i))}})(e.id,s),disabled:u.isPending,className:"data-[state=checked]:bg-primary"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"line-clamp-2 text-sm font-bold text-foreground",children:e.services}),s.jsx("p",{className:"mt-1 font-mono text-[10px] text-muted-foreground",children:e.path})]}),s.jsx("div",{children:s.jsx("span",{className:La("text-[10px] font-bold uppercase tracking-wider",r?"text-primary":"text-muted-foreground"),children:r?"Restricted":"Allowed"})})]})})})},e.id)})})}),s.jsxs("div",{className:"flex flex-col gap-2 rounded-xl border bg-muted/20 px-4 py-3 sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("span",{className:"text-xs font-bold uppercase tracking-widest text-muted-foreground",children:["Showing: ",p.length," of ",x.length," ","Services"]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-primary"}),s.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Restricted: ",h]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-muted-foreground"}),s.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Allowed: ",g]})]})]})]})]})})]})}function Ki(){var t,a;const r=m(),[l]=_(),i=l.get("ulb_id"),n=l.get("ulb_name"),[d,o]=e.useState(""),[u,x]=e.useState("all"),p=e.useRef(null),[h,g]=e.useState(!1),[f,b]=e.useState(null),[v,j]=e.useState(""),y=Qr({}),N=Gr({api:null==ur?void 0:ur.getModuleByUlbId,key:"permittedModuleListByUlb",config:{ulbId:i},options:{enabled:!!i}});e.useEffect(()=>{const e=e=>{var t;!e.altKey||"s"!==e.key&&"S"!==e.key||(e.preventDefault(),e.stopPropagation(),null==(t=p.current)||t.focus())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]);const w=(null==(a=null==(t=null==N?void 0:N.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=e.module_name)?void 0:t.toLowerCase().includes(d.toLowerCase())}))||[],k=w.filter(e=>"active"===u?!0===e.permission_status:"inactive"!==u||!1===e.permission_status),L=w.filter(e=>e.permission_status).length,P=w.filter(e=>!e.permission_status).length;return s.jsxs("div",{children:[s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(Yr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Wa,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Permitted Modules"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:["ULB:"," ",s.jsx("span",{className:"font-semibold text-purple-600",children:n})]}),s.jsxs("div",{className:"inline-block rounded-full bg-purple-600/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-purple-600",children:[w.length," Modules"]})]})]})]}),s.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[s.jsxs("div",{className:"flex items-center gap-2 rounded-xl border bg-muted/30 p-1",children:[s.jsxs(Wa,{variant:"ghost",size:"sm",onClick:()=>x("all"),className:La("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","all"===u?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[s.jsx(W,{className:"h-3 w-3"}),"All (",w.length,")"]}),s.jsxs(Wa,{variant:"ghost",size:"sm",onClick:()=>x("active"),className:La("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","active"===u?"bg-purple-600 text-white shadow-sm hover:bg-purple-600":"text-muted-foreground hover:text-foreground"),children:[s.jsx(B,{className:"h-3 w-3"}),"Active (",L,")"]}),s.jsxs(Wa,{variant:"ghost",size:"sm",onClick:()=>x("inactive"),className:La("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","inactive"===u?"bg-muted text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[s.jsx(U,{className:"h-3 w-3"}),"Inactive (",P,")"]})]}),s.jsxs("div",{className:"relative flex items-center",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{ref:p,type:"text",placeholder:"Search modules...",value:d,onChange:e=>o(e.target.value),className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-20 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20 sm:w-64"}),s.jsx("div",{className:"absolute right-2.5 hidden items-center gap-1 sm:flex",children:s.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[s.jsx("span",{className:"text-xs",children:"Alt"}),"S"]})})]})]})]})}),s.jsx(el,{className:"p-6",children:N.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(nl,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading modules..."})]})}):s.jsx(s.Fragment,{children:0===k.length?s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(ue,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No modules found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:d||"all"!==u?"Try adjusting your filters or search criteria":"No modules available for this ULB yet."})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:s.jsx(I,{mode:"popLayout",children:k.map((e,t)=>{const a=e.permission_status;return s.jsx(S.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2,delay:.02*t},children:s.jsx(Yr,{className:La("group overflow-hidden rounded-xl border transition-all hover:shadow-md",a?"border-purple-500/20 bg-purple-500/5":"border-border bg-card hover:border-primary/30"),children:s.jsx(el,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("div",{className:La("flex h-10 w-10 items-center justify-center rounded-lg transition-all",a?"bg-purple-500/20 text-purple-600":"bg-muted text-muted-foreground group-hover:bg-primary/10 group-hover:text-primary"),children:s.jsx(ue,{className:"h-5 w-5"})}),s.jsx(wl,{checked:a,onCheckedChange:t=>(async(e,t)=>{var s,a,r;try{const l={ulbId:i,moduleList:[{permissionStatus:t,moduleId:e}]},n=await y.mutateAsync({api:null==ur?void 0:ur.addRemoveModuleToUlb,data:l});(null==(s=null==n?void 0:n.data)?void 0:s.status)?(c.success((null==(a=null==n?void 0:n.data)?void 0:a.message)||"Permission updated successfully"),N.refetch()):c.error((null==(r=null==n?void 0:n.data)?void 0:r.message)||"Failed to update permission")}catch(l){c.error(xr(l))}})(e.id,t),disabled:y.isPending,className:"data-[state=checked]:bg-purple-600"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"line-clamp-2 text-sm font-bold text-foreground",children:e.module_name}),s.jsx("p",{className:"mt-1 font-mono text-[10px] text-muted-foreground",children:e.url||"/"})]}),s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsx("span",{className:La("text-[10px] font-bold uppercase tracking-wider",a?"text-purple-600":"text-muted-foreground"),children:a?"Active":"Inactive"}),a&&s.jsxs(Wa,{variant:"ghost",size:"sm",onClick:()=>{return b(t=e),j(t.id),void g(!0);var t},className:"h-7 gap-1 px-2 text-[10px] font-bold text-primary hover:bg-primary/10",children:[s.jsx(O,{className:"h-3 w-3"}),"Services"]})]})]})})})},e.id)})})}),s.jsxs("div",{className:"mt-6 flex flex-col gap-2 rounded-xl border bg-muted/20 px-4 py-3 sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("span",{className:"text-xs font-bold uppercase tracking-widest text-muted-foreground",children:["Showing: ",k.length," of"," ",w.length," Modules"]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-purple-500"}),s.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Active: ",L]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-muted-foreground"}),s.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Inactive: ",P]})]})]})]})]})})})]})}),s.jsx(Ur,{open:h,onOpenChange:g,children:s.jsxs(qr,{className:"flex h-[80%] w-[70%] mx-auto my-auto max-w-none flex-col overflow-hidden rounded-none border-gray-600 p-0 shadow-none duration-0",children:[s.jsx(Wr,{className:"shrink-0 border-b bg-muted/30 px-8 py-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(Wa,{variant:"ghost",size:"sm",onClick:()=>g(!1),className:"flex h-10 items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsx("div",{className:"rounded-xl bg-primary/10 p-3 text-primary ring-1 ring-primary/20",children:s.jsx(ue,{size:24})}),s.jsxs("div",{children:[s.jsx(Vr,{className:"text-2xl font-black tracking-tight text-foreground",children:"Service Management"}),s.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[s.jsxs("span",{className:"text-xs font-bold uppercase tracking-widest text-muted-foreground",children:["ULB: ",s.jsx("span",{className:"text-primary",children:n})]}),s.jsx("div",{className:"h-1 w-1 rounded-full bg-muted-foreground/30"}),s.jsxs("span",{className:"text-xs font-bold uppercase tracking-widest text-muted-foreground",children:["Module:"," ",s.jsx("span",{className:"text-primary",children:null==f?void 0:f.module_name})]})]})]})]})}),s.jsx("div",{className:"flex-1 overflow-auto px-8 py-6",children:s.jsxs(mi,{defaultValue:"restricted",className:"w-full",children:[s.jsx(xi,{className:"mb-6 h-12 rounded-xl bg-muted p-1",children:s.jsx(pi,{value:"restricted",className:"rounded-lg px-8 py-2 text-xs font-black uppercase tracking-widest data-[state=active]:bg-background data-[state=active]:text-primary data-[state=active]:shadow-sm",children:"Restricted Services"})}),s.jsx(hi,{value:"restricted",className:"mt-0 transition-all",children:s.jsx("div",{className:"overflow-hidden rounded-2xl border bg-card shadow-sm",children:s.jsx(Qi,{ulbId:i,moduleId:v,viewService:f})})})]})})]})})]})}function Yi(){return s.jsx(Zr,{title:"Manage All Ulb Here.",children:s.jsx(Ki,{})})}function Ji(t){var a,r;const[l,i]=e.useState(""),[n,d]=e.useState("all"),o=e.useRef(null),u=Qr({}),m=Gr({api:null==ur?void 0:ur.userPermittedRoles,key:"userPermittedRoles",config:{userId:null==t?void 0:t.id},options:{enabled:!0}});e.useEffect(()=>{const e=e=>{var t;!e.altKey||"s"!==e.key&&"S"!==e.key||(e.preventDefault(),e.stopPropagation(),null==(t=o.current)||t.focus())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]);const x=(null==(r=null==(a=null==m?void 0:m.data)?void 0:a.data)?void 0:r.filter(e=>e.menu_role_name.toLowerCase().includes(l.toLowerCase())))||[],p=x.filter(e=>"active"===n?!0===e.permission_status:"inactive"!==n||!1===e.permission_status),h=x.filter(e=>e.permission_status).length,g=x.filter(e=>!e.permission_status).length;return s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-blue-600/10 text-blue-600",children:s.jsx(G,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Role Permissions"}),s.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:"Manage menu access roles with quick toggle"})]})]}),s.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[s.jsxs("div",{className:"flex items-center gap-2 rounded-xl border bg-muted/30 p-1",children:[s.jsxs(Wa,{variant:"ghost",size:"sm",onClick:()=>d("all"),className:La("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","all"===n?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[s.jsx(W,{className:"h-3 w-3"}),"All (",x.length,")"]}),s.jsxs(Wa,{variant:"ghost",size:"sm",onClick:()=>d("active"),className:La("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","active"===n?"bg-green-600 text-white shadow-sm hover:bg-green-600":"text-muted-foreground hover:text-foreground"),children:[s.jsx(B,{className:"h-3 w-3"}),"Active (",h,")"]}),s.jsxs(Wa,{variant:"ghost",size:"sm",onClick:()=>d("inactive"),className:La("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","inactive"===n?"bg-muted text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[s.jsx(U,{className:"h-3 w-3"}),"Inactive (",g,")"]})]}),s.jsxs("div",{className:"relative flex items-center",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{ref:o,type:"text",placeholder:"Search roles...",value:l,onChange:e=>i(e.target.value),className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-20 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20 sm:w-64"}),s.jsx("div",{className:"absolute right-2.5 hidden items-center gap-1 sm:flex",children:s.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[s.jsx("span",{className:"text-xs",children:"Alt"}),"S"]})})]})]})]}),m.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(nl,{}),s.jsx("p",{className:"mt-4 text-xs font-medium text-muted-foreground",children:"Loading permissions..."})]})}):s.jsx(s.Fragment,{children:0===p.length?s.jsx(Yr,{className:"overflow-hidden rounded-2xl border bg-card shadow-sm",children:s.jsx(el,{className:"p-12",children:s.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[s.jsx("div",{className:"mb-3 flex h-16 w-16 items-center justify-center rounded-full bg-muted/50",children:s.jsx(G,{className:"h-8 w-8 text-muted-foreground/30"})}),s.jsx("h4",{className:"text-sm font-bold text-foreground",children:"No roles found"}),s.jsx("p",{className:"text-[11px] text-muted-foreground",children:l||"all"!==n?"Try adjusting your filters or search criteria":"No roles available for this user"})]})})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:s.jsx(I,{mode:"popLayout",children:p.map((e,a)=>{const r=e.permission_status;return s.jsx(S.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2,delay:.02*a},children:s.jsx(Yr,{className:La("group overflow-hidden rounded-xl border transition-all hover:shadow-md",r?"border-green-500/20 bg-green-500/5":"border-border bg-card hover:border-primary/30"),children:s.jsx(el,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("div",{className:La("flex h-10 w-10 items-center justify-center rounded-lg transition-all",r?"bg-green-500/20 text-green-600":"bg-muted text-muted-foreground group-hover:bg-primary/10 group-hover:text-primary"),children:r?s.jsx(B,{className:"h-5 w-5"}):s.jsx(U,{className:"h-5 w-5"})}),s.jsx(wl,{checked:r,onCheckedChange:s=>(async(e,s)=>{var a,r,l;try{const i={userId:null==t?void 0:t.id,permissionStatus:s,menuRoleId:e},n=await u.mutateAsync({api:null==ur?void 0:ur.addMenuRoleUser,data:i});(null==(a=null==n?void 0:n.data)?void 0:a.status)?(c.success((null==(r=null==n?void 0:n.data)?void 0:r.message)||"Permission updated successfully"),m.refetch()):c.error((null==(l=null==n?void 0:n.data)?void 0:l.message)||"Failed to update permission")}catch(i){c.error(xr(i))}})(e.id,s),disabled:u.isPending,className:"data-[state=checked]:bg-green-600"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"line-clamp-2 text-sm font-bold text-foreground",children:e.menu_role_name}),s.jsx("p",{className:La("mt-1 text-[10px] font-bold uppercase tracking-wider",r?"text-green-600":"text-muted-foreground"),children:r?"Active":"Inactive"})]})]})})})},e.id)})})}),s.jsxs("div",{className:"flex flex-col gap-2 rounded-xl border bg-muted/20 px-4 py-3 sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("span",{className:"text-xs font-bold uppercase tracking-widest text-muted-foreground",children:["Showing: ",p.length," of ",x.length," ","Roles"]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500"}),s.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Active: ",h]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-muted-foreground"}),s.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Inactive: ",g]})]})]})]})]})})]})}function Xi(t){var a,r;const[l,i]=e.useState(""),[n,d]=e.useState("all"),o=e.useRef(null),u=Qr({}),m=Gr({api:null==ur?void 0:ur.permittedWardByUser,key:"permittedWardByUser",config:{userId:null==t?void 0:t.id},options:{enabled:!0}});e.useEffect(()=>{const e=e=>{var t;!e.altKey||"s"!==e.key&&"S"!==e.key||(e.preventDefault(),e.stopPropagation(),null==(t=o.current)||t.focus())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]);const x=(null==(r=null==(a=null==m?void 0:m.data)?void 0:a.data)?void 0:r.filter(e=>(null==e?void 0:e.ward_name)==l||""==l))||[],p=x.filter(e=>"active"===n?!0===e.permission_status:"inactive"!==n||!1===e.permission_status),h=x.filter(e=>e.permission_status).length,g=x.filter(e=>!e.permission_status).length,f=async e=>{var s,a,r;try{const l={userId:null==t?void 0:t.id,wardList:x.map(t=>({wardId:t.id,permissionStatus:e}))},i=await u.mutateAsync({api:null==ur?void 0:ur.addRemoveWard,data:l});(null==(s=null==i?void 0:i.data)?void 0:s.status)?(c.success((null==(a=null==i?void 0:i.data)?void 0:a.message)||(e?"Selected":"Removed")+" all wards successfully"),m.refetch()):c.error((null==(r=null==i?void 0:i.data)?void 0:r.message)||"Failed to update permissions")}catch(l){c.error(xr(l))}};return s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-amber-600/10 text-amber-600",children:s.jsx(J,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Ward Permissions"}),s.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:"Manage geographical ward access with quick toggle"})]})]}),s.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Wa,{variant:"outline",size:"sm",className:"gap-2 border-emerald-600/20 bg-emerald-600/10 text-emerald-600 hover:bg-emerald-600 hover:text-white",onClick:()=>f(!0),disabled:u.isPending,children:[s.jsx(Ne,{className:"h-3 w-3"}),"Select All"]}),s.jsxs(Wa,{variant:"outline",size:"sm",className:"gap-2 border-red-600/20 bg-red-600/10 text-red-600 hover:bg-red-600 hover:text-white",onClick:()=>f(!1),disabled:u.isPending,children:[s.jsx(le,{className:"h-3 w-3"}),"Remove All"]})]}),s.jsxs("div",{className:"flex items-center gap-2 rounded-xl border bg-muted/30 p-1",children:[s.jsxs(Wa,{variant:"ghost",size:"sm",onClick:()=>d("all"),className:La("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","all"===n?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[s.jsx(W,{className:"h-3 w-3"}),"All (",x.length,")"]}),s.jsxs(Wa,{variant:"ghost",size:"sm",onClick:()=>d("active"),className:La("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","active"===n?"bg-green-600 text-white shadow-sm hover:bg-green-600":"text-muted-foreground hover:text-foreground"),children:[s.jsx(B,{className:"h-3 w-3"}),"Active (",h,")"]}),s.jsxs(Wa,{variant:"ghost",size:"sm",onClick:()=>d("inactive"),className:La("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","inactive"===n?"bg-muted text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[s.jsx(U,{className:"h-3 w-3"}),"Inactive (",g,")"]})]}),s.jsxs("div",{className:"relative flex items-center",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{ref:o,type:"text",placeholder:"Search wards...",value:l,onChange:e=>i(e.target.value),className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-20 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20 sm:w-64"}),s.jsx("div",{className:"absolute right-2.5 hidden items-center gap-1 sm:flex",children:s.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[s.jsx("span",{className:"text-xs",children:"Alt"}),"S"]})})]})]})]}),m.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(nl,{}),s.jsx("p",{className:"mt-4 text-xs font-medium text-muted-foreground",children:"Loading permissions..."})]})}):s.jsx(s.Fragment,{children:0===p.length?s.jsx(Yr,{className:"overflow-hidden rounded-2xl border bg-card shadow-sm",children:s.jsx(el,{className:"p-12",children:s.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[s.jsx("div",{className:"mb-3 flex h-16 w-16 items-center justify-center rounded-full bg-muted/50",children:s.jsx(J,{className:"h-8 w-8 text-muted-foreground/30"})}),s.jsx("h4",{className:"text-sm font-bold text-foreground",children:"No wards found"}),s.jsx("p",{className:"text-[11px] text-muted-foreground",children:l||"all"!==n?"Try adjusting your filters or search criteria":"No wards available for this user"})]})})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:s.jsx(I,{mode:"popLayout",children:p.map((e,a)=>{const r=e.permission_status;return s.jsx(S.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2,delay:.02*a},children:s.jsx(Yr,{className:La("group overflow-hidden rounded-xl border transition-all hover:shadow-md",r?"border-green-500/20 bg-green-500/5":"border-border bg-card hover:border-primary/30"),children:s.jsx(el,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("div",{className:La("flex h-10 w-10 items-center justify-center rounded-lg transition-all",r?"bg-green-500/20 text-green-600":"bg-muted text-muted-foreground group-hover:bg-primary/10 group-hover:text-primary"),children:r?s.jsx(B,{className:"h-5 w-5"}):s.jsx(U,{className:"h-5 w-5"})}),s.jsx(wl,{checked:r,onCheckedChange:s=>(async(e,s)=>{var a,r,l;try{const i={userId:null==t?void 0:t.id,wardList:[{permissionStatus:s,wardId:e}]},n=await u.mutateAsync({api:null==ur?void 0:ur.addRemoveWard,data:i});(null==(a=null==n?void 0:n.data)?void 0:a.status)?(c.success((null==(r=null==n?void 0:n.data)?void 0:r.message)||"Permission updated successfully"),m.refetch()):c.error((null==(l=null==n?void 0:n.data)?void 0:l.message)||"Failed to update permission")}catch(i){c.error(xr(i))}})(e.id,s),disabled:u.isPending,className:"data-[state=checked]:bg-green-600"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"line-clamp-2 text-sm font-bold text-foreground",children:e.ward_name}),s.jsx("p",{className:La("mt-1 text-[10px] font-bold uppercase tracking-wider",r?"text-green-600":"text-muted-foreground"),children:r?"Active":"Inactive"})]})]})})})},e.id)})})}),s.jsxs("div",{className:"flex flex-col gap-2 rounded-xl border bg-muted/20 px-4 py-3 sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("span",{className:"text-xs font-bold uppercase tracking-widest text-muted-foreground",children:["Showing: ",p.length," of ",x.length," ","Wards"]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500"}),s.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Active: ",h]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-muted-foreground"}),s.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Inactive: ",g]})]})]})]})]})})]})}function en(t){var a,r;const[l,i]=e.useState(""),[n,d]=e.useState("all"),o=e.useRef(null),u=Qr({}),m=Gr({api:null==ur?void 0:ur.workFlowRoleByUser,key:"permittedworkFlowRoleByUser",config:{userId:null==t?void 0:t.id},options:{enabled:!0}});e.useEffect(()=>{const e=e=>{var t;!e.altKey||"s"!==e.key&&"S"!==e.key||(e.preventDefault(),e.stopPropagation(),null==(t=o.current)||t.focus())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]);const x=(null==(r=null==(a=null==m?void 0:m.data)?void 0:a.data)?void 0:r.filter(e=>e.role_name.toLowerCase().includes(l.toLowerCase())))||[],p=x.filter(e=>"active"===n?!0===e.permission_status:"inactive"!==n||!1===e.permission_status),h=x.filter(e=>e.permission_status).length,g=x.filter(e=>!e.permission_status).length,f=async(e,s)=>{var a,r,l;try{const i={permissionStatus:s,userId:null==t?void 0:t.id,wfRoleId:e},n=await u.mutateAsync({api:null==ur?void 0:ur.AddRemoveWorkFlowRoleByUser,data:i});(null==(a=null==n?void 0:n.data)?void 0:a.status)?(c.success((null==(r=null==n?void 0:n.data)?void 0:r.message)||"Permission updated successfully"),m.refetch()):c.error((null==(l=null==n?void 0:n.data)?void 0:l.message)||"Failed to update permission")}catch(i){c.error(xr(i))}};return s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-violet-600/10 text-violet-600",children:s.jsx(F,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Workflow Roles"}),s.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:"Assign process and approval roles with quick toggle"})]})]}),s.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[s.jsxs("div",{className:"flex items-center gap-2 rounded-xl border bg-muted/30 p-1",children:[s.jsxs(Wa,{variant:"ghost",size:"sm",onClick:()=>d("all"),className:La("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","all"===n?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[s.jsx(W,{className:"h-3 w-3"}),"All (",x.length,")"]}),s.jsxs(Wa,{variant:"ghost",size:"sm",onClick:()=>d("active"),className:La("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","active"===n?"bg-violet-600 text-white shadow-sm hover:bg-violet-600":"text-muted-foreground hover:text-foreground"),children:[s.jsx(B,{className:"h-3 w-3"}),"Active (",h,")"]}),s.jsxs(Wa,{variant:"ghost",size:"sm",onClick:()=>d("inactive"),className:La("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","inactive"===n?"bg-muted text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[s.jsx(U,{className:"h-3 w-3"}),"Inactive (",g,")"]})]}),s.jsxs("div",{className:"relative flex items-center",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{ref:o,type:"text",placeholder:"Search workflow roles...",value:l,onChange:e=>i(e.target.value),className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-20 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20 sm:w-64"}),s.jsx("div",{className:"absolute right-2.5 hidden items-center gap-1 sm:flex",children:s.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[s.jsx("span",{className:"text-xs",children:"Alt"}),"S"]})})]})]})]}),m.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(nl,{}),s.jsx("p",{className:"mt-4 text-xs font-medium text-muted-foreground",children:"Loading permissions..."})]})}):s.jsx(s.Fragment,{children:0===p.length?s.jsx(Yr,{className:"overflow-hidden rounded-2xl border bg-card shadow-sm",children:s.jsx(el,{className:"p-12",children:s.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[s.jsx("div",{className:"mb-3 flex h-16 w-16 items-center justify-center rounded-full bg-muted/50",children:s.jsx(F,{className:"h-8 w-8 text-muted-foreground/30"})}),s.jsx("h4",{className:"text-sm font-bold text-foreground",children:"No workflow roles found"}),s.jsx("p",{className:"text-[11px] text-muted-foreground",children:l||"all"!==n?"Try adjusting your filters or search criteria":"No workflow roles available for this user"})]})})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:s.jsx(I,{mode:"popLayout",children:p.map((e,t)=>{const a=e.permission_status;return s.jsx(S.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2,delay:.02*t},children:s.jsx(Yr,{className:La("group overflow-hidden rounded-xl border transition-all hover:shadow-md",a?"border-violet-500/20 bg-violet-500/5":"border-border bg-card hover:border-primary/30"),children:s.jsx(el,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("div",{className:La("flex h-10 w-10 items-center justify-center rounded-lg transition-all",a?"bg-violet-500/20 text-violet-600":"bg-muted text-muted-foreground group-hover:bg-primary/10 group-hover:text-primary"),children:a?s.jsx(B,{className:"h-5 w-5"}):s.jsx(U,{className:"h-5 w-5"})}),s.jsx(wl,{checked:a,onCheckedChange:t=>(async(e,t)=>{try{const a=x.find(t=>t.permission_status&&t.id!==e);t&&a?c(r=>s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("p",{className:"text-sm font-bold",children:"Replace Active Workflow Role?"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Only one workflow role can be active at a time. This will deactivate"," ",s.jsx("span",{className:"font-bold text-violet-600",children:a.role_name}),"."]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:async()=>{c.dismiss(r.id),await f(e,t)},className:"rounded-lg bg-violet-600 px-3 py-1.5 text-xs font-bold text-white hover:bg-violet-700",children:"Replace"}),s.jsx("button",{onClick:()=>c.dismiss(r.id),className:"rounded-lg bg-muted px-3 py-1.5 text-xs font-bold text-foreground hover:bg-muted/80",children:"Cancel"})]})]}),{duration:6e3}):await f(e,t)}catch(a){c.error(xr(a))}})(e.id,t),disabled:u.isPending,className:"data-[state=checked]:bg-violet-600"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"line-clamp-2 text-sm font-bold text-foreground",children:e.role_name}),s.jsx("p",{className:La("mt-1 text-[10px] font-bold uppercase tracking-wider",a?"text-violet-600":"text-muted-foreground"),children:a?"Active":"Inactive"})]})]})})})},e.id)})})}),s.jsxs("div",{className:"flex flex-col gap-2 rounded-xl border bg-muted/20 px-4 py-3 sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("span",{className:"text-xs font-bold uppercase tracking-widest text-muted-foreground",children:["Showing: ",p.length," of ",x.length," ","Workflow Roles"]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-violet-500"}),s.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Active: ",h]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-muted-foreground"}),s.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Inactive: ",g]})]})]})]})]})})]})}const tn=ja().shape({userType:ya().required("User Type is required"),name:ya().required("Full Name is required"),mobile:ya().matches(/^\d{10}$/,"Mobile number must be 10 digits").required("Mobile number is required"),altMobile:ya().matches(/^\d{10}$/,"Alternate mobile number must be 10 digits").nullable(),email:ya().email("Enter a valid email").required("Email is required"),address:ya().required("Address is required"),photo:ka().nullable()});function sn({open:t,setOpen:a,title:r,edit:l,setEdit:i,adminListFun:n,id:d,ulbId:o,userListByUlbId:u}){var m;const x=Qr({}),p=e.useRef(null),[h,g]=e.useState(null),f=w({defaultValues:{userType:"",name:"",mobile:"",altMobile:"",email:"",address:"",photo:null},resolver:k(tn)}),{reset:b}=f;e.useEffect(()=>{var e,s,a;if(t){if(l&&d){const t=null==(a=null==(s=null==(e=null==u?void 0:u.data)?void 0:e.data)?void 0:s.data)?void 0:a.find(e=>e.id==d);t&&(g(t.documentUrl||null),b({userType:t.user_type||"",name:t.name||"",mobile:t.mobile||"",altMobile:t.alternateMobile||"",email:t.email||"",address:t.address||"",photo:null}))}else g(null),b({userType:"",name:"",mobile:"",altMobile:"",email:"",address:"",photo:null});f.setValue("photo",""),p.current&&(p.current.value="")}},[t,l,d,n,b]);const v=Gr({api:null==ur?void 0:ur.createUserType,key:"createUserTypeList",options:{enabled:!0}});return s.jsx(Vl,{open:t,setOpen:a,title:r,setEdit:i,edit:l,children:s.jsx("div",{className:"p-1",children:s.jsx(ol,{methods:f,onSubmit:f.handleSubmit(async e=>{var t,s,r;try{const n=l?null==ur?void 0:ur.updateAdmin:null==ur?void 0:ur.createAdmin,m=l&&d?{...e,id:d}:{...e,ulbId:o},p=new FormData;p.append("name",m.name),p.append("mobile",m.mobile),p.append("altMobile",m.altMobile),p.append("email",m.email),p.append("address",m.address),p.append("userType",m.userType);const h=f.watch("photo");if(h)p.append("photo",h);else if(!l)return void c.error("User Image is required");l&&d&&p.append("id",d),p.append("ulbId",o||"");const g=await x.mutateAsync({api:n,data:p});(null==(t=null==g?void 0:g.data)?void 0:t.status)?(c.success(null==(s=null==g?void 0:g.data)?void 0:s.message),a(!1),i(!1),u.refetch()):c.error(null==(r=null==g?void 0:g.data)?void 0:r.message)}catch(n){c.error(xr(n))}}),children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-5 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"relative",children:s.jsx(yl,{label:"User Type",name:"userType",data:(null==(m=null==v?void 0:v.data)?void 0:m.data.map(e=>({value:String(e),label:String(e)})))||[]})}),s.jsx("div",{className:"relative",children:s.jsx(ul,{label:"Full Name",name:"name",inputValidation:["CapitalFirstLetter","removeDoubleSpace"],placeholder:"Enter full name"})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(ul,{label:"Mobile No",name:"mobile",inputValidation:["mobile","number"],placeholder:"Enter mobile"}),s.jsx(ul,{label:"Alt Mobile No",name:"altMobile",inputValidation:["mobile","number"],placeholder:"Enter alternate"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(ul,{label:"Email Address",name:"email",inputValidation:["email"],placeholder:"Enter email"}),s.jsx(ul,{label:"Physical Address",name:"address",inputValidation:["CapitalFirstLetter","removeDoubleSpace"],placeholder:"Enter permanent address"}),s.jsxs("div",{className:"rounded-xl border border-dashed border-primary/20 bg-primary/5 p-4",children:[l&&h&&!f.watch("photo")&&s.jsxs("div",{className:"mb-3 flex flex-col items-center gap-2",children:[s.jsx("p",{className:"text-[10px] font-bold uppercase tracking-wider text-muted-foreground",children:"Current Profile Image"}),s.jsx("img",{src:h,alt:"Current profile",className:"h-20 w-20 rounded-lg border-2 border-primary/20 object-cover shadow-sm"})]}),s.jsx(Nl,{label:l&&h?"Update Profile Image":"User Profile Image",name:"photo"},t?"open":"closed")]})]})]}),s.jsx("div",{className:"flex items-center justify-end gap-3 border-t pt-4",children:s.jsx(ml,{isLoading:f.formState.isSubmitting,type:"submit",className:"h-11 rounded-xl bg-primary px-8 text-sm font-bold text-primary-foreground shadow-lg shadow-primary/20 transition-all hover:shadow-xl active:scale-95",children:l?"Update User Account":"Create User Account"})})]})})})})}function an(){var t,a,r,l,i,n,d,o,u,x;const p=m(),[h]=_(),g=h.get("ulb_id"),f=h.get("ulb_name"),b=e.useRef(null),[v,j]=e.useState(1),[y,N]=e.useState(10),w=Qr({}),[k,P]=e.useState(!1),[R,D]=e.useState(""),[M,T]=e.useState(!1),[F,q]=e.useState(!1),[W,$]=e.useState(!1),[V,H]=e.useState("name"),[Z,G]=e.useState(""),[Q,K]=e.useState("");e.useEffect(()=>{const e=setTimeout(()=>{K(Z)},700);return()=>clearTimeout(e)},[Z]),e.useEffect(()=>{const e=e=>{var t;!e.altKey||"s"!==e.key&&"S"!==e.key||(e.preventDefault(),e.stopPropagation(),null==(t=b.current)||t.focus())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]);const Y=Gr({api:null==ur?void 0:ur.userListByULBId,key:"userListByUlbId",config:{ulbId:g,page:v,perPage:y,searchQuery:Q,[V]:Q},value:[v,y,V,Q],options:{enabled:!0}});e.useEffect(()=>{Q?(j(1),Y.refetch()):Y.refetch()},[Q]);return s.jsxs("div",{className:"",children:[s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(Yr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Wa,{variant:"ghost",size:"sm",onClick:()=>p(-1),className:"flex h-10 items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-amber-500/10 text-amber-500",children:s.jsx(we,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:f}),s.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-blue-600/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-blue-600",children:[(null==(a=null==(t=null==Y?void 0:Y.data)?void 0:t.data)?void 0:a.total)||0," Registered Users"]})]})]}),s.jsxs("div",{className:"flex w-full flex-wrap items-center gap-3 lg:w-auto",children:[s.jsxs("div",{className:"relative flex flex-1 items-center md:min-w-[350px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{ref:b,type:"text",value:Z,onChange:e=>{G(e.target.value)},placeholder:"Search users...",className:"h-11 w-full rounded-xl border border-border bg-background pl-10 pr-24 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20",maxLength:"mobile"==V?10:void 0}),s.jsxs("div",{className:"absolute right-2.5 flex items-center gap-1.5",children:[s.jsx("div",{className:"hidden items-center gap-1 sm:flex",children:s.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[s.jsx("span",{className:"text-xs",children:"Alt"}),"S"]})}),s.jsx("div",{className:"mx-1 h-4 w-[1px] bg-border"}),s.jsxs("select",{value:V,onChange:e=>{return t=e.target.value,void H(t);var t},className:"h-8 cursor-pointer rounded-lg border-none bg-transparent px-2 py-0 text-xs font-semibold outline-none transition-all hover:bg-muted/50 focus:ring-0",children:[s.jsx("option",{value:"name",children:"Name"}),s.jsx("option",{value:"email",children:"Email"}),s.jsx("option",{value:"mobile",children:"Mobile"})]})]})]}),s.jsxs(Wa,{type:"button",onClick:()=>{D(""),T(!1),P(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Create User"]})]})]})}),s.jsxs(el,{className:"p-0",children:[Y.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(nl,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading users..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(tl,{children:[s.jsx(sl,{children:s.jsxs(rl,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(ll,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(ll,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"User Profile"}),s.jsx(ll,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Contact Details"}),s.jsx(ll,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"User Type"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Access Status"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"})]})}),s.jsx(al,{children:s.jsx(I,{children:null==(i=null==(l=null==(r=null==Y?void 0:Y.data)?void 0:r.data)?void 0:l.data)?void 0:i.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:v*y-y+t+1})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(jr,{src:e.documentUrl,alt:e.name,className:"h-12 w-12 rounded-xl border-2 border-background object-cover shadow-sm"}),s.jsx("div",{className:La("absolute -right-1 -top-1 h-3.5 w-3.5 rounded-full border-2 border-background",e.suspended?"bg-red-500":"bg-green-500")})]}),s.jsxs("div",{children:[s.jsx("p",{className:La("font-bold leading-tight text-foreground",e.suspended&&"text-muted-foreground line-through opacity-60"),children:null==e?void 0:e.name}),s.jsxs("div",{className:"mt-1 flex items-center gap-1.5",children:[s.jsx(J,{className:"h-2.5 w-2.5 text-muted-foreground"}),s.jsx("p",{className:"max-w-[150px] truncate text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:(null==e?void 0:e.address)||"No Address"})]})]})]})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex flex-col gap-1.5",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-foreground/80",children:[s.jsx("div",{className:"flex h-5 w-5 items-center justify-center rounded-md bg-blue-600/10 text-blue-600",children:s.jsx(ke,{className:"h-2.5 w-2.5"})}),null==e?void 0:e.mobile]}),s.jsxs("div",{className:"flex items-center gap-2 text-[11px] font-medium text-muted-foreground",children:[s.jsx("div",{className:"flex h-5 w-5 items-center justify-center rounded-md bg-emerald-600/10 text-emerald-600",children:s.jsx(te,{className:"h-2.5 w-2.5"})}),null==e?void 0:e.email]})]})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"inline-flex items-center gap-2 rounded-lg border border-violet-600/20 bg-violet-600/10 px-2.5 py-1 text-[10px] font-bold uppercase tracking-wider text-violet-600",children:[s.jsx(_e,{className:"h-3 w-3"}),null==e?void 0:e.user_type]})}),s.jsx(il,{className:"py-4 text-center",children:s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(wl,{checked:!(null==e?void 0:e.suspended),onCheckedChange:()=>(async(e,t)=>{var s,a,r;try{const l={id:e,isSuspended:t},i=await w.mutateAsync({api:null==ur?void 0:ur.enableDisableUserByModule,data:l});(null==(s=null==i?void 0:i.data)?void 0:s.status)?(c.success((null==(a=null==i?void 0:i.data)?void 0:a.message)||"Permission updated successfully"),Y.refetch()):c.error((null==(r=null==i?void 0:i.data)?void 0:r.message)||"Failed to update permission")}catch(l){c.error(xr(l))}})(e.id,!e.suspended)}),s.jsx("span",{className:La("inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-[9px] font-bold uppercase tracking-tighter",e.suspended?"bg-red-500/10 text-red-500":"bg-green-500/10 text-green-500"),children:e.suspended?s.jsxs(s.Fragment,{children:[s.jsx(U,{className:"h-2 w-2"})," ","Suspended"]}):s.jsxs(s.Fragment,{children:[s.jsx(B,{className:"h-2 w-2"})," ","Active"]})})]})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Wa,{variant:"outline",size:"sm",onClick:()=>{D(null==e?void 0:e.id),T(!0),P(!0)},className:"h-9 w-9 border-amber-600/20 bg-amber-600/10 p-0 text-amber-600 transition-all hover:bg-amber-600 hover:text-white",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsxs(Wa,{variant:"outline",size:"sm",onClick:()=>{p(`/project-config/dashboard/ulb-list/user-list/permission?ulb_id=${g}&ulb_name=${f}`,{state:{item:e}})},className:"flex items-center gap-2 border-blue-600/20 bg-blue-600/10 text-blue-600 transition-all hover:bg-blue-600 hover:text-white",children:[s.jsx(O,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Permissions"})]})]})})]},null==e?void 0:e.id))})})]}),s.jsx("div",{className:"border-t p-4",children:s.jsx(dl,{currentPage:v,totalItems:(null==(d=null==(n=null==Y?void 0:Y.data)?void 0:n.data)?void 0:d.total)||0,itemsPerPage:y,onPageChange:e=>j(e),onItemsPerPageChange:e=>{N(e),j(1)}})})]}),!Y.isLoading&&0===(null==(x=null==(u=null==(o=null==Y?void 0:Y.data)?void 0:o.data)?void 0:u.data)?void 0:x.length)&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(we,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No users found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:Z?"Try adjusting your search criteria":"No users have been registered in this ULB yet."})]})]})]})}),s.jsx(Ur,{open:W,onOpenChange:$,children:s.jsxs(qr,{className:"flex h-[90vh] max-h-[90vh] max-w-[1200px] flex-col overflow-hidden border-none p-0 shadow-2xl",children:[s.jsx(Wr,{className:"border-b bg-muted/30 px-8 py-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-blue-600/10 text-blue-600",children:s.jsx(z,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx(Vr,{className:"text-2xl font-bold text-foreground",children:"User Access Control"}),s.jsxs("p",{className:"text-sm font-medium text-muted-foreground",children:["Configuring permissions for"," ",s.jsx("span",{className:"font-bold text-blue-600",children:null==F?void 0:F.name})]})]})]})}),s.jsx("div",{className:"flex flex-1 flex-col overflow-hidden bg-background p-6",children:s.jsxs(Ps,{defaultValue:"ROLELIST",className:"flex flex-1 flex-col overflow-hidden",children:[s.jsx("div",{className:"mb-6 flex justify-center",children:s.jsxs(Rs,{className:"inline-flex h-11 items-center justify-center rounded-xl bg-muted p-1",children:[s.jsx(Ds,{className:"inline-flex items-center justify-center whitespace-nowrap rounded-lg px-6 py-2 text-sm font-bold transition-all data-[state=active]:bg-background data-[state=active]:text-primary data-[state=active]:shadow-sm",value:"ROLELIST",children:"Permitted Roles"}),s.jsx(Ds,{className:"inline-flex items-center justify-center whitespace-nowrap rounded-lg px-6 py-2 text-sm font-bold transition-all data-[state=active]:bg-background data-[state=active]:text-primary data-[state=active]:shadow-sm",value:"PERMITTED_WARDS",children:"Permitted Wards"}),s.jsx(Ds,{className:"inline-flex items-center justify-center whitespace-nowrap rounded-lg px-6 py-2 text-sm font-bold transition-all data-[state=active]:bg-background data-[state=active]:text-primary data-[state=active]:shadow-sm",value:"PERMITTED_WORKFLOW_ROLE",children:"Workflow Roles"})]})}),s.jsxs("div",{className:"custom-scrollbar flex-1 overflow-y-auto pr-2",children:[s.jsx(Es,{value:"ROLELIST",className:"m-0 focus-visible:outline-none",children:s.jsx(Ji,{selectedULB:F,id:R})}),s.jsx(Es,{value:"PERMITTED_WARDS",className:"m-0 focus-visible:outline-none",children:s.jsx(Xi,{selectedULB:F,id:R})}),s.jsx(Es,{value:"PERMITTED_WORKFLOW_ROLE",className:"m-0 focus-visible:outline-none",children:s.jsx(en,{selectedULB:F,id:R})})]})]})})]})}),s.jsx(sn,{open:k,setOpen:P,title:M?"Update User Account":"Register New User",id:R,edit:M,setEdit:T,ulbId:g,userListByUlbId:Y})]})}function rn(){return s.jsx(Zr,{title:"Manage All Ulb Here.",children:s.jsx(an,{})})}function ln(){var e;const t=m(),[a]=_();a.get("ulb_id"),a.get("ulb_name");const r=null==(e=n().state)?void 0:e.item;return s.jsxs("div",{className:"flex h-full w-full flex-col overflow-hidden bg-background",children:[s.jsx("header",{className:"shrink-0 border-b bg-muted/30 px-8 py-4",children:s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs(Wa,{variant:"ghost",size:"sm",onClick:()=>t(-1),className:"flex h-10 items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{className:"group flex cursor-pointer items-center gap-4",children:[s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-blue-600/10 text-blue-600 transition-all group-hover:bg-blue-600 group-hover:text-white",children:s.jsx(z,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground transition-colors group-hover:text-primary",children:"User Access Control"}),s.jsxs("p",{className:"text-sm font-medium text-muted-foreground",children:["Configuring permissions for"," ",s.jsx("span",{className:"font-mono font-bold text-blue-600",children:r.name})]})]})]})]})}),s.jsx("main",{className:"flex flex-1 flex-col overflow-hidden p-6",children:s.jsxs(mi,{defaultValue:"ROLELIST",className:"flex flex-1 flex-col overflow-hidden",children:[s.jsx("div",{className:"mb-6 flex justify-center",children:s.jsxs(xi,{className:"inline-flex h-11 items-center justify-center rounded-xl bg-muted p-1",children:[s.jsx(pi,{className:"inline-flex items-center justify-center whitespace-nowrap rounded-lg px-6 py-2 text-sm font-bold transition-all data-[state=active]:bg-background data-[state=active]:text-primary data-[state=active]:shadow-sm",value:"ROLELIST",children:"Permitted Roles"}),s.jsx(pi,{className:"inline-flex items-center justify-center whitespace-nowrap rounded-lg px-6 py-2 text-sm font-bold transition-all data-[state=active]:bg-background data-[state=active]:text-primary data-[state=active]:shadow-sm",value:"PERMITTED_WARDS",children:"Permitted Wards"}),s.jsx(pi,{className:"inline-flex items-center justify-center whitespace-nowrap rounded-lg px-6 py-2 text-sm font-bold transition-all data-[state=active]:bg-background data-[state=active]:text-primary data-[state=active]:shadow-sm",value:"PERMITTED_WORKFLOW_ROLE",children:"Workflow Roles"})]})}),s.jsxs("div",{className:"custom-scrollbar flex-1 overflow-y-auto pr-2",children:[s.jsx(hi,{value:"ROLELIST",className:"m-0 focus-visible:outline-none",children:s.jsx(Ji,{selectedULB:r,id:r.id})}),s.jsx(hi,{value:"PERMITTED_WARDS",className:"m-0 focus-visible:outline-none",children:s.jsx(Xi,{selectedULB:r,id:r.id})}),s.jsx(hi,{value:"PERMITTED_WORKFLOW_ROLE",className:"m-0 focus-visible:outline-none",children:s.jsx(en,{selectedULB:r,id:r.id})})]})]})})]})}function nn(){return s.jsx(Zr,{title:"Mange Permission Here.",children:s.jsx(ln,{})})}ja().shape({ulbId:ya(),moduleId:ya(),complaintRefNo:ya()});const dn=ja().shape({name:ya().required("Full Name is required"),mobile:ya().matches(/^\d{10}$/,"Mobile number must be 10 digits").required("Mobile number is required"),altMobile:ya().matches(/^\d{10}$/,"Alternate mobile number must be 10 digits").nullable(),email:ya().email("Enter a valid email").required("Email is required"),address:ya().required("Address is required"),photo:ka().nullable()});function on({open:t,setOpen:a,title:r,edit:l,setEdit:i,adminListFun:n,id:d,ulbId:o,adminListData:u}){const m=Qr({}),x=e.useRef(null),[p,h]=e.useState(null),g=w({defaultValues:{name:"",mobile:"",altMobile:"",email:"",address:"",photo:null},resolver:k(dn)}),{reset:f}=g;e.useEffect(()=>{if(t){if(l&&d){const e=null==u?void 0:u.find(e=>e.id==d);e&&(h(e.documentUrl||null),f({name:e.name||"",mobile:e.mobile||"",altMobile:e.alternateMobile||"",email:e.email||"",address:e.address||"",photo:null}))}else h(null),f({name:"",mobile:"",altMobile:"",email:"",address:"",photo:null});g.setValue("photo",""),x.current&&(x.current.value="")}},[t,l,d,u,f]);return s.jsx(Vl,{open:t,setOpen:a,title:r,setEdit:i,edit:l,children:s.jsx("div",{className:"p-1",children:s.jsx(ol,{methods:g,onSubmit:g.handleSubmit(async e=>{var t,s,r;try{const u=l?null==ur?void 0:ur.updateAdmin:null==ur?void 0:ur.createAdmin,x=l&&d?{...e,id:d}:{...e,ulbId:o},p=new FormData;p.append("name",x.name),p.append("mobile",x.mobile),p.append("altMobile",x.altMobile),p.append("email",x.email),p.append("address",x.address);const h=g.watch("photo");if(h)p.append("photo",h);else if(!l)return void c.error("User Image is required");l&&d&&p.append("id",d),p.append("ulbId",o||"");const f=await m.mutateAsync({api:u,data:p});(null==(t=null==f?void 0:f.data)?void 0:t.status)?(c.success(null==(s=null==f?void 0:f.data)?void 0:s.message),a(!1),i(!1),n.refetch()):c.error(null==(r=null==f?void 0:f.data)?void 0:r.message)}catch(u){c.error(xr(u))}}),children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-5 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"relative",children:s.jsx(ul,{label:"Full Name",name:"name",inputValidation:["CapitalFirstLetter","removeDoubleSpace"],placeholder:"Enter full name"})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(ul,{label:"Mobile No",name:"mobile",inputValidation:["mobile","number"],placeholder:"Enter mobile"}),s.jsx(ul,{label:"Alt Mobile No",name:"altMobile",inputValidation:["mobile","number"],placeholder:"Enter alternate"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(ul,{label:"Email Address",name:"email",inputValidation:["email"],placeholder:"Enter email"}),s.jsx(ul,{label:"Physical Address",name:"address",inputValidation:["CapitalFirstLetter","removeDoubleSpace"],placeholder:"Enter permanent address"})]})]}),s.jsxs("div",{className:"rounded-xl border border-dashed border-primary/20 bg-primary/5 p-4",children:[l&&p&&!g.watch("photo")&&s.jsxs("div",{className:"mb-3 flex flex-col items-center gap-2",children:[s.jsx("p",{className:"text-[10px] font-bold uppercase tracking-wider text-muted-foreground",children:"Current Profile Image"}),s.jsx("img",{src:p,alt:"Current profile",className:"h-20 w-20 rounded-lg border-2 border-primary/20 object-cover shadow-sm"})]}),s.jsx(Nl,{label:l&&p?"Update Profile Image":"User Profile Image",name:"photo"},t?"open":"closed")]}),s.jsx("div",{className:"flex items-center justify-end gap-3 border-t pt-4",children:s.jsx(ml,{isLoading:g.formState.isSubmitting,type:"submit",className:"h-11 rounded-xl bg-primary px-8 text-sm font-bold text-primary-foreground shadow-lg shadow-primary/20 transition-all hover:shadow-xl active:scale-95",children:l?"Update Admin Account":"Create Admin Account"})})]})})})})}function cn(){var t,a,r,l,i,n,d,o,u,x,p,h,g,f;const b=m(),[v]=_(),j=v.get("ulb_id"),y=v.get("ulb_name"),N=e.useRef(null),[w,k]=e.useState(1),[P,R]=e.useState(10),D=Qr({}),[M,T]=e.useState(!1),[F,O]=e.useState(""),[q,W]=e.useState(!1),[$,V]=e.useState("name"),[H,Z]=e.useState(""),[G,Q]=e.useState("");e.useEffect(()=>{const e=setTimeout(()=>{Q(H)},700);return()=>clearTimeout(e)},[H]),e.useEffect(()=>{const e=e=>{var t;!e.altKey||"s"!==e.key&&"S"!==e.key||(e.preventDefault(),e.stopPropagation(),null==(t=N.current)||t.focus())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]);const K=Gr({api:null==ur?void 0:ur.adminList,key:"adminListFun",config:{ulbId:j,page:w,perPage:P,parameter:G||"",filterBy:$||""},value:[w,P,$,G],options:{enabled:!!j}});e.useEffect(()=>{G?(k(1),K.refetch()):K.refetch()},[G]);return s.jsxs("div",{className:"",children:[s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(Yr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Wa,{variant:"ghost",size:"sm",onClick:()=>b(-1),className:"flex h-10 items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-amber-500/10 text-amber-500",children:s.jsx(z,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:y||"Admin List"}),s.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-blue-600/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-blue-600",children:[(null==(a=null==(t=null==K?void 0:K.data)?void 0:t.data)?void 0:a.total)||0," Registered Admins"]})]})]}),s.jsxs("div",{className:"flex w-full flex-wrap items-center gap-3 lg:w-auto",children:[s.jsxs("div",{className:"relative flex flex-1 items-center md:min-w-[350px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{ref:N,type:"text",value:H,onChange:e=>{Z(e.target.value)},placeholder:`Search admins by ${$}...`,className:"h-11 w-full rounded-xl border border-border bg-background pl-10 pr-24 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20",maxLength:"mobile"==$?10:void 0}),s.jsxs("div",{className:"absolute right-2.5 flex items-center gap-1.5",children:[s.jsx("div",{className:"hidden items-center gap-1 sm:flex",children:s.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[s.jsx("span",{className:"text-xs",children:"Alt"}),"S"]})}),s.jsx("div",{className:"mx-1 h-4 w-[1px] bg-border"}),s.jsxs("select",{value:$,onChange:e=>{return t=e.target.value,void V(t);var t},className:"h-8 cursor-pointer rounded-lg border-none bg-transparent px-2 py-0 text-xs font-semibold outline-none transition-all hover:bg-muted/50 focus:ring-0",children:[s.jsx("option",{value:"name",children:"Name"}),s.jsx("option",{value:"email",children:"Email"}),s.jsx("option",{value:"mobile",children:"Mobile"})]})]})]}),s.jsxs(Wa,{type:"button",onClick:()=>{O(""),W(!1),T(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Create Admin"]})]})]})}),s.jsxs(el,{className:"p-0",children:[K.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(nl,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading admins..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(tl,{children:[s.jsx(sl,{children:s.jsxs(rl,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(ll,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(ll,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Admin Profile"}),s.jsx(ll,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Contact Details"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"})]})}),s.jsx(al,{children:s.jsx(I,{children:null==(i=null==(l=null==(r=null==K?void 0:K.data)?void 0:r.data)?void 0:l.data)?void 0:i.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w*P-P+t+1})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(jr,{src:e.documentUrl,alt:e.name,className:"h-12 w-12 rounded-xl border-2 border-background object-cover shadow-sm"}),s.jsx("div",{className:La("absolute -right-1 -top-1 h-3.5 w-3.5 rounded-full border-2 border-background",e.suspended?"bg-red-500":"bg-green-500")})]}),s.jsxs("div",{children:[s.jsx("p",{className:La("font-bold leading-tight text-foreground",e.suspended&&"text-muted-foreground line-through opacity-60"),children:null==e?void 0:e.name}),s.jsxs("div",{className:"mt-1 flex items-center gap-1.5",children:[s.jsx(J,{className:"h-2.5 w-2.5 text-muted-foreground"}),s.jsx("p",{className:"max-w-[150px] truncate text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:(null==e?void 0:e.address)||"No Address"})]})]})]})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex flex-col gap-1.5",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-foreground/80",children:[s.jsx("div",{className:"flex h-5 w-5 items-center justify-center rounded-md bg-blue-600/10 text-blue-600",children:s.jsx(ke,{className:"h-2.5 w-2.5"})}),null==e?void 0:e.mobile,(null==e?void 0:e.alternateMobile)&&s.jsxs("span",{className:"text-muted-foreground",children:["/ ",e.alternateMobile]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-[11px] font-medium text-muted-foreground",children:[s.jsx("div",{className:"flex h-5 w-5 items-center justify-center rounded-md bg-emerald-600/10 text-emerald-600",children:s.jsx(te,{className:"h-2.5 w-2.5"})}),null==e?void 0:e.email]})]})}),s.jsx(il,{className:"py-4 text-center",children:s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(wl,{checked:!(null==e?void 0:e.suspended),onCheckedChange:()=>(async(e,t)=>{var s,a,r;try{const l={id:e,isSuspended:t},i=await D.mutateAsync({api:null==ur?void 0:ur.enableDisableUserByModule,data:l});(null==(s=null==i?void 0:i.data)?void 0:s.status)?(c.success((null==(a=null==i?void 0:i.data)?void 0:a.message)||"Permission updated successfully"),K.refetch()):c.error((null==(r=null==i?void 0:i.data)?void 0:r.message)||"Failed to update permission")}catch(l){c.error(xr(l))}})(e.id,!e.suspended)}),s.jsx("span",{className:La("inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-[9px] font-bold uppercase tracking-tighter",e.suspended?"bg-red-500/10 text-red-500":"bg-green-500/10 text-green-500"),children:e.suspended?s.jsxs(s.Fragment,{children:[s.jsx(U,{className:"h-2 w-2"})," ","Suspended"]}):s.jsxs(s.Fragment,{children:[s.jsx(B,{className:"h-2 w-2"})," ","Active"]})})]})}),s.jsx(il,{className:"py-4",children:s.jsx("div",{className:"flex items-center justify-center gap-2",children:s.jsx(Wa,{variant:"outline",size:"sm",onClick:()=>{O(null==e?void 0:e.id),W(!0),T(!0)},className:"h-9 w-9 border-amber-600/20 bg-amber-600/10 p-0 text-amber-600 transition-all hover:bg-amber-600 hover:text-white",children:s.jsx(E,{className:"h-4 w-4"})})})})]},null==e?void 0:e.id))})})]}),(null==(d=null==(n=null==K?void 0:K.data)?void 0:n.data)?void 0:d.total)>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(dl,{currentPage:w,totalItems:(null==(u=null==(o=null==K?void 0:K.data)?void 0:o.data)?void 0:u.total)||0,itemsPerPage:P,onPageChange:e=>k(e),onItemsPerPageChange:e=>{R(e),k(1)}})})]}),!K.isLoading&&0===(null==(h=null==(p=null==(x=null==K?void 0:K.data)?void 0:x.data)?void 0:p.data)?void 0:h.length)&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(z,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No admins found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:H?"Try adjusting your search criteria":"No admins have been registered in this ULB yet."})]})]})]})}),s.jsx(on,{open:M,setOpen:T,title:q?"Update Admin Account":"Create Admin Account",id:F,edit:q,setEdit:W,ulbId:j,adminListFun:K,adminListData:null==(f=null==(g=null==K?void 0:K.data)?void 0:g.data)?void 0:f.data})]})}function un(){return s.jsx(Zr,{title:"Manage All Admins Here.",children:s.jsx(cn,{})})}const mn=ja().shape({construction_type:ya().required("Construction type is required")});function xn({open:t,setOpen:a,title:r,edit:l,setEdit:i,id:n,refetch:d,editData:o}){const u=Qr({}),m=w({defaultValues:{construction_type:""},resolver:k(mn)}),{reset:x,handleSubmit:p,formState:{isSubmitting:h}}=m;e.useEffect(()=>{t&&x(l&&o?{construction_type:o.construction_type||""}:{construction_type:""})},[t,l,o,x]);return s.jsx(Vl,{open:t,setOpen:a,title:r||(l?"Edit Construction Type":"Add Construction Type"),setEdit:i,edit:l,children:s.jsx("div",{className:"p-1",children:s.jsx(ol,{methods:m,onSubmit:p(async e=>{var t,s,r;try{const o=l?null==or?void 0:or.api_updateConstructionApi:null==or?void 0:or.api_PostConstructionApi,m=l?{...e,id:n}:e,x=await u.mutateAsync({api:o,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||`Construction type ${l?"updated":"added"} successfully`),a(!1),i&&i(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(xr(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsx("div",{className:"space-y-4",children:s.jsx(ul,{label:"Construction Type",name:"construction_type",placeholder:"Enter construction type"})}),s.jsx($l,{className:"opacity-50"}),s.jsx(ml,{isLoading:h,type:"submit",className:"h-10 w-full rounded-xl bg-primary text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:l?"Update Construction Type":"Submit"})]})})})})}function pn(){var t,a;const r=m(),[l,i]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,b]=e.useState(null),v=Gr({key:"api_getConstructionApiList",api:or.api_getConstructionApiList,options:{enabled:!0}}),j=Qr({}),y=(null==(a=null==(t=null==v?void 0:v.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=null==e?void 0:e.construction_type)?void 0:t.toLowerCase().includes(o.toLowerCase())}))||[],N=l*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(Yr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Wa,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Construction Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Types Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search construction type...",value:o,onChange:e=>{u(e.target.value),i(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(Wa,{type:"button",onClick:()=>{g(!1),b(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New"]})]})]})}),s.jsxs(el,{className:"p-0",children:[v.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(nl,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading construction types..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(tl,{children:[s.jsx(sl,{children:s.jsxs(rl,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(ll,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(ll,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Construction Type"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(al,{children:s.jsx(I,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(Se,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.construction_type}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(il,{className:"py-4 text-center",children:s.jsxs("span",{className:La("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-red-500/20 bg-red-500/10 text-red-500":"border-green-500/20 bg-green-500/10 text-green-500"),children:[1===e.is_suspended?s.jsx(U,{className:"h-3 w-3"}):s.jsx(B,{className:"h-3 w-3"}),1===e.is_suspended?"Suspended":"Active"]})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>{b(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>(e=>{zr("Delete Construction Type",`Are you sure you want to delete "${e.construction_type}"?`,async()=>{var t,s,a;try{const r=await j.mutateAsync({api:or.api_deleteConstructionApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),v.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(xr(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(wl,{checked:1===e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:1===e.is_suspended?0:1},l=await j.mutateAsync({api:or.api_deleteConstructionApi,data:r});(null==(t=null==l?void 0:l.data)?void 0:t.status)?(c.success((null==(s=null==l?void 0:l.data)?void 0:s.message)||"Status updated successfully"),v.refetch()):c.error((null==(a=null==l?void 0:l.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(xr(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(dl,{currentPage:l,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{i(e)},onItemsPerPageChange:e=>{d(e),i(1)}})})]}),!v.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Se,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No construction types found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No construction types have been added yet."}),!o&&s.jsxs(Wa,{className:"mt-6",onClick:()=>{g(!1),b(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Type"]})]})]})]}),s.jsx(xn,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:v.refetch})]})})}function hn(){return s.jsx(Zr,{title:"Manage Construction Master Here.",children:s.jsx(pn,{})})}const gn=ja().shape({floor_name:ya().required("Floor name is required")});function fn({open:t,setOpen:a,title:r,edit:l,setEdit:i,id:n,refetch:d,editData:o}){const u=Qr({}),m=w({defaultValues:{floor_name:""},resolver:k(gn)}),{reset:x,handleSubmit:p,formState:{isSubmitting:h}}=m;e.useEffect(()=>{t&&x(l&&o?{floor_name:o.floor_name||""}:{floor_name:""})},[t,l,o,x]);return s.jsx(Vl,{open:t,setOpen:a,title:r||(l?"Edit Floor":"Add Floor"),setEdit:i,edit:l,children:s.jsx("div",{className:"p-1",children:s.jsx(ol,{methods:m,onSubmit:p(async e=>{var t,s,r;try{const o=l?null==or?void 0:or.api_updateFloorApi:null==or?void 0:or.api_PostFloorApi,m=l?{...e,id:n}:e,x=await u.mutateAsync({api:o,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||`Floor ${l?"updated":"added"} successfully`),a(!1),i&&i(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(xr(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsx("div",{className:"space-y-4",children:s.jsx(ul,{label:"Floor Name",name:"floor_name",placeholder:"Enter floor name"})}),s.jsx($l,{className:"opacity-50"}),s.jsx(ml,{isLoading:h,type:"submit",className:"h-10 w-full rounded-xl bg-primary text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:l?"Update Floor":"Submit"})]})})})})}function bn(){var t,a;const r=m(),[l,i]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,b]=e.useState(null),v=Gr({key:"api_getFloorApiList",api:or.api_getFloorApiList,options:{enabled:!0}}),j=Qr({}),y=(null==(a=null==(t=null==v?void 0:v.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=null==e?void 0:e.floor_name)?void 0:t.toLowerCase().includes(o.toLowerCase())}))||[],N=l*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(Yr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Wa,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Floor Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Floors Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search floor name...",value:o,onChange:e=>{u(e.target.value),i(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(Wa,{type:"button",onClick:()=>{g(!1),b(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New"]})]})]})}),s.jsxs(el,{className:"p-0",children:[v.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(nl,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading floor types..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(tl,{children:[s.jsx(sl,{children:s.jsxs(rl,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(ll,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(ll,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Floor Name"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(al,{children:s.jsx(I,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(H,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.floor_name}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(il,{className:"py-4 text-center",children:s.jsxs("span",{className:La("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(U,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Suspended"]})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>{b(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>(e=>{zr("Delete Floor",`Are you sure you want to delete "${e.floor_name}"?`,async()=>{var t,s,a;try{const r=await j.mutateAsync({api:or.api_deleteFloorApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),v.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(xr(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(wl,{checked:1===e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:1===e.is_suspended?0:1},l=await j.mutateAsync({api:or.api_deleteFloorApi,data:r});(null==(t=null==l?void 0:l.data)?void 0:t.status)?(c.success((null==(s=null==l?void 0:l.data)?void 0:s.message)||"Status updated successfully"),v.refetch()):c.error((null==(a=null==l?void 0:l.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(xr(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(dl,{currentPage:l,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{i(e)},onItemsPerPageChange:e=>{d(e),i(1)}})})]}),!v.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(H,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No floors found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No floors have been added yet."}),!o&&s.jsxs(Wa,{className:"mt-6",onClick:()=>{g(!1),b(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Floor"]})]})]})]}),s.jsx(fn,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:v.refetch})]})})}function vn(){return s.jsx(Zr,{title:"Manage Floor Master Here.",children:s.jsx(bn,{})})}const jn=ja().shape({type:ya().required("Objection type name is required")});function yn({open:t,setOpen:a,title:r,edit:l,setEdit:i,id:n,refetch:d,editData:o}){const u=Qr({}),m=w({defaultValues:{type:""},resolver:k(jn)}),{reset:x,handleSubmit:p,formState:{isSubmitting:h}}=m;e.useEffect(()=>{t&&x(l&&o?{type:o.type||""}:{type:""})},[t,l,o,x]);return s.jsx(Vl,{open:t,setOpen:a,title:r||(l?"Edit Objection Type":"Add Objection Type"),setEdit:i,edit:l,children:s.jsx("div",{className:"p-1",children:s.jsx(ol,{methods:m,onSubmit:p(async e=>{var t,s,r;try{const o=l?null==or?void 0:or.api_updateObjectionApi:null==or?void 0:or.api_PostObjectionApi,m=l?{...e,id:n}:e,x=await u.mutateAsync({api:o,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||`Objection type ${l?"updated":"added"} successfully`),a(!1),i&&i(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(xr(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsx("div",{className:"space-y-4",children:s.jsx(ul,{label:"Objection Type Name",name:"type",placeholder:"Enter objection type name"})}),s.jsx($l,{className:"opacity-50"}),s.jsx(ml,{isLoading:h,type:"submit",className:"h-10 w-full rounded-xl bg-primary text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:l?"Update Objection Type":"Submit"})]})})})})}function Nn(){var t,a;const r=m(),[l,i]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,b]=e.useState(null),v=Gr({key:"api_getObjectionApiList",api:or.api_getObjectionApiList,options:{enabled:!0}}),j=Qr({}),y=(null==(a=null==(t=null==v?void 0:v.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=null==e?void 0:e.type)?void 0:t.toLowerCase().includes(o.toLowerCase())}))||[],N=l*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(Yr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Wa,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Objection Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Types Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search objection type...",value:o,onChange:e=>{u(e.target.value),i(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(Wa,{type:"button",onClick:()=>{g(!1),b(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New"]})]})]})}),s.jsxs(el,{className:"p-0",children:[v.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(nl,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading objection types..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(tl,{children:[s.jsx(sl,{children:s.jsxs(rl,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(ll,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(ll,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Objection Type"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(al,{children:s.jsx(I,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(ge,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.type}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(il,{className:"py-4 text-center",children:s.jsxs("span",{className:La("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(U,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Suspended"]})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>{b(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>(e=>{zr("Delete Objection Type",`Are you sure you want to delete "${e.type}"?`,async()=>{var t,s,a;try{const r=await j.mutateAsync({api:or.api_deleteObjectionApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),v.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(xr(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(wl,{checked:1===e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:1===e.is_suspended?0:1},l=await j.mutateAsync({api:or.api_deleteObjectionApi,data:r});(null==(t=null==l?void 0:l.data)?void 0:t.status)?(c.success((null==(s=null==l?void 0:l.data)?void 0:s.message)||"Status updated successfully"),v.refetch()):c.error((null==(a=null==l?void 0:l.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(xr(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(dl,{currentPage:l,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{i(e)},onItemsPerPageChange:e=>{d(e),i(1)}})})]}),!v.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(ge,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No objection types found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No objection types have been added yet."}),!o&&s.jsxs(Wa,{className:"mt-6",onClick:()=>{g(!1),b(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Type"]})]})]})]}),s.jsx(yn,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:v.refetch})]})})}function wn(){return s.jsx(Zr,{title:"Manage Objection Master Here.",children:s.jsx(Nn,{})})}const kn=ja().shape({usage_type:ya().required("Usage type name is required"),usage_code:ya().required("Usage code is required")});function _n({open:t,setOpen:a,title:r,edit:l,setEdit:i,id:n,refetch:d,editData:o}){const u=Qr({}),m=w({defaultValues:{usage_type:"",usage_code:""},resolver:k(kn)}),{reset:x,handleSubmit:p,formState:{isSubmitting:h}}=m;e.useEffect(()=>{t&&x(l&&o?{usage_type:o.usage_type||"",usage_code:o.usage_code||""}:{usage_type:"",usage_code:""})},[t,l,o,x]);return s.jsx(Vl,{open:t,setOpen:a,title:r||(l?"Edit Usage Type":"Add Usage Type"),setEdit:i,edit:l,children:s.jsx("div",{className:"p-1",children:s.jsx(ol,{methods:m,onSubmit:p(async e=>{var t,s,r;try{const o=l?null==or?void 0:or.api_updateUsageTypeApi:null==or?void 0:or.api_PostUsageTypeApi,m=l?{...e,id:n}:e,x=await u.mutateAsync({api:o,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||`Usage type ${l?"updated":"added"} successfully`),a(!1),i&&i(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(xr(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(ul,{label:"Usage Type",name:"usage_type",placeholder:"Enter usage type name"}),s.jsx(ul,{label:"Usage Code",name:"usage_code",placeholder:"Enter usage code"})]}),s.jsx($l,{className:"opacity-50"}),s.jsx(ml,{isLoading:h,type:"submit",className:"h-10 w-full rounded-xl bg-primary text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:l?"Update Usage Type":"Submit"})]})})})})}function Sn(){var t,a;const r=m(),[l,i]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,b]=e.useState(null),v=Gr({key:"api_getUsageTypeApiList",api:or.api_getUsageTypeApiList,options:{enabled:!0}}),j=Qr({}),y=(null==(a=null==(t=null==v?void 0:v.data)?void 0:t.data)?void 0:a.filter(e=>{var t,s;return(null==(t=null==e?void 0:e.usage_type)?void 0:t.toLowerCase().includes(o.toLowerCase()))||(null==(s=null==e?void 0:e.usage_code)?void 0:s.toLowerCase().includes(o.toLowerCase()))}))||[],N=l*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(Yr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Wa,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Usage Type Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Types Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search usage type or code...",value:o,onChange:e=>{u(e.target.value),i(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(Wa,{type:"button",onClick:()=>{g(!1),b(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New"]})]})]})}),s.jsxs(el,{className:"p-0",children:[v.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(nl,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading usage types..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(tl,{children:[s.jsx(sl,{children:s.jsxs(rl,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(ll,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(ll,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Usage Code"}),s.jsx(ll,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Usage Type"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(al,{children:s.jsx(I,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(il,{className:"py-4",children:s.jsx("span",{className:"rounded bg-primary/10 px-2 py-1 text-xs font-bold text-primary",children:e.usage_code})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 min-w-[40px] items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(Ae,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"max-w-md font-bold leading-tight text-foreground",children:null==e?void 0:e.usage_type}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(il,{className:"py-4 text-center",children:s.jsxs("span",{className:La("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(U,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Suspended"]})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>{b(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>(e=>{zr("Delete Usage Type",`Are you sure you want to delete "${e.usage_type}"?`,async()=>{var t,s,a;try{const r=await j.mutateAsync({api:or.api_deleteUsageTypeApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),v.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(xr(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(wl,{checked:1===e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:1===e.is_suspended?0:1},l=await j.mutateAsync({api:or.api_deleteUsageTypeApi,data:r});(null==(t=null==l?void 0:l.data)?void 0:t.status)?(c.success((null==(s=null==l?void 0:l.data)?void 0:s.message)||"Status updated successfully"),v.refetch()):c.error((null==(a=null==l?void 0:l.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(xr(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(dl,{currentPage:l,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{i(e)},onItemsPerPageChange:e=>{d(e),i(1)}})})]}),!v.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Ae,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No usage types found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No usage types have been added yet."}),!o&&s.jsxs(Wa,{className:"mt-6",onClick:()=>{g(!1),b(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Type"]})]})]})]}),s.jsx(_n,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:v.refetch})]})})}function An(){return s.jsx(Zr,{title:"Manage Usage Type Master Here.",children:s.jsx(Sn,{})})}const Cn=ja().shape({building_type:ya().required("Building type name is required")});function Ln({open:t,setOpen:a,title:r,edit:l,setEdit:i,id:n,refetch:d,editData:o}){const u=Qr({}),m=w({defaultValues:{building_type:""},resolver:k(Cn)}),{reset:x,handleSubmit:p,formState:{isSubmitting:h}}=m;e.useEffect(()=>{t&&x(l&&o?{building_type:o.building_type||""}:{building_type:""})},[t,l,o,x]);return s.jsx(Vl,{open:t,setOpen:a,title:r||(l?"Edit Building Type":"Add Building Type"),setEdit:i,edit:l,children:s.jsx("div",{className:"p-1",children:s.jsx(ol,{methods:m,onSubmit:p(async e=>{var t,s,r;try{const o=l?null==or?void 0:or.api_updateGbBuildingApi:null==or?void 0:or.api_PostGbBuildingApi,m=l?{...e,id:n}:e,x=await u.mutateAsync({api:o,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||`Building type ${l?"updated":"added"} successfully`),a(!1),i&&i(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(xr(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsx("div",{className:"space-y-4",children:s.jsx(ul,{label:"Building Type Name",name:"building_type",placeholder:"Enter building type name"})}),s.jsx($l,{className:"opacity-50"}),s.jsx(ml,{isLoading:h,type:"submit",className:"h-10 w-full rounded-xl bg-primary text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:l?"Update Building Type":"Submit"})]})})})})}function In(){var t,a;const r=m(),[l,i]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,b]=e.useState(null),v=Gr({key:"api_getGbBuildingApiList",api:or.api_getGbBuildingApiList,options:{enabled:!0}}),j=Qr({}),y=(null==(a=null==(t=null==v?void 0:v.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=null==e?void 0:e.building_type)?void 0:t.toLowerCase().includes(o.toLowerCase())}))||[],N=l*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(Yr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Wa,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Gb Building Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Types Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search building type...",value:o,onChange:e=>{u(e.target.value),i(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(Wa,{type:"button",onClick:()=>{g(!1),b(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New"]})]})]})}),s.jsxs(el,{className:"p-0",children:[v.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(nl,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading building types..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(tl,{children:[s.jsx(sl,{children:s.jsxs(rl,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(ll,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(ll,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Building Type"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(al,{children:s.jsx(I,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(Q,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.building_type}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(il,{className:"py-4 text-center",children:s.jsxs("span",{className:La("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(U,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Suspended"]})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>{b(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>(e=>{zr("Delete Building Type",`Are you sure you want to delete "${e.building_type}"?`,async()=>{var t,s,a;try{const r=await j.mutateAsync({api:or.api_deleteGbBuildingApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),v.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(xr(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(wl,{checked:1===e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:1===e.is_suspended?0:1},l=await j.mutateAsync({api:or.api_deleteGbBuildingApi,data:r});(null==(t=null==l?void 0:l.data)?void 0:t.status)?(c.success((null==(s=null==l?void 0:l.data)?void 0:s.message)||"Status updated successfully"),v.refetch()):c.error((null==(a=null==l?void 0:l.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(xr(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(dl,{currentPage:l,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{i(e)},onItemsPerPageChange:e=>{d(e),i(1)}})})]}),!v.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Q,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No building types found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No building types have been added yet."}),!o&&s.jsxs(Wa,{className:"mt-6",onClick:()=>{g(!1),b(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Type"]})]})]})]}),s.jsx(Ln,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:v.refetch})]})})}function Pn(){return s.jsx(Zr,{title:"Manage Gb Building Master Here.",children:s.jsx(In,{})})}const Rn=ja().shape({occupancy_type:ya().required("Occupancy type name is required")});function Dn({open:t,setOpen:a,title:r,edit:l,setEdit:i,id:n,refetch:d,editData:o}){const u=Qr({}),m=w({defaultValues:{occupancy_type:""},resolver:k(Rn)}),{reset:x,handleSubmit:p,formState:{isSubmitting:h}}=m;e.useEffect(()=>{t&&x(l&&o?{occupancy_type:o.occupancy_type||""}:{occupancy_type:""})},[t,l,o,x]);return s.jsx(Vl,{open:t,setOpen:a,title:r||(l?"Edit Occupancy Type":"Add Occupancy Type"),setEdit:i,edit:l,children:s.jsx("div",{className:"p-1",children:s.jsx(ol,{methods:m,onSubmit:p(async e=>{var t,s,r;try{const o=l?null==or?void 0:or.api_updateOccupancyApi:null==or?void 0:or.api_PostOccupancyApi,m=l?{...e,id:n}:e,x=await u.mutateAsync({api:o,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||`Occupancy type ${l?"updated":"added"} successfully`),a(!1),i&&i(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(xr(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsx("div",{className:"space-y-4",children:s.jsx(ul,{label:"Occupancy Type Name",name:"occupancy_type",placeholder:"Enter occupancy type name"})}),s.jsx($l,{className:"opacity-50"}),s.jsx(ml,{isLoading:h,type:"submit",className:"h-10 w-full rounded-xl bg-primary text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:l?"Update Occupancy Type":"Submit"})]})})})})}function En(){var t,a;const r=m(),[l,i]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,b]=e.useState(null),v=Gr({key:"api_getOccupancyApiList",api:or.api_getOccupancyApiList,options:{enabled:!0}}),j=Qr({}),y=(null==(a=null==(t=null==v?void 0:v.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=null==e?void 0:e.occupancy_type)?void 0:t.toLowerCase().includes(o.toLowerCase())}))||[],N=l*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(Yr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Wa,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Occupancy Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Types Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search occupancy type...",value:o,onChange:e=>{u(e.target.value),i(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(Wa,{type:"button",onClick:()=>{g(!1),b(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New"]})]})]})}),s.jsxs(el,{className:"p-0",children:[v.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(nl,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading occupancy types..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(tl,{children:[s.jsx(sl,{children:s.jsxs(rl,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(ll,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(ll,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Occupancy Type"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(al,{children:s.jsx(I,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(Ce,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.occupancy_type}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(il,{className:"py-4 text-center",children:s.jsxs("span",{className:La("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(U,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Suspended"]})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>{b(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>(e=>{zr("Delete Occupancy Type",`Are you sure you want to delete "${e.occupancy_type}"?`,async()=>{var t,s,a;try{const r=await j.mutateAsync({api:or.api_deleteOccupancyApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),v.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(xr(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(wl,{checked:1===e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:1===e.is_suspended?0:1},l=await j.mutateAsync({api:or.api_deleteOccupancyApi,data:r});(null==(t=null==l?void 0:l.data)?void 0:t.status)?(c.success((null==(s=null==l?void 0:l.data)?void 0:s.message)||"Status updated successfully"),v.refetch()):c.error((null==(a=null==l?void 0:l.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(xr(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(dl,{currentPage:l,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{i(e)},onItemsPerPageChange:e=>{d(e),i(1)}})})]}),!v.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Ce,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No occupancy types found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No occupancy types have been added yet."}),!o&&s.jsxs(Wa,{className:"mt-6",onClick:()=>{g(!1),b(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Type"]})]})]})]}),s.jsx(Dn,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:v.refetch})]})})}function Mn(){return s.jsx(Zr,{title:"Manage Occupancy Master Here.",children:s.jsx(En,{})})}const Tn=ja().shape({property_type:ya().required("Property type name is required")});function zn({open:t,setOpen:a,title:r,edit:l,setEdit:i,id:n,refetch:d,editData:o}){const u=Qr({}),m=w({defaultValues:{property_type:""},resolver:k(Tn)}),{reset:x,handleSubmit:p,formState:{isSubmitting:h}}=m;e.useEffect(()=>{t&&x(l&&o?{property_type:o.property_type||""}:{property_type:""})},[t,l,o,x]);return s.jsx(Vl,{open:t,setOpen:a,title:r||(l?"Edit Property Type":"Add Property Type"),setEdit:i,edit:l,children:s.jsx("div",{className:"p-1",children:s.jsx(ol,{methods:m,onSubmit:p(async e=>{var t,s,r;try{const o=l?null==or?void 0:or.api_updatePropertyApi:null==or?void 0:or.api_PostPropertyApi,m=l?{...e,id:n}:e,x=await u.mutateAsync({api:o,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||`Property type ${l?"updated":"added"} successfully`),a(!1),i&&i(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(xr(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsx("div",{className:"space-y-4",children:s.jsx(ul,{label:"Property Type Name",name:"property_type",placeholder:"Enter property type name"})}),s.jsx($l,{className:"opacity-50"}),s.jsx(ml,{isLoading:h,type:"submit",className:"h-10 w-full rounded-xl bg-primary text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:l?"Update Property Type":"Submit"})]})})})})}function Fn(){var t,a;const r=m(),[l,i]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,b]=e.useState(null),v=Gr({key:"api_getPropertyApiList",api:or.api_getPropertyApiList,options:{enabled:!0}}),j=Qr({}),y=(null==(a=null==(t=null==v?void 0:v.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=null==e?void 0:e.property_type)?void 0:t.toLowerCase().includes(o.toLowerCase())}))||[],N=l*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(Yr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Wa,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Property Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Types Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search property type...",value:o,onChange:e=>{u(e.target.value),i(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(Wa,{type:"button",onClick:()=>{g(!1),b(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New"]})]})]})}),s.jsxs(el,{className:"p-0",children:[v.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(nl,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading property types..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(tl,{children:[s.jsx(sl,{children:s.jsxs(rl,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(ll,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(ll,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Property Type"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(al,{children:s.jsx(I,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(Le,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.property_type}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(il,{className:"py-4 text-center",children:s.jsxs("span",{className:La("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(U,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Suspended"]})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>{b(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>(e=>{zr("Delete Property Type",`Are you sure you want to delete "${e.property_type}"?`,async()=>{var t,s,a;try{const r=await j.mutateAsync({api:or.api_deletePropertyApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),v.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(xr(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(wl,{checked:1===e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:1===e.is_suspended?0:1},l=await j.mutateAsync({api:or.api_deletePropertyApi,data:r});(null==(t=null==l?void 0:l.data)?void 0:t.status)?(c.success((null==(s=null==l?void 0:l.data)?void 0:s.message)||"Status updated successfully"),v.refetch()):c.error((null==(a=null==l?void 0:l.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(xr(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(dl,{currentPage:l,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{i(e)},onItemsPerPageChange:e=>{d(e),i(1)}})})]}),!v.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Le,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No property types found"}),s.jsx("p",{className:"max-max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No property types have been added yet."}),!o&&s.jsxs(Wa,{className:"mt-6",onClick:()=>{g(!1),b(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Type"]})]})]})]}),s.jsx(zn,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:v.refetch})]})})}function Un(){return s.jsx(Zr,{title:"Manage Property Master Here.",children:s.jsx(Fn,{})})}const Bn=ja().shape({prop_usage_type:ya().required("Usage type name is required")});function On({open:t,setOpen:a,title:r,edit:l,setEdit:i,id:n,refetch:d,editData:o}){const u=Qr({}),m=w({defaultValues:{prop_usage_type:""},resolver:k(Bn)}),{reset:x,handleSubmit:p,formState:{isSubmitting:h}}=m;e.useEffect(()=>{t&&x(l&&o?{prop_usage_type:o.prop_usage_type||""}:{prop_usage_type:""})},[t,l,o,x]);return s.jsx(Vl,{open:t,setOpen:a,title:r||(l?"Edit Gb Usage Type":"Add Gb Usage Type"),setEdit:i,edit:l,children:s.jsx("div",{className:"p-1",children:s.jsx(ol,{methods:m,onSubmit:p(async e=>{var t,s,r;try{const o=l?null==or?void 0:or.api_updateGbpropusageApi:null==or?void 0:or.api_PostGbpropusageApi,m=l?{...e,id:n}:e,x=await u.mutateAsync({api:o,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||`Usage type ${l?"updated":"added"} successfully`),a(!1),i&&i(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(xr(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsx("div",{className:"space-y-4",children:s.jsx(ul,{label:"Usage Type Name",name:"prop_usage_type",placeholder:"Enter usage type name"})}),s.jsx($l,{className:"opacity-50"}),s.jsx(ml,{isLoading:h,type:"submit",className:"h-10 w-full rounded-xl bg-primary text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:l?"Update Usage Type":"Submit"})]})})})})}function qn(){var t,a;const r=m(),[l,i]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,b]=e.useState(null),v=Gr({key:"api_getGbpropusageApiList",api:or.api_getGbpropusageApiList,options:{enabled:!0}}),j=Qr({}),y=(null==(a=null==(t=null==v?void 0:v.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=null==e?void 0:e.prop_usage_type)?void 0:t.toLowerCase().includes(o.toLowerCase())}))||[],N=l*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(Yr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Wa,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Gb Usage Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Types Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search usage type...",value:o,onChange:e=>{u(e.target.value),i(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(Wa,{type:"button",onClick:()=>{g(!1),b(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New"]})]})]})}),s.jsxs(el,{className:"p-0",children:[v.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(nl,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading usage types..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(tl,{children:[s.jsx(sl,{children:s.jsxs(rl,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(ll,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(ll,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Gb Usage Type"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(al,{children:s.jsx(I,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(Ie,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.prop_usage_type}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(il,{className:"py-4 text-center",children:s.jsxs("span",{className:La("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(U,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Suspended"]})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>{b(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>(e=>{zr("Delete Gb Usage Type",`Are you sure you want to delete "${e.prop_usage_type}"?`,async()=>{var t,s,a;try{const r=await j.mutateAsync({api:or.api_deleteGbpropusageApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),v.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(xr(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(wl,{checked:1===e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:1===e.is_suspended?0:1},l=await j.mutateAsync({api:or.api_deleteGbpropusageApi,data:r});(null==(t=null==l?void 0:l.data)?void 0:t.status)?(c.success((null==(s=null==l?void 0:l.data)?void 0:s.message)||"Status updated successfully"),v.refetch()):c.error((null==(a=null==l?void 0:l.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(xr(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(dl,{currentPage:l,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{i(e)},onItemsPerPageChange:e=>{d(e),i(1)}})})]}),!v.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Ie,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No usage types found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No usage types have been added yet."}),!o&&s.jsxs(Wa,{className:"mt-6",onClick:()=>{g(!1),b(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Type"]})]})]})]}),s.jsx(On,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:v.refetch})]})})}function Wn(){return s.jsx(Zr,{title:"Manage Gb Usage Master Here.",children:s.jsx(qn,{})})}const $n=ja().shape({occupancy_name:ya().required("Occupancy name is required"),mult_factor:ya().required("Multiplication factor is required").matches(/^[0-9.]+$/,"Only numbers and decimals are allowed")});function Vn({open:t,setOpen:a,title:r,edit:l,setEdit:i,id:n,refetch:d,editData:o}){const u=Qr({}),m=w({defaultValues:{occupancy_name:"",mult_factor:""},resolver:k($n)}),{reset:x,handleSubmit:p,formState:{isSubmitting:h}}=m;e.useEffect(()=>{t&&x(l&&o?{occupancy_name:o.occupancy_name||"",mult_factor:o.mult_factor||""}:{occupancy_name:"",mult_factor:""})},[t,l,o,x]);return s.jsx(Vl,{open:t,setOpen:a,title:r||(l?"Edit Occupancy Factor":"Add Occupancy Factor"),setEdit:i,edit:l,children:s.jsx("div",{className:"p-1",children:s.jsx(ol,{methods:m,onSubmit:p(async e=>{var t,s,r;try{const o=l?null==or?void 0:or.api_updatePropOccupancyFactorApi:null==or?void 0:or.api_PostPropOccupancyFactorApi,m=l?{...e,id:n}:e,x=await u.mutateAsync({api:o,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||`Occupancy factor ${l?"updated":"added"} successfully`),a(!1),i&&i(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(xr(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(ul,{label:"Occupancy Name",name:"occupancy_name",placeholder:"Enter occupancy name"}),s.jsx(ul,{label:"Multiplication Factor (e.g. 1.50)",name:"mult_factor",placeholder:"Enter multiplication factor"})]}),s.jsx($l,{className:"opacity-50"}),s.jsx(ml,{isLoading:h,type:"submit",className:"h-10 w-full rounded-xl bg-primary text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:l?"Update Occupancy Factor":"Submit"})]})})})})}function Hn(){var t,a;const r=m(),[l,i]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,b]=e.useState(null),v=Gr({key:"api_getPropOccupancyFactorApiList",api:or.api_getPropOccupancyFactorApiList,options:{enabled:!0}}),j=Qr({}),y=(null==(a=null==(t=null==v?void 0:v.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=null==e?void 0:e.occupancy_name)?void 0:t.toLowerCase().includes(o.toLowerCase())}))||[],N=l*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(Yr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Wa,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Occupancy Factor Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Factors Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search occupancy factor...",value:o,onChange:e=>{u(e.target.value),i(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(Wa,{type:"button",onClick:()=>{g(!1),b(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New"]})]})]})}),s.jsxs(el,{className:"p-0",children:[v.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(nl,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading occupancy factors..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(tl,{children:[s.jsx(sl,{children:s.jsxs(rl,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(ll,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(ll,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Occupancy Name"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Factor"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(al,{children:s.jsx(I,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 min-w-[40px] items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(Pe,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.occupancy_name}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(il,{className:"py-4 text-center",children:s.jsx("span",{className:"rounded bg-orange-100 px-2 py-1 text-xs font-bold text-orange-600",children:e.mult_factor})}),s.jsx(il,{className:"py-4 text-center",children:s.jsxs("span",{className:La("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(U,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Suspended"]})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>{b(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>(e=>{zr("Delete Occupancy Factor",`Are you sure you want to delete "${e.occupancy_name}"?`,async()=>{var t,s,a;try{const r=await j.mutateAsync({api:or.api_deletePropOccupancyFactorApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),v.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(xr(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(wl,{checked:1===e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:1===e.is_suspended?0:1},l=await j.mutateAsync({api:or.api_deletePropOccupancyFactorApi,data:r});(null==(t=null==l?void 0:l.data)?void 0:t.status)?(c.success((null==(s=null==l?void 0:l.data)?void 0:s.message)||"Status updated successfully"),v.refetch()):c.error((null==(a=null==l?void 0:l.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(xr(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(dl,{currentPage:l,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{i(e)},onItemsPerPageChange:e=>{d(e),i(1)}})})]}),!v.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Pe,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No occupancy factors found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No factors have been added yet."}),!o&&s.jsxs(Wa,{className:"mt-6",onClick:()=>{g(!1),b(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Factor"]})]})]})]}),s.jsx(Vn,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:v.refetch})]})})}function Zn(){return s.jsx(Zr,{title:"Manage Occupancy Factor Here.",children:s.jsx(Hn,{})})}const Gn=ja().shape({zone:ya().required("Zone name is required"),ulb_id:ya().required("ULB is required")});function Qn({open:t,setOpen:a,title:r,edit:l,setEdit:i,id:n,refetch:d,editData:o}){var u,m,x,p;const h=Qr({}),g=Gr({key:"api_getUlbList_ZoneForm",api:or.api_getAllUlb,options:{enabled:t}}),f=w({defaultValues:{zone:"",ulb_id:""},resolver:k(Gn)}),{reset:b,handleSubmit:v,formState:{isSubmitting:j}}=f;e.useEffect(()=>{t&&b(l&&o?{zone:o.zone||"",ulb_id:o.ulb_id?String(o.ulb_id):""}:{zone:"",ulb_id:""})},[t,l,o,b]);const y=(null==(m=null==(u=null==g?void 0:g.data)?void 0:u.data)?void 0:m.length)>0&&(null==(p=null==(x=null==g?void 0:g.data)?void 0:x.data)?void 0:p.map(e=>({label:e.ulb_name,value:String(e.id)})))||[];return s.jsx(Vl,{open:t,setOpen:a,title:r||(l?"Edit Zone":"Add Zone"),setEdit:i,edit:l,children:s.jsx("div",{className:"p-1",children:s.jsx(ol,{methods:f,onSubmit:v(async e=>{var t,s,r;try{const o=l?null==or?void 0:or.api_updateZoneApi:null==or?void 0:or.api_PostZoneApi,u=l?{...e,id:n,ulb_id:Number(e.ulb_id)}:{...e,ulb_id:Number(e.ulb_id)},m=await h.mutateAsync({api:o,data:u});(null==(t=null==m?void 0:m.data)?void 0:t.status)?(c.success((null==(s=null==m?void 0:m.data)?void 0:s.message)||`Zone ${l?"updated":"added"} successfully`),a(!1),i&&i(!1),d&&d()):c.error((null==(r=null==m?void 0:m.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(xr(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(ul,{label:"Zone Name",name:"zone",placeholder:"Enter zone name"}),s.jsx(yl,{label:"Select ULB",name:"ulb_id",data:y})]}),s.jsx($l,{className:"opacity-50"}),s.jsx(ml,{isLoading:j,type:"submit",className:"h-10 w-full rounded-xl bg-primary text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:l?"Update Zone":"Submit"})]})})})})}function Kn(){var t,a;const r=m(),[l,i]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,b]=e.useState(null),v=Gr({key:"api_getZoneList",api:or.zone_list_Api,options:{enabled:!0}}),j=Qr({}),y=(null==(a=null==(t=null==v?void 0:v.data)?void 0:t.data)?void 0:a.filter(e=>{var t,s;return(null==(t=null==e?void 0:e.zone)?void 0:t.toLowerCase().includes(o.toLowerCase()))||(null==(s=null==e?void 0:e.ulb_name)?void 0:s.toLowerCase().includes(o.toLowerCase()))}))||[],N=l*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(Yr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Wa,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Zone Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Zones Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search zone or ULB...",value:o,onChange:e=>{u(e.target.value),i(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(Wa,{type:"button",onClick:()=>{g(!1),b(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New"]})]})]})}),s.jsxs(el,{className:"p-0",children:[v.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(nl,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading zones..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(tl,{children:[s.jsx(sl,{children:s.jsxs(rl,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(ll,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(ll,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Zone Name"}),s.jsx(ll,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"ULB Name"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(al,{children:s.jsx(I,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 min-w-[40px] items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(Z,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.zone}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(il,{className:"py-4 font-medium text-muted-foreground",children:null==e?void 0:e.ulb_name}),s.jsx(il,{className:"py-4 text-center",children:s.jsxs("span",{className:La("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(U,{className:"h-3 w-3"}),e.is_suspended?"Active":"Suspended"]})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>{b(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>(e=>{zr("Delete Zone",`Are you sure you want to delete "${e.zone}"?`,async()=>{var t,s,a;try{const r=await j.mutateAsync({api:or.api_deleteZoneApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),v.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(xr(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(wl,{checked:e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:!e.is_suspended},l=await j.mutateAsync({api:or.api_deleteZoneApi,data:r});(null==(t=null==l?void 0:l.data)?void 0:t.status)?(c.success((null==(s=null==l?void 0:l.data)?void 0:s.message)||"Status updated successfully"),v.refetch()):c.error((null==(a=null==l?void 0:l.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(xr(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(dl,{currentPage:l,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{i(e)},onItemsPerPageChange:e=>{d(e),i(1)}})})]}),!v.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Z,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No zones found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No zones have been added yet."}),!o&&s.jsxs(Wa,{className:"mt-6",onClick:()=>{g(!1),b(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Zone"]})]})]})]}),s.jsx(Qn,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:v.refetch})]})})}function Yn(){return s.jsx(Zr,{title:"Manage Zone Master Here.",children:s.jsx(Kn,{})})}const Jn=ja().shape({city_name:ya().required("City name is required")});function Xn({open:t,setOpen:a,title:r,edit:l,setEdit:i,id:n,refetch:d,editData:o}){const u=Qr({}),m=w({defaultValues:{city_name:""},resolver:k(Jn)}),{reset:x,handleSubmit:p,formState:{isSubmitting:h}}=m;e.useEffect(()=>{t&&x(l&&o?{city_name:o.city_name||""}:{city_name:""})},[t,l,o,x]);return s.jsx(Vl,{open:t,setOpen:a,title:r||(l?"Edit City":"Add City"),setEdit:i,edit:l,children:s.jsx("div",{className:"p-1",children:s.jsx(ol,{methods:m,onSubmit:p(async e=>{var t,s,r;try{const o=l?null==or?void 0:or.api_updateCityApi:null==or?void 0:or.api_PostCityApi,m=l?{...e,id:n}:e,x=await u.mutateAsync({api:o,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||`City ${l?"updated":"added"} successfully`),a(!1),i&&i(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(xr(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsx("div",{className:"space-y-4",children:s.jsx(ul,{label:"City Name",name:"city_name",placeholder:"Enter city name"})}),s.jsx($l,{className:"opacity-50"}),s.jsx(ml,{isLoading:h,type:"submit",className:"h-10 w-full rounded-xl bg-primary text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:l?"Update City":"Submit"})]})})})})}function ed(){var t,a;const r=m(),[l,i]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,b]=e.useState(null),v=Gr({key:"api_getCityApiList",api:or.api_getCityApiList,options:{enabled:!0}}),j=Qr({}),y=(null==(a=null==(t=null==v?void 0:v.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=null==e?void 0:e.city_name)?void 0:t.toLowerCase().includes(o.toLowerCase())}))||[],N=l*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(Yr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Wa,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"City Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Cities Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search city name...",value:o,onChange:e=>{u(e.target.value),i(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(Wa,{type:"button",onClick:()=>{g(!1),b(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New"]})]})]})}),s.jsxs(el,{className:"p-0",children:[v.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(nl,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading cities..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(tl,{children:[s.jsx(sl,{children:s.jsxs(rl,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(ll,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(ll,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"City Name"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(al,{children:s.jsx(I,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 min-w-[40px] items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(Le,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.city_name}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(il,{className:"py-4 text-center",children:s.jsxs("span",{className:La("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(U,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Suspended"]})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>{b(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>(e=>{zr("Delete City",`Are you sure you want to delete "${e.city_name}"?`,async()=>{var t,s,a;try{const r=await j.mutateAsync({api:or.api_deleteCityApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),v.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(xr(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(wl,{checked:1===e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:1===e.is_suspended?0:1},l=await j.mutateAsync({api:or.api_deleteCityApi,data:r});(null==(t=null==l?void 0:l.data)?void 0:t.status)?(c.success((null==(s=null==l?void 0:l.data)?void 0:s.message)||"Status updated successfully"),v.refetch()):c.error((null==(a=null==l?void 0:l.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(xr(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(dl,{currentPage:l,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{i(e)},onItemsPerPageChange:e=>{d(e),i(1)}})})]}),!v.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Le,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No cities found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No cities have been added yet."}),!o&&s.jsxs(Wa,{className:"mt-6",onClick:()=>{g(!1),b(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New City"]})]})]})]}),s.jsx(Xn,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:v.refetch})]})})}function td(){return s.jsx(Zr,{title:"Manage City Master Here.",children:s.jsx(ed,{})})}const sd=ja().shape({property_type:ya().required("Property type name is required")});function ad({open:t,setOpen:a,title:r,edit:l,setEdit:i,id:n,refetch:d,editData:o}){const u=Qr({}),m=w({defaultValues:{property_type:""},resolver:k(sd)}),{reset:x,handleSubmit:p,formState:{isSubmitting:h}}=m;e.useEffect(()=>{t&&x(l&&o?{property_type:o.property_type||""}:{property_type:""})},[t,l,o,x]);return s.jsx(Vl,{open:t,setOpen:a,title:r||(l?"Edit Water Property Type":"Add Water Property Type"),setEdit:i,edit:l,children:s.jsx("div",{className:"p-1",children:s.jsx(ol,{methods:m,onSubmit:p(async e=>{var t,s,r;try{const o=l?null==or?void 0:or.api_updateWaterTypeApi:null==or?void 0:or.api_PostWaterTypeApi,m=l?{...e,id:n}:e,x=await u.mutateAsync({api:o,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||`Property type ${l?"updated":"added"} successfully`),a(!1),i&&i(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(xr(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsx("div",{className:"space-y-4",children:s.jsx(ul,{label:"Property Type Name",name:"property_type",placeholder:"Enter property type name"})}),s.jsx($l,{className:"opacity-50"}),s.jsx(ml,{isLoading:h,type:"submit",className:"h-10 w-full rounded-xl bg-primary text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:l?"Update Property Type":"Submit"})]})})})})}function rd(){var t,a;const r=m(),[l,i]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,b]=e.useState(null),v=Gr({key:"api_getWaterTypeApiList",api:or.api_getWaterTypeApiList,options:{enabled:!0}}),j=Qr({}),y=(null==(a=null==(t=null==v?void 0:v.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=null==e?void 0:e.property_type)?void 0:t.toLowerCase().includes(o.toLowerCase())}))||[],N=l*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(Yr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Wa,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Water Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Types Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search property type...",value:o,onChange:e=>{u(e.target.value),i(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(Wa,{type:"button",onClick:()=>{g(!1),b(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New"]})]})]})}),s.jsxs(el,{className:"p-0",children:[v.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(nl,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading property types..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(tl,{children:[s.jsx(sl,{children:s.jsxs(rl,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(ll,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(ll,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Property Type"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(al,{children:s.jsx(I,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 min-w-[40px] items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(Re,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.property_type}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(il,{className:"py-4 text-center",children:s.jsxs("span",{className:La("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(U,{className:"h-3 w-3"}),e.is_suspended?"Active":"Suspended"]})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>{b(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>(e=>{zr("Delete Water Property Type",`Are you sure you want to delete "${e.property_type}"?`,async()=>{var t,s,a;try{const r=await j.mutateAsync({api:or.api_deleteWaterTypeApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),v.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(xr(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(wl,{checked:e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:!e.is_suspended},l=await j.mutateAsync({api:or.api_deleteWaterTypeApi,data:r});(null==(t=null==l?void 0:l.data)?void 0:t.status)?(c.success((null==(s=null==l?void 0:l.data)?void 0:s.message)||"Status updated successfully"),v.refetch()):c.error((null==(a=null==l?void 0:l.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(xr(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(dl,{currentPage:l,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{i(e)},onItemsPerPageChange:e=>{d(e),i(1)}})})]}),!v.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Re,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No property types found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No property types have been added yet."}),!o&&s.jsxs(Wa,{className:"mt-6",onClick:()=>{g(!1),b(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Type"]})]})]})]}),s.jsx(ad,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:v.refetch})]})})}function ld(){return s.jsx(Zr,{title:"Manage Water Type Master Here.",children:s.jsx(rd,{})})}const id=ja().shape({road_type:ya().required("Road type name is required")});function nd({open:t,setOpen:a,title:r,edit:l,setEdit:i,id:n,refetch:d,editData:o}){const u=Qr({}),m=w({defaultValues:{road_type:""},resolver:k(id)}),{reset:x,handleSubmit:p,formState:{isSubmitting:h}}=m;e.useEffect(()=>{t&&x(l&&o?{road_type:o.road_type||""}:{road_type:""})},[t,l,o,x]);return s.jsx(Vl,{open:t,setOpen:a,title:r||(l?"Edit Road Type":"Add Road Type"),setEdit:i,edit:l,children:s.jsx("div",{className:"p-1",children:s.jsx(ol,{methods:m,onSubmit:p(async e=>{var t,s,r;try{const o=l?null==or?void 0:or.api_updateRoadApi:null==or?void 0:or.api_PostRoadApi,m=l?{...e,id:n}:e,x=await u.mutateAsync({api:o,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||`Road type ${l?"updated":"added"} successfully`),a(!1),i&&i(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(xr(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsx("div",{className:"space-y-4",children:s.jsx(ul,{label:"Road Type Name",name:"road_type",placeholder:"Enter road type name"})}),s.jsx($l,{className:"opacity-50"}),s.jsx(ml,{isLoading:h,type:"submit",className:"h-10 w-full rounded-xl bg-primary text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:l?"Update Road Type":"Submit"})]})})})})}function dd(){var t,a;const r=m(),[l,i]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,b]=e.useState(null),v=Gr({key:"api_getRoadApiList",api:or.api_getRoadApiList,options:{enabled:!0}}),j=Qr({}),y=(null==(a=null==(t=null==v?void 0:v.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=null==e?void 0:e.road_type)?void 0:t.toLowerCase().includes(o.toLowerCase())}))||[],N=l*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(Yr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Wa,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Road Type Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Types Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search road type...",value:o,onChange:e=>{u(e.target.value),i(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(Wa,{type:"button",onClick:()=>{g(!1),b(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New"]})]})]})}),s.jsxs(el,{className:"p-0",children:[v.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(nl,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading road types..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(tl,{children:[s.jsx(sl,{children:s.jsxs(rl,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(ll,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(ll,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Road Type"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(al,{children:s.jsx(I,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 min-w-[40px] items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(De,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.road_type}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(il,{className:"py-4 text-center",children:s.jsxs("span",{className:La("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(U,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Suspended"]})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>{b(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>(e=>{zr("Delete Road Type",`Are you sure you want to delete "${e.road_type}"?`,async()=>{var t,s,a;try{const r=await j.mutateAsync({api:or.api_deleteRoadApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),v.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(xr(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(wl,{checked:1===e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:1===e.is_suspended?0:1},l=await j.mutateAsync({api:or.api_deleteRoadApi,data:r});(null==(t=null==l?void 0:l.data)?void 0:t.status)?(c.success((null==(s=null==l?void 0:l.data)?void 0:s.message)||"Status updated successfully"),v.refetch()):c.error((null==(a=null==l?void 0:l.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(xr(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(dl,{currentPage:l,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{i(e)},onItemsPerPageChange:e=>{d(e),i(1)}})})]}),!v.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(De,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No road types found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No road types have been added yet."}),!o&&s.jsxs(Wa,{className:"mt-6",onClick:()=>{g(!1),b(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Type"]})]})]})]}),s.jsx(nd,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:v.refetch})]})})}function od(){return s.jsx(Zr,{title:"Manage Road Type Master Here.",children:s.jsx(dd,{})})}const cd=ja().shape({ownership_type:ya().required("Ownership type name is required")});function ud({open:t,setOpen:a,title:r,edit:l,setEdit:i,id:n,refetch:d,editData:o}){const u=Qr({}),m=w({defaultValues:{ownership_type:""},resolver:k(cd)}),{reset:x,handleSubmit:p,formState:{isSubmitting:h}}=m;e.useEffect(()=>{t&&x(l&&o?{ownership_type:o.ownership_type||""}:{ownership_type:""})},[t,l,o,x]);return s.jsx(Vl,{open:t,setOpen:a,title:r||(l?"Edit Ownership Type":"Add Ownership Type"),setEdit:i,edit:l,children:s.jsx("div",{className:"p-1",children:s.jsx(ol,{methods:m,onSubmit:p(async e=>{var t,s,r;try{const o=l?null==or?void 0:or.api_updateOwnershipApi:null==or?void 0:or.api_PostOwnershipApi,m=l?{...e,id:n}:e,x=await u.mutateAsync({api:o,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||`Ownership type ${l?"updated":"added"} successfully`),a(!1),i&&i(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(xr(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsx("div",{className:"space-y-4",children:s.jsx(ul,{label:"Ownership Type Name",name:"ownership_type",placeholder:"Enter ownership type name"})}),s.jsx($l,{className:"opacity-50"}),s.jsx(ml,{isLoading:h,type:"submit",className:"h-10 w-full rounded-xl bg-primary text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:l?"Update Ownership Type":"Submit"})]})})})})}function md(){var t,a;const r=m(),[l,i]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,b]=e.useState(null),v=Gr({key:"api_getOwnershipApiList",api:or.api_getOwnershipApiList,options:{enabled:!0}}),j=Qr({}),y=(null==(a=null==(t=null==v?void 0:v.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=null==e?void 0:e.ownership_type)?void 0:t.toLowerCase().includes(o.toLowerCase())}))||[],N=l*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(Yr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Wa,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Ownership Type Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Types Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search ownership type...",value:o,onChange:e=>{u(e.target.value),i(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(Wa,{type:"button",onClick:()=>{g(!1),b(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New"]})]})]})}),s.jsxs(el,{className:"p-0",children:[v.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(nl,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading ownership types..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(tl,{children:[s.jsx(sl,{children:s.jsxs(rl,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(ll,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(ll,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Ownership Type"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(al,{children:s.jsx(I,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 min-w-[40px] items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(V,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.ownership_type}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(il,{className:"py-4 text-center",children:s.jsxs("span",{className:La("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(U,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Suspended"]})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>{b(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>(e=>{zr("Delete Ownership Type",`Are you sure you want to delete "${e.ownership_type}"?`,async()=>{var t,s,a;try{const r=await j.mutateAsync({api:or.api_deleteOwnershipApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),v.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(xr(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(wl,{checked:1===e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:1===e.is_suspended?0:1},l=await j.mutateAsync({api:or.api_deleteOwnershipApi,data:r});(null==(t=null==l?void 0:l.data)?void 0:t.status)?(c.success((null==(s=null==l?void 0:l.data)?void 0:s.message)||"Status updated successfully"),v.refetch()):c.error((null==(a=null==l?void 0:l.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(xr(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(dl,{currentPage:l,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{i(e)},onItemsPerPageChange:e=>{d(e),i(1)}})})]}),!v.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(V,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No ownership types found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No ownership types have been added yet."}),!o&&s.jsxs(Wa,{className:"mt-6",onClick:()=>{g(!1),b(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Type"]})]})]})]}),s.jsx(ud,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:v.refetch})]})})}function xd(){return s.jsx(Zr,{title:"Manage Ownership Type Master Here.",children:s.jsx(md,{})})}const pd=ja().shape({transfer_mode:ya().required("Transfer mode name is required")});function hd({open:t,setOpen:a,title:r,edit:l,setEdit:i,id:n,refetch:d,editData:o}){const u=Qr({}),m=w({defaultValues:{transfer_mode:""},resolver:k(pd)}),{reset:x,handleSubmit:p,formState:{isSubmitting:h}}=m;e.useEffect(()=>{t&&x(l&&o?{transfer_mode:o.transfer_mode||""}:{transfer_mode:""})},[t,l,o,x]);return s.jsx(Vl,{open:t,setOpen:a,title:r||(l?"Edit Transfer Mode":"Add Transfer Mode"),setEdit:i,edit:l,children:s.jsx("div",{className:"p-1",children:s.jsx(ol,{methods:m,onSubmit:p(async e=>{var t,s,r;try{const o=l?null==or?void 0:or.api_updateTransferModeApi:null==or?void 0:or.api_PostTransferModeApi,m=l?{...e,id:n}:e,x=await u.mutateAsync({api:o,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||`Transfer mode ${l?"updated":"added"} successfully`),a(!1),i&&i(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(xr(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsx("div",{className:"space-y-4",children:s.jsx(ul,{label:"Transfer Mode Name",name:"transfer_mode",placeholder:"Enter transfer mode name"})}),s.jsx($l,{className:"opacity-50"}),s.jsx(ml,{isLoading:h,type:"submit",className:"h-10 w-full rounded-xl bg-primary text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:l?"Update Transfer Mode":"Submit"})]})})})})}function gd(){var t,a;const r=m(),[l,i]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,b]=e.useState(null),v=Gr({key:"api_getTransferModeApiList",api:or.api_getTransferModeApiList,options:{enabled:!0}}),j=Qr({}),y=(null==(a=null==(t=null==v?void 0:v.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=null==e?void 0:e.transfer_mode)?void 0:t.toLowerCase().includes(o.toLowerCase())}))||[],N=l*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(Yr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Wa,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Transfer Mode Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Modes Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search transfer mode...",value:o,onChange:e=>{u(e.target.value),i(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(Wa,{type:"button",onClick:()=>{g(!1),b(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New"]})]})]})}),s.jsxs(el,{className:"p-0",children:[v.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(nl,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading transfer modes..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(tl,{children:[s.jsx(sl,{children:s.jsxs(rl,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(ll,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(ll,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Transfer Mode"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(al,{children:s.jsx(I,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 min-w-[40px] items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(Ee,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.transfer_mode}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(il,{className:"py-4 text-center",children:s.jsxs("span",{className:La("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(U,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Suspended"]})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>{b(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>(e=>{zr("Delete Transfer Mode",`Are you sure you want to delete "${e.transfer_mode}"?`,async()=>{var t,s,a;try{const r=await j.mutateAsync({api:or.api_deleteTransferModeApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),v.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(xr(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(wl,{checked:1===e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:1===e.is_suspended?0:1},l=await j.mutateAsync({api:or.api_deleteTransferModeApi,data:r});(null==(t=null==l?void 0:l.data)?void 0:t.status)?(c.success((null==(s=null==l?void 0:l.data)?void 0:s.message)||"Status updated successfully"),v.refetch()):c.error((null==(a=null==l?void 0:l.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(xr(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(dl,{currentPage:l,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{i(e)},onItemsPerPageChange:e=>{d(e),i(1)}})})]}),!v.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Ee,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No transfer modes found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No transfer modes have been added yet."}),!o&&s.jsxs(Wa,{className:"mt-6",onClick:()=>{g(!1),b(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Mode"]})]})]})]}),s.jsx(hd,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:v.refetch})]})})}function fd(){return s.jsx(Zr,{title:"Transfer Mode Master",children:s.jsx(gd,{})})}const bd=ja().shape({rebate_type:ya().required("Rebate type name is required")});function vd({open:t,setOpen:a,title:r,edit:l,setEdit:i,id:n,refetch:d,editData:o}){const u=Qr({}),m=w({defaultValues:{rebate_type:""},resolver:k(bd)}),{reset:x,handleSubmit:p,formState:{isSubmitting:h}}=m;e.useEffect(()=>{t&&x(l&&o?{rebate_type:o.rebate_type||""}:{rebate_type:""})},[t,l,o,x]);return s.jsx(Vl,{open:t,setOpen:a,title:r||(l?"Edit Rebate Type":"Add Rebate Type"),setEdit:i,edit:l,children:s.jsx("div",{className:"p-1",children:s.jsx(ol,{methods:m,onSubmit:p(async e=>{var t,s,r;try{const o=l?null==or?void 0:or.api_updateRebateTypeApi:null==or?void 0:or.api_PostRebateTypeApi,m=l?{...e,id:n}:e,x=await u.mutateAsync({api:o,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||`Rebate type ${l?"updated":"added"} successfully`),a(!1),i&&i(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(xr(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsx("div",{className:"space-y-4",children:s.jsx(ul,{label:"Rebate Type Name",name:"rebate_type",placeholder:"Enter rebate type name"})}),s.jsx($l,{className:"opacity-50"}),s.jsx(ml,{isLoading:h,type:"submit",className:"h-10 w-full rounded-xl bg-primary text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:l?"Update Rebate Type":"Submit"})]})})})})}function jd(){var t,a;const r=m(),[l,i]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,b]=e.useState(null),v=Gr({key:"api_getRebateTypeApiList",api:or.api_getRebateTypeApiList,options:{enabled:!0}}),j=Qr({}),y=(null==(a=null==(t=null==v?void 0:v.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=null==e?void 0:e.rebate_type)?void 0:t.toLowerCase().includes(o.toLowerCase())}))||[],N=l*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(Yr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Wa,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Rebate Type Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Types Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search rebate type...",value:o,onChange:e=>{u(e.target.value),i(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(Wa,{type:"button",onClick:()=>{g(!1),b(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New"]})]})]})}),s.jsxs(el,{className:"p-0",children:[v.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(nl,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading rebate types..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(tl,{children:[s.jsx(sl,{children:s.jsxs(rl,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(ll,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(ll,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Rebate Type"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(al,{children:s.jsx(I,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 min-w-[40px] items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(Pe,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.rebate_type}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(il,{className:"py-4 text-center",children:s.jsxs("span",{className:La("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(U,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Suspended"]})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>{b(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>(e=>{zr("Delete Rebate Type",`Are you sure you want to delete "${e.rebate_type}"?`,async()=>{var t,s,a;try{const r=await j.mutateAsync({api:or.api_deleteRebateTypeApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),v.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(xr(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(wl,{checked:1===e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:1===e.is_suspended?0:1},l=await j.mutateAsync({api:or.api_deleteRebateTypeApi,data:r});(null==(t=null==l?void 0:l.data)?void 0:t.status)?(c.success((null==(s=null==l?void 0:l.data)?void 0:s.message)||"Status updated successfully"),v.refetch()):c.error((null==(a=null==l?void 0:l.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(xr(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(dl,{currentPage:l,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{i(e)},onItemsPerPageChange:e=>{d(e),i(1)}})})]}),!v.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Pe,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No rebate types found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No rebate types have been added yet."}),!o&&s.jsxs(Wa,{className:"mt-6",onClick:()=>{g(!1),b(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Type"]})]})]})]}),s.jsx(vd,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:v.refetch})]})})}function yd(){return s.jsx(Zr,{title:"Rebate Type Master",children:s.jsx(jd,{})})}const Nd=ja().shape({penalty_type:ya().required("Penalty type name is required")});function wd({open:t,setOpen:a,title:r,edit:l,setEdit:i,id:n,refetch:d,editData:o}){const u=Qr({}),m=w({defaultValues:{penalty_type:""},resolver:k(Nd)}),{reset:x,handleSubmit:p,formState:{isSubmitting:h}}=m;e.useEffect(()=>{t&&x(l&&o?{penalty_type:o.penalty_type||""}:{penalty_type:""})},[t,l,o,x]);return s.jsx(Vl,{open:t,setOpen:a,title:r||(l?"Edit Penalty Type":"Add Penalty Type"),setEdit:i,edit:l,children:s.jsx("div",{className:"p-1",children:s.jsx(ol,{methods:m,onSubmit:p(async e=>{var t,s,r;try{const o=l?null==or?void 0:or.api_updatePenaltyTypeApi:null==or?void 0:or.api_PostPenaltyTypeApi,m=l?{...e,id:n}:e,x=await u.mutateAsync({api:o,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||`Penalty type ${l?"updated":"added"} successfully`),a(!1),i&&i(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(xr(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsx("div",{className:"space-y-4",children:s.jsx(ul,{label:"Penalty Type Name",name:"penalty_type",placeholder:"Enter penalty type name"})}),s.jsx($l,{className:"opacity-50"}),s.jsx(ml,{isLoading:h,type:"submit",className:"h-10 w-full rounded-xl bg-primary text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:l?"Update Penalty Type":"Submit"})]})})})})}function kd(){var t,a;const r=m(),[l,i]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,b]=e.useState(null),v=Gr({key:"api_getPenaltyTypeApiList",api:or.api_getPenaltyTypeApiList,options:{enabled:!0}}),j=Qr({}),y=(null==(a=null==(t=null==v?void 0:v.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=null==e?void 0:e.penalty_type)?void 0:t.toLowerCase().includes(o.toLowerCase())}))||[],N=l*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(Yr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Wa,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Penalty Type Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Types Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search penalty type...",value:o,onChange:e=>{u(e.target.value),i(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(Wa,{type:"button",onClick:()=>{g(!1),b(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New"]})]})]})}),s.jsxs(el,{className:"p-0",children:[v.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(nl,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading penalty types..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(tl,{children:[s.jsx(sl,{children:s.jsxs(rl,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(ll,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(ll,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Penalty Type"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(al,{children:s.jsx(I,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 min-w-[40px] items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(Me,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.penalty_type}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(il,{className:"py-4 text-center",children:s.jsxs("span",{className:La("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(U,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Suspended"]})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>{b(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>(e=>{zr("Delete Penalty Type",`Are you sure you want to delete "${e.penalty_type}"?`,async()=>{var t,s,a;try{const r=await j.mutateAsync({api:or.api_deletePenaltyTypeApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),v.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(xr(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(wl,{checked:1===e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:1===e.is_suspended?0:1},l=await j.mutateAsync({api:or.api_deletePenaltyTypeApi,data:r});(null==(t=null==l?void 0:l.data)?void 0:t.status)?(c.success((null==(s=null==l?void 0:l.data)?void 0:s.message)||"Status updated successfully"),v.refetch()):c.error((null==(a=null==l?void 0:l.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(xr(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(dl,{currentPage:l,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{i(e)},onItemsPerPageChange:e=>{d(e),i(1)}})})]}),!v.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Me,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No penalty types found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No penalty types have been added yet."}),!o&&s.jsxs(Wa,{className:"mt-6",onClick:()=>{g(!1),b(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Type"]})]})]})]}),s.jsx(wd,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:v.refetch})]})})}function _d(){return s.jsx(Zr,{title:"Penalty Type Master",children:s.jsx(kd,{})})}const Sd=ja().shape({type:ya().required("Forgery type name is required")});function Ad({open:t,setOpen:a,title:r,edit:l,setEdit:i,id:n,refetch:d,editData:o}){const u=Qr({}),m=w({defaultValues:{type:""},resolver:k(Sd)}),{reset:x,handleSubmit:p,formState:{isSubmitting:h}}=m;e.useEffect(()=>{t&&x(l&&o?{type:o.type||""}:{type:""})},[t,l,o,x]);return s.jsx(Vl,{open:t,setOpen:a,title:r||(l?"Edit Forgery Type":"Add Forgery Type"),setEdit:i,edit:l,children:s.jsx("div",{className:"p-1",children:s.jsx(ol,{methods:m,onSubmit:p(async e=>{var t,s,r;try{const o=l?null==or?void 0:or.api_updateForgeryTypeApi:null==or?void 0:or.api_PostForgeryTypeApi,m=l?{...e,id:n}:e,x=await u.mutateAsync({api:o,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||`Forgery type ${l?"updated":"added"} successfully`),a(!1),i&&i(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(xr(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsx("div",{className:"space-y-4",children:s.jsx(ul,{label:"Forgery Type Name",name:"type",placeholder:"Enter forgery type name"})}),s.jsx($l,{className:"opacity-50"}),s.jsx(ml,{isLoading:h,type:"submit",className:"h-10 w-full rounded-xl bg-primary text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:l?"Update Forgery Type":"Submit"})]})})})})}function Cd(){var t,a;const r=m(),[l,i]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,b]=e.useState(null),v=Gr({key:"api_getForgeryTypeApiList",api:or.api_getForgeryTypeApiList,options:{enabled:!0}}),j=Qr({}),y=(null==(a=null==(t=null==v?void 0:v.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=null==e?void 0:e.type)?void 0:t.toLowerCase().includes(o.toLowerCase())}))||[],N=l*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(Yr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Wa,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Forgery Type Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Types Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search forgery type...",value:o,onChange:e=>{u(e.target.value),i(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(Wa,{type:"button",onClick:()=>{g(!1),b(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New"]})]})]})}),s.jsxs(el,{className:"p-0",children:[v.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(nl,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading forgery types..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(tl,{children:[s.jsx(sl,{children:s.jsxs(rl,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(ll,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(ll,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Forgery Type"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(al,{children:s.jsx(I,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 min-w-[40px] items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(Te,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"max-w-md font-bold leading-tight text-foreground",children:null==e?void 0:e.type}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(il,{className:"py-4 text-center",children:s.jsxs("span",{className:La("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",e.is_suspended?"border-red-500/20 bg-red-500/10 text-red-500":"border-green-500/20 bg-green-500/10 text-green-500"),children:[e.is_suspended?s.jsx(U,{className:"h-3 w-3"}):s.jsx(B,{className:"h-3 w-3"}),e.is_suspended?"Suspended":"Active"]})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>{b(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>(e=>{zr("Delete Forgery Type",`Are you sure you want to delete "${e.type}"?`,async()=>{var t,s,a;try{const r=await j.mutateAsync({api:or.api_deleteForgeryTypeApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),v.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(xr(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(wl,{checked:!e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:!e.is_suspended},l=await j.mutateAsync({api:or.api_deleteForgeryTypeApi,data:r});(null==(t=null==l?void 0:l.data)?void 0:t.status)?(c.success((null==(s=null==l?void 0:l.data)?void 0:s.message)||"Status updated successfully"),v.refetch()):c.error((null==(a=null==l?void 0:l.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(xr(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(dl,{currentPage:l,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{i(e)},onItemsPerPageChange:e=>{d(e),i(1)}})})]}),!v.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Te,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No forgery types found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No forgery types have been added yet."}),!o&&s.jsxs(Wa,{className:"mt-6",onClick:()=>{g(!1),b(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Type"]})]})]})]}),s.jsx(Ad,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:v.refetch})]})})}function Ld(){return s.jsx(Zr,{title:"Forgery Type Master",children:s.jsx(Cd,{})})}const Id=ja().shape({district_code:ya().required("District code is required"),district_name:ya().required("District name is required")});function Pd({open:t,setOpen:a,title:r,edit:l,setEdit:i,id:n,refetch:d,editData:o}){const u=Qr({}),m=w({defaultValues:{district_code:"",district_name:""},resolver:k(Id)}),{reset:x,handleSubmit:p,formState:{isSubmitting:h}}=m;e.useEffect(()=>{t&&x(l&&o?{district_code:o.district_code||"",district_name:o.district_name||""}:{district_code:"",district_name:""})},[t,l,o,x]);return s.jsx(Vl,{open:t,setOpen:a,title:r||(l?"Edit District":"Add District"),setEdit:i,edit:l,children:s.jsx("div",{className:"p-1",children:s.jsx(ol,{methods:m,onSubmit:p(async e=>{var t,s,r;try{const o=l?null==or?void 0:or.api_updateDistrictApi:null==or?void 0:or.api_PostDistrictApi,m=l?{...e,id:n}:e,x=await u.mutateAsync({api:o,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||`District ${l?"updated":"added"} successfully`),a(!1),i&&i(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(xr(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(ul,{label:"District Code",name:"district_code",placeholder:"Enter district code"}),s.jsx(ul,{label:"District Name",name:"district_name",placeholder:"Enter district name"})]}),s.jsx($l,{className:"opacity-50"}),s.jsx(ml,{isLoading:h,type:"submit",className:"h-10 w-full rounded-xl bg-primary text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:l?"Update District":"Submit"})]})})})})}function Rd(){var t,a;const r=m(),[l,i]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,b]=e.useState(null),v=Gr({key:"api_getDistrictApiList",api:or.api_getDistrictApiList,options:{enabled:!0}}),j=Qr({}),y=(null==(a=null==(t=null==v?void 0:v.data)?void 0:t.data)?void 0:a.filter(e=>{var t,s;return(null==(t=null==e?void 0:e.district_name)?void 0:t.toLowerCase().includes(o.toLowerCase()))||(null==(s=null==e?void 0:e.district_code)?void 0:s.toLowerCase().includes(o.toLowerCase()))}))||[],N=l*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(Yr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Wa,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"District Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Districts Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search district name or code...",value:o,onChange:e=>{u(e.target.value),i(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(Wa,{type:"button",onClick:()=>{g(!1),b(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New"]})]})]})}),s.jsxs(el,{className:"p-0",children:[v.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(nl,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading districts..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(tl,{children:[s.jsx(sl,{children:s.jsxs(rl,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(ll,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(ll,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"District Code"}),s.jsx(ll,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"District Name"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(al,{children:s.jsx(I,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(il,{className:"py-4",children:s.jsx("div",{className:"font-semibold text-primary",children:null==e?void 0:e.district_code})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 min-w-[40px] items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(Z,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.district_name}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(il,{className:"py-4 text-center",children:s.jsxs("span",{className:La("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",e.is_suspended?"border-red-500/20 bg-red-500/10 text-red-500":"border-green-500/20 bg-green-500/10 text-green-500"),children:[e.is_suspended?s.jsx(U,{className:"h-3 w-3"}):s.jsx(B,{className:"h-3 w-3"}),e.is_suspended?"Suspended":"Active"]})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>{b(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>(e=>{zr("Delete District",`Are you sure you want to delete "${e.district_name}"?`,async()=>{var t,s,a;try{const r=await j.mutateAsync({api:or.api_deleteDistrictApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),v.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(xr(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(wl,{checked:!e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:!e.is_suspended},l=await j.mutateAsync({api:or.api_deleteDistrictApi,data:r});(null==(t=null==l?void 0:l.data)?void 0:t.status)?(c.success((null==(s=null==l?void 0:l.data)?void 0:s.message)||"Status updated successfully"),v.refetch()):c.error((null==(a=null==l?void 0:l.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(xr(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(dl,{currentPage:l,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{i(e)},onItemsPerPageChange:e=>{d(e),i(1)}})})]}),!v.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Z,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No districts found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No districts have been added yet."}),!o&&s.jsxs(Wa,{className:"mt-6",onClick:()=>{g(!1),b(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New District"]})]})]})]}),s.jsx(Pd,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:v.refetch})]})})}function Dd(){return s.jsx(Zr,{title:"District Master",children:s.jsx(Rd,{})})}function Ed(){var t,a;const r=m(),[l,i]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,b]=e.useState(null),v=Gr({key:"api_getCapitalValuesRateApiList",api:or.api_getCapitalValuesRateApiList,options:{enabled:!0}}),j=Qr({}),y=(null==(a=null==(t=null==v?void 0:v.data)?void 0:t.data)?void 0:a.filter(e=>{var t,s,a;return(null==(t=null==e?void 0:e.property_type)?void 0:t.toLowerCase().includes(o.toLowerCase()))||(null==(s=null==e?void 0:e.usage_type)?void 0:s.toLowerCase().includes(o.toLowerCase()))||(null==(a=null==e?void 0:e.ward_no)?void 0:a.toString().includes(o))}))||[],N=l*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(Yr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Wa,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Capital Value Rate Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Rate Policies"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search property, usage or ward...",value:o,onChange:e=>{u(e.target.value),i(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(Wa,{type:"button",onClick:()=>{g(!1),b(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New Rate"]})]})]})}),s.jsxs(el,{className:"p-0",children:[v.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(nl,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading rate list..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(tl,{children:[s.jsx(sl,{children:s.jsxs(rl,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(ll,{className:"w-16 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(ll,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Property & Usage Details"}),s.jsx(ll,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Location/Road"}),s.jsx(ll,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Rate Info"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(al,{children:s.jsx(I,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 min-w-[40px] items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(Ie,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.property_type}),s.jsx("div",{className:"mt-1 flex gap-1",children:s.jsx(wi,{variant:"outline",className:"bg-background text-[10px] font-bold uppercase",children:null==e?void 0:e.usage_type})})]})]})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"text-[10px] font-semibold uppercase text-muted-foreground",children:"Ward:"}),s.jsx("span",{className:"font-bold text-foreground",children:null==e?void 0:e.ward_no})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"text-[10px] font-semibold uppercase text-muted-foreground",children:"Road ID:"}),s.jsx("span",{className:"font-medium text-foreground",children:null==e?void 0:e.road_type_mstr_id})]})]})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"font-bold text-primary",children:["",null==e?void 0:e.rate]}),s.jsx("span",{className:"text-[10px] text-muted-foreground",children:"(Rate)"})]}),s.jsxs("div",{className:"text-[10px] font-semibold text-muted-foreground",children:["Effective: ",null==e?void 0:e.effect_from]})]})}),s.jsx(il,{className:"py-4 text-center",children:s.jsxs("span",{className:La("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(U,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Suspended"]})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>{b(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>(e=>{zr("Delete Rate Policy",`Are you sure you want to delete this rate entry for "${e.property_type}"?`,async()=>{var t,s,a;try{const r=await j.mutateAsync({api:or.api_deleteCapitalValuesRateApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),v.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(xr(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(wl,{checked:1===e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:1===e.is_suspended?0:1},l=await j.mutateAsync({api:or.api_deleteCapitalValuesRateApi,data:r});(null==(t=null==l?void 0:l.data)?void 0:t.status)?(c.success((null==(s=null==l?void 0:l.data)?void 0:s.message)||"Status updated successfully"),v.refetch()):c.error((null==(a=null==l?void 0:l.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(xr(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(dl,{currentPage:l,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{i(e)},onItemsPerPageChange:e=>{d(e),i(1)}})})]}),!v.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Ie,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No rate policies found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No capital value rate policies have been configured yet."}),!o&&s.jsxs(Wa,{className:"mt-6",onClick:()=>{g(!1),b(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Configure New Rate"]})]})]})]})})})}function Md(){return s.jsx(Zr,{title:"Capital Value Rate Master",children:s.jsx(Ed,{})})}const Td=ja().shape({x:ya().required("Rental cost (X) is required").matches(/^\d+(\.\d{1,2})?$/,"Enter a valid cost (e.g. 144.00)"),ulb_id:wa().typeError("ULB is required").required("ULB is required"),effective_date:ya().required("Effective date is required")});function zd({open:t,setOpen:a,title:r,edit:l,setEdit:i,id:n,refetch:d,editData:o}){var u,m;const x=Gr({key:"api_getUlbList",api:or.api_getUlbList,options:{}}),p=w({defaultValues:{x:"",ulb_id:void 0,effective_date:""},resolver:k(Td)}),{reset:h,handleSubmit:g,formState:{isSubmitting:f}}=p;e.useEffect(()=>{t&&h(l&&o?{x:o.x||"",ulb_id:o.ulb_id,effective_date:o.effective_date||""}:{x:"",ulb_id:void 0,effective_date:(new Date).toISOString().split("T")[0]})},[t,l,o,h]);const b=(null==(m=null==(u=null==x?void 0:x.data)?void 0:u.data)?void 0:m.map(e=>({value:e.id.toString(),label:e.ulb_name})))||[];return s.jsx(Vl,{open:t,setOpen:a,title:r||(l?"Edit Rental Cost":"Add Rental Cost"),setEdit:i,edit:l,children:s.jsx("div",{className:"p-1",children:s.jsx(ol,{methods:p,onSubmit:g(async e=>{c.success(`UI Only: Building rental cost ${l?"updated":"added"} successfully (API disabled)`),a(!1),i&&i(!1),d&&d()}),children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"flex items-center gap-2 border-b pb-2 text-sm font-bold uppercase tracking-wider text-muted-foreground",children:[s.jsx(ze,{className:"text-primary"})," Cost Details"]}),s.jsx(ul,{label:"Rental Cost (X)",name:"x",placeholder:"e.g. 144.00"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"flex items-center gap-2 border-b pb-2 text-sm font-bold uppercase tracking-wider text-muted-foreground",children:[s.jsx(Q,{className:"text-primary"})," Administration"]}),s.jsx(yl,{label:"ULB",name:"ulb_id",data:b}),s.jsx(ul,{label:"Effective Date",name:"effective_date",type:"date"})]})]}),s.jsx($l,{className:"opacity-50"}),s.jsx("div",{className:"flex items-center justify-end gap-3",children:s.jsx(ml,{isLoading:f,type:"submit",className:"h-11 rounded-xl bg-primary px-10 text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:l?"Update Cost Policy":"Save Cost Entry"})})]})})})})}function Fd(){var t,a;const r=m(),[l,i]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,b]=e.useState(null),v=Gr({key:"api_getBuildingRentalCostApiList",api:or.api_getBuildingRentalCostApiList,options:{enabled:!0}}),j=(null==(a=null==(t=null==v?void 0:v.data)?void 0:t.data)?void 0:a.filter(e=>{var t,s;return(null==(t=null==e?void 0:e.ulb_id)?void 0:t.toString().includes(o))||(null==(s=null==e?void 0:e.x)?void 0:s.toString().includes(o))}))||[],y=l*n,N=y-n,w=j.slice(N,y);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(Yr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Wa,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Building Rental Cost Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[j.length," Entries"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search by cost or ULB ID...",value:o,onChange:e=>{u(e.target.value),i(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(Wa,{type:"button",onClick:()=>{g(!1),b(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New Entry"]})]})]})}),s.jsxs(el,{className:"p-0",children:[v.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(nl,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading cost list..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(tl,{children:[s.jsx(sl,{children:s.jsxs(rl,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(ll,{className:"w-16 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(ll,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Rental Cost (X)"}),s.jsx(ll,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"ULB ID"}),s.jsx(ll,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Effective Date"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(al,{children:s.jsx(I,{children:w.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:N+t+1})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 min-w-[40px] items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(Fe,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{className:"text-base font-bold text-primary",children:["",null==e?void 0:e.x]})]})}),s.jsx(il,{className:"py-4 text-sm font-medium",children:s.jsxs(wi,{variant:"secondary",className:"rounded-md",children:["ULB #",null==e?void 0:e.ulb_id]})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(X,{className:"h-3 w-3"}),null==e?void 0:e.effective_date]})}),s.jsx(il,{className:"py-4 text-center",children:s.jsxs("span",{className:La("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(U,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Suspended"]})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>{b(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>{zr("Delete Cost Entry","Are you sure you want to delete this cost entry? (UI Only)",async()=>{c.success("UI Only: Deleted successfully (API disabled)"),v.refetch()})},className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(wl,{checked:1===e.is_suspended,onCheckedChange:()=>(c.success("UI Only: Status toggled (API disabled)"),void v.refetch())})})})]},e.id))})})]}),j.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(dl,{currentPage:l,totalItems:j.length,itemsPerPage:n,onPageChange:e=>{i(e)},onItemsPerPageChange:e=>{d(e),i(1)}})})]}),!v.isLoading&&0===j.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Fe,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No cost entries found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No building rental cost entries have been configured yet."}),!o&&s.jsxs(Wa,{className:"mt-6",onClick:()=>{g(!1),b(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add Entry"]})]})]})]}),s.jsx(zd,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:v.refetch})]})})}function Ud(){return s.jsx(Zr,{title:"Building Rental Cost Master",children:s.jsx(Fd,{})})}const Bd=ja().shape({usage_types_id:wa().typeError("Usage type is required").required("Usage type is required"),zone_id:wa().typeError("Zone is required").required("Zone is required"),construction_types_id:wa().typeError("Construction type is required").required("Construction type is required"),rate:ya().required("Rate is required").matches(/^\d+(\.\d{1,2})?$/,"Enter a valid rate (e.g. 1.60)"),ulb_id:wa().typeError("ULB is required").required("ULB is required")});function Od({open:t,setOpen:a,title:r,edit:l,setEdit:i,id:n,refetch:d,editData:o}){var u,m,x,p,h,g,f,b;const v=Gr({key:"api_getUsageTypeApiList",api:or.api_getUsageTypeApiList,options:{}}),j=Gr({key:"zone_list_Api",api:or.zone_list_Api,options:{}}),y=Gr({key:"api_getConstructionApiList",api:or.api_getConstructionApiList,options:{}}),N=Gr({key:"api_getUlbList",api:or.api_getUlbList,options:{}}),_=w({defaultValues:{usage_types_id:void 0,zone_id:void 0,construction_types_id:void 0,rate:"",ulb_id:void 0},resolver:k(Bd)}),{reset:S,handleSubmit:A,formState:{isSubmitting:C}}=_;e.useEffect(()=>{t&&S(l&&o?{usage_types_id:o.usage_types_id,zone_id:o.zone_id,construction_types_id:o.construction_types_id,rate:o.rate||"",ulb_id:o.ulb_id}:{usage_types_id:void 0,zone_id:void 0,construction_types_id:void 0,rate:"",ulb_id:void 0})},[t,l,o,S]);const L=(null==(m=null==(u=null==v?void 0:v.data)?void 0:u.data)?void 0:m.map(e=>({value:e.id.toString(),label:e.usage_type})))||[],I=(null==(p=null==(x=null==j?void 0:j.data)?void 0:x.data)?void 0:p.map(e=>({value:e.id.toString(),label:e.zone_name})))||[],P=(null==(g=null==(h=null==y?void 0:y.data)?void 0:h.data)?void 0:g.map(e=>({value:e.id.toString(),label:e.construction_type})))||[],R=(null==(b=null==(f=null==N?void 0:N.data)?void 0:f.data)?void 0:b.map(e=>({value:e.id.toString(),label:e.ulb_name})))||[];return s.jsx(Vl,{open:t,setOpen:a,title:r||(l?"Edit Rental Value":"Add Rental Value"),setEdit:i,edit:l,children:s.jsx("div",{className:"p-1",children:s.jsx(ol,{methods:_,onSubmit:A(async e=>{c.success(`UI Only: Rental value ${l?"updated":"added"} successfully (API disabled)`),a(!1),i&&i(!1),d&&d()}),children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsx("div",{className:"max-h-[60vh] overflow-y-auto px-1",children:s.jsxs("div",{className:"grid grid-cols-1 gap-5 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"flex items-center gap-2 border-b pb-2 text-sm font-bold uppercase tracking-wider text-muted-foreground",children:[s.jsx(Ae,{className:"text-primary"})," Categorization"]}),s.jsx(yl,{label:"Usage Type",name:"usage_types_id",data:L}),s.jsx(yl,{label:"Construction Type",name:"construction_types_id",data:P})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"flex items-center gap-2 border-b pb-2 text-sm font-bold uppercase tracking-wider text-muted-foreground",children:[s.jsx(J,{className:"text-primary"})," Location & Value"]}),s.jsx(yl,{label:"Zone",name:"zone_id",data:I}),s.jsx(ul,{label:"Rental Rate (per sq ft)",name:"rate",placeholder:"0.00"})]}),s.jsxs("div",{className:"space-y-4 md:col-span-2",children:[s.jsxs("h4",{className:"flex items-center gap-2 border-b pb-2 text-sm font-bold uppercase tracking-wider text-muted-foreground",children:[s.jsx(Q,{className:"text-primary"})," Administrative"]}),s.jsx(yl,{label:"ULB",name:"ulb_id",data:R})]})]})}),s.jsx($l,{className:"opacity-50"}),s.jsx("div",{className:"flex items-center justify-end gap-3",children:s.jsx(ml,{isLoading:C,type:"submit",className:"h-11 rounded-xl bg-primary px-10 text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:l?"Update Rental Policy":"Save Rental Value"})})]})})})})}function qd(){var t,a;const r=m(),[l,i]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,b]=e.useState(null),v=Gr({key:"api_getRentalValuesApiList",api:or.api_getRentalValuesApiList,options:{enabled:!0}}),j=(null==(a=null==(t=null==v?void 0:v.data)?void 0:t.data)?void 0:a.filter(e=>{var t,s,a;return(null==(t=null==e?void 0:e.usage_types_id)?void 0:t.toString().includes(o))||(null==(s=null==e?void 0:e.zone_id)?void 0:s.toString().includes(o))||(null==(a=null==e?void 0:e.rate)?void 0:a.toString().includes(o))}))||[],y=l*n,N=y-n,w=j.slice(N,y);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(Yr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Wa,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Rental Value Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[j.length," Policy Entries"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search by ID or Rate...",value:o,onChange:e=>{u(e.target.value),i(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(Wa,{type:"button",onClick:()=>{g(!1),b(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New Policy"]})]})]})}),s.jsxs(el,{className:"p-0",children:[v.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(nl,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading rental policies..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(tl,{children:[s.jsx(sl,{children:s.jsxs(rl,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(ll,{className:"w-16 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(ll,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Categories (Usage/Construction)"}),s.jsx(ll,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Zone & ULB"}),s.jsx(ll,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Rental Rate"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(al,{children:s.jsx(I,{children:w.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:N+t+1})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 min-w-[40px] items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(Ue,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex gap-1",children:[s.jsxs(wi,{variant:"outline",className:"text-[10px] font-bold",children:["U: #",null==e?void 0:e.usage_types_id]}),s.jsxs(wi,{variant:"outline",className:"text-[10px] font-bold",children:["C: #",null==e?void 0:e.construction_types_id]})]}),s.jsxs("p",{className:"text-[10px] font-bold uppercase tracking-tight text-muted-foreground",children:["Policy ID: ",e.id]})]})]})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"flex items-center gap-2 text-sm",children:s.jsxs("span",{className:"font-bold text-foreground",children:["Zone ",null==e?void 0:e.zone_id]})}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["ULB ID: ",null==e?void 0:e.ulb_id]})]})}),s.jsxs(il,{className:"py-4",children:[s.jsxs("div",{className:"text-base font-bold text-primary",children:["",null==e?void 0:e.rate]}),s.jsx("p",{className:"text-[10px] text-muted-foreground",children:"per sq. ft."})]}),s.jsx(il,{className:"py-4 text-center",children:s.jsxs("span",{className:La("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(U,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Suspended"]})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>{b(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>{zr("Delete Rental Policy","Are you sure you want to delete this rental value entry?",async()=>{c.success("UI Only: Deleted successfully (API disabled)"),v.refetch()})},className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(wl,{checked:1===e.is_suspended,onCheckedChange:()=>(c.success("UI Only: Status toggled (API disabled)"),void v.refetch())})})})]},e.id))})})]}),j.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(dl,{currentPage:l,totalItems:j.length,itemsPerPage:n,onPageChange:e=>{i(e)},onItemsPerPageChange:e=>{d(e),i(1)}})})]}),!v.isLoading&&0===j.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Ue,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No rental policies found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No rental value policies have been configured yet."}),!o&&s.jsxs(Wa,{className:"mt-6",onClick:()=>{g(!1),b(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Policy"]})]})]})]}),s.jsx(Od,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:v.refetch})]})})}function Wd(){return s.jsx(Zr,{title:"Rental Value Master",children:s.jsx(qd,{})})}const $d=ja().shape({prop_road_typ_id:wa().typeError("Road type is required").required("Road type is required"),range_from_sqft:ya().required("Range from is required").matches(/^\d+(\.\d{1,2})?$/,"Enter a valid number"),range_upto_sqft:ya().nullable().transform(e=>""===e?null:e).test("is-valid-number","Enter a valid number",e=>!e||/^\d+(\.\d{1,2})?$/.test(e)),effective_date:ya().required("Effective date is required")});function Vd({open:t,setOpen:a,title:r,edit:l,setEdit:i,id:n,refetch:d,editData:o}){var u,m;const x=Gr({key:"api_getRoadApiList",api:or.api_getRoadApiList,options:{}}),p=w({defaultValues:{prop_road_typ_id:void 0,range_from_sqft:"",range_upto_sqft:null,effective_date:""},resolver:k($d)}),{reset:h,handleSubmit:g,formState:{isSubmitting:f}}=p;e.useEffect(()=>{t&&h(l&&o?{prop_road_typ_id:o.prop_road_typ_id,range_from_sqft:o.range_from_sqft||"",range_upto_sqft:o.range_upto_sqft||null,effective_date:o.effective_date||""}:{prop_road_typ_id:void 0,range_from_sqft:"",range_upto_sqft:null,effective_date:(new Date).toISOString().split("T")[0]})},[t,l,o,h]);const b=(null==(m=null==(u=null==x?void 0:x.data)?void 0:u.data)?void 0:m.map(e=>({value:e.id.toString(),label:e.road_type})))||[];return s.jsx(Vl,{open:t,setOpen:a,title:r||(l?"Edit Road Type Entry":"Add Road Type Entry"),setEdit:i,edit:l,children:s.jsx("div",{className:"p-1",children:s.jsx(ol,{methods:p,onSubmit:g(async e=>{c.success(`UI Only: Road type entry ${l?"updated":"added"} successfully (API disabled)`),a(!1),i&&i(!1),d&&d()}),children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-5 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-4 md:col-span-2",children:[s.jsxs("h4",{className:"flex items-center gap-2 border-b pb-2 text-sm font-bold uppercase tracking-wider text-muted-foreground",children:[s.jsx(De,{className:"text-primary"})," Road Classification"]}),s.jsx(yl,{label:"Select Road Type",name:"prop_road_typ_id",data:b})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"flex items-center gap-2 border-b pb-2 text-sm font-bold uppercase tracking-wider text-muted-foreground",children:[s.jsx(Be,{className:"text-primary"})," Measurement Range"]}),s.jsx(ul,{label:"Range From (sq. ft.)",name:"range_from_sqft",placeholder:"0.00"}),s.jsx(ul,{label:"Range Upto (sq. ft.)",name:"range_upto_sqft",placeholder:"Leave blank for no limit"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"flex items-center gap-2 border-b pb-2 text-sm font-bold uppercase tracking-wider text-muted-foreground",children:[s.jsx(X,{className:"text-primary"})," Validity"]}),s.jsx(ul,{label:"Effective Date",name:"effective_date",type:"date"})]})]}),s.jsx($l,{className:"opacity-50"}),s.jsx("div",{className:"flex items-center justify-end gap-3",children:s.jsx(ml,{isLoading:f,type:"submit",className:"h-11 rounded-xl bg-primary px-10 text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:l?"Update Entry":"Save Entry"})})]})})})})}function Hd(){var t,a;const r=m(),[l,i]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,b]=e.useState(null),v=Gr({key:"api_getRoadTypesApiList",api:or.api_getRoadTypesApiList,options:{enabled:!0}}),j=(null==(a=null==(t=null==v?void 0:v.data)?void 0:t.data)?void 0:a.filter(e=>{var t,s,a;return(null==(t=null==e?void 0:e.prop_road_typ_id)?void 0:t.toString().includes(o))||(null==(s=null==e?void 0:e.range_from_sqft)?void 0:s.toString().includes(o))||(null==(a=null==e?void 0:e.range_upto_sqft)?void 0:a.toString().includes(o))}))||[],y=l*n,N=y-n,w=j.slice(N,y);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(Yr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Wa,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Road Type List Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[j.length," Entries Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search by ID or Range...",value:o,onChange:e=>{u(e.target.value),i(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(Wa,{type:"button",onClick:()=>{g(!1),b(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New Entry"]})]})]})}),s.jsxs(el,{className:"p-0",children:[v.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(nl,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading road type list..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(tl,{children:[s.jsx(sl,{children:s.jsxs(rl,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(ll,{className:"w-16 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(ll,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Road Type ID"}),s.jsx(ll,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"SQFT Range"}),s.jsx(ll,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Effective Date"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(al,{children:s.jsx(I,{children:w.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:N+t+1})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 min-w-[40px] items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(De,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-bold leading-tight text-foreground",children:["Type ID: #",null==e?void 0:e.prop_road_typ_id]}),s.jsxs("p",{className:"text-[10px] font-bold uppercase text-muted-foreground",children:["Record #",e.id]})]})]})}),s.jsx(il,{className:"py-4",children:s.jsx("div",{className:"flex flex-wrap items-center gap-2",children:s.jsxs(wi,{variant:"secondary",className:"flex items-center gap-1.5 py-1",children:[s.jsx(Oe,{className:"h-3 w-3 opacity-70"}),e.range_from_sqft," -"," ",e.range_upto_sqft||""," SQFT"]})})}),s.jsx(il,{className:"py-4",children:s.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:null==e?void 0:e.effective_date})}),s.jsx(il,{className:"py-4 text-center",children:s.jsxs("span",{className:La("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(U,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Suspended"]})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>{b(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>{zr("Delete Entry","Are you sure you want to delete this road type entry?",async()=>{c.success("UI Only: Deleted successfully (API disabled)"),v.refetch()})},className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(wl,{checked:1===e.is_suspended,onCheckedChange:()=>(c.success("UI Only: Status toggled (API disabled)"),void v.refetch())})})})]},e.id))})})]}),j.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(dl,{currentPage:l,totalItems:j.length,itemsPerPage:n,onPageChange:e=>{i(e)},onItemsPerPageChange:e=>{d(e),i(1)}})})]}),!v.isLoading&&0===j.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(De,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No entries found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No road type list entries have been configured yet."}),!o&&s.jsxs(Wa,{className:"mt-6",onClick:()=>{g(!1),b(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add Entry"]})]})]})]}),s.jsx(Vd,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:v.refetch})]})})}function Zd(){return s.jsx(Zr,{title:"Road Type List Master",children:s.jsx(Hd,{})})}const Gd=ja().shape({prop_road_type_id:wa().typeError("Road type is required").required("Road type is required"),ulb_type_id:wa().typeError("ULB type is required").required("ULB type is required"),rate:ya().required("Rate is required").matches(/^\d+(\.\d{1,2})?$/,"Enter a valid rate (e.g. 2.50)"),effective_date:ya().required("Effective date is required")});function Qd({open:t,setOpen:a,title:r,edit:l,setEdit:i,id:n,refetch:d,editData:o}){var u,m;const x=Gr({key:"api_getRoadApiList",api:or.api_getRoadApiList,options:{}}),p=w({defaultValues:{prop_road_type_id:void 0,ulb_type_id:void 0,rate:"",effective_date:""},resolver:k(Gd)}),{reset:h,handleSubmit:g,formState:{isSubmitting:f}}=p;e.useEffect(()=>{t&&h(l&&o?{prop_road_type_id:o.prop_road_type_id,ulb_type_id:o.ulb_type_id,rate:o.rate||"",effective_date:o.effective_date||""}:{prop_road_type_id:void 0,ulb_type_id:void 0,rate:"",effective_date:(new Date).toISOString().split("T")[0]})},[t,l,o,h]);const b=(null==(m=null==(u=null==x?void 0:x.data)?void 0:u.data)?void 0:m.map(e=>({value:e.id.toString(),label:e.road_type})))||[];return s.jsx(Vl,{open:t,setOpen:a,title:r||(l?"Edit Vacant Rental Rate":"Add Vacant Rental Rate"),setEdit:i,edit:l,children:s.jsx("div",{className:"p-1",children:s.jsx(ol,{methods:p,onSubmit:g(async e=>{c.success(`UI Only: Vacant rental rate ${l?"updated":"added"} successfully (API disabled)`),a(!1),i&&i(!1),d&&d()}),children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-5 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-4 md:col-span-2",children:[s.jsxs("h4",{className:"flex items-center gap-2 border-b pb-2 text-sm font-bold uppercase tracking-wider text-muted-foreground",children:[s.jsx(Q,{className:"text-primary"})," ULB & Road Info"]}),s.jsxs("div",{className:"grid grid-cols-1 gap-5 md:grid-cols-2",children:[s.jsx(yl,{label:"ULB Type",name:"ulb_type_id",data:[{value:"1",label:"Municipal Corporation"},{value:"2",label:"Municipality"},{value:"3",label:"Nagar Panchayat"}]}),s.jsx(yl,{label:"Road Type",name:"prop_road_type_id",data:b})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"flex items-center gap-2 border-b pb-2 text-sm font-bold uppercase tracking-wider text-muted-foreground",children:[s.jsx(ze,{className:"text-primary"})," Rate Details"]}),s.jsx(ul,{label:"Rate (per sq. ft.)",name:"rate",placeholder:"0.00"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"flex items-center gap-2 border-b pb-2 text-sm font-bold uppercase tracking-wider text-muted-foreground",children:[s.jsx(X,{className:"text-primary"})," Validity"]}),s.jsx(ul,{label:"Effective Date",name:"effective_date",type:"date"})]})]}),s.jsx($l,{className:"opacity-50"}),s.jsx("div",{className:"flex items-center justify-end gap-3",children:s.jsx(ml,{isLoading:f,type:"submit",className:"h-11 rounded-xl bg-primary px-10 text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:l?"Update Rate Policy":"Save Rate Strategy"})})]})})})})}function Kd(){var t,a;const r=m(),[l,i]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,b]=e.useState(null),v=Gr({key:"api_getVacantRentalRatesApiList",api:or.api_getVacantRentalRatesApiList,options:{enabled:!0}}),j=(null==(a=null==(t=null==v?void 0:v.data)?void 0:t.data)?void 0:a.filter(e=>{var t,s,a;return(null==(t=null==e?void 0:e.prop_road_type_id)?void 0:t.toString().includes(o))||(null==(s=null==e?void 0:e.ulb_type_id)?void 0:s.toString().includes(o))||(null==(a=null==e?void 0:e.rate)?void 0:a.toString().includes(o))}))||[],y=l*n,N=y-n,w=j.slice(N,y);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(Yr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Wa,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Vacant Rental Rate Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[j.length," Specialized Rates"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search by ID or Rate...",value:o,onChange:e=>{u(e.target.value),i(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(Wa,{type:"button",onClick:()=>{g(!1),b(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New Rate"]})]})]})}),s.jsxs(el,{className:"p-0",children:[v.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(nl,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading specialized rates..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(tl,{children:[s.jsx(sl,{children:s.jsxs(rl,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(ll,{className:"w-16 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(ll,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Entities (Road / ULB Type)"}),s.jsx(ll,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Rental Rate"}),s.jsx(ll,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Effective Date"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(al,{children:s.jsx(I,{children:w.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:N+t+1})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 min-w-[40px] items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(qe,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"flex items-center gap-1.5",children:s.jsxs(wi,{variant:"outline",className:"text-[10px] font-bold",children:["Road ID: #",null==e?void 0:e.prop_road_type_id]})}),s.jsxs("div",{className:"text-[10px] font-bold uppercase text-muted-foreground",children:["ULB Type ID: ",null==e?void 0:e.ulb_type_id]})]})]})}),s.jsxs(il,{className:"py-4",children:[s.jsxs("div",{className:"text-base font-bold text-primary",children:["",null==e?void 0:e.rate]}),s.jsx("p",{className:"text-[10px] text-muted-foreground",children:"per sq. ft. / month"})]}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[s.jsx(X,{className:"h-3 w-3 opacity-70"}),null==e?void 0:e.effective_date]})}),s.jsx(il,{className:"py-4 text-center",children:s.jsxs("span",{className:La("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(U,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Suspended"]})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>{b(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>{zr("Delete Policy","Are you sure you want to delete this vacant rental rate entry?",async()=>{c.success("UI Only: Deleted successfully (API disabled)"),v.refetch()})},className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(wl,{checked:1===e.is_suspended,onCheckedChange:()=>(c.success("UI Only: Status toggled (API disabled)"),void v.refetch())})})})]},e.id))})})]}),j.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(dl,{currentPage:l,totalItems:j.length,itemsPerPage:n,onPageChange:e=>{i(e)},onItemsPerPageChange:e=>{d(e),i(1)}})})]}),!v.isLoading&&0===j.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(qe,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No vacant rental rates found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No specialized rental rates have been configured for vacant properties."}),!o&&s.jsxs(Wa,{className:"mt-6",onClick:()=>{g(!1),b(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add Entry"]})]})]})]}),s.jsx(Qd,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:v.refetch})]})})}function Yd(){return s.jsx(Zr,{title:"Vacant Rental Rate Master",children:s.jsx(Kd,{})})}const Jd=ja().shape({id:wa().nullable(),workflowName:ya().required("Workflow Name is required"),moduleId:wa().typeError("Module is required").required("Module is required")});function Xd({open:t,setOpen:a,edit:r,setEdit:l,editData:i,refetch:n}){var d,o;const u=Qr({}),m=Gr({api:ur.userManagementModuleList,key:"userManagementModuleList",options:{enabled:t}}),x=w({defaultValues:{id:void 0,workflowName:"",moduleId:void 0},resolver:k(Jd)}),{reset:p,handleSubmit:h,formState:{isSubmitting:g}}=x;e.useEffect(()=>{t&&p(r&&i?{id:i.id,workflowName:i.workflow_name,moduleId:i.module_id}:{id:void 0,workflowName:"",moduleId:void 0})},[t,r,i,p]);const f=(null==(o=null==(d=null==m?void 0:m.data)?void 0:d.data)?void 0:o.map(e=>({value:e.id.toString(),label:e.module_name})))||[];return s.jsx(Vl,{open:t,setOpen:a,title:r?"Update Workflow":"Add New Workflow",setEdit:l,edit:r,children:s.jsx("div",{className:"p-1",children:s.jsx(ol,{methods:x,onSubmit:h(async e=>{var t,s,i;try{const d=r?cr.workflowUpdate:cr.workflowAdd,o=await u.mutateAsync({api:d,data:e});(null==(t=null==o?void 0:o.data)?void 0:t.status)?(c.success((null==(s=null==o?void 0:o.data)?void 0:s.message)||`Workflow ${r?"updated":"added"} successfully`),a(!1),l&&l(!1),n()):c.error((null==(i=null==o?void 0:o.data)?void 0:i.message)||"Something went wrong")}catch(d){c.error(xr(d))}}),children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"flex items-center gap-3 rounded-xl bg-primary/5 p-4 text-primary",children:[s.jsx(F,{size:20}),s.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider",children:"Workflow Configuration"})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsx(ul,{label:"Workflow Name",name:"workflowName",placeholder:"e.g. RIG MACHINE"}),s.jsx(yl,{label:"Assign to Module",name:"moduleId",data:f})]})]}),s.jsx("div",{className:"flex items-center justify-end gap-3 border-t pt-4",children:s.jsx(ml,{isLoading:g,type:"submit",className:"h-11 rounded-xl bg-primary px-8 text-sm font-bold text-primary-foreground shadow-lg shadow-primary/20 transition-all hover:shadow-xl active:scale-95",children:r?"Update Workflow":"Create Workflow"})})]})})})})}function eo(){var t,a;const[r,l]=e.useState(1),[i,n]=e.useState(10),[d,o]=e.useState(""),u=e.useRef(null),[m,x]=e.useState(!1),[p,h]=e.useState(!1),[g,f]=e.useState(null),b=Gr({api:cr.workflowList,key:"workflowList",options:{enabled:!0}}),v=Qr({}),j=(null==(a=null==(t=null==b?void 0:b.data)?void 0:t.data)?void 0:a.filter(e=>{var t,s;return(null==(t=null==e?void 0:e.workflow_name)?void 0:t.toLowerCase().includes(d.toLowerCase()))||(null==(s=null==e?void 0:e.module_name)?void 0:s.toLowerCase().includes(d.toLowerCase()))}))||[],y=r*i,N=y-i,w=null==j?void 0:j.slice(N,y);return s.jsxs("div",{className:"mt-4",children:[s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(Yr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-primary/10 text-primary",children:s.jsx(F,{size:24})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Workflow Master"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Define and manage system-wide workflow processes"})]})]}),s.jsxs("div",{className:"flex w-full flex-wrap items-center gap-3 lg:w-auto",children:[s.jsxs("div",{className:"relative flex-1 lg:min-w-[300px]",children:[s.jsx(C,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground"}),s.jsx("input",{ref:u,type:"text",placeholder:"Search workflow or module (Alt+S)...",className:"h-10 w-full rounded-xl border border-input bg-background pl-10 pr-4 text-sm ring-offset-background transition-all focus:outline-none focus:ring-2 focus:ring-primary/20",value:d,onChange:e=>o(e.target.value)})]}),s.jsxs(Wa,{onClick:()=>{f(null),h(!1),x(!0)},className:"h-10 gap-2 rounded-xl bg-primary px-4 font-semibold text-primary-foreground shadow-lg shadow-primary/20 transition-all hover:shadow-xl active:scale-95",children:[s.jsx(L,{size:14}),s.jsx("span",{children:"Add Workflow"})]})]})]})}),s.jsx("div",{className:"relative",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(tl,{children:[s.jsx(sl,{className:"bg-muted/50",children:s.jsxs(rl,{className:"hover:bg-transparent",children:[s.jsx(ll,{className:"w-[80px] font-bold",children:"SL. No."}),s.jsx(ll,{className:"font-bold",children:"Workflow Name"}),s.jsx(ll,{className:"font-bold",children:"Module Name"}),s.jsx(ll,{className:"text-center font-bold",children:"Created At"}),s.jsx(ll,{className:"text-right font-bold",children:"Actions"})]})}),s.jsx(al,{className:"px-4",children:s.jsx(I,{mode:"wait",children:(null==b?void 0:b.isLoading)?s.jsx(rl,{children:s.jsx(il,{colSpan:5,className:"h-48 text-center",children:s.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[s.jsx(nl,{}),s.jsx("p",{className:"animate-pulse text-sm text-muted-foreground",children:"Loading workflows..."})]})})}):0===w.length?s.jsx(rl,{children:s.jsx(il,{colSpan:5,className:"h-48 text-center",children:s.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 opacity-50",children:[s.jsx(F,{size:50,className:"text-muted-foreground"}),s.jsx("p",{className:"font-medium text-muted-foreground",children:"No workflows found"})]})})}):w.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{delay:.05*t},className:"group border-b transition-colors hover:bg-muted/30",children:[s.jsx(il,{className:"font-medium p-4",children:(r-1)*i+t+1}),s.jsx(il,{children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-bold text-foreground",children:e.workflow_name}),s.jsxs("span",{className:"text-[10px] uppercase tracking-wider text-muted-foreground",children:["ID: #",e.id]})]})}),s.jsx(il,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex h-7 w-7 items-center justify-center rounded-lg bg-blue-100/50 text-blue-600 dark:bg-blue-900/20",children:s.jsx(H,{size:12})}),s.jsx("span",{className:"font-semibold",children:e.module_name})]})}),s.jsx(il,{className:"text-center text-sm italic text-muted-foreground",children:e.created_at||"N/A"}),s.jsx(il,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>(e=>{f(e),h(!0),x(!0)})(e),className:"h-8 w-8 rounded-lg text-blue-600 hover:bg-blue-50 hover:text-blue-700 dark:hover:bg-blue-900/30",title:"Edit",children:s.jsx(E,{size:14})}),s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>(async e=>{zr("Are you sure?","Do you want to delete this workflow?",async()=>{var t,s,a;try{const r=await v.mutateAsync({api:cr.workflowDelete,data:{id:e}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Workflow deleted successfully"),b.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete workflow")}catch(r){c.error(xr(r))}})})(e.id),className:"h-8 w-8 rounded-lg text-red-600 hover:bg-red-50 hover:text-red-700 dark:hover:bg-red-900/30",title:"Delete",children:s.jsx(M,{size:14})})]})})]},e.id))})})]})})}),!(null==b?void 0:b.isLoading)&&j.length>0&&s.jsx("div",{className:"border-t bg-muted/10 p-4",children:s.jsx(dl,{currentPage:r,onPageChange:e=>{l(e)},itemsPerPage:i,onItemsPerPageChange:e=>{n(e),l(1)},totalItems:j.length})})]})}),s.jsx(Xd,{open:m,setOpen:x,edit:p,setEdit:h,editData:g,refetch:b.refetch})]})}const to=ja().shape({id:wa().nullable(),ulbId:wa().typeError("ULB is required").required("ULB is required"),wfMasterId:wa().typeError("Workflow is required").required("Workflow is required"),altName:ya().nullable(),initiatorRoleId:wa().typeError("Initiator Role is required").required("Initiator Role is required"),finisherRoleId:wa().typeError("Finisher Role is required").required("Finisher Role is required"),isDocRequired:Na().nullable()});function so({open:t,setOpen:a,edit:r,setEdit:l,editData:i,refetch:n}){var d,o,u,m,x,p;const h=Qr({}),g=Gr({api:or.api_getUlbList,key:"api_getUlbList",options:{enabled:t}}),f=Gr({api:cr.workflowList,key:"workflowList",options:{enabled:t}}),v=Gr({api:cr.allRole,key:"allRoleList",options:{enabled:t}}),j=w({defaultValues:{id:void 0,ulbId:void 0,wfMasterId:void 0,altName:"",initiatorRoleId:void 0,finisherRoleId:void 0,isDocRequired:!1},resolver:k(to)}),{reset:y,handleSubmit:N,control:_,formState:{isSubmitting:S}}=j;e.useEffect(()=>{t&&y(r&&i?{id:i.id,ulbId:i.ulb_id,wfMasterId:i.wf_master_id,altName:i.alt_name||"",initiatorRoleId:i.initiator_role_id,finisherRoleId:i.finisher_role_id,isDocRequired:Boolean(i.is_doc_required)}:{id:void 0,ulbId:void 0,wfMasterId:void 0,altName:"",initiatorRoleId:void 0,finisherRoleId:void 0,isDocRequired:!1})},[t,r,i,y]);const A=(null==(o=null==(d=null==g?void 0:g.data)?void 0:d.data)?void 0:o.map(e=>({value:e.id.toString(),label:e.ulb_name})))||[],C=(null==(m=null==(u=null==f?void 0:f.data)?void 0:u.data)?void 0:m.map(e=>({value:e.id.toString(),label:e.workflow_name})))||[],L=(null==(p=null==(x=null==v?void 0:v.data)?void 0:x.data)?void 0:p.map(e=>({value:e.id.toString(),label:e.role_name})))||[];return s.jsx(Vl,{open:t,setOpen:a,title:r?"Edit ULB Workflow":"Add ULB Workflow",setEdit:l,edit:r,children:s.jsx("div",{className:"p-2",children:s.jsx(ol,{methods:j,onSubmit:N(async e=>{var t,s,i;try{const d=r?cr.ulbWfUpdate:cr.ulbWfAdd,o={...e,isDocRequired:e.isDocRequired?"true":"false"},u=await h.mutateAsync({api:d,data:o});(null==(t=null==u?void 0:u.data)?void 0:t.status)?(c.success((null==(s=null==u?void 0:u.data)?void 0:s.message)||`ULB Workflow ${r?"updated":"added"} successfully`),a(!1),l&&l(!1),n()):c.error((null==(i=null==u?void 0:u.data)?void 0:i.message)||"Something went wrong")}catch(d){c.error(xr(d))}}),children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-5 md:grid-cols-2",children:[s.jsx(yl,{label:"ULB Name",name:"ulbId",data:A}),s.jsx(yl,{label:"Workflow Name",name:"wfMasterId",data:C})]}),s.jsx(ul,{label:"Alternate Name (Optional)",name:"altName",placeholder:"Enter alternate name if any..."}),s.jsxs("div",{className:"grid grid-cols-1 gap-5 md:grid-cols-2",children:[s.jsx(yl,{label:"Initiator Role Name",name:"initiatorRoleId",data:L}),s.jsx(yl,{label:"Finisher Role Name",name:"finisherRoleId",data:L})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-700 dark:text-gray-200",children:"Is Document Required?"}),s.jsx(b,{name:"isDocRequired",control:_,render:({field:e})=>s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("label",{className:"group flex cursor-pointer items-center gap-2",children:[s.jsx("div",{className:"flex h-5 w-5 items-center justify-center rounded-full border-2 transition-all "+(!0===e.value?"border-primary bg-primary shadow-lg shadow-primary/20":"border-slate-300 dark:border-slate-600"),children:!0===e.value&&s.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-white"})}),s.jsx("input",{type:"radio",className:"hidden",checked:!0===e.value,onChange:()=>e.onChange(!0)}),s.jsx("span",{className:"text-sm font-bold "+(!0===e.value?"text-primary":"text-muted-foreground"),children:"Yes"})]}),s.jsxs("label",{className:"group flex cursor-pointer items-center gap-2",children:[s.jsx("div",{className:"flex h-5 w-5 items-center justify-center rounded-full border-2 transition-all "+(!1===e.value?"border-slate-700 bg-slate-700 dark:border-slate-300 dark:bg-slate-300":"border-slate-300 dark:border-slate-600"),children:!1===e.value&&s.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-white dark:bg-slate-900"})}),s.jsx("input",{type:"radio",className:"hidden",checked:!1===e.value,onChange:()=>e.onChange(!1)}),s.jsx("span",{className:"text-sm font-bold "+(!1===e.value?"text-slate-800 dark:text-slate-200":"text-muted-foreground"),children:"No"})]})]})})]})]})}),s.jsx("div",{className:"flex items-center justify-end gap-3 border-t pt-5",children:s.jsx(ml,{isLoading:S,type:"submit",className:"h-12 rounded-2xl bg-primary px-10 text-sm font-black uppercase tracking-widest text-primary-foreground shadow-xl shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:r?"Update Assignment":"Assign Workflow"})})]})})})})}function ao(){var t,a;const[r,l]=e.useState(1),[i,n]=e.useState(10),[d,o]=e.useState(""),u=e.useRef(null),[m,x]=e.useState(!1),[p,h]=e.useState(!1),[g,f]=e.useState(null),b=Gr({api:cr.ulbWfList,key:"ulbWfList",options:{enabled:!0}}),v=Qr({}),j=(null==(a=null==(t=null==b?void 0:b.data)?void 0:t.data)?void 0:a.filter(e=>{var t,s,a;return(null==(t=null==e?void 0:e.workflow_name)?void 0:t.toLowerCase().includes(d.toLowerCase()))||(null==(s=null==e?void 0:e.ulb_name)?void 0:s.toLowerCase().includes(d.toLowerCase()))||(null==(a=null==e?void 0:e.alt_name)?void 0:a.toLowerCase().includes(d.toLowerCase()))}))||[],y=r*i,N=y-i,w=null==j?void 0:j.slice(N,y);return s.jsxs("div",{className:"mt-4",children:[s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(Yr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-blue-600/10 text-blue-600",children:s.jsx(Le,{size:24})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"ULB Workflow Management"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Assign and customize workflows for specific ULBs"})]})]}),s.jsxs("div",{className:"flex w-full flex-wrap items-center gap-3 lg:w-auto",children:[s.jsxs("div",{className:"relative flex-1 lg:min-w-[300px]",children:[s.jsx(C,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground"}),s.jsx("input",{ref:u,type:"text",placeholder:"Search workflow, ULB or alt name...",className:"h-10 w-full rounded-xl border border-input bg-background pl-10 pr-4 text-sm ring-offset-background transition-all focus:outline-none focus:ring-2 focus:ring-primary/20",value:d,onChange:e=>o(e.target.value)})]}),s.jsxs(Wa,{onClick:()=>{f(null),h(!1),x(!0)},className:"h-10 gap-2 rounded-xl bg-primary px-4 font-semibold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{size:14}),s.jsx("span",{children:"Add ULB Workflow"})]})]})]})}),s.jsx("div",{className:"relative",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(tl,{children:[s.jsx(sl,{className:"bg-muted/40",children:s.jsxs(rl,{className:"border-b text-center hover:bg-transparent",children:[s.jsx(ll,{className:"w-[80px] px-6 py-4 text-center text-[11px] font-bold uppercase tracking-wider text-muted-foreground",children:"SL."}),s.jsx(ll,{className:"px-6 py-4 text-left text-[11px] font-bold uppercase tracking-wider text-muted-foreground",children:"ULB & Workflow"}),s.jsx(ll,{className:"px-6 py-4 text-left text-[11px] font-bold uppercase tracking-wider text-muted-foreground",children:"Alternate Name"}),s.jsx(ll,{className:"px-6 py-4 text-center text-[11px] font-bold uppercase tracking-wider text-muted-foreground",children:"Roles (Init/Fin)"}),s.jsx(ll,{className:"px-6 py-4 text-center text-[11px] font-bold uppercase tracking-wider text-muted-foreground",children:"Doc Required"}),s.jsx(ll,{className:"px-6 py-4 text-right text-[11px] font-bold uppercase tracking-wider text-muted-foreground",children:"Actions"})]})}),s.jsx(al,{children:s.jsx(I,{mode:"wait",children:(null==b?void 0:b.isLoading)?s.jsx(rl,{children:s.jsx(il,{colSpan:6,className:"h-64 border-none text-center",children:s.jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[s.jsx(nl,{}),s.jsx("p",{className:"animate-pulse text-sm font-medium text-muted-foreground",children:"Fetching ULB workflows..."})]})})}):0===w.length?s.jsx(rl,{children:s.jsx(il,{colSpan:6,className:"h-64 border-none text-center",children:s.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 opacity-40",children:[s.jsx(Le,{size:48,className:"text-muted-foreground"}),s.jsx("p",{className:"text-lg font-semibold text-muted-foreground",children:"No ULB workflows found"})]})})}):w.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,scale:.98},transition:{delay:.04*t,duration:.2},className:"group border-b transition-all last:border-0 hover:bg-muted/40",children:[s.jsx(il,{className:"px-6 py-5 text-center font-semibold text-muted-foreground",children:(r-1)*i+t+1}),s.jsx(il,{className:"px-6 py-5",children:s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"rounded bg-blue-100 px-1.5 py-0.5 text-[10px] font-bold uppercase text-blue-600",children:"ULB"}),s.jsx("span",{className:"text-sm font-bold text-foreground",children:e.ulb_name})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"rounded bg-slate-100 px-1.5 py-0.5 text-[10px] font-bold uppercase text-slate-600",children:"WF"}),s.jsx("span",{className:"text-xs font-semibold text-muted-foreground",children:e.workflow_name})]})]})}),s.jsx(il,{className:"px-6 py-5",children:s.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:e.alt_name||"-"})}),s.jsx(il,{className:"px-6 py-5 text-center",children:s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsx("div",{className:"flex h-7 w-7 items-center justify-center rounded-full bg-emerald-100 text-emerald-600 shadow-sm",title:`Initiator: ${e.initiator_role_name}`,children:s.jsx(z,{size:12})}),s.jsx("span",{className:"max-w-[80px] truncate text-[9px] font-black uppercase tracking-tighter text-muted-foreground",children:e.initiator_role_name||"--"})]}),s.jsx("div",{className:"h-4 w-[1px] rotate-12 bg-border"}),s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsx("div",{className:"flex h-7 w-7 items-center justify-center rounded-full bg-violet-100 text-violet-600 shadow-sm",title:`Finisher: ${e.finisher_role_name}`,children:s.jsx(z,{size:12})}),s.jsx("span",{className:"max-w-[90px] truncate text-[9px] font-black uppercase tracking-tighter text-muted-foreground",children:e.finisher_role_name||"--"})]})]})}),s.jsx(il,{className:"px-6 py-5 text-center",children:s.jsx("div",{className:"inline-flex items-center gap-1 rounded-full px-2.5 py-1 text-[11px] font-bold "+(e.is_doc_required?"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400":"bg-slate-100 text-slate-600 dark:bg-slate-800"),children:e.is_doc_required?s.jsxs(s.Fragment,{children:[s.jsx(Y,{size:10}),s.jsx("span",{children:"Yes"})]}):s.jsx("span",{children:"No"})})}),s.jsx(il,{className:"px-6 py-5 text-right",children:s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>(e=>{f(e),h(!0),x(!0)})(e),className:"h-9 w-9 rounded-xl border border-blue-100 bg-blue-50 text-blue-600 shadow-sm transition-all hover:bg-blue-600 hover:text-white active:scale-90 dark:border-blue-900/30 dark:bg-blue-900/20",title:"Edit",children:s.jsx(E,{size:14})}),s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>(async e=>{zr("Are you sure?","Do you want to delete this ULB workflow?",async()=>{var t,s,a;try{const r=await v.mutateAsync({api:cr.ulbWfDelete,data:{id:e}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"ULB Workflow deleted successfully"),b.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete ULB workflow")}catch(r){c.error(xr(r))}})})(e.id),className:"h-9 w-9 rounded-xl border border-red-100 bg-red-50 text-red-600 shadow-sm transition-all hover:bg-red-600 hover:text-white active:scale-90 dark:border-red-900/30 dark:bg-red-900/20",title:"Delete",children:s.jsx(M,{size:14})})]})})]},e.id))})})]})})}),!(null==b?void 0:b.isLoading)&&j.length>0&&s.jsx("div",{className:"border-t bg-muted/10 p-4",children:s.jsx(dl,{currentPage:r,onPageChange:e=>{l(e)},itemsPerPage:i,onItemsPerPageChange:e=>{n(e),l(1)},totalItems:j.length})})]})}),s.jsx(so,{open:m,setOpen:x,edit:p,setEdit:h,editData:g,refetch:b.refetch})]})}const ro=ja().shape({id:wa().nullable(),workflowName:ya().required("Workflow Name is required"),roleName:ya().required("Role Name is required"),fdRoleName:ya().nullable(),bdRoleName:ya().nullable(),isInitiator:Na().default(!1),isFinisher:Na().default(!1),isBtc:Na().default(!1),canViewDocument:Na().default(!1),canUploadDocument:Na().default(!1),canVerifyDocument:Na().default(!1),allowFreeCommunication:Na().default(!1),allowFullList:Na().default(!1),canEscalate:Na().default(!1),canForward:Na().default(!1),canBackward:Na().default(!1),isPseudo:Na().default(!1),showFieldVerification:Na().default(!1),serialNo:wa().typeError("Serial No must be a number").required("Serial No is required")});function lo({open:t,setOpen:a,edit:r,setEdit:l,editData:i,refetch:n}){var d,o,u,m;const x=Qr({}),p=Gr({api:cr.workflowList,key:"workflowList",options:{enabled:t}}),h=Gr({api:cr.allRole,key:"roleList",options:{enabled:t}}),g=w({defaultValues:{id:void 0,workflowName:"",roleName:"",fdRoleName:"",bdRoleName:"",isInitiator:!1,isFinisher:!1,isBtc:!1,canViewDocument:!1,canUploadDocument:!1,canVerifyDocument:!1,allowFreeCommunication:!1,allowFullList:!1,canEscalate:!1,canForward:!1,canBackward:!1,isPseudo:!1,showFieldVerification:!1,serialNo:0},resolver:k(ro)}),{reset:f,handleSubmit:b,formState:{isSubmitting:v}}=g;e.useEffect(()=>{var e,s,a,l;t&&f(r&&i?{id:i.id,workflowName:null==(e=i.workflow_id)?void 0:e.toString(),roleName:null==(s=i.wf_role_id)?void 0:s.toString(),fdRoleName:(null==(a=i.forward_role_id)?void 0:a.toString())||"",bdRoleName:(null==(l=i.backward_role_id)?void 0:l.toString())||"",isInitiator:i.is_initiator,isFinisher:i.is_finisher,isBtc:i.is_btc,canViewDocument:i.can_view_document,canUploadDocument:i.can_upload_document,canVerifyDocument:i.can_verify_document,allowFreeCommunication:i.allow_free_communication,allowFullList:i.allow_full_list,canEscalate:i.can_escalate,canForward:i.can_forward,canBackward:i.can_backward,isPseudo:i.is_pseudo,showFieldVerification:i.show_field_verification,serialNo:i.serial_no}:{id:void 0,workflowName:"",roleName:"",fdRoleName:"",bdRoleName:"",isInitiator:!1,isFinisher:!1,isBtc:!1,canViewDocument:!1,canUploadDocument:!1,canVerifyDocument:!1,allowFreeCommunication:!1,allowFullList:!1,canEscalate:!1,canForward:!1,canBackward:!1,isPseudo:!1,showFieldVerification:!1,serialNo:0})},[t,r,i,f]);const j=(null==(o=null==(d=null==p?void 0:p.data)?void 0:d.data)?void 0:o.map(e=>({value:e.id.toString(),label:e.workflow_name})))||[],y=(null==(m=null==(u=null==h?void 0:h.data)?void 0:u.data)?void 0:m.map(e=>({value:e.id.toString(),label:e.role_name})))||[];return s.jsx(Vl,{open:t,setOpen:a,title:r?"Update Role Map":"Add New Role Map",setEdit:l,edit:r,children:s.jsx("div",{className:"p-1",children:s.jsx(ol,{methods:g,onSubmit:b(async e=>{var t,s,i;try{const d=r?cr.wfRoleUpdate:cr.wfRoleAdd,o={id:r?e.id:void 0,workflowId:Number(e.workflowName),wfRoleId:Number(e.roleName),forwardRoleId:e.fdRoleName?Number(e.fdRoleName):null,backwardRoleId:e.bdRoleName?Number(e.bdRoleName):null,isInitiator:e.isInitiator,isFinisher:e.isFinisher,isBtc:e.isBtc,canViewDocument:e.canViewDocument,canUploadDocument:e.canUploadDocument,canVerifyDocument:e.canVerifyDocument,allowFreeCommunication:e.allowFreeCommunication,allowFullList:e.allowFullList,canEscalate:e.canEscalate,canForward:e.canForward,canBackward:e.canBackward,isPseudo:e.isPseudo,showFieldVerification:e.showFieldVerification,serialNo:Number(e.serialNo)},u=await x.mutateAsync({api:d,data:o});(null==(t=null==u?void 0:u.data)?void 0:t.status)?(c.success((null==(s=null==u?void 0:u.data)?void 0:s.message)||`Workflow Map ${r?"updated":"added"} successfully`),a(!1),l&&l(!1),n()):c.error((null==(i=null==u?void 0:u.data)?void 0:i.message)||"Something went wrong")}catch(d){c.error(xr(d))}}),children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-5 md:grid-cols-2",children:[s.jsx(yl,{label:"Workflow",name:"workflowName",data:j}),s.jsx(yl,{label:"Role",name:"roleName",data:y}),s.jsx(yl,{label:"Forward Role",name:"fdRoleName",data:y}),s.jsx(yl,{label:"Backward Role",name:"bdRoleName",data:y}),s.jsx(ul,{label:"Serial No",name:"serialNo",type:"number",placeholder:"e.g. 1"})]}),s.jsxs("div",{className:"rounded-xl bg-muted/30 p-4",children:[s.jsx("p",{className:"mb-4 text-xs font-bold uppercase tracking-wider text-muted-foreground",children:"Permissions & Controls"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-3 lg:grid-cols-4",children:[s.jsx(kl,{label:"Is Initiator",name:"isInitiator"}),s.jsx(kl,{label:"Is Finisher",name:"isFinisher"}),s.jsx(kl,{label:"Is BTC",name:"isBtc"}),s.jsx(kl,{label:"Is Pseudo",name:"isPseudo"}),s.jsx(kl,{label:"Can View Docs",name:"canViewDocument"}),s.jsx(kl,{label:"Can Upload Docs",name:"canUploadDocument"}),s.jsx(kl,{label:"Can Verify Docs",name:"canVerifyDocument"}),s.jsx(kl,{label:"Can Forward",name:"canForward"}),s.jsx(kl,{label:"Can Backward",name:"canBackward"}),s.jsx(kl,{label:"Can Escalate",name:"canEscalate"}),s.jsx(kl,{label:"Free Comm.",name:"allowFreeCommunication"}),s.jsx(kl,{label:"Full List",name:"allowFullList"}),s.jsx(kl,{label:"Show Field Verif.",name:"showFieldVerification"})]})]}),s.jsx("div",{className:"flex items-center justify-end gap-3 border-t pt-4",children:s.jsx(ml,{isLoading:v,type:"submit",className:"h-11 rounded-xl bg-violet-600 px-8 text-sm font-bold text-white shadow-lg shadow-violet-600/20 transition-all hover:bg-violet-700 active:scale-95",children:r?"Update Map":"Create Map"})})]})})})})}function io(){var t,a;const[r,l]=e.useState(1),[i,n]=e.useState(10),[d,o]=e.useState(""),u=e.useRef(null),[m,x]=e.useState(!1),[p,h]=e.useState(!1),[g,f]=e.useState(null),b=Gr({api:cr.wfRoleList,key:"wfRoleList",options:{enabled:!0}}),v=Qr({}),j=(null==(a=null==(t=null==b?void 0:b.data)?void 0:t.data)?void 0:a.filter(e=>{var t,s,a;return(null==(t=null==e?void 0:e.role_name)?void 0:t.toLowerCase().includes(d.toLowerCase()))||(null==(s=null==e?void 0:e.workflow_name)?void 0:s.toLowerCase().includes(d.toLowerCase()))||(null==(a=null==e?void 0:e.ulb_name)?void 0:a.toLowerCase().includes(d.toLowerCase()))}))||[],y=r*i,N=y-i,w=null==j?void 0:j.slice(N,y);return s.jsxs("div",{className:"mt-4",children:[s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(Yr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-violet-100 text-violet-600 dark:bg-violet-900/20",children:s.jsx(Z,{size:24})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Workflow Role Mapping"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Define workflow steps and role permissions"})]})]}),s.jsxs("div",{className:"flex w-full flex-wrap items-center gap-3 lg:w-auto",children:[s.jsxs("div",{className:"relative flex-1 lg:min-w-[300px]",children:[s.jsx(C,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground"}),s.jsx("input",{ref:u,type:"text",placeholder:"Search role, workflow or ULB...",className:"h-10 w-full rounded-xl border border-input bg-background pl-10 pr-4 text-sm ring-offset-background transition-all focus:outline-none focus:ring-2 focus:ring-violet-500/20",value:d,onChange:e=>o(e.target.value)})]}),s.jsxs(Wa,{onClick:()=>{f(null),h(!1),x(!0)},className:"h-10 gap-2 rounded-xl bg-violet-600 px-4 font-semibold text-white shadow-lg shadow-violet-600/20 transition-all hover:bg-violet-700 active:scale-95",children:[s.jsx(L,{size:14}),s.jsx("span",{children:"Add Role Map"})]})]})]})}),s.jsx("div",{className:"relative",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(tl,{children:[s.jsx(sl,{className:"bg-muted/50",children:s.jsxs(rl,{className:"hover:bg-transparent",children:[s.jsx(ll,{className:"w-[80px] font-bold",children:"SL. No."}),s.jsx(ll,{className:"font-bold",children:"Role Name"}),s.jsx(ll,{className:"font-bold",children:"Workflow & ULB"}),s.jsx(ll,{className:"font-bold",children:"Direction"}),s.jsx(ll,{className:"min-w-[600px] text-center font-bold",children:"Permissions"}),s.jsx(ll,{className:"text-right font-bold",children:"Actions"})]})}),s.jsx(al,{className:"px-4",children:s.jsx(I,{mode:"wait",children:(null==b?void 0:b.isLoading)?s.jsx(rl,{children:s.jsx(il,{colSpan:6,className:"h-48 text-center",children:s.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[s.jsx(nl,{}),s.jsx("p",{className:"animate-pulse text-sm text-muted-foreground",children:"Loading role maps..."})]})})}):0===w.length?s.jsx(rl,{children:s.jsx(il,{colSpan:6,className:"h-48 text-center",children:s.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 opacity-50",children:[s.jsx(Z,{size:50,className:"text-muted-foreground"}),s.jsx("p",{className:"font-medium text-muted-foreground",children:"No role maps found"})]})})}):w.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{delay:.05*t},className:"group border-b transition-colors hover:bg-muted/30",children:[s.jsx(il,{className:"p-4 font-medium",children:(r-1)*i+t+1}),s.jsx(il,{children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-bold text-foreground",children:e.role_name}),s.jsxs("span",{className:"text-[10px] uppercase tracking-wider text-muted-foreground",children:["Step: #",e.serial_no]})]})}),s.jsx(il,{children:s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(We,{className:"text-violet-500",size:12}),s.jsx("span",{className:"text-xs font-semibold",children:e.workflow_name})]}),s.jsx("span",{className:"text-[10px] text-muted-foreground",children:e.ulb_name})]})}),s.jsx(il,{children:s.jsxs("div",{className:"flex flex-col gap-1 text-[11px] font-medium",children:[e.forward_role_name&&s.jsxs("div",{className:"flex items-center gap-1 text-emerald-600",children:[s.jsx("span",{className:"rounded bg-emerald-100 px-1 py-0.5 dark:bg-emerald-900/30",children:"FWD:"}),e.forward_role_name]}),e.backward_role_name&&s.jsxs("div",{className:"flex items-center gap-1 text-rose-600",children:[s.jsx("span",{className:"rounded bg-rose-100 px-1 py-0.5 dark:bg-rose-900/30",children:"BWD:"}),e.backward_role_name]})]})}),s.jsx(il,{children:s.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2 sm:grid-cols-3 md:grid-cols-4",children:[{label:"Is Initiator",value:e.is_initiator},{label:"Is Finisher",value:e.is_finisher},{label:"Is BTC",value:e.is_btc},{label:"View Document",value:e.can_view_document},{label:"Upload Document",value:e.can_upload_document},{label:"Verify Document",value:e.can_verify_document},{label:"Free Comm.",value:e.allow_free_communication},{label:"Full List",value:e.allow_full_list},{label:"Can Escalate",value:e.can_escalate},{label:"Pseudo User",value:e.is_pseudo},{label:"Can Forward",value:e.can_forward},{label:"Can Backward",value:e.can_backward},{label:"Field Verif.",value:e.show_field_verification}].map((e,t)=>s.jsxs("div",{className:"flex items-center justify-between gap-2 rounded border bg-background px-2 py-1 text-[10px]",children:[s.jsx("span",{className:"whitespace-nowrap font-medium text-muted-foreground",children:e.label}),s.jsx("span",{className:"font-bold "+(e.value?"text-green-600":"text-red-500"),children:e.value?"Yes":"No"})]},t))})}),s.jsx(il,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>(e=>{f(e),h(!0),x(!0)})(e),className:"h-8 w-8 rounded-lg text-blue-600 hover:bg-blue-50 hover:text-blue-700 dark:hover:bg-blue-900/30",title:"Edit",children:s.jsx(E,{size:14})}),s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>(async e=>{zr("Are you sure?","Do you want to delete this role map?",async()=>{var t,s,a;try{const r=await v.mutateAsync({api:cr.wfRoleDelete,data:{id:e}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Role map deleted successfully"),b.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete role map")}catch(r){c.error(xr(r))}})})(e.id),className:"h-8 w-8 rounded-lg text-red-600 hover:bg-red-50 hover:text-red-700 dark:hover:bg-red-900/30",title:"Delete",children:s.jsx(M,{size:14})})]})})]},e.id))})})]})})}),!(null==b?void 0:b.isLoading)&&j.length>0&&s.jsx("div",{className:"border-t bg-muted/10 p-4",children:s.jsx(dl,{currentPage:r,onPageChange:e=>{l(e)},itemsPerPage:i,onItemsPerPageChange:e=>{n(e),l(1)},totalItems:j.length})})]})}),s.jsx(lo,{open:m,setOpen:x,edit:p,setEdit:h,editData:g,refetch:b.refetch})]})}const no=ja().shape({id:wa().nullable(),roleName:ya().required("Role Name is required"),isSuspended:Na().default(!1)});function oo({open:t,setOpen:a,edit:r,setEdit:l,editData:i,refetch:n}){const d=Qr({}),o=w({defaultValues:{id:void 0,roleName:"",isSuspended:!1},resolver:k(no)}),{reset:u,handleSubmit:m,formState:{isSubmitting:x}}=o;e.useEffect(()=>{t&&u(r&&i?{id:i.id,roleName:i.role_name,isSuspended:i.is_suspended}:{id:void 0,roleName:"",isSuspended:!1})},[t,r,i,u]);return s.jsx(Vl,{open:t,setOpen:a,title:r?"Update Workflow Role":"Add New Workflow Role",setEdit:l,edit:r,children:s.jsx("div",{className:"p-1",children:s.jsx(ol,{methods:o,onSubmit:m(async e=>{var t,s,i;try{const o=r?or.api_updateWorkflowRole:or.api_PostWorkflowRole,u={id:r?e.id:void 0,roleName:e.roleName,isSuspended:e.isSuspended},m=await d.mutateAsync({api:o,data:u});(null==(t=null==m?void 0:m.data)?void 0:t.status)?(c.success((null==(s=null==m?void 0:m.data)?void 0:s.message)||`Workflow Role ${r?"updated":"added"} successfully`),a(!1),l&&l(!1),n()):c.error((null==(i=null==m?void 0:m.data)?void 0:i.message)||"Something went wrong")}catch(o){c.error(xr(o))}}),children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"flex items-center gap-3 rounded-xl bg-orange-100 p-4 text-orange-600 dark:bg-orange-900/20",children:[s.jsx($e,{size:20}),s.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider",children:"Role Configuration"})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsx(ul,{label:"Role Name",name:"roleName",placeholder:"e.g. Developer"}),s.jsx(kl,{label:"Is Suspended",name:"isSuspended"})]})]}),s.jsx("div",{className:"flex items-center justify-end gap-3 border-t pt-4",children:s.jsx(ml,{isLoading:x,type:"submit",className:"h-11 rounded-xl bg-violet-600 px-8 text-sm font-bold text-white shadow-lg shadow-violet-600/20 transition-all hover:bg-violet-700 active:scale-95",children:r?"Update Role":"Create Role"})})]})})})})}function co(){var t,a;const[r,l]=e.useState(1),[i,n]=e.useState(10),[d,o]=e.useState(""),u=e.useRef(null),[m,x]=e.useState(!1),[p,h]=e.useState(!1),[g,f]=e.useState(null),b=Gr({api:or.getWorkflowRole,key:"getWorkflowRole",options:{enabled:!0}}),v=Qr({}),j=(null==(a=null==(t=null==b?void 0:b.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=null==e?void 0:e.role_name)?void 0:t.toLowerCase().includes(d.toLowerCase())}))||[],y=r*i,N=y-i,w=null==j?void 0:j.slice(N,y);return s.jsxs("div",{className:"mt-4",children:[s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(Yr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-orange-100 text-orange-600 dark:bg-orange-900/20",children:s.jsx(Ve,{size:24})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Workflow Roles"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Manage roles for workflow assignments"})]})]}),s.jsxs("div",{className:"flex w-full flex-wrap items-center gap-3 lg:w-auto",children:[s.jsxs("div",{className:"relative flex-1 lg:min-w-[300px]",children:[s.jsx(C,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground"}),s.jsx("input",{ref:u,type:"text",placeholder:"Search roles...",className:"h-10 w-full rounded-xl border border-input bg-background pl-10 pr-4 text-sm ring-offset-background transition-all focus:outline-none focus:ring-2 focus:ring-orange-500/20",value:d,onChange:e=>o(e.target.value)})]}),s.jsxs(Wa,{onClick:()=>{f(null),h(!1),x(!0)},className:"h-10 gap-2 rounded-xl bg-orange-600 px-4 font-semibold text-white shadow-lg shadow-orange-600/20 transition-all hover:bg-orange-700 active:scale-95",children:[s.jsx(L,{size:14}),s.jsx("span",{children:"Add Role"})]})]})]})}),s.jsx("div",{className:"relative",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(tl,{children:[s.jsx(sl,{className:"bg-muted/50",children:s.jsxs(rl,{className:"hover:bg-transparent",children:[s.jsx(ll,{className:"w-[80px] font-bold",children:"SL. No."}),s.jsx(ll,{className:"font-bold",children:"Role Name"}),s.jsx(ll,{className:"font-bold",children:"Created By"}),s.jsx(ll,{className:"text-center font-bold",children:"Status"}),s.jsx(ll,{className:"text-right font-bold",children:"Actions"})]})}),s.jsx(al,{className:"px-4",children:s.jsx(I,{mode:"wait",children:(null==b?void 0:b.isLoading)?s.jsx(rl,{children:s.jsx(il,{colSpan:5,className:"h-48 text-center",children:s.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[s.jsx(nl,{}),s.jsx("p",{className:"animate-pulse text-sm text-muted-foreground",children:"Loading roles..."})]})})}):0===w.length?s.jsx(rl,{children:s.jsx(il,{colSpan:5,className:"h-48 text-center",children:s.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 opacity-50",children:[s.jsx($e,{size:50,className:"text-muted-foreground"}),s.jsx("p",{className:"font-medium text-muted-foreground",children:"No workflow roles found"})]})})}):w.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{delay:.05*t},className:"group border-b transition-colors hover:bg-muted/30",children:[s.jsx(il,{className:"p-4 font-medium",children:(r-1)*i+t+1}),s.jsx(il,{children:s.jsx("span",{className:"font-bold text-foreground",children:e.role_name})}),s.jsx(il,{children:s.jsx("span",{className:"text-sm text-muted-foreground",children:e.created_by})}),s.jsx(il,{className:"text-center",children:s.jsx("span",{className:"inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium "+(e.is_suspended?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300":"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300"),children:e.is_suspended?"Suspended":"Active"})}),s.jsx(il,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>(e=>{f(e),h(!0),x(!0)})(e),className:"h-8 w-8 rounded-lg text-blue-600 hover:bg-blue-50 hover:text-blue-700 dark:hover:bg-blue-900/30",title:"Edit",children:s.jsx(E,{size:14})}),s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>(async e=>{zr("Are you sure?","Do you want to delete this role?",async()=>{var t,s,a;try{const r=await v.mutateAsync({api:or.api_deleteWorkflowRole,data:{id:e}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Role deleted successfully"),b.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete role")}catch(r){c.error(xr(r))}})})(e.id),className:"h-8 w-8 rounded-lg text-red-600 hover:bg-red-50 hover:text-red-700 dark:hover:bg-red-900/30",title:"Delete",children:s.jsx(M,{size:14})})]})})]},e.id))})})]})})}),!(null==b?void 0:b.isLoading)&&j.length>0&&s.jsx("div",{className:"border-t bg-muted/10 p-4",children:s.jsx(dl,{currentPage:r,onPageChange:e=>{l(e)},itemsPerPage:i,onItemsPerPageChange:e=>{n(e),l(1)},totalItems:j.length})})]})}),s.jsx(oo,{open:m,setOpen:x,edit:p,setEdit:h,editData:g,refetch:b.refetch})]})}function uo(){const[e,t]=_(),a=e.get("tab")||"workflow-master",r=[{id:"workflow-master",label:"Workflow Master",icon:s.jsx(F,{size:14}),content:s.jsx(eo,{})},{id:"ulb-workflow",label:"Ulb Workflow",icon:s.jsx(Le,{size:14}),content:s.jsx(ao,{})},{id:"workflow-rolemap",label:"Workflow Rolemap",icon:s.jsx(Z,{size:14}),content:s.jsx(io,{})},{id:"workflow-role",label:"Workflow Role",icon:s.jsx($e,{size:14}),content:s.jsx(co,{})}];return s.jsx("div",{className:"flex flex-col gap-6 p-1",children:s.jsx(S.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.2},children:s.jsxs(mi,{value:a,onValueChange:e=>{t({tab:e})},className:"w-full",children:[s.jsx(xi,{className:" inline-flex h-12 items-center justify-start rounded-2xl bg-muted/30 p-1",children:r.map(e=>s.jsxs(pi,{value:e.id,className:"flex items-center gap-2 rounded-xl px-4 py-2 text-sm font-semibold transition-all data-[state=active]:bg-background data-[state=active]:text-primary data-[state=active]:shadow-md",children:[e.icon,s.jsx("span",{children:e.label})]},e.id))}),r.map(e=>s.jsx(hi,{value:e.id,className:"focus:outline-none",children:e.content},e.id))]})})})}function mo(){return s.jsx(Zr,{title:"Manage All Workflow Here.",children:s.jsx(uo,{})})}const xo=e.forwardRef(({className:e,...t},a)=>s.jsx("textarea",{className:La("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...t}));xo.displayName="Textarea";const po=ja().shape({question:ya().required("Question is required"),answer:ya().required("Answer is required"),moduleId:wa().required("Module is required")});function ho({open:t,onOpenChange:a,editData:r,onSubmit:l}){var i;const{register:n,handleSubmit:d,reset:o,setValue:c,watch:u,formState:{errors:m}}=w({resolver:k(po),defaultValues:{question:"",answer:"",moduleId:void 0}}),x=Gr({api:ur.post_moduleList,key:"moduleList",options:{enabled:t}}),p=(null==(i=null==x?void 0:x.data)?void 0:i.data)||[];e.useEffect(()=>{t&&o(r?{question:r.question,answer:r.answer,moduleId:r.module_id}:{question:"",answer:"",moduleId:void 0})},[t,r,o]);const h=u("moduleId");return s.jsx(Ur,{open:t,onOpenChange:a,children:s.jsxs(qr,{className:"max-w-2xl overflow-hidden border-none bg-slate-50 p-0 shadow-2xl dark:bg-slate-900",children:[s.jsx(Wr,{className:"bg-primary px-8 py-6 text-white",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-white/20 backdrop-blur-md",children:s.jsx(He,{size:20})}),s.jsxs("div",{children:[s.jsx(Vr,{className:"text-2xl font-black tracking-tight",children:r?"Edit FAQ":"Add New FAQ"}),s.jsx("p",{className:"text-xs font-medium uppercase tracking-wider text-white/70",children:r?"Update existing faq details":"Create a new frequently asked question"})]})]})}),s.jsxs("form",{onSubmit:d(e=>{l({...e,id:null==r?void 0:r.id,moduelName:e.moduleId})}),className:"space-y-6 p-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-bold uppercase tracking-widest text-slate-500",children:"Target Module"}),s.jsxs(xl,{onValueChange:e=>c("moduleId",Number(e)),value:h?String(h):void 0,children:[s.jsx(gl,{className:"h-12 rounded-xl border-slate-200 bg-white font-medium shadow-sm focus:ring-4 focus:ring-primary/10 dark:border-slate-800 dark:bg-slate-950",children:s.jsx(hl,{placeholder:"Select a module"})}),s.jsx(vl,{children:p.map(e=>s.jsx(jl,{value:String(e.id),children:e.module_name},e.id))})]}),m.moduleId&&s.jsx("p",{className:"text-[10px] font-bold uppercase text-red-500",children:m.moduleId.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-bold uppercase tracking-widest text-slate-500",children:"Question"}),s.jsx(cl,{...n("question"),placeholder:"How do I...?",className:"h-12 rounded-xl border-slate-200 bg-white font-medium shadow-sm focus:ring-4 focus:ring-primary/10 dark:border-slate-800 dark:bg-slate-950"}),m.question&&s.jsx("p",{className:"text-[10px] font-bold uppercase text-red-500",children:m.question.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-bold uppercase tracking-widest text-slate-500",children:"Answer"}),s.jsx(xo,{...n("answer"),placeholder:"Briefly explain the answer...",className:"min-h-[150px] rounded-xl border-slate-200 bg-white font-medium shadow-sm focus:ring-4 focus:ring-primary/10 dark:border-slate-800 dark:bg-slate-950"}),m.answer&&s.jsx("p",{className:"text-[10px] font-bold uppercase text-red-500",children:m.answer.message})]})]}),s.jsxs($r,{className:"gap-3 border-t border-slate-100 pt-6 dark:border-slate-800",children:[s.jsx(Wa,{type:"button",variant:"outline",onClick:()=>a(!1),className:"h-12 rounded-xl border-slate-200 bg-white px-8 font-bold text-slate-600 transition-all hover:bg-slate-50 dark:border-slate-800 dark:bg-slate-950 dark:text-slate-400",children:"Cancel"}),s.jsx(Wa,{type:"submit",className:"h-12 rounded-xl bg-primary px-8 font-bold shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-95",children:r?"Update FAQ":"Create FAQ"})]})]})]})})}function go(){var t;const[a,r]=e.useState(""),[l,i]=e.useState(!1),[n,d]=e.useState(null),[o,c]=e.useState(null),u=Gr({api:ur.post_listFaq,key:"faqList",options:{enabled:!0}}),m=(null==(t=null==u?void 0:u.data)?void 0:t.data)||[],x=Qr({options:{onSuccess:()=>{Ze.success("FAQ Created Successfully"),i(!1),u.refetch()},onError:()=>{Ze.error("Failed to create FAQ")}}}),p=Qr({options:{onSuccess:()=>{Ze.success("FAQ Updated Successfully"),i(!1),u.refetch()},onError:()=>{Ze.error("Failed to update FAQ")}}}),h=Qr({options:{onSuccess:()=>{Ze.success("FAQ Deleted Successfully"),u.refetch()},onError:()=>{Ze.error("Failed to delete FAQ")}}}),g=m.filter(e=>{var t,s,r;return(null==(t=null==e?void 0:e.question)?void 0:t.toLowerCase().includes(a.toLowerCase()))||(null==(s=null==e?void 0:e.answer)?void 0:s.toLowerCase().includes(a.toLowerCase()))||(null==(r=null==e?void 0:e.module_name)?void 0:r.toLowerCase().includes(a.toLowerCase()))});return s.jsxs("div",{className:"mx-auto max-w-6xl space-y-8 p-8",children:[s.jsxs("div",{className:"flex flex-col justify-between gap-6 md:flex-row md:items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-black tracking-tight text-slate-800 dark:text-white",children:"Knowledge Base"}),s.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Manage frequently asked questions across all system modules"})]}),s.jsxs(Wa,{onClick:()=>{d(null),i(!0)},className:"h-12 gap-2 rounded-2xl bg-primary px-6 font-bold shadow-xl shadow-primary/20 transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{size:14})," Create New FAQ"]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-4",children:[s.jsxs("div",{className:"relative lg:col-span-3",children:[s.jsx(C,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-400"}),s.jsx(cl,{placeholder:"Search by question, answer or module...",value:a,onChange:e=>r(e.target.value),className:"h-14 rounded-[1.25rem] border-none bg-white pl-12 text-sm font-medium shadow-lg shadow-slate-200/50 ring-1 ring-slate-100 transition-all focus:ring-4 focus:ring-primary/10 dark:bg-slate-900 dark:shadow-none dark:ring-slate-800"})]}),s.jsxs("div",{className:"flex items-center gap-4 rounded-[1.25rem] bg-slate-100/50 p-2 dark:bg-slate-800/50",children:[s.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center p-2",children:[s.jsx("span",{className:"text-xl font-black text-primary",children:m.length}),s.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:"Total FAQs"})]}),s.jsx("div",{className:"h-8 w-[1px] bg-slate-200 dark:bg-slate-700"}),s.jsx(Wa,{variant:"ghost",size:"icon",className:"h-10 w-10 text-slate-500 hover:bg-white hover:text-primary dark:hover:bg-slate-800",children:s.jsx(W,{size:14})})]})]}),s.jsx("div",{className:"space-y-4",children:s.jsx(I,{mode:"popLayout",children:g.length>0?g.map((e,t)=>s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},transition:{delay:.05*t},children:s.jsx(Yr,{className:`group overflow-hidden border-none transition-all duration-300 ${o===e.id?"bg-primary shadow-2xl shadow-primary/20 ring-1 ring-primary":"bg-white shadow-xl shadow-slate-200/30 ring-1 ring-slate-100 hover:bg-slate-50 hover:ring-slate-200"} dark:bg-slate-900 dark:ring-slate-800`,children:s.jsxs(el,{className:"p-0",children:[s.jsxs("div",{className:"flex cursor-pointer items-center justify-between p-6",onClick:()=>{return t=e.id,void c(o===t?null:t);var t},children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl transition-colors "+(o===e.id?"bg-white/20 text-white":"bg-primary/10 text-primary group-hover:bg-primary group-hover:text-white"),children:s.jsx(He,{size:20})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"rounded-lg px-2 py-0.5 text-[9px] font-black uppercase tracking-widest "+(o===e.id?"bg-white/20 text-white":"bg-blue-50 text-blue-600 dark:bg-blue-900/30"),children:e.module_name}),s.jsxs("span",{className:"text-[9px] font-bold "+(o===e.id?"text-white/60":"text-slate-400"),children:["ID: #",e.id]})]}),s.jsx("h3",{className:"mt-1 text-lg font-black tracking-tight "+(o===e.id?"text-white":"text-slate-800 dark:text-slate-200"),children:e.question})]})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsx("div",{className:"transition-transform duration-300 "+(o===e.id?"rotate-180 text-white":"text-slate-300"),children:s.jsx(re,{})})})]}),s.jsx(I,{children:o===e.id&&s.jsx(S.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},children:s.jsxs("div",{className:"border-t border-white/10 p-8 pt-4",children:[s.jsx("div",{className:"rounded-2xl bg-white/10 p-6 text-white/90 backdrop-blur-sm",children:s.jsx("p",{className:"whitespace-pre-wrap font-medium leading-relaxed",children:e.answer})}),s.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[s.jsxs(Wa,{onClick:t=>{t.stopPropagation(),(e=>{d(e),i(!0)})(e)},className:"h-10 rounded-xl bg-white/20 px-6 font-bold text-white transition-all hover:bg-white/30",children:[s.jsx(E,{className:"mr-2"})," Edit FAQ"]}),s.jsxs(Wa,{onClick:t=>{t.stopPropagation(),zr("Delete FAQ","Are you sure you want to delete this FAQ?",()=>{return t=e.id,void h.mutate({api:ur.post_deleteFaq,data:{id:t}});var t})},className:"h-10 rounded-xl border border-white/20 bg-red-500/20 px-6 font-bold text-white transition-all hover:bg-red-500/40",children:[s.jsx(M,{className:"mr-2"})," Delete"]})]})]})})})]})})},e.id)):s.jsxs("div",{className:"flex flex-col items-center justify-center rounded-[2rem] border-2 border-dashed border-slate-200 bg-slate-50 py-20 dark:border-slate-800 dark:bg-slate-900/50",children:[s.jsx("div",{className:"mb-4 flex h-20 w-20 items-center justify-center rounded-3xl bg-slate-100 text-slate-300 dark:bg-slate-800",children:s.jsx(C,{size:32})}),s.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"No FAQs Found"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Try adjusting your search or create a new FAQ"})]})})}),s.jsx(ho,{open:l,onOpenChange:i,editData:n,onSubmit:e=>{const t={question:e.question,answer:e.answer,moduleId:e.moduelName};e.id?p.mutate({api:ur.post_editFaq,data:{...t,id:e.id}}):x.mutate({api:ur.post_addFaq,data:t})}})]})}function fo(){return s.jsx(Zr,{title:"FAQ Master",subTitle:"Manage All FAQs Here.",children:s.jsx(go,{})})}const bo={id:"",isSuspended:!1,key:"",assetFile:null,assetName:"",ulbId:1},vo=()=>{var t,a,r,l,i,n;const[d,o]=e.useState(1),[u,m]=e.useState(10),[x,p]=e.useState(""),h=e.useRef(null),[g,f]=e.useState(!1),[v,j]=e.useState(!1),[y,N]=e.useState(null),[k,_]=e.useState(null),[A,P]=e.useState(""),R=w({defaultValues:bo}),D=Qr({}),T=Kr({}),z=R.watch("assetFile"),F=Gr({api:or.api_getAssetsApiList,key:"assetsMasterList",options:{enabled:!0}}),O=Gr({api:or.api_getUlbList,key:"ulbListForAssets",options:{enabled:g}}),q=Gr({api:or.api_getAssetsApiById,key:`assetMasterById_${y??""}`,config:{id:y},options:{enabled:!!y&&v&&g}}),W=(null==(t=null==F?void 0:F.data)?void 0:t.data)||[];e.useEffect(()=>{const e=e=>{var t;!e.altKey||"s"!==e.key&&"S"!==e.key||(e.preventDefault(),e.stopPropagation(),null==(t=h.current)||t.focus())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]),e.useEffect(()=>{var e;if(!g)return;if(!v)return void R.reset(bo);const t=null==(e=null==q?void 0:q.data)?void 0:e.data;if(!t)return;const s=Array.isArray(t)?t[0]:t;s&&(_({data:s}),P(s.asset_file||""),R.reset({id:s.id||"",isSuspended:1===Number(s.is_suspended),key:s.key||"",assetFile:null,assetName:s.asset_name||"",ulbId:Number(s.ulb_id||1)}))},[g,v,null==q?void 0:q.data,R]),e.useEffect(()=>{if(z)if("string"!=typeof z){if(z instanceof File){const e=URL.createObjectURL(z);return P(e),()=>URL.revokeObjectURL(e)}}else P(z)},[z]);const $=e.useMemo(()=>{const e=x.trim().toLowerCase();return e?W.filter(t=>[t.asset_name,t.key,t.reference_no,t.unique_id].filter(Boolean).some(t=>String(t).toLowerCase().includes(e))):W},[W,x]),V=d*u,H=V-u,Z=$.slice(H,V),G=R.handleSubmit(async e=>{var t,s,a,r;try{const l=new FormData;l.append("id",String(v&&y||"")),l.append("key",e.key),l.append("assetName",e.assetName),l.append("ulbId",String(Number.isFinite(e.ulbId)?e.ulbId:1)),l.append("is_suspended",e.isSuspended?"1":"0"),e.assetFile instanceof File?l.append("assetFile",e.assetFile):(null==(t=null==k?void 0:k.data)?void 0:t.asset_file)&&l.append("assetFile",k.data.asset_file);const i=await T.mutateAsync({api:v?or.api_updateAssetsApi:or.api_PostAssetsApi,data:l});(null==(s=null==i?void 0:i.data)?void 0:s.status)?(c.success((null==(a=null==i?void 0:i.data)?void 0:a.message)||(v?"Asset updated successfully":"Asset created successfully")),f(!1),j(!1),N(null),_(null),P(""),R.reset(bo),F.refetch()):c.error((null==(r=null==i?void 0:i.data)?void 0:r.message)||"Failed to save asset")}catch(l){c.error(xr(l))}}),Q=e.useMemo(()=>{var e;return((null==(e=null==O?void 0:O.data)?void 0:e.data)||[]).filter(e=>e&&"number"==typeof e.id).map(e=>({value:String(e.id),label:e.ulb_name}))},[null==O?void 0:O.data]),K=[{value:(null==(a=null==k?void 0:k.data)?void 0:a.id)||"",name:"id"},{value:!1,name:"isSuspended"},{value:(null==(r=null==k?void 0:k.data)?void 0:r.key)||"",isRequired:!0,type:"text",label:"Assets Key",name:"key",isLabel:!0},{value:(null==(l=null==k?void 0:k.data)?void 0:l.asset_file)||"",isRequired:!0,type:"file",label:"Assets File",name:"assetFile",isLabel:!0},{value:(null==(i=null==k?void 0:k.data)?void 0:i.asset_name)||"",isRequired:!0,type:"text",label:"Assets Name",name:"assetName",isLabel:!0},{value:(null==(n=null==k?void 0:k.data)?void 0:n.ulb_id)||"",isRequired:!0,type:"number",label:"ULB ID",name:"ulbId",isLabel:!0}];return s.jsxs("div",{children:[s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(Yr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-blue-600/10 text-blue-600",children:s.jsx(Ge,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Asset Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-blue-600/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-blue-600",children:[$.length," Assets Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{ref:h,type:"text",placeholder:"Search by name, key, or reference...",value:x,onChange:e=>{p(e.target.value),o(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-20 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"}),s.jsx("div",{className:"absolute right-2.5 hidden items-center gap-1 sm:flex",children:s.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[s.jsx("span",{className:"text-xs",children:"Alt"}),"S"]})})]}),s.jsxs(Wa,{type:"button",onClick:()=>{j(!1),N(null),_(null),P(""),R.reset(bo),f(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New Asset"]})]})]})}),s.jsxs(el,{className:"p-0",children:[F.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(nl,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading assets..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(tl,{children:[s.jsx(sl,{children:s.jsxs(rl,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(ll,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(ll,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Asset"}),s.jsx(ll,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Key"}),s.jsx(ll,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"File"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"})]})}),s.jsx(al,{children:s.jsx(I,{children:Z.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:H+t+1})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[e.asset_file?s.jsx("img",{src:e.asset_file,alt:e.asset_name,className:"h-10 w-10 rounded-xl border object-cover"}):s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-blue-600/10 transition-colors group-hover/row:bg-blue-600/20",children:s.jsx(Qe,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:e.asset_name}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["REF: ",e.reference_no]})]})]})}),s.jsx(il,{className:"py-4",children:s.jsx("span",{className:"rounded-md bg-blue-600/10 px-2 py-1 text-xs font-bold text-blue-600",children:e.key})}),s.jsx(il,{className:"py-4",children:s.jsxs("a",{href:e.asset_file,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 text-xs font-semibold text-primary underline-offset-2 hover:underline",children:[s.jsx(Ke,{className:"h-3 w-3"}),"View file"]})}),s.jsx(il,{className:"py-4 text-center",children:s.jsxs("span",{className:La("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.status?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.status?s.jsx(B,{className:"h-3 w-3"}):s.jsx(U,{className:"h-3 w-3"}),1===e.status?"Active":"Inactive"]})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>(e=>{j(!0),N(e.id),_({data:e}),f(!0)})(e),className:"h-8 w-8 text-blue-600 hover:bg-blue-600/10 hover:text-blue-700",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>{return t=e.id,void zr("Delete Asset","Do you want to delete this asset?",async()=>{var e,s,a;try{const r=W.find(e=>e.id===t),l=null==r?void 0:r.is_suspended,i=await D.mutateAsync({api:or.api_deleteAssetsApi,data:{id:t,status:l?0:1}});(null==(e=null==i?void 0:i.data)?void 0:e.status)?(c.success((null==(s=null==i?void 0:i.data)?void 0:s.message)||"Asset deleted successfully"),F.refetch()):c.error((null==(a=null==i?void 0:i.data)?void 0:a.message)||"Failed to delete asset")}catch(r){c.error(xr(r))}});var t},className:"h-8 w-8 text-red-600 hover:bg-red-600/10 hover:text-red-700",children:s.jsx(M,{className:"h-4 w-4"})})]})})]},e.id))})})]}),$.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(dl,{currentPage:d,totalItems:$.length,itemsPerPage:u,onPageChange:o,onItemsPerPageChange:e=>{m(e),o(1)}})})]}),!F.isLoading&&0===$.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Ge,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No assets found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:x?"Try a different search term.":"Create your first asset record to populate the citizen landing page."})]})]})]})}),s.jsx(Ur,{open:g,onOpenChange:e=>{f(e),e||(j(!1),N(null),_(null),P(""),R.reset(bo))},children:s.jsxs(qr,{className:"max-h-[90vh] overflow-y-auto sm:max-w-2xl",children:[s.jsx(Wr,{children:s.jsx(Vr,{className:"text-xl font-bold",children:v?"Update Asset":"Add New Asset"})}),v&&q.isLoading?s.jsxs("div",{className:"py-10 text-center",children:[s.jsx(nl,{}),s.jsx("p",{className:"mt-3 text-sm text-muted-foreground",children:"Loading asset details..."})]}):s.jsxs("form",{onSubmit:G,className:"space-y-5",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[K.filter(e=>e.isLabel).map(e=>s.jsxs("div",{className:"assetFile"===e.name?"space-y-2 md:col-span-2":"space-y-2",children:[s.jsx(Al,{htmlFor:e.name,children:e.label}),"file"===e.type?s.jsx(cl,{id:e.name,type:"file",accept:"image/*",onChange:e=>{var t;const s=(null==(t=e.target.files)?void 0:t[0])||null;R.setValue("assetFile",s,{shouldDirty:!0})}}):"ulbId"===e.name?s.jsx(b,{control:R.control,name:"ulbId",render:({field:e})=>s.jsxs(xl,{value:void 0!==e.value&&null!==e.value?String(e.value):"",onValueChange:t=>e.onChange(Number(t)),children:[s.jsx(gl,{className:"h-10 rounded-xl",children:s.jsx(hl,{placeholder:O.isLoading?"Loading ULBs...":"Select ULB"})}),s.jsx(vl,{children:s.jsx(pl,{children:Q.map(e=>s.jsx(jl,{value:e.value,children:e.label},e.value))})})]})}):s.jsx(cl,{id:e.name,type:e.type,placeholder:"key"===e.name?"e.g. STATELOGO":"assetName"===e.name?"e.g. stateLogo":"Enter value",...R.register(e.name,{valueAsNumber:"number"===e.type})})]},e.name)),A?s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(Al,{children:"Preview"}),s.jsx("div",{className:"mt-2 rounded-xl border bg-muted/20 p-2",children:s.jsx("img",{src:A,alt:"Asset preview",className:"h-48 w-48 rounded-lg object-cover "})})]}):null]}),s.jsxs("div",{className:"flex items-center justify-end gap-2 border-t pt-4",children:[s.jsx(Wa,{type:"button",variant:"outline",onClick:()=>f(!1),children:"Cancel"}),s.jsx(Wa,{type:"submit",className:"min-w-[120px]",disabled:T.isPending,children:T.isPending?"Saving...":v?"Update Asset":"Create Asset"})]})]})]})})]})};function jo(){return s.jsx(Zr,{title:"Asset Master",subTitle:"Manage your assets here. ",children:s.jsx(vo,{})})}const yo={id:"",isSuspended:!1,sliderName:"",sliderImage:null},No=()=>{var t;const[a,r]=e.useState(1),[l,i]=e.useState(10),[n,d]=e.useState(""),o=e.useRef(null),[u,m]=e.useState(!1),[x,p]=e.useState(!1),[h,g]=e.useState(null),[f,b]=e.useState(null),[v,j]=e.useState(""),y=w({defaultValues:yo}),N=Qr({}),k=Kr({}),_=y.watch("sliderImage"),A=Gr({api:or.api_getSliderApiList,key:"slidersMasterList",options:{enabled:!0}}),P=Gr({api:or.api_getSliderById,key:`sliderMasterById_${h??""}`,config:{id:h},options:{enabled:!!h&&x&&u}}),R=(null==(t=null==A?void 0:A.data)?void 0:t.data)||[];e.useEffect(()=>{const e=e=>{var t;!e.altKey||"s"!==e.key&&"S"!==e.key||(e.preventDefault(),e.stopPropagation(),null==(t=o.current)||t.focus())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]),e.useEffect(()=>{var e;if(!u)return;if(!x)return void y.reset(yo);const t=null==(e=null==P?void 0:P.data)?void 0:e.data;if(!t)return;const s=Array.isArray(t)?t[0]:t;s&&(b({data:s}),j(s.slider_image_url||""),y.reset({id:s.id||"",isSuspended:1===Number(s.is_suspended),sliderName:s.slider_name||"",sliderImage:null}))},[u,x,null==P?void 0:P.data,y]),e.useEffect(()=>{if(_)if("string"!=typeof _){if(_ instanceof File){const e=URL.createObjectURL(_);return j(e),()=>URL.revokeObjectURL(e)}}else j(_)},[_]);const D=e.useMemo(()=>{const e=n.trim().toLowerCase();return e?R.filter(t=>[t.slider_name,t.reference_no,t.unique_id].filter(Boolean).some(t=>String(t).toLowerCase().includes(e))):R},[R,n]),M=a*l,T=M-l,z=D.slice(T,M),F=y.handleSubmit(async e=>{var t,s,a,r;try{const l=new FormData;x&&h&&l.append("id",String(h)),l.append("sliderName",e.sliderName),e.sliderImage instanceof File?l.append("sliderImage",e.sliderImage):(null==(t=null==f?void 0:f.data)?void 0:t.slider_image_url)&&l.append("sliderImage",f.data.slider_image_url);const i=await k.mutateAsync({api:x?or.api_updateSliderApi:or.api_PostSliderApi,data:l});(null==(s=null==i?void 0:i.data)?void 0:s.status)?(c.success((null==(a=null==i?void 0:i.data)?void 0:a.message)||(x?"Slider updated successfully":"Slider created successfully")),m(!1),p(!1),g(null),b(null),j(""),y.reset(yo),A.refetch()):c.error((null==(r=null==i?void 0:i.data)?void 0:r.message)||"Failed to save slider")}catch(l){c.error(xr(l))}});return s.jsxs("div",{children:[s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(Yr,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-blue-600/10 text-blue-600",children:s.jsx(Ge,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Slider Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-blue-600/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-blue-600",children:[D.length," Sliders Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{ref:o,type:"text",placeholder:"Search by name or reference...",value:n,onChange:e=>{d(e.target.value),r(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-20 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"}),s.jsx("div",{className:"absolute right-2.5 hidden items-center gap-1 sm:flex",children:s.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[s.jsx("span",{className:"text-xs",children:"Alt"}),"S"]})})]}),s.jsxs(Wa,{type:"button",onClick:()=>{p(!1),g(null),b(null),j(""),y.reset(yo),m(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New Slider"]})]})]})}),s.jsxs(el,{className:"p-0",children:[A.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(nl,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading sliders..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(tl,{children:[s.jsx(sl,{children:s.jsxs(rl,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(ll,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(ll,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Slider"}),s.jsx(ll,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Image"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(ll,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"})]})}),s.jsx(al,{children:s.jsx(I,{children:z.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(il,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:T+t+1})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:e.slider_name}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["REF: ",e.reference_no]})]})}),s.jsx(il,{className:"py-4",children:e.slider_image_url?s.jsx("img",{src:e.slider_image_url,alt:e.slider_name,className:"h-16 w-24 rounded-xl border object-cover"}):s.jsx("div",{className:"flex h-16 w-24 items-center justify-center rounded-xl bg-blue-600/10",children:s.jsx(Ge,{className:"h-6 w-6 text-blue-600"})})}),s.jsx(il,{className:"py-4 text-center",children:s.jsxs("span",{className:La("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.status?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.status?s.jsx(B,{className:"h-3 w-3"}):s.jsx(U,{className:"h-3 w-3"}),1===e.status?"Active":"Inactive"]})}),s.jsx(il,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsx(Wa,{variant:"ghost",size:"icon",onClick:()=>(e=>{p(!0),g(e.id),b({data:e}),m(!0)})(e),className:"h-8 w-8 text-blue-600 hover:bg-blue-600/10 hover:text-blue-700",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(wl,{checked:1===e.status,onCheckedChange:()=>(async(e,t)=>{var s,a,r;try{const l=await N.mutateAsync({api:or.api_deleteSliderApi,data:{id:e,status:1===t?0:1}});(null==(s=null==l?void 0:l.data)?void 0:s.status)?(c.success((null==(a=null==l?void 0:l.data)?void 0:a.message)||`Slider ${1===t?"deactivated":"activated"} successfully`),A.refetch()):c.error((null==(r=null==l?void 0:l.data)?void 0:r.message)||"Failed to update slider status")}catch(l){c.error(xr(l))}})(e.id,e.status),className:"data-[state=checked]:bg-green-500"})]})})]},e.id))})})]}),D.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(dl,{currentPage:a,totalItems:D.length,itemsPerPage:l,onPageChange:r,onItemsPerPageChange:e=>{i(e),r(1)}})})]}),!A.isLoading&&0===D.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Ge,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No sliders found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:n?"Try a different search term.":"Create your first slider to populate the citizen landing page."})]})]})]})}),s.jsx(Ur,{open:u,onOpenChange:e=>{m(e),e||(p(!1),g(null),b(null),j(""),y.reset(yo))},children:s.jsxs(qr,{className:"max-h-[90vh] overflow-y-auto sm:max-w-2xl",children:[s.jsx(Wr,{children:s.jsx(Vr,{className:"text-xl font-bold",children:x?"Update Slider":"Add New Slider"})}),x&&P.isLoading?s.jsxs("div",{className:"py-10 text-center",children:[s.jsx(nl,{}),s.jsx("p",{className:"mt-3 text-sm text-muted-foreground",children:"Loading slider details..."})]}):s.jsxs("form",{onSubmit:F,className:"space-y-5",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Al,{htmlFor:"sliderName",children:"Slider Name"}),s.jsx(cl,{id:"sliderName",type:"text",placeholder:"e.g. Property Slider",...y.register("sliderName")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Al,{htmlFor:"sliderImage",children:"Slider Image"}),s.jsx(cl,{id:"sliderImage",type:"file",accept:"image/*",onChange:e=>{var t;const s=(null==(t=e.target.files)?void 0:t[0])||null;y.setValue("sliderImage",s,{shouldDirty:!0})}})]}),v&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Al,{children:"Preview"}),s.jsx("div",{className:"mt-2 rounded-xl border bg-muted/20 p-2",children:s.jsx("img",{src:v,alt:"Slider preview",className:"h-32 w-full rounded-lg object-cover md:h-40"})})]})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2 border-t pt-4",children:[s.jsx(Wa,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancel"}),s.jsx(Wa,{type:"submit",className:"min-w-[120px]",disabled:k.isPending,children:k.isPending?"Saving...":x?"Update Slider":"Create Slider"})]})]})]})})]})};function wo(){return s.jsx(Zr,{title:"Slider Master",subTitle:"Manage your sliders here. ",children:s.jsx(No,{})})}const ko=t=>{return a=e.lazy(async()=>{try{return await t()}catch(e){}}),t=>s.jsx(e.Suspense,{fallback:s.jsx(Ar,{}),children:s.jsx(a,{...t})});var a},_o=ko(()=>Rr(()=>import("./index-BZlGPxK7.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]))),So=ko(()=>Rr(()=>import("./index-DlV-z17W.js"),__vite__mapDeps([9,1,2,5,4,6,7,8,3]))),Ao=ko(()=>Rr(()=>import("./index-De36Y-My.js"),__vite__mapDeps([10,1,2,3,5,4,6,7,8]))),Co=[{layout:"auth",pages:[{id:"1",name:"Login",path:"login",element:s.jsx(_o,{})}]},{layout:"dashboard",pages:[{id:"1",name:"Home",path:"home",element:s.jsx(So,{})},{id:"2",name:"Module List",path:"module-list",element:s.jsx(Ao,{})},{id:"3",name:"Menu List",path:"module-list/menu-list",element:s.jsx(Ql,{})},{id:"4",name:"Service List",path:"module-list/service-list",element:s.jsx(Xl,{})},{id:"5",name:"Role List",path:"module-list/role-list",element:s.jsx(ai,{})},{id:"6",name:"Workflow List",path:"module-list/workflow-list",element:s.jsx(li,{})},{id:"7",name:"Menu Role List",path:"module-list/role-list/manage-menu",element:s.jsx(di,{})},{id:"8",name:"Ulb Configuration",path:"ulb-list/ulb-configuration",element:s.jsx($i,{})},{id:"9",name:"Ulb List",path:"ulb-list",element:s.jsx(Gi,{})},{id:"10",name:"Permitted Module",path:"ulb-list/permitted-module",element:s.jsx(Yi,{})},{id:"11",name:"User List",path:"ulb-list/user-list",element:s.jsx(rn,{})},{id:"12",name:"Admin List",path:"ulb-list/admin-list",element:s.jsx(un,{})},{id:"13",name:"Manage Permission",path:"ulb-list/user-list/permission",element:s.jsx(nn,{})},{id:"14",name:"Construction Master",path:"common-masters/construction-master",element:s.jsx(hn,{})},{id:"15",name:"Floor Master",path:"common-masters/floor-master",element:s.jsx(vn,{})},{id:"16",name:"Objection Master",path:"common-masters/objection-master",element:s.jsx(wn,{})},{id:"17",name:"Usage Type Master",path:"common-masters/usage-type-master",element:s.jsx(An,{})},{id:"18",name:"Gb Building Master",path:"common-masters/gb-building-master",element:s.jsx(Pn,{})},{id:"19",name:"Occupancy Master",path:"common-masters/occupancy-master",element:s.jsx(Mn,{})},{id:"20",name:"Property Master",path:"common-masters/property-master",element:s.jsx(Un,{})},{id:"21",name:"Gb Usage Master",path:"common-masters/gb-usage-master",element:s.jsx(Wn,{})},{id:"22",name:"Occupancy Factor Master",path:"common-masters/occupancy-factor",element:s.jsx(Zn,{})},{id:"23",name:"Zone Master",path:"common-masters/zone-master",element:s.jsx(Yn,{})},{id:"24",name:"City Master",path:"common-masters/city-master",element:s.jsx(td,{})},{id:"25",name:"Water Master",path:"common-masters/water-master",element:s.jsx(ld,{})},{id:"26",name:"Road Type Master",path:"common-masters/road-type-master",element:s.jsx(od,{})},{id:"27",name:"Ownership Type Master",path:"common-masters/ownership-type-master",element:s.jsx(xd,{})},{id:"28",name:"Transfer Mode Master",path:"common-masters/transfer-mode-master",element:s.jsx(fd,{})},{id:"29",name:"Rebate Type Master",path:"common-masters/rebate-type-master",element:s.jsx(yd,{})},{id:"30",name:"Penalty Type Master",path:"common-masters/penalty-type-master",element:s.jsx(_d,{})},{id:"31",name:"Forgery Type Master",path:"common-masters/forgery-type-master",element:s.jsx(Ld,{})},{id:"32",name:"District Master",path:"common-masters/district-master",element:s.jsx(Dd,{})},{id:"33",name:"Capital Value Rate Master",path:"common-masters/capital-value-rate-master",element:s.jsx(Md,{})},{id:"34",name:"Building Rental Cost Master",path:"common-masters/building-rental-cost-master",element:s.jsx(Ud,{})},{id:"35",name:"Rental Value Master",path:"common-masters/rental-value-master",element:s.jsx(Wd,{})},{id:"36",name:"Road Type List Master",path:"common-masters/road-type-list-master",element:s.jsx(Zd,{})},{id:"37",name:"Vacant Rental Rate Master",path:"common-masters/vacant-rental-rate-list",element:s.jsx(Yd,{})},{id:"38",name:"Workflow Master",path:"workflow-master",element:s.jsx(mo,{})},{id:"39",name:"Faq Master",path:"faq-master",element:s.jsx(fo,{})},{id:"40",name:"Assets Master",path:"citizen-landing-page/assets-master",element:s.jsx(jo,{})},{id:"41",name:"Slider Master",path:"citizen-landing-page/slider-master",element:s.jsx(wo,{})}]},{layout:"citizen",pages:[]}];function Lo(){const{user:e}=hr();return s.jsxs(Ye,{children:[s.jsx(Je,{path:"/project-config",element:s.jsx(p,{to:"/project-config/dashboard/home"}),index:!0}),"ADMIN"==(null==e?void 0:e.roleName)&&s.jsx(Je,{path:"/project-config",element:s.jsx(p,{to:"/project-config/dashboard/home"}),index:!0}),"HRMS Employee"==(null==e?void 0:e.roleName)&&s.jsx(Je,{path:"/project-config",element:s.jsx(p,{to:"/project-config/employee/employee"}),index:!0}),s.jsx(Je,{path:"/project-config/citizen",element:s.jsx(Sr,{}),children:null==Co?void 0:Co.map(({layout:e,pages:t})=>"citizen"===e&&(null==t?void 0:t.map(({id:e,path:t,element:a})=>s.jsx(Je,{path:t,element:a},e))))}),s.jsx(Je,{path:"/project-config/auth",element:s.jsx(Lr,{children:s.jsx(za,{})}),children:null==Co?void 0:Co.map(({layout:e,pages:t})=>"auth"===e&&(null==t?void 0:t.map(({path:e,element:t,id:a})=>s.jsx(Je,{path:e,element:t},a))))}),s.jsx(Je,{path:"/project-config/dashboard",element:s.jsx(Cr,{children:s.jsx(_r,{})}),children:null==Co?void 0:Co.map(({layout:e,pages:t})=>"dashboard"===e&&(null==t?void 0:t.map(({id:e,path:t,element:a})=>s.jsx(Je,{path:t,element:a},e))))}),s.jsx(Je,{path:"*",element:s.jsx(Ir,{})}),s.jsx(Je,{path:"",element:s.jsx(p,{to:"/project-config",replace:!0})})]})}function Io(){return s.jsxs(Da,{children:[s.jsx(Xe,{position:"top-center",reverseOrder:!1,toastOptions:{}}),s.jsx(Lo,{})]})}const Po=new lt;et.createRoot(document.getElementById("root")).render(s.jsx(tt,{FallbackComponent:({error:e})=>s.jsx(Ra,{error:e}),onError:(e,t)=>{},children:s.jsx(_a,{children:s.jsx(it,{client:Po,children:s.jsx(st,{children:s.jsx(Ca,{defaultTheme:"light",storageKey:"theme",children:s.jsx(Io,{})})})})})}));export{ml as B,Yr as C,Vl as D,ol as F,cl as I,Zr as P,ul as R,$l as S,tl as T,fr as a,Gr as b,jr as c,dr as d,Wa as e,kl as f,xr as g,el as h,nl as i,sl as j,rl as k,ll as l,ur as m,al as n,il as o,La as p,zr as q,Qr as u};
