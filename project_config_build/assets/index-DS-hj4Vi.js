const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CAzWka9u.js","assets/vendor-DUcy6dBF.js","assets/vendor-DLy2ZVNp.css","assets/yup-hbppKGrv.js","assets/ui-CGFFDEYC.js","assets/query-P2T-u4Q1.js","assets/icons-DIENFbJ9.js","assets/axios-Dos3PyFQ.js","assets/zustand-eVguypP6.js","assets/index-LuOMfqvl.js","assets/index-BHycbu9l.js"])))=>i.map(i=>d[i]);
import{r as e,c as t,j as s,f as a,g as r,i,O as l,u as n,L as d,k as o,z as c,l as u,m,n as x,N as p,o as h,F as g,q as f,C as v,v as j,w as b,D as y,x as N,y as w,A as k,B as _,E as S,G as A,H as C,I as L,J as I,K as P,M as R,P as E,Q as D,S as M,T as U,U as F,V as T,W as z,X as B,Y as q,Z as O,_ as W,$ as V,a0 as $,a1 as H,a2 as Q,a3 as Z,a4 as G,a5 as K,a6 as Y,a7 as J,a8 as X,a9 as ee,aa as te,ab as se,ac as ae,ad as re,ae as ie,af as le,ag as ne,ah as de,ai as oe,aj as ce,ak as ue,al as me,am as xe,an as pe,ao as he,ap as ge,aq as fe,ar as ve,as as je,at as be,au as ye,av as Ne,aw as we,ax as ke,ay as _e,az as Se,aA as Ae,aB as Ce,aC as Le,aD as Ie,aE as Pe,aF as Re,aG as Ee,aH as De,aI as Me,aJ as Ue,aK as Fe,aL as Te,aM as ze,aN as Be,aO as qe,aP as Oe,aQ as We,aR as Ve,aS as $e,aT as He,aU as Qe,aV as Ze,aW as Ge,aX as Ke,aY as Ye,aZ as Je,a_ as Xe,a$ as et,b0 as tt,b1 as st,b2 as at,b3 as rt,b4 as it,b5 as lt,b6 as nt,b7 as dt,b8 as ot,b9 as ct,ba as ut,bb as mt,bc as xt,bd as pt}from"./vendor-DUcy6dBF.js";import{u as ht,a as gt,Q as ft,b as vt}from"./query-P2T-u4Q1.js";import{S as jt,C as bt,P as yt,R as Nt,T as wt,a as kt,b as _t,c as St,d as At,e as Ct,f as Lt,g as It,h as Pt,I as Rt,i as Et,j as Dt,k as Mt,l as Ut,D as Ft,L as Tt,m as zt,n as Bt,o as qt,G as Ot,p as Wt,q as Vt,F as $t,O as Ht,r as Qt,s as Zt,t as Gt,u as Kt,v as Yt,w as Jt,x as Xt,y as es,z as ts,A as ss,B as as,E as rs,H as is,J as ls,V as ns,K as ds,M as os,N as cs,Q as us,U as ms,W as xs,X as ps,Y as hs,Z as gs,_ as fs,$ as vs,a0 as js,a1 as bs,a2 as ys,a3 as Ns,a4 as ws,a5 as ks,a6 as _s,a7 as Ss,a8 as As,a9 as Cs,aa as Ls,ab as Is,ac as Ps,ad as Rs,ae as Es,af as Ds,ag as Ms,ah as Us,ai as Fs,aj as Ts,ak as zs,al as Bs,am as qs,an as Os,ao as Ws,ap as Vs,aq as $s,ar as Hs}from"./ui-CGFFDEYC.js";import{I as Qs,L as Zs,a as Gs,C as Ks,b as Ys,c as Js,d as Xs,e as ea,f as ta,g as sa,h as aa,i as ra,j as ia,k as la,l as na,m as da,n as oa,o as ca,p as ua,q as ma,r as xa,U as pa,K as ha,B as ga,s as fa,t as va,E as ja,u as ba,v as ya,w as Na,x as wa,y as ka,z as _a,A as Sa,D as Aa,X as Ca,F as La,G as Ia}from"./icons-DIENFbJ9.js";import{a as Pa}from"./axios-Dos3PyFQ.js";import{c as Ra}from"./zustand-eVguypP6.js";import{c as Ea,a as Da,b as Ma,d as Ua,e as Fa}from"./yup-hbppKGrv.js";function Ta({children:e}){return s.jsx(s.Fragment,{children:e})}function za({children:s}){return e.useEffect(()=>{var e;const a=t.Children.toArray(s);for(const t of a)if(t&&"object"==typeof t){if("title"===t.type){const s=null==(e=t.props)?void 0:e.children;"string"==typeof s?document.title=s:Array.isArray(s)&&(document.title=s.join(""))}if("meta"===t.type){const e=t.props||{};if(e.name){let t=document.head.querySelector(`meta[name="${e.name}"]`);t||(t=document.createElement("meta"),t.setAttribute("name",e.name),document.head.appendChild(t)),e.content&&t.setAttribute("content",e.content)}if(e.property){let t=document.head.querySelector(`meta[property="${e.property}"]`);t||(t=document.createElement("meta"),t.setAttribute("property",e.property),document.head.appendChild(t)),e.content&&t.setAttribute("content",e.content)}}}},[s]),null}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const Ba=e.createContext({theme:"system",setTheme:()=>null});function qa({children:t,defaultTheme:a="system",storageKey:r="vite-ui-theme",...i}){const[l,n]=e.useState(()=>localStorage.getItem(r)||a);e.useEffect(()=>{const e=window.document.documentElement;if(e.classList.remove("light","dark"),"system"===l){const t=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";return void e.classList.add(t)}e.classList.add(l)},[l]);const d={theme:l,setTheme:e=>{localStorage.setItem(r,e),n(e)}};return s.jsx(Ba.Provider,{...i,value:d,children:t})}function Oa(...e){return a(r(e))}const Wa=i("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Va=e.forwardRef(({className:e,variant:t,size:a,asChild:r=!1,...i},l)=>{const n=r?jt:"button";return s.jsx(n,{className:Oa(Wa({variant:t,size:a,className:e})),ref:l,...i})});function $a({error:e}){return s.jsx("div",{className:"flex h-screen items-center justify-center",children:s.jsxs("div",{className:"space-y-2 px-6 text-center",children:[s.jsx("h1",{className:"text-xl font-bold text-red-500",children:"Error"}),s.jsx("p",{className:"text-sm font-semibold text-gray-500",children:e.message}),s.jsx(Va,{onClick:()=>window.location.reload(),variant:"destructive",size:"sm",children:"Reload"})]})})}Va.displayName="Button";const Ha=yt,Qa=Nt,Za=wt,Ga=e.forwardRef(({className:e,sideOffset:t=4,...a},r)=>s.jsx(bt,{ref:r,sideOffset:t,className:Oa("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a}));function Ka(){return s.jsxs("div",{className:"flex h-screen w-full flex-col justify-center",children:[s.jsx("main",{children:s.jsx(l,{})}),s.jsx("footer",{className:"absolute bottom-0 w-full py-6 text-center"})]})}Ga.displayName=bt.displayName;const Ya=e.createContext(null),Ja=({className:t,fixed:a=!1,...r})=>{const i=e.useRef(null),[l,n]=e.useState(0);return e.useEffect(()=>{const e=i.current;if(!e)return;const t=()=>n(e.scrollTop);return e.removeEventListener("scroll",t),e.addEventListener("scroll",t,{passive:!0}),()=>e.removeEventListener("scroll",t)},[]),s.jsx(Ya.Provider,{value:{offset:l,fixed:a},children:s.jsx("div",{ref:i,"data-layout":"layout",className:Oa("h-full overflow-auto",a&&"flex flex-col",t),...r})})};Ja.displayName="Layout";const Xa=e.forwardRef(({className:t,sticky:a,...r},i)=>{const l=e.useContext(Ya);if(null===l)throw new Error(`Layout.Header must be used within ${Ja.displayName}.`);return s.jsx("div",{ref:i,"data-layout":"header",className:Oa("z-10 flex h-[var(--header-height)] w-full items-center gap-4 bg-background p-4 md:px-8",a?"sticky top-0":"relative",l.offset>10&&a?"shadow":"shadow-none",l.fixed&&"flex-none ",t),...r})});Xa.displayName="Header";const er=e.forwardRef(({className:t,...a},r)=>{const i=e.useContext(Ya);if(null===i)throw new Error(`Layout.Body must be used within ${Ja.displayName}.`);return s.jsx("div",{ref:r,"data-layout":"body",className:Oa("px-3 py-4 md:overflow-hidden md:px-6",i&&i.fixed&&"flex-1",t),...a})});er.displayName="Body",Ja.Header=Xa,Ja.Body=er;const tr=i("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),sr=e.forwardRef(({className:e,variant:t,size:a,asChild:r=!1,children:i,disabled:l,loading:n=!1,leftSection:d,rightSection:o,...c},u)=>{const m=r?jt:"button";return s.jsxs(m,{className:Oa(tr({variant:t,size:a,className:e})),disabled:n||l,ref:u,...c,children:[(d&&n||!d&&!o&&n)&&s.jsx(Qs,{className:"mr-2 h-4 w-4 animate-spin"}),!n&&d&&s.jsx("div",{className:"mr-2",children:d}),i,!n&&o&&s.jsx("div",{className:"ml-2",children:o}),o&&n&&s.jsx(Qs,{className:"ml-2 h-4 w-4 animate-spin"})]})});sr.displayName="Button";const ar=kt,rr=_t,ir=St,lr=Bt,nr=qt,dr=Ot;e.forwardRef(({className:e,inset:t,children:a,...r},i)=>s.jsxs(At,{ref:i,className:Oa("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[a,s.jsx(Ct,{className:"ml-auto h-4 w-4"})]})).displayName=At.displayName;e.forwardRef(({className:e,...t},a)=>s.jsx(Lt,{ref:a,className:Oa("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})).displayName=Lt.displayName;const or=e.forwardRef(({className:e,sideOffset:t=4,...a},r)=>s.jsx(It,{children:s.jsx(Pt,{ref:r,sideOffset:t,className:Oa("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})}));or.displayName=Pt.displayName;const cr=e.forwardRef(({className:e,inset:t,...a},r)=>s.jsx(Rt,{ref:r,className:Oa("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...a}));cr.displayName=Rt.displayName;e.forwardRef(({className:e,children:t,checked:a,...r},i)=>s.jsxs(Et,{ref:i,className:Oa("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:a,...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Dt,{children:s.jsx(Mt,{className:"h-4 w-4"})})}),t]})).displayName=Et.displayName;e.forwardRef(({className:e,children:t,...a},r)=>s.jsxs(Ut,{ref:r,className:Oa("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Dt,{children:s.jsx(Ft,{className:"h-4 w-4 fill-current"})})}),t]})).displayName=Ut.displayName;const ur=e.forwardRef(({className:e,inset:t,...a},r)=>s.jsx(Tt,{ref:r,className:Oa("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...a}));ur.displayName=Tt.displayName;const mr=e.forwardRef(({className:e,...t},a)=>s.jsx(zt,{ref:a,className:Oa("-mx-1 my-1 h-px bg-muted",e),...t}));function xr(){const{pathname:e}=n();return{checkActiveNav:t=>!!e.includes(t)}}function pr({links:t,isCollapsed:a,className:r,closeNav:i}){return s.jsx("div",{"data-collapsed":a,className:Oa("group py-5 transition-all duration-500 data-[collapsed=true]:py-3",r),children:s.jsx(Ha,{delayDuration:0,children:s.jsx("nav",{className:"grid gap-1.5 px-3 group-[[data-collapsed=true]]:justify-center group-[[data-collapsed=true]]:px-2",children:t.map(({sub:t,...s})=>{const r=`${s.title}-${s.href}`;return a&&t?e.createElement(vr,{...s,sub:t,key:r,closeNav:i}):a?e.createElement(fr,{...s,key:r,closeNav:i}):t?e.createElement(gr,{...s,sub:t,key:r,closeNav:i}):e.createElement(hr,{...s,key:r,closeNav:i})})})})})}function hr({title:e,icon:t,label:a,href:r,closeNav:i,subLink:l=!1}){const{checkActiveNav:n}=xr(),o=n(r);return s.jsxs(d,{to:r,onClick:i,className:Oa("group relative flex items-center gap-3 rounded-xl px-3.5 py-2.5 font-medium transition-all duration-200",l&&"py-2 pl-11 text-[0.9375rem]",o&&!l&&"bg-primary text-primary-foreground shadow-sm",o&&l&&"bg-primary/10 font-bold text-primary",!o&&!l&&"text-slate-500  hover:bg-accent hover:text-accent-foreground dark:text-slate-400",!o&&l&&"text-slate-500/90 hover:bg-accent/50 hover:text-accent-foreground dark:text-slate-400/90"),"aria-current":o?"page":void 0,children:[!l&&s.jsx("div",{className:Oa("flex items-center justify-center transition-transform duration-200",o&&"scale-105"),children:"Dashboard"==e?s.jsx(Js,{className:"h-[1.125rem] w-[1.125rem]"}):s.jsx(Ys,{className:"h-[1.125rem] w-[1.125rem]"})}),l&&s.jsx("div",{className:"absolute left-5 top-1/2 flex -translate-y-1/2 items-center",children:s.jsx(Ks,{className:Oa("h-1.5 w-1.5 transition-all duration-200",o?"scale-125 fill-primary text-primary":"fill-muted-foreground/50 text-muted-foreground/50 group-hover:fill-muted-foreground group-hover:text-muted-foreground")})}),s.jsx("span",{className:"flex-1",children:e}),a&&s.jsx("div",{className:Oa("rounded-full px-2 py-0.5 text-[0.625rem] font-bold uppercase tracking-wide transition-all duration-200",o&&!l&&"bg-primary-foreground text-primary",o&&l&&"bg-primary text-primary-foreground",!o&&"bg-slate-200 text-slate-600 dark:bg-slate-800 dark:text-slate-400"),children:a}),o&&s.jsx("div",{className:Oa("absolute left-0 top-1/2 h-8 w-1 -translate-y-1/2 rounded-r-full transition-all duration-200",!l&&"bg-white",l&&"h-6 bg-primary")})]})}function gr({title:e,icon:t,label:a,sub:r,closeNav:i}){const{checkActiveNav:l}=xr(),n=!!(null==r?void 0:r.find(e=>l(e.href)));return s.jsxs(ar,{defaultOpen:n,children:[s.jsxs(rr,{className:Oa("group relative flex w-full items-center gap-3 rounded-xl px-3.5 py-2.5 font-medium transition-all duration-200",n?"bg-primary text-primary-foreground shadow-sm":"text-slate-500 hover:bg-accent hover:text-accent-foreground dark:text-slate-400"),children:[s.jsx("div",{className:Oa("flex items-center justify-center transition-transform duration-200",n&&"scale-105"),children:s.jsx(Zs,{className:"h-[1.125rem] w-[1.125rem]"})}),s.jsx("span",{className:"flex-1 text-left",children:e}),a&&s.jsx("div",{className:Oa("rounded-full px-2 py-0.5 text-[0.625rem] font-bold uppercase tracking-wide transition-all duration-200",n?"bg-white/95 text-blue-700":"bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-sm"),children:a}),s.jsx("span",{className:Oa('transition-transform duration-300 ease-out group-data-[state="open"]:rotate-180',n?"text-white/90":"text-muted-foreground/60"),children:s.jsx(Gs,{stroke:2,size:16})}),n&&s.jsx("div",{className:"absolute left-0 top-1/2 h-8 w-1 -translate-y-1/2 rounded-r-full bg-white shadow-lg shadow-white/50"})]}),s.jsx(ir,{className:"data-[state=closed]:animate-collapsible-up data-[state=open]:animate-collapsible-down overflow-hidden transition-all duration-300 ease-out",asChild:!0,children:s.jsx("ul",{className:"mt-1 space-y-0.5 pb-1",children:null==r?void 0:r.filter(e=>null==e?void 0:e.is_sidebar).map(e=>s.jsx("li",{children:s.jsx(hr,{...e,subLink:!0,closeNav:i})},e.title))})})]})}function fr({title:e,icon:t,label:a,href:r,closeNav:i}){const{checkActiveNav:l}=xr(),n=l(r);return s.jsxs(Qa,{delayDuration:0,children:[s.jsx(Za,{asChild:!0,children:s.jsxs(d,{to:r,onClick:i,className:Oa("relative flex h-9 w-9 items-center justify-center rounded-lg transition-all duration-200",n&&"scale-105 bg-primary text-primary-foreground shadow-sm",!n&&"text-slate-500 hover:scale-105 hover:bg-accent hover:text-accent-foreground dark:text-slate-400"),children:[s.jsx("div",{className:"transition-transform duration-200",children:s.jsx(Ys,{className:"h-5 w-5"})}),s.jsx("span",{className:"sr-only",children:e}),n&&s.jsx("div",{className:"absolute -right-0.5 -top-0.5",children:s.jsx("div",{className:"rounded-ful h-2.5 w-2.5 shadow-none ring-2 ring-background"})})]})}),s.jsxs(Ga,{side:"right",className:"flex items-center gap-3 border bg-popover px-3 py-2 text-popover-foreground shadow-xl",children:[s.jsx("span",{className:"text-sm font-medium",children:e}),a&&s.jsx("span",{className:"rounded-full bg-orange-500 px-2 py-0.5 text-[0.625rem] font-bold uppercase shadow-sm",children:a})]})]})}function vr({title:e,icon:t,label:a,sub:r,closeNav:i}){const{checkActiveNav:l}=xr(),n=!!(null==r?void 0:r.find(e=>l(e.href)));return s.jsxs(lr,{children:[s.jsxs(Qa,{delayDuration:0,children:[s.jsx(Za,{asChild:!0,children:s.jsx(nr,{asChild:!0,children:s.jsxs(sr,{variant:"ghost",size:"icon",className:Oa("relative h-9 w-9 rounded-lg transition-all duration-200",n&&"scale-105 bg-primary text-primary-foreground shadow-sm",!n&&"text-slate-500 hover:scale-105 hover:bg-accent hover:text-accent-foreground dark:text-slate-400"),children:[s.jsx(Zs,{className:"h-[1.125rem] w-[1.125rem]"}),n&&s.jsx("div",{className:"absolute -right-1 -top-1",children:s.jsx("div",{className:"h-2.5 w-2.5 rounded-full bg-primary shadow-none ring-2 ring-background"})})]})})}),s.jsxs(Ga,{side:"right",className:"flex items-center gap-3 border bg-popover px-3 py-2 text-popover-foreground shadow-xl",children:[s.jsx("span",{className:"text-sm font-medium",children:e}),a&&s.jsx("span",{className:"rounded-full bg-orange-500 px-2 py-0.5 text-[0.625rem] font-bold uppercase shadow-sm",children:a}),s.jsx(Gs,{size:16,className:"-rotate-90 text-slate-400"})]})]}),s.jsxs(or,{side:"right",align:"start",sideOffset:8,className:"min-w-[220px] rounded-xl border bg-popover p-1.5 shadow-xl",children:[s.jsxs(ur,{className:"px-3 py-2 text-xs font-semibold uppercase tracking-wider text-foreground",children:[e," ",a&&`(${a})`]}),s.jsx(mr,{className:"my-1"}),s.jsx("div",{className:"space-y-0.5",children:r.map(({title:e,icon:t,label:a,href:r})=>s.jsx(cr,{asChild:!0,className:"p-0",children:s.jsxs(d,{to:r,onClick:i,className:Oa("mx-1 flex items-center gap-3 rounded-lg px-3 py-2 transition-all duration-200",l(r)?"bg-gradient-to-r from-blue-600 to-indigo-600 font-semibold text-white shadow-md":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),children:[s.jsx(Ks,{className:Oa("h-1.5 w-1.5 shrink-0 transition-all duration-200",l(r)?"fill-white text-white":"fill-muted-foreground/50 text-muted-foreground/50")}),s.jsx("span",{className:"flex-1 text-wrap text-sm",children:e}),a&&s.jsx("span",{className:Oa("rounded-full px-2 py-0.5 text-[0.625rem] font-bold uppercase shadow-sm",l(r)?"bg-white/95 text-blue-700":"bg-orange-500 text-white"),children:a})]})},`${e}-${r}`))})]})]})}mr.displayName=zt.displayName;const jr=Pa.create({baseURL:"https://jharkhandegovernance.com/auth"});function br(e,t){const s=e.currentTarget;if(t.includes("mobile")){const e=s.value;e.length>10&&(s.value=e.slice(0,10))}if(t.includes("zip")){const e=s.value;e.length>6&&(s.value=e.slice(0,6))}if(t.includes("aadhaar")){const e=s.value;e.length>12&&(s.value=e.slice(0,12))}if(t.includes("pan")){const e=s.value;e.length>10&&(s.value=e.slice(0,10))}if(t.includes("UAN")){const e=s.value;e.length>12&&(s.value=e.slice(0,12))}if(t.includes("Passport")){const e=s.value;e.length>8&&(s.value=e.slice(0,8))}if(t.includes("drivingLicence")){const e=s.value;e.length>15&&(s.value=e.slice(0,15))}if(t.includes("removeDoubleSpace")){const e=s.value;s.value=e.replace(/\s+/g," ")}if(t.includes("removeSpecialCharacter")){const e=s.value;s.value=e.replace(/[^a-zA-Z0-9]/g,"")}if(t.includes("removeSpecialCharacterExceptSpace")){const e=s.value;s.value=e.replace(/[^a-zA-Z0-9 ]/g,"")}if(t.includes("removeSpecialCharacterExceptSpaceAndDot")){const e=s.value;s.value=e.replace(/[^a-zA-Z0-9 .]/g,"")}if(t.includes("sqlInjectionGuard")){const e=s.value;(e.includes("drop")||e.includes("select"))&&(s.value="")}if(t.includes("address")){const e=s.value;s.value=e.replace(/[^a-zA-Z0-9 ,]/g,"")}if(t.includes("phone")){const e=s.value;s.value=e.replace(/[^0-9]/g,"")}if(t.includes("email")){const e=s.value;s.value=e.replace(/[^a-zA-Z0-9@.]/g,"")}if(t.includes("string")){const e=s.value;s.value=e.replace(/[^a-zA-Z ]/g,"")}if(t.includes("number")){const e=s.value;s.value=e.replace(/[^0-9]/g,"")}if(t.includes("removeDoubleQuote")){const e=s.value;s.value=e.replace(/"/g,"")}if(t.includes("removeSingleQuote")){const e=s.value;s.value=e.replace("'","")}if(t.includes("removeSpecialCharacterWithDoubleSpace")){const e=s.value;s.value=e.replace(/[^a-zA-Z0-9 ]/g,"");const t=s.value;s.value=t.replace(/\s+/g," ")}if(t.includes("CapitalFirstLetter")){const e=s.value;s.value=e.charAt(0).toUpperCase()+e.slice(1)}if(t.includes("UppercaseAfterSpace")){const e=s.value;s.value=e.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}if(t.includes("Uppercase")){const e=s.value;s.value=e.toUpperCase()}if(t.includes("removeSpace")){const e=s.value;s.value=e.replace(/\s+/g,"")}if(t.includes("Lowercase")){const e=s.value;s.value=e.toLowerCase()}if(t.includes("none")){const e=s.value;s.value=e}if(t.includes("decimal")){let e=s.value.replace(/[^0-9.]/g,"");const t=e.split(".");t.length>2&&(e=t[0]+"."+t.slice(1).join("")),2===t.length&&t[1].length>2&&(e=t[0]+"."+t[1].slice(0,2)),s.value=e}if(t.includes("maxTwoDecimalPlaces")){const e=s.value;e.length>2&&(s.value=e.slice(0,2))}}jr.interceptors.request.use(e=>{const t=localStorage.getItem("token"),s=localStorage.getItem("ulbId")||null;return e.params={...e.params,ulbId:s},t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>{throw new Error(e)}),jr.interceptors.response.use(e=>{var t,s;return"false"==(null==(t=e.data)?void 0:t.authenticated)&&(delete jr.defaults.headers.common.Authorization,localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),localStorage.setItem("authenticated",null==(s=e.data)?void 0:s.authenticated),alert("Session Expired"),location.reload()),e},async e=>{throw new Error(e)}),o({language:"en",isGrid:!1,isSort:!1});const yr={login:"/api/login",getUser:"/api/user-managment/get-user-dtls",byModule:"/api/menu/by-module",getAllUsers:"/api/user-managment/v1/crud/get/user-list-by-ulb-id-v1",changePassword:"/api/change-password",getCaptcha:"/api/login-Captcha"},Nr={getMenuRoleList:"/api/user-managment/v1/crud/menu-role/list",api_getNotification:"/api/get-user-notifications",api_getDashboard:"/",api_getFreeMenuList:"/api/menu/by-module",api_getUlbWardList:"/api/get-all-ulb-ward",api_getUlbList:"/api/v2/get-all-ulb",api_getAllUlb:"/api/get-all-ulb",api_getUlbLogoList:"/api/get-upload/ulb-logo",api_PostUlb:"/api/create-ulb-master",api_PostUlblogo:"/api/upload/ulb-logo-by-id",api_getUlbById:"/api/get-ulb-by-id",api_updateUlb:"/api/updateUlbId",api_deleteUlb:"/api/ulb-master-delete",api_getWardListByULB:"/api/workflow/getWardByUlb",api_createUlbWard:"/api/create-ulb_ward_masters",api_updateUlbWard:"/api/update-ulb_ward_masters",api_deleteUlbWard:"/api/delete-ulb_ward_masters",api_getFinancialYearList:"/api/property/reports/list-fy",api_getDistrictList:"/api/list-district",api_getUlbWiseCollection:"/api/dashboard/state/ulb-wise-collection",api_getDcbMonthly:"/api/dashboard/state/property/DCB",api_getOnlinePaymentCount:"/api/dashboard/state/count-online-payment",api_getPercentageWiseModuleCollection:"/api/dashboard/state/collection-percentage",api_getUlbDataByDistrict:"/api/dashboard/state/district-wise-data",api_getOnlineUsers:"/",api_checkHeartBeat:"/api/heartbeat",api_logout:"/api/logout",api_getHeatMapDataByWard:"/api/property/getpropLatLong",api_wardByUlb:"/api/workflow/getWardByUlb",api_getTcByWard:"/api/workflow/ward-user/list-tc",ulbListApi:"/api/get-all-ulb",zone_list_Api:"/api/get-zone",api_deleteZoneApi:"/api/delete-zone",api_PostZoneApi:"/api/create-zone",api_zone_by_id:"/api/get-zone-by-id",api_updateZoneApi:"/api/update-zone",api_getRoleList:"/api/crud/roles/get-all-roles",api_postRole:"/api/crud/roles/save-role",api_deleteRole:"/api/crud/roles/delete-role",api_editRole:"/api/crud/roles/edit-role",api_getUserList:"/api/get-all-users",api_postUser:"/api/authorised-register",getMenuRole:"/api/user-managment/v1/crud/menu-role/list",api_PostMenuRole:"/api/user-managment/v1/crud/menu-role/save",api_deleteMenuRole:"/api/user-managment/v1/crud/menu-role/delete",api_updateMenuRole:"/api/user-managment/v1/crud/menu-role/edit",api_getMenuListByMenuRoleId:"/api/user-managment/v1/crud/menu-role/menu-list",api_updateMenuRoleMapping:"/api/user-managment/v1/crud/menu-role-map/save",getApiRole:"/api/user-managment/v1/crud/api-role/list",api_PostApiRole:"/api/user-managment/v1/crud/api-role/save",api_deleteApiRole:"/api/user-managment/v1/crud/api-role/delete",api_updateApiRole:"/api/user-managment/v1/crud/api-role/edit",api_getApiListByApiRoleId:"/api/user-managment/v1/crud/api-role/api-list",api_updateApiRoleMapping:"/api/user-managment/v1/crud/api-role-map/save",getWorkflowRole:"/api/user-managment/v1/crud/workflow-role/list",getWorkflowRoleById:"/api/user-managment/v1/crud/workflow-role/get",api_PostWorkflowRole:"/api/user-managment/v1/crud/workflow-role/save",api_deleteWorkflowRole:"/api/user-managment/v1/crud/workflow-role/delete",api_updateWorkflowRole:"/api/user-managment/v1/crud/workflow-role/edit",api_getMenuList:"/api/user-managment/v1/crud/menu/list",api_PostMenu:"/api/user-managment/v1/crud/menu/save",api_deleteMenu:"/api/user-managment/v1/crud/menu/delete",api_updateMenu:"/api/user-managment/v1/crud/menu/edit",api_getMenuById:"/api/user-managment/v1/crud/menu/get",api_getApiList:"/api/user-managment/v1/crud/api-master/list",api_PostApi:"/api/user-managment/v1/crud/api-master/save",api_deleteApi:"/api/user-managment/v1/crud/api-master/delete",api_updateApi:"/api/user-managment/v1/crud/api-master/edit",api_getApiById:"/api/user-managment/v1/crud/api-master/get",api_getUserLists:"/api/user-managment/v1/crud/user/list",api_PostUser:"/api/user-managment/v1/crud/user/create",api_EnalbeDisableUser:"/api/user-managment/v1/crud/user/delete",api_updateUser:"/api/user-managment/v1/crud/user/update",api_getUserById:"/api/user-managment/v1/crud/user/get",api_getModuleList:"/api/user-managment/v1/crud/module/list",api_getWorkflowByModule:"/api/user-managment/v1/crud/workflow-by-module",api_getParentMenuList:"/api/user-managment/v1/crud/menu/list-parent-serial",api_getApiCategory:"/api/user-managment/v1/api-category",api_getApiDeveloperList:"/api/user-managment/v1/developer-list",api_getMenuRolesByUser:"/api/user-managment/v1/crud/menu-role-user/by-user",api_getApiRolesByUser:"/api/user-managment/v1/crud/api-role-user/by-user",api_getWorkflowRolesByUser:"/api/user-managment/v1/crud/workflow-role-user/by-user",api_getUserTypeList:"/api/user-managment/v1/crud/get/user-type",api_postMenuRoleUserMapping:"/api/user-managment/v1/crud/menu-role-user/save",api_postApiRoleUserMapping:"/api/user-managment/v1/crud/api-role-user/save",api_postWorkflowRoleUserMapping:"/api/user-managment/v1/crud/workflow-role-user/save",api_postWardUserMapping:"/api/user-managment/v1/crud/ward-user/save",api_getWardListByUser:"/api/user-managment/v1/crud/ward-user/by-user",api_getConstructionApiList:"/api/property/ref-prop-construction-type-list",api_PostConstructionApi:"/api/property/ref-prop-construction-type-create",api_getConstructionApiById:"/api/property/ref-prop-construction-type-get",api_updateConstructionApi:"/api/property/ref-prop-construction-type-update",api_deleteConstructionApi:"/api/property/ref-prop-construction-type-delete",api_getFloorApiList:"/api/property/ref-prop-floor-type-list",api_PostFloorApi:"/api/property/ref-prop-floor-type-create",api_getFloorApiById:"/api/property/ref-prop-floor-type-get",api_updateFloorApi:"/api/property/ref-prop-floor-type-update",api_deleteFloorApi:"/api/property/ref-prop-floor-type-delete",api_getUsageTypeApiList:"/api/property/ref-prop-usage-type-list",api_PostUsageTypeApi:"/api/property/ref-prop-usage-type-create",api_getUsageTypeApiById:"/api/property/ref-prop-usage-type-get",api_updateUsageTypeApi:"/api/property/ref-prop-usage-type-update",api_deleteUsageTypeApi:"/api/property/ref-prop-usage-type-delete",api_getGbBuildingApiList:"/api/property/ref-prop-gbbuilding-type-list",api_PostGbBuildingApi:"/api/property/ref-prop-gbbuilding-type-create",api_getGbBuildingApiById:"/api/property/ref-prop-gbbuilding-type-get",api_updateGbBuildingApi:"/api/property/ref-prop-gbbuilding-type-update",api_deleteGbBuildingApi:"/api/property/ref-prop-gbbuilding-type-delete",api_getObjectionApiList:"/api/property/ref-prop-objection-type-list",api_PostObjectionApi:"/api/property/ref-prop-objection-type-create",api_getObjectionApiById:"/api/property/ref-prop-objection-type-get",api_updateObjectionApi:"/api/property/ref-prop-objection-type-update",api_deleteObjectionApi:"/api/property/ref-prop-objection-type-delete",api_getOccupancyApiList:"/api/property/ref-prop-occupancy-type-list",api_PostOccupancyApi:"/api/property/ref-prop-occupancy-type-create",api_getOccupancyApiById:"/api/property/ref-prop-occupancy-type-get",api_updateOccupancyApi:"/api/property/ref-prop-occupancy-type-update",api_deleteOccupancyApi:"/api/property/ref-prop-occupancy-type-delete",api_getPropertyApiList:"/api/property/ref-prop-property-type-list",api_PostPropertyApi:"/api/property/ref-prop-property-type-create",api_getPropertyApiById:"/api/property/ref-prop-property-type-get",api_updatePropertyApi:"/api/property/ref-prop-property-type-update",api_deletePropertyApi:"/api/property/ref-prop-property-type-delete",api_getGbpropusageApiList:"/api/property/ref-prop-gbpropusage-type-list",api_PostGbpropusageApi:"/api/property/ref-prop-gbpropusage-type-create",api_getGbpropusageApiById:"/api/property/ref-prop-gbpropusage-type-get",api_updateGbpropusageApi:"/api/property/ref-prop-gbpropusage-type-update",api_deleteGbpropusageApi:"/api/property/ref-prop-gbpropusage-type-delete",api_getPropOccupancyFactorApiList:"/api/property/ref-prop-occupancy-factor-list",api_PostPropOccupancyFactorApi:"/api/property/ref-prop-occupancy-factor-create",api_getPropOccupancyFactorApiById:"/api/property/ref-prop-occupancy-factor-get",api_updatePropOccupancyFactorApi:"/api/property/ref-prop-occupancy-factor-update",api_deletePropOccupancyFactorApi:"/api/property/ref-prop-occupancy-factor-delete",api_getRoadApiList:"/api/property/ref-prop-road-type-list",api_PostRoadApi:"/api/property/ref-prop-road-type-create",api_getRoadApiById:"/api/property/ref-prop-road-type-get",api_updateRoadApi:"/api/property/ref-prop-road-type-update",api_deleteRoadApi:"/api/property/ref-prop-road-type-delete",api_getOwnershipApiList:"/api/property/ref-prop-ownership-type-list",api_PostOwnershipApi:"/api/property/ref-prop-ownership-type-create",api_getOwnershipApiById:"/api/property/ref-prop-ownership-type-get",api_updateOwnershipApi:"/api/property/ref-prop-ownership-type-update",api_deleteOwnershipApi:"/api/property/ref-prop-ownership-type-delete",api_getTransferModeApiList:"/api/property/ref-prop-transfer-mode-list",api_PostTransferModeApi:"/api/property/ref-prop-transfer-mode-create",api_getTransferModeApiById:"/api/property/ref-prop-transfer-mode-get",api_updateTransferModeApi:"/api/property/ref-prop-transfer-mode-update",api_deleteTransferModeApi:"/api/property/ref-prop-transfer-mode-delete",api_getRebateTypeApiList:"/api/property/ref-prop-rebate-type-list",api_PostRebateTypeApi:"/api/property/ref-prop-rebate-type-create",api_getRebateTypeApiById:"/api/property/ref-prop-rebate-type-get",api_updateRebateTypeApi:"/api/property/ref-prop-rebate-type-update",api_deleteRebateTypeApi:"/api/property/ref-prop-rebate-type-delete",api_getPenaltyTypeApiList:"/api/property/ref-prop-penalty-type-list",api_PostPenaltyTypeApi:"/api/property/ref-prop-penalty-type-create",api_getPenaltyTypeApiById:"/api/property/ref-prop-penalty-type-get",api_updatePenaltyTypeApi:"/api/property/ref-prop-penalty-type-update",api_deletePenaltyTypeApi:"/api/property/ref-prop-penalty-type-delete",api_getForgeryTypeApiList:"/api/property/m-prop-forgery-type-list",api_PostForgeryTypeApi:"/api/property/m-prop-forgery-type-create",api_getForgeryTypeApiById:"/api/property/m-prop-forgery-type-get",api_updateForgeryTypeApi:"/api/property/m-prop-forgery-type-update",api_deleteForgeryTypeApi:"/api/property/m-prop-forgery-type-delete",api_getDistrictApiList:"/api/get-district",api_PostDistrictApi:"/api/add-district",api_getDistrictApiById:"/api/get-districtBy-Id",api_updateDistrictApi:"/api/update-districtBy-Id",api_deleteDistrictApi:"/api/delete-district",api_getSchemeTypeApiList:"/api/get-scheme-type",api_PostSchemeTypeApi:"/api/add-scheme-type",api_getSchemeTypeApiById:"/api/get-scheme-type-by-id",api_updateSchemeTypeApi:"/api/update-scheme-type",api_deleteSchemeTypeApi:"/api/scheme-type-delete",api_getCityApiList:"/api/get-city",api_PostCityApi:"/api/create-city",api_getCityApiById:"/api/get-by-Id-city",api_updateCityApi:"/api/update-city-by-id",api_deleteCityApi:"/api/city/enable-disable",api_getWaterTypeApiList:"/api/water/get-water-prop-type",api_PostWaterTypeApi:"/api/water/create-water-prop-type",api_getWaterTypeById:"/api/water/getby-id-water-prop-type",api_updateWaterTypeApi:"/api/water/update-water-prop-type",api_deleteWaterTypeApi:"/api/water/delete-water-prop-type",api_getCapitalValuesRateApiList:"/api/property/m-capital-value-rate-list",api_getCapitalValuesRateById:"/api/property/m-capital-value-rate-get",api_PostCapitalValuesRateApi:"/api/property/m-capital-value-rate-create",api_updateCapitalValuesRateApi:"/api/property/m-capital-value-rate-update",api_deleteCapitalValuesRateApi:"/api/property/m-capital-value-rate-delete",api_getBuildingRentalCostApiList:"/api/property/m-prop-building-reantal-const-list",api_getBuildingRentalCostById:"/api/property/m-prop-building-reantal-const-get",api_getRentalValuesApiList:"/api/property/m-prop-rental-value-list",api_getRentalValuesById:"/api/property/m-prop-rental-value-get",api_getMultiFactorApiList:"/api/property/m-prop-multi-factor-list",api_getMultiFactorById:"/api/property/m-prop-multi-factor-get",api_getRoadTypesApiList:"/api/property/m-prop-road-types-list",api_getRoadTypesById:"/api/property/m-prop-road-types-get",api_getVacantRentalRatesApiList:"/api/property/m-prop-vacant-rentalrates-list",api_getVacantRentalRatesById:"/api/property/m-prop-vacant-rentalrates-get",api_getBuildingRentalTypeApiList:"/api/property/m-prop-building-reantal-rate-list",api_getBuildingRentalTypeApiById:"/api/property/m-prop-building-reantal-rate-get",api_getAssetsApiList:"/api/property/m-assets-get",api_PostAssetsApi:"/api/property/m-assets-create",api_getAssetsApiById:"/api/property/m-assets-get-by-id",api_updateAssetsApi:"/api/property/m-assets-update",api_deleteAssetsApi:"/api/property/m-assets-delete",api_getBlogPostApiList:"/api/m-list-of-all-blog",api_PostBlogPostApi:"/api/m-store-blog-post",api_updateblog:"/api/m-update-blog",api_deleteBlogPostApi:"/api/m-delete-blog",api_getBlogById:"/api/m-get-blog-by-Id",api_getImopNoticeApiList:"/api/property/m-notice-list",api_PostImopNoticeApi:"/api/property/m-notice-create",api_getImopNoticeApiById:"/api/property/m-notice-get-by-id",api_updateImopNoticeApi:"/api/property/m-notice-update",api_deleteImpoNoticeApi:"/api/property/m-notice-delete",api_getAnnouncementApiList:"/api/property/m-announcement-list",api_PostAnnouncementApi:"/api/property/m-announcement-create",api_getAnnouncementApiById:"/api/property/m-announcement-get-by-id",api_updateAnnouncementApi:"/api/property/m-announcement-update",api_deleteAnnouncementApi:"/api/property/m-announcement-delete",api_getMobileAppApiList:"/api/property/m-app-list",api_PostMobileAppApi:"/api/property/m-app-create",api_getMobileAppApiById:"/api/property/m-app-get-by-id",api_updateMobileAppApi:"/api/property/m-app-update",api_deleteMobileAppApi:"/api/property/m-app-delete",api_getSchemeApiList:"/api/property/m-scheme-list",api_PostSchemeApi:"/api/property/m-scheme-create",api_getSchemeApiById:"/api/property/m-scheme-get-by-id",api_updateSchemeApi:"/api/property/m-scheme-update",api_deleteSchemeApi:"/api/property/m-scheme-delete",api_getNewEventsApiList:"/api/property/m-news-list",api_PostNewEventsApi:"/api/property/m-news-create",api_getNewEventsApiById:"/api/property/m-news-get-by-id",api_updateNewEventsApi:"/api/property/m-news-update",api_deleteNewEventsApi:"/api/property/m-news-delete",api_getEserviceApiList:"/api/property/m-e-service-list",api_PostEserviceApi:"/api/property/m-e-service-create",api_getEserviceApiById:"/api/property/m-e-service-get-by-id",api_updateEserviceApi:"/api/property/m-e-service-update",api_deleteEserviceApi:"/api/property/m-e-service-delete",api_getWhatsNewApiList:"/api/property/m-whats-new-list",api_PostWhatsNewApi:"/api/property/m-whats-new-createss",api_getWhatsNewApiById:"/api/property/m-whats-new-get-by-id",api_updateWhatsNewApi:"/api/property/m-whats-new-update",api_deleteWhatsNewApi:"/api/property/m-whats-new-delete",api_getQuickLinkApiList:"/api/property/m-quick-link-list",api_PostQuickLinkApi:"/api/property/m-quick-link-create",api_getQuickLinkApiById:"/api/property/m-quick-link-get-by-id",api_updateQuickLinkApi:"/api/property/m-quick-link-update",api_deleteQuickLinkApi:"/api/property/m-quick-link-delete",api_getUsefulLinkApiList:"/api/property/m-useful-link-list",api_PostUsefulLinkApi:"/api/property/m-useful-link-create",api_getUsefulLinkApiById:"/api/property/m-useful-link-get-by-id",api_updateUsefulLinkApi:"/api/property/m-useful-link-update",api_deleteUsefulLinkApi:"/api/property/m-useful-link-delete",api_getImportantLinkApiList:"/api/property/m-important-link-list",api_PostImportantLinkApi:"/api/property/m-important-link-create",api_getImportantLinkApiById:"/api/property/m-important-link-get-by-id",api_updateImportantLinkApi:"/api/property/m-important-link-update",api_deleteImportantLinkApi:"/api/property/m-important-link-delete",api_getDepartmentApiList:"/api/property/m-department-list",api_PostDepartmentApi:"/api/property/m-department-create",api_getDepartmentApiById:"/api/property/m-department-get-by-id",api_updateDepartmentApi:"/api/property/m-department-update",api_deleteDepartmentApi:"/api/property/m-department-delete",api_getContactInfoApiList:"/api/property/m-contact-list",api_PostContactInfoApi:"/api/property/m-contact-create",api_getContactInfoApiById:"/api/property/m-contact-get-by-id",api_updateContactInfoApi:"/api/property/m-contact-update",api_deleteContactInfoApi:"/api/property/m-contact-delete",api_getAboutUsApiList:"/api/property/m-about-us-list",api_PostAboutUsApi:"/api/property/m-about-us-create",api_getAboutUsApiById:"/api/property/m-about-us-get-by-id",api_updateAboutUsApi:"/api/property/m-about-us-update",api_deleteAboutUsApi:"/api/property/m-about-us-delete",api_getActRulesApiList:"/api/property/m-act-rules-list",api_PostActRulesApi:"/api/property/m-act-rules-create",api_getActRulesApiById:"/api/property/m-act-rules-get-by-id",api_updateActRulesApi:"/api/property/m-act-rules-update",api_deleteActRulesApi:"/api/property/m-act-rules-delete",api_getAdministrativeApiList:"/api/property/m-administrative-list",api_PostAdministrativeApi:"/api/property/m-administrative-create",api_getAdministrativeApiById:"/api/property/m-administrative-get-by-id",api_updateAdministrativeApi:"/api/property/m-administrative-update",api_deleteAdministrativeApi:"/api/property/m-administrative-delete",api_getSliderApiList:"/api/property/m-slider-get",api_PostSliderApi:"/api/property/m-slider-create",api_getSliderById:"/api/property/m-slider-get-by-id",api_updateSliderApi:"/api/property/m-slider-update",api_deleteSliderApi:"/api/property/m-slider-delete",api_getAdminLists:"/api/user-managment/v1/crud/get/admin-list",api_getHeadingApiList:"/api/property/m-heading-list",api_PostHeadingApi:"/api/property/m-heading-create",api_getHeadingById:"/api/property/m-heading-get-by-id",api_updateHeadingApi:"/api/property/m-heading-update",api_deleteHeadingApi:"/api/property/m-heading-delete",api_PostHeadingDescriptionApi:"/api/property/m-heading-description-create",api_getHeadingDescriptionById:"/api/property/m-heading-description-get-by-id",api_updateHeadingDescriptionApi:"/api/property/m-heading-description-update",api_deleteHeadingDescriptionApi:"/api/property/m-heading-description-delete",api_getC_DeskHeadingApiList:"/api/property/m-c-desk-list",api_PostC_DeskHeadingApi:"/api/property/m-c-desk-create",api_getC_DeskHeadingById:"/api/property/m-c-desk-get-by-id",api_updateC_DeskHeadingApi:"/api/property/m-c-desk-update",api_deleteC_DeskHeadingApi:"/api/property/m-c-desk-delete",api_PostC_DeskDescriptionApi:"/api/property/m-c-desk-des-create",api_getC_DeskDescriptionById:"/api/property/m-c-desk-des-get-by-id",api_updateC_DeskDescriptionApi:"/api/property/m-c-desk-des-update",api_deleteC_DeskDescriptionApi:"/api/property/m-c-desk-des-delete"},wr={workflowList:"/api/user-managment/v1/crud/workflow-master/list",workflowAdd:"/api/user-managment/v1/crud/workflow-master/save",workflowUpdate:"/api/user-managment/v1/crud/workflow-master/edit",workflowDelete:"/api/user-managment/v1/crud/workflow-master/delete",ulbWfList:"/api/user-managment/v1/crud/wf-workflow/list",workflowListById:"/api/user-managment/v1/crud/wf-workflow/get",ulbWfAdd:"/api/user-managment/v1/crud/wf-workflow/save",ulbWfUpdate:"/api/user-managment/v1/crud/wf-workflow/edit",ulbWfDelete:"/api/user-managment/v1/crud/wf-workflow/delete",allUlb:"/api/get-all-ulb",wfRoleList:"/api/user-managment/v1/crud/workflow-role-map/list",wfRoleUpdate:"/api/user-managment/v1/crud/workflow-role-map/edit",wfRoleDelete:"/api/user-managment/v1/crud/workflow-role-map/delete",wfRoleAdd:"/api/user-managment/v1/crud/workflow-role-map/save",wfRoleListById:"/api/user-managment/v1/crud/workflow-role-map/get",allRole:"/api/user-managment/v1/crud/workflow-role/list",wfListById:"/api/user-managment/v1/crud/workflow-master/get",wfListByUlb:"/api/workflow/getWorkflowInUlb",UmList:"/api/user-managment/v1/crud/user/list",UmListById:"/api/user-managment/v1/crud/user/get",UmAdd:"/api/user-managment/v1/crud/user/create",UmDelete:"/api/user-managment/v1/crud/user/delete",UmUpdate:"/api/user-managment/v1/crud/user/update",allUser:"/api/user-managment/v1/crud/user/list",PUAdd:"/",ulbListApi:"/api/get-all-ulb"},kr={getUser:"/api/get-citizen-dtl",getModuleByUlbId:"/api/get/moudle-by-Ulb-id",userManagementModuleList:"/api/user-managment/v1/crud/module/list",createServiceMapping:"/api/global/mapping",getServiceMapping:"/api/global/mapping",updateServiceMapping:"/api/global/mapping/update",serviceList:"/api/get/service-list",addServiceByModule:"/api/create/services",updateServiceByModule:"/api/update/service-by-id",ulbEnableDisable:"/api/ulb-master-delete",moduleList:"/api/global/service",createService:"/api/global/service",getAllJuidcoUlbList:"/api/v2/get-all-ulb",getAnalyticsData:"/api/global/analytics",getMenuRoleList:"/api/user-managment/v1/crud/menu-role/list",getWorkFlowList:"/api/user-managment/v1/crud/workflow-role/list",getMenuMasterList:"/api/user-managment/v1/crud/menu/list",getPermitedMenuList:"/api/user-managment/v1/crud/menu-role/menu-list",getPermitedApiList:"/api/user-managment/v1/crud/api-role-map/list-v1",addRemoveMenuPermission:"/api/user-managment/v1/crud/menu-role-map/save",addRemoveApiPermission:"/api/user-managment/v1/crud/api-role-map/save-v1",addMenuList:"/api/user-managment/v1/crud/menu-role/save",editMenuList:"/api/user-managment/v1/crud/menu-role/edit",parentMenuList:"/api/user-managment/v1/crud/menu/list-parent-serial",workFlowByModule:"/api/user-managment/v1/crud/workflow-by-module",addMenuByModule:"/api/user-managment/v1/crud/menu/save",getMenuDetailsByModule:"/api/user-managment/v1/crud/menu/get",editMenuDetailsByModule:"/api/user-managment/v1/crud/menu/edit",userListByULBId:"/api/user-managment/v1/crud/get/user-list-by-ulb-id",userPermittedRoles:"/api/user-managment/v1/crud/menu-role-user/by-user",addMenuRoleUser:"/api/user-managment/v1/crud/menu-role-user/save",permittedWardByUser:"/api/user-managment/v1/crud/ward-user/by-user",addRemoveWard:"/api/user-managment/v1/crud/ward-user/save",workFlowRoleByUser:"/api/user-managment/v1/crud/workflow-role-user/by-user",AddRemoveWorkFlowRoleByUser:"/api/user-managment/v1/crud/workflow-role-user/save",addRemoveModuleToUlb:"/api/create/ulb-wise-module",getServicesByUlbModule:"/api/get/services-b-ulb-id-v1",addRemoveServiceByUlbModule:"/api/create/ulb-wise-services",enableDisableUserByModule:"/api/user-managment/v1/crud/user/delete",adminList:"/api/user-managment/v1/crud/get/admin-list-v1",createAdmin:"/api/user-managment/v1/crud/user/create",updateAdmin:"/api/user-managment/v1/crud/user/update",createUserType:"/api/user-managment/v1/crud/get/user-type",deleteMenu:"/api/user-managment/v1/crud/menu/delete",changeUserPassword:"/api/change-password-dev",apiListByModule:"/api/user-managment/v1/api-list-module-id",apiMasterCreateByModule:"/api/user-managment/v1/crud/api-master/save",apiDetailsById:"/api/user-managment/v1/api-details-by-id",apiMasterUpdate:"/api/user-managment/v1/update-api-details",apiMasterDelete:"/api/user-managment/v1/delete-api",apiRoleMasterActiveDeactive:"/api/user-managment/v1/menu-role/toggle-suspension",addModule:"api/add-module",updateModule:"api/update-module",deleteModule:"api/delete-module",ulbConfigurationList:"api/ulb-config-details",moduleRegistryList:"api/module-registry/list",getDynamicTableStructure:"api/dynamic-table/list",createDynamicTable:"api/dynamic-table/create",updateDynamicTable:"api/dynamic-table/update",deleteDynamicTable:"api/dynamic-table/delete",dashboardStats:"api/dashboard-counts",moduleMasterPercentage:"api/dynamic-table/module-percentage",post_addFaq:"api/user-managment/v1/crud/faq/save",post_getFaq:"api/user-managment/v1/crud/faq/get",post_listFaq:"api/user-managment/v1/crud/faq/list",post_editFaq:"api/user-managment/v1/crud/faq/edit",post_deleteFaq:"api/user-managment/v1/crud/faq/delete",post_moduleList:"api/user-managment/v1/crud/module/list"},_r=e=>{e?localStorage.setItem("token",e):(localStorage.removeItem("token"),delete jr.defaults.headers.common.Authorization)};function Sr(e){return e instanceof Error?e.message:String(e)}function Ar(e,t){let s="",a=e;for(let r=0;r<t;r++)a=(9301*a+49297)%233280,s+=(a%16).toString(16);return s}const Cr=Ra()((e,t)=>({isAuthenticated:!1,isInitialized:!1,user:null,menuItems:null,setIsAuthenticated:t=>e({isAuthenticated:t}),setIsInitialized:t=>e({isInitialized:t}),setMenuItems:t=>e({menuItems:t}),initialize:async()=>{var t,s;try{const a=localStorage.getItem("token");if(!a)return void e({isAuthenticated:!1,isInitialized:!0,user:null});_r(a);const[r,i]=await Promise.all([jr.post(`${yr.getUser}`),jr.post(`${yr.byModule}`,{moduleId:"35"})]);if(null==(t=null==r?void 0:r.data)?void 0:t.authenticated){const t=r.data.data;"SUPER ADMIN"!=(null==t?void 0:t.roleName)&&window.localStorage.setItem("ulbId",function(e,t="EW^reB0tm}p)R3w+7=+0YG0[XpUOSPfy"){if(!e||!t)return"";let s=0;const a=e+t;for(let o=0;o<a.length;o++)s=(s<<5)-s+a.charCodeAt(o),s&=s;s=Math.abs(s);let r="";for(let o=0;o<e.length;o++){const s=t.charCodeAt(o%t.length);r+=(e.charCodeAt(o)^s).toString(16).padStart(4,"0")}const i=Ar(s,8),l=Ar(s+1,4),n=Ar(s+2,4),d=Ar(s+3,4);return Ar(s+4,12),`${i}-${l}-${n}-${d}:${e.length.toString(16).padStart(4,"0")}${r}`}(t.ulbId.toString())),e({isAuthenticated:!0,isInitialized:!0,user:t,menuItems:(null==(s=null==i?void 0:i.data)?void 0:s.data)||null})}else e({isAuthenticated:!1,isInitialized:!0,user:null})}catch(a){e({isAuthenticated:!1,isInitialized:!0,user:null})}},login:async e=>{try{const s=null==e?void 0:e.data;return _r(null==s?void 0:s.token),t().initialize(),s}catch(s){c.error("Login Failed")}},logout:()=>{try{_r(null),localStorage.removeItem("token"),e({isAuthenticated:!1,user:null,menuItems:null}),t().initialize()}catch(s){}}})),Lr=Ra(e=>({getTitle:"",setTitle:t=>e({getTitle:t})})),Ir=()=>({...Cr(),...Lr()});function Pr(e="1/1"){return{"4/3":"calc(100% / 4 * 3)","3/4":"calc(100% / 3 * 4)","6/4":"calc(100% / 6 * 4)","4/6":"calc(100% / 4 * 6)","16/9":"calc(100% / 16 * 9)","9/16":"calc(100% / 9 * 16)","21/9":"calc(100% / 21 * 9)","9/21":"calc(100% / 9 * 21)","1/1":"100%"}[e]}const Rr=u.LazyLoadImage,Er=e.forwardRef(({ratio:e,disabledEffect:t=!1,effect:a="blur",...r},i)=>{const l=s.jsx(Rr,{wrapperClassName:"wrapper",effect:t?"opacity":a,placeholderSrc:t?"/assets/transparent.png":"/assets/placeholder-new.png",width:"100%",style:{objectFit:"cover"},...r});return e?s.jsx("span",{ref:i,style:{width:1,lineHeight:1,display:"block",overflow:"hidden",position:"relative",paddingTop:Pr(e)},children:l}):s.jsx("span",{ref:i,style:{lineHeight:1,display:"block",overflow:"hidden",position:"relative"},children:l})}),Dr=(e,t)=>{const a=e.toLowerCase();return t?s.jsx(Er,{src:t,alt:e,className:"h-5 w-5"}):a.includes("home")?s.jsx(Xs,{size:18}):a.includes("search")||a.includes("view")?s.jsx(Ys,{size:18}):a.includes("holding")?s.jsx(ea,{size:18}):a.includes("workflow")?s.jsx(ta,{size:20}):a.includes("saf")?s.jsx(sa,{size:18}):a.includes("concession")?s.jsx(aa,{size:18}):a.includes("harvesting")?s.jsx(ra,{size:18}):a.includes("objection")?s.jsx(ia,{size:18}):a.includes("gbsaf")?s.jsx(la,{size:18}):s.jsx(na,{size:18})},Mr=()=>{const{menuItems:e}=Ir();return t.useMemo(()=>{return e&&e.permission?(t=null==e?void 0:e.permission,[...t].sort((e,t)=>(e.order||999)-(t.order||999)).map(e=>{const t={title:e.name,label:"",href:e.path||"",is_sidebar:e.is_sidebar,icon:Dr(e.name,e.icon)};if(e.children&&e.children.length>0){const s=[...e.children].sort((e,t)=>{const s=e.order||999;return(t.order||999)-s});t.sub=s.map(e=>({title:e.name,label:"",is_sidebar:e.is_sidebar,href:e.path||"",icon:Dr(e.name,e.icon)}))}return t})):[];var t},[e])};function Ur({className:t,isCollapsed:a,setIsCollapsed:r}){const i=Mr(),[l,n]=e.useState(!1),[d,o]=e.useState([]);return m(),e.useEffect(()=>{l?document.body.classList.add("overflow-hidden"):document.body.classList.remove("overflow-hidden"),o(i||[])},[l]),s.jsxs("aside",{className:Oa("fixed left-0 right-0 top-0 z-50 w-full border-b border-r-2 border-border bg-background transition-[width] md:bottom-0 md:right-auto md:h-svh "+(a?"md:w-14":"md:w-64"),t),children:[s.jsx("div",{onClick:()=>n(!1),className:`absolute inset-0 transition-[opacity] delay-100 duration-700 ${l?"h-svh opacity-50":"h-0 opacity-0"} w-full bg-black/60 backdrop-blur-sm md:hidden`}),s.jsxs(Ja,{fixed:!0,className:l?"h-svh":"",children:[s.jsxs(Ja.Header,{sticky:!0,className:"z-50 flex justify-between border-b border-border bg-background px-4 py-3 md:px-4",children:[s.jsxs("div",{className:"flex items-center "+(a?"":"gap-2"),children:[s.jsx("div",{children:s.jsx("img",{src:"https://i.ibb.co/vz5hT4c/jharkhand-Logo-uf1gjn.png",alt:"",className:"w-11"})}),s.jsxs("div",{className:"flex flex-col justify-end truncate "+(a?"invisible w-0":"visible w-auto"),children:[s.jsx("span",{className:"cursor-pointer font-medium",children:"UD&HD"}),s.jsx("span",{className:"text-xs",children:"Master Control"})]})]}),s.jsx(sr,{variant:"ghost",size:"icon",className:"md:hidden","aria-label":"Toggle Navigation","aria-controls":"sidebar-menu","aria-expanded":l,onClick:()=>n(e=>!e),children:l?s.jsx(da,{}):s.jsx(oa,{})})]}),s.jsx(pr,{id:"sidebar-menu",className:"thin-scrollbar z-40 h-full flex-1 overflow-auto "+(l?"max-h-screen":"max-h-0 border-b py-0 md:max-h-screen md:py-2"),closeNav:()=>n(!1),isCollapsed:a,links:(null==d?void 0:d.filter(e=>e.is_sidebar))||[]}),s.jsx(sr,{onClick:()=>r(e=>!e),size:"icon",variant:"outline",className:"absolute -right-5 top-1/2 z-50 hidden rounded-full md:inline-flex",children:s.jsx(ca,{stroke:1.5,className:"h-5 w-5 "+(a?"rotate-180":"")})})]})]})}function Fr(){const[t,s]=function({key:t,defaultValue:s}){const[a,r]=e.useState(()=>{const e=localStorage.getItem(t);return null!==e?JSON.parse(e):s});return e.useEffect(()=>{localStorage.setItem(t,JSON.stringify(a))},[a,t]),[a,r]}({key:"collapsed-sidebar",defaultValue:!1});return e.useEffect(()=>{const e=()=>{s(!(window.innerWidth<768)&&t)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[t,s]),[t,s]}function Tr(){const[e,t]=Fr();return s.jsxs("div",{className:"relative h-full overflow-hidden bg-background",children:[s.jsx(Ur,{isCollapsed:e,setIsCollapsed:t}),s.jsx("main",{id:"content",className:`overflow-x-hidden pt-16 transition-[margin] md:overflow-y-scroll md:pt-0 ${e?"md:ml-14":"md:ml-64"} h-full bg-secondary`,children:s.jsx(l,{})})]})}function zr(){const e=m();return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"border-b bg-white shadow-sm",children:s.jsxs("div",{className:"mx-auto flex max-w-7xl items-center justify-between px-4 sm:px-6 lg:px-8",children:[s.jsx("div",{children:s.jsx(Er,{src:"/images/jlogo.png",alt:"logo",width:80,height:80})}),s.jsx("div",{className:"container mx-auto max-w-6xl px-4 py-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"mb-2 text-3xl font-bold text-gray-900",children:"URBAN DEVELOPMET & HOUSING DEPARTMENT"}),s.jsx("p",{className:"text-gray-600",children:"Goverment of Jharkhand"})]})})]})}),s.jsx("div",{className:"bg-[#99B37C] py-3 text-white",children:s.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between space-x-3",children:[s.jsx("div",{children:s.jsx("h1",{className:"text-xl font-bold",children:"UD&HD"})}),s.jsx("div",{children:s.jsxs(Va,{variant:"secondary",className:"flex items-center space-x-2",onClick:()=>{e("/legal/auth/login")},children:[s.jsx(ua,{className:"h-4 w-4"})," Admin Login"]})})]})})}),s.jsx(l,{})]})}function Br(){return s.jsx("div",{className:"flex items-center justify-center w-full h-[550px]",children:s.jsxs("div",{className:"flex justify-center items-center space-x-1 text-sm text-gray-700",children:[s.jsx("svg",{fill:"none",className:"w-6 h-6 animate-spin",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{clipRule:"evenodd",d:"M15.165 8.53a.5.5 0 01-.404.58A7 7 0 1023 16a.5.5 0 011 0 8 8 0 11-9.416-7.874.5.5 0 01.58.404z",fill:"currentColor",fillRule:"evenodd"})}),s.jsx("div",{children:"Loading ..."})]})})}function qr({children:t}){const{isInitialized:a,isAuthenticated:r,initialize:i,menuItems:l,logout:d}=Ir(),{pathname:o}=n(),c=x(),[u,m]=e.useState(null),h=e.useRef(!1),g=null==l?void 0:l.permission.flatMap(e=>[{...e,children:e.children.map(e=>e.id)},...e.children]),f=null==g?void 0:g.map(e=>{var t;return(null==(t=null==e?void 0:e.path)?void 0:t.includes(":id"))?null==e?void 0:e.path.replace(":id",c.id):null==e?void 0:e.path}).flat(1);return e.useEffect(()=>{a||i()},[]),e.useEffect(()=>{const e=()=>{document.hidden?h.current=!0:h.current&&(i(),h.current=!1)};return document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}},[i]),a?r?r&&!(null==f?void 0:f.includes(o))?s.jsx("div",{className:"flex h-screen flex-col",children:s.jsx("div",{className:"flex flex-1 flex-col items-center justify-center",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsxs("h1",{className:"text-lg font-bold text-gray-600",children:["403",s.jsx("span",{className:"text-lg font-medium text-gray-400",children:" | "}),"Unauthorized"]}),s.jsx("button",{onClick:()=>d(),className:"mt-4 rounded bg-blue-600 px-4 py-2 text-white transition hover:bg-blue-700",children:"Logout"})]})})}):u&&o!==u?(m(null),s.jsx(p,{to:u})):s.jsx(s.Fragment,{children:t}):(o!==u&&m(o),s.jsx(p,{to:"/project-config/auth/login"})):s.jsx("div",{className:"flex h-screen items-center justify-center",children:s.jsx(Br,{})})}function Or({children:t}){const{isAuthenticated:a,isInitialized:r,initialize:i,user:l}=Cr();return e.useEffect(()=>{r||i()},[]),r?a?"HRMS Employee"==(null==l?void 0:l.roleName)?s.jsx(p,{to:"/project-config/employee/emp-home",replace:!0}):s.jsx(p,{to:"/project-config/dashboard/home",replace:!0}):s.jsx(s.Fragment,{children:t}):s.jsx("div",{className:"flex h-screen items-center justify-center",children:s.jsx(Br,{})})}function Wr(){const e=m();return s.jsx("div",{className:"h-svh",children:s.jsxs("div",{className:"m-auto flex h-full w-full flex-col items-center justify-center gap-2",children:[s.jsx("h1",{className:"text-[7rem] font-bold leading-tight",children:"404"}),s.jsx("span",{className:"font-medium",children:"Oops! Page Not Found!"}),s.jsxs("p",{className:"text-center text-muted-foreground",children:["It seems like the page you're looking for ",s.jsx("br",{}),"does not exist or might have been removed."]}),s.jsxs("div",{className:"mt-6 flex gap-4",children:[s.jsx(sr,{variant:"outline",onClick:()=>e(-1),children:"Go Back"}),s.jsx(sr,{onClick:()=>e("/"),children:"Back to Home"})]})]})})}function Vr(){const{theme:t,setTheme:a}=(()=>{const t=e.useContext(Ba);if(void 0===t)throw new Error("useTheme must be used within a ThemeProvider");return t})();return e.useEffect(()=>{const e="dark"===t?"#020817":"#fff",s=document.querySelector("meta[name='theme-color']");s&&s.setAttribute("content",e)},[t]),s.jsx(sr,{size:"icon",variant:"ghost",className:"rounded-full",onClick:()=>a("light"===t?"dark":"light"),children:"light"===t?s.jsx(ma,{size:20}):s.jsx(xa,{size:20})})}const $r=e.forwardRef(({className:e,...t},a)=>s.jsx(Wt,{ref:a,className:Oa("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));$r.displayName=Wt.displayName;const Hr=e.forwardRef(({className:e,...t},a)=>s.jsx(Vt,{ref:a,className:Oa("aspect-square h-full w-full",e),...t}));Hr.displayName=Vt.displayName;const Qr=e.forwardRef(({className:e,...t},a)=>s.jsx($t,{ref:a,className:Oa("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Qr.displayName=$t.displayName;const Zr=(e,t,a)=>{h({customUI:({onClose:r})=>s.jsxs("div",{children:[s.jsx("div",{className:"fixed inset-0 bg-black opacity-50"}),s.jsxs("div",{className:"relative z-10 rounded-md border border-border bg-card px-12 py-4 shadow-lg",children:[s.jsx("h1",{className:"text-lg font-bold",children:e}),s.jsx("p",{className:"text-sm",children:t}),s.jsxs("div",{className:"mt-4 flex justify-end",children:[s.jsx("button",{className:"rounded-md bg-red-500 px-4 py-1 text-white",onClick:()=>{a(),r()},children:"Yes"}),s.jsx("button",{className:"ml-2 rounded-md bg-gray-500 px-4 py-1 text-white",onClick:r,children:"No"})]})]})]})})};function Gr(){const{user:e,logout:t}=Ir();return m(),s.jsxs(lr,{children:[s.jsx(nr,{asChild:!0,children:s.jsx(sr,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:s.jsxs($r,{className:"h-10 w-10",children:[s.jsx(Hr,{src:(null==e?void 0:e.imgFullPath)||"/images/user.png",alt:"profile"}),s.jsx(Qr,{children:"SN"})]})})}),s.jsxs(or,{className:"w-56",align:"end",forceMount:!0,children:[s.jsx(ur,{className:"cursor-pointer font-normal",onClick:()=>{window.location.href="/settings/dashboard/home"},children:s.jsxs("div",{className:"flex flex-col space-y-1",children:[s.jsx("p",{className:"text-sm font-medium leading-none",children:null==e?void 0:e.fullName}),s.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:null==e?void 0:e.email})]})}),s.jsx(mr,{}),s.jsxs(dr,{children:[s.jsxs(cr,{onClick:()=>window.location.replace("/settings/dashboard/home"),className:"flex items-center gap-2",children:[s.jsx(pa,{size:16}),s.jsx("span",{children:"Profile"})]}),s.jsxs(cr,{onClick:()=>window.location.replace("/settings/dashboard/change-password"),className:"flex items-center gap-2",children:[s.jsx(ha,{size:16}),s.jsx("span",{children:"Change Password"})]}),s.jsxs(cr,{onClick:()=>window.location.replace("/settings/dashboard/notification"),className:"flex items-center gap-2",children:[s.jsx(ga,{size:16}),s.jsx("span",{children:"Notifications"})]})]}),s.jsxs(cr,{onClick:()=>{Zr("Are you sure?","Please confirm",async()=>{t()})},className:"flex items-center gap-2 text-red-600 focus:text-red-600",children:[s.jsx(fa,{size:16}),s.jsx("span",{children:"Log out"})]})]})]})}const Kr=Xt,Yr=Qt,Jr=e.forwardRef(({className:e,...t},a)=>s.jsx(Ht,{ref:a,className:Oa("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Jr.displayName=Ht.displayName;const Xr=e.forwardRef(({className:e,children:t,...a},r)=>s.jsxs(Yr,{children:[s.jsx(Jr,{}),s.jsxs(Zt,{ref:r,className:Oa("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a,children:[t,s.jsxs(Gt,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(Kt,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Xr.displayName=Zt.displayName;const ei=({className:e,...t})=>s.jsx("div",{className:Oa("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ei.displayName="DialogHeader";const ti=({className:e,...t})=>s.jsx("div",{className:Oa("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});ti.displayName="DialogFooter";const si=e.forwardRef(({className:e,...t},a)=>s.jsx(Yt,{ref:a,className:Oa("text-lg font-semibold leading-none tracking-tight",e),...t}));si.displayName=Yt.displayName;function ai({links:t}){const[a,r]=e.useState(""),[i,l]=e.useState([]),[n,d]=e.useState(!1),[o,c]=e.useState(-1),[u,x]=e.useState(!1),p=e.useRef(null),h=e.useRef(null),g=m(),f=(e,t=[])=>{const s=[];return e.forEach(e=>{e.href&&s.push({title:e.title,href:e.href,path:[...t,e.title]}),e.sub&&e.sub.length>0&&s.push(...f(e.sub,[...t,e.title]))}),s};e.useEffect(()=>{if(""===a.trim())return l([]),d(!1),void c(-1);const e=f(t.filter(e=>e.is_sidebar)),s=a.toLowerCase(),r=e.filter(e=>e.title.toLowerCase().includes(s)||e.path.some(e=>e.toLowerCase().includes(s)));l(r.slice(0,10)),d(!0),c(-1)},[a,t]),e.useEffect(()=>{u||(r(""),l([]),d(!1),c(-1))},[u]),e.useEffect(()=>{const e=e=>{(e.ctrlKey||e.metaKey)&&"k"===e.key&&(e.preventDefault(),x(!0),setTimeout(()=>{var e;return null==(e=h.current)?void 0:e.focus()},100))};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[]);const v=e=>{g(e),x(!1)};return s.jsx(s.Fragment,{children:s.jsx(Kr,{open:u,onOpenChange:x,children:s.jsxs(Xr,{className:"sm:max-w-[600px]",children:[s.jsx(ei,{children:s.jsx(si,{className:"sr-only",children:"Search Menu"})}),s.jsxs("div",{ref:p,className:"space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(va,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-muted-foreground"}),s.jsx("input",{ref:h,type:"text",placeholder:"Search menu items...",value:a,onChange:e=>r(e.target.value),onKeyDown:e=>{var t,s;if(n&&0!==i.length)switch(e.key){case"ArrowDown":e.preventDefault(),c(e=>e<i.length-1?e+1:0);break;case"ArrowUp":e.preventDefault(),c(e=>e>0?e-1:i.length-1);break;case"Enter":e.preventDefault(),o>=0&&o<i.length&&v(i[o].href);break;case"Escape":d(!1),x(!1),null==(s=h.current)||s.blur()}else"Escape"===e.key&&(x(!1),d(!1),null==(t=h.current)||t.blur())},className:Oa("w-full rounded-lg border border-input bg-background py-3 pl-10 pr-10 text-base outline-none transition-all","placeholder:text-muted-foreground","focus:border-primary focus:ring-2 focus:ring-primary/20"),autoFocus:!0}),a&&s.jsx("button",{onClick:()=>{var e;r(""),d(!1),null==(e=h.current)||e.focus()},className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:s.jsx(da,{className:"h-5 w-5"})})]}),a&&s.jsx("div",{className:"max-h-[400px] overflow-y-auto rounded-lg border border-border",children:i.length>0?s.jsx("div",{className:"divide-y divide-border",children:i.map((e,t)=>s.jsx("button",{onClick:()=>v(e.href),className:Oa("w-full px-4 py-3 text-left transition-colors",o===t?"bg-accent text-accent-foreground":"text-foreground hover:bg-accent/50"),children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(va,{className:"h-4 w-4 text-slate-400"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm font-medium",children:e.title}),e.path.length>1&&s.jsx("div",{className:"mt-0.5 text-xs text-muted-foreground",children:e.path.slice(0,-1).join("  ")})]})]})},`${e.href}-${t}`))}):s.jsxs("div",{className:"p-8 text-center text-sm text-muted-foreground",children:['No menu items found for "',a,'"']})}),!a&&s.jsxs("div",{className:"rounded-lg border border-border bg-muted/50 p-8 text-center",children:[s.jsx(va,{className:"mx-auto h-12 w-12 text-muted-foreground/30"}),s.jsx("p",{className:"mt-3 text-sm text-foreground/80",children:"Type to search menu items"}),s.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:"Use  to navigate, Enter to select, Esc to close"})]})]})]})})})}e.forwardRef(({className:e,...t},a)=>s.jsx(Jt,{ref:a,className:Oa("text-sm text-muted-foreground",e),...t})).displayName=Jt.displayName;const ri=e.forwardRef(({children:t,title:a="",subTitle:r="",searchLink:i="",meta:l,name:n,code:o,description:c,...u},m)=>{!function(t=""){const{setTitle:s}=Ir();e.useEffect(()=>{s(t)},[t])}(a);const{user:x}=Ir(),p=Mr();return e.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},[a]),s.jsxs(s.Fragment,{children:[s.jsxs(za,{children:[s.jsx("title",{children:(a?a+" |":"")+"  Master-Control"}),l]}),s.jsx("div",{ref:m,...u,children:s.jsxs(Ja,{fixed:!0,children:[s.jsxs(Ja.Header,{sticky:!0,className:"border-b bg-background/80 shadow-sm backdrop-blur-md",children:[s.jsxs("div",{className:"flex w-full items-center justify-between gap-3 px-2 sm:px-4",children:[s.jsx("div",{className:"hidden lg:block lg:w-8"}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 md:gap-4",children:[s.jsx("div",{className:"hidden sm:block",children:s.jsx(ai,{links:p})}),s.jsx("div",{className:"hidden min-w-0 flex-col items-end md:flex",children:s.jsx("span",{className:"truncate rounded-full border border-blue-200 bg-gradient-to-r from-blue-50 to-indigo-50 px-3 py-1.5 text-xs font-semibold text-blue-700 shadow-sm",children:(null==x?void 0:x.roleName)||""})}),s.jsx(Vr,{}),s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Gr,{})})]})]}),s.jsxs("div",{className:"flex items-center justify-between gap-2 border-t border-border px-2 py-2 sm:hidden",children:[s.jsx(ai,{links:p}),s.jsx("span",{className:"truncate rounded-full border border-blue-200 bg-gradient-to-r from-blue-50 to-indigo-50 px-2.5 py-1 text-xs font-semibold text-blue-700",children:(null==x?void 0:x.roleName)||""})]})]}),s.jsxs(Ja.Body,{children:[s.jsxs("div",{className:"mb-2 sm:mb-4",children:[s.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between",children:[s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h2",{className:"mb-1 bg-gradient-to-r from-foreground to-foreground/70 bg-clip-text text-xl font-bold tracking-tight text-transparent sm:text-2xl",children:a}),r&&s.jsx("p",{className:"text-sm leading-relaxed text-muted-foreground sm:text-base",children:r})]}),(n||o)&&s.jsx("div",{className:"flex-shrink-0",children:s.jsxs("div",{className:"rounded-lg border bg-card p-2 shadow-sm",children:[n&&s.jsxs("div",{className:"mb-1 text-sm font-bold text-foreground",children:["Name-: ",n]}),o&&s.jsxs("div",{className:"rounded bg-muted px-2 py-0.5 font-mono text-xs font-bold text-muted-foreground",children:["Employee Code-: ",o]})]})})]}),i&&s.jsx("div",{className:"mt-4",children:s.jsxs(d,{className:"inline-flex items-center gap-2 rounded-lg bg-gradient-to-r from-blue-600 to-indigo-600 px-4 py-2.5 text-sm font-semibold text-white shadow-md transition-all hover:from-blue-700 hover:to-indigo-700 hover:shadow-lg active:scale-95",to:i,target:"_blank",children:[s.jsx(ja,{className:"h-4 w-4"}),"Search Details"]})})]}),s.jsx("div",{className:"flex-1 overflow-auto",children:t})]})]})})]})});function ii({key:e,api:t,options:s,value:a,config:r}){return gt({queryKey:[e??t,...a??[]],queryFn:async()=>(await jr.post(t,{...r})).data,refetchOnReconnect:"always",refetchOnWindowFocus:!1,...s})}const li=({options:e})=>ht({mutationFn:({api:e,data:t})=>((e,t)=>jr.post(e,t))(e,t),...e}),ni=({options:e})=>ht({mutationFn:({api:e,data:t})=>jr.post(e,t,{headers:{"Content-Type":"multipart/form-data"}}),...e}),di=e.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:Oa("rounded-xl border bg-card text-card-foreground shadow",e),...t}));di.displayName="Card";const oi=e.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:Oa("flex flex-col space-y-1.5 p-6",e),...t}));oi.displayName="CardHeader";const ci=e.forwardRef(({className:e,...t},a)=>s.jsx("h3",{ref:a,className:Oa("font-semibold leading-none tracking-tight",e),...t}));ci.displayName="CardTitle";e.forwardRef(({className:e,...t},a)=>s.jsx("p",{ref:a,className:Oa("text-sm text-muted-foreground",e),...t})).displayName="CardDescription";const ui=e.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:Oa("p-6 pt-0",e),...t}));ui.displayName="CardContent";e.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:Oa("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter";const mi=e.forwardRef(({className:e,...t},a)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:a,className:Oa("w-full caption-bottom text-sm",e),...t})}));mi.displayName="Table";const xi=e.forwardRef(({className:e,...t},a)=>s.jsx("thead",{ref:a,className:Oa("[&_tr]:border-b",e),...t}));xi.displayName="TableHeader";const pi=e.forwardRef(({className:e,...t},a)=>s.jsx("tbody",{ref:a,className:Oa("[&_tr:last-child]:border-0",e),...t}));pi.displayName="TableBody";e.forwardRef(({className:e,...t},a)=>s.jsx("tfoot",{ref:a,className:Oa("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t})).displayName="TableFooter";const hi=e.forwardRef(({className:e,...t},a)=>s.jsx("tr",{ref:a,className:Oa("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));hi.displayName="TableRow";const gi=e.forwardRef(({className:e,...t},a)=>s.jsx("th",{ref:a,className:Oa("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));gi.displayName="TableHead";const fi=e.forwardRef(({className:e,...t},a)=>s.jsx("td",{ref:a,className:Oa("px-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));fi.displayName="TableCell";function vi({className:e}){return s.jsxs("div",{"aria-label":"Loading...",role:"status",className:Oa("loader",e),children:[s.jsxs("svg",{className:"icon",viewBox:"0 0 256 256",children:[s.jsx("line",{x1:128,y1:32,x2:128,y2:64,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:24}),s.jsx("line",{x1:"195.9",y1:"60.1",x2:"173.3",y2:"82.7",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:24}),s.jsx("line",{x1:224,y1:128,x2:192,y2:128,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:24}),s.jsx("line",{x1:"195.9",y1:"195.9",x2:"173.3",y2:"173.3",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:24}),s.jsx("line",{x1:128,y1:224,x2:128,y2:192,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:24}),s.jsx("line",{x1:"60.1",y1:"195.9",x2:"82.7",y2:"173.3",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:24}),s.jsx("line",{x1:32,y1:128,x2:64,y2:128,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:24}),s.jsx("line",{x1:"60.1",y1:"60.1",x2:"82.7",y2:"82.7",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:24})]}),s.jsx("span",{className:"loading-text",children:"Loading..."})]})}e.forwardRef(({className:e,...t},a)=>s.jsx("caption",{ref:a,className:Oa("mt-4 text-sm text-muted-foreground",e),...t})).displayName="TableCaption";const ji=({currentPage:e,totalItems:t,itemsPerPage:a,onPageChange:r,onItemsPerPageChange:i})=>{const l=Math.ceil(t/a);return l<=0?null:s.jsxs("div",{className:"flex flex-col items-center justify-between gap-4 rounded-xl border border-border bg-card/50 p-4 shadow-sm backdrop-blur-sm md:flex-row",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing"," ",s.jsxs("span",{className:"font-bold text-foreground",children:[Math.min(t,(e-1)*a+1),"-",Math.min(t,e*a)]})," ","of ",s.jsx("span",{className:"font-bold text-foreground",children:t})," ","results"]}),s.jsx("div",{className:"h-4 w-[1px] bg-border"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{htmlFor:"items-per-page",className:"text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:"Rows"}),s.jsx("select",{id:"items-per-page",className:"rounded-lg border border-input bg-background px-2 py-1.5 text-xs font-bold transition-all hover:bg-accent focus:ring-2 focus:ring-primary/20",value:a,onChange:e=>i(Number(e.target.value)),children:[5,10,15,20,50].map(e=>s.jsx("option",{value:e,children:e},e))})]})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(Va,{onClick:()=>r(e-1),disabled:e<=1,variant:"ghost",size:"sm",className:"h-9 px-3 text-xs font-bold transition-all hover:bg-primary/10 hover:text-primary disabled:opacity-50",children:"Prev"}),s.jsx("div",{className:"flex items-center gap-1",children:(()=>{const t=[];if(l<=7)for(let e=1;e<=l;e++)t.push(e);else{t.push(1),e>3&&t.push("...");const s=Math.max(2,e-1),a=Math.min(l-1,e+1);for(let e=s;e<=a;e++)t.push(e);e<l-1-1&&t.push("..."),t.push(l)}return t})().map((t,a)=>{if("..."===t)return s.jsx("div",{className:"flex h-9 w-9 items-center justify-center text-xs text-muted-foreground",children:"..."},`ellipsis-${a}`);const i=t===e;return s.jsx(Va,{onClick:()=>r(Number(t)),variant:i?"default":"ghost",size:"icon",className:Oa("h-9 w-9 text-xs font-bold transition-all",i?"bg-primary shadow-md hover:bg-primary/90":"hover:bg-primary/10 hover:text-primary"),children:t},`page-${t}`)})}),s.jsx(Va,{onClick:()=>r(e+1),disabled:e>=l,variant:"ghost",size:"sm",className:"h-9 px-3 text-xs font-bold transition-all hover:bg-primary/10 hover:text-primary disabled:opacity-50",children:"Next"})]})]})};function bi({children:e,onSubmit:t,className:a,methods:r}){return s.jsx(g,{...r,children:s.jsx("form",{onSubmit:t,className:a,children:e})})}const yi=e.forwardRef(({className:t,type:a,onWheel:r,...i},l)=>{const n=e.useCallback(e=>{"number"===a&&(e.currentTarget.blur(),e.preventDefault(),setTimeout(()=>{var t;null==(t=e.currentTarget)||t.focus()},0)),null==r||r(e)},[a,r]);return s.jsx("input",{type:a,className:Oa("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:l,onWheel:n,...i})});function Ni({name:e,label:t,isDynamic:a,inputValidation:r,inputSize:i,isRequired:l,...n}){const{control:d}=f();return s.jsx(s.Fragment,{children:e?s.jsx(v,{name:e,control:d,render:({field:{ref:e,...a},fieldState:{error:d}})=>s.jsxs("div",{children:[s.jsxs("h1",{className:"mb-1 text-sm text-gray-700 dark:text-gray-200",children:[t," ",l&&t&&s.jsx("span",{className:"text-red-400",children:"*"})]}),s.jsx(yi,{...a,value:"number"==typeof a.value&&0===a.value?"":a.value??"",ref:e,className:`${d?"border-red-400":null}\n            ${("small"===i?"h-8":"medium"===i&&"h-10")||"large"===i&&"h-12"||"h-9"}`,onInput:e=>{r&&br(e,r)},...n}),d&&s.jsx("span",{className:"text-xs text-red-400",children:d.message})]})}):s.jsxs("div",{children:[s.jsx("h1",{className:"mb-1 text-gray-700 dark:text-gray-200",children:t}),s.jsx(yi,{...n,className:`\n        ${("small"===i?"h-8":"medium"===i&&"h-10")||"large"===i&&"h-12"||"h-9"}`,onInput:e=>{r&&br(e,r)}})]})})}function wi({isLoading:e,children:t,...a}){return s.jsxs(Va,{...a,disabled:e,children:[e&&s.jsx(es,{className:"mr-2 h-4 w-4 animate-spin"}),e?"Please wait...":t]})}yi.displayName="Input";const ki=xs,_i=hs,Si=ps,Ai=e.forwardRef(({className:e,children:t,...a},r)=>s.jsxs(ts,{ref:r,className:Oa("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...a,children:[t,s.jsx(ss,{asChild:!0,children:s.jsx(ba,{className:"h-4 w-4 opacity-50"})})]}));Ai.displayName=ts.displayName;const Ci=e.forwardRef(({className:e,...t},a)=>s.jsx(as,{ref:a,className:Oa("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(ya,{className:"h-4 w-4"})}));Ci.displayName=as.displayName;const Li=e.forwardRef(({className:e,...t},a)=>s.jsx(rs,{ref:a,className:Oa("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(ba,{className:"h-4 w-4"})}));Li.displayName=rs.displayName;const Ii=e.forwardRef(({className:e,children:t,position:a="popper",...r},i)=>s.jsx(is,{children:s.jsxs(ls,{ref:i,className:Oa("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:a,...r,children:[s.jsx(Ci,{}),s.jsx(ns,{className:Oa("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(Li,{})]})}));Ii.displayName=ls.displayName;e.forwardRef(({className:e,...t},a)=>s.jsx(ds,{ref:a,className:Oa("px-2 py-1.5 text-sm font-semibold",e),...t})).displayName=ds.displayName;const Pi=e.forwardRef(({className:e,children:t,...a},r)=>s.jsxs(os,{ref:r,className:Oa("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[s.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(cs,{children:s.jsx(Na,{className:"h-4 w-4"})})}),s.jsx(us,{children:t})]}));Pi.displayName=os.displayName;e.forwardRef(({className:e,...t},a)=>s.jsx(ms,{ref:a,className:Oa("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=ms.displayName;const Ri=({children:t,name:a,label:r,selectedText:i,className:l,data:n,initialValue:d,initialValueText:o,isSearch:c=!1,...u})=>{const{control:m,setValue:x}=f(),[p,h]=e.useState(""),g=c?null==n?void 0:n.filter(e=>e.label.toLowerCase().includes(p.toLowerCase())):n;return s.jsx(v,{name:a,control:m,render:({field:{ref:e,...t},fieldState:{error:a}})=>s.jsxs(s.Fragment,{children:[s.jsx("h1",{className:"mb-1 text-sm text-gray-700 dark:text-gray-200",children:r}),s.jsxs(ki,{onValueChange:e=>{var s;t.onChange(e),i&&x(i,null==(s=null==n?void 0:n.find(t=>t.value==e))?void 0:s.label)},value:void 0!==t.value&&null!==t.value?String(t.value):"",...u,children:[s.jsx(Ai,{ref:e,className:Oa("h-9",a?"border-red-400":null,l),children:s.jsx(Si,{placeholder:"Select"})}),s.jsxs(Ii,{children:[c&&s.jsx("div",{className:"sticky top-0 z-10 border-b bg-white px-2 pb-2 pt-2 dark:bg-gray-950",children:s.jsx(yi,{placeholder:"Search...",value:p,onChange:e=>h(e.target.value),className:"h-8",onKeyDown:e=>{e.stopPropagation()}})}),s.jsxs("div",{className:c?"max-h-[300px] overflow-y-auto":"",children:[d&&s.jsx(Pi,{value:d??"0",children:o??"Select"}),s.jsx(_i,{children:(null==g?void 0:g.length)>0?g.map((e,t)=>s.jsx(Pi,{value:e.value,children:e.label},t+1)):c&&s.jsx("div",{className:"py-6 text-center text-sm text-gray-500",children:"No results found"})})]})]})]}),a&&s.jsx("span",{className:"text-xs text-red-400",children:null==a?void 0:a.message})]})})};function Ei({name:e,label:t,isDynamic:a,isRequired:r,...i}){const{control:l,setValue:n}=f();return s.jsx(v,{name:e,control:l,render:({field:{ref:a},fieldState:{error:l}})=>s.jsxs(s.Fragment,{children:[s.jsxs("label",{className:"text-sm text-gray-700 dark:text-gray-200",htmlFor:t,children:[t," ",r&&s.jsx("span",{className:"text-red-400",children:"*"})]}),s.jsx(yi,{type:"file",onChange:t=>{n(e,t.target.files?t.target.files[0]:null)},ref:a,className:`mt-1 ${l?"border-red-400":null}`,...i}),l&&s.jsx("span",{className:"text-xs text-red-400",children:l.message})]})})}const Di=e.forwardRef(({className:e,...t},a)=>s.jsx(gs,{className:Oa("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:a,children:s.jsx(fs,{className:Oa("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));function Mi({name:e,label:t,...a}){const{control:r}=f();return s.jsx(v,{name:e,control:r,render:({field:{ref:e,...r},fieldState:{error:i}})=>s.jsxs(s.Fragment,{children:[s.jsxs("label",{className:"text-gray-700 dark:text-gray-200",htmlFor:t,children:[t," ",i&&s.jsx("span",{className:"text-red-400",children:"*"})]}),s.jsx("div",{className:"relative mt-1",children:s.jsx(Di,{onCheckedChange:r.onChange,checked:r.value,ref:e,className:`mt-1 ${i?"border-red-400":null}`,...a})}),i&&s.jsx("span",{className:"text-red-400 text-xs",children:null==i?void 0:i.message})]})})}Di.displayName=gs.displayName;const Ui=({children:e,name:t,label:a,selectedText:r,className:i,data:l,initialValue:n,initialValueText:d,isRequired:o,isHookForm:c=!0,...u})=>{const{control:m,setValue:x}=f();return s.jsx(s.Fragment,{children:c?s.jsx(v,{name:t??"",control:m,render:({field:{ref:e,...t},fieldState:{error:n}})=>s.jsxs(s.Fragment,{children:[s.jsxs("h1",{className:"text-gray-700 dark:text-gray-200 ",children:[a," ",o&&s.jsx("span",{className:"text-red-400",children:"*"})]}),s.jsxs("select",{...t,onChange:e=>{var s;t.onChange(e),r&&x(r,null==(s=null==l?void 0:l.find(t=>t.value==e.target.value))?void 0:s.label)},ref:e,className:Oa("flex h-10 w-full rounded-md border border-input bg-background px-3 py-1 text-sm text-foreground shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",n?"border-red-400":null,i),...u,children:[s.jsx("option",{value:"",className:"bg-background text-foreground",children:d||"Select"}),null==l?void 0:l.map((e,t)=>s.jsx("option",{value:e.value,className:"bg-background text-foreground",children:e.label},t+1))]}),n&&s.jsx("span",{className:"text-xs text-red-400",children:null==n?void 0:n.message})]})}):s.jsxs(s.Fragment,{children:[s.jsxs("h1",{className:"text-gray-700 dark:text-gray-200 ",children:[a," ",o&&s.jsx("span",{className:"text-red-400",children:"*"})]}),s.jsxs("select",{className:Oa("flex h-10 w-full rounded-md border border-input bg-background px-3 py-1 text-sm text-foreground shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",i),...u,children:[s.jsx("option",{value:"",className:"bg-background text-foreground",children:d||"Select"}),null==l?void 0:l.map((e,t)=>s.jsx("option",{value:e.value,className:"bg-background text-foreground",children:e.label},t+1))]})]})})};e.forwardRef(({className:e,...t},a)=>s.jsx(vs,{ref:a,className:Oa("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(js,{className:Oa("flex items-center justify-center text-current"),children:s.jsx(Mt,{className:"h-4 w-4"})})})).displayName=vs.displayName;const Fi=i("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ti=e.forwardRef(({className:e,...t},a)=>s.jsx(bs,{ref:a,className:Oa(Fi(),e),...t}));Ti.displayName=bs.displayName;const zi=ws,Bi=ks,qi=e.forwardRef(({className:e,align:t="center",sideOffset:a=4,...r},i)=>s.jsx(ys,{children:s.jsx(Ns,{ref:i,align:t,sideOffset:a,className:Oa("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...r})}));function Oi(e,{max:t,min:s=0,loop:a=!1}){let r=parseInt(e,10);return Number.isNaN(r)?"00":(a?(r>t&&(r=s),r<s&&(r=t)):(r>t&&(r=t),r<s&&(r=s)),r.toString().padStart(2,"0"))}function Wi(e){return function(e){return/^(0[0-9]|1[0-9]|2[0-3])$/.test(e)}(e)?e:Oi(e,{max:23})}function Vi(e){return function(e){return/^(0[1-9]|1[0-2])$/.test(e)}(e)?e:Oi(e,{min:1,max:12})}function $i(e){return function(e){return/^[0-5][0-9]$/.test(e)}(e)?e:Oi(e,{max:59})}function Hi(e,{min:t,max:s,step:a}){let r=parseInt(e,10);return Number.isNaN(r)?"00":(r+=a,Oi(String(r),{min:t,max:s,loop:!0}))}function Qi(e,t){return Hi(e,{min:0,max:59,step:t})}function Zi(e,t,s,a){switch(s){case"minutes":return function(e,t){const s=$i(t);return e.setMinutes(parseInt(s,10)),e}(e,t);case"seconds":return function(e,t){const s=$i(t);return e.setSeconds(parseInt(s,10)),e}(e,t);case"hours":return function(e,t){const s=Wi(t);return e.setHours(parseInt(s,10)),e}(e,t);case"12hours":return a?function(e,t,s){const a=function(e,t){return"PM"===t?e<=11?e+12:e:"AM"===t&&12===e?0:e}(parseInt(Vi(t),10),s);return e.setHours(a),e}(e,t,a):e;default:return e}}function Gi(e,t,s){switch(s){case"minutes":case"seconds":return Qi(e,t);case"hours":return function(e,t){return Hi(e,{min:0,max:23,step:t})}(e,t);case"12hours":return function(e,t){return Hi(e,{min:1,max:12,step:t})}(e,t);default:return"00"}}function Ki(e){return 0===e||12===e?"12":e>=22?""+(e-12):e%12>9?`${e}`:"0"+e%12}function Yi({className:t,classNames:a,showOutsideDays:r=!0,yearRange:i=50,...l}){const n=e.useMemo(()=>{let e=j;const{options:t,localize:s,formatLong:a}=l.locale||{};return t&&s&&a&&(e={options:t,localize:s,formatLong:a}),function(e){return Array.from({length:12},(t,s)=>({value:s,label:b(new Date(2021,s),"MMMM",{locale:e})}))}(e)},[]),d=e.useMemo(()=>function(e=50){const t=new Date;return Array.from({length:2*e+1},(s,a)=>({value:t.getFullYear()-e+a,label:(t.getFullYear()-e+a).toString()}))}(i),[]);return s.jsx(y,{showOutsideDays:r,className:Oa("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4  sm:space-y-0 justify-center",month:"flex flex-col items-center space-y-4",month_caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center ",button_previous:Oa(Wa({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100 absolute left-5 top-5",(()=>{const e=new Date((new Date).getFullYear()-i,0,1);return!!l.month&&(l.month.getMonth()===e.getMonth()&&l.month.getFullYear()===e.getFullYear())})()&&"pointer-events-none"),button_next:Oa(Wa({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100 absolute right-5 top-5",(()=>{const e=new Date((new Date).getFullYear()+i,11,31);return!!l.month&&(l.month.getMonth()===e.getMonth()&&l.month.getFullYear()===e.getFullYear())})()&&"pointer-events-none"),month_grid:"w-full border-collapse space-y-1",weekdays:Oa("flex",l.showWeekNumber&&"justify-end"),weekday:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",week:"flex w-full mt-2",day:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20 rounded-1",day_button:Oa(Wa({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100 rounded-l-md rounded-r-md"),range_end:"day-range-end",selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground rounded-l-md rounded-r-md",today:"bg-accent text-accent-foreground",outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",disabled:"text-muted-foreground opacity-50",range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",hidden:"invisible",...a},components:{Chevron:({...e})=>"left"===e.orientation?s.jsx(_a,{className:"h-4 w-4"}):s.jsx(Sa,{className:"h-4 w-4"}),MonthCaption:({calendarMonth:e})=>s.jsxs("div",{className:"inline-flex gap-2",children:[s.jsxs(ki,{defaultValue:e.date.getMonth().toString(),onValueChange:t=>{var s;const a=new Date(e.date);a.setMonth(Number.parseInt(t,10)),null==(s=l.onMonthChange)||s.call(l,a)},children:[s.jsx(Ai,{className:"w-fit gap-1 border-none p-0 focus:bg-accent focus:text-accent-foreground",children:s.jsx(Si,{})}),s.jsx(Ii,{children:n.map(e=>s.jsx(Pi,{value:e.value.toString(),children:e.label},e.value))})]}),s.jsxs(ki,{defaultValue:e.date.getFullYear().toString(),onValueChange:t=>{var s;const a=new Date(e.date);a.setFullYear(Number.parseInt(t,10)),null==(s=l.onMonthChange)||s.call(l,a)},children:[s.jsx(Ai,{className:"w-fit gap-1 border-none p-0 focus:bg-accent focus:text-accent-foreground",children:s.jsx(Si,{})}),s.jsx(Ii,{children:d.map(e=>s.jsx(Pi,{value:e.value.toString(),children:e.label},e.value))})]})]})},...l})}qi.displayName=Ns.displayName,Yi.displayName="Calendar";const Ji=e.forwardRef(({period:e,setPeriod:t,date:a,onDateChange:r,onLeftFocus:i,onRightFocus:l},n)=>s.jsx("div",{className:"flex h-10 items-center",children:s.jsxs(ki,{defaultValue:e,onValueChange:s=>(s=>{if(null==t||t(s),a){const t=new Date(a),s=Ki(a.getHours());null==r||r(Zi(t,s.toString(),"12hours","AM"===e?"PM":"AM"))}})(s),children:[s.jsx(Ai,{ref:n,className:"w-[65px] focus:bg-accent focus:text-accent-foreground",onKeyDown:e=>{"ArrowRight"===e.key&&(null==l||l()),"ArrowLeft"===e.key&&(null==i||i())},children:s.jsx(Si,{})}),s.jsxs(Ii,{children:[s.jsx(Pi,{value:"AM",children:"AM"}),s.jsx(Pi,{value:"PM",children:"PM"})]})]})}));Ji.displayName="TimePeriodSelect";const Xi=e.forwardRef(({className:t,type:a="tel",value:r,id:i,name:l,date:n=new Date((new Date).setHours(0,0,0,0)),onDateChange:d,onChange:o,onKeyDown:c,picker:u,period:m,onLeftFocus:x,onRightFocus:p,...h},g)=>{const[f,v]=e.useState(!1),[j,b]=e.useState("0");e.useEffect(()=>{if(f){const e=setTimeout(()=>{v(!1)},2e3);return()=>clearTimeout(e)}},[f]);const y=e.useMemo(()=>function(e,t){if(!e)return"00";switch(t){case"minutes":return $i(String(e.getMinutes()));case"seconds":return $i(String(e.getSeconds()));case"hours":return Wi(String(e.getHours()));case"12hours":return Vi(String(Ki(e.getHours())));default:return"00"}}(n,u),[n,u]),N=e=>{if("Tab"!==e.key){if(e.preventDefault(),"ArrowRight"===e.key&&(null==p||p()),"ArrowLeft"===e.key&&(null==x||x()),["ArrowUp","ArrowDown"].includes(e.key)){const t="ArrowUp"===e.key?1:-1,s=Gi(y,t,u);f&&v(!1);const a=n?new Date(n):new Date;null==d||d(Zi(a,s,u,m))}if(e.key>="0"&&e.key<="9"){"12hours"===u&&b(e.key);const s=(t=e.key,"12hours"===u&&f&&"1"===y.slice(1,2)&&"0"===j?`0${t}`:f?y.slice(1,2)+t:`0${t}`);f&&(null==p||p()),v(e=>!e);const a=n?new Date(n):new Date;null==d||d(Zi(a,s,u,m))}var t}};return s.jsx(yi,{ref:g,id:i||u,name:l||u,className:Oa("w-[48px] text-center font-mono text-base tabular-nums caret-transparent focus:bg-accent focus:text-accent-foreground [&::-webkit-inner-spin-button]:appearance-none",t),value:r||y,onChange:e=>{e.preventDefault(),null==o||o(e)},type:a,inputMode:"decimal",onKeyDown:e=>{null==c||c(e),N(e)},...h})});Xi.displayName="TimePickerInput";const el=e.forwardRef(({date:t,onChange:a,hourCycle:r=24,granularity:i="second"},l)=>{const n=e.useRef(null),d=e.useRef(null),o=e.useRef(null),c=e.useRef(null),[u,m]=e.useState(t&&t.getHours()>=12?"PM":"AM");return e.useImperativeHandle(l,()=>({minuteRef:n.current,hourRef:d.current,secondRef:o.current,periodRef:c.current}),[n,d,o]),s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("label",{htmlFor:"datetime-picker-hour-input",className:"cursor-pointer",children:s.jsx(wa,{className:"mr-2 h-4 w-4"})}),s.jsx(Xi,{picker:24===r?"hours":"12hours",date:t,id:"datetime-picker-hour-input",onDateChange:a,ref:d,period:u,onRightFocus:()=>{var e;return null==(e=null==n?void 0:n.current)?void 0:e.focus()}}),("minute"===i||"second"===i)&&s.jsxs(s.Fragment,{children:[":",s.jsx(Xi,{picker:"minutes",date:t,onDateChange:a,ref:n,onLeftFocus:()=>{var e;return null==(e=null==d?void 0:d.current)?void 0:e.focus()},onRightFocus:()=>{var e;return null==(e=null==o?void 0:o.current)?void 0:e.focus()}})]}),"second"===i&&s.jsxs(s.Fragment,{children:[":",s.jsx(Xi,{picker:"seconds",date:t,onDateChange:a,ref:o,onLeftFocus:()=>{var e;return null==(e=null==n?void 0:n.current)?void 0:e.focus()},onRightFocus:()=>{var e;return null==(e=null==c?void 0:c.current)?void 0:e.focus()}})]}),12===r&&s.jsx("div",{className:"grid gap-1 text-center",children:s.jsx(Ji,{period:u,setPeriod:m,date:t,onDateChange:e=>{null==a||a(e),e&&(null==e?void 0:e.getHours())>=12?m("PM"):m("AM")},ref:c,onLeftFocus:()=>{var e;return null==(e=null==o?void 0:o.current)?void 0:e.focus()}})})]})});el.displayName="TimePicker";e.forwardRef(({locale:t=j,defaultPopupValue:a=new Date((new Date).setHours(0,0,0,0)),value:r,onChange:i,onMonthChange:l,hourCycle:n=24,yearRange:d=50,disabled:o=!1,displayFormat:c,granularity:u="second",placeholder:m="Pick a date",className:x,...p},h)=>{const[g,f]=e.useState(r??a),v=e.useRef(null),[y,w]=e.useState(r??void 0);l||(l=i),e.useEffect(()=>{w(r)},[r]);e.useImperativeHandle(h,()=>({...v.current,value:y}),[y]);const k={hour24:(null==c?void 0:c.hour24)??"PPP HH:mm"+(u&&"second"!==u?"":":ss"),hour12:(null==c?void 0:c.hour12)??`PP hh:mm${u&&"second"!==u?"":":ss"} b`};let _=j;const{options:S,localize:A,formatLong:C}=t;return S&&A&&C&&(_={...j,options:S,localize:A,formatLong:C}),s.jsxs(zi,{children:[s.jsx(Bi,{asChild:!0,disabled:o,children:s.jsxs(Va,{variant:"outline",className:Oa("w-full justify-start text-left font-normal",!y&&"text-muted-foreground",x),ref:v,children:[s.jsx(ka,{className:"mr-2 h-4 w-4"}),y?b(y,24===n?k.hour24:k.hour12,{locale:_}):s.jsx("span",{children:m})]})}),s.jsxs(qi,{className:"w-auto p-0",children:[s.jsx(Yi,{mode:"single",selected:y,month:g,onSelect:e=>{var t;e&&(e.setHours((null==g?void 0:g.getHours())??0,(null==g?void 0:g.getMinutes())??0,(null==g?void 0:g.getSeconds())??0),(t=e)&&(null==i||i(t),f(t),w(t)))},onMonthChange:e=>{if(!e)return;if(!a)return e.setHours((null==g?void 0:g.getHours())??0,(null==g?void 0:g.getMinutes())??0,(null==g?void 0:g.getSeconds())??0),null==l||l(e),void f(e);const t=(e.getTime()-a.getTime())/864e5,s=N(a,{days:Math.ceil(t)});s.setHours((null==g?void 0:g.getHours())??0,(null==g?void 0:g.getMinutes())??0,(null==g?void 0:g.getSeconds())??0),null==l||l(s),f(s)},yearRange:d,locale:t,...p}),"day"!==u&&s.jsx("div",{className:"border-t border-border p-3",children:s.jsx(el,{onChange:e=>{null==i||i(e),w(e),e&&f(e)},date:g,hourCycle:n,granularity:u})})]})]})}).displayName="DateTimePicker";const tl=e.forwardRef(({className:e,orientation:t="horizontal",decorative:a=!0,...r},i)=>s.jsx(_s,{ref:i,decorative:a,orientation:t,className:Oa("shrink-0 bg-border","horizontal"===t?"h-[1px] w-full":"h-full w-[1px]",e),...r}));function sl({children:e,open:t,setOpen:a,title:r,setEdit:i,isLoading:l}){return s.jsxs("div",{children:[t&&s.jsx("div",{className:"fixed inset-0 z-50 bg-gray-900/50 dark:bg-gray-900/80"}),s.jsx("div",{id:"authentication-modal",tabIndex:-1,className:(t?"flex":"hidden")+" fixed left-0 right-0 top-0 z-50 h-[calc(100%-1rem)] max-h-full w-full items-center justify-center overflow-y-auto overflow-x-hidden md:inset-0",children:s.jsx("div",{className:"relative max-h-full w-full max-w-2xl p-4",children:s.jsxs("div",{className:"relative rounded-lg bg-white shadow dark:bg-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between rounded-t border-b p-4 dark:border-gray-600 md:p-5",children:[s.jsx("h3",{className:"text-base font-semibold text-gray-900 dark:text-white",children:r??"Add/Edit"}),s.jsxs("button",{onClick:()=>{i(!1),a(e=>!e)},type:"button",className:"end-2.5 ms-auto inline-flex h-8 w-8 items-center justify-center rounded-lg bg-transparent text-sm text-gray-400 hover:bg-gray-200 hover:text-gray-900 dark:hover:bg-gray-600 dark:hover:text-white","data-modal-hide":"authentication-modal",children:[s.jsx("svg",{className:"h-3 w-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14",children:s.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})}),s.jsx("span",{className:"sr-only",children:"Close modal"})]})]}),s.jsx("div",{className:"p-4 md:p-5",children:l?s.jsx("div",{className:"flex h-32 items-center justify-center",children:s.jsx(vi,{})}):e})]})})})]})}tl.displayName=_s.displayName;const al=Ea().shape({menuName:Da().required("Menu name is required"),route:Da().nullable(),parentId:Da().nullable(),workflowId:Da().nullable(),isSidebar:Ma().default(!1),serial:Da().nullable()});function rl({open:t,setOpen:a,title:r,edit:i,setEdit:l,id:n,refetch:d,menuId:o,editData:u}){var m,x,p,h;const g=li({}),f=w({resolver:k(al),defaultValues:{menuName:"",route:"",parentId:"",workflowId:"",isSidebar:!1,serial:""}}),{reset:v,handleSubmit:j,formState:{isSubmitting:b}}=f;e.useEffect(()=>{t&&v(i&&u?{menuName:u.menu_string||"",route:u.route||"",parentId:u.parent_id?String(u.parent_id):"",workflowId:u.workflow_id?String(u.workflow_id):"",isSidebar:!!u.is_sidebar,serial:u.serial||""}:{menuName:"",route:"",parentId:"",workflowId:"",isSidebar:!1,serial:""})},[t,i,u,v]);const y=ii({api:null==kr?void 0:kr.parentMenuList,key:`parentMenuList-${n}`,config:{moduleId:String(n)},options:{enabled:!!n&&t}}),N=ii({api:null==kr?void 0:kr.workFlowByModule,key:`workflowList-${n}`,config:{moduleId:String(n)},options:{enabled:!!n&&t}});return s.jsx(sl,{open:t,setOpen:a,title:r||(i?"Edit Menu":"Add Menu"),setEdit:l,edit:i,children:s.jsx("div",{className:"p-1",children:s.jsx(bi,{methods:f,onSubmit:j(async e=>{var t,s,r;try{const u={...e,moduleId:Number(n),...i&&{id:Number(o)},parentId:e.parentId?Number(e.parentId):null,workflowId:e.workflowId?Number(e.workflowId):null},m=i?null==kr?void 0:kr.editMenuDetailsByModule:null==kr?void 0:kr.addMenuByModule,x=await g.mutateAsync({api:m,data:u});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||`Menu ${i?"updated":"added"} successfully`),a(!1),l&&l(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(u){c.error(Sr(u))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(Ui,{label:"Parent Menu Name",name:"parentId",initialValueText:"Select Parent Menu",data:(null==(x=null==(m=null==y?void 0:y.data)?void 0:m.data)?void 0:x.map(e=>({label:null==e?void 0:e.menu_string,value:String(null==e?void 0:e.id)})))||[]}),s.jsx(Ni,{label:"Menu Name",name:"menuName",placeholder:"Enter menu name"}),s.jsx(Ni,{label:"Menu Route",name:"route",placeholder:"Enter menu url"}),s.jsx(Ni,{label:"Serial No.",name:"serial",type:"number",placeholder:"Enter Serial No."}),s.jsx(Ui,{label:"Workflow (select module to get workflow list)",name:"workflowId",initialValueText:"Select Workflow",data:(null==(h=null==(p=null==N?void 0:N.data)?void 0:p.data)?void 0:h.map(e=>({label:null==e?void 0:e.workflow_name,value:String(null==e?void 0:e.id)})))||[]}),s.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-border bg-muted/30 p-3 px-4 transition-all hover:bg-muted/50",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("label",{htmlFor:"isSidebar",className:"cursor-pointer text-sm font-bold text-foreground",children:"Is Sidebar Show"}),s.jsx("p",{className:"text-[10px] font-medium uppercase tracking-wider text-muted-foreground",children:"Show this menu in the side navigation"})]}),s.jsx(Mi,{name:"isSidebar",id:"isSidebar"})]})]}),s.jsx(tl,{className:"opacity-50"}),s.jsx(wi,{isLoading:b,type:"submit",className:"h-12 w-full rounded-xl bg-[#7C3AED] text-sm font-bold text-white shadow-lg shadow-purple-500/20 transition-all hover:bg-[#6D28D9] active:scale-[0.98]",children:i?"Update Menu":"Submit"})]})})})})}function il(){var t,a,r;const i=n(),[l]=_(),d=m(),o=l.get("module_name"),u=l.get("id"),[x,p]=e.useState(1),[h,g]=e.useState(10),[f,v]=e.useState(!1),[j,b]=e.useState(!1),[y,N]=e.useState(null),[w,k]=e.useState(null),[z,B]=e.useState(""),q=ii({api:null==kr?void 0:kr.getMenuMasterList,key:"menuMasterList",options:{enabled:!0}}),O=li({}),W=(null==(r=null==(a=null==(t=null==q?void 0:q.data)?void 0:t.data)?void 0:a.filter(e=>(null==e?void 0:e.module_id)==Number(u)))?void 0:r.filter(e=>{var t,s;return(null==(t=null==e?void 0:e.menu_string)?void 0:t.toLowerCase().includes(z.toLowerCase()))||(null==(s=null==e?void 0:e.route)?void 0:s.toLowerCase().includes(z.toLowerCase()))}))??[],V=x*h,$=V-h,H=W.slice($,V),Q=[{key:"menu-list",label:"Menu List",icon:s.jsx(P,{className:"h-4 w-4"}),color:"bg-blue-600/10 hover:bg-blue-600/20 text-blue-600 border-blue-600/20"},{key:"service-list",label:"Service List",icon:s.jsx(U,{className:"h-4 w-4"}),color:"bg-emerald-600/10 hover:bg-emerald-600/20 text-emerald-600 border-emerald-600/20"},{key:"role-list",label:"Role List",icon:s.jsx(F,{className:"h-4 w-4"}),color:"bg-violet-600/10 hover:bg-violet-600/20 text-violet-600 border-violet-600/20"},{key:"workflow-list",label:"Workflow Role",icon:s.jsx(T,{className:"h-4 w-4"}),color:"bg-amber-600/10 hover:bg-amber-600/20 text-amber-600 border-amber-600/20"}];return s.jsxs("div",{className:"",children:[s.jsx("div",{className:"mb-6 flex flex-wrap gap-2",children:Q.map(e=>{const t=i.pathname.includes(e.key);return s.jsxs(sr,{variant:t?"default":"outline",size:"sm",onClick:()=>{d(`/project-config/dashboard/module-list/${e.key}?module_name=${o}&id=${u}`)},className:Oa("flex items-center gap-2 transition-all hover:scale-105",t?Oa("bg-primary text-primary-foreground shadow-md",e.color&&"bg-opacity-100"):Oa("bg-background hover:bg-muted",e.color)),children:[e.icon,s.jsx("span",{className:"hidden sm:inline",children:e.label})]},e.key)})}),s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(sr,{variant:"ghost",size:"sm",onClick:()=>d(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:o}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[W.length," Menu Items"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search menu or route...",value:z,onChange:e=>{B(e.target.value),p(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20 md:w-64"})]}),s.jsxs(sr,{type:"button",onClick:()=>{b(!1),v(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New Menu"]})]})]})}),s.jsxs(ui,{className:"p-0",children:[q.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Fetching menu structure..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(mi,{children:[s.jsx(xi,{children:s.jsxs(hi,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(gi,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Parent Menu"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Menu Details"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Route Path"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"SideBar"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Serial"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"})]})}),s.jsx(pi,{children:s.jsx(I,{children:H.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:$+t+1})}),s.jsx(fi,{className:"px-2 text-muted-foreground",children:(null==e?void 0:e.parentName)||"-"}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(P,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:e.menu_string}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id," | Parent: ",e.parent_id]})]})]})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-foreground/80",children:[s.jsx(R,{className:"h-3 w-3 text-muted-foreground/60"}),s.jsx("code",{className:"rounded bg-muted px-1.5 py-0.5 text-xs font-semibold text-muted-foreground ring-1 ring-primary/10",children:e.route||"-"})]})}),s.jsx(fi,{className:"py-4",children:s.jsx("div",{className:"flex items-center text-sm font-medium text-foreground/80",children:e.is_sidebar?"Yes":"No"})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsxs("div",{className:"inline-flex items-center gap-1.5 rounded-full border border-border/50 bg-accent/50 px-2.5 py-1 text-xs font-bold text-foreground/70",children:[s.jsx(E,{className:"h-3 w-3 text-muted-foreground"}),e.serial]})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>{N(e.id),k(e),b(!0),v(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(D,{className:"h-4 w-4"})}),s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>{Zr("Delete Menu",`Are you sure you want to delete ${e.menu_string}?`,async()=>{var t,s,a;try{const r=await O.mutateAsync({api:kr.deleteMenu,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Menu deleted successfully"),q.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete menu")}catch(r){c.error("An error occurred")}})},className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})})]},e.id))})})]}),W.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(ji,{currentPage:x,totalItems:W.length,itemsPerPage:h,onPageChange:e=>{p(e)},onItemsPerPageChange:e=>{g(e),p(1)}})})]}),!q.isLoading&&0===W.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(P,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No menu items found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:"This module doesn't have any navigation items configured yet."}),s.jsxs(sr,{className:"mt-6",variant:"outline",children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Create First Menu"]})]})]})]}),s.jsx(rl,{open:f,setOpen:v,id:u,edit:j,setEdit:b,menuId:y,editData:w,refetch:q.refetch})]})]})}function ll(){return s.jsx(ri,{title:"Menu List",subTitle:"Control all Menu here",children:s.jsx(il,{})})}const nl=Ea().shape({serviceName:Da().required("Service name is required"),path:Da().required("Path is required")});function dl({open:t,setOpen:a,title:r,edit:i,setEdit:l,serviceList:n,id:d,paginatedMenuList:o,moduleId:u}){const m=li({}),x=w({defaultValues:{serviceName:""},resolver:k(nl)}),{reset:p}=x;e.useEffect(()=>{var e,s;if(t)if(i&&d){const t=null==(s=null==(e=null==n?void 0:n.data)?void 0:e.data)?void 0:s.find(e=>e.id==d);t&&p({serviceName:t.service_name||"",path:t.path||""})}else p({serviceName:"",path:""})},[t,i,d,p]);return s.jsx(sl,{open:t,setOpen:a,title:r,setEdit:l,edit:i,children:s.jsx(bi,{methods:x,onSubmit:x.handleSubmit(async e=>{var t,s,r;try{const o=i?null==kr?void 0:kr.updateServiceByModule:null==kr?void 0:kr.addServiceByModule,x=i?{...e,id:d}:{...e,moduleId:Number(u)},p=await m.mutateAsync({api:o,data:x});(null==(t=null==p?void 0:p.data)?void 0:t.status)?(c.success((null==(s=null==p?void 0:p.data)?void 0:s.message)||`Service ${i?"updated":"added"} successfully`),a(!1),l&&l(!1),n.refetch()):c.error((null==(r=null==p?void 0:p.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(Sr(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-x-2 gap-y-4",children:[s.jsx("div",{children:s.jsx(Ni,{label:"Service Name",name:"serviceName",placeholder:"Enter service name"})}),s.jsx("div",{children:s.jsx(Ni,{label:"Service Path",name:"path",placeholder:"Enter path"})}),s.jsx(tl,{}),s.jsx("div",{children:s.jsx(wi,{isLoading:x.formState.isSubmitting,type:"submit",className:"h-11 w-full rounded-xl",children:"Submit"})})]})})})}function ol(){var t,a;const[r]=_(),i=m(),l=r.get("module_name"),n=r.get("id"),[d,o]=e.useState(1),[c,u]=e.useState(10),[x,p]=e.useState(""),[h,g]=e.useState(!1),[f,v]=e.useState(!1),[j,b]=e.useState(void 0),y=()=>{v(!1),b(void 0),g(!0)},N=ii({api:null==kr?void 0:kr.serviceList,key:"serviceMasterList",config:{moduleId:n},options:{enabled:!0}}),w=(null==(a=null==(t=null==N?void 0:N.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=e.service_name)?void 0:t.toLowerCase().includes(x.toLowerCase())}))||[],k=d*c,R=k-c,E=w.slice(R,k),q=[{key:"menu-list",label:"Menu List",icon:s.jsx(P,{className:"h-4 w-4"}),color:"bg-blue-600/10 hover:bg-blue-600/20 text-blue-600 border-blue-600/20"},{key:"service-list",label:"Service List",icon:s.jsx(U,{className:"h-4 w-4"}),color:"bg-emerald-600/10 hover:bg-emerald-600/20 text-emerald-600 border-emerald-600/20"},{key:"role-list",label:"Role List",icon:s.jsx(F,{className:"h-4 w-4"}),color:"bg-violet-600/10 hover:bg-violet-600/20 text-violet-600 border-violet-600/20"},{key:"workflow-list",label:"Workflow Role",icon:s.jsx(T,{className:"h-4 w-4"}),color:"bg-amber-600/10 hover:bg-amber-600/20 text-amber-600 border-amber-600/20"}];return s.jsxs("div",{className:"",children:[s.jsx("div",{className:"mb-6 flex flex-wrap gap-2",children:q.map(e=>{const t=location.pathname.includes(e.key);return s.jsxs(sr,{variant:t?"default":"outline",size:"sm",onClick:()=>{i(`/project-config/dashboard/module-list/${e.key}?module_name=${l}&id=${n}`)},className:Oa("flex items-center gap-2 transition-all hover:scale-105",t?Oa("bg-primary text-primary-foreground shadow-md",e.color&&"bg-opacity-100"):Oa("bg-background hover:bg-muted",e.color)),children:[e.icon,s.jsx("span",{className:"hidden sm:inline",children:e.label})]},e.key)})}),s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(sr,{variant:"ghost",size:"sm",onClick:()=>i(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:l}),s.jsxs("div",{className:"inline-block rounded-full bg-emerald-600/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-emerald-600",children:[w.length," Services"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search service name...",value:x,onChange:e=>{p(e.target.value),o(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20 md:w-64"})]}),s.jsxs(sr,{type:"button",onClick:y,className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New Service"]})]})]})}),s.jsxs(ui,{className:"p-0",children:[N.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading services..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(mi,{children:[s.jsx(xi,{children:s.jsxs(hi,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(gi,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Service Name"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Service Path"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"})]})}),s.jsx(pi,{children:s.jsx(I,{children:E.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:R+t+1})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-emerald-600/10 transition-colors group-hover/row:bg-emerald-600/20",children:s.jsx(U,{className:"h-5 w-5 text-emerald-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:e.service_name}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-emerald-600/10 transition-colors group-hover/row:bg-emerald-600/20",children:s.jsx(Aa,{className:"h-5 w-5 text-emerald-600"})}),s.jsx("div",{children:s.jsx("p",{className:"font-bold leading-tight text-foreground",children:e.path})})]})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsxs("span",{className:Oa("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",e.is_suspended?"border-red-500/20 bg-red-500/10 text-red-500":"border-green-500/20 bg-green-500/10 text-green-500"),children:[e.is_suspended?s.jsx(z,{className:"h-3 w-3"}):s.jsx(B,{className:"h-3 w-3"}),e.is_suspended?"Suspended":"Active"]})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>{return t=e.id,v(!0),b(t),void g(!0);var t},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(D,{className:"h-4 w-4"})}),s.jsx(sr,{variant:"ghost",size:"icon",className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})})]},e.id))})})]}),w.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(ji,{currentPage:d,totalItems:w.length,itemsPerPage:c,onPageChange:e=>{o(e)},onItemsPerPageChange:e=>{u(e),o(1)}})})]}),!N.isLoading&&0===w.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(U,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No services found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:"Start by adding services to this module to define its capabilities."}),s.jsxs(sr,{className:"mt-6",variant:"outline",onClick:y,children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Service"]})]})]})]})}),s.jsx(dl,{open:h,setOpen:g,title:f?"Edit Service":"Add New Service",edit:f,setEdit:v,id:j,serviceList:N,moduleId:n})]})}function cl(){return s.jsx(ri,{title:"Service List",subTitle:"Control all Service here",children:s.jsx(ol,{})})}const ul=Ea().shape({menuRoleName:Da().required("Role name is required")});function ml({open:t,setOpen:a,title:r,edit:i,setEdit:l,id:n,moduleId:d,refetch:o,editData:u}){const m=li({}),x=w({defaultValues:{menuRoleName:""},resolver:k(ul)}),{reset:p,handleSubmit:h,formState:{isSubmitting:g}}=x;e.useEffect(()=>{t&&p(i&&u?{menuRoleName:u.menu_role_name||""}:{menuRoleName:""})},[t,i,u,p]);return s.jsx(sl,{open:t,setOpen:a,title:r||(i?"Edit Role":"Add Role"),setEdit:l,edit:i,children:s.jsx("div",{className:"p-1",children:s.jsx(bi,{methods:x,onSubmit:h(async e=>{var t,s,r;try{const u=i?null==kr?void 0:kr.editMenuList:null==kr?void 0:kr.addMenuList,x=i?{...e,id:n}:{...e,moduleId:Number(d)},p=await m.mutateAsync({api:u,data:x});(null==(t=null==p?void 0:p.data)?void 0:t.status)?(c.success((null==(s=null==p?void 0:p.data)?void 0:s.message)||`Role ${i?"updated":"added"} successfully`),a(!1),l&&l(!1),o&&o()):c.error((null==(r=null==p?void 0:p.data)?void 0:r.message)||"Something went wrong")}catch(u){c.error(Sr(u))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsx("div",{className:"space-y-4",children:s.jsx(Ni,{label:"Role Name",name:"menuRoleName",placeholder:"Enter role name"})}),s.jsx(tl,{className:"opacity-50"}),s.jsx(wi,{isLoading:g,type:"submit",className:"h-12 w-full rounded-xl bg-[#7C3AED] text-sm font-bold text-white shadow-lg shadow-purple-500/20 transition-all hover:bg-[#6D28D9] active:scale-[0.98]",children:i?"Update Role":"Submit"})]})})})})}function xl(){var a,r,i;const[l]=_(),n=m(),d=l.get("module_name"),o=l.get("id"),[u,x]=e.useState(1),[p,h]=e.useState(10),[g,f]=e.useState(""),[v,j]=e.useState(!1),[b,y]=e.useState(!1),[N,w]=e.useState(null),[k,R]=e.useState(null),[E,O]=e.useState({}),[W,V]=e.useState(!1),[$,H]=e.useState(null),Q=ii({api:null==kr?void 0:kr.getMenuRoleList,key:"roleMasterList",options:{enabled:!0}}),Z=li({}),G=li({}),K=(null==(i=null==(r=null==(a=null==Q?void 0:Q.data)?void 0:a.data)?void 0:r.filter(e=>e.module_id==Number(o)))?void 0:i.filter(e=>{var t;return null==(t=e.menu_role_name)?void 0:t.toLowerCase().includes(g.toLowerCase())}))||[],Y=u*p,J=Y-p,X=K.slice(J,Y),ee=e=>void 0!==E[e.id]?E[e.id]:!0===e.is_suspended;t.useEffect(()=>{W&&(G.isSuccess&&(c.success("Role status updated successfully"),Q.refetch(),H(null),V(!1),G.reset()),G.isError&&(c.error(Sr(G.error)),O(e=>{const t={...e};return $&&delete t[$.roleId],t}),H(null),V(!1),G.reset()))},[G.isSuccess,G.isError,W,Q,$,G]);const te=[{key:"menu-list",label:"Menu List",icon:s.jsx(P,{className:"h-4 w-4"}),color:"bg-blue-600/10 hover:bg-blue-600/20 text-blue-600 border-blue-600/20"},{key:"service-list",label:"Service List",icon:s.jsx(U,{className:"h-4 w-4"}),color:"bg-emerald-600/10 hover:bg-emerald-600/20 text-emerald-600 border-emerald-600/20"},{key:"role-list",label:"Role List",icon:s.jsx(F,{className:"h-4 w-4"}),color:"bg-violet-600/10 hover:bg-violet-600/20 text-violet-600 border-violet-600/20"},{key:"workflow-list",label:"Workflow Role",icon:s.jsx(T,{className:"h-4 w-4"}),color:"bg-amber-600/10 hover:bg-amber-600/20 text-amber-600 border-amber-600/20"}];return s.jsxs("div",{className:"",children:[s.jsx("div",{className:"mb-6 flex flex-wrap gap-2",children:te.map(e=>{const t=location.pathname.includes(e.key);return s.jsxs(sr,{variant:t?"default":"outline",size:"sm",onClick:()=>{n(`/project-config/dashboard/module-list/${e.key}?module_name=${d}&id=${o}`)},className:Oa("flex items-center gap-2 transition-all hover:scale-105",t?Oa("bg-primary text-primary-foreground shadow-md",e.color&&"bg-opacity-100"):Oa("bg-background hover:bg-muted",e.color)),children:[e.icon,s.jsx("span",{className:"hidden sm:inline",children:e.label})]},e.key)})}),s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(sr,{variant:"ghost",size:"sm",onClick:()=>n(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:d}),s.jsxs("div",{className:"inline-block rounded-full bg-violet-600/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-violet-600",children:[K.length," Roles"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search role name...",value:g,onChange:e=>{f(e.target.value),x(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20 md:w-64"})]}),s.jsxs(sr,{type:"button",onClick:()=>{y(!1),j(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New Role"]})]})]})}),s.jsxs(ui,{className:"p-0",children:[Q.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading user roles..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(mi,{children:[s.jsx(xi,{children:s.jsxs(hi,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(gi,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Role Name"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Is Suspended"})]})}),s.jsx(pi,{children:s.jsx(I,{children:X.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:J+t+1})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-violet-600/10 transition-colors group-hover/row:bg-violet-600/20",children:s.jsx(F,{className:"h-5 w-5 text-violet-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:e.menu_role_name}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsxs("span",{className:Oa("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",e.is_suspended?"border-red-500/20 bg-red-500/10 text-red-500":"border-green-500/20 bg-green-500/10 text-green-500"),children:[e.is_suspended?s.jsx(z,{className:"h-3 w-3"}):s.jsx(B,{className:"h-3 w-3"}),e.is_suspended?"Suspended":"Active"]})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>{w(e.id),R(e),y(!0),j(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(D,{className:"h-4 w-4"})}),s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>{Zr("Delete Role",`Are you sure you want to delete ${e.menu_role_name}?`,async()=>{var t,s,a;try{const r=await Z.mutateAsync({api:kr.apiRoleMasterActiveDeactive,data:{role_id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Action performed successfully"),Q.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to perform action")}catch(r){c.error("An error occurred")}})},className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})}),s.jsxs(sr,{onClick:()=>n(`/project-config/dashboard/module-list/role-list/manage-menu?module_id=${e.module_id}&role_id=${e.id}&module_name=${d}`,{state:{role_name:null==e?void 0:e.menu_role_name}}),className:"flex items-center gap-2",children:[s.jsx(q,{className:"h-4 w-4"}),"View"]})]})}),s.jsx(fi,{className:"mt-6 flex items-center justify-center",children:s.jsx(Di,{checked:ee(e),onCheckedChange:()=>(e=>{const t=!ee(e);O(s=>({...s,[e.id]:t}));const s={roleId:Number(e.id),isSuspended:t?"inactive":"active"};V(!0),H(s),G.mutate({api:null==kr?void 0:kr.apiRoleMasterActiveDeactive,data:s})})(e)})})]},e.id))})})]}),K.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(ji,{currentPage:u,totalItems:K.length,itemsPerPage:p,onPageChange:e=>{x(e)},onItemsPerPageChange:e=>{h(e),x(1)}})})]}),!Q.isLoading&&0===K.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(F,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No roles found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:"Configure roles for this module to manage user permissions."}),s.jsxs(sr,{className:"mt-6",variant:"outline",children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Role"]})]})]})]}),s.jsx(ml,{open:v,setOpen:j,moduleId:o,edit:b,setEdit:y,id:N,editData:k,refetch:Q.refetch})]})]})}function pl(){return s.jsx(ri,{title:"Role List",subTitle:"Control all Role here",children:s.jsx(xl,{})})}function hl(){var t,a;const[r]=_(),i=m(),l=r.get("module_name"),n=r.get("id"),[d,o]=e.useState(1),[c,u]=e.useState(10),[x,p]=e.useState(""),h=ii({api:null==kr?void 0:kr.getWorkFlowList,key:"workflowMasterList",options:{enabled:!0}}),g=(null==(a=null==(t=null==h?void 0:h.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=e.role_name)?void 0:t.toLowerCase().includes(x.toLowerCase())}))||[],f=d*c,v=f-c,j=g.slice(v,f),b=[{key:"menu-list",label:"Menu List",icon:s.jsx(P,{className:"h-4 w-4"}),color:"bg-blue-600/10 hover:bg-blue-600/20 text-blue-600 border-blue-600/20"},{key:"service-list",label:"Service List",icon:s.jsx(U,{className:"h-4 w-4"}),color:"bg-emerald-600/10 hover:bg-emerald-600/20 text-emerald-600 border-emerald-600/20"},{key:"role-list",label:"Role List",icon:s.jsx(F,{className:"h-4 w-4"}),color:"bg-violet-600/10 hover:bg-violet-600/20 text-violet-600 border-violet-600/20"},{key:"workflow-list",label:"Workflow Role",icon:s.jsx(T,{className:"h-4 w-4"}),color:"bg-amber-600/10 hover:bg-amber-600/20 text-amber-600 border-amber-600/20"}];return s.jsxs("div",{className:"",children:[s.jsx("div",{className:"mb-6 flex flex-wrap gap-2",children:b.map(e=>{const t=location.pathname.includes(e.key);return s.jsxs(sr,{variant:t?"default":"outline",size:"sm",onClick:()=>{i(`/project-config/dashboard/module-list/${e.key}?module_name=${l}&id=${n}`)},className:Oa("flex items-center gap-2 transition-all hover:scale-105",t?Oa("bg-primary text-primary-foreground shadow-md",e.color&&"bg-opacity-100"):Oa("bg-background hover:bg-muted",e.color)),children:[e.icon,s.jsx("span",{className:"hidden sm:inline",children:e.label})]},e.key)})}),s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(sr,{variant:"ghost",size:"sm",onClick:()=>i(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:l}),s.jsxs("div",{className:"inline-block rounded-full bg-amber-600/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-amber-600",children:[g.length," Workflows"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search role name...",value:x,onChange:e=>{p(e.target.value),o(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20 md:w-64"})]}),s.jsxs(sr,{type:"button",className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New Workflow"]})]})]})}),s.jsxs(ui,{className:"p-0",children:[h.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading workflow configurations..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(mi,{children:[s.jsx(xi,{children:s.jsxs(hi,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(gi,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Workflow Name"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"})]})}),s.jsx(pi,{children:s.jsx(I,{children:j.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:v+t+1})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-amber-600/10 transition-colors group-hover/row:bg-amber-600/20",children:s.jsx(T,{className:"h-5 w-5 text-amber-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:e.role_name}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsxs("span",{className:Oa("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",e.is_suspended?"border-red-500/20 bg-red-500/10 text-red-500":"border-green-500/20 bg-green-500/10 text-green-500"),children:[e.is_suspended?s.jsx(z,{className:"h-3 w-3"}):s.jsx(B,{className:"h-3 w-3"}),e.is_suspended?"Suspended":"Active"]})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(sr,{variant:"ghost",size:"icon",className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(D,{className:"h-4 w-4"})}),s.jsx(sr,{variant:"ghost",size:"icon",className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})})]},e.id))})})]}),g.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(ji,{currentPage:d,totalItems:g.length,itemsPerPage:c,onPageChange:e=>{o(e)},onItemsPerPageChange:e=>{u(e),o(1)}})})]}),!h.isLoading&&0===g.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(T,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No workflows found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:"Define and manage business logic workflows for this module."}),s.jsxs(sr,{className:"mt-6",variant:"outline",children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Workflow"]})]})]})]})})]})}function gl(){return s.jsx(ri,{title:"Workflow List",subTitle:"Control all Workflow here",children:s.jsx(hl,{})})}function fl({open:t,setOpen:a,title:r,menuRoleId:i,moduleId:l,moduleName:n,refetch:d}){var o;const[u,m]=e.useState(""),x=li({}),p=ii({api:null==kr?void 0:kr.getPermitedMenuList,key:`manage-permissions-${i}-${l}`,config:{menuRoleId:i,moduleId:l},options:{enabled:t&&!!i&&!!l}}),h=e.useMemo(()=>{var e,t;const s=(null==(t=null==(e=null==p?void 0:p.data)?void 0:e.data)?void 0:t[n])||[];return u?s.filter(e=>{var t,s;return(null==(t=e.menu_string)?void 0:t.toLowerCase().includes(u.toLowerCase()))||(null==(s=e.route)?void 0:s.toLowerCase().includes(u.toLowerCase()))}):s},[null==(o=null==p?void 0:p.data)?void 0:o.data,n,u]);return s.jsx(sl,{open:t,setOpen:a,setEdit:()=>{},title:r||"Manage Menu Permissions",children:s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"relative mb-2 flex items-center",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search menus or routes...",value:u,onChange:e=>m(e.target.value),className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsx("div",{className:"custom-scrollbar max-h-[60vh] overflow-y-auto pr-2",children:p.isLoading?s.jsx("div",{className:"flex h-48 items-center justify-center",children:s.jsx(vi,{})}):0===h.length?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center text-muted-foreground",children:[s.jsx(P,{className:"mb-3 h-12 w-12 opacity-20"}),s.jsx("p",{children:"No menus found matching your search"})]}):s.jsx("div",{className:"space-y-3 pb-4",children:h.map((e,t)=>{var a,r;const l=!e.is_suspended;return s.jsxs(S.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.03*t},className:Oa("flex items-center justify-between rounded-2xl border p-4 transition-all duration-200",l?"border-green-500/20 bg-green-500/5 hover:bg-green-500/10":"border-border bg-muted/20 hover:bg-muted/30"),children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:Oa("flex h-10 w-10 items-center justify-center rounded-xl transition-colors",l?"bg-green-500/20 text-green-600":"bg-muted text-muted-foreground"),children:s.jsx(P,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold leading-tight text-foreground",children:e.menu_string}),s.jsx("p",{className:"mt-1 font-mono text-xs text-muted-foreground",children:e.route})]})]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsx(Va,{size:"sm",variant:l?"destructive":"default",onClick:()=>(async(e,t)=>{var s,a,r;try{const l={isSuspended:t,menuId:e,menuRoleId:i},n=await x.mutateAsync({api:null==kr?void 0:kr.addRemoveMenuPermission,data:l});(null==(s=null==n?void 0:n.data)?void 0:s.status)?(c.success((null==(a=null==n?void 0:n.data)?void 0:a.message)||"Permission updated"),p.refetch(),d&&d()):c.error((null==(r=null==n?void 0:n.data)?void 0:r.message)||"Failed to update")}catch(l){c.error(Sr(l))}})(e.id,!e.is_suspended),disabled:x.isPending,className:Oa("h-9 gap-2 rounded-xl px-4 shadow-sm transition-all active:scale-95",l?"border-none bg-red-500 text-white hover:bg-red-600":"border-none bg-primary text-white hover:bg-primary/90"),children:x.isPending&&(null==(r=null==(a=x.variables)?void 0:a.data)?void 0:r.menuId)===e.id?s.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white/30 border-t-white"}):l?s.jsxs(s.Fragment,{children:[s.jsx(O,{className:"h-3 w-3"}),"Remove"]}):s.jsxs(s.Fragment,{children:[s.jsx(L,{className:"h-3 w-3"}),"Add"]})})})]},e.id)})})})]})})}function vl(){var t,a,r;const i=li({}),l=m(),[d]=_(),o=d.get("role_id"),u=d.get("module_id"),x=d.get("module_name")||"Menu Roles",{role_name:p}=(null==(t=n())?void 0:t.state)||{},[h,g]=e.useState(""),[f,v]=e.useState("all"),[j,b]=e.useState(!1),y=e.useRef(null),N=ii({api:null==kr?void 0:kr.getPermitedMenuList,key:`permittedMenuList-${o}-${u}`,options:{enabled:!!o&&!!u},config:{menuRoleId:Number(o),moduleId:Number(u)}}),w=li({});e.useEffect(()=>{const e=e=>{var t;!e.altKey||"s"!==e.key&&"S"!==e.key||(e.preventDefault(),e.stopPropagation(),null==(t=y.current)||t.focus())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]);const k=(null==(r=null==(a=null==N?void 0:N.data)?void 0:a.data)?void 0:r[x])||[],L=e=>Number(e.menu_role_id)===Number(o)&&!e.is_suspended,R=k.filter(e=>{var t;return null==(t=null==e?void 0:e.menu_string)?void 0:t.toLowerCase().includes(h.toLowerCase())}),E=R.filter(e=>{const t=L(e);return"active"===f?t:"inactive"!==f||!t}),D=R.filter(e=>L(e)).length,M=R.filter(e=>!L(e)).length;return s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(sr,{variant:"ghost",size:"sm",onClick:()=>l(-1),className:"flex h-10 items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-blue-600/10 text-blue-600",children:s.jsx(P,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:x}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Role:"," ",s.jsx("span",{className:"font-semibold text-blue-600",children:p})]}),s.jsxs("div",{className:"inline-block rounded-full bg-blue-600/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-blue-600",children:[k.length," Menus Found"]})]})]})]}),s.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[s.jsxs("div",{className:"flex items-center gap-2 rounded-xl border bg-muted/30 p-1",children:[s.jsxs(sr,{variant:"ghost",size:"sm",onClick:()=>v("all"),className:Oa("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","all"===f?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[s.jsx(W,{className:"h-3 w-3"}),"All (",R.length,")"]}),s.jsxs(sr,{variant:"ghost",size:"sm",onClick:()=>v("active"),className:Oa("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","active"===f?"bg-green-600 text-white shadow-sm hover:bg-green-600":"text-muted-foreground hover:text-foreground"),children:[s.jsx(B,{className:"h-3 w-3"}),"Active (",D,")"]}),s.jsxs(sr,{variant:"ghost",size:"sm",onClick:()=>v("inactive"),className:Oa("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","inactive"===f?"bg-muted text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[s.jsx(z,{className:"h-3 w-3"}),"Inactive (",M,")"]})]}),s.jsxs("div",{className:"relative flex items-center",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{ref:y,type:"text",placeholder:"Search menu...",value:h,onChange:e=>g(e.target.value),className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-20 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20 sm:w-64"}),s.jsx("div",{className:"absolute right-2.5 hidden items-center gap-1 sm:flex",children:s.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[s.jsx("span",{className:"text-xs",children:"Alt"}),"S"]})})]})]})]})}),s.jsx(ui,{className:"p-6",children:N.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-xs font-medium text-muted-foreground",children:"Loading menus..."})]})}):s.jsx(s.Fragment,{children:0===E.length?s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(P,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No menus found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:h||"all"!==f?"Try adjusting your filters or search criteria":"No menus available for this role yet."})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:s.jsx(I,{mode:"popLayout",children:E.map((e,t)=>{const a=L(e);return s.jsx(S.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2,delay:.02*t},children:s.jsx(di,{className:Oa("group overflow-hidden rounded-xl border transition-all hover:shadow-md",a?"border-green-500/20 bg-green-500/5":"border-border bg-card hover:border-primary/30"),children:s.jsx(ui,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("div",{className:Oa("flex h-10 w-10 items-center justify-center rounded-lg transition-all",a?"bg-green-500/20 text-green-600":"bg-muted text-muted-foreground group-hover:bg-primary/10 group-hover:text-primary"),children:a?s.jsx(B,{className:"h-5 w-5"}):s.jsx(z,{className:"h-5 w-5"})}),s.jsx(Di,{checked:a,onCheckedChange:()=>(async e=>{var t,s,a;const r=L(e),l=e.id,n=o;try{const e={isSuspended:r,menuId:l,menuRoleId:n},d=await i.mutateAsync({api:null==kr?void 0:kr.addRemoveMenuPermission,data:e});(null==(t=null==d?void 0:d.data)?void 0:t.status)?(c.success((null==(s=null==d?void 0:d.data)?void 0:s.message)||"Role status updated successfully"),N.refetch()):c.error((null==(a=null==d?void 0:d.data)?void 0:a.message)||"Failed to update status")}catch(d){c.error(Sr(d))}})(e),disabled:w.isPending,className:"data-[state=checked]:bg-green-600"})]}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h4",{className:"line-clamp-1 text-sm font-bold text-foreground",children:e.menu_string}),s.jsx("p",{className:"truncate font-mono text-[10px] text-muted-foreground",title:e.route,children:e.route??"--"})]}),s.jsx("p",{className:Oa("mt-1 text-[10px] font-bold uppercase tracking-wider",a?"text-green-600":Number(e.menu_role_id)===Number(o)?"text-red-500":"text-muted-foreground"),children:a?"Active":Number(e.menu_role_id)===Number(o)?"Suspended":"Inactive"})]})})})},e.id)})})}),s.jsxs("div",{className:"mt-6 flex flex-col gap-2 rounded-xl border bg-muted/20 px-4 py-3 sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("span",{className:"text-xs font-bold uppercase tracking-widest text-muted-foreground",children:["Showing: ",E.length," of"," ",R.length," Menus"]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500"}),s.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Active: ",D]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-muted-foreground"}),s.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Inactive: ",M]})]})]})]})]})})})]})}),s.jsx(fl,{open:j,setOpen:b,menuRoleId:o,moduleId:u,moduleName:x,title:`Manage Menus for ${p}`,refetch:N.refetch})]})}function jl(){return s.jsx(ri,{title:"Menu Role List",subTitle:"Control all Menu Role here",children:s.jsx(vl,{})})}const bl=({ulbName:e,ulb_logo:t,progress:a,onBack:r})=>{const i=m();return s.jsxs("div",{className:"relative overflow-hidden bg-slate-900 px-8 py-10 shadow-2xl dark:bg-black rounded-2xl",children:[s.jsx("div",{className:"absolute right-0 top-0 -mr-32 -mt-32 h-64 w-64 rounded-full bg-primary/5 blur-3xl"}),s.jsx("div",{className:"absolute bottom-0 left-0 -mb-32 -ml-32 h-64 w-64 rounded-full bg-primary/5 blur-3xl"}),s.jsx("div",{className:"relative z-10 mx-auto max-w-7xl rounded-2xl",children:s.jsxs("div",{className:"mb-8 flex flex-col justify-between gap-8 md:flex-row md:items-end",children:[s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"flex-1",children:[s.jsxs("div",{className:"mb-4 flex items-center gap-4",children:[t?s.jsx("div",{className:"h-16 w-16 overflow-hidden rounded-2xl bg-white p-2 shadow-2xl ring-4 ring-white/10",children:s.jsx("img",{src:t,alt:e,className:"h-full w-full object-contain"})}):s.jsx("div",{className:"rounded-2xl bg-primary/10 p-3 text-primary ring-1 ring-primary/20",children:s.jsx(V,{className:"animate-spin-slow",size:24})}),s.jsx("h1",{className:"text-2xl font-black tracking-tight text-white md:text-3xl",children:e})]}),s.jsxs("div",{className:"mt-8 max-w-md",children:[s.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[s.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500",children:"Synchronization Status"}),s.jsxs("span",{className:"text-[10px] font-black text-white/90",children:[a,"% Optimal"]})]}),s.jsx("div",{className:"h-2 w-full overflow-hidden rounded-full bg-slate-800 p-[1px]",children:s.jsx(S.div,{initial:{width:0},animate:{width:`${a}%`},transition:{duration:1,ease:"easeOut"},className:"h-full rounded-full bg-primary shadow-[0_0_10px_rgba(59,130,246,0.5)]"})})]})]}),s.jsx(S.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"flex gap-3",children:s.jsxs(sr,{variant:"outline",onClick:()=>i(-1),className:"border-slate-700 bg-slate-800/50 text-slate-300 backdrop-blur-sm hover:bg-slate-700 hover:text-white",children:[s.jsx(A,{className:"mr-2"}),r?"Switch ULB":"Back"]})})]})})]})},yl=({data:e})=>{const{basic_information:t,global_master:a}=e,r=[{label:"Municipal Code",value:t.code,icon:$},{label:"Regional Association",value:t.association_with||"N/A",icon:H},{label:"Ward Count",value:a.ward_count.toLocaleString(),icon:Q},{label:"Operational Status",value:t.active_status?"active":"inactive",icon:Z,isStatus:!0}];return s.jsx("div",{className:"grid grid-cols-1 gap-4 px-8 md:grid-cols-2 lg:grid-cols-4",children:r.map((e,t)=>s.jsx(S.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.1*t+.3},children:s.jsx(di,{className:"group overflow-hidden border-none bg-white shadow-xl transition-all duration-300 hover:shadow-2xl dark:bg-slate-900",children:s.jsx(ui,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"rounded-xl bg-slate-100 p-3 text-slate-500 transition-all duration-300 group-hover:bg-primary/10 group-hover:text-primary dark:bg-slate-800 dark:text-slate-400",children:s.jsx(e.icon,{size:20})}),s.jsxs("div",{className:"min-h-12 max-h-12",children:[s.jsx("p",{className:"mb-1 text-[10px] font-normal uppercase tracking-widest text-muted-foreground",children:e.label}),e.isStatus?s.jsxs("div",{className:Oa("inline-flex items-center gap-1.5 rounded-full px-2.5 py-0.5 text-[10px] font-bold uppercase tracking-wider","active"===e.value?"border border-emerald-500/20 bg-emerald-500/10 text-emerald-600":"border border-red-500/20 bg-red-500/10 text-red-500"),children:[s.jsx("div",{className:Oa("h-1.5 w-1.5 animate-pulse rounded-full","active"===e.value?"bg-emerald-500":"bg-red-500")}),e.value]}):s.jsx("p",{className:"text-sm font-black tracking-tight text-slate-800 dark:text-slate-200",children:e.value})]})]})})})},e.label))})},Nl=Ea().shape({id:Da().nullable(),ulbName:Da().required("Ulb Name is required"),ulbType:Da().required("Ulb Type is required"),remarks:Da().nullable(),cityId:Ua().typeError("City Id must be a number").required("City Id is required"),incorporationDate:Da().required("Incorporation Date is required"),departmentId:Ua().typeError("Department Id must be a number").required("Department Id is required"),districtCode:Da().required("District Code is required"),category:Da().required("Category is required"),code:Da().required("Code is required"),shortName:Da().required("Short Name is required"),tollFreeNo:Da().required("Toll Free No is required"),currentWebsite:Da().url("Enter a valid URL").required("Current Website is required"),parentWebsite:Da().url("Enter a valid URL").required("Parent Website is required"),email:Da().email("Enter a valid email").required("Email is required"),mobileNo:Da().matches(/^\d{10}$/,"Mobile number must be 10 digits").required("Mobile No is required"),stateId:Ua().typeError("State ID must be a number").required("State ID is required"),districtId:Ua().typeError("District ID must be a number").required("District ID is required"),associationWith:Da().required("Association With is required"),latitude:Da().required("Latitude is required"),longitude:Da().required("Longitude is required"),ulb_logo:Da().nullable()});function wl({open:t,setOpen:a,title:r,edit:i,setEdit:l,editData:n,refetch:d}){const o=li({}),[u,m]=e.useState(null),x=w({defaultValues:{id:"",ulbName:"",ulbType:"",remarks:"",cityId:void 0,incorporationDate:"",departmentId:void 0,districtCode:"",category:"",code:"",shortName:"",tollFreeNo:"",currentWebsite:"",parentWebsite:"",email:"",mobileNo:"",stateId:void 0,districtId:void 0,associationWith:"",latitude:"",longitude:""},resolver:k(Nl)}),{reset:p}=x;e.useEffect(()=>{t&&p(i&&n?{id:(null==n?void 0:n.id)||"",ulbName:(null==n?void 0:n.ulb_name)||"",ulbType:(null==n?void 0:n.ulb_type)||"",remarks:(null==n?void 0:n.remarks)||"",cityId:Number(null==n?void 0:n.city_id)||0,incorporationDate:(null==n?void 0:n.incorporation_date)||"",departmentId:Number(null==n?void 0:n.department_id)||0,districtCode:(null==n?void 0:n.district_code)||"",category:(null==n?void 0:n.category)||"",code:(null==n?void 0:n.code)||"",shortName:(null==n?void 0:n.short_name)||"",tollFreeNo:(null==n?void 0:n.toll_free_no)||"",currentWebsite:(null==n?void 0:n.current_website)||"",parentWebsite:(null==n?void 0:n.parent_website)||"",email:(null==n?void 0:n.email)||"",mobileNo:(null==n?void 0:n.mobile_no)||"",stateId:Number(null==n?void 0:n.state_id)||0,districtId:Number(null==n?void 0:n.district_id)||0,associationWith:(null==n?void 0:n.association_with)||"",latitude:(null==n?void 0:n.latitude)||"",longitude:(null==n?void 0:n.longitude)||""}:{id:"",ulbName:"",ulbType:"",remarks:"",cityId:void 0,incorporationDate:"",departmentId:void 0,districtCode:"",category:"",code:"",shortName:"",tollFreeNo:"",currentWebsite:"",parentWebsite:"",email:"",mobileNo:"",stateId:void 0,districtId:void 0,associationWith:"",latitude:"",longitude:""})},[t,i,n,p]);const[h,g]=e.useState("");return e.useEffect(()=>{(null==n?void 0:n.ulb_logo)&&g(n.ulb_logo)},[n,t]),s.jsx(sl,{open:t,setOpen:a,title:r,setEdit:l,edit:i,children:s.jsx("div",{className:"p-1",children:s.jsx(bi,{methods:x,onSubmit:x.handleSubmit(async e=>{var t,s,r;const n=new FormData;Object.entries(e).forEach(([e,t])=>{n.append(e,t)}),u&&n.append("ulb_logo",u);try{const e=i?null==Nr?void 0:Nr.api_updateUlb:null==Nr?void 0:Nr.api_PostUlb,u=await o.mutateAsync({api:e,data:n});(null==(t=null==u?void 0:u.data)?void 0:t.status)?(c.success((null==(s=null==u?void 0:u.data)?void 0:s.message)||(i?"ULB Account updated successfully":"ULB Account created successfully")),a(!1),l&&l(!1),d()):c.error((null==(r=null==u?void 0:u.data)?void 0:r.message)||"Something went wrong")}catch(m){c.error(Sr(m))}}),children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsx("div",{className:"max-h-[60vh] overflow-y-auto px-1",children:s.jsxs("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"flex items-center gap-2 border-b pb-2 text-sm font-bold uppercase tracking-wider text-muted-foreground",children:[s.jsx(G,{className:"text-primary"})," Basic Information"]}),s.jsx(Ni,{label:"Ulb Name",name:"ulbName",placeholder:"e.g. Deoghar Municipal Corporation"}),s.jsx(Ni,{label:"Ulb Type",name:"ulbType",placeholder:"e.g. Municipal Corporation"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Ni,{label:"Short Name",name:"shortName",placeholder:"DMC"}),s.jsx(Ni,{label:"Code",name:"code",placeholder:"e.g. DMC001"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Ni,{label:"Category",name:"category",placeholder:"e.g. Urban"}),s.jsx(Ni,{label:"City Id",name:"cityId",type:"number",placeholder:"12"})]}),s.jsx(Ni,{label:"Incorporation Date",name:"incorporationDate",type:"date"}),s.jsx("div",{children:s.jsx(Ei,{name:"ulb_logo",label:"Upload Logo",className:"text-sm",onChange:e=>{var t;const s=null==(t=e.target.files)?void 0:t[0];if(s){const e=URL.createObjectURL(s);m(s),g(e)}else(null==n?void 0:n.ulb_logo)&&g(n.ulb_logo)}})}),h&&s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:h,alt:"Preview",style:{width:"200px",marginTop:"10px"}}),s.jsx("span",{onClick:()=>{g(""),m(null)},className:"absolute right-10 top-0 flex h-6 w-6 cursor-pointer items-center justify-center rounded-full bg-red-300 transition-all ease-in-out hover:bg-red-400",children:s.jsx(Ca,{className:"p-0.5 text-gray-600"})})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"flex items-center gap-2 border-b pb-2 text-sm font-bold uppercase tracking-wider text-muted-foreground",children:[s.jsx(K,{className:"text-primary"})," Remarks & Info"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Ni,{label:"Remarks",name:"remarks",placeholder:"Special notes..."}),s.jsx(Ni,{label:"Association With",name:"associationWith",placeholder:"State Government"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"flex items-center gap-2 border-b pb-2 text-sm font-bold uppercase tracking-wider text-muted-foreground",children:[s.jsx(Y,{className:"text-primary"})," Contact & Web"]}),s.jsx(Ni,{label:"Email Address",name:"email",placeholder:"contact@deoghar.gov.in"}),s.jsx(Ni,{label:"Mobile No",name:"mobileNo",placeholder:"9876543210"}),s.jsx(Ni,{label:"Toll Free No",name:"tollFreeNo",placeholder:"1800123456"}),s.jsx(Ni,{label:"Current Website",name:"currentWebsite",placeholder:"https://deoghar.gov.in"}),s.jsx(Ni,{label:"Parent Website",name:"parentWebsite",placeholder:"https://jharkhand.gov.in"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"flex items-center gap-2 border-b pb-2 text-sm font-bold uppercase tracking-wider text-muted-foreground",children:[s.jsx(J,{className:"text-primary"})," Regional Information"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Ni,{label:"State ID",name:"stateId",type:"number",placeholder:"20"}),s.jsx(Ni,{label:"District ID",name:"districtId",type:"number",placeholder:"5"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Ni,{label:"District Code",name:"districtCode",placeholder:"e.g. DGHR"}),s.jsx(Ni,{label:"Dept Id",name:"departmentId",type:"number",placeholder:"3"})]})]}),s.jsxs("div",{className:"space-y-4 md:col-span-2",children:[s.jsxs("h4",{className:"flex items-center gap-2 border-b pb-2 text-sm font-bold uppercase tracking-wider text-muted-foreground",children:[s.jsx(X,{className:"text-primary"})," Location Coordinates"]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[s.jsx(Ni,{label:"Latitude",name:"latitude",placeholder:"24.4850"}),s.jsx(Ni,{label:"Longitude",name:"longitude",placeholder:"86.6950"})]})]})]})}),s.jsx("div",{className:"flex items-center justify-end gap-3 border-t pt-4",children:s.jsx(wi,{isLoading:x.formState.isSubmitting,type:"submit",className:"h-12 rounded-xl bg-primary px-10 text-sm font-bold text-primary-foreground shadow-lg shadow-primary/25 transition-all hover:bg-primary/95 hover:shadow-xl active:scale-[0.98]",children:i?"Update ULB Account":"Create ULB Account"})})]})})})})}const kl=({data:t})=>{const[a,r]=e.useState(!0),[i,l]=e.useState(!1),[n,d]=e.useState(!1),[o,c]=e.useState(null),u=ii({api:null==kr?void 0:kr.getAllJuidcoUlbList,key:"ulbLists",options:{enabled:!0}}),m=[{label:"Official Name",value:t.ulb_name,icon:G,fullWidth:!0},{label:"Registry ID",value:t.id,icon:ee},{label:"Code",value:t.code,icon:ee},{label:"Type",value:t.ulb_type,icon:te},{label:"Regional Category",value:t.category||"N/A",icon:J},{label:"Primary Address",value:t.address,icon:J,fullWidth:!0},{label:"Hindi Title",value:t.hindi_name||"N/A",icon:D,fullWidth:!0},{label:"Incorporation",value:t.incorporation_date?new Date(t.incorporation_date).toLocaleDateString():"N/A",icon:se},{label:"Toll Free Support",value:t.toll_free_no||"N/A",icon:ae},{label:"Administrative Web",value:t.current_website||"N/A",icon:Y,fullWidth:!0},{label:"Corporate Email",value:t.email||"N/A",icon:re,fullWidth:!0},{label:"Parent Gateway",value:t.parent_website||"N/A",icon:R,fullWidth:!0}];return s.jsxs(s.Fragment,{children:[s.jsxs(di,{className:"mx-8 overflow-hidden border-none bg-white shadow-xl transition-all duration-500 dark:bg-slate-900",children:[s.jsxs(oi,{className:"flex cursor-pointer flex-row items-center justify-between border-b border-slate-100 bg-slate-50/50 p-6 transition-colors hover:bg-slate-100 dark:border-slate-800 dark:bg-slate-800/30 dark:hover:bg-slate-800/50",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"rounded-xl bg-primary/10 p-3 text-primary ring-1 ring-primary/20",children:s.jsx(G,{})}),s.jsxs("div",{children:[s.jsx(ci,{className:"text-xl font-black tracking-tight text-slate-800 dark:text-slate-200",children:"Basic Configuration"}),s.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Core identification and contact matrix"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(sr,{onClick:()=>(c(t),d(!0),void l(!0)),variant:"outline",size:"sm",className:"h-9 border-slate-200 bg-white px-4 shadow-sm transition-all hover:bg-primary hover:text-white dark:border-slate-700 dark:bg-slate-800 dark:text-slate-300",children:[s.jsx(D,{className:"mr-2"}),"Modify"]}),s.jsx("div",{onClick:()=>r(!a),className:"text-slate-400",children:a?s.jsx(ie,{}):s.jsx(le,{})})]})]}),s.jsx(I,{children:a&&s.jsx(S.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},children:s.jsx(ui,{className:"p-8",children:s.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:m.map((e,t)=>s.jsxs("div",{className:Oa("group flex gap-4 rounded-2xl border border-slate-100 bg-slate-50 p-4 transition-all duration-300 hover:border-primary/20 hover:bg-white hover:shadow-lg dark:border-slate-800 dark:bg-slate-800/20 dark:hover:bg-slate-800",e.fullWidth&&"md:col-span-2"),children:[s.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-xl bg-white text-slate-400 shadow-sm transition-all group-hover:scale-110 group-hover:text-primary dark:bg-slate-700",children:s.jsx(e.icon,{size:16})}),s.jsxs("div",{children:[s.jsx("p",{className:"mb-1 text-[10px] font-normal uppercase tracking-widest text-muted-foreground",children:e.label}),s.jsx("p",{className:"text-sm font-bold leading-tight text-slate-800 dark:text-slate-200 ",children:e.value||"N/A"})]})]},`${e.label}-${t}`))})})})})]}),s.jsx(wl,{open:i,setOpen:l,edit:n,setEdit:d,editData:o,title:n?"Update ULB Details":"Add New ULB",refetch:()=>u.refetch()})]})},_l=Ls,Sl=e.forwardRef(({className:e,...t},a)=>s.jsx(Ss,{ref:a,className:Oa("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));Sl.displayName=Ss.displayName;const Al=e.forwardRef(({className:e,...t},a)=>s.jsx(As,{ref:a,className:Oa("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));Al.displayName=As.displayName;const Cl=e.forwardRef(({className:e,...t},a)=>s.jsx(Cs,{ref:a,className:Oa("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Cl.displayName=Cs.displayName;const Ll=Ea().shape({id:Ua().nullable(),wardNumber:Da().required("Ward Number is required").matches(/^\d+$/,"Must be a number")}),Il=({open:t,onOpenChange:a,ulbId:r})=>{const[i,l]=e.useState(null),{data:n,refetch:d,isLoading:o}=ii({api:Nr.api_getUlbWardList,key:`wardList-${r}`,config:{ulbId:r},options:{enabled:t&&!!r}}),u=li({}),m=li({}),x=li({}),{register:p,handleSubmit:h,reset:g,setValue:f,formState:{errors:v,isSubmitting:j}}=w({resolver:k(Ll),defaultValues:{id:null,wardNumber:""}}),b=(null==n?void 0:n.data)||[];return s.jsx(Kr,{open:t,onOpenChange:a,children:s.jsxs(Xr,{className:"max-w-3xl overflow-hidden border-none bg-white p-0 shadow-2xl dark:bg-slate-900",children:[s.jsx(ei,{className:"bg-slate-50 px-6 py-4 dark:bg-slate-800/50",children:s.jsxs(si,{className:"flex items-center gap-3 text-xl font-black tracking-tight text-slate-800 dark:text-slate-100",children:[s.jsx("div",{className:"rounded-xl bg-primary/10 p-2 text-primary",children:s.jsx(Q,{})}),"Ward Management Matrix"]})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("form",{onSubmit:h(async e=>{var t,s;try{const a=!!e.id,i=a?Nr.api_updateUlbWard:Nr.api_createUlbWard,n=a?{id:e.id,wardNumber:e.wardNumber,ulbId:r}:{ulbId:r,wardNumber:e.wardNumber},o=await(a?m:u).mutateAsync({api:i,data:n});(null==(t=null==o?void 0:o.data)?void 0:t.status)?(c.success(o.data.message||`Ward ${a?"updated":"created"} successfully`),g({id:null,wardNumber:""}),l(null),d()):c.error((null==(s=null==o?void 0:o.data)?void 0:s.message)||"Operation failed")}catch(a){c.error(Sr(a))}}),className:"mb-8 flex items-end gap-4 rounded-2xl border border-slate-100 bg-slate-50/50 p-4 dark:border-slate-800 dark:bg-slate-800/20",children:[s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500",children:i?"Update Ward Identifier":"New Ward Identifier"}),s.jsx(yi,{...p("wardNumber"),placeholder:"Enter Ward Number (e.g. 101)",className:"h-11 border-slate-200 bg-white font-bold text-slate-800 transition-all focus:ring-primary/20 dark:border-slate-700 dark:bg-slate-800 dark:text-slate-200"}),v.wardNumber&&s.jsx("p",{className:"text-xs font-bold text-red-500",children:v.wardNumber.message})]}),s.jsxs("div",{className:"flex gap-2",children:[i&&s.jsx(sr,{type:"button",variant:"outline",onClick:()=>{l(null),g({id:null,wardNumber:""})},className:"h-11 px-6",children:"Cancel"}),s.jsx(sr,{type:"submit",disabled:j,className:"h-11 min-w-[120px] bg-primary font-bold shadow-lg shadow-primary/20 hover:bg-primary/90",children:j?s.jsx(vi,{className:"h-4 w-4 text-white"}):i?"Update":"Create"})]})]}),s.jsx("div",{className:"max-h-[400px] overflow-y-auto rounded-xl border border-slate-100 bg-white dark:border-slate-800 dark:bg-slate-900",children:s.jsxs(mi,{children:[s.jsx(xi,{className:"bg-slate-50 dark:bg-slate-800/50",children:s.jsxs(hi,{children:[s.jsx(gi,{className:"font-bold text-slate-500",children:"ID"}),s.jsx(gi,{className:"font-bold text-slate-500",children:"Ward Number"}),s.jsx(gi,{className:"font-bold text-slate-500",children:"Status"}),s.jsx(gi,{className:"text-right font-bold text-slate-500",children:"Actions"})]})}),s.jsx(pi,{children:o?s.jsx(hi,{children:s.jsx(fi,{colSpan:4,className:"h-32 text-center",children:s.jsx(vi,{className:"mx-auto text-primary"})})}):0===b.length?s.jsx(hi,{children:s.jsx(fi,{colSpan:4,className:"h-32 text-center text-slate-400",children:"No wards found. Create one above."})}):b.map(e=>s.jsxs(hi,{className:"group transition-colors hover:bg-slate-50 dark:hover:bg-slate-800/30",children:[s.jsxs(fi,{className:"font-mono text-xs font-bold text-slate-400",children:["#",e.id]}),s.jsx(fi,{className:"font-bold text-slate-700 dark:text-slate-300",children:e.ward_name||e.ward_number||`Ward ${e.id}`}),s.jsx(fi,{children:s.jsx(Di,{checked:1===e.status||!0===e.status,onCheckedChange:()=>(async(e,t)=>{var s,a;try{const r=t?0:1,i=await x.mutateAsync({api:Nr.api_deleteUlbWard,data:{id:e,status:r}});(null==(s=null==i?void 0:i.data)?void 0:s.status)?(c.success(`Ward ${r?"activated":"deactivated"} successfully`),d()):c.error((null==(a=null==i?void 0:i.data)?void 0:a.message)||"Status update failed")}catch(r){c.error(Sr(r))}})(e.id,1===e.status||!0===e.status),className:"data-[state=checked]:bg-emerald-500"})}),s.jsx(fi,{className:"text-right",children:s.jsx("div",{className:"flex justify-end gap-2 opacity-0 transition-opacity group-hover:opacity-100",children:s.jsx(sr,{size:"icon",variant:"ghost",onClick:()=>(e=>{l(e.id),f("id",e.id),f("wardNumber",e.ward_name||e.ward_number)})(e),className:"h-8 w-8 text-slate-400 hover:bg-primary/10 hover:text-primary",children:s.jsx(D,{size:14})})})})]},e.id))})]})})]})]})})},Pl=Ea().shape({id:Ua().nullable(),zone:Da().required("Zone Name is required").min(2,"Zone Name must be at least 2 characters")}),Rl=({open:t,onOpenChange:a,ulbId:r})=>{const[i,l]=e.useState(null),{data:n,refetch:d,isLoading:o}=ii({api:Nr.zone_list_Api,key:`zoneList-${r}`,config:{ulbId:r},options:{enabled:t&&!!r}}),u=li({}),m=li({}),x=li({}),{register:p,handleSubmit:h,reset:g,setValue:f,formState:{errors:v,isSubmitting:j}}=w({resolver:k(Pl),defaultValues:{id:null,zone:""}}),b=(null==n?void 0:n.data)||[];return s.jsx(Kr,{open:t,onOpenChange:a,children:s.jsxs(Xr,{className:"max-w-3xl overflow-hidden border-none bg-white p-0 shadow-2xl dark:bg-slate-900",children:[s.jsx(ei,{className:"bg-slate-50 px-6 py-4 dark:bg-slate-800/50",children:s.jsxs(si,{className:"flex items-center gap-3 text-xl font-black tracking-tight text-slate-800 dark:text-slate-100",children:[s.jsx("div",{className:"rounded-xl bg-primary/10 p-2 text-primary",children:s.jsx(H,{})}),"Zone Distribution Matrix"]})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("form",{onSubmit:h(async e=>{var t,s;try{const a=!!e.id,i=a?Nr.api_updateZoneApi:Nr.api_PostZoneApi,n=a?{id:e.id,zone:e.zone,ulbId:r}:{ulbId:r,zone:e.zone},o=await(a?m:u).mutateAsync({api:i,data:n});(null==(t=null==o?void 0:o.data)?void 0:t.status)?(c.success(o.data.message||`Zone ${a?"updated":"created"} successfully`),g({id:null,zone:""}),l(null),d()):c.error((null==(s=null==o?void 0:o.data)?void 0:s.message)||"Operation failed")}catch(a){c.error(Sr(a))}}),className:"mb-8 flex items-end gap-4 rounded-2xl border border-slate-100 bg-slate-50/50 p-4 dark:border-slate-800 dark:bg-slate-800/20",children:[s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500",children:i?"Update Zone Identifier":"New Zone Identifier"}),s.jsx(yi,{...p("zone"),placeholder:"Enter Zone Name (e.g. North Zone)",className:"h-11 border-slate-200 bg-white font-bold text-slate-800 transition-all focus:ring-primary/20 dark:border-slate-700 dark:bg-slate-800 dark:text-slate-200"}),v.zone&&s.jsx("p",{className:"text-xs font-bold text-red-500",children:v.zone.message})]}),s.jsxs("div",{className:"flex gap-2",children:[i&&s.jsx(sr,{type:"button",variant:"outline",onClick:()=>{l(null),g({id:null,zone:""})},className:"h-11 px-6",children:"Cancel"}),s.jsx(sr,{type:"submit",disabled:j,className:"h-11 min-w-[120px] bg-primary font-bold shadow-lg shadow-primary/20 hover:bg-primary/90",children:j?s.jsx(vi,{className:"h-4 w-4 text-white"}):i?"Update":"Create"})]})]}),s.jsx("div",{className:"max-h-[400px] overflow-y-auto rounded-xl border border-slate-100 bg-white dark:border-slate-800 dark:bg-slate-900",children:s.jsxs(mi,{children:[s.jsx(xi,{className:"bg-slate-50 dark:bg-slate-800/50",children:s.jsxs(hi,{children:[s.jsx(gi,{className:"font-bold text-slate-500",children:"ID"}),s.jsx(gi,{className:"font-bold text-slate-500",children:"Zone Name"}),s.jsx(gi,{className:"font-bold text-slate-500",children:"ULB Name"}),s.jsx(gi,{className:"font-bold text-slate-500",children:"Status"}),s.jsx(gi,{className:"text-right font-bold text-slate-500",children:"Actions"})]})}),s.jsx(pi,{children:o?s.jsx(hi,{children:s.jsx(fi,{colSpan:5,className:"h-32 text-center",children:s.jsx(vi,{className:"mx-auto text-primary"})})}):0===b.length?s.jsx(hi,{children:s.jsx(fi,{colSpan:5,className:"h-32 text-center text-slate-400",children:"No zones found. Create one above."})}):b.map(e=>s.jsxs(hi,{className:"group transition-colors hover:bg-slate-50 dark:hover:bg-slate-800/30",children:[s.jsxs(fi,{className:"font-mono text-xs font-bold text-slate-400",children:["#",e.id]}),s.jsx(fi,{className:"font-bold text-slate-700 dark:text-slate-300",children:e.zone}),s.jsx(fi,{className:"text-xs font-medium text-slate-500",children:e.ulb_name}),s.jsx(fi,{children:s.jsx(Di,{checked:e.status,onCheckedChange:()=>(async(e,t)=>{var s,a;try{const r=t?0:1,i=await x.mutateAsync({api:Nr.api_deleteZoneApi,data:{id:e,status:r}});(null==(s=null==i?void 0:i.data)?void 0:s.status)?(c.success(`Zone ${r?"activated":"deactivated"} successfully`),d()):c.error((null==(a=null==i?void 0:i.data)?void 0:a.message)||"Status update failed")}catch(r){c.error(Sr(r))}})(e.id,e.status),className:"data-[state=checked]:bg-emerald-500"})}),s.jsx(fi,{className:"text-right",children:s.jsx("div",{className:"flex justify-end gap-2 opacity-0 transition-opacity group-hover:opacity-100",children:s.jsx(sr,{size:"icon",variant:"ghost",type:"button",onClick:()=>(e=>{l(e.id),f("id",e.id),f("zone",e.zone_name||e.zone)})(e),className:"h-8 w-8 text-slate-400 hover:bg-primary/10 hover:text-primary",children:s.jsx(D,{size:14})})})})]},e.id))})]})})]})]})})},El=e.forwardRef(({className:e,children:t,...a},r)=>s.jsxs(Is,{ref:r,className:Oa("relative overflow-hidden",e),...a,children:[s.jsx(Ps,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(Dl,{}),s.jsx(Rs,{})]}));El.displayName=Is.displayName;const Dl=e.forwardRef(({className:e,orientation:t="vertical",...a},r)=>s.jsx(Es,{ref:r,orientation:t,className:Oa("flex touch-none select-none transition-colors","vertical"===t&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===t&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...a,children:s.jsx(Ds,{className:"relative flex-1 rounded-full bg-border"})}));Dl.displayName=Es.displayName;const Ml=i("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{success:"border-transparent bg-green-400 text-primary-foreground shadow hover:bg-green-400/80",default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ul({className:e,variant:t,...a}){return s.jsx("div",{className:Oa(Ml({variant:t}),e),...a})}function Fl({className:e,...t}){return s.jsx("div",{className:Oa("animate-pulse rounded-md bg-muted",e),...t})}function Tl({tableName:t,headers:a,onSuccess:r,onCancel:i,editData:l}){const[n,d]=e.useState(l||{}),[o,u]=e.useState(!1),m=!!l,x=e.useMemo(()=>a.filter(e=>!["id","created_at","updated_at","deleted_at","property_type_code","user_id"].includes(e.toLowerCase())),[a]),p=(e,t)=>{d(s=>({...s,[e]:t}))},h=li({}),g=li({});return s.jsxs(hi,{className:"border-b-2 border-blue-500 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20",children:[s.jsx(fi,{className:"border-r bg-blue-100/50 text-center font-mono text-xs font-bold text-blue-600 dark:border-white/5 dark:bg-blue-900/30",children:m?"EDIT":"NEW"}),a.map(e=>{const t=x.includes(e),a=(e=>{const t=e.toLowerCase();return t.includes("status")||t.includes("active")?"boolean":t.includes("date")||t.includes("time")||t.includes("created")||t.includes("updated")?"date":t.includes("amount")||t.includes("price")||t.includes("count")||t.includes("number")?"number":"text"})(e);return t?s.jsx(fi,{className:"border-r px-2 py-2 dark:border-white/5",children:"boolean"===a?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Di,{checked:n[e]||!1,onCheckedChange:t=>p(e,t),className:"data-[state=checked]:bg-green-500"}),s.jsx("span",{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:n[e]?"Active":"Inactive"})]}):s.jsx(yi,{type:a,value:n[e]||"",onChange:t=>p(e,t.target.value),required:!0,placeholder:`Enter ${e.replace(/_/g," ")}`,className:"h-8 min-w-[150px] rounded border-slate-300 bg-white text-xs shadow-sm focus:border-blue-500 focus:ring-1 focus:ring-blue-500 dark:border-slate-600 dark:bg-slate-800"})},e):s.jsx(fi,{className:"border-r px-2 py-2 dark:border-white/5",children:s.jsx("span",{className:"text-xs italic text-slate-400",children:"Auto"})},e)}),s.jsx(fi,{className:"sticky right-0 bg-blue-50/90 px-2 py-2 dark:bg-blue-900/30",children:s.jsxs("div",{className:"flex justify-end gap-1",children:[s.jsx(sr,{type:"button",variant:"ghost",size:"icon",onClick:i,disabled:o,className:"h-7 w-7 text-red-500 hover:bg-red-500/10",children:s.jsx(ne,{size:12})}),s.jsx(sr,{type:"button",onClick:async e=>{var s,a;e.preventDefault(),u(!0);try{const e={};x.forEach(t=>{void 0!==n[t]&&""!==n[t]&&(e[t]=n[t])});const i={tableName:t,data:e,id:null==l?void 0:l.id},o=m?g:h,u=m?kr.updateDynamicTable:kr.createDynamicTable,p=await o.mutateAsync({api:u,data:i});(null==(s=null==p?void 0:p.data)?void 0:s.status)?(c.success(p.data.message||`Record ${m?"updated":"created"} successfully!`),d({}),r()):c.error((null==(a=null==p?void 0:p.data)?void 0:a.message)||`Failed to ${m?"update":"create"} record`)}catch(i){c.error((null==i?void 0:i.message)||`An error occurred while ${m?"updating":"creating"} record`)}finally{u(!1)}},disabled:o,size:"icon",className:"h-7 w-7 bg-green-600 text-white hover:bg-green-700",children:o?s.jsx(de,{className:"animate-spin",size:12}):s.jsx(oe,{size:12})})]})})]})}function zl({open:t,onOpenChange:a,moduleName:r,masterName:i,originalName:l}){var n,d,o;const[u,m]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(null),f=li({}),v=ii({api:kr.getDynamicTableStructure,key:`dynamic_table_${l}`,config:{tableName:l},options:{enabled:!!l&&t}}),j=(null==(n=null==v?void 0:v.data)?void 0:n.data)||[],b=null==v?void 0:v.isLoading,y=e.useMemo(()=>0===j.length?[]:Object.keys(j[0]),[j]),N=e.useMemo(()=>u?j.filter(e=>y.some(t=>String(e[t]).toLowerCase().includes(u.toLowerCase()))):j,[j,u,y]);return s.jsx(s.Fragment,{children:s.jsx(Kr,{open:t,onOpenChange:a,children:s.jsxs(Xr,{className:"flex h-[95vh] w-full max-w-[95vw] flex-col overflow-auto border-none bg-[#f8f9fc] p-0 shadow-2xl dark:bg-secondary",children:[s.jsx(ei,{className:"shrink-0 border-b border-white/10 bg-secondary px-8 py-4 text-muted-foreground",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg border border-blue-500/30 bg-blue-500/20 text-blue-400 backdrop-blur-md",children:s.jsx(ce,{size:18})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(si,{className:"text-xl font-bold tracking-tight",children:i}),s.jsx(Ul,{variant:"outline",className:"border-blue-500/30 bg-blue-500/10 text-[10px] font-black uppercase tracking-widest text-primary",children:l})]}),s.jsxs("p",{className:"text-[10px] font-bold uppercase tracking-[0.2em] text-muted-foreground",children:["Registry Control  ",r]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>{v.refetch()},className:"h-9 w-9 text-primary hover:bg-white/10 hover:text-primary/60",children:s.jsx(ue,{className:b?"animate-spin":""})}),s.jsxs(sr,{className:"mr-6 h-9 gap-2 rounded-lg bg-blue-600 px-4 text-sm font-bold shadow-lg shadow-blue-600/20 hover:bg-blue-700",onClick:()=>{p(!0)},children:[s.jsx(L,{size:12})," Add Row"]})]})]})}),s.jsxs("div",{className:"flex shrink-0 items-center justify-between gap-4 border-b bg-white px-8 py-3 dark:border-white/5 dark:bg-[#1a1d24]",children:[s.jsxs("div",{className:"relative w-full max-w-md",children:[s.jsx(C,{className:"absolute left-3.5 top-1/2 size-3 -translate-y-1/2 text-slate-400"}),s.jsx(yi,{placeholder:"Filter results...",value:u,onChange:e=>m(e.target.value),className:"h-9 rounded-lg border-slate-200 bg-slate-50 pl-10 text-xs font-medium shadow-sm ring-offset-background focus-visible:ring-1 focus-visible:ring-blue-500 dark:border-white/10 dark:bg-black/20"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"mx-2 h-6 w-[1px] bg-slate-200 dark:bg-white/10"}),s.jsxs("span",{className:"text-[11px] font-bold uppercase tracking-wider text-slate-500",children:[N.length," Rows found"]})]})]}),s.jsx("div",{className:"relative flex-1 overflow-hidden",children:s.jsxs(El,{className:"h-full w-full",children:[s.jsx("div",{className:"min-w-fit",children:s.jsxs(mi,{className:"border-separate border-spacing-0",children:[s.jsx(xi,{className:"sticky top-0 z-10 bg-slate-100/80 backdrop-blur-md dark:bg-white/5",children:s.jsxs(hi,{className:"border-none hover:bg-transparent",children:[s.jsx(gi,{className:"w-12 border-r text-center text-[10px] font-bold uppercase tracking-tighter text-slate-500 dark:border-white/5",children:"#"}),y.map(e=>{return s.jsx(gi,{className:"border-r px-6 text-[10px] font-black uppercase tracking-widest text-slate-600 dark:border-white/5 dark:text-slate-400",children:(t=e,t.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "))},e);var t}),s.jsx(gi,{className:"sticky right-0 bg-slate-100/90 px-4 text-right text-[10px] font-black uppercase tracking-widest text-slate-600 dark:bg-black/80 dark:text-slate-400",children:"Actions"})]})}),s.jsxs(pi,{children:[x&&s.jsx(Tl,{tableName:l,headers:y,onSuccess:()=>{p(!1),v.refetch()},onCancel:()=>p(!1)}),b?Array.from({length:15}).map((e,t)=>s.jsxs(hi,{children:[s.jsx(fi,{children:s.jsx(Fl,{className:"h-4 w-4"})}),y.map(e=>s.jsx(fi,{children:s.jsx(Fl,{className:"h-4 w-32"})},e)),s.jsx(fi,{children:s.jsx(Fl,{className:"h-4 w-12"})})]},t)):N.length>0?N.map((e,t)=>h&&h.id===e.id?s.jsx(Tl,{tableName:l,headers:y,editData:e,onSuccess:()=>{g(null),v.refetch()},onCancel:()=>g(null)},`edit-${e.id}`):s.jsxs(hi,{className:"group border-b transition-colors hover:bg-blue-500/5 dark:border-white/5",children:[s.jsx(fi,{className:"border-r bg-slate-50/50 text-center font-mono text-[10px] text-slate-400 dark:border-white/5 dark:bg-white/5",children:t+1}),y.map(t=>s.jsx(fi,{className:"whitespace-nowrap border-r px-6 font-medium dark:border-white/5",children:"status"===t?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"size-1.5 rounded-full "+(e[t]?"animate-pulse bg-emerald-500":"bg-red-500")}),s.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest "+(e[t]?"text-emerald-500":"text-red-500"),children:e[t]?"Active":"Inactive"})]}):s.jsx("span",{className:"text-xs "+("number"==typeof e[t]?"font-mono text-blue-500":"text-slate-700 dark:text-slate-300"),children:""===e[t]?s.jsx("span",{className:"italic text-slate-400",children:"null"}):String(e[t])})},t)),s.jsx(fi,{className:"sticky right-0 px-4 text-right",children:s.jsxs("div",{className:"flex justify-end gap-1 opacity-0 transition-opacity group-hover:opacity-100",children:[s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>{g(e),p(!1)},className:"h-7 w-7 text-blue-500 hover:bg-blue-500/10",children:s.jsx(D,{size:12})}),s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>(async e=>{var t,s,a;try{const r=await f.mutateAsync({api:kr.deleteDynamicTable,data:{tableName:l,id:e}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),v.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(Sr(r))}})(e.id),className:"h-7 w-7 text-red-500 hover:bg-red-500/10",children:s.jsx(M,{size:12})})]})})]},e.id||t)):s.jsx(hi,{children:s.jsx(fi,{colSpan:y.length+2,className:"h-[400px] bg-white text-center dark:bg-transparent",children:s.jsxs("div",{className:"flex flex-col items-center justify-center opacity-40",children:[s.jsx(ce,{size:48,className:"mb-4 text-slate-300"}),s.jsx("p",{className:"text-sm font-bold uppercase tracking-widest",children:"No data records found"}),s.jsxs("p",{className:"text-xs",children:["The table ",l," is currently empty."]})]})})})]})]})}),s.jsx(Dl,{orientation:"horizontal"})]})}),s.jsxs("div",{className:"flex shrink-0 items-center justify-between border-t bg-slate-50 px-8 py-2 text-[10px] font-bold uppercase tracking-widest text-slate-400 dark:border-white/5 dark:bg-black/40",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("span",{children:["Connected to: ",i," Registry"]}),s.jsx("span",{className:"text-slate-300",children:"|"}),s.jsxs("span",{children:["Buffer Size: ",N.length]})]}),s.jsxs("div",{children:["Server Response:"," ",(null==(o=null==(d=null==v?void 0:v.data)?void 0:d["meta-data"])?void 0:o.responsetime)||"0","ms"]})]})]})})})}function Bl(){return s.jsxs("div",{className:"w-full h-svh flex justify-center items-center",children:[s.jsx(La,{className:"animate-spin",size:32}),s.jsx("span",{className:"sr-only",children:"loading"})]})}const ql=({module:t,index:a,onOpenMaster:r})=>{var i,l;const[n,d]=e.useState(!1),o=t.id||t.module_id,c=ii({api:null==kr?void 0:kr.moduleRegistryList,key:`moduleMasterList_${o}`,config:{moduleId:o},options:{enabled:!!o}}),u=ii({api:null==kr?void 0:kr.moduleMasterPercentage,key:`moduleMasterPercentage${o}`,config:{moduleId:o},options:{enabled:!!o}}),m=(null==(i=null==c?void 0:c.data)?void 0:i.data)||[],x=m.length>0,p=(null==(l=null==u?void 0:u.data)?void 0:l.data)||{},h=(null==p?void 0:p.completion_percentage)||0;return s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.06*a},children:s.jsxs(di,{className:"group overflow-hidden border border-slate-200/80 bg-white shadow-sm transition-all duration-300 hover:-translate-y-0.5 hover:shadow-lg dark:border-slate-800 dark:bg-slate-950 "+(x?"ring-1 ring-emerald-500/20":"ring-1 ring-amber-500/20"),children:[s.jsx("div",{className:"border-b border-slate-200/70 bg-slate-50/90 px-5 py-4 dark:border-slate-800 dark:bg-slate-900/80",children:s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"flex h-8 w-8 items-center justify-center rounded-lg "+(x?"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400":"bg-amber-500/10 text-amber-600 dark:text-amber-400"),children:s.jsx(xe,{})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-extrabold uppercase tracking-wider text-slate-800 dark:text-slate-100",children:t.module_name}),s.jsxs("div",{className:"mt-0.5 flex items-center gap-2 text-[11px]",children:[s.jsxs("span",{className:"font-medium text-slate-500",children:[(null==p?void 0:p.tables_with_data)||0,"/",(null==p?void 0:p.total_tables)||0," Tables"]}),s.jsxs("span",{className:"font-bold "+(100===h?"text-emerald-600":h>=50?"text-amber-600":"text-red-600"),children:[h,"%"]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"rounded-full px-2.5 py-1 text-[10px] font-bold uppercase tracking-wider "+(x?"bg-emerald-500/10 text-emerald-700 dark:text-emerald-400":"bg-amber-500/10 text-amber-700 dark:text-amber-400"),children:[m.length," Masters"]}),x&&s.jsx(sr,{variant:"ghost",size:"sm",onClick:()=>d(!n),className:"h-8 w-8 p-0",children:n?s.jsx(ie,{}):s.jsx(le,{})})]})]})}),s.jsx(I,{children:n&&x&&s.jsx(S.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},children:s.jsx(ui,{className:"space-y-2.5 p-5",children:m.map((e,a)=>s.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-slate-200/70 bg-white p-3.5 transition-all duration-200 hover:border-primary/30 hover:bg-primary/[0.03] dark:border-slate-800 dark:bg-slate-900/50",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-primary/50"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200",children:e.table_name||e.name}),s.jsxs("span",{className:"text-[10px] font-medium text-slate-500 dark:text-slate-400",children:["DB: ",e.database_name||"N/A"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"rounded-full px-2.5 py-1 text-[10px] font-bold uppercase tracking-wider "+(e.status?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300"),children:e.status?"Active":"Inactive"}),s.jsx(sr,{variant:"ghost",size:"sm",onClick:()=>r(null==t?void 0:t.module_name,(null==e?void 0:e.table_name)||(null==e?void 0:e.name),null==e?void 0:e.original_name),className:"h-8 rounded-lg border border-transparent px-3 text-[10px] font-bold uppercase tracking-wider text-primary transition-all hover:border-primary/20 hover:bg-primary/5",children:"View"})]})]},a))})})})]})})};function Ol({ulbId:t}){var a;const[r,i]=e.useState(!1),[l,n]=e.useState(""),[d,o]=e.useState(""),[c,u]=e.useState("");_();const m=(e,t,s)=>{n(e),o(t),u(s),i(!0)},x=ii({api:null==kr?void 0:kr.getModuleByUlbId,key:"permittedModuleListByUlb",config:{ulbId:t},options:{enabled:!!t}}),p=(null==(a=null==x?void 0:x.data)?void 0:a.data)||[],h=null==x?void 0:x.isLoading;return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mb-5 rounded-2xl border border-slate-200/70 bg-white px-5 py-4 shadow-sm dark:border-slate-800 dark:bg-slate-950",children:s.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-primary/10 text-primary",children:s.jsx(H,{className:"text-sm"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-sm font-extrabold uppercase tracking-wider text-slate-800 dark:text-slate-100",children:"Module Registry Masters"}),s.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Configure and review master tables for each permitted module"})]})]}),s.jsxs("div",{className:"inline-flex w-fit items-center gap-2 rounded-full border border-slate-200 bg-slate-50 px-3 py-1.5 text-[11px] font-semibold text-slate-600 dark:border-slate-800 dark:bg-slate-900 dark:text-slate-300",children:[s.jsx(B,{className:"text-emerald-500"}),p.length," Modules"]})]})}),s.jsx("div",{className:"grid grid-cols-1 gap-5 md:grid-cols-2",children:h?s.jsx("div",{className:"col-span-1 rounded-xl border border-dashed border-primary/30 bg-primary/[0.03] py-12 text-center text-xl md:col-span-2",children:s.jsx(Bl,{})}):p.length>0?p.map((e,t)=>s.jsx(ql,{module:e,index:t,onOpenMaster:m},e.id||e.module_id)):s.jsxs("div",{className:"col-span-1 rounded-xl border border-dashed border-slate-300 bg-slate-50 py-12 text-center dark:border-slate-800 dark:bg-slate-900 md:col-span-2",children:[s.jsx(me,{className:"mx-auto mb-3 text-2xl text-slate-400"}),s.jsx("p",{className:"text-sm font-semibold text-slate-600 dark:text-slate-400",children:"No Modules Found"})]})}),s.jsx(zl,{open:r,onOpenChange:()=>i(!1),moduleName:l,masterName:d,originalName:c})]})}const Wl=({globalMaster:t,ulbId:a})=>{const[r,i]=e.useState(!1),[l,n]=e.useState(!1),d=[{id:1,name:"Ward Management",count:t.ward_count,icon:Q,description:"Geographic boundaries and civic wards",color:t.ward_count>0?"green":"red",action:()=>i(!0)},{id:2,name:"Zone Distribution",count:t.zone_count,icon:pe,description:"Macro administrative divisions",color:t.zone_count>0?"green":"red",action:()=>n(!0)}];return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mx-8 space-y-6",children:s.jsxs(_l,{defaultValue:"basic",className:"w-full",children:[s.jsx("div",{className:"mb-6 flex items-center justify-between",children:s.jsxs(Sl,{className:"h-12 gap-4 rounded-2xl bg-slate-300/50 px-4 dark:bg-slate-700/50",children:[s.jsxs(Al,{value:"basic",className:"\r\n                relative flex items-center gap-2\r\n                rounded-2xl px-6 py-2\r\n                text-xs font-extrabold uppercase tracking-widest\r\n                text-slate-600 transition-all\r\n\r\n                duration-300 ease-out hover:scale-[1.05]\r\n                hover:text-primary data-[state=active]:scale-[1.08]\r\n\r\n                data-[state=active]:bg-white\r\n                data-[state=active]:text-primary\r\n                data-[state=active]:shadow-lg\r\n                data-[state=active]:shadow-primary/30\r\n                dark:text-slate-300\r\n\r\n                dark:data-[state=active]:bg-slate-900\r\n              ",children:[s.jsx(he,{className:"text-sm"}),"Global Masters"]}),s.jsxs(Al,{value:"module",className:"\r\n                  relative flex items-center gap-2\r\n                  rounded-2xl px-6 py-2\r\n                  text-xs font-extrabold uppercase tracking-widest\r\n                  text-slate-600 transition-all\r\n\r\n                  duration-300 ease-out hover:scale-[1.05]\r\n                  hover:text-primary data-[state=active]:scale-[1.08]\r\n\r\n                  data-[state=active]:bg-white\r\n                  data-[state=active]:text-primary\r\n                  data-[state=active]:shadow-lg\r\n                  data-[state=active]:shadow-primary/30\r\n                  dark:text-slate-300\r\n\r\n                  dark:data-[state=active]:bg-slate-900\r\n                ",children:[s.jsx(H,{className:"text-sm"}),"Module Specific"]})]})}),s.jsx(Cl,{value:"basic",className:"mt-0",children:s.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:d.map((e,t)=>s.jsx(S.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.05*t},children:s.jsx(di,{className:`group overflow-hidden border-none bg-white shadow-lg ring-1 ring-slate-200/50 transition-all duration-500 hover:shadow-2xl bg-${e.color}-500/20 ring-${e.color}-500/20`,children:s.jsxs(ui,{className:"p-0",children:[s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"mb-6 flex items-start justify-between",children:s.jsx("div",{className:Oa("rounded-2xl p-4 shadow-inner transition-all duration-500 group-hover:text-white","green"===e.color?"bg-green-500/10 text-green-500 group-hover:bg-green-500":"bg-red-500/10 text-red-500 group-hover:bg-red-500"),children:s.jsx(e.icon,{size:24})})}),s.jsx("h3",{className:"mb-1 text-xl font-black tracking-tight text-slate-800 dark:text-slate-200",children:e.name}),s.jsx("p",{className:"mb-3 text-[11px] font-medium text-slate-500",children:e.description}),s.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-black uppercase tracking-widest text-slate-400",children:[s.jsx(ge,{className:"text-[8px]"}),"Real-time synchronization"]})]}),s.jsxs("div",{className:"flex items-center justify-between border-t border-slate-100 bg-slate-50 px-6 py-4 dark:border-slate-800 dark:bg-slate-800/50",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-3xl font-black leading-none tracking-tighter text-slate-800 dark:text-slate-200",children:e.count}),s.jsx("span",{className:"mt-1 text-[9px] font-black uppercase tracking-widest text-slate-400 dark:text-slate-500",children:"Active Records"})]}),s.jsxs(sr,{variant:"link",onClick:e.action,className:Oa("h-auto p-0 text-[10px] font-black uppercase tracking-widest transition-transform group-hover:translate-x-1","green"===e.color?"text-green-500 hover:text-green-600":"text-red-500 hover:text-red-600"),children:["Manage ","->"]})]})]})})},e.id))})}),s.jsx(Cl,{value:"module",className:"mt-0",children:s.jsx(Ol,{ulbId:a})})]})}),s.jsx(Il,{open:r,onOpenChange:i,ulbId:a}),s.jsx(Rl,{open:l,onOpenChange:n,ulbId:a})]})},Vl=({actions:e})=>s.jsxs(di,{className:"mx-8 overflow-hidden border-none bg-white shadow-xl transition-all duration-500 dark:bg-slate-900",children:[s.jsx(oi,{className:"border-b border-slate-100 bg-red-50/20 p-6 dark:border-slate-800 dark:bg-red-950/20",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"rounded-xl bg-red-100 p-3 text-red-600 ring-1 ring-red-200 dark:bg-red-900/40 dark:text-red-400 dark:ring-red-800",children:s.jsx(Z,{})}),s.jsxs("div",{children:[s.jsx(ci,{className:"text-xl font-black tracking-tight text-slate-800 dark:text-slate-200",children:"Administrative Controls"}),s.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Critical system overrides and security protocols"})]})]})}),s.jsx(ui,{className:"p-8",children:s.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:e.map((e,t)=>s.jsx(S.div,{initial:{opacity:0,x:t%2==0?-20:20},animate:{opacity:1,x:0},transition:{delay:.5+.1*t},children:s.jsxs(sr,{variant:"outline",className:Oa("group flex h-auto w-full flex-row items-start gap-5 rounded-2xl border-2 p-6 shadow-sm transition-all duration-300","warning"===e.color?"border-slate-100 bg-slate-50 hover:border-primary hover:bg-primary hover:text-white dark:border-slate-800 dark:bg-slate-800/50":"border-red-50 bg-red-50/30 hover:border-red-500 hover:bg-red-500 hover:text-white dark:border-red-950/20 dark:bg-red-950/10"),onClick:e.action,children:[s.jsx("div",{className:Oa("rounded-xl p-4 shadow-sm transition-all duration-300 group-hover:scale-110 group-hover:bg-white/20","warning"===e.color?"bg-white text-slate-400 dark:bg-slate-700 dark:text-slate-300":"bg-white text-red-600 dark:bg-slate-700 dark:text-red-400"),children:s.jsx(e.icon,{size:24})}),s.jsxs("div",{className:"flex-1 text-left",children:[s.jsx("h4",{className:"mb-1 text-lg font-black tracking-tight",children:e.title}),s.jsx("p",{className:Oa("text-xs font-medium leading-relaxed","text-slate-500 group-hover:text-white/80 dark:text-slate-400"),children:e.description})]}),s.jsx("div",{className:"opacity-0 transition-opacity group-hover:opacity-100",children:s.jsx(fe,{className:"animate-pulse text-white"})})]})},e.id))})})]}),$l=Os,Hl=Us,Ql=e.forwardRef(({className:e,...t},a)=>s.jsx(Ms,{className:Oa("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:a}));Ql.displayName=Ms.displayName;const Zl=e.forwardRef(({className:e,...t},a)=>s.jsxs(Hl,{children:[s.jsx(Ql,{}),s.jsx(Fs,{ref:a,className:Oa("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Zl.displayName=Fs.displayName;const Gl=({className:e,...t})=>s.jsx("div",{className:Oa("flex flex-col space-y-2 text-center sm:text-left",e),...t});Gl.displayName="AlertDialogHeader";const Kl=({className:e,...t})=>s.jsx("div",{className:Oa("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Kl.displayName="AlertDialogFooter";const Yl=e.forwardRef(({className:e,...t},a)=>s.jsx(Ts,{ref:a,className:Oa("text-lg font-semibold",e),...t}));Yl.displayName=Ts.displayName;const Jl=e.forwardRef(({className:e,...t},a)=>s.jsx(zs,{ref:a,className:Oa("text-sm text-muted-foreground",e),...t}));Jl.displayName=zs.displayName;const Xl=e.forwardRef(({className:e,...t},a)=>s.jsx(Bs,{ref:a,className:Oa(Wa(),e),...t}));Xl.displayName=Bs.displayName;const en=e.forwardRef(({className:e,...t},a)=>s.jsx(qs,{ref:a,className:Oa(Wa({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));en.displayName=qs.displayName;const tn=({open:e,onOpenChange:t,onConfirm:a,title:r,description:i,isSaving:l})=>s.jsx($l,{open:e,onOpenChange:t,children:s.jsxs(Zl,{className:"overflow-hidden rounded-3xl border-none bg-white p-8 shadow-2xl dark:bg-slate-900",children:[s.jsx("div",{className:"absolute -left-24 -top-24 h-48 w-48 rounded-full bg-red-500/10 blur-3xl dark:bg-red-500/5"}),s.jsxs(Gl,{className:"relative z-10",children:[s.jsx("div",{className:"mx-auto mb-6 flex h-20 w-20 items-center justify-center rounded-2xl bg-red-50 text-red-600 shadow-inner ring-1 ring-red-100 dark:bg-red-950/30 dark:text-red-400 dark:ring-red-900/50",children:s.jsx(fe,{size:32})}),s.jsx(Yl,{className:"text-center text-3xl font-black tracking-tight text-slate-800 dark:text-slate-100",children:r}),s.jsx(Jl,{className:"text-center text-base font-medium leading-relaxed text-slate-500 dark:text-slate-400 md:px-6",children:i})]}),s.jsxs(Kl,{className:"relative z-10 mt-8 flex-col-reverse gap-3 sm:flex-row",children:[s.jsx(en,{disabled:l,className:"h-12 flex-1 rounded-xl border-none bg-slate-100 text-[10px] font-black uppercase tracking-widest text-slate-500 transition-all hover:bg-slate-200 dark:bg-slate-800 dark:text-slate-400 dark:hover:bg-slate-700",children:"Abort"}),s.jsx(Xl,{onClick:e=>{e.preventDefault(),a()},disabled:l,className:"h-12 flex-1 rounded-xl bg-red-600 text-[10px] font-black uppercase tracking-widest text-white shadow-lg shadow-red-600/20 transition-all hover:bg-red-700 active:scale-95 dark:bg-red-600 dark:hover:bg-red-700",children:l?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ve,{className:"animate-spin text-[10px]"}),"Processing"]}):"Confirm"})]})]})}),sn=()=>{var t,a;const[r,i]=e.useState(null),[l,n]=e.useState(!1),[d]=_(),o=d.get("ulb_id");d.get("ulb_name");const u=ii({api:Nr.api_getUlbList,key:"api_getUlbList",options:{}}),m=ii({api:kr.ulbConfigurationList,key:`ulbConfig-${o}`,config:{ulbId:o},options:{enabled:!!o}});null==(t=null==u?void 0:u.data)||t.data;const x=(null==(a=null==m?void 0:m.data)?void 0:a.data)||null,p=e=>{i(e)},h=[{id:"hide-citizen",title:"Hide from Citizen Portal",description:"ULB will not be visible to citizens",icon:je,color:"warning",action:()=>p({id:"hide-citizen",title:"Hide from Citizen Portal",description:"ULB will not be visible to citizens",icon:je,color:"warning"})},{id:"hide-admin",title:"Hide from Admin Panel",description:"ULB will not appear in admin listings",icon:q,color:"warning",action:()=>p({id:"hide-admin",title:"Hide from Admin Panel",description:"ULB will not appear in admin listings",icon:q,color:"warning"})},{id:"disable-login",title:"Disable Login Access",description:"Prevent all users from signing into this ULB",icon:be,color:"danger",action:()=>p({id:"disable-login",title:"Disable Login Access",description:"Prevent all users from signing into this ULB",icon:be,color:"danger"})},{id:"deactivate",title:"Emergency Deactivation",description:"Immediately suspend all ULB services and access",icon:fe,color:"danger",action:()=>p({id:"deactivate",title:"Emergency Deactivation",description:"Immediately suspend all ULB services and access",icon:fe,color:"danger"})}];return m.isLoading||!x?s.jsxs("div",{className:"flex h-screen w-full flex-col items-center justify-center gap-6 bg-slate-50 dark:bg-[#0a0a0a]",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"h-24 w-24 animate-spin rounded-full border-4 border-slate-200 border-t-primary"}),s.jsx(G,{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 text-primary",size:24})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl font-black tracking-tight text-slate-800 dark:text-white",children:"Configuring Municipal Data"}),s.jsx("p",{className:"text-xs font-bold uppercase tracking-[0.3em] text-slate-400",children:"Matrix Initializing..."})]})]}):s.jsxs(S.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-screen overflow-x-hidden rounded-2xl bg-slate-50 pb-20 transition-colors duration-500 dark:bg-[#0a0a0a]",children:[s.jsx(bl,{ulbName:x.basic_information.ulb_name,ulb_logo:x.basic_information.ulb_logo,progress:90}),s.jsxs("main",{className:"relative z-20 -mt-10 space-y-8",children:[s.jsx(yl,{data:x}),s.jsxs("div",{className:"mx-auto flex max-w-7xl flex-col gap-10",children:[s.jsx(kl,{data:x.basic_information}),s.jsx(Wl,{globalMaster:x.global_master,ulbId:x.basic_information.id}),s.jsx(Vl,{actions:h})]})]}),s.jsx(tn,{open:!!r,onOpenChange:e=>!e&&i(null),onConfirm:()=>{r&&(n(!0),setTimeout(()=>{n(!1),i(null),c.success(`${r.title} executed successfully!`,{icon:"",style:{borderRadius:"15px",background:"#1e293b",color:"#fff",fontWeight:"bold",fontSize:"12px"}})},2e3))},title:(null==r?void 0:r.title)||"Confirm Action",description:`Are you absolutely sure you want to perform "${null==r?void 0:r.title}"? This is an administrative operation that may affect production data and user access.`,isSaving:l})]})};function an(){return s.jsx(ri,{title:"ULB Master Data",subTitle:"Control all ULB Master Data here",children:s.jsx(sn,{})})}function rn(){var t,a;const r=m(),[i,l]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),x=e.useRef(null),[p,h]=e.useState(!1),[g,f]=e.useState(!1),[v,j]=e.useState(null);e.useEffect(()=>{const e=e=>{var t;!e.altKey||"s"!==e.key&&"S"!==e.key||(e.preventDefault(),e.stopPropagation(),null==(t=x.current)||t.focus())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]);const b=ii({api:null==kr?void 0:kr.getAllJuidcoUlbList,key:"ulbLists",options:{enabled:!0}}),y=[{key:"permitted-module",label:"Permitted Module",icon:s.jsx(Ia,{className:"h-4 w-4"}),color:"bg-blue-600/10 hover:bg-blue-600/20 text-blue-600 border-blue-600/20"},{key:"user-list",label:"User List",icon:s.jsx(F,{className:"h-4 w-4"}),color:"bg-cyan-600/10 hover:bg-cyan-600/20 text-cyan-600 border-cyan-600/20"},{key:"admin-list",label:"Admin List",icon:s.jsx(Z,{className:"h-4 w-4"}),color:"bg-violet-600/10 hover:bg-violet-600/20 text-violet-600 border-violet-600/20"}],N=li({}),w=(null==(a=null==(t=null==b?void 0:b.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=null==e?void 0:e.ulb_name)?void 0:t.toLowerCase().includes(o.toLowerCase())}))||[],k=i*n,_=k-n,A=null==w?void 0:w.slice(_,k);return s.jsxs("div",{className:"",children:[s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"ULB Management"}),s.jsxs("div",{className:"inline-block rounded-full bg-blue-600/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-blue-600",children:[w.length," ULBs Found"]})]})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{ref:x,type:"text",placeholder:"Search ULB name...",value:o,onChange:e=>{u(e.target.value),l(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-20 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"}),s.jsx("div",{className:"absolute right-2.5 hidden items-center gap-1 sm:flex",children:s.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[s.jsx("span",{className:"text-xs",children:"Alt"}),"S"]})})]}),s.jsxs(sr,{type:"button",onClick:()=>{j(null),f(!1),h(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New ULB"]})]})]})}),s.jsxs(ui,{className:"p-0",children:[b.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading ULBs..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(mi,{children:[s.jsx(xi,{children:s.jsxs(hi,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(gi,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"ULB Name"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Enable/Disable"})]})}),s.jsx(pi,{children:s.jsx(I,{children:A.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:_+t+1})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-blue-600/10 transition-colors group-hover/row:bg-blue-600/20",children:s.jsx(G,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.ulb_name}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsxs("span",{className:Oa("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",e.active_status?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[e.active_status?s.jsx(B,{className:"h-3 w-3"}):s.jsx(z,{className:"h-3 w-3"}),e.active_status?"Active":"Disabled"]})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsxs(sr,{variant:"outline",size:"sm",onClick:()=>{r(`/project-config/dashboard/ulb-list/ulb-configuration?ulb_name=${null==e?void 0:e.ulb_name}&ulb_id=${null==e?void 0:e.id}`)},className:Oa("flex items-center gap-2 border-0 border-orange-500 text-orange-500 bg-orange-500/10 transition-all hover:scale-105"),children:[s.jsx(G,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"ULB Configuration"})]},"ulb-configuration"),s.jsx("div",{className:"mx-2 h-6 w-[1px] bg-border border-gray-400"}),y.map(t=>s.jsxs(sr,{variant:"outline",size:"sm",onClick:()=>{r(`/project-config/dashboard/ulb-list/${t.key}?ulb_name=${null==e?void 0:e.ulb_name}&ulb_id=${null==e?void 0:e.id}`)},className:Oa("flex items-center gap-2 border-0 border-gray-500 transition-all hover:scale-105",t.color),children:[t.icon,s.jsx("span",{className:"hidden sm:inline",children:t.label})]},t.key)),s.jsx("div",{className:"mx-2 h-6 w-[1px] bg-border"}),s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>(e=>{j(e),f(!0),h(!0)})(e),className:"h-8 w-8 text-blue-600 hover:bg-blue-600/10 hover:text-blue-700",children:s.jsx(D,{className:"h-4 w-4"})}),s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>(async e=>{Zr("Are you sure?","Do you want to delete this ULB?",async()=>{var t,s,a;try{const r=await N.mutateAsync({api:Nr.api_deleteUlb,data:{id:e}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"ULB deleted successfully"),b.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete ULB")}catch(r){c.error(Sr(r))}})})(e.id),className:"h-8 w-8 text-red-600 hover:bg-red-600/10 hover:text-red-700",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(Di,{checked:e.active_status,onCheckedChange:()=>(async(e,t)=>{var s,a,r;try{const i={id:e,status:t?1:0},l=await N.mutateAsync({api:null==kr?void 0:kr.ulbEnableDisable,data:i});(null==(s=null==l?void 0:l.data)?void 0:s.status)?(c.success((null==(a=null==l?void 0:l.data)?void 0:a.message)||"ULB status updated successfully"),b.refetch()):c.error((null==(r=null==l?void 0:l.data)?void 0:r.message)||"Failed to update ULB status")}catch(i){c.error(Sr(i))}})(e.id,!e.active_status)})})})]},e.id))})})]}),w.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(ji,{currentPage:i,totalItems:w.length,itemsPerPage:n,onPageChange:e=>{l(e)},onItemsPerPageChange:e=>{d(e),l(1)}})})]}),!b.isLoading&&0===w.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(G,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No ULBs found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No Urban Local Bodies have been added yet."})]})]})]})}),s.jsx(wl,{open:p,setOpen:h,edit:g,setEdit:f,editData:v,title:g?"Update ULB Details":"Add New ULB",refetch:()=>b.refetch()})]})}function ln(){return s.jsx(ri,{title:"Manage All Ulb Here.",children:s.jsx(rn,{})})}function nn(t){var a,r;const[i,l]=e.useState(""),[n,d]=e.useState("all"),o=e.useRef(null),u=li({}),m=ii({api:null==kr?void 0:kr.getServicesByUlbModule,key:"getServicesByUlbModule",config:{ulbId:null==t?void 0:t.ulbId,moduleId:null==t?void 0:t.moduleId},options:{enabled:!!(null==t?void 0:t.ulbId)&&!!(null==t?void 0:t.moduleId)}});e.useEffect(()=>{const e=e=>{var t;!e.altKey||"s"!==e.key&&"S"!==e.key||(e.preventDefault(),e.stopPropagation(),null==(t=o.current)||t.focus())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]);const x=(null==(r=null==(a=null==m?void 0:m.data)?void 0:a.data)?void 0:r.filter(e=>{var t;return null==(t=e.services)?void 0:t.toLowerCase().includes(i.toLowerCase())}))||[],p=x.filter(e=>"active"===n?!0===e.permission_status:"inactive"!==n||!1===e.permission_status),h=x.filter(e=>e.permission_status).length,g=x.filter(e=>!e.permission_status).length;return s.jsxs("div",{className:"flex flex-col gap-6 p-4",children:[s.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-primary/10 text-primary",children:s.jsx(xe,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Service Restrictions"}),s.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:"Manage access to specific services with quick toggle"})]})]}),s.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[s.jsxs("div",{className:"flex items-center gap-2 rounded-xl border bg-muted/30 p-1",children:[s.jsxs(sr,{variant:"ghost",size:"sm",onClick:()=>d("all"),className:Oa("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","all"===n?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[s.jsx(W,{className:"h-3 w-3"}),"All (",x.length,")"]}),s.jsxs(sr,{variant:"ghost",size:"sm",onClick:()=>d("active"),className:Oa("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","active"===n?"bg-primary text-white shadow-sm hover:bg-primary":"text-muted-foreground hover:text-foreground"),children:[s.jsx(B,{className:"h-3 w-3"}),"Restricted (",h,")"]}),s.jsxs(sr,{variant:"ghost",size:"sm",onClick:()=>d("inactive"),className:Oa("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","inactive"===n?"bg-muted text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[s.jsx(z,{className:"h-3 w-3"}),"Allowed (",g,")"]})]}),s.jsxs("div",{className:"relative flex items-center",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{ref:o,type:"text",placeholder:"Search services...",value:i,onChange:e=>l(e.target.value),className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-20 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20 sm:w-64"}),s.jsx("div",{className:"absolute right-2.5 hidden items-center gap-1 sm:flex",children:s.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[s.jsx("span",{className:"text-xs",children:"Alt"}),"S"]})})]})]})]}),m.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-xs font-medium text-muted-foreground",children:"Loading services..."})]})}):s.jsx(s.Fragment,{children:0===p.length?s.jsx(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-sm",children:s.jsx(ui,{className:"p-12",children:s.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[s.jsx("div",{className:"mb-3 flex h-16 w-16 items-center justify-center rounded-full bg-muted/50",children:s.jsx(xe,{className:"h-8 w-8 text-muted-foreground/30"})}),s.jsx("h4",{className:"text-sm font-bold text-foreground",children:"No services found"}),s.jsx("p",{className:"text-[11px] text-muted-foreground",children:i||"all"!==n?"Try adjusting your filters or search criteria":"No services available for this module"})]})})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:s.jsx(I,{mode:"popLayout",children:p.map((e,a)=>{const r=e.permission_status;return s.jsx(S.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2,delay:.02*a},children:s.jsx(di,{className:Oa("group overflow-hidden rounded-xl border transition-all hover:shadow-md",r?"border-primary/20 bg-primary/5":"border-border bg-card hover:border-primary/30"),children:s.jsx(ui,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("div",{className:Oa("flex h-10 w-10 items-center justify-center rounded-lg transition-all",r?"bg-primary/20 text-primary":"bg-muted text-muted-foreground group-hover:bg-primary/10 group-hover:text-primary"),children:r?s.jsx(B,{className:"h-5 w-5"}):s.jsx(z,{className:"h-5 w-5"})}),s.jsx(Di,{checked:r,onCheckedChange:s=>(async(e,s)=>{var a,r,i;try{const l={ulbId:null==t?void 0:t.ulbId,moduleId:null==t?void 0:t.moduleId,serviceList:[{permissionStatus:s,serviceId:e}]},n=await u.mutateAsync({api:null==kr?void 0:kr.addRemoveServiceByUlbModule,data:l});(null==(a=null==n?void 0:n.data)?void 0:a.status)?(c.success((null==(r=null==n?void 0:n.data)?void 0:r.message)||"Permission updated successfully"),m.refetch()):c.error((null==(i=null==n?void 0:n.data)?void 0:i.message)||"Failed to update permission")}catch(l){c.error(Sr(l))}})(e.id,s),disabled:u.isPending,className:"data-[state=checked]:bg-primary"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"line-clamp-2 text-sm font-bold text-foreground",children:e.services}),s.jsx("p",{className:"mt-1 font-mono text-[10px] text-muted-foreground",children:e.path})]}),s.jsx("div",{children:s.jsx("span",{className:Oa("text-[10px] font-bold uppercase tracking-wider",r?"text-primary":"text-muted-foreground"),children:r?"Restricted":"Allowed"})})]})})})},e.id)})})}),s.jsxs("div",{className:"flex flex-col gap-2 rounded-xl border bg-muted/20 px-4 py-3 sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("span",{className:"text-xs font-bold uppercase tracking-widest text-muted-foreground",children:["Showing: ",p.length," of ",x.length," ","Services"]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-primary"}),s.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Restricted: ",h]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-muted-foreground"}),s.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Allowed: ",g]})]})]})]})]})})]})}function dn(){var t,a;const r=m(),[i]=_(),l=i.get("ulb_id"),n=i.get("ulb_name"),[d,o]=e.useState(""),[u,x]=e.useState("all"),p=e.useRef(null),[h,g]=e.useState(!1),[f,v]=e.useState(null),[j,b]=e.useState(""),y=li({}),N=ii({api:null==kr?void 0:kr.getModuleByUlbId,key:"permittedModuleListByUlb",config:{ulbId:l},options:{enabled:!!l}});e.useEffect(()=>{const e=e=>{var t;!e.altKey||"s"!==e.key&&"S"!==e.key||(e.preventDefault(),e.stopPropagation(),null==(t=p.current)||t.focus())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]);const w=(null==(a=null==(t=null==N?void 0:N.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=e.module_name)?void 0:t.toLowerCase().includes(d.toLowerCase())}))||[],k=w.filter(e=>"active"===u?!0===e.permission_status:"inactive"!==u||!1===e.permission_status),L=w.filter(e=>e.permission_status).length,P=w.filter(e=>!e.permission_status).length;return s.jsxs("div",{children:[s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(sr,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Permitted Modules"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:["ULB:"," ",s.jsx("span",{className:"font-semibold text-purple-600",children:n})]}),s.jsxs("div",{className:"inline-block rounded-full bg-purple-600/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-purple-600",children:[w.length," Modules"]})]})]})]}),s.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[s.jsxs("div",{className:"flex items-center gap-2 rounded-xl border bg-muted/30 p-1",children:[s.jsxs(sr,{variant:"ghost",size:"sm",onClick:()=>x("all"),className:Oa("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","all"===u?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[s.jsx(W,{className:"h-3 w-3"}),"All (",w.length,")"]}),s.jsxs(sr,{variant:"ghost",size:"sm",onClick:()=>x("active"),className:Oa("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","active"===u?"bg-purple-600 text-white shadow-sm hover:bg-purple-600":"text-muted-foreground hover:text-foreground"),children:[s.jsx(B,{className:"h-3 w-3"}),"Active (",L,")"]}),s.jsxs(sr,{variant:"ghost",size:"sm",onClick:()=>x("inactive"),className:Oa("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","inactive"===u?"bg-muted text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[s.jsx(z,{className:"h-3 w-3"}),"Inactive (",P,")"]})]}),s.jsxs("div",{className:"relative flex items-center",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{ref:p,type:"text",placeholder:"Search modules...",value:d,onChange:e=>o(e.target.value),className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-20 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20 sm:w-64"}),s.jsx("div",{className:"absolute right-2.5 hidden items-center gap-1 sm:flex",children:s.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[s.jsx("span",{className:"text-xs",children:"Alt"}),"S"]})})]})]})]})}),s.jsx(ui,{className:"p-6",children:N.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading modules..."})]})}):s.jsx(s.Fragment,{children:0===k.length?s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(xe,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No modules found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:d||"all"!==u?"Try adjusting your filters or search criteria":"No modules available for this ULB yet."})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:s.jsx(I,{mode:"popLayout",children:k.map((e,t)=>{const a=e.permission_status;return s.jsx(S.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2,delay:.02*t},children:s.jsx(di,{className:Oa("group overflow-hidden rounded-xl border transition-all hover:shadow-md",a?"border-purple-500/20 bg-purple-500/5":"border-border bg-card hover:border-primary/30"),children:s.jsx(ui,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("div",{className:Oa("flex h-10 w-10 items-center justify-center rounded-lg transition-all",a?"bg-purple-500/20 text-purple-600":"bg-muted text-muted-foreground group-hover:bg-primary/10 group-hover:text-primary"),children:s.jsx(xe,{className:"h-5 w-5"})}),s.jsx(Di,{checked:a,onCheckedChange:t=>(async(e,t)=>{var s,a,r;try{const i={ulbId:l,moduleList:[{permissionStatus:t,moduleId:e}]},n=await y.mutateAsync({api:null==kr?void 0:kr.addRemoveModuleToUlb,data:i});(null==(s=null==n?void 0:n.data)?void 0:s.status)?(c.success((null==(a=null==n?void 0:n.data)?void 0:a.message)||"Permission updated successfully"),N.refetch()):c.error((null==(r=null==n?void 0:n.data)?void 0:r.message)||"Failed to update permission")}catch(i){c.error(Sr(i))}})(e.id,t),disabled:y.isPending,className:"data-[state=checked]:bg-purple-600"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"line-clamp-2 text-sm font-bold text-foreground",children:e.module_name}),s.jsx("p",{className:"mt-1 font-mono text-[10px] text-muted-foreground",children:e.url||"/"})]}),s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsx("span",{className:Oa("text-[10px] font-bold uppercase tracking-wider",a?"text-purple-600":"text-muted-foreground"),children:a?"Active":"Inactive"}),a&&s.jsxs(sr,{variant:"ghost",size:"sm",onClick:()=>{return v(t=e),b(t.id),void g(!0);var t},className:"h-7 gap-1 px-2 text-[10px] font-bold text-primary hover:bg-primary/10",children:[s.jsx(q,{className:"h-3 w-3"}),"Services"]})]})]})})})},e.id)})})}),s.jsxs("div",{className:"mt-6 flex flex-col gap-2 rounded-xl border bg-muted/20 px-4 py-3 sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("span",{className:"text-xs font-bold uppercase tracking-widest text-muted-foreground",children:["Showing: ",k.length," of"," ",w.length," Modules"]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-purple-500"}),s.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Active: ",L]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-muted-foreground"}),s.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Inactive: ",P]})]})]})]})]})})})]})}),s.jsx(Kr,{open:h,onOpenChange:g,children:s.jsxs(Xr,{className:"flex h-[80%] w-[70%] mx-auto my-auto max-w-none flex-col overflow-hidden rounded-none border-gray-600 p-0 shadow-none duration-0",children:[s.jsx(ei,{className:"shrink-0 border-b bg-muted/30 px-8 py-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(sr,{variant:"ghost",size:"sm",onClick:()=>g(!1),className:"flex h-10 items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsx("div",{className:"rounded-xl bg-primary/10 p-3 text-primary ring-1 ring-primary/20",children:s.jsx(xe,{size:24})}),s.jsxs("div",{children:[s.jsx(si,{className:"text-2xl font-black tracking-tight text-foreground",children:"Service Management"}),s.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[s.jsxs("span",{className:"text-xs font-bold uppercase tracking-widest text-muted-foreground",children:["ULB: ",s.jsx("span",{className:"text-primary",children:n})]}),s.jsx("div",{className:"h-1 w-1 rounded-full bg-muted-foreground/30"}),s.jsxs("span",{className:"text-xs font-bold uppercase tracking-widest text-muted-foreground",children:["Module:"," ",s.jsx("span",{className:"text-primary",children:null==f?void 0:f.module_name})]})]})]})]})}),s.jsx("div",{className:"flex-1 overflow-auto px-8 py-6",children:s.jsxs(_l,{defaultValue:"restricted",className:"w-full",children:[s.jsx(Sl,{className:"mb-6 h-12 rounded-xl bg-muted p-1",children:s.jsx(Al,{value:"restricted",className:"rounded-lg px-8 py-2 text-xs font-black uppercase tracking-widest data-[state=active]:bg-background data-[state=active]:text-primary data-[state=active]:shadow-sm",children:"Restricted Services"})}),s.jsx(Cl,{value:"restricted",className:"mt-0 transition-all",children:s.jsx("div",{className:"overflow-hidden rounded-2xl border bg-card shadow-sm",children:s.jsx(nn,{ulbId:l,moduleId:j,viewService:f})})})]})})]})})]})}function on(){return s.jsx(ri,{title:"Manage All Ulb Here.",children:s.jsx(dn,{})})}function cn(t){var a,r;const[i,l]=e.useState(""),[n,d]=e.useState("all"),o=e.useRef(null),u=li({}),m=ii({api:null==kr?void 0:kr.userPermittedRoles,key:"userPermittedRoles",config:{userId:null==t?void 0:t.id},options:{enabled:!0}});e.useEffect(()=>{const e=e=>{var t;!e.altKey||"s"!==e.key&&"S"!==e.key||(e.preventDefault(),e.stopPropagation(),null==(t=o.current)||t.focus())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]);const x=(null==(r=null==(a=null==m?void 0:m.data)?void 0:a.data)?void 0:r.filter(e=>e.menu_role_name.toLowerCase().includes(i.toLowerCase())))||[],p=x.filter(e=>"active"===n?!0===e.permission_status:"inactive"!==n||!1===e.permission_status),h=x.filter(e=>e.permission_status).length,g=x.filter(e=>!e.permission_status).length;return s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-blue-600/10 text-blue-600",children:s.jsx(Z,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Role Permissions"}),s.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:"Manage menu access roles with quick toggle"})]})]}),s.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[s.jsxs("div",{className:"flex items-center gap-2 rounded-xl border bg-muted/30 p-1",children:[s.jsxs(sr,{variant:"ghost",size:"sm",onClick:()=>d("all"),className:Oa("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","all"===n?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[s.jsx(W,{className:"h-3 w-3"}),"All (",x.length,")"]}),s.jsxs(sr,{variant:"ghost",size:"sm",onClick:()=>d("active"),className:Oa("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","active"===n?"bg-green-600 text-white shadow-sm hover:bg-green-600":"text-muted-foreground hover:text-foreground"),children:[s.jsx(B,{className:"h-3 w-3"}),"Active (",h,")"]}),s.jsxs(sr,{variant:"ghost",size:"sm",onClick:()=>d("inactive"),className:Oa("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","inactive"===n?"bg-muted text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[s.jsx(z,{className:"h-3 w-3"}),"Inactive (",g,")"]})]}),s.jsxs("div",{className:"relative flex items-center",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{ref:o,type:"text",placeholder:"Search roles...",value:i,onChange:e=>l(e.target.value),className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-20 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20 sm:w-64"}),s.jsx("div",{className:"absolute right-2.5 hidden items-center gap-1 sm:flex",children:s.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[s.jsx("span",{className:"text-xs",children:"Alt"}),"S"]})})]})]})]}),m.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-xs font-medium text-muted-foreground",children:"Loading permissions..."})]})}):s.jsx(s.Fragment,{children:0===p.length?s.jsx(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-sm",children:s.jsx(ui,{className:"p-12",children:s.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[s.jsx("div",{className:"mb-3 flex h-16 w-16 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Z,{className:"h-8 w-8 text-muted-foreground/30"})}),s.jsx("h4",{className:"text-sm font-bold text-foreground",children:"No roles found"}),s.jsx("p",{className:"text-[11px] text-muted-foreground",children:i||"all"!==n?"Try adjusting your filters or search criteria":"No roles available for this user"})]})})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:s.jsx(I,{mode:"popLayout",children:p.map((e,a)=>{const r=e.permission_status;return s.jsx(S.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2,delay:.02*a},children:s.jsx(di,{className:Oa("group overflow-hidden rounded-xl border transition-all hover:shadow-md",r?"border-green-500/20 bg-green-500/5":"border-border bg-card hover:border-primary/30"),children:s.jsx(ui,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("div",{className:Oa("flex h-10 w-10 items-center justify-center rounded-lg transition-all",r?"bg-green-500/20 text-green-600":"bg-muted text-muted-foreground group-hover:bg-primary/10 group-hover:text-primary"),children:r?s.jsx(B,{className:"h-5 w-5"}):s.jsx(z,{className:"h-5 w-5"})}),s.jsx(Di,{checked:r,onCheckedChange:s=>(async(e,s)=>{var a,r,i;try{const l={userId:null==t?void 0:t.id,permissionStatus:s,menuRoleId:e},n=await u.mutateAsync({api:null==kr?void 0:kr.addMenuRoleUser,data:l});(null==(a=null==n?void 0:n.data)?void 0:a.status)?(c.success((null==(r=null==n?void 0:n.data)?void 0:r.message)||"Permission updated successfully"),m.refetch()):c.error((null==(i=null==n?void 0:n.data)?void 0:i.message)||"Failed to update permission")}catch(l){c.error(Sr(l))}})(e.id,s),disabled:u.isPending,className:"data-[state=checked]:bg-green-600"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"line-clamp-2 text-sm font-bold text-foreground",children:e.menu_role_name}),s.jsx("p",{className:Oa("mt-1 text-[10px] font-bold uppercase tracking-wider",r?"text-green-600":"text-muted-foreground"),children:r?"Active":"Inactive"})]})]})})})},e.id)})})}),s.jsxs("div",{className:"flex flex-col gap-2 rounded-xl border bg-muted/20 px-4 py-3 sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("span",{className:"text-xs font-bold uppercase tracking-widest text-muted-foreground",children:["Showing: ",p.length," of ",x.length," ","Roles"]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500"}),s.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Active: ",h]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-muted-foreground"}),s.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Inactive: ",g]})]})]})]})]})})]})}function un(t){var a,r;const[i,l]=e.useState(""),[n,d]=e.useState("all"),o=e.useRef(null),u=li({}),m=ii({api:null==kr?void 0:kr.permittedWardByUser,key:"permittedWardByUser",config:{userId:null==t?void 0:t.id},options:{enabled:!0}});e.useEffect(()=>{const e=e=>{var t;!e.altKey||"s"!==e.key&&"S"!==e.key||(e.preventDefault(),e.stopPropagation(),null==(t=o.current)||t.focus())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]);const x=(null==(r=null==(a=null==m?void 0:m.data)?void 0:a.data)?void 0:r.filter(e=>(null==e?void 0:e.ward_name)==i||""==i))||[],p=x.filter(e=>"active"===n?!0===e.permission_status:"inactive"!==n||!1===e.permission_status),h=x.filter(e=>e.permission_status).length,g=x.filter(e=>!e.permission_status).length,f=async e=>{var s,a,r;try{const i={userId:null==t?void 0:t.id,wardList:x.map(t=>({wardId:t.id,permissionStatus:e}))},l=await u.mutateAsync({api:null==kr?void 0:kr.addRemoveWard,data:i});(null==(s=null==l?void 0:l.data)?void 0:s.status)?(c.success((null==(a=null==l?void 0:l.data)?void 0:a.message)||(e?"Selected":"Removed")+" all wards successfully"),m.refetch()):c.error((null==(r=null==l?void 0:l.data)?void 0:r.message)||"Failed to update permissions")}catch(i){c.error(Sr(i))}};return s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-amber-600/10 text-amber-600",children:s.jsx(J,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Ward Permissions"}),s.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:"Manage geographical ward access with quick toggle"})]})]}),s.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(sr,{variant:"outline",size:"sm",className:"gap-2 border-emerald-600/20 bg-emerald-600/10 text-emerald-600 hover:bg-emerald-600 hover:text-white",onClick:()=>f(!0),disabled:u.isPending,children:[s.jsx(ye,{className:"h-3 w-3"}),"Select All"]}),s.jsxs(sr,{variant:"outline",size:"sm",className:"gap-2 border-red-600/20 bg-red-600/10 text-red-600 hover:bg-red-600 hover:text-white",onClick:()=>f(!1),disabled:u.isPending,children:[s.jsx(ne,{className:"h-3 w-3"}),"Remove All"]})]}),s.jsxs("div",{className:"flex items-center gap-2 rounded-xl border bg-muted/30 p-1",children:[s.jsxs(sr,{variant:"ghost",size:"sm",onClick:()=>d("all"),className:Oa("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","all"===n?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[s.jsx(W,{className:"h-3 w-3"}),"All (",x.length,")"]}),s.jsxs(sr,{variant:"ghost",size:"sm",onClick:()=>d("active"),className:Oa("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","active"===n?"bg-green-600 text-white shadow-sm hover:bg-green-600":"text-muted-foreground hover:text-foreground"),children:[s.jsx(B,{className:"h-3 w-3"}),"Active (",h,")"]}),s.jsxs(sr,{variant:"ghost",size:"sm",onClick:()=>d("inactive"),className:Oa("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","inactive"===n?"bg-muted text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[s.jsx(z,{className:"h-3 w-3"}),"Inactive (",g,")"]})]}),s.jsxs("div",{className:"relative flex items-center",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{ref:o,type:"text",placeholder:"Search wards...",value:i,onChange:e=>l(e.target.value),className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-20 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20 sm:w-64"}),s.jsx("div",{className:"absolute right-2.5 hidden items-center gap-1 sm:flex",children:s.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[s.jsx("span",{className:"text-xs",children:"Alt"}),"S"]})})]})]})]}),m.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-xs font-medium text-muted-foreground",children:"Loading permissions..."})]})}):s.jsx(s.Fragment,{children:0===p.length?s.jsx(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-sm",children:s.jsx(ui,{className:"p-12",children:s.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[s.jsx("div",{className:"mb-3 flex h-16 w-16 items-center justify-center rounded-full bg-muted/50",children:s.jsx(J,{className:"h-8 w-8 text-muted-foreground/30"})}),s.jsx("h4",{className:"text-sm font-bold text-foreground",children:"No wards found"}),s.jsx("p",{className:"text-[11px] text-muted-foreground",children:i||"all"!==n?"Try adjusting your filters or search criteria":"No wards available for this user"})]})})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:s.jsx(I,{mode:"popLayout",children:p.map((e,a)=>{const r=e.permission_status;return s.jsx(S.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2,delay:.02*a},children:s.jsx(di,{className:Oa("group overflow-hidden rounded-xl border transition-all hover:shadow-md",r?"border-green-500/20 bg-green-500/5":"border-border bg-card hover:border-primary/30"),children:s.jsx(ui,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("div",{className:Oa("flex h-10 w-10 items-center justify-center rounded-lg transition-all",r?"bg-green-500/20 text-green-600":"bg-muted text-muted-foreground group-hover:bg-primary/10 group-hover:text-primary"),children:r?s.jsx(B,{className:"h-5 w-5"}):s.jsx(z,{className:"h-5 w-5"})}),s.jsx(Di,{checked:r,onCheckedChange:s=>(async(e,s)=>{var a,r,i;try{const l={userId:null==t?void 0:t.id,wardList:[{permissionStatus:s,wardId:e}]},n=await u.mutateAsync({api:null==kr?void 0:kr.addRemoveWard,data:l});(null==(a=null==n?void 0:n.data)?void 0:a.status)?(c.success((null==(r=null==n?void 0:n.data)?void 0:r.message)||"Permission updated successfully"),m.refetch()):c.error((null==(i=null==n?void 0:n.data)?void 0:i.message)||"Failed to update permission")}catch(l){c.error(Sr(l))}})(e.id,s),disabled:u.isPending,className:"data-[state=checked]:bg-green-600"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"line-clamp-2 text-sm font-bold text-foreground",children:e.ward_name}),s.jsx("p",{className:Oa("mt-1 text-[10px] font-bold uppercase tracking-wider",r?"text-green-600":"text-muted-foreground"),children:r?"Active":"Inactive"})]})]})})})},e.id)})})}),s.jsxs("div",{className:"flex flex-col gap-2 rounded-xl border bg-muted/20 px-4 py-3 sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("span",{className:"text-xs font-bold uppercase tracking-widest text-muted-foreground",children:["Showing: ",p.length," of ",x.length," ","Wards"]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500"}),s.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Active: ",h]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-muted-foreground"}),s.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Inactive: ",g]})]})]})]})]})})]})}function mn(t){var a,r;const[i,l]=e.useState(""),[n,d]=e.useState("all"),o=e.useRef(null),u=li({}),m=ii({api:null==kr?void 0:kr.workFlowRoleByUser,key:"permittedworkFlowRoleByUser",config:{userId:null==t?void 0:t.id},options:{enabled:!0}});e.useEffect(()=>{const e=e=>{var t;!e.altKey||"s"!==e.key&&"S"!==e.key||(e.preventDefault(),e.stopPropagation(),null==(t=o.current)||t.focus())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]);const x=(null==(r=null==(a=null==m?void 0:m.data)?void 0:a.data)?void 0:r.filter(e=>e.role_name.toLowerCase().includes(i.toLowerCase())))||[],p=x.filter(e=>"active"===n?!0===e.permission_status:"inactive"!==n||!1===e.permission_status),h=x.filter(e=>e.permission_status).length,g=x.filter(e=>!e.permission_status).length,f=async(e,s)=>{var a,r,i;try{const l={permissionStatus:s,userId:null==t?void 0:t.id,wfRoleId:e},n=await u.mutateAsync({api:null==kr?void 0:kr.AddRemoveWorkFlowRoleByUser,data:l});(null==(a=null==n?void 0:n.data)?void 0:a.status)?(c.success((null==(r=null==n?void 0:n.data)?void 0:r.message)||"Permission updated successfully"),m.refetch()):c.error((null==(i=null==n?void 0:n.data)?void 0:i.message)||"Failed to update permission")}catch(l){c.error(Sr(l))}};return s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-violet-600/10 text-violet-600",children:s.jsx(T,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Workflow Roles"}),s.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:"Assign process and approval roles with quick toggle"})]})]}),s.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[s.jsxs("div",{className:"flex items-center gap-2 rounded-xl border bg-muted/30 p-1",children:[s.jsxs(sr,{variant:"ghost",size:"sm",onClick:()=>d("all"),className:Oa("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","all"===n?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[s.jsx(W,{className:"h-3 w-3"}),"All (",x.length,")"]}),s.jsxs(sr,{variant:"ghost",size:"sm",onClick:()=>d("active"),className:Oa("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","active"===n?"bg-violet-600 text-white shadow-sm hover:bg-violet-600":"text-muted-foreground hover:text-foreground"),children:[s.jsx(B,{className:"h-3 w-3"}),"Active (",h,")"]}),s.jsxs(sr,{variant:"ghost",size:"sm",onClick:()=>d("inactive"),className:Oa("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","inactive"===n?"bg-muted text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[s.jsx(z,{className:"h-3 w-3"}),"Inactive (",g,")"]})]}),s.jsxs("div",{className:"relative flex items-center",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{ref:o,type:"text",placeholder:"Search workflow roles...",value:i,onChange:e=>l(e.target.value),className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-20 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20 sm:w-64"}),s.jsx("div",{className:"absolute right-2.5 hidden items-center gap-1 sm:flex",children:s.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[s.jsx("span",{className:"text-xs",children:"Alt"}),"S"]})})]})]})]}),m.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-xs font-medium text-muted-foreground",children:"Loading permissions..."})]})}):s.jsx(s.Fragment,{children:0===p.length?s.jsx(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-sm",children:s.jsx(ui,{className:"p-12",children:s.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[s.jsx("div",{className:"mb-3 flex h-16 w-16 items-center justify-center rounded-full bg-muted/50",children:s.jsx(T,{className:"h-8 w-8 text-muted-foreground/30"})}),s.jsx("h4",{className:"text-sm font-bold text-foreground",children:"No workflow roles found"}),s.jsx("p",{className:"text-[11px] text-muted-foreground",children:i||"all"!==n?"Try adjusting your filters or search criteria":"No workflow roles available for this user"})]})})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:s.jsx(I,{mode:"popLayout",children:p.map((e,t)=>{const a=e.permission_status;return s.jsx(S.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2,delay:.02*t},children:s.jsx(di,{className:Oa("group overflow-hidden rounded-xl border transition-all hover:shadow-md",a?"border-violet-500/20 bg-violet-500/5":"border-border bg-card hover:border-primary/30"),children:s.jsx(ui,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("div",{className:Oa("flex h-10 w-10 items-center justify-center rounded-lg transition-all",a?"bg-violet-500/20 text-violet-600":"bg-muted text-muted-foreground group-hover:bg-primary/10 group-hover:text-primary"),children:a?s.jsx(B,{className:"h-5 w-5"}):s.jsx(z,{className:"h-5 w-5"})}),s.jsx(Di,{checked:a,onCheckedChange:t=>(async(e,t)=>{try{const a=x.find(t=>t.permission_status&&t.id!==e);t&&a?c(r=>s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("p",{className:"text-sm font-bold",children:"Replace Active Workflow Role?"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Only one workflow role can be active at a time. This will deactivate"," ",s.jsx("span",{className:"font-bold text-violet-600",children:a.role_name}),"."]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:async()=>{c.dismiss(r.id),await f(e,t)},className:"rounded-lg bg-violet-600 px-3 py-1.5 text-xs font-bold text-white hover:bg-violet-700",children:"Replace"}),s.jsx("button",{onClick:()=>c.dismiss(r.id),className:"rounded-lg bg-muted px-3 py-1.5 text-xs font-bold text-foreground hover:bg-muted/80",children:"Cancel"})]})]}),{duration:6e3}):await f(e,t)}catch(a){c.error(Sr(a))}})(e.id,t),disabled:u.isPending,className:"data-[state=checked]:bg-violet-600"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"line-clamp-2 text-sm font-bold text-foreground",children:e.role_name}),s.jsx("p",{className:Oa("mt-1 text-[10px] font-bold uppercase tracking-wider",a?"text-violet-600":"text-muted-foreground"),children:a?"Active":"Inactive"})]})]})})})},e.id)})})}),s.jsxs("div",{className:"flex flex-col gap-2 rounded-xl border bg-muted/20 px-4 py-3 sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("span",{className:"text-xs font-bold uppercase tracking-widest text-muted-foreground",children:["Showing: ",p.length," of ",x.length," ","Workflow Roles"]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-violet-500"}),s.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Active: ",h]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-muted-foreground"}),s.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Inactive: ",g]})]})]})]})]})})]})}const xn=Ea().shape({userType:Da().required("User Type is required"),name:Da().required("Full Name is required"),mobile:Da().matches(/^\d{10}$/,"Mobile number must be 10 digits").required("Mobile number is required"),altMobile:Da().matches(/^\d{10}$/,"Alternate mobile number must be 10 digits").nullable(),email:Da().email("Enter a valid email").required("Email is required"),address:Da().required("Address is required"),photo:Fa().nullable()});function pn({open:t,setOpen:a,title:r,edit:i,setEdit:l,adminListFun:n,id:d,ulbId:o,userListByUlbId:u}){var m;const x=li({}),p=e.useRef(null),[h,g]=e.useState(null),f=w({defaultValues:{userType:"",name:"",mobile:"",altMobile:"",email:"",address:"",photo:null},resolver:k(xn)}),{reset:v}=f;e.useEffect(()=>{var e,s,a;if(t){if(i&&d){const t=null==(a=null==(s=null==(e=null==u?void 0:u.data)?void 0:e.data)?void 0:s.data)?void 0:a.find(e=>e.id==d);t&&(g(t.documentUrl||null),v({userType:t.user_type||"",name:t.name||"",mobile:t.mobile||"",altMobile:t.alternateMobile||"",email:t.email||"",address:t.address||"",photo:null}))}else g(null),v({userType:"",name:"",mobile:"",altMobile:"",email:"",address:"",photo:null});f.setValue("photo",""),p.current&&(p.current.value="")}},[t,i,d,n,v]);const j=ii({api:null==kr?void 0:kr.createUserType,key:"createUserTypeList",options:{enabled:!0}});return s.jsx(sl,{open:t,setOpen:a,title:r,setEdit:l,edit:i,children:s.jsx("div",{className:"p-1",children:s.jsx(bi,{methods:f,onSubmit:f.handleSubmit(async e=>{var t,s,r;try{const n=i?null==kr?void 0:kr.updateAdmin:null==kr?void 0:kr.createAdmin,m=i&&d?{...e,id:d}:{...e,ulbId:o},p=new FormData;p.append("name",m.name),p.append("mobile",m.mobile),p.append("altMobile",m.altMobile),p.append("email",m.email),p.append("address",m.address),p.append("userType",m.userType);const h=f.watch("photo");if(h)p.append("photo",h);else if(!i)return void c.error("User Image is required");i&&d&&p.append("id",d),p.append("ulbId",o||"");const g=await x.mutateAsync({api:n,data:p});(null==(t=null==g?void 0:g.data)?void 0:t.status)?(c.success(null==(s=null==g?void 0:g.data)?void 0:s.message),a(!1),l(!1),u.refetch()):c.error(null==(r=null==g?void 0:g.data)?void 0:r.message)}catch(n){c.error(Sr(n))}}),children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-5 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"relative",children:s.jsx(Ri,{label:"User Type",name:"userType",data:(null==(m=null==j?void 0:j.data)?void 0:m.data.map(e=>({value:String(e),label:String(e)})))||[]})}),s.jsx("div",{className:"relative",children:s.jsx(Ni,{label:"Full Name",name:"name",inputValidation:["CapitalFirstLetter","removeDoubleSpace"],placeholder:"Enter full name"})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Ni,{label:"Mobile No",name:"mobile",inputValidation:["mobile","number"],placeholder:"Enter mobile"}),s.jsx(Ni,{label:"Alt Mobile No",name:"altMobile",inputValidation:["mobile","number"],placeholder:"Enter alternate"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Ni,{label:"Email Address",name:"email",inputValidation:["email"],placeholder:"Enter email"}),s.jsx(Ni,{label:"Physical Address",name:"address",inputValidation:["CapitalFirstLetter","removeDoubleSpace"],placeholder:"Enter permanent address"}),s.jsxs("div",{className:"rounded-xl border border-dashed border-primary/20 bg-primary/5 p-4",children:[i&&h&&!f.watch("photo")&&s.jsxs("div",{className:"mb-3 flex flex-col items-center gap-2",children:[s.jsx("p",{className:"text-[10px] font-bold uppercase tracking-wider text-muted-foreground",children:"Current Profile Image"}),s.jsx("img",{src:h,alt:"Current profile",className:"h-20 w-20 rounded-lg border-2 border-primary/20 object-cover shadow-sm"})]}),s.jsx(Ei,{label:i&&h?"Update Profile Image":"User Profile Image",name:"photo"},t?"open":"closed")]})]})]}),s.jsx("div",{className:"flex items-center justify-end gap-3 border-t pt-4",children:s.jsx(wi,{isLoading:f.formState.isSubmitting,type:"submit",className:"h-11 rounded-xl bg-primary px-8 text-sm font-bold text-primary-foreground shadow-lg shadow-primary/20 transition-all hover:shadow-xl active:scale-95",children:i?"Update User Account":"Create User Account"})})]})})})})}function hn(){var t,a,r,i,l,n,d,o,u,x;const p=m(),[h]=_(),g=h.get("ulb_id"),f=h.get("ulb_name"),v=e.useRef(null),[j,b]=e.useState(1),[y,N]=e.useState(10),w=li({}),[k,P]=e.useState(!1),[R,E]=e.useState(""),[M,U]=e.useState(!1),[T,O]=e.useState(!1),[W,V]=e.useState(!1),[$,H]=e.useState("name"),[Q,Z]=e.useState(""),[G,K]=e.useState("");e.useEffect(()=>{const e=setTimeout(()=>{K(Q)},700);return()=>clearTimeout(e)},[Q]),e.useEffect(()=>{const e=e=>{var t;!e.altKey||"s"!==e.key&&"S"!==e.key||(e.preventDefault(),e.stopPropagation(),null==(t=v.current)||t.focus())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]);const Y=ii({api:null==kr?void 0:kr.userListByULBId,key:"userListByUlbId",config:{ulbId:g,page:j,perPage:y,searchQuery:G,[$]:G},value:[j,y,$,G],options:{enabled:!0}});e.useEffect(()=>{G?(b(1),Y.refetch()):Y.refetch()},[G]);return s.jsxs("div",{className:"",children:[s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(sr,{variant:"ghost",size:"sm",onClick:()=>p(-1),className:"flex h-10 items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-amber-500/10 text-amber-500",children:s.jsx(Ne,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:f}),s.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-blue-600/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-blue-600",children:[(null==(a=null==(t=null==Y?void 0:Y.data)?void 0:t.data)?void 0:a.total)||0," Registered Users"]})]})]}),s.jsxs("div",{className:"flex w-full flex-wrap items-center gap-3 lg:w-auto",children:[s.jsxs("div",{className:"relative flex flex-1 items-center md:min-w-[350px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{ref:v,type:"text",value:Q,onChange:e=>{Z(e.target.value)},placeholder:"Search users...",className:"h-11 w-full rounded-xl border border-border bg-background pl-10 pr-24 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20",maxLength:"mobile"==$?10:void 0}),s.jsxs("div",{className:"absolute right-2.5 flex items-center gap-1.5",children:[s.jsx("div",{className:"hidden items-center gap-1 sm:flex",children:s.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[s.jsx("span",{className:"text-xs",children:"Alt"}),"S"]})}),s.jsx("div",{className:"mx-1 h-4 w-[1px] bg-border"}),s.jsxs("select",{value:$,onChange:e=>{return t=e.target.value,void H(t);var t},className:"h-8 cursor-pointer rounded-lg border-none bg-transparent px-2 py-0 text-xs font-semibold outline-none transition-all hover:bg-muted/50 focus:ring-0",children:[s.jsx("option",{value:"name",children:"Name"}),s.jsx("option",{value:"email",children:"Email"}),s.jsx("option",{value:"mobile",children:"Mobile"})]})]})]}),s.jsxs(sr,{type:"button",onClick:()=>{E(""),U(!1),P(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Create User"]})]})]})}),s.jsxs(ui,{className:"p-0",children:[Y.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading users..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(mi,{children:[s.jsx(xi,{children:s.jsxs(hi,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(gi,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"User Profile"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Contact Details"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"User Type"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Access Status"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"})]})}),s.jsx(pi,{children:s.jsx(I,{children:null==(l=null==(i=null==(r=null==Y?void 0:Y.data)?void 0:r.data)?void 0:i.data)?void 0:l.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:j*y-y+t+1})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Er,{src:e.documentUrl,alt:e.name,className:"h-12 w-12 rounded-xl border-2 border-background object-cover shadow-sm"}),s.jsx("div",{className:Oa("absolute -right-1 -top-1 h-3.5 w-3.5 rounded-full border-2 border-background",e.suspended?"bg-red-500":"bg-green-500")})]}),s.jsxs("div",{children:[s.jsx("p",{className:Oa("font-bold leading-tight text-foreground",e.suspended&&"text-muted-foreground line-through opacity-60"),children:null==e?void 0:e.name}),s.jsxs("div",{className:"mt-1 flex items-center gap-1.5",children:[s.jsx(J,{className:"h-2.5 w-2.5 text-muted-foreground"}),s.jsx("p",{className:"max-w-[150px] truncate text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:(null==e?void 0:e.address)||"No Address"})]})]})]})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex flex-col gap-1.5",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-foreground/80",children:[s.jsx("div",{className:"flex h-5 w-5 items-center justify-center rounded-md bg-blue-600/10 text-blue-600",children:s.jsx(we,{className:"h-2.5 w-2.5"})}),null==e?void 0:e.mobile]}),s.jsxs("div",{className:"flex items-center gap-2 text-[11px] font-medium text-muted-foreground",children:[s.jsx("div",{className:"flex h-5 w-5 items-center justify-center rounded-md bg-emerald-600/10 text-emerald-600",children:s.jsx(re,{className:"h-2.5 w-2.5"})}),null==e?void 0:e.email]})]})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"inline-flex items-center gap-2 rounded-lg border border-violet-600/20 bg-violet-600/10 px-2.5 py-1 text-[10px] font-bold uppercase tracking-wider text-violet-600",children:[s.jsx(ke,{className:"h-3 w-3"}),null==e?void 0:e.user_type]})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(Di,{checked:!(null==e?void 0:e.suspended),onCheckedChange:()=>(async(e,t)=>{var s,a,r;try{const i={id:e,isSuspended:t},l=await w.mutateAsync({api:null==kr?void 0:kr.enableDisableUserByModule,data:i});(null==(s=null==l?void 0:l.data)?void 0:s.status)?(c.success((null==(a=null==l?void 0:l.data)?void 0:a.message)||"Permission updated successfully"),Y.refetch()):c.error((null==(r=null==l?void 0:l.data)?void 0:r.message)||"Failed to update permission")}catch(i){c.error(Sr(i))}})(e.id,!e.suspended)}),s.jsx("span",{className:Oa("inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-[9px] font-bold uppercase tracking-tighter",e.suspended?"bg-red-500/10 text-red-500":"bg-green-500/10 text-green-500"),children:e.suspended?s.jsxs(s.Fragment,{children:[s.jsx(z,{className:"h-2 w-2"})," ","Suspended"]}):s.jsxs(s.Fragment,{children:[s.jsx(B,{className:"h-2 w-2"})," ","Active"]})})]})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(sr,{variant:"outline",size:"sm",onClick:()=>{E(null==e?void 0:e.id),U(!0),P(!0)},className:"h-9 w-9 border-amber-600/20 bg-amber-600/10 p-0 text-amber-600 transition-all hover:bg-amber-600 hover:text-white",children:s.jsx(D,{className:"h-4 w-4"})}),s.jsxs(sr,{variant:"outline",size:"sm",onClick:()=>{p(`/project-config/dashboard/ulb-list/user-list/permission?ulb_id=${g}&ulb_name=${f}`,{state:{item:e}})},className:"flex items-center gap-2 border-blue-600/20 bg-blue-600/10 text-blue-600 transition-all hover:bg-blue-600 hover:text-white",children:[s.jsx(q,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Permissions"})]})]})})]},null==e?void 0:e.id))})})]}),s.jsx("div",{className:"border-t p-4",children:s.jsx(ji,{currentPage:j,totalItems:(null==(d=null==(n=null==Y?void 0:Y.data)?void 0:n.data)?void 0:d.total)||0,itemsPerPage:y,onPageChange:e=>b(e),onItemsPerPageChange:e=>{N(e),b(1)}})})]}),!Y.isLoading&&0===(null==(x=null==(u=null==(o=null==Y?void 0:Y.data)?void 0:o.data)?void 0:u.data)?void 0:x.length)&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Ne,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No users found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:Q?"Try adjusting your search criteria":"No users have been registered in this ULB yet."})]})]})]})}),s.jsx(Kr,{open:W,onOpenChange:V,children:s.jsxs(Xr,{className:"flex h-[90vh] max-h-[90vh] max-w-[1200px] flex-col overflow-hidden border-none p-0 shadow-2xl",children:[s.jsx(ei,{className:"border-b bg-muted/30 px-8 py-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-blue-600/10 text-blue-600",children:s.jsx(F,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx(si,{className:"text-2xl font-bold text-foreground",children:"User Access Control"}),s.jsxs("p",{className:"text-sm font-medium text-muted-foreground",children:["Configuring permissions for"," ",s.jsx("span",{className:"font-bold text-blue-600",children:null==T?void 0:T.name})]})]})]})}),s.jsx("div",{className:"flex flex-1 flex-col overflow-hidden bg-background p-6",children:s.jsxs(Ws,{defaultValue:"ROLELIST",className:"flex flex-1 flex-col overflow-hidden",children:[s.jsx("div",{className:"mb-6 flex justify-center",children:s.jsxs(Vs,{className:"inline-flex h-11 items-center justify-center rounded-xl bg-muted p-1",children:[s.jsx($s,{className:"inline-flex items-center justify-center whitespace-nowrap rounded-lg px-6 py-2 text-sm font-bold transition-all data-[state=active]:bg-background data-[state=active]:text-primary data-[state=active]:shadow-sm",value:"ROLELIST",children:"Permitted Roles"}),s.jsx($s,{className:"inline-flex items-center justify-center whitespace-nowrap rounded-lg px-6 py-2 text-sm font-bold transition-all data-[state=active]:bg-background data-[state=active]:text-primary data-[state=active]:shadow-sm",value:"PERMITTED_WARDS",children:"Permitted Wards"}),s.jsx($s,{className:"inline-flex items-center justify-center whitespace-nowrap rounded-lg px-6 py-2 text-sm font-bold transition-all data-[state=active]:bg-background data-[state=active]:text-primary data-[state=active]:shadow-sm",value:"PERMITTED_WORKFLOW_ROLE",children:"Workflow Roles"})]})}),s.jsxs("div",{className:"custom-scrollbar flex-1 overflow-y-auto pr-2",children:[s.jsx(Hs,{value:"ROLELIST",className:"m-0 focus-visible:outline-none",children:s.jsx(cn,{selectedULB:T,id:R})}),s.jsx(Hs,{value:"PERMITTED_WARDS",className:"m-0 focus-visible:outline-none",children:s.jsx(un,{selectedULB:T,id:R})}),s.jsx(Hs,{value:"PERMITTED_WORKFLOW_ROLE",className:"m-0 focus-visible:outline-none",children:s.jsx(mn,{selectedULB:T,id:R})})]})]})})]})}),s.jsx(pn,{open:k,setOpen:P,title:M?"Update User Account":"Register New User",id:R,edit:M,setEdit:U,ulbId:g,userListByUlbId:Y})]})}function gn(){return s.jsx(ri,{title:"Manage All Ulb Here.",children:s.jsx(hn,{})})}function fn(){var e;const t=m(),[a]=_();a.get("ulb_id"),a.get("ulb_name");const r=null==(e=n().state)?void 0:e.item;return s.jsxs("div",{className:"flex h-full w-full flex-col overflow-hidden bg-background",children:[s.jsx("header",{className:"shrink-0 border-b bg-muted/30 px-8 py-4",children:s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs(sr,{variant:"ghost",size:"sm",onClick:()=>t(-1),className:"flex h-10 items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{className:"group flex cursor-pointer items-center gap-4",children:[s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-blue-600/10 text-blue-600 transition-all group-hover:bg-blue-600 group-hover:text-white",children:s.jsx(F,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground transition-colors group-hover:text-primary",children:"User Access Control"}),s.jsxs("p",{className:"text-sm font-medium text-muted-foreground",children:["Configuring permissions for"," ",s.jsx("span",{className:"font-mono font-bold text-blue-600",children:r.name})]})]})]})]})}),s.jsx("main",{className:"flex flex-1 flex-col overflow-hidden p-6",children:s.jsxs(_l,{defaultValue:"ROLELIST",className:"flex flex-1 flex-col overflow-hidden",children:[s.jsx("div",{className:"mb-6 flex justify-center",children:s.jsxs(Sl,{className:"inline-flex h-11 items-center justify-center rounded-xl bg-muted p-1",children:[s.jsx(Al,{className:"inline-flex items-center justify-center whitespace-nowrap rounded-lg px-6 py-2 text-sm font-bold transition-all data-[state=active]:bg-background data-[state=active]:text-primary data-[state=active]:shadow-sm",value:"ROLELIST",children:"Permitted Roles"}),s.jsx(Al,{className:"inline-flex items-center justify-center whitespace-nowrap rounded-lg px-6 py-2 text-sm font-bold transition-all data-[state=active]:bg-background data-[state=active]:text-primary data-[state=active]:shadow-sm",value:"PERMITTED_WARDS",children:"Permitted Wards"}),s.jsx(Al,{className:"inline-flex items-center justify-center whitespace-nowrap rounded-lg px-6 py-2 text-sm font-bold transition-all data-[state=active]:bg-background data-[state=active]:text-primary data-[state=active]:shadow-sm",value:"PERMITTED_WORKFLOW_ROLE",children:"Workflow Roles"})]})}),s.jsxs("div",{className:"custom-scrollbar flex-1 overflow-y-auto pr-2",children:[s.jsx(Cl,{value:"ROLELIST",className:"m-0 focus-visible:outline-none",children:s.jsx(cn,{selectedULB:r,id:r.id})}),s.jsx(Cl,{value:"PERMITTED_WARDS",className:"m-0 focus-visible:outline-none",children:s.jsx(un,{selectedULB:r,id:r.id})}),s.jsx(Cl,{value:"PERMITTED_WORKFLOW_ROLE",className:"m-0 focus-visible:outline-none",children:s.jsx(mn,{selectedULB:r,id:r.id})})]})]})})]})}function vn(){return s.jsx(ri,{title:"Mange Permission Here.",children:s.jsx(fn,{})})}Ea().shape({ulbId:Da(),moduleId:Da(),complaintRefNo:Da()});const jn=Ea().shape({name:Da().required("Full Name is required"),mobile:Da().matches(/^\d{10}$/,"Mobile number must be 10 digits").required("Mobile number is required"),altMobile:Da().matches(/^\d{10}$/,"Alternate mobile number must be 10 digits").nullable(),email:Da().email("Enter a valid email").required("Email is required"),address:Da().required("Address is required"),photo:Fa().nullable()});function bn({open:t,setOpen:a,title:r,edit:i,setEdit:l,adminListFun:n,id:d,ulbId:o,adminListData:u}){const m=li({}),x=e.useRef(null),[p,h]=e.useState(null),g=w({defaultValues:{name:"",mobile:"",altMobile:"",email:"",address:"",photo:null},resolver:k(jn)}),{reset:f}=g;e.useEffect(()=>{if(t){if(i&&d){const e=null==u?void 0:u.find(e=>e.id==d);e&&(h(e.documentUrl||null),f({name:e.name||"",mobile:e.mobile||"",altMobile:e.alternateMobile||"",email:e.email||"",address:e.address||"",photo:null}))}else h(null),f({name:"",mobile:"",altMobile:"",email:"",address:"",photo:null});g.setValue("photo",""),x.current&&(x.current.value="")}},[t,i,d,u,f]);return s.jsx(sl,{open:t,setOpen:a,title:r,setEdit:l,edit:i,children:s.jsx("div",{className:"p-1",children:s.jsx(bi,{methods:g,onSubmit:g.handleSubmit(async e=>{var t,s,r;try{const u=i?null==kr?void 0:kr.updateAdmin:null==kr?void 0:kr.createAdmin,x=i&&d?{...e,id:d}:{...e,ulbId:o},p=new FormData;p.append("name",x.name),p.append("mobile",x.mobile),p.append("altMobile",x.altMobile),p.append("email",x.email),p.append("address",x.address);const h=g.watch("photo");if(h)p.append("photo",h);else if(!i)return void c.error("User Image is required");i&&d&&p.append("id",d),p.append("ulbId",o||"");const f=await m.mutateAsync({api:u,data:p});(null==(t=null==f?void 0:f.data)?void 0:t.status)?(c.success(null==(s=null==f?void 0:f.data)?void 0:s.message),a(!1),l(!1),n.refetch()):c.error(null==(r=null==f?void 0:f.data)?void 0:r.message)}catch(u){c.error(Sr(u))}}),children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-5 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"relative",children:s.jsx(Ni,{label:"Full Name",name:"name",inputValidation:["CapitalFirstLetter","removeDoubleSpace"],placeholder:"Enter full name"})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Ni,{label:"Mobile No",name:"mobile",inputValidation:["mobile","number"],placeholder:"Enter mobile"}),s.jsx(Ni,{label:"Alt Mobile No",name:"altMobile",inputValidation:["mobile","number"],placeholder:"Enter alternate"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Ni,{label:"Email Address",name:"email",inputValidation:["email"],placeholder:"Enter email"}),s.jsx(Ni,{label:"Physical Address",name:"address",inputValidation:["CapitalFirstLetter","removeDoubleSpace"],placeholder:"Enter permanent address"})]})]}),s.jsxs("div",{className:"rounded-xl border border-dashed border-primary/20 bg-primary/5 p-4",children:[i&&p&&!g.watch("photo")&&s.jsxs("div",{className:"mb-3 flex flex-col items-center gap-2",children:[s.jsx("p",{className:"text-[10px] font-bold uppercase tracking-wider text-muted-foreground",children:"Current Profile Image"}),s.jsx("img",{src:p,alt:"Current profile",className:"h-20 w-20 rounded-lg border-2 border-primary/20 object-cover shadow-sm"})]}),s.jsx(Ei,{label:i&&p?"Update Profile Image":"User Profile Image",name:"photo"},t?"open":"closed")]}),s.jsx("div",{className:"flex items-center justify-end gap-3 border-t pt-4",children:s.jsx(wi,{isLoading:g.formState.isSubmitting,type:"submit",className:"h-11 rounded-xl bg-primary px-8 text-sm font-bold text-primary-foreground shadow-lg shadow-primary/20 transition-all hover:shadow-xl active:scale-95",children:i?"Update Admin Account":"Create Admin Account"})})]})})})})}function yn(){var t,a,r,i,l,n,d,o,u,x,p,h,g,f;const v=m(),[j]=_(),b=j.get("ulb_id"),y=j.get("ulb_name"),N=e.useRef(null),[w,k]=e.useState(1),[P,R]=e.useState(10),E=li({}),[M,U]=e.useState(!1),[T,q]=e.useState(""),[O,W]=e.useState(!1),[V,$]=e.useState("name"),[H,Q]=e.useState(""),[Z,G]=e.useState("");e.useEffect(()=>{const e=setTimeout(()=>{G(H)},700);return()=>clearTimeout(e)},[H]),e.useEffect(()=>{const e=e=>{var t;!e.altKey||"s"!==e.key&&"S"!==e.key||(e.preventDefault(),e.stopPropagation(),null==(t=N.current)||t.focus())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]);const K=ii({api:null==kr?void 0:kr.adminList,key:"adminListFun",config:{ulbId:b,page:w,perPage:P,parameter:Z||"",filterBy:V||""},value:[w,P,V,Z],options:{enabled:!!b}});e.useEffect(()=>{Z?(k(1),K.refetch()):K.refetch()},[Z]);return s.jsxs("div",{className:"",children:[s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(sr,{variant:"ghost",size:"sm",onClick:()=>v(-1),className:"flex h-10 items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-amber-500/10 text-amber-500",children:s.jsx(F,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:y||"Admin List"}),s.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-blue-600/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-blue-600",children:[(null==(a=null==(t=null==K?void 0:K.data)?void 0:t.data)?void 0:a.total)||0," Registered Admins"]})]})]}),s.jsxs("div",{className:"flex w-full flex-wrap items-center gap-3 lg:w-auto",children:[s.jsxs("div",{className:"relative flex flex-1 items-center md:min-w-[350px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{ref:N,type:"text",value:H,onChange:e=>{Q(e.target.value)},placeholder:`Search admins by ${V}...`,className:"h-11 w-full rounded-xl border border-border bg-background pl-10 pr-24 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20",maxLength:"mobile"==V?10:void 0}),s.jsxs("div",{className:"absolute right-2.5 flex items-center gap-1.5",children:[s.jsx("div",{className:"hidden items-center gap-1 sm:flex",children:s.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[s.jsx("span",{className:"text-xs",children:"Alt"}),"S"]})}),s.jsx("div",{className:"mx-1 h-4 w-[1px] bg-border"}),s.jsxs("select",{value:V,onChange:e=>{return t=e.target.value,void $(t);var t},className:"h-8 cursor-pointer rounded-lg border-none bg-transparent px-2 py-0 text-xs font-semibold outline-none transition-all hover:bg-muted/50 focus:ring-0",children:[s.jsx("option",{value:"name",children:"Name"}),s.jsx("option",{value:"email",children:"Email"}),s.jsx("option",{value:"mobile",children:"Mobile"})]})]})]}),s.jsxs(sr,{type:"button",onClick:()=>{q(""),W(!1),U(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Create Admin"]})]})]})}),s.jsxs(ui,{className:"p-0",children:[K.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading admins..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(mi,{children:[s.jsx(xi,{children:s.jsxs(hi,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(gi,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Admin Profile"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Contact Details"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"})]})}),s.jsx(pi,{children:s.jsx(I,{children:null==(l=null==(i=null==(r=null==K?void 0:K.data)?void 0:r.data)?void 0:i.data)?void 0:l.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w*P-P+t+1})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Er,{src:e.documentUrl,alt:e.name,className:"h-12 w-12 rounded-xl border-2 border-background object-cover shadow-sm"}),s.jsx("div",{className:Oa("absolute -right-1 -top-1 h-3.5 w-3.5 rounded-full border-2 border-background",e.suspended?"bg-red-500":"bg-green-500")})]}),s.jsxs("div",{children:[s.jsx("p",{className:Oa("font-bold leading-tight text-foreground",e.suspended&&"text-muted-foreground line-through opacity-60"),children:null==e?void 0:e.name}),s.jsxs("div",{className:"mt-1 flex items-center gap-1.5",children:[s.jsx(J,{className:"h-2.5 w-2.5 text-muted-foreground"}),s.jsx("p",{className:"max-w-[150px] truncate text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:(null==e?void 0:e.address)||"No Address"})]})]})]})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex flex-col gap-1.5",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-foreground/80",children:[s.jsx("div",{className:"flex h-5 w-5 items-center justify-center rounded-md bg-blue-600/10 text-blue-600",children:s.jsx(we,{className:"h-2.5 w-2.5"})}),null==e?void 0:e.mobile,(null==e?void 0:e.alternateMobile)&&s.jsxs("span",{className:"text-muted-foreground",children:["/ ",e.alternateMobile]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-[11px] font-medium text-muted-foreground",children:[s.jsx("div",{className:"flex h-5 w-5 items-center justify-center rounded-md bg-emerald-600/10 text-emerald-600",children:s.jsx(re,{className:"h-2.5 w-2.5"})}),null==e?void 0:e.email]})]})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(Di,{checked:!(null==e?void 0:e.suspended),onCheckedChange:()=>(async(e,t)=>{var s,a,r;try{const i={id:e,isSuspended:t},l=await E.mutateAsync({api:null==kr?void 0:kr.enableDisableUserByModule,data:i});(null==(s=null==l?void 0:l.data)?void 0:s.status)?(c.success((null==(a=null==l?void 0:l.data)?void 0:a.message)||"Permission updated successfully"),K.refetch()):c.error((null==(r=null==l?void 0:l.data)?void 0:r.message)||"Failed to update permission")}catch(i){c.error(Sr(i))}})(e.id,!e.suspended)}),s.jsx("span",{className:Oa("inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-[9px] font-bold uppercase tracking-tighter",e.suspended?"bg-red-500/10 text-red-500":"bg-green-500/10 text-green-500"),children:e.suspended?s.jsxs(s.Fragment,{children:[s.jsx(z,{className:"h-2 w-2"})," ","Suspended"]}):s.jsxs(s.Fragment,{children:[s.jsx(B,{className:"h-2 w-2"})," ","Active"]})})]})}),s.jsx(fi,{className:"py-4",children:s.jsx("div",{className:"flex items-center justify-center gap-2",children:s.jsx(sr,{variant:"outline",size:"sm",onClick:()=>{q(null==e?void 0:e.id),W(!0),U(!0)},className:"h-9 w-9 border-amber-600/20 bg-amber-600/10 p-0 text-amber-600 transition-all hover:bg-amber-600 hover:text-white",children:s.jsx(D,{className:"h-4 w-4"})})})})]},null==e?void 0:e.id))})})]}),(null==(d=null==(n=null==K?void 0:K.data)?void 0:n.data)?void 0:d.total)>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(ji,{currentPage:w,totalItems:(null==(u=null==(o=null==K?void 0:K.data)?void 0:o.data)?void 0:u.total)||0,itemsPerPage:P,onPageChange:e=>k(e),onItemsPerPageChange:e=>{R(e),k(1)}})})]}),!K.isLoading&&0===(null==(h=null==(p=null==(x=null==K?void 0:K.data)?void 0:x.data)?void 0:p.data)?void 0:h.length)&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(F,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No admins found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:H?"Try adjusting your search criteria":"No admins have been registered in this ULB yet."})]})]})]})}),s.jsx(bn,{open:M,setOpen:U,title:O?"Update Admin Account":"Create Admin Account",id:T,edit:O,setEdit:W,ulbId:b,adminListFun:K,adminListData:null==(f=null==(g=null==K?void 0:K.data)?void 0:g.data)?void 0:f.data})]})}function Nn(){return s.jsx(ri,{title:"Manage All Admins Here.",children:s.jsx(yn,{})})}const wn=Ea().shape({construction_type:Da().required("Construction type is required")});function kn({open:t,setOpen:a,title:r,edit:i,setEdit:l,id:n,refetch:d,editData:o}){const u=li({}),m=w({defaultValues:{construction_type:""},resolver:k(wn)}),{reset:x,handleSubmit:p,formState:{isSubmitting:h}}=m;e.useEffect(()=>{t&&x(i&&o?{construction_type:o.construction_type||""}:{construction_type:""})},[t,i,o,x]);return s.jsx(sl,{open:t,setOpen:a,title:r||(i?"Edit Construction Type":"Add Construction Type"),setEdit:l,edit:i,children:s.jsx("div",{className:"p-1",children:s.jsx(bi,{methods:m,onSubmit:p(async e=>{var t,s,r;try{const o=i?null==Nr?void 0:Nr.api_updateConstructionApi:null==Nr?void 0:Nr.api_PostConstructionApi,m=i?{...e,id:n}:e,x=await u.mutateAsync({api:o,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||`Construction type ${i?"updated":"added"} successfully`),a(!1),l&&l(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(Sr(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsx("div",{className:"space-y-4",children:s.jsx(Ni,{label:"Construction Type",name:"construction_type",placeholder:"Enter construction type"})}),s.jsx(tl,{className:"opacity-50"}),s.jsx(wi,{isLoading:h,type:"submit",className:"h-10 w-full rounded-xl bg-primary text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:i?"Update Construction Type":"Submit"})]})})})})}function _n(){var t,a;const r=m(),[i,l]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,v]=e.useState(null),j=ii({key:"api_getConstructionApiList",api:Nr.api_getConstructionApiList,options:{enabled:!0}}),b=li({}),y=(null==(a=null==(t=null==j?void 0:j.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=null==e?void 0:e.construction_type)?void 0:t.toLowerCase().includes(o.toLowerCase())}))||[],N=i*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(sr,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Construction Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Types Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search construction type...",value:o,onChange:e=>{u(e.target.value),l(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(sr,{type:"button",onClick:()=>{g(!1),v(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New"]})]})]})}),s.jsxs(ui,{className:"p-0",children:[j.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading construction types..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(mi,{children:[s.jsx(xi,{children:s.jsxs(hi,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(gi,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Construction Type"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(pi,{children:s.jsx(I,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(_e,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.construction_type}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsxs("span",{className:Oa("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-red-500/20 bg-red-500/10 text-red-500":"border-green-500/20 bg-green-500/10 text-green-500"),children:[1===e.is_suspended?s.jsx(z,{className:"h-3 w-3"}):s.jsx(B,{className:"h-3 w-3"}),1===e.is_suspended?"Suspended":"Active"]})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>{v(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(D,{className:"h-4 w-4"})}),s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>(e=>{Zr("Delete Construction Type",`Are you sure you want to delete "${e.construction_type}"?`,async()=>{var t,s,a;try{const r=await b.mutateAsync({api:Nr.api_deleteConstructionApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),j.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(Sr(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(Di,{checked:1===e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:1===e.is_suspended?0:1},i=await b.mutateAsync({api:Nr.api_deleteConstructionApi,data:r});(null==(t=null==i?void 0:i.data)?void 0:t.status)?(c.success((null==(s=null==i?void 0:i.data)?void 0:s.message)||"Status updated successfully"),j.refetch()):c.error((null==(a=null==i?void 0:i.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(Sr(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(ji,{currentPage:i,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{l(e)},onItemsPerPageChange:e=>{d(e),l(1)}})})]}),!j.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(_e,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No construction types found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No construction types have been added yet."}),!o&&s.jsxs(sr,{className:"mt-6",onClick:()=>{g(!1),v(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Type"]})]})]})]}),s.jsx(kn,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:j.refetch})]})})}function Sn(){return s.jsx(ri,{title:"Manage Construction Master Here.",children:s.jsx(_n,{})})}const An=Ea().shape({floor_name:Da().required("Floor name is required")});function Cn({open:t,setOpen:a,title:r,edit:i,setEdit:l,id:n,refetch:d,editData:o}){const u=li({}),m=w({defaultValues:{floor_name:""},resolver:k(An)}),{reset:x,handleSubmit:p,formState:{isSubmitting:h}}=m;e.useEffect(()=>{t&&x(i&&o?{floor_name:o.floor_name||""}:{floor_name:""})},[t,i,o,x]);return s.jsx(sl,{open:t,setOpen:a,title:r||(i?"Edit Floor":"Add Floor"),setEdit:l,edit:i,children:s.jsx("div",{className:"p-1",children:s.jsx(bi,{methods:m,onSubmit:p(async e=>{var t,s,r;try{const o=i?null==Nr?void 0:Nr.api_updateFloorApi:null==Nr?void 0:Nr.api_PostFloorApi,m=i?{...e,id:n}:e,x=await u.mutateAsync({api:o,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||`Floor ${i?"updated":"added"} successfully`),a(!1),l&&l(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(Sr(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsx("div",{className:"space-y-4",children:s.jsx(Ni,{label:"Floor Name",name:"floor_name",placeholder:"Enter floor name"})}),s.jsx(tl,{className:"opacity-50"}),s.jsx(wi,{isLoading:h,type:"submit",className:"h-10 w-full rounded-xl bg-primary text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:i?"Update Floor":"Submit"})]})})})})}function Ln(){var t,a;const r=m(),[i,l]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,v]=e.useState(null),j=ii({key:"api_getFloorApiList",api:Nr.api_getFloorApiList,options:{enabled:!0}}),b=li({}),y=(null==(a=null==(t=null==j?void 0:j.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=null==e?void 0:e.floor_name)?void 0:t.toLowerCase().includes(o.toLowerCase())}))||[],N=i*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(sr,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Floor Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Floors Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search floor name...",value:o,onChange:e=>{u(e.target.value),l(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(sr,{type:"button",onClick:()=>{g(!1),v(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New"]})]})]})}),s.jsxs(ui,{className:"p-0",children:[j.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading floor types..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(mi,{children:[s.jsx(xi,{children:s.jsxs(hi,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(gi,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Floor Name"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(pi,{children:s.jsx(I,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(H,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.floor_name}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsxs("span",{className:Oa("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(z,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Suspended"]})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>{v(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(D,{className:"h-4 w-4"})}),s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>(e=>{Zr("Delete Floor",`Are you sure you want to delete "${e.floor_name}"?`,async()=>{var t,s,a;try{const r=await b.mutateAsync({api:Nr.api_deleteFloorApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),j.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(Sr(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(Di,{checked:1===e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:1===e.is_suspended?0:1},i=await b.mutateAsync({api:Nr.api_deleteFloorApi,data:r});(null==(t=null==i?void 0:i.data)?void 0:t.status)?(c.success((null==(s=null==i?void 0:i.data)?void 0:s.message)||"Status updated successfully"),j.refetch()):c.error((null==(a=null==i?void 0:i.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(Sr(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(ji,{currentPage:i,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{l(e)},onItemsPerPageChange:e=>{d(e),l(1)}})})]}),!j.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(H,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No floors found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No floors have been added yet."}),!o&&s.jsxs(sr,{className:"mt-6",onClick:()=>{g(!1),v(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Floor"]})]})]})]}),s.jsx(Cn,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:j.refetch})]})})}function In(){return s.jsx(ri,{title:"Manage Floor Master Here.",children:s.jsx(Ln,{})})}const Pn=Ea().shape({type:Da().required("Objection type name is required")});function Rn({open:t,setOpen:a,title:r,edit:i,setEdit:l,id:n,refetch:d,editData:o}){const u=li({}),m=w({defaultValues:{type:""},resolver:k(Pn)}),{reset:x,handleSubmit:p,formState:{isSubmitting:h}}=m;e.useEffect(()=>{t&&x(i&&o?{type:o.type||""}:{type:""})},[t,i,o,x]);return s.jsx(sl,{open:t,setOpen:a,title:r||(i?"Edit Objection Type":"Add Objection Type"),setEdit:l,edit:i,children:s.jsx("div",{className:"p-1",children:s.jsx(bi,{methods:m,onSubmit:p(async e=>{var t,s,r;try{const o=i?null==Nr?void 0:Nr.api_updateObjectionApi:null==Nr?void 0:Nr.api_PostObjectionApi,m=i?{...e,id:n}:e,x=await u.mutateAsync({api:o,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||`Objection type ${i?"updated":"added"} successfully`),a(!1),l&&l(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(Sr(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsx("div",{className:"space-y-4",children:s.jsx(Ni,{label:"Objection Type Name",name:"type",placeholder:"Enter objection type name"})}),s.jsx(tl,{className:"opacity-50"}),s.jsx(wi,{isLoading:h,type:"submit",className:"h-10 w-full rounded-xl bg-primary text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:i?"Update Objection Type":"Submit"})]})})})})}function En(){var t,a;const r=m(),[i,l]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,v]=e.useState(null),j=ii({key:"api_getObjectionApiList",api:Nr.api_getObjectionApiList,options:{enabled:!0}}),b=li({}),y=(null==(a=null==(t=null==j?void 0:j.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=null==e?void 0:e.type)?void 0:t.toLowerCase().includes(o.toLowerCase())}))||[],N=i*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(sr,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Objection Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Types Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search objection type...",value:o,onChange:e=>{u(e.target.value),l(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(sr,{type:"button",onClick:()=>{g(!1),v(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New"]})]})]})}),s.jsxs(ui,{className:"p-0",children:[j.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading objection types..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(mi,{children:[s.jsx(xi,{children:s.jsxs(hi,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(gi,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Objection Type"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(pi,{children:s.jsx(I,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(fe,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.type}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsxs("span",{className:Oa("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(z,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Suspended"]})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>{v(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(D,{className:"h-4 w-4"})}),s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>(e=>{Zr("Delete Objection Type",`Are you sure you want to delete "${e.type}"?`,async()=>{var t,s,a;try{const r=await b.mutateAsync({api:Nr.api_deleteObjectionApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),j.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(Sr(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(Di,{checked:1===e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:1===e.is_suspended?0:1},i=await b.mutateAsync({api:Nr.api_deleteObjectionApi,data:r});(null==(t=null==i?void 0:i.data)?void 0:t.status)?(c.success((null==(s=null==i?void 0:i.data)?void 0:s.message)||"Status updated successfully"),j.refetch()):c.error((null==(a=null==i?void 0:i.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(Sr(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(ji,{currentPage:i,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{l(e)},onItemsPerPageChange:e=>{d(e),l(1)}})})]}),!j.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(fe,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No objection types found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No objection types have been added yet."}),!o&&s.jsxs(sr,{className:"mt-6",onClick:()=>{g(!1),v(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Type"]})]})]})]}),s.jsx(Rn,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:j.refetch})]})})}function Dn(){return s.jsx(ri,{title:"Manage Objection Master Here.",children:s.jsx(En,{})})}const Mn=Ea().shape({usage_type:Da().required("Usage type name is required"),usage_code:Da().required("Usage code is required")});function Un({open:t,setOpen:a,title:r,edit:i,setEdit:l,id:n,refetch:d,editData:o}){const u=li({}),m=w({defaultValues:{usage_type:"",usage_code:""},resolver:k(Mn)}),{reset:x,handleSubmit:p,formState:{isSubmitting:h}}=m;e.useEffect(()=>{t&&x(i&&o?{usage_type:o.usage_type||"",usage_code:o.usage_code||""}:{usage_type:"",usage_code:""})},[t,i,o,x]);return s.jsx(sl,{open:t,setOpen:a,title:r||(i?"Edit Usage Type":"Add Usage Type"),setEdit:l,edit:i,children:s.jsx("div",{className:"p-1",children:s.jsx(bi,{methods:m,onSubmit:p(async e=>{var t,s,r;try{const o=i?null==Nr?void 0:Nr.api_updateUsageTypeApi:null==Nr?void 0:Nr.api_PostUsageTypeApi,m=i?{...e,id:n}:e,x=await u.mutateAsync({api:o,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||`Usage type ${i?"updated":"added"} successfully`),a(!1),l&&l(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(Sr(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(Ni,{label:"Usage Type",name:"usage_type",placeholder:"Enter usage type name"}),s.jsx(Ni,{label:"Usage Code",name:"usage_code",placeholder:"Enter usage code"})]}),s.jsx(tl,{className:"opacity-50"}),s.jsx(wi,{isLoading:h,type:"submit",className:"h-10 w-full rounded-xl bg-primary text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:i?"Update Usage Type":"Submit"})]})})})})}function Fn(){var t,a;const r=m(),[i,l]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,v]=e.useState(null),j=ii({key:"api_getUsageTypeApiList",api:Nr.api_getUsageTypeApiList,options:{enabled:!0}}),b=li({}),y=(null==(a=null==(t=null==j?void 0:j.data)?void 0:t.data)?void 0:a.filter(e=>{var t,s;return(null==(t=null==e?void 0:e.usage_type)?void 0:t.toLowerCase().includes(o.toLowerCase()))||(null==(s=null==e?void 0:e.usage_code)?void 0:s.toLowerCase().includes(o.toLowerCase()))}))||[],N=i*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(sr,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Usage Type Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Types Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search usage type or code...",value:o,onChange:e=>{u(e.target.value),l(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(sr,{type:"button",onClick:()=>{g(!1),v(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New"]})]})]})}),s.jsxs(ui,{className:"p-0",children:[j.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading usage types..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(mi,{children:[s.jsx(xi,{children:s.jsxs(hi,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(gi,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Usage Code"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Usage Type"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(pi,{children:s.jsx(I,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(fi,{className:"py-4",children:s.jsx("span",{className:"rounded bg-primary/10 px-2 py-1 text-xs font-bold text-primary",children:e.usage_code})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 min-w-[40px] items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(Se,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"max-w-md font-bold leading-tight text-foreground",children:null==e?void 0:e.usage_type}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsxs("span",{className:Oa("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(z,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Suspended"]})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>{v(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(D,{className:"h-4 w-4"})}),s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>(e=>{Zr("Delete Usage Type",`Are you sure you want to delete "${e.usage_type}"?`,async()=>{var t,s,a;try{const r=await b.mutateAsync({api:Nr.api_deleteUsageTypeApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),j.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(Sr(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(Di,{checked:1===e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:1===e.is_suspended?0:1},i=await b.mutateAsync({api:Nr.api_deleteUsageTypeApi,data:r});(null==(t=null==i?void 0:i.data)?void 0:t.status)?(c.success((null==(s=null==i?void 0:i.data)?void 0:s.message)||"Status updated successfully"),j.refetch()):c.error((null==(a=null==i?void 0:i.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(Sr(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(ji,{currentPage:i,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{l(e)},onItemsPerPageChange:e=>{d(e),l(1)}})})]}),!j.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Se,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No usage types found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No usage types have been added yet."}),!o&&s.jsxs(sr,{className:"mt-6",onClick:()=>{g(!1),v(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Type"]})]})]})]}),s.jsx(Un,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:j.refetch})]})})}function Tn(){return s.jsx(ri,{title:"Manage Usage Type Master Here.",children:s.jsx(Fn,{})})}const zn=Ea().shape({building_type:Da().required("Building type name is required")});function Bn({open:t,setOpen:a,title:r,edit:i,setEdit:l,id:n,refetch:d,editData:o}){const u=li({}),m=w({defaultValues:{building_type:""},resolver:k(zn)}),{reset:x,handleSubmit:p,formState:{isSubmitting:h}}=m;e.useEffect(()=>{t&&x(i&&o?{building_type:o.building_type||""}:{building_type:""})},[t,i,o,x]);return s.jsx(sl,{open:t,setOpen:a,title:r||(i?"Edit Building Type":"Add Building Type"),setEdit:l,edit:i,children:s.jsx("div",{className:"p-1",children:s.jsx(bi,{methods:m,onSubmit:p(async e=>{var t,s,r;try{const o=i?null==Nr?void 0:Nr.api_updateGbBuildingApi:null==Nr?void 0:Nr.api_PostGbBuildingApi,m=i?{...e,id:n}:e,x=await u.mutateAsync({api:o,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||`Building type ${i?"updated":"added"} successfully`),a(!1),l&&l(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(Sr(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsx("div",{className:"space-y-4",children:s.jsx(Ni,{label:"Building Type Name",name:"building_type",placeholder:"Enter building type name"})}),s.jsx(tl,{className:"opacity-50"}),s.jsx(wi,{isLoading:h,type:"submit",className:"h-10 w-full rounded-xl bg-primary text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:i?"Update Building Type":"Submit"})]})})})})}function qn(){var t,a;const r=m(),[i,l]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,v]=e.useState(null),j=ii({key:"api_getGbBuildingApiList",api:Nr.api_getGbBuildingApiList,options:{enabled:!0}}),b=li({}),y=(null==(a=null==(t=null==j?void 0:j.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=null==e?void 0:e.building_type)?void 0:t.toLowerCase().includes(o.toLowerCase())}))||[],N=i*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(sr,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Gb Building Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Types Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search building type...",value:o,onChange:e=>{u(e.target.value),l(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(sr,{type:"button",onClick:()=>{g(!1),v(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New"]})]})]})}),s.jsxs(ui,{className:"p-0",children:[j.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading building types..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(mi,{children:[s.jsx(xi,{children:s.jsxs(hi,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(gi,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Building Type"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(pi,{children:s.jsx(I,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(G,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.building_type}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsxs("span",{className:Oa("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(z,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Suspended"]})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>{v(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(D,{className:"h-4 w-4"})}),s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>(e=>{Zr("Delete Building Type",`Are you sure you want to delete "${e.building_type}"?`,async()=>{var t,s,a;try{const r=await b.mutateAsync({api:Nr.api_deleteGbBuildingApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),j.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(Sr(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(Di,{checked:1===e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:1===e.is_suspended?0:1},i=await b.mutateAsync({api:Nr.api_deleteGbBuildingApi,data:r});(null==(t=null==i?void 0:i.data)?void 0:t.status)?(c.success((null==(s=null==i?void 0:i.data)?void 0:s.message)||"Status updated successfully"),j.refetch()):c.error((null==(a=null==i?void 0:i.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(Sr(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(ji,{currentPage:i,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{l(e)},onItemsPerPageChange:e=>{d(e),l(1)}})})]}),!j.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(G,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No building types found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No building types have been added yet."}),!o&&s.jsxs(sr,{className:"mt-6",onClick:()=>{g(!1),v(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Type"]})]})]})]}),s.jsx(Bn,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:j.refetch})]})})}function On(){return s.jsx(ri,{title:"Manage Gb Building Master Here.",children:s.jsx(qn,{})})}const Wn=Ea().shape({occupancy_type:Da().required("Occupancy type name is required")});function Vn({open:t,setOpen:a,title:r,edit:i,setEdit:l,id:n,refetch:d,editData:o}){const u=li({}),m=w({defaultValues:{occupancy_type:""},resolver:k(Wn)}),{reset:x,handleSubmit:p,formState:{isSubmitting:h}}=m;e.useEffect(()=>{t&&x(i&&o?{occupancy_type:o.occupancy_type||""}:{occupancy_type:""})},[t,i,o,x]);return s.jsx(sl,{open:t,setOpen:a,title:r||(i?"Edit Occupancy Type":"Add Occupancy Type"),setEdit:l,edit:i,children:s.jsx("div",{className:"p-1",children:s.jsx(bi,{methods:m,onSubmit:p(async e=>{var t,s,r;try{const o=i?null==Nr?void 0:Nr.api_updateOccupancyApi:null==Nr?void 0:Nr.api_PostOccupancyApi,m=i?{...e,id:n}:e,x=await u.mutateAsync({api:o,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||`Occupancy type ${i?"updated":"added"} successfully`),a(!1),l&&l(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(Sr(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsx("div",{className:"space-y-4",children:s.jsx(Ni,{label:"Occupancy Type Name",name:"occupancy_type",placeholder:"Enter occupancy type name"})}),s.jsx(tl,{className:"opacity-50"}),s.jsx(wi,{isLoading:h,type:"submit",className:"h-10 w-full rounded-xl bg-primary text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:i?"Update Occupancy Type":"Submit"})]})})})})}function $n(){var t,a;const r=m(),[i,l]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,v]=e.useState(null),j=ii({key:"api_getOccupancyApiList",api:Nr.api_getOccupancyApiList,options:{enabled:!0}}),b=li({}),y=(null==(a=null==(t=null==j?void 0:j.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=null==e?void 0:e.occupancy_type)?void 0:t.toLowerCase().includes(o.toLowerCase())}))||[],N=i*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(sr,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Occupancy Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Types Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search occupancy type...",value:o,onChange:e=>{u(e.target.value),l(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(sr,{type:"button",onClick:()=>{g(!1),v(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New"]})]})]})}),s.jsxs(ui,{className:"p-0",children:[j.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading occupancy types..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(mi,{children:[s.jsx(xi,{children:s.jsxs(hi,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(gi,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Occupancy Type"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(pi,{children:s.jsx(I,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(Ae,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.occupancy_type}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsxs("span",{className:Oa("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(z,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Suspended"]})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>{v(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(D,{className:"h-4 w-4"})}),s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>(e=>{Zr("Delete Occupancy Type",`Are you sure you want to delete "${e.occupancy_type}"?`,async()=>{var t,s,a;try{const r=await b.mutateAsync({api:Nr.api_deleteOccupancyApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),j.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(Sr(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(Di,{checked:1===e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:1===e.is_suspended?0:1},i=await b.mutateAsync({api:Nr.api_deleteOccupancyApi,data:r});(null==(t=null==i?void 0:i.data)?void 0:t.status)?(c.success((null==(s=null==i?void 0:i.data)?void 0:s.message)||"Status updated successfully"),j.refetch()):c.error((null==(a=null==i?void 0:i.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(Sr(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(ji,{currentPage:i,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{l(e)},onItemsPerPageChange:e=>{d(e),l(1)}})})]}),!j.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Ae,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No occupancy types found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No occupancy types have been added yet."}),!o&&s.jsxs(sr,{className:"mt-6",onClick:()=>{g(!1),v(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Type"]})]})]})]}),s.jsx(Vn,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:j.refetch})]})})}function Hn(){return s.jsx(ri,{title:"Manage Occupancy Master Here.",children:s.jsx($n,{})})}const Qn=Ea().shape({property_type:Da().required("Property type name is required")});function Zn({open:t,setOpen:a,title:r,edit:i,setEdit:l,id:n,refetch:d,editData:o}){const u=li({}),m=w({defaultValues:{property_type:""},resolver:k(Qn)}),{reset:x,handleSubmit:p,formState:{isSubmitting:h}}=m;e.useEffect(()=>{t&&x(i&&o?{property_type:o.property_type||""}:{property_type:""})},[t,i,o,x]);return s.jsx(sl,{open:t,setOpen:a,title:r||(i?"Edit Property Type":"Add Property Type"),setEdit:l,edit:i,children:s.jsx("div",{className:"p-1",children:s.jsx(bi,{methods:m,onSubmit:p(async e=>{var t,s,r;try{const o=i?null==Nr?void 0:Nr.api_updatePropertyApi:null==Nr?void 0:Nr.api_PostPropertyApi,m=i?{...e,id:n}:e,x=await u.mutateAsync({api:o,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||`Property type ${i?"updated":"added"} successfully`),a(!1),l&&l(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(Sr(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsx("div",{className:"space-y-4",children:s.jsx(Ni,{label:"Property Type Name",name:"property_type",placeholder:"Enter property type name"})}),s.jsx(tl,{className:"opacity-50"}),s.jsx(wi,{isLoading:h,type:"submit",className:"h-10 w-full rounded-xl bg-primary text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:i?"Update Property Type":"Submit"})]})})})})}function Gn(){var t,a;const r=m(),[i,l]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,v]=e.useState(null),j=ii({key:"api_getPropertyApiList",api:Nr.api_getPropertyApiList,options:{enabled:!0}}),b=li({}),y=(null==(a=null==(t=null==j?void 0:j.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=null==e?void 0:e.property_type)?void 0:t.toLowerCase().includes(o.toLowerCase())}))||[],N=i*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(sr,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Property Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Types Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search property type...",value:o,onChange:e=>{u(e.target.value),l(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(sr,{type:"button",onClick:()=>{g(!1),v(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New"]})]})]})}),s.jsxs(ui,{className:"p-0",children:[j.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading property types..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(mi,{children:[s.jsx(xi,{children:s.jsxs(hi,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(gi,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Property Type"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(pi,{children:s.jsx(I,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(Ce,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.property_type}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsxs("span",{className:Oa("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(z,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Suspended"]})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>{v(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(D,{className:"h-4 w-4"})}),s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>(e=>{Zr("Delete Property Type",`Are you sure you want to delete "${e.property_type}"?`,async()=>{var t,s,a;try{const r=await b.mutateAsync({api:Nr.api_deletePropertyApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),j.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(Sr(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(Di,{checked:1===e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:1===e.is_suspended?0:1},i=await b.mutateAsync({api:Nr.api_deletePropertyApi,data:r});(null==(t=null==i?void 0:i.data)?void 0:t.status)?(c.success((null==(s=null==i?void 0:i.data)?void 0:s.message)||"Status updated successfully"),j.refetch()):c.error((null==(a=null==i?void 0:i.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(Sr(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(ji,{currentPage:i,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{l(e)},onItemsPerPageChange:e=>{d(e),l(1)}})})]}),!j.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Ce,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No property types found"}),s.jsx("p",{className:"max-max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No property types have been added yet."}),!o&&s.jsxs(sr,{className:"mt-6",onClick:()=>{g(!1),v(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Type"]})]})]})]}),s.jsx(Zn,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:j.refetch})]})})}function Kn(){return s.jsx(ri,{title:"Manage Property Master Here.",children:s.jsx(Gn,{})})}const Yn=Ea().shape({prop_usage_type:Da().required("Usage type name is required")});function Jn({open:t,setOpen:a,title:r,edit:i,setEdit:l,id:n,refetch:d,editData:o}){const u=li({}),m=w({defaultValues:{prop_usage_type:""},resolver:k(Yn)}),{reset:x,handleSubmit:p,formState:{isSubmitting:h}}=m;e.useEffect(()=>{t&&x(i&&o?{prop_usage_type:o.prop_usage_type||""}:{prop_usage_type:""})},[t,i,o,x]);return s.jsx(sl,{open:t,setOpen:a,title:r||(i?"Edit Gb Usage Type":"Add Gb Usage Type"),setEdit:l,edit:i,children:s.jsx("div",{className:"p-1",children:s.jsx(bi,{methods:m,onSubmit:p(async e=>{var t,s,r;try{const o=i?null==Nr?void 0:Nr.api_updateGbpropusageApi:null==Nr?void 0:Nr.api_PostGbpropusageApi,m=i?{...e,id:n}:e,x=await u.mutateAsync({api:o,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||`Usage type ${i?"updated":"added"} successfully`),a(!1),l&&l(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(Sr(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsx("div",{className:"space-y-4",children:s.jsx(Ni,{label:"Usage Type Name",name:"prop_usage_type",placeholder:"Enter usage type name"})}),s.jsx(tl,{className:"opacity-50"}),s.jsx(wi,{isLoading:h,type:"submit",className:"h-10 w-full rounded-xl bg-primary text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:i?"Update Usage Type":"Submit"})]})})})})}function Xn(){var t,a;const r=m(),[i,l]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,v]=e.useState(null),j=ii({key:"api_getGbpropusageApiList",api:Nr.api_getGbpropusageApiList,options:{enabled:!0}}),b=li({}),y=(null==(a=null==(t=null==j?void 0:j.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=null==e?void 0:e.prop_usage_type)?void 0:t.toLowerCase().includes(o.toLowerCase())}))||[],N=i*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(sr,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Gb Usage Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Types Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search usage type...",value:o,onChange:e=>{u(e.target.value),l(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(sr,{type:"button",onClick:()=>{g(!1),v(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New"]})]})]})}),s.jsxs(ui,{className:"p-0",children:[j.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading usage types..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(mi,{children:[s.jsx(xi,{children:s.jsxs(hi,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(gi,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Gb Usage Type"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(pi,{children:s.jsx(I,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(Le,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.prop_usage_type}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsxs("span",{className:Oa("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(z,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Suspended"]})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>{v(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(D,{className:"h-4 w-4"})}),s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>(e=>{Zr("Delete Gb Usage Type",`Are you sure you want to delete "${e.prop_usage_type}"?`,async()=>{var t,s,a;try{const r=await b.mutateAsync({api:Nr.api_deleteGbpropusageApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),j.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(Sr(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(Di,{checked:1===e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:1===e.is_suspended?0:1},i=await b.mutateAsync({api:Nr.api_deleteGbpropusageApi,data:r});(null==(t=null==i?void 0:i.data)?void 0:t.status)?(c.success((null==(s=null==i?void 0:i.data)?void 0:s.message)||"Status updated successfully"),j.refetch()):c.error((null==(a=null==i?void 0:i.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(Sr(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(ji,{currentPage:i,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{l(e)},onItemsPerPageChange:e=>{d(e),l(1)}})})]}),!j.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Le,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No usage types found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No usage types have been added yet."}),!o&&s.jsxs(sr,{className:"mt-6",onClick:()=>{g(!1),v(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Type"]})]})]})]}),s.jsx(Jn,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:j.refetch})]})})}function ed(){return s.jsx(ri,{title:"Manage Gb Usage Master Here.",children:s.jsx(Xn,{})})}const td=Ea().shape({occupancy_name:Da().required("Occupancy name is required"),mult_factor:Da().required("Multiplication factor is required").matches(/^[0-9.]+$/,"Only numbers and decimals are allowed")});function sd({open:t,setOpen:a,title:r,edit:i,setEdit:l,id:n,refetch:d,editData:o}){const u=li({}),m=w({defaultValues:{occupancy_name:"",mult_factor:""},resolver:k(td)}),{reset:x,handleSubmit:p,formState:{isSubmitting:h}}=m;e.useEffect(()=>{t&&x(i&&o?{occupancy_name:o.occupancy_name||"",mult_factor:o.mult_factor||""}:{occupancy_name:"",mult_factor:""})},[t,i,o,x]);return s.jsx(sl,{open:t,setOpen:a,title:r||(i?"Edit Occupancy Factor":"Add Occupancy Factor"),setEdit:l,edit:i,children:s.jsx("div",{className:"p-1",children:s.jsx(bi,{methods:m,onSubmit:p(async e=>{var t,s,r;try{const o=i?null==Nr?void 0:Nr.api_updatePropOccupancyFactorApi:null==Nr?void 0:Nr.api_PostPropOccupancyFactorApi,m=i?{...e,id:n}:e,x=await u.mutateAsync({api:o,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||`Occupancy factor ${i?"updated":"added"} successfully`),a(!1),l&&l(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(Sr(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(Ni,{label:"Occupancy Name",name:"occupancy_name",placeholder:"Enter occupancy name"}),s.jsx(Ni,{label:"Multiplication Factor (e.g. 1.50)",name:"mult_factor",placeholder:"Enter multiplication factor"})]}),s.jsx(tl,{className:"opacity-50"}),s.jsx(wi,{isLoading:h,type:"submit",className:"h-10 w-full rounded-xl bg-primary text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:i?"Update Occupancy Factor":"Submit"})]})})})})}function ad(){var t,a;const r=m(),[i,l]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,v]=e.useState(null),j=ii({key:"api_getPropOccupancyFactorApiList",api:Nr.api_getPropOccupancyFactorApiList,options:{enabled:!0}}),b=li({}),y=(null==(a=null==(t=null==j?void 0:j.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=null==e?void 0:e.occupancy_name)?void 0:t.toLowerCase().includes(o.toLowerCase())}))||[],N=i*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(sr,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Occupancy Factor Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Factors Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search occupancy factor...",value:o,onChange:e=>{u(e.target.value),l(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(sr,{type:"button",onClick:()=>{g(!1),v(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New"]})]})]})}),s.jsxs(ui,{className:"p-0",children:[j.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading occupancy factors..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(mi,{children:[s.jsx(xi,{children:s.jsxs(hi,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(gi,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Occupancy Name"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Factor"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(pi,{children:s.jsx(I,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 min-w-[40px] items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(Ie,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.occupancy_name}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsx("span",{className:"rounded bg-orange-100 px-2 py-1 text-xs font-bold text-orange-600",children:e.mult_factor})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsxs("span",{className:Oa("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(z,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Suspended"]})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>{v(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(D,{className:"h-4 w-4"})}),s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>(e=>{Zr("Delete Occupancy Factor",`Are you sure you want to delete "${e.occupancy_name}"?`,async()=>{var t,s,a;try{const r=await b.mutateAsync({api:Nr.api_deletePropOccupancyFactorApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),j.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(Sr(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(Di,{checked:1===e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:1===e.is_suspended?0:1},i=await b.mutateAsync({api:Nr.api_deletePropOccupancyFactorApi,data:r});(null==(t=null==i?void 0:i.data)?void 0:t.status)?(c.success((null==(s=null==i?void 0:i.data)?void 0:s.message)||"Status updated successfully"),j.refetch()):c.error((null==(a=null==i?void 0:i.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(Sr(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(ji,{currentPage:i,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{l(e)},onItemsPerPageChange:e=>{d(e),l(1)}})})]}),!j.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Ie,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No occupancy factors found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No factors have been added yet."}),!o&&s.jsxs(sr,{className:"mt-6",onClick:()=>{g(!1),v(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Factor"]})]})]})]}),s.jsx(sd,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:j.refetch})]})})}function rd(){return s.jsx(ri,{title:"Manage Occupancy Factor Here.",children:s.jsx(ad,{})})}const id=Ea().shape({zone:Da().required("Zone name is required"),ulb_id:Da().required("ULB is required")});function ld({open:t,setOpen:a,title:r,edit:i,setEdit:l,id:n,refetch:d,editData:o}){var u,m,x,p;const h=li({}),g=ii({key:"api_getUlbList_ZoneForm",api:Nr.api_getAllUlb,options:{enabled:t}}),f=w({defaultValues:{zone:"",ulb_id:""},resolver:k(id)}),{reset:v,handleSubmit:j,formState:{isSubmitting:b}}=f;e.useEffect(()=>{t&&v(i&&o?{zone:o.zone||"",ulb_id:o.ulb_id?String(o.ulb_id):""}:{zone:"",ulb_id:""})},[t,i,o,v]);const y=(null==(m=null==(u=null==g?void 0:g.data)?void 0:u.data)?void 0:m.length)>0&&(null==(p=null==(x=null==g?void 0:g.data)?void 0:x.data)?void 0:p.map(e=>({label:e.ulb_name,value:String(e.id)})))||[];return s.jsx(sl,{open:t,setOpen:a,title:r||(i?"Edit Zone":"Add Zone"),setEdit:l,edit:i,children:s.jsx("div",{className:"p-1",children:s.jsx(bi,{methods:f,onSubmit:j(async e=>{var t,s,r;try{const o=i?null==Nr?void 0:Nr.api_updateZoneApi:null==Nr?void 0:Nr.api_PostZoneApi,u=i?{...e,id:n,ulb_id:Number(e.ulb_id)}:{...e,ulb_id:Number(e.ulb_id)},m=await h.mutateAsync({api:o,data:u});(null==(t=null==m?void 0:m.data)?void 0:t.status)?(c.success((null==(s=null==m?void 0:m.data)?void 0:s.message)||`Zone ${i?"updated":"added"} successfully`),a(!1),l&&l(!1),d&&d()):c.error((null==(r=null==m?void 0:m.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(Sr(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(Ni,{label:"Zone Name",name:"zone",placeholder:"Enter zone name"}),s.jsx(Ri,{label:"Select ULB",name:"ulb_id",data:y})]}),s.jsx(tl,{className:"opacity-50"}),s.jsx(wi,{isLoading:b,type:"submit",className:"h-10 w-full rounded-xl bg-primary text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:i?"Update Zone":"Submit"})]})})})})}function nd(){var t,a;const r=m(),[i,l]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,v]=e.useState(null),j=ii({key:"api_getZoneList",api:Nr.zone_list_Api,options:{enabled:!0}}),b=li({}),y=(null==(a=null==(t=null==j?void 0:j.data)?void 0:t.data)?void 0:a.filter(e=>{var t,s;return(null==(t=null==e?void 0:e.zone)?void 0:t.toLowerCase().includes(o.toLowerCase()))||(null==(s=null==e?void 0:e.ulb_name)?void 0:s.toLowerCase().includes(o.toLowerCase()))}))||[],N=i*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(sr,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Zone Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Zones Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search zone or ULB...",value:o,onChange:e=>{u(e.target.value),l(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(sr,{type:"button",onClick:()=>{g(!1),v(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New"]})]})]})}),s.jsxs(ui,{className:"p-0",children:[j.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading zones..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(mi,{children:[s.jsx(xi,{children:s.jsxs(hi,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(gi,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Zone Name"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"ULB Name"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(pi,{children:s.jsx(I,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 min-w-[40px] items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(Q,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.zone}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(fi,{className:"py-4 font-medium text-muted-foreground",children:null==e?void 0:e.ulb_name}),s.jsx(fi,{className:"py-4 text-center",children:s.jsxs("span",{className:Oa("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(z,{className:"h-3 w-3"}),e.is_suspended?"Active":"Suspended"]})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>{v(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(D,{className:"h-4 w-4"})}),s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>(e=>{Zr("Delete Zone",`Are you sure you want to delete "${e.zone}"?`,async()=>{var t,s,a;try{const r=await b.mutateAsync({api:Nr.api_deleteZoneApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),j.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(Sr(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(Di,{checked:e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:!e.is_suspended},i=await b.mutateAsync({api:Nr.api_deleteZoneApi,data:r});(null==(t=null==i?void 0:i.data)?void 0:t.status)?(c.success((null==(s=null==i?void 0:i.data)?void 0:s.message)||"Status updated successfully"),j.refetch()):c.error((null==(a=null==i?void 0:i.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(Sr(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(ji,{currentPage:i,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{l(e)},onItemsPerPageChange:e=>{d(e),l(1)}})})]}),!j.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Q,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No zones found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No zones have been added yet."}),!o&&s.jsxs(sr,{className:"mt-6",onClick:()=>{g(!1),v(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Zone"]})]})]})]}),s.jsx(ld,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:j.refetch})]})})}function dd(){return s.jsx(ri,{title:"Manage Zone Master Here.",children:s.jsx(nd,{})})}const od=Ea().shape({city_name:Da().required("City name is required")});function cd({open:t,setOpen:a,title:r,edit:i,setEdit:l,id:n,refetch:d,editData:o}){const u=li({}),m=w({defaultValues:{city_name:""},resolver:k(od)}),{reset:x,handleSubmit:p,formState:{isSubmitting:h}}=m;e.useEffect(()=>{t&&x(i&&o?{city_name:o.city_name||""}:{city_name:""})},[t,i,o,x]);return s.jsx(sl,{open:t,setOpen:a,title:r||(i?"Edit City":"Add City"),setEdit:l,edit:i,children:s.jsx("div",{className:"p-1",children:s.jsx(bi,{methods:m,onSubmit:p(async e=>{var t,s,r;try{const o=i?null==Nr?void 0:Nr.api_updateCityApi:null==Nr?void 0:Nr.api_PostCityApi,m=i?{...e,id:n}:e,x=await u.mutateAsync({api:o,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||`City ${i?"updated":"added"} successfully`),a(!1),l&&l(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(Sr(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsx("div",{className:"space-y-4",children:s.jsx(Ni,{label:"City Name",name:"city_name",placeholder:"Enter city name"})}),s.jsx(tl,{className:"opacity-50"}),s.jsx(wi,{isLoading:h,type:"submit",className:"h-10 w-full rounded-xl bg-primary text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:i?"Update City":"Submit"})]})})})})}function ud(){var t,a;const r=m(),[i,l]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,v]=e.useState(null),j=ii({key:"api_getCityApiList",api:Nr.api_getCityApiList,options:{enabled:!0}}),b=li({}),y=(null==(a=null==(t=null==j?void 0:j.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=null==e?void 0:e.city_name)?void 0:t.toLowerCase().includes(o.toLowerCase())}))||[],N=i*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(sr,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"City Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Cities Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search city name...",value:o,onChange:e=>{u(e.target.value),l(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(sr,{type:"button",onClick:()=>{g(!1),v(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New"]})]})]})}),s.jsxs(ui,{className:"p-0",children:[j.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading cities..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(mi,{children:[s.jsx(xi,{children:s.jsxs(hi,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(gi,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"City Name"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(pi,{children:s.jsx(I,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 min-w-[40px] items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(Ce,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.city_name}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsxs("span",{className:Oa("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(z,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Suspended"]})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>{v(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(D,{className:"h-4 w-4"})}),s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>(e=>{Zr("Delete City",`Are you sure you want to delete "${e.city_name}"?`,async()=>{var t,s,a;try{const r=await b.mutateAsync({api:Nr.api_deleteCityApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),j.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(Sr(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(Di,{checked:1===e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:1===e.is_suspended?0:1},i=await b.mutateAsync({api:Nr.api_deleteCityApi,data:r});(null==(t=null==i?void 0:i.data)?void 0:t.status)?(c.success((null==(s=null==i?void 0:i.data)?void 0:s.message)||"Status updated successfully"),j.refetch()):c.error((null==(a=null==i?void 0:i.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(Sr(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(ji,{currentPage:i,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{l(e)},onItemsPerPageChange:e=>{d(e),l(1)}})})]}),!j.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Ce,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No cities found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No cities have been added yet."}),!o&&s.jsxs(sr,{className:"mt-6",onClick:()=>{g(!1),v(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New City"]})]})]})]}),s.jsx(cd,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:j.refetch})]})})}function md(){return s.jsx(ri,{title:"Manage City Master Here.",children:s.jsx(ud,{})})}const xd=Ea().shape({property_type:Da().required("Property type name is required")});function pd({open:t,setOpen:a,title:r,edit:i,setEdit:l,id:n,refetch:d,editData:o}){const u=li({}),m=w({defaultValues:{property_type:""},resolver:k(xd)}),{reset:x,handleSubmit:p,formState:{isSubmitting:h}}=m;e.useEffect(()=>{t&&x(i&&o?{property_type:o.property_type||""}:{property_type:""})},[t,i,o,x]);return s.jsx(sl,{open:t,setOpen:a,title:r||(i?"Edit Water Property Type":"Add Water Property Type"),setEdit:l,edit:i,children:s.jsx("div",{className:"p-1",children:s.jsx(bi,{methods:m,onSubmit:p(async e=>{var t,s,r;try{const o=i?null==Nr?void 0:Nr.api_updateWaterTypeApi:null==Nr?void 0:Nr.api_PostWaterTypeApi,m=i?{...e,id:n}:e,x=await u.mutateAsync({api:o,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||`Property type ${i?"updated":"added"} successfully`),a(!1),l&&l(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(Sr(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsx("div",{className:"space-y-4",children:s.jsx(Ni,{label:"Property Type Name",name:"property_type",placeholder:"Enter property type name"})}),s.jsx(tl,{className:"opacity-50"}),s.jsx(wi,{isLoading:h,type:"submit",className:"h-10 w-full rounded-xl bg-primary text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:i?"Update Property Type":"Submit"})]})})})})}function hd(){var t,a;const r=m(),[i,l]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,v]=e.useState(null),j=ii({key:"api_getWaterTypeApiList",api:Nr.api_getWaterTypeApiList,options:{enabled:!0}}),b=li({}),y=(null==(a=null==(t=null==j?void 0:j.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=null==e?void 0:e.property_type)?void 0:t.toLowerCase().includes(o.toLowerCase())}))||[],N=i*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(sr,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Water Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Types Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search property type...",value:o,onChange:e=>{u(e.target.value),l(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(sr,{type:"button",onClick:()=>{g(!1),v(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New"]})]})]})}),s.jsxs(ui,{className:"p-0",children:[j.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading property types..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(mi,{children:[s.jsx(xi,{children:s.jsxs(hi,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(gi,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Property Type"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(pi,{children:s.jsx(I,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 min-w-[40px] items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(Pe,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.property_type}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsxs("span",{className:Oa("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(z,{className:"h-3 w-3"}),e.is_suspended?"Active":"Suspended"]})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>{v(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(D,{className:"h-4 w-4"})}),s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>(e=>{Zr("Delete Water Property Type",`Are you sure you want to delete "${e.property_type}"?`,async()=>{var t,s,a;try{const r=await b.mutateAsync({api:Nr.api_deleteWaterTypeApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),j.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(Sr(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(Di,{checked:e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:!e.is_suspended},i=await b.mutateAsync({api:Nr.api_deleteWaterTypeApi,data:r});(null==(t=null==i?void 0:i.data)?void 0:t.status)?(c.success((null==(s=null==i?void 0:i.data)?void 0:s.message)||"Status updated successfully"),j.refetch()):c.error((null==(a=null==i?void 0:i.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(Sr(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(ji,{currentPage:i,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{l(e)},onItemsPerPageChange:e=>{d(e),l(1)}})})]}),!j.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Pe,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No property types found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No property types have been added yet."}),!o&&s.jsxs(sr,{className:"mt-6",onClick:()=>{g(!1),v(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Type"]})]})]})]}),s.jsx(pd,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:j.refetch})]})})}function gd(){return s.jsx(ri,{title:"Manage Water Type Master Here.",children:s.jsx(hd,{})})}const fd=Ea().shape({road_type:Da().required("Road type name is required")});function vd({open:t,setOpen:a,title:r,edit:i,setEdit:l,id:n,refetch:d,editData:o}){const u=li({}),m=w({defaultValues:{road_type:""},resolver:k(fd)}),{reset:x,handleSubmit:p,formState:{isSubmitting:h}}=m;e.useEffect(()=>{t&&x(i&&o?{road_type:o.road_type||""}:{road_type:""})},[t,i,o,x]);return s.jsx(sl,{open:t,setOpen:a,title:r||(i?"Edit Road Type":"Add Road Type"),setEdit:l,edit:i,children:s.jsx("div",{className:"p-1",children:s.jsx(bi,{methods:m,onSubmit:p(async e=>{var t,s,r;try{const o=i?null==Nr?void 0:Nr.api_updateRoadApi:null==Nr?void 0:Nr.api_PostRoadApi,m=i?{...e,id:n}:e,x=await u.mutateAsync({api:o,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||`Road type ${i?"updated":"added"} successfully`),a(!1),l&&l(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(Sr(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsx("div",{className:"space-y-4",children:s.jsx(Ni,{label:"Road Type Name",name:"road_type",placeholder:"Enter road type name"})}),s.jsx(tl,{className:"opacity-50"}),s.jsx(wi,{isLoading:h,type:"submit",className:"h-10 w-full rounded-xl bg-primary text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:i?"Update Road Type":"Submit"})]})})})})}function jd(){var t,a;const r=m(),[i,l]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,v]=e.useState(null),j=ii({key:"api_getRoadApiList",api:Nr.api_getRoadApiList,options:{enabled:!0}}),b=li({}),y=(null==(a=null==(t=null==j?void 0:j.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=null==e?void 0:e.road_type)?void 0:t.toLowerCase().includes(o.toLowerCase())}))||[],N=i*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(sr,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Road Type Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Types Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search road type...",value:o,onChange:e=>{u(e.target.value),l(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(sr,{type:"button",onClick:()=>{g(!1),v(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New"]})]})]})}),s.jsxs(ui,{className:"p-0",children:[j.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading road types..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(mi,{children:[s.jsx(xi,{children:s.jsxs(hi,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(gi,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Road Type"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(pi,{children:s.jsx(I,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 min-w-[40px] items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(Re,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.road_type}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsxs("span",{className:Oa("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(z,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Suspended"]})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>{v(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(D,{className:"h-4 w-4"})}),s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>(e=>{Zr("Delete Road Type",`Are you sure you want to delete "${e.road_type}"?`,async()=>{var t,s,a;try{const r=await b.mutateAsync({api:Nr.api_deleteRoadApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),j.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(Sr(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(Di,{checked:1===e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:1===e.is_suspended?0:1},i=await b.mutateAsync({api:Nr.api_deleteRoadApi,data:r});(null==(t=null==i?void 0:i.data)?void 0:t.status)?(c.success((null==(s=null==i?void 0:i.data)?void 0:s.message)||"Status updated successfully"),j.refetch()):c.error((null==(a=null==i?void 0:i.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(Sr(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(ji,{currentPage:i,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{l(e)},onItemsPerPageChange:e=>{d(e),l(1)}})})]}),!j.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Re,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No road types found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No road types have been added yet."}),!o&&s.jsxs(sr,{className:"mt-6",onClick:()=>{g(!1),v(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Type"]})]})]})]}),s.jsx(vd,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:j.refetch})]})})}function bd(){return s.jsx(ri,{title:"Manage Road Type Master Here.",children:s.jsx(jd,{})})}const yd=Ea().shape({ownership_type:Da().required("Ownership type name is required")});function Nd({open:t,setOpen:a,title:r,edit:i,setEdit:l,id:n,refetch:d,editData:o}){const u=li({}),m=w({defaultValues:{ownership_type:""},resolver:k(yd)}),{reset:x,handleSubmit:p,formState:{isSubmitting:h}}=m;e.useEffect(()=>{t&&x(i&&o?{ownership_type:o.ownership_type||""}:{ownership_type:""})},[t,i,o,x]);return s.jsx(sl,{open:t,setOpen:a,title:r||(i?"Edit Ownership Type":"Add Ownership Type"),setEdit:l,edit:i,children:s.jsx("div",{className:"p-1",children:s.jsx(bi,{methods:m,onSubmit:p(async e=>{var t,s,r;try{const o=i?null==Nr?void 0:Nr.api_updateOwnershipApi:null==Nr?void 0:Nr.api_PostOwnershipApi,m=i?{...e,id:n}:e,x=await u.mutateAsync({api:o,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||`Ownership type ${i?"updated":"added"} successfully`),a(!1),l&&l(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(Sr(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsx("div",{className:"space-y-4",children:s.jsx(Ni,{label:"Ownership Type Name",name:"ownership_type",placeholder:"Enter ownership type name"})}),s.jsx(tl,{className:"opacity-50"}),s.jsx(wi,{isLoading:h,type:"submit",className:"h-10 w-full rounded-xl bg-primary text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:i?"Update Ownership Type":"Submit"})]})})})})}function wd(){var t,a;const r=m(),[i,l]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,v]=e.useState(null),j=ii({key:"api_getOwnershipApiList",api:Nr.api_getOwnershipApiList,options:{enabled:!0}}),b=li({}),y=(null==(a=null==(t=null==j?void 0:j.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=null==e?void 0:e.ownership_type)?void 0:t.toLowerCase().includes(o.toLowerCase())}))||[],N=i*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(sr,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Ownership Type Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Types Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search ownership type...",value:o,onChange:e=>{u(e.target.value),l(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(sr,{type:"button",onClick:()=>{g(!1),v(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New"]})]})]})}),s.jsxs(ui,{className:"p-0",children:[j.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading ownership types..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(mi,{children:[s.jsx(xi,{children:s.jsxs(hi,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(gi,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Ownership Type"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(pi,{children:s.jsx(I,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 min-w-[40px] items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx($,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.ownership_type}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsxs("span",{className:Oa("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(z,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Suspended"]})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>{v(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(D,{className:"h-4 w-4"})}),s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>(e=>{Zr("Delete Ownership Type",`Are you sure you want to delete "${e.ownership_type}"?`,async()=>{var t,s,a;try{const r=await b.mutateAsync({api:Nr.api_deleteOwnershipApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),j.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(Sr(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(Di,{checked:1===e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:1===e.is_suspended?0:1},i=await b.mutateAsync({api:Nr.api_deleteOwnershipApi,data:r});(null==(t=null==i?void 0:i.data)?void 0:t.status)?(c.success((null==(s=null==i?void 0:i.data)?void 0:s.message)||"Status updated successfully"),j.refetch()):c.error((null==(a=null==i?void 0:i.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(Sr(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(ji,{currentPage:i,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{l(e)},onItemsPerPageChange:e=>{d(e),l(1)}})})]}),!j.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx($,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No ownership types found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No ownership types have been added yet."}),!o&&s.jsxs(sr,{className:"mt-6",onClick:()=>{g(!1),v(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Type"]})]})]})]}),s.jsx(Nd,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:j.refetch})]})})}function kd(){return s.jsx(ri,{title:"Manage Ownership Type Master Here.",children:s.jsx(wd,{})})}const _d=Ea().shape({transfer_mode:Da().required("Transfer mode name is required")});function Sd({open:t,setOpen:a,title:r,edit:i,setEdit:l,id:n,refetch:d,editData:o}){const u=li({}),m=w({defaultValues:{transfer_mode:""},resolver:k(_d)}),{reset:x,handleSubmit:p,formState:{isSubmitting:h}}=m;e.useEffect(()=>{t&&x(i&&o?{transfer_mode:o.transfer_mode||""}:{transfer_mode:""})},[t,i,o,x]);return s.jsx(sl,{open:t,setOpen:a,title:r||(i?"Edit Transfer Mode":"Add Transfer Mode"),setEdit:l,edit:i,children:s.jsx("div",{className:"p-1",children:s.jsx(bi,{methods:m,onSubmit:p(async e=>{var t,s,r;try{const o=i?null==Nr?void 0:Nr.api_updateTransferModeApi:null==Nr?void 0:Nr.api_PostTransferModeApi,m=i?{...e,id:n}:e,x=await u.mutateAsync({api:o,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||`Transfer mode ${i?"updated":"added"} successfully`),a(!1),l&&l(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(Sr(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsx("div",{className:"space-y-4",children:s.jsx(Ni,{label:"Transfer Mode Name",name:"transfer_mode",placeholder:"Enter transfer mode name"})}),s.jsx(tl,{className:"opacity-50"}),s.jsx(wi,{isLoading:h,type:"submit",className:"h-10 w-full rounded-xl bg-primary text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:i?"Update Transfer Mode":"Submit"})]})})})})}function Ad(){var t,a;const r=m(),[i,l]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,v]=e.useState(null),j=ii({key:"api_getTransferModeApiList",api:Nr.api_getTransferModeApiList,options:{enabled:!0}}),b=li({}),y=(null==(a=null==(t=null==j?void 0:j.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=null==e?void 0:e.transfer_mode)?void 0:t.toLowerCase().includes(o.toLowerCase())}))||[],N=i*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(sr,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Transfer Mode Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Modes Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search transfer mode...",value:o,onChange:e=>{u(e.target.value),l(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(sr,{type:"button",onClick:()=>{g(!1),v(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New"]})]})]})}),s.jsxs(ui,{className:"p-0",children:[j.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading transfer modes..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(mi,{children:[s.jsx(xi,{children:s.jsxs(hi,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(gi,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Transfer Mode"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(pi,{children:s.jsx(I,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 min-w-[40px] items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(Ee,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.transfer_mode}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsxs("span",{className:Oa("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(z,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Suspended"]})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>{v(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(D,{className:"h-4 w-4"})}),s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>(e=>{Zr("Delete Transfer Mode",`Are you sure you want to delete "${e.transfer_mode}"?`,async()=>{var t,s,a;try{const r=await b.mutateAsync({api:Nr.api_deleteTransferModeApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),j.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(Sr(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(Di,{checked:1===e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:1===e.is_suspended?0:1},i=await b.mutateAsync({api:Nr.api_deleteTransferModeApi,data:r});(null==(t=null==i?void 0:i.data)?void 0:t.status)?(c.success((null==(s=null==i?void 0:i.data)?void 0:s.message)||"Status updated successfully"),j.refetch()):c.error((null==(a=null==i?void 0:i.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(Sr(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(ji,{currentPage:i,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{l(e)},onItemsPerPageChange:e=>{d(e),l(1)}})})]}),!j.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Ee,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No transfer modes found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No transfer modes have been added yet."}),!o&&s.jsxs(sr,{className:"mt-6",onClick:()=>{g(!1),v(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Mode"]})]})]})]}),s.jsx(Sd,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:j.refetch})]})})}function Cd(){return s.jsx(ri,{title:"Transfer Mode Master",children:s.jsx(Ad,{})})}const Ld=Ea().shape({rebate_type:Da().required("Rebate type name is required")});function Id({open:t,setOpen:a,title:r,edit:i,setEdit:l,id:n,refetch:d,editData:o}){const u=li({}),m=w({defaultValues:{rebate_type:""},resolver:k(Ld)}),{reset:x,handleSubmit:p,formState:{isSubmitting:h}}=m;e.useEffect(()=>{t&&x(i&&o?{rebate_type:o.rebate_type||""}:{rebate_type:""})},[t,i,o,x]);return s.jsx(sl,{open:t,setOpen:a,title:r||(i?"Edit Rebate Type":"Add Rebate Type"),setEdit:l,edit:i,children:s.jsx("div",{className:"p-1",children:s.jsx(bi,{methods:m,onSubmit:p(async e=>{var t,s,r;try{const o=i?null==Nr?void 0:Nr.api_updateRebateTypeApi:null==Nr?void 0:Nr.api_PostRebateTypeApi,m=i?{...e,id:n}:e,x=await u.mutateAsync({api:o,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||`Rebate type ${i?"updated":"added"} successfully`),a(!1),l&&l(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(Sr(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsx("div",{className:"space-y-4",children:s.jsx(Ni,{label:"Rebate Type Name",name:"rebate_type",placeholder:"Enter rebate type name"})}),s.jsx(tl,{className:"opacity-50"}),s.jsx(wi,{isLoading:h,type:"submit",className:"h-10 w-full rounded-xl bg-primary text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:i?"Update Rebate Type":"Submit"})]})})})})}function Pd(){var t,a;const r=m(),[i,l]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,v]=e.useState(null),j=ii({key:"api_getRebateTypeApiList",api:Nr.api_getRebateTypeApiList,options:{enabled:!0}}),b=li({}),y=(null==(a=null==(t=null==j?void 0:j.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=null==e?void 0:e.rebate_type)?void 0:t.toLowerCase().includes(o.toLowerCase())}))||[],N=i*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(sr,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Rebate Type Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Types Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search rebate type...",value:o,onChange:e=>{u(e.target.value),l(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(sr,{type:"button",onClick:()=>{g(!1),v(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New"]})]})]})}),s.jsxs(ui,{className:"p-0",children:[j.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading rebate types..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(mi,{children:[s.jsx(xi,{children:s.jsxs(hi,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(gi,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Rebate Type"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(pi,{children:s.jsx(I,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 min-w-[40px] items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(Ie,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.rebate_type}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsxs("span",{className:Oa("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(z,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Suspended"]})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>{v(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(D,{className:"h-4 w-4"})}),s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>(e=>{Zr("Delete Rebate Type",`Are you sure you want to delete "${e.rebate_type}"?`,async()=>{var t,s,a;try{const r=await b.mutateAsync({api:Nr.api_deleteRebateTypeApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),j.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(Sr(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(Di,{checked:1===e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:1===e.is_suspended?0:1},i=await b.mutateAsync({api:Nr.api_deleteRebateTypeApi,data:r});(null==(t=null==i?void 0:i.data)?void 0:t.status)?(c.success((null==(s=null==i?void 0:i.data)?void 0:s.message)||"Status updated successfully"),j.refetch()):c.error((null==(a=null==i?void 0:i.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(Sr(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(ji,{currentPage:i,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{l(e)},onItemsPerPageChange:e=>{d(e),l(1)}})})]}),!j.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Ie,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No rebate types found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No rebate types have been added yet."}),!o&&s.jsxs(sr,{className:"mt-6",onClick:()=>{g(!1),v(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Type"]})]})]})]}),s.jsx(Id,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:j.refetch})]})})}function Rd(){return s.jsx(ri,{title:"Rebate Type Master",children:s.jsx(Pd,{})})}const Ed=Ea().shape({penalty_type:Da().required("Penalty type name is required")});function Dd({open:t,setOpen:a,title:r,edit:i,setEdit:l,id:n,refetch:d,editData:o}){const u=li({}),m=w({defaultValues:{penalty_type:""},resolver:k(Ed)}),{reset:x,handleSubmit:p,formState:{isSubmitting:h}}=m;e.useEffect(()=>{t&&x(i&&o?{penalty_type:o.penalty_type||""}:{penalty_type:""})},[t,i,o,x]);return s.jsx(sl,{open:t,setOpen:a,title:r||(i?"Edit Penalty Type":"Add Penalty Type"),setEdit:l,edit:i,children:s.jsx("div",{className:"p-1",children:s.jsx(bi,{methods:m,onSubmit:p(async e=>{var t,s,r;try{const o=i?null==Nr?void 0:Nr.api_updatePenaltyTypeApi:null==Nr?void 0:Nr.api_PostPenaltyTypeApi,m=i?{...e,id:n}:e,x=await u.mutateAsync({api:o,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||`Penalty type ${i?"updated":"added"} successfully`),a(!1),l&&l(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(Sr(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsx("div",{className:"space-y-4",children:s.jsx(Ni,{label:"Penalty Type Name",name:"penalty_type",placeholder:"Enter penalty type name"})}),s.jsx(tl,{className:"opacity-50"}),s.jsx(wi,{isLoading:h,type:"submit",className:"h-10 w-full rounded-xl bg-primary text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:i?"Update Penalty Type":"Submit"})]})})})})}function Md(){var t,a;const r=m(),[i,l]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,v]=e.useState(null),j=ii({key:"api_getPenaltyTypeApiList",api:Nr.api_getPenaltyTypeApiList,options:{enabled:!0}}),b=li({}),y=(null==(a=null==(t=null==j?void 0:j.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=null==e?void 0:e.penalty_type)?void 0:t.toLowerCase().includes(o.toLowerCase())}))||[],N=i*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(sr,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Penalty Type Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Types Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search penalty type...",value:o,onChange:e=>{u(e.target.value),l(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(sr,{type:"button",onClick:()=>{g(!1),v(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New"]})]})]})}),s.jsxs(ui,{className:"p-0",children:[j.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading penalty types..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(mi,{children:[s.jsx(xi,{children:s.jsxs(hi,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(gi,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Penalty Type"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(pi,{children:s.jsx(I,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 min-w-[40px] items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(De,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.penalty_type}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsxs("span",{className:Oa("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(z,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Suspended"]})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>{v(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(D,{className:"h-4 w-4"})}),s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>(e=>{Zr("Delete Penalty Type",`Are you sure you want to delete "${e.penalty_type}"?`,async()=>{var t,s,a;try{const r=await b.mutateAsync({api:Nr.api_deletePenaltyTypeApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),j.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(Sr(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(Di,{checked:1===e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:1===e.is_suspended?0:1},i=await b.mutateAsync({api:Nr.api_deletePenaltyTypeApi,data:r});(null==(t=null==i?void 0:i.data)?void 0:t.status)?(c.success((null==(s=null==i?void 0:i.data)?void 0:s.message)||"Status updated successfully"),j.refetch()):c.error((null==(a=null==i?void 0:i.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(Sr(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(ji,{currentPage:i,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{l(e)},onItemsPerPageChange:e=>{d(e),l(1)}})})]}),!j.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(De,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No penalty types found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No penalty types have been added yet."}),!o&&s.jsxs(sr,{className:"mt-6",onClick:()=>{g(!1),v(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Type"]})]})]})]}),s.jsx(Dd,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:j.refetch})]})})}function Ud(){return s.jsx(ri,{title:"Penalty Type Master",children:s.jsx(Md,{})})}const Fd=Ea().shape({type:Da().required("Forgery type name is required")});function Td({open:t,setOpen:a,title:r,edit:i,setEdit:l,id:n,refetch:d,editData:o}){const u=li({}),m=w({defaultValues:{type:""},resolver:k(Fd)}),{reset:x,handleSubmit:p,formState:{isSubmitting:h}}=m;e.useEffect(()=>{t&&x(i&&o?{type:o.type||""}:{type:""})},[t,i,o,x]);return s.jsx(sl,{open:t,setOpen:a,title:r||(i?"Edit Forgery Type":"Add Forgery Type"),setEdit:l,edit:i,children:s.jsx("div",{className:"p-1",children:s.jsx(bi,{methods:m,onSubmit:p(async e=>{var t,s,r;try{const o=i?null==Nr?void 0:Nr.api_updateForgeryTypeApi:null==Nr?void 0:Nr.api_PostForgeryTypeApi,m=i?{...e,id:n}:e,x=await u.mutateAsync({api:o,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||`Forgery type ${i?"updated":"added"} successfully`),a(!1),l&&l(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(Sr(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsx("div",{className:"space-y-4",children:s.jsx(Ni,{label:"Forgery Type Name",name:"type",placeholder:"Enter forgery type name"})}),s.jsx(tl,{className:"opacity-50"}),s.jsx(wi,{isLoading:h,type:"submit",className:"h-10 w-full rounded-xl bg-primary text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:i?"Update Forgery Type":"Submit"})]})})})})}function zd(){var t,a;const r=m(),[i,l]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,v]=e.useState(null),j=ii({key:"api_getForgeryTypeApiList",api:Nr.api_getForgeryTypeApiList,options:{enabled:!0}}),b=li({}),y=(null==(a=null==(t=null==j?void 0:j.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=null==e?void 0:e.type)?void 0:t.toLowerCase().includes(o.toLowerCase())}))||[],N=i*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(sr,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Forgery Type Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Types Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search forgery type...",value:o,onChange:e=>{u(e.target.value),l(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(sr,{type:"button",onClick:()=>{g(!1),v(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New"]})]})]})}),s.jsxs(ui,{className:"p-0",children:[j.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading forgery types..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(mi,{children:[s.jsx(xi,{children:s.jsxs(hi,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(gi,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Forgery Type"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(pi,{children:s.jsx(I,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 min-w-[40px] items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(Me,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"max-w-md font-bold leading-tight text-foreground",children:null==e?void 0:e.type}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsxs("span",{className:Oa("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",e.is_suspended?"border-red-500/20 bg-red-500/10 text-red-500":"border-green-500/20 bg-green-500/10 text-green-500"),children:[e.is_suspended?s.jsx(z,{className:"h-3 w-3"}):s.jsx(B,{className:"h-3 w-3"}),e.is_suspended?"Suspended":"Active"]})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>{v(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(D,{className:"h-4 w-4"})}),s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>(e=>{Zr("Delete Forgery Type",`Are you sure you want to delete "${e.type}"?`,async()=>{var t,s,a;try{const r=await b.mutateAsync({api:Nr.api_deleteForgeryTypeApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),j.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(Sr(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(Di,{checked:!e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:!e.is_suspended},i=await b.mutateAsync({api:Nr.api_deleteForgeryTypeApi,data:r});(null==(t=null==i?void 0:i.data)?void 0:t.status)?(c.success((null==(s=null==i?void 0:i.data)?void 0:s.message)||"Status updated successfully"),j.refetch()):c.error((null==(a=null==i?void 0:i.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(Sr(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(ji,{currentPage:i,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{l(e)},onItemsPerPageChange:e=>{d(e),l(1)}})})]}),!j.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Me,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No forgery types found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No forgery types have been added yet."}),!o&&s.jsxs(sr,{className:"mt-6",onClick:()=>{g(!1),v(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Type"]})]})]})]}),s.jsx(Td,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:j.refetch})]})})}function Bd(){return s.jsx(ri,{title:"Forgery Type Master",children:s.jsx(zd,{})})}const qd=Ea().shape({district_code:Da().required("District code is required"),district_name:Da().required("District name is required")});function Od({open:t,setOpen:a,title:r,edit:i,setEdit:l,id:n,refetch:d,editData:o}){const u=li({}),m=w({defaultValues:{district_code:"",district_name:""},resolver:k(qd)}),{reset:x,handleSubmit:p,formState:{isSubmitting:h}}=m;e.useEffect(()=>{t&&x(i&&o?{district_code:o.district_code||"",district_name:o.district_name||""}:{district_code:"",district_name:""})},[t,i,o,x]);return s.jsx(sl,{open:t,setOpen:a,title:r||(i?"Edit District":"Add District"),setEdit:l,edit:i,children:s.jsx("div",{className:"p-1",children:s.jsx(bi,{methods:m,onSubmit:p(async e=>{var t,s,r;try{const o=i?null==Nr?void 0:Nr.api_updateDistrictApi:null==Nr?void 0:Nr.api_PostDistrictApi,m=i?{...e,id:n}:e,x=await u.mutateAsync({api:o,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||`District ${i?"updated":"added"} successfully`),a(!1),l&&l(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(Sr(o))}}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(Ni,{label:"District Code",name:"district_code",placeholder:"Enter district code"}),s.jsx(Ni,{label:"District Name",name:"district_name",placeholder:"Enter district name"})]}),s.jsx(tl,{className:"opacity-50"}),s.jsx(wi,{isLoading:h,type:"submit",className:"h-10 w-full rounded-xl bg-primary text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:i?"Update District":"Submit"})]})})})})}function Wd(){var t,a;const r=m(),[i,l]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,v]=e.useState(null),j=ii({key:"api_getDistrictApiList",api:Nr.api_getDistrictApiList,options:{enabled:!0}}),b=li({}),y=(null==(a=null==(t=null==j?void 0:j.data)?void 0:t.data)?void 0:a.filter(e=>{var t,s;return(null==(t=null==e?void 0:e.district_name)?void 0:t.toLowerCase().includes(o.toLowerCase()))||(null==(s=null==e?void 0:e.district_code)?void 0:s.toLowerCase().includes(o.toLowerCase()))}))||[],N=i*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(sr,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"District Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Districts Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search district name or code...",value:o,onChange:e=>{u(e.target.value),l(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(sr,{type:"button",onClick:()=>{g(!1),v(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New"]})]})]})}),s.jsxs(ui,{className:"p-0",children:[j.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading districts..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(mi,{children:[s.jsx(xi,{children:s.jsxs(hi,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(gi,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"District Code"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"District Name"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(pi,{children:s.jsx(I,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(fi,{className:"py-4",children:s.jsx("div",{className:"font-semibold text-primary",children:null==e?void 0:e.district_code})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 min-w-[40px] items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(Q,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.district_name}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsxs("span",{className:Oa("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",e.is_suspended?"border-red-500/20 bg-red-500/10 text-red-500":"border-green-500/20 bg-green-500/10 text-green-500"),children:[e.is_suspended?s.jsx(z,{className:"h-3 w-3"}):s.jsx(B,{className:"h-3 w-3"}),e.is_suspended?"Suspended":"Active"]})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>{v(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(D,{className:"h-4 w-4"})}),s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>(e=>{Zr("Delete District",`Are you sure you want to delete "${e.district_name}"?`,async()=>{var t,s,a;try{const r=await b.mutateAsync({api:Nr.api_deleteDistrictApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),j.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(Sr(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(Di,{checked:!e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:!e.is_suspended},i=await b.mutateAsync({api:Nr.api_deleteDistrictApi,data:r});(null==(t=null==i?void 0:i.data)?void 0:t.status)?(c.success((null==(s=null==i?void 0:i.data)?void 0:s.message)||"Status updated successfully"),j.refetch()):c.error((null==(a=null==i?void 0:i.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(Sr(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(ji,{currentPage:i,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{l(e)},onItemsPerPageChange:e=>{d(e),l(1)}})})]}),!j.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Q,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No districts found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No districts have been added yet."}),!o&&s.jsxs(sr,{className:"mt-6",onClick:()=>{g(!1),v(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New District"]})]})]})]}),s.jsx(Od,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:j.refetch})]})})}function Vd(){return s.jsx(ri,{title:"District Master",children:s.jsx(Wd,{})})}function $d(){var t,a;const r=m(),[i,l]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,v]=e.useState(null),j=ii({key:"api_getCapitalValuesRateApiList",api:Nr.api_getCapitalValuesRateApiList,options:{enabled:!0}}),b=li({}),y=(null==(a=null==(t=null==j?void 0:j.data)?void 0:t.data)?void 0:a.filter(e=>{var t,s,a;return(null==(t=null==e?void 0:e.property_type)?void 0:t.toLowerCase().includes(o.toLowerCase()))||(null==(s=null==e?void 0:e.usage_type)?void 0:s.toLowerCase().includes(o.toLowerCase()))||(null==(a=null==e?void 0:e.ward_no)?void 0:a.toString().includes(o))}))||[],N=i*n,w=N-n,k=y.slice(w,N);return s.jsx("div",{className:"",children:s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(sr,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Capital Value Rate Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[y.length," Rate Policies"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search property, usage or ward...",value:o,onChange:e=>{u(e.target.value),l(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(sr,{type:"button",onClick:()=>{g(!1),v(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New Rate"]})]})]})}),s.jsxs(ui,{className:"p-0",children:[j.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading rate list..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(mi,{children:[s.jsx(xi,{children:s.jsxs(hi,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(gi,{className:"w-16 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Property & Usage Details"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Location/Road"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Rate Info"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(pi,{children:s.jsx(I,{children:k.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w+t+1})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 min-w-[40px] items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(Le,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.property_type}),s.jsx("div",{className:"mt-1 flex gap-1",children:s.jsx(Ul,{variant:"outline",className:"bg-background text-[10px] font-bold uppercase",children:null==e?void 0:e.usage_type})})]})]})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"text-[10px] font-semibold uppercase text-muted-foreground",children:"Ward:"}),s.jsx("span",{className:"font-bold text-foreground",children:null==e?void 0:e.ward_no})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"text-[10px] font-semibold uppercase text-muted-foreground",children:"Road ID:"}),s.jsx("span",{className:"font-medium text-foreground",children:null==e?void 0:e.road_type_mstr_id})]})]})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"font-bold text-primary",children:["",null==e?void 0:e.rate]}),s.jsx("span",{className:"text-[10px] text-muted-foreground",children:"(Rate)"})]}),s.jsxs("div",{className:"text-[10px] font-semibold text-muted-foreground",children:["Effective: ",null==e?void 0:e.effect_from]})]})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsxs("span",{className:Oa("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(z,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Suspended"]})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>{v(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(D,{className:"h-4 w-4"})}),s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>(e=>{Zr("Delete Rate Policy",`Are you sure you want to delete this rate entry for "${e.property_type}"?`,async()=>{var t,s,a;try{const r=await b.mutateAsync({api:Nr.api_deleteCapitalValuesRateApi,data:{id:e.id}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Deleted successfully"),j.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete")}catch(r){c.error(Sr(r))}})})(e),className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(Di,{checked:1===e.is_suspended,onCheckedChange:()=>(async e=>{var t,s,a;try{const r={id:e.id,status:1===e.is_suspended?0:1},i=await b.mutateAsync({api:Nr.api_deleteCapitalValuesRateApi,data:r});(null==(t=null==i?void 0:i.data)?void 0:t.status)?(c.success((null==(s=null==i?void 0:i.data)?void 0:s.message)||"Status updated successfully"),j.refetch()):c.error((null==(a=null==i?void 0:i.data)?void 0:a.message)||"Failed to update status")}catch(r){c.error(Sr(r))}})(e)})})})]},e.id))})})]}),y.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(ji,{currentPage:i,totalItems:y.length,itemsPerPage:n,onPageChange:e=>{l(e)},onItemsPerPageChange:e=>{d(e),l(1)}})})]}),!j.isLoading&&0===y.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Le,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No rate policies found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No capital value rate policies have been configured yet."}),!o&&s.jsxs(sr,{className:"mt-6",onClick:()=>{g(!1),v(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Configure New Rate"]})]})]})]})})})}function Hd(){return s.jsx(ri,{title:"Capital Value Rate Master",children:s.jsx($d,{})})}const Qd=Ea().shape({x:Da().required("Rental cost (X) is required").matches(/^\d+(\.\d{1,2})?$/,"Enter a valid cost (e.g. 144.00)"),ulb_id:Ua().typeError("ULB is required").required("ULB is required"),effective_date:Da().required("Effective date is required")});function Zd({open:t,setOpen:a,title:r,edit:i,setEdit:l,id:n,refetch:d,editData:o}){var u,m;const x=ii({key:"api_getUlbList",api:Nr.api_getUlbList,options:{}}),p=w({defaultValues:{x:"",ulb_id:void 0,effective_date:""},resolver:k(Qd)}),{reset:h,handleSubmit:g,formState:{isSubmitting:f}}=p;e.useEffect(()=>{t&&h(i&&o?{x:o.x||"",ulb_id:o.ulb_id,effective_date:o.effective_date||""}:{x:"",ulb_id:void 0,effective_date:(new Date).toISOString().split("T")[0]})},[t,i,o,h]);const v=(null==(m=null==(u=null==x?void 0:x.data)?void 0:u.data)?void 0:m.map(e=>({value:e.id.toString(),label:e.ulb_name})))||[];return s.jsx(sl,{open:t,setOpen:a,title:r||(i?"Edit Rental Cost":"Add Rental Cost"),setEdit:l,edit:i,children:s.jsx("div",{className:"p-1",children:s.jsx(bi,{methods:p,onSubmit:g(async e=>{c.success(`UI Only: Building rental cost ${i?"updated":"added"} successfully (API disabled)`),a(!1),l&&l(!1),d&&d()}),children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"flex items-center gap-2 border-b pb-2 text-sm font-bold uppercase tracking-wider text-muted-foreground",children:[s.jsx(Ue,{className:"text-primary"})," Cost Details"]}),s.jsx(Ni,{label:"Rental Cost (X)",name:"x",placeholder:"e.g. 144.00"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"flex items-center gap-2 border-b pb-2 text-sm font-bold uppercase tracking-wider text-muted-foreground",children:[s.jsx(G,{className:"text-primary"})," Administration"]}),s.jsx(Ri,{label:"ULB",name:"ulb_id",data:v}),s.jsx(Ni,{label:"Effective Date",name:"effective_date",type:"date"})]})]}),s.jsx(tl,{className:"opacity-50"}),s.jsx("div",{className:"flex items-center justify-end gap-3",children:s.jsx(wi,{isLoading:f,type:"submit",className:"h-11 rounded-xl bg-primary px-10 text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:i?"Update Cost Policy":"Save Cost Entry"})})]})})})})}function Gd(){var t,a;const r=m(),[i,l]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,v]=e.useState(null),j=ii({key:"api_getBuildingRentalCostApiList",api:Nr.api_getBuildingRentalCostApiList,options:{enabled:!0}}),b=(null==(a=null==(t=null==j?void 0:j.data)?void 0:t.data)?void 0:a.filter(e=>{var t,s;return(null==(t=null==e?void 0:e.ulb_id)?void 0:t.toString().includes(o))||(null==(s=null==e?void 0:e.x)?void 0:s.toString().includes(o))}))||[],y=i*n,N=y-n,w=b.slice(N,y);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(sr,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Building Rental Cost Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[b.length," Entries"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search by cost or ULB ID...",value:o,onChange:e=>{u(e.target.value),l(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(sr,{type:"button",onClick:()=>{g(!1),v(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New Entry"]})]})]})}),s.jsxs(ui,{className:"p-0",children:[j.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading cost list..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(mi,{children:[s.jsx(xi,{children:s.jsxs(hi,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(gi,{className:"w-16 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Rental Cost (X)"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"ULB ID"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Effective Date"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(pi,{children:s.jsx(I,{children:w.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:N+t+1})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 min-w-[40px] items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(Fe,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{className:"text-base font-bold text-primary",children:["",null==e?void 0:e.x]})]})}),s.jsx(fi,{className:"py-4 text-sm font-medium",children:s.jsxs(Ul,{variant:"secondary",className:"rounded-md",children:["ULB #",null==e?void 0:e.ulb_id]})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(se,{className:"h-3 w-3"}),null==e?void 0:e.effective_date]})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsxs("span",{className:Oa("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(z,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Suspended"]})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>{v(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(D,{className:"h-4 w-4"})}),s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>{Zr("Delete Cost Entry","Are you sure you want to delete this cost entry? (UI Only)",async()=>{c.success("UI Only: Deleted successfully (API disabled)"),j.refetch()})},className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(Di,{checked:1===e.is_suspended,onCheckedChange:()=>(c.success("UI Only: Status toggled (API disabled)"),void j.refetch())})})})]},e.id))})})]}),b.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(ji,{currentPage:i,totalItems:b.length,itemsPerPage:n,onPageChange:e=>{l(e)},onItemsPerPageChange:e=>{d(e),l(1)}})})]}),!j.isLoading&&0===b.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Fe,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No cost entries found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No building rental cost entries have been configured yet."}),!o&&s.jsxs(sr,{className:"mt-6",onClick:()=>{g(!1),v(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add Entry"]})]})]})]}),s.jsx(Zd,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:j.refetch})]})})}function Kd(){return s.jsx(ri,{title:"Building Rental Cost Master",children:s.jsx(Gd,{})})}const Yd=Ea().shape({usage_types_id:Ua().typeError("Usage type is required").required("Usage type is required"),zone_id:Ua().typeError("Zone is required").required("Zone is required"),construction_types_id:Ua().typeError("Construction type is required").required("Construction type is required"),rate:Da().required("Rate is required").matches(/^\d+(\.\d{1,2})?$/,"Enter a valid rate (e.g. 1.60)"),ulb_id:Ua().typeError("ULB is required").required("ULB is required")});function Jd({open:t,setOpen:a,title:r,edit:i,setEdit:l,id:n,refetch:d,editData:o}){var u,m,x,p,h,g,f,v;const j=ii({key:"api_getUsageTypeApiList",api:Nr.api_getUsageTypeApiList,options:{}}),b=ii({key:"zone_list_Api",api:Nr.zone_list_Api,options:{}}),y=ii({key:"api_getConstructionApiList",api:Nr.api_getConstructionApiList,options:{}}),N=ii({key:"api_getUlbList",api:Nr.api_getUlbList,options:{}}),_=w({defaultValues:{usage_types_id:void 0,zone_id:void 0,construction_types_id:void 0,rate:"",ulb_id:void 0},resolver:k(Yd)}),{reset:S,handleSubmit:A,formState:{isSubmitting:C}}=_;e.useEffect(()=>{t&&S(i&&o?{usage_types_id:o.usage_types_id,zone_id:o.zone_id,construction_types_id:o.construction_types_id,rate:o.rate||"",ulb_id:o.ulb_id}:{usage_types_id:void 0,zone_id:void 0,construction_types_id:void 0,rate:"",ulb_id:void 0})},[t,i,o,S]);const L=(null==(m=null==(u=null==j?void 0:j.data)?void 0:u.data)?void 0:m.map(e=>({value:e.id.toString(),label:e.usage_type})))||[],I=(null==(p=null==(x=null==b?void 0:b.data)?void 0:x.data)?void 0:p.map(e=>({value:e.id.toString(),label:e.zone_name})))||[],P=(null==(g=null==(h=null==y?void 0:y.data)?void 0:h.data)?void 0:g.map(e=>({value:e.id.toString(),label:e.construction_type})))||[],R=(null==(v=null==(f=null==N?void 0:N.data)?void 0:f.data)?void 0:v.map(e=>({value:e.id.toString(),label:e.ulb_name})))||[];return s.jsx(sl,{open:t,setOpen:a,title:r||(i?"Edit Rental Value":"Add Rental Value"),setEdit:l,edit:i,children:s.jsx("div",{className:"p-1",children:s.jsx(bi,{methods:_,onSubmit:A(async e=>{c.success(`UI Only: Rental value ${i?"updated":"added"} successfully (API disabled)`),a(!1),l&&l(!1),d&&d()}),children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsx("div",{className:"max-h-[60vh] overflow-y-auto px-1",children:s.jsxs("div",{className:"grid grid-cols-1 gap-5 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"flex items-center gap-2 border-b pb-2 text-sm font-bold uppercase tracking-wider text-muted-foreground",children:[s.jsx(Se,{className:"text-primary"})," Categorization"]}),s.jsx(Ri,{label:"Usage Type",name:"usage_types_id",data:L}),s.jsx(Ri,{label:"Construction Type",name:"construction_types_id",data:P})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"flex items-center gap-2 border-b pb-2 text-sm font-bold uppercase tracking-wider text-muted-foreground",children:[s.jsx(J,{className:"text-primary"})," Location & Value"]}),s.jsx(Ri,{label:"Zone",name:"zone_id",data:I}),s.jsx(Ni,{label:"Rental Rate (per sq ft)",name:"rate",placeholder:"0.00"})]}),s.jsxs("div",{className:"space-y-4 md:col-span-2",children:[s.jsxs("h4",{className:"flex items-center gap-2 border-b pb-2 text-sm font-bold uppercase tracking-wider text-muted-foreground",children:[s.jsx(G,{className:"text-primary"})," Administrative"]}),s.jsx(Ri,{label:"ULB",name:"ulb_id",data:R})]})]})}),s.jsx(tl,{className:"opacity-50"}),s.jsx("div",{className:"flex items-center justify-end gap-3",children:s.jsx(wi,{isLoading:C,type:"submit",className:"h-11 rounded-xl bg-primary px-10 text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:i?"Update Rental Policy":"Save Rental Value"})})]})})})})}function Xd(){var t,a;const r=m(),[i,l]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,v]=e.useState(null),j=ii({key:"api_getRentalValuesApiList",api:Nr.api_getRentalValuesApiList,options:{enabled:!0}}),b=(null==(a=null==(t=null==j?void 0:j.data)?void 0:t.data)?void 0:a.filter(e=>{var t,s,a;return(null==(t=null==e?void 0:e.usage_types_id)?void 0:t.toString().includes(o))||(null==(s=null==e?void 0:e.zone_id)?void 0:s.toString().includes(o))||(null==(a=null==e?void 0:e.rate)?void 0:a.toString().includes(o))}))||[],y=i*n,N=y-n,w=b.slice(N,y);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(sr,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Rental Value Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[b.length," Policy Entries"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search by ID or Rate...",value:o,onChange:e=>{u(e.target.value),l(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(sr,{type:"button",onClick:()=>{g(!1),v(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New Policy"]})]})]})}),s.jsxs(ui,{className:"p-0",children:[j.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading rental policies..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(mi,{children:[s.jsx(xi,{children:s.jsxs(hi,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(gi,{className:"w-16 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Categories (Usage/Construction)"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Zone & ULB"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Rental Rate"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(pi,{children:s.jsx(I,{children:w.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:N+t+1})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 min-w-[40px] items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(Te,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex gap-1",children:[s.jsxs(Ul,{variant:"outline",className:"text-[10px] font-bold",children:["U: #",null==e?void 0:e.usage_types_id]}),s.jsxs(Ul,{variant:"outline",className:"text-[10px] font-bold",children:["C: #",null==e?void 0:e.construction_types_id]})]}),s.jsxs("p",{className:"text-[10px] font-bold uppercase tracking-tight text-muted-foreground",children:["Policy ID: ",e.id]})]})]})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"flex items-center gap-2 text-sm",children:s.jsxs("span",{className:"font-bold text-foreground",children:["Zone ",null==e?void 0:e.zone_id]})}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["ULB ID: ",null==e?void 0:e.ulb_id]})]})}),s.jsxs(fi,{className:"py-4",children:[s.jsxs("div",{className:"text-base font-bold text-primary",children:["",null==e?void 0:e.rate]}),s.jsx("p",{className:"text-[10px] text-muted-foreground",children:"per sq. ft."})]}),s.jsx(fi,{className:"py-4 text-center",children:s.jsxs("span",{className:Oa("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(z,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Suspended"]})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>{v(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(D,{className:"h-4 w-4"})}),s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>{Zr("Delete Rental Policy","Are you sure you want to delete this rental value entry?",async()=>{c.success("UI Only: Deleted successfully (API disabled)"),j.refetch()})},className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(Di,{checked:1===e.is_suspended,onCheckedChange:()=>(c.success("UI Only: Status toggled (API disabled)"),void j.refetch())})})})]},e.id))})})]}),b.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(ji,{currentPage:i,totalItems:b.length,itemsPerPage:n,onPageChange:e=>{l(e)},onItemsPerPageChange:e=>{d(e),l(1)}})})]}),!j.isLoading&&0===b.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Te,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No rental policies found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No rental value policies have been configured yet."}),!o&&s.jsxs(sr,{className:"mt-6",onClick:()=>{g(!1),v(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add New Policy"]})]})]})]}),s.jsx(Jd,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:j.refetch})]})})}function eo(){return s.jsx(ri,{title:"Rental Value Master",children:s.jsx(Xd,{})})}const to=Ea().shape({prop_road_typ_id:Ua().typeError("Road type is required").required("Road type is required"),range_from_sqft:Da().required("Range from is required").matches(/^\d+(\.\d{1,2})?$/,"Enter a valid number"),range_upto_sqft:Da().nullable().transform(e=>""===e?null:e).test("is-valid-number","Enter a valid number",e=>!e||/^\d+(\.\d{1,2})?$/.test(e)),effective_date:Da().required("Effective date is required")});function so({open:t,setOpen:a,title:r,edit:i,setEdit:l,id:n,refetch:d,editData:o}){var u,m;const x=ii({key:"api_getRoadApiList",api:Nr.api_getRoadApiList,options:{}}),p=w({defaultValues:{prop_road_typ_id:void 0,range_from_sqft:"",range_upto_sqft:null,effective_date:""},resolver:k(to)}),{reset:h,handleSubmit:g,formState:{isSubmitting:f}}=p;e.useEffect(()=>{t&&h(i&&o?{prop_road_typ_id:o.prop_road_typ_id,range_from_sqft:o.range_from_sqft||"",range_upto_sqft:o.range_upto_sqft||null,effective_date:o.effective_date||""}:{prop_road_typ_id:void 0,range_from_sqft:"",range_upto_sqft:null,effective_date:(new Date).toISOString().split("T")[0]})},[t,i,o,h]);const v=(null==(m=null==(u=null==x?void 0:x.data)?void 0:u.data)?void 0:m.map(e=>({value:e.id.toString(),label:e.road_type})))||[];return s.jsx(sl,{open:t,setOpen:a,title:r||(i?"Edit Road Type Entry":"Add Road Type Entry"),setEdit:l,edit:i,children:s.jsx("div",{className:"p-1",children:s.jsx(bi,{methods:p,onSubmit:g(async e=>{c.success(`UI Only: Road type entry ${i?"updated":"added"} successfully (API disabled)`),a(!1),l&&l(!1),d&&d()}),children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-5 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-4 md:col-span-2",children:[s.jsxs("h4",{className:"flex items-center gap-2 border-b pb-2 text-sm font-bold uppercase tracking-wider text-muted-foreground",children:[s.jsx(Re,{className:"text-primary"})," Road Classification"]}),s.jsx(Ri,{label:"Select Road Type",name:"prop_road_typ_id",data:v})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"flex items-center gap-2 border-b pb-2 text-sm font-bold uppercase tracking-wider text-muted-foreground",children:[s.jsx(ze,{className:"text-primary"})," Measurement Range"]}),s.jsx(Ni,{label:"Range From (sq. ft.)",name:"range_from_sqft",placeholder:"0.00"}),s.jsx(Ni,{label:"Range Upto (sq. ft.)",name:"range_upto_sqft",placeholder:"Leave blank for no limit"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"flex items-center gap-2 border-b pb-2 text-sm font-bold uppercase tracking-wider text-muted-foreground",children:[s.jsx(se,{className:"text-primary"})," Validity"]}),s.jsx(Ni,{label:"Effective Date",name:"effective_date",type:"date"})]})]}),s.jsx(tl,{className:"opacity-50"}),s.jsx("div",{className:"flex items-center justify-end gap-3",children:s.jsx(wi,{isLoading:f,type:"submit",className:"h-11 rounded-xl bg-primary px-10 text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:i?"Update Entry":"Save Entry"})})]})})})})}function ao(){var t,a;const r=m(),[i,l]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,v]=e.useState(null),j=ii({key:"api_getRoadTypesApiList",api:Nr.api_getRoadTypesApiList,options:{enabled:!0}}),b=(null==(a=null==(t=null==j?void 0:j.data)?void 0:t.data)?void 0:a.filter(e=>{var t,s,a;return(null==(t=null==e?void 0:e.prop_road_typ_id)?void 0:t.toString().includes(o))||(null==(s=null==e?void 0:e.range_from_sqft)?void 0:s.toString().includes(o))||(null==(a=null==e?void 0:e.range_upto_sqft)?void 0:a.toString().includes(o))}))||[],y=i*n,N=y-n,w=b.slice(N,y);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(sr,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Road Type List Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[b.length," Entries Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search by ID or Range...",value:o,onChange:e=>{u(e.target.value),l(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(sr,{type:"button",onClick:()=>{g(!1),v(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New Entry"]})]})]})}),s.jsxs(ui,{className:"p-0",children:[j.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading road type list..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(mi,{children:[s.jsx(xi,{children:s.jsxs(hi,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(gi,{className:"w-16 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Road Type ID"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"SQFT Range"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Effective Date"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(pi,{children:s.jsx(I,{children:w.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:N+t+1})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 min-w-[40px] items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(Re,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-bold leading-tight text-foreground",children:["Type ID: #",null==e?void 0:e.prop_road_typ_id]}),s.jsxs("p",{className:"text-[10px] font-bold uppercase text-muted-foreground",children:["Record #",e.id]})]})]})}),s.jsx(fi,{className:"py-4",children:s.jsx("div",{className:"flex flex-wrap items-center gap-2",children:s.jsxs(Ul,{variant:"secondary",className:"flex items-center gap-1.5 py-1",children:[s.jsx(Be,{className:"h-3 w-3 opacity-70"}),e.range_from_sqft," -"," ",e.range_upto_sqft||""," SQFT"]})})}),s.jsx(fi,{className:"py-4",children:s.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:null==e?void 0:e.effective_date})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsxs("span",{className:Oa("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(z,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Suspended"]})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>{v(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(D,{className:"h-4 w-4"})}),s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>{Zr("Delete Entry","Are you sure you want to delete this road type entry?",async()=>{c.success("UI Only: Deleted successfully (API disabled)"),j.refetch()})},className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(Di,{checked:1===e.is_suspended,onCheckedChange:()=>(c.success("UI Only: Status toggled (API disabled)"),void j.refetch())})})})]},e.id))})})]}),b.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(ji,{currentPage:i,totalItems:b.length,itemsPerPage:n,onPageChange:e=>{l(e)},onItemsPerPageChange:e=>{d(e),l(1)}})})]}),!j.isLoading&&0===b.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Re,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No entries found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No road type list entries have been configured yet."}),!o&&s.jsxs(sr,{className:"mt-6",onClick:()=>{g(!1),v(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add Entry"]})]})]})]}),s.jsx(so,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:j.refetch})]})})}function ro(){return s.jsx(ri,{title:"Road Type List Master",children:s.jsx(ao,{})})}const io=Ea().shape({prop_road_type_id:Ua().typeError("Road type is required").required("Road type is required"),ulb_type_id:Ua().typeError("ULB type is required").required("ULB type is required"),rate:Da().required("Rate is required").matches(/^\d+(\.\d{1,2})?$/,"Enter a valid rate (e.g. 2.50)"),effective_date:Da().required("Effective date is required")});function lo({open:t,setOpen:a,title:r,edit:i,setEdit:l,id:n,refetch:d,editData:o}){var u,m;const x=ii({key:"api_getRoadApiList",api:Nr.api_getRoadApiList,options:{}}),p=w({defaultValues:{prop_road_type_id:void 0,ulb_type_id:void 0,rate:"",effective_date:""},resolver:k(io)}),{reset:h,handleSubmit:g,formState:{isSubmitting:f}}=p;e.useEffect(()=>{t&&h(i&&o?{prop_road_type_id:o.prop_road_type_id,ulb_type_id:o.ulb_type_id,rate:o.rate||"",effective_date:o.effective_date||""}:{prop_road_type_id:void 0,ulb_type_id:void 0,rate:"",effective_date:(new Date).toISOString().split("T")[0]})},[t,i,o,h]);const v=(null==(m=null==(u=null==x?void 0:x.data)?void 0:u.data)?void 0:m.map(e=>({value:e.id.toString(),label:e.road_type})))||[];return s.jsx(sl,{open:t,setOpen:a,title:r||(i?"Edit Vacant Rental Rate":"Add Vacant Rental Rate"),setEdit:l,edit:i,children:s.jsx("div",{className:"p-1",children:s.jsx(bi,{methods:p,onSubmit:g(async e=>{c.success(`UI Only: Vacant rental rate ${i?"updated":"added"} successfully (API disabled)`),a(!1),l&&l(!1),d&&d()}),children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-5 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-4 md:col-span-2",children:[s.jsxs("h4",{className:"flex items-center gap-2 border-b pb-2 text-sm font-bold uppercase tracking-wider text-muted-foreground",children:[s.jsx(G,{className:"text-primary"})," ULB & Road Info"]}),s.jsxs("div",{className:"grid grid-cols-1 gap-5 md:grid-cols-2",children:[s.jsx(Ri,{label:"ULB Type",name:"ulb_type_id",data:[{value:"1",label:"Municipal Corporation"},{value:"2",label:"Municipality"},{value:"3",label:"Nagar Panchayat"}]}),s.jsx(Ri,{label:"Road Type",name:"prop_road_type_id",data:v})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"flex items-center gap-2 border-b pb-2 text-sm font-bold uppercase tracking-wider text-muted-foreground",children:[s.jsx(Ue,{className:"text-primary"})," Rate Details"]}),s.jsx(Ni,{label:"Rate (per sq. ft.)",name:"rate",placeholder:"0.00"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"flex items-center gap-2 border-b pb-2 text-sm font-bold uppercase tracking-wider text-muted-foreground",children:[s.jsx(se,{className:"text-primary"})," Validity"]}),s.jsx(Ni,{label:"Effective Date",name:"effective_date",type:"date"})]})]}),s.jsx(tl,{className:"opacity-50"}),s.jsx("div",{className:"flex items-center justify-end gap-3",children:s.jsx(wi,{isLoading:f,type:"submit",className:"h-11 rounded-xl bg-primary px-10 text-sm font-bold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:i?"Update Rate Policy":"Save Rate Strategy"})})]})})})})}function no(){var t,a;const r=m(),[i,l]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,v]=e.useState(null),j=ii({key:"api_getVacantRentalRatesApiList",api:Nr.api_getVacantRentalRatesApiList,options:{enabled:!0}}),b=(null==(a=null==(t=null==j?void 0:j.data)?void 0:t.data)?void 0:a.filter(e=>{var t,s,a;return(null==(t=null==e?void 0:e.prop_road_type_id)?void 0:t.toString().includes(o))||(null==(s=null==e?void 0:e.ulb_type_id)?void 0:s.toString().includes(o))||(null==(a=null==e?void 0:e.rate)?void 0:a.toString().includes(o))}))||[],y=i*n,N=y-n,w=b.slice(N,y);return s.jsx("div",{className:"",children:s.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(sr,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]}),s.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Vacant Rental Rate Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[b.length," Specialized Rates"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search by ID or Rate...",value:o,onChange:e=>{u(e.target.value),l(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs(sr,{type:"button",onClick:()=>{g(!1),v(null),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New Rate"]})]})]})}),s.jsxs(ui,{className:"p-0",children:[j.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading specialized rates..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(mi,{children:[s.jsx(xi,{children:s.jsxs(hi,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(gi,{className:"w-16 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Entities (Road / ULB Type)"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Rental Rate"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Effective Date"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Suspend"})]})}),s.jsx(pi,{children:s.jsx(I,{children:w.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:N+t+1})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 min-w-[40px] items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:s.jsx(qe,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"flex items-center gap-1.5",children:s.jsxs(Ul,{variant:"outline",className:"text-[10px] font-bold",children:["Road ID: #",null==e?void 0:e.prop_road_type_id]})}),s.jsxs("div",{className:"text-[10px] font-bold uppercase text-muted-foreground",children:["ULB Type ID: ",null==e?void 0:e.ulb_type_id]})]})]})}),s.jsxs(fi,{className:"py-4",children:[s.jsxs("div",{className:"text-base font-bold text-primary",children:["",null==e?void 0:e.rate]}),s.jsx("p",{className:"text-[10px] text-muted-foreground",children:"per sq. ft. / month"})]}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[s.jsx(se,{className:"h-3 w-3 opacity-70"}),null==e?void 0:e.effective_date]})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsxs("span",{className:Oa("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(z,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Suspended"]})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>{v(e),g(!0),p(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:s.jsx(D,{className:"h-4 w-4"})}),s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>{Zr("Delete Policy","Are you sure you want to delete this vacant rental rate entry?",async()=>{c.success("UI Only: Deleted successfully (API disabled)"),j.refetch()})},className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(M,{className:"h-4 w-4"})})]})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(Di,{checked:1===e.is_suspended,onCheckedChange:()=>(c.success("UI Only: Status toggled (API disabled)"),void j.refetch())})})})]},e.id))})})]}),b.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(ji,{currentPage:i,totalItems:b.length,itemsPerPage:n,onPageChange:e=>{l(e)},onItemsPerPageChange:e=>{d(e),l(1)}})})]}),!j.isLoading&&0===b.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(qe,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No vacant rental rates found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No specialized rental rates have been configured for vacant properties."}),!o&&s.jsxs(sr,{className:"mt-6",onClick:()=>{g(!1),v(null),p(!0)},children:[s.jsx(L,{className:"mr-2 h-4 w-4"}),"Add Entry"]})]})]})]}),s.jsx(lo,{open:x,setOpen:p,edit:h,setEdit:g,id:null==f?void 0:f.id,editData:f,refetch:j.refetch})]})})}function oo(){return s.jsx(ri,{title:"Vacant Rental Rate Master",children:s.jsx(no,{})})}const co=Ea().shape({id:Ua().nullable(),workflowName:Da().required("Workflow Name is required"),moduleId:Ua().typeError("Module is required").required("Module is required")});function uo({open:t,setOpen:a,edit:r,setEdit:i,editData:l,refetch:n}){var d,o;const u=li({}),m=ii({api:kr.userManagementModuleList,key:"userManagementModuleList",options:{enabled:t}}),x=w({defaultValues:{id:void 0,workflowName:"",moduleId:void 0},resolver:k(co)}),{reset:p,handleSubmit:h,formState:{isSubmitting:g}}=x;e.useEffect(()=>{t&&p(r&&l?{id:l.id,workflowName:l.workflow_name,moduleId:l.module_id}:{id:void 0,workflowName:"",moduleId:void 0})},[t,r,l,p]);const f=(null==(o=null==(d=null==m?void 0:m.data)?void 0:d.data)?void 0:o.map(e=>({value:e.id.toString(),label:e.module_name})))||[];return s.jsx(sl,{open:t,setOpen:a,title:r?"Update Workflow":"Add New Workflow",setEdit:i,edit:r,children:s.jsx("div",{className:"p-1",children:s.jsx(bi,{methods:x,onSubmit:h(async e=>{var t,s,l;try{const d=r?wr.workflowUpdate:wr.workflowAdd,o=await u.mutateAsync({api:d,data:e});(null==(t=null==o?void 0:o.data)?void 0:t.status)?(c.success((null==(s=null==o?void 0:o.data)?void 0:s.message)||`Workflow ${r?"updated":"added"} successfully`),a(!1),i&&i(!1),n()):c.error((null==(l=null==o?void 0:o.data)?void 0:l.message)||"Something went wrong")}catch(d){c.error(Sr(d))}}),children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"flex items-center gap-3 rounded-xl bg-primary/5 p-4 text-primary",children:[s.jsx(T,{size:20}),s.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider",children:"Workflow Configuration"})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsx(Ni,{label:"Workflow Name",name:"workflowName",placeholder:"e.g. RIG MACHINE"}),s.jsx(Ri,{label:"Assign to Module",name:"moduleId",data:f})]})]}),s.jsx("div",{className:"flex items-center justify-end gap-3 border-t pt-4",children:s.jsx(wi,{isLoading:g,type:"submit",className:"h-11 rounded-xl bg-primary px-8 text-sm font-bold text-primary-foreground shadow-lg shadow-primary/20 transition-all hover:shadow-xl active:scale-95",children:r?"Update Workflow":"Create Workflow"})})]})})})})}function mo(){var t,a;const[r,i]=e.useState(1),[l,n]=e.useState(10),[d,o]=e.useState(""),u=e.useRef(null),[m,x]=e.useState(!1),[p,h]=e.useState(!1),[g,f]=e.useState(null),v=ii({api:wr.workflowList,key:"workflowList",options:{enabled:!0}}),j=li({}),b=(null==(a=null==(t=null==v?void 0:v.data)?void 0:t.data)?void 0:a.filter(e=>{var t,s;return(null==(t=null==e?void 0:e.workflow_name)?void 0:t.toLowerCase().includes(d.toLowerCase()))||(null==(s=null==e?void 0:e.module_name)?void 0:s.toLowerCase().includes(d.toLowerCase()))}))||[],y=r*l,N=y-l,w=null==b?void 0:b.slice(N,y);return s.jsxs("div",{className:"mt-4",children:[s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-primary/10 text-primary",children:s.jsx(T,{size:24})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Workflow Master"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Define and manage system-wide workflow processes"})]})]}),s.jsxs("div",{className:"flex w-full flex-wrap items-center gap-3 lg:w-auto",children:[s.jsxs("div",{className:"relative flex-1 lg:min-w-[300px]",children:[s.jsx(C,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground"}),s.jsx("input",{ref:u,type:"text",placeholder:"Search workflow or module (Alt+S)...",className:"h-10 w-full rounded-xl border border-input bg-background pl-10 pr-4 text-sm ring-offset-background transition-all focus:outline-none focus:ring-2 focus:ring-primary/20",value:d,onChange:e=>o(e.target.value)})]}),s.jsxs(sr,{onClick:()=>{f(null),h(!1),x(!0)},className:"h-10 gap-2 rounded-xl bg-primary px-4 font-semibold text-primary-foreground shadow-lg shadow-primary/20 transition-all hover:shadow-xl active:scale-95",children:[s.jsx(L,{size:14}),s.jsx("span",{children:"Add Workflow"})]})]})]})}),s.jsx("div",{className:"relative",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(mi,{children:[s.jsx(xi,{className:"bg-muted/50",children:s.jsxs(hi,{className:"hover:bg-transparent",children:[s.jsx(gi,{className:"w-[80px] font-bold",children:"SL. No."}),s.jsx(gi,{className:"font-bold",children:"Workflow Name"}),s.jsx(gi,{className:"font-bold",children:"Module Name"}),s.jsx(gi,{className:"text-center font-bold",children:"Created At"}),s.jsx(gi,{className:"text-right font-bold",children:"Actions"})]})}),s.jsx(pi,{className:"px-4",children:s.jsx(I,{mode:"wait",children:(null==v?void 0:v.isLoading)?s.jsx(hi,{children:s.jsx(fi,{colSpan:5,className:"h-48 text-center",children:s.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[s.jsx(vi,{}),s.jsx("p",{className:"animate-pulse text-sm text-muted-foreground",children:"Loading workflows..."})]})})}):0===w.length?s.jsx(hi,{children:s.jsx(fi,{colSpan:5,className:"h-48 text-center",children:s.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 opacity-50",children:[s.jsx(T,{size:50,className:"text-muted-foreground"}),s.jsx("p",{className:"font-medium text-muted-foreground",children:"No workflows found"})]})})}):w.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{delay:.05*t},className:"group border-b transition-colors hover:bg-muted/30",children:[s.jsx(fi,{className:"font-medium p-4",children:(r-1)*l+t+1}),s.jsx(fi,{children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-bold text-foreground",children:e.workflow_name}),s.jsxs("span",{className:"text-[10px] uppercase tracking-wider text-muted-foreground",children:["ID: #",e.id]})]})}),s.jsx(fi,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex h-7 w-7 items-center justify-center rounded-lg bg-blue-100/50 text-blue-600 dark:bg-blue-900/20",children:s.jsx(H,{size:12})}),s.jsx("span",{className:"font-semibold",children:e.module_name})]})}),s.jsx(fi,{className:"text-center text-sm italic text-muted-foreground",children:e.created_at||"N/A"}),s.jsx(fi,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>(e=>{f(e),h(!0),x(!0)})(e),className:"h-8 w-8 rounded-lg text-blue-600 hover:bg-blue-50 hover:text-blue-700 dark:hover:bg-blue-900/30",title:"Edit",children:s.jsx(D,{size:14})}),s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>(async e=>{Zr("Are you sure?","Do you want to delete this workflow?",async()=>{var t,s,a;try{const r=await j.mutateAsync({api:wr.workflowDelete,data:{id:e}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Workflow deleted successfully"),v.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete workflow")}catch(r){c.error(Sr(r))}})})(e.id),className:"h-8 w-8 rounded-lg text-red-600 hover:bg-red-50 hover:text-red-700 dark:hover:bg-red-900/30",title:"Delete",children:s.jsx(M,{size:14})})]})})]},e.id))})})]})})}),!(null==v?void 0:v.isLoading)&&b.length>0&&s.jsx("div",{className:"border-t bg-muted/10 p-4",children:s.jsx(ji,{currentPage:r,onPageChange:e=>{i(e)},itemsPerPage:l,onItemsPerPageChange:e=>{n(e),i(1)},totalItems:b.length})})]})}),s.jsx(uo,{open:m,setOpen:x,edit:p,setEdit:h,editData:g,refetch:v.refetch})]})}const xo=Ea().shape({id:Ua().nullable(),ulbId:Ua().typeError("ULB is required").required("ULB is required"),wfMasterId:Ua().typeError("Workflow is required").required("Workflow is required"),altName:Da().nullable(),initiatorRoleId:Ua().typeError("Initiator Role is required").required("Initiator Role is required"),finisherRoleId:Ua().typeError("Finisher Role is required").required("Finisher Role is required"),isDocRequired:Ma().nullable()});function po({open:t,setOpen:a,edit:r,setEdit:i,editData:l,refetch:n}){var d,o,u,m,x,p;const h=li({}),g=ii({api:Nr.api_getUlbList,key:"api_getUlbList",options:{enabled:t}}),f=ii({api:wr.workflowList,key:"workflowList",options:{enabled:t}}),j=ii({api:wr.allRole,key:"allRoleList",options:{enabled:t}}),b=w({defaultValues:{id:void 0,ulbId:void 0,wfMasterId:void 0,altName:"",initiatorRoleId:void 0,finisherRoleId:void 0,isDocRequired:!1},resolver:k(xo)}),{reset:y,handleSubmit:N,control:_,formState:{isSubmitting:S}}=b;e.useEffect(()=>{t&&y(r&&l?{id:l.id,ulbId:l.ulb_id,wfMasterId:l.wf_master_id,altName:l.alt_name||"",initiatorRoleId:l.initiator_role_id,finisherRoleId:l.finisher_role_id,isDocRequired:Boolean(l.is_doc_required)}:{id:void 0,ulbId:void 0,wfMasterId:void 0,altName:"",initiatorRoleId:void 0,finisherRoleId:void 0,isDocRequired:!1})},[t,r,l,y]);const A=(null==(o=null==(d=null==g?void 0:g.data)?void 0:d.data)?void 0:o.map(e=>({value:e.id.toString(),label:e.ulb_name})))||[],C=(null==(m=null==(u=null==f?void 0:f.data)?void 0:u.data)?void 0:m.map(e=>({value:e.id.toString(),label:e.workflow_name})))||[],L=(null==(p=null==(x=null==j?void 0:j.data)?void 0:x.data)?void 0:p.map(e=>({value:e.id.toString(),label:e.role_name})))||[];return s.jsx(sl,{open:t,setOpen:a,title:r?"Edit ULB Workflow":"Add ULB Workflow",setEdit:i,edit:r,children:s.jsx("div",{className:"p-2",children:s.jsx(bi,{methods:b,onSubmit:N(async e=>{var t,s,l;try{const d=r?wr.ulbWfUpdate:wr.ulbWfAdd,o={...e,isDocRequired:e.isDocRequired?"true":"false"},u=await h.mutateAsync({api:d,data:o});(null==(t=null==u?void 0:u.data)?void 0:t.status)?(c.success((null==(s=null==u?void 0:u.data)?void 0:s.message)||`ULB Workflow ${r?"updated":"added"} successfully`),a(!1),i&&i(!1),n()):c.error((null==(l=null==u?void 0:u.data)?void 0:l.message)||"Something went wrong")}catch(d){c.error(Sr(d))}}),children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-5 md:grid-cols-2",children:[s.jsx(Ri,{label:"ULB Name",name:"ulbId",data:A}),s.jsx(Ri,{label:"Workflow Name",name:"wfMasterId",data:C})]}),s.jsx(Ni,{label:"Alternate Name (Optional)",name:"altName",placeholder:"Enter alternate name if any..."}),s.jsxs("div",{className:"grid grid-cols-1 gap-5 md:grid-cols-2",children:[s.jsx(Ri,{label:"Initiator Role Name",name:"initiatorRoleId",data:L}),s.jsx(Ri,{label:"Finisher Role Name",name:"finisherRoleId",data:L})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-700 dark:text-gray-200",children:"Is Document Required?"}),s.jsx(v,{name:"isDocRequired",control:_,render:({field:e})=>s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("label",{className:"group flex cursor-pointer items-center gap-2",children:[s.jsx("div",{className:"flex h-5 w-5 items-center justify-center rounded-full border-2 transition-all "+(!0===e.value?"border-primary bg-primary shadow-lg shadow-primary/20":"border-slate-300 dark:border-slate-600"),children:!0===e.value&&s.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-white"})}),s.jsx("input",{type:"radio",className:"hidden",checked:!0===e.value,onChange:()=>e.onChange(!0)}),s.jsx("span",{className:"text-sm font-bold "+(!0===e.value?"text-primary":"text-muted-foreground"),children:"Yes"})]}),s.jsxs("label",{className:"group flex cursor-pointer items-center gap-2",children:[s.jsx("div",{className:"flex h-5 w-5 items-center justify-center rounded-full border-2 transition-all "+(!1===e.value?"border-slate-700 bg-slate-700 dark:border-slate-300 dark:bg-slate-300":"border-slate-300 dark:border-slate-600"),children:!1===e.value&&s.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-white dark:bg-slate-900"})}),s.jsx("input",{type:"radio",className:"hidden",checked:!1===e.value,onChange:()=>e.onChange(!1)}),s.jsx("span",{className:"text-sm font-bold "+(!1===e.value?"text-slate-800 dark:text-slate-200":"text-muted-foreground"),children:"No"})]})]})})]})]})}),s.jsx("div",{className:"flex items-center justify-end gap-3 border-t pt-5",children:s.jsx(wi,{isLoading:S,type:"submit",className:"h-12 rounded-2xl bg-primary px-10 text-sm font-black uppercase tracking-widest text-primary-foreground shadow-xl shadow-primary/20 transition-all hover:bg-primary/90 active:scale-[0.98]",children:r?"Update Assignment":"Assign Workflow"})})]})})})})}function ho(){var t,a;const[r,i]=e.useState(1),[l,n]=e.useState(10),[d,o]=e.useState(""),u=e.useRef(null),[m,x]=e.useState(!1),[p,h]=e.useState(!1),[g,f]=e.useState(null),v=ii({api:wr.ulbWfList,key:"ulbWfList",options:{enabled:!0}}),j=li({}),b=(null==(a=null==(t=null==v?void 0:v.data)?void 0:t.data)?void 0:a.filter(e=>{var t,s,a;return(null==(t=null==e?void 0:e.workflow_name)?void 0:t.toLowerCase().includes(d.toLowerCase()))||(null==(s=null==e?void 0:e.ulb_name)?void 0:s.toLowerCase().includes(d.toLowerCase()))||(null==(a=null==e?void 0:e.alt_name)?void 0:a.toLowerCase().includes(d.toLowerCase()))}))||[],y=r*l,N=y-l,w=null==b?void 0:b.slice(N,y);return s.jsxs("div",{className:"mt-4",children:[s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-blue-600/10 text-blue-600",children:s.jsx(Ce,{size:24})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"ULB Workflow Management"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Assign and customize workflows for specific ULBs"})]})]}),s.jsxs("div",{className:"flex w-full flex-wrap items-center gap-3 lg:w-auto",children:[s.jsxs("div",{className:"relative flex-1 lg:min-w-[300px]",children:[s.jsx(C,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground"}),s.jsx("input",{ref:u,type:"text",placeholder:"Search workflow, ULB or alt name...",className:"h-10 w-full rounded-xl border border-input bg-background pl-10 pr-4 text-sm ring-offset-background transition-all focus:outline-none focus:ring-2 focus:ring-primary/20",value:d,onChange:e=>o(e.target.value)})]}),s.jsxs(sr,{onClick:()=>{f(null),h(!1),x(!0)},className:"h-10 gap-2 rounded-xl bg-primary px-4 font-semibold text-white shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{size:14}),s.jsx("span",{children:"Add ULB Workflow"})]})]})]})}),s.jsx("div",{className:"relative",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(mi,{children:[s.jsx(xi,{className:"bg-muted/40",children:s.jsxs(hi,{className:"border-b text-center hover:bg-transparent",children:[s.jsx(gi,{className:"w-[80px] px-6 py-4 text-center text-[11px] font-bold uppercase tracking-wider text-muted-foreground",children:"SL."}),s.jsx(gi,{className:"px-6 py-4 text-left text-[11px] font-bold uppercase tracking-wider text-muted-foreground",children:"ULB & Workflow"}),s.jsx(gi,{className:"px-6 py-4 text-left text-[11px] font-bold uppercase tracking-wider text-muted-foreground",children:"Alternate Name"}),s.jsx(gi,{className:"px-6 py-4 text-center text-[11px] font-bold uppercase tracking-wider text-muted-foreground",children:"Roles (Init/Fin)"}),s.jsx(gi,{className:"px-6 py-4 text-center text-[11px] font-bold uppercase tracking-wider text-muted-foreground",children:"Doc Required"}),s.jsx(gi,{className:"px-6 py-4 text-right text-[11px] font-bold uppercase tracking-wider text-muted-foreground",children:"Actions"})]})}),s.jsx(pi,{children:s.jsx(I,{mode:"wait",children:(null==v?void 0:v.isLoading)?s.jsx(hi,{children:s.jsx(fi,{colSpan:6,className:"h-64 border-none text-center",children:s.jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[s.jsx(vi,{}),s.jsx("p",{className:"animate-pulse text-sm font-medium text-muted-foreground",children:"Fetching ULB workflows..."})]})})}):0===w.length?s.jsx(hi,{children:s.jsx(fi,{colSpan:6,className:"h-64 border-none text-center",children:s.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 opacity-40",children:[s.jsx(Ce,{size:48,className:"text-muted-foreground"}),s.jsx("p",{className:"text-lg font-semibold text-muted-foreground",children:"No ULB workflows found"})]})})}):w.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,scale:.98},transition:{delay:.04*t,duration:.2},className:"group border-b transition-all last:border-0 hover:bg-muted/40",children:[s.jsx(fi,{className:"px-6 py-5 text-center font-semibold text-muted-foreground",children:(r-1)*l+t+1}),s.jsx(fi,{className:"px-6 py-5",children:s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"rounded bg-blue-100 px-1.5 py-0.5 text-[10px] font-bold uppercase text-blue-600",children:"ULB"}),s.jsx("span",{className:"text-sm font-bold text-foreground",children:e.ulb_name})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"rounded bg-slate-100 px-1.5 py-0.5 text-[10px] font-bold uppercase text-slate-600",children:"WF"}),s.jsx("span",{className:"text-xs font-semibold text-muted-foreground",children:e.workflow_name})]})]})}),s.jsx(fi,{className:"px-6 py-5",children:s.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:e.alt_name||"-"})}),s.jsx(fi,{className:"px-6 py-5 text-center",children:s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsx("div",{className:"flex h-7 w-7 items-center justify-center rounded-full bg-emerald-100 text-emerald-600 shadow-sm",title:`Initiator: ${e.initiator_role_name}`,children:s.jsx(F,{size:12})}),s.jsx("span",{className:"max-w-[80px] truncate text-[9px] font-black uppercase tracking-tighter text-muted-foreground",children:e.initiator_role_name||"--"})]}),s.jsx("div",{className:"h-4 w-[1px] rotate-12 bg-border"}),s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsx("div",{className:"flex h-7 w-7 items-center justify-center rounded-full bg-violet-100 text-violet-600 shadow-sm",title:`Finisher: ${e.finisher_role_name}`,children:s.jsx(F,{size:12})}),s.jsx("span",{className:"max-w-[90px] truncate text-[9px] font-black uppercase tracking-tighter text-muted-foreground",children:e.finisher_role_name||"--"})]})]})}),s.jsx(fi,{className:"px-6 py-5 text-center",children:s.jsx("div",{className:"inline-flex items-center gap-1 rounded-full px-2.5 py-1 text-[11px] font-bold "+(e.is_doc_required?"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400":"bg-slate-100 text-slate-600 dark:bg-slate-800"),children:e.is_doc_required?s.jsxs(s.Fragment,{children:[s.jsx(te,{size:10}),s.jsx("span",{children:"Yes"})]}):s.jsx("span",{children:"No"})})}),s.jsx(fi,{className:"px-6 py-5 text-right",children:s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>(e=>{f(e),h(!0),x(!0)})(e),className:"h-9 w-9 rounded-xl border border-blue-100 bg-blue-50 text-blue-600 shadow-sm transition-all hover:bg-blue-600 hover:text-white active:scale-90 dark:border-blue-900/30 dark:bg-blue-900/20",title:"Edit",children:s.jsx(D,{size:14})}),s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>(async e=>{Zr("Are you sure?","Do you want to delete this ULB workflow?",async()=>{var t,s,a;try{const r=await j.mutateAsync({api:wr.ulbWfDelete,data:{id:e}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"ULB Workflow deleted successfully"),v.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete ULB workflow")}catch(r){c.error(Sr(r))}})})(e.id),className:"h-9 w-9 rounded-xl border border-red-100 bg-red-50 text-red-600 shadow-sm transition-all hover:bg-red-600 hover:text-white active:scale-90 dark:border-red-900/30 dark:bg-red-900/20",title:"Delete",children:s.jsx(M,{size:14})})]})})]},e.id))})})]})})}),!(null==v?void 0:v.isLoading)&&b.length>0&&s.jsx("div",{className:"border-t bg-muted/10 p-4",children:s.jsx(ji,{currentPage:r,onPageChange:e=>{i(e)},itemsPerPage:l,onItemsPerPageChange:e=>{n(e),i(1)},totalItems:b.length})})]})}),s.jsx(po,{open:m,setOpen:x,edit:p,setEdit:h,editData:g,refetch:v.refetch})]})}const go=Ea().shape({id:Ua().nullable(),workflowName:Da().required("Workflow Name is required"),roleName:Da().required("Role Name is required"),fdRoleName:Da().nullable(),bdRoleName:Da().nullable(),isInitiator:Ma().default(!1),isFinisher:Ma().default(!1),isBtc:Ma().default(!1),canViewDocument:Ma().default(!1),canUploadDocument:Ma().default(!1),canVerifyDocument:Ma().default(!1),allowFreeCommunication:Ma().default(!1),allowFullList:Ma().default(!1),canEscalate:Ma().default(!1),canForward:Ma().default(!1),canBackward:Ma().default(!1),isPseudo:Ma().default(!1),showFieldVerification:Ma().default(!1),serialNo:Ua().typeError("Serial No must be a number").required("Serial No is required")});function fo({open:t,setOpen:a,edit:r,setEdit:i,editData:l,refetch:n}){var d,o,u,m;const x=li({}),p=ii({api:wr.workflowList,key:"workflowList",options:{enabled:t}}),h=ii({api:wr.allRole,key:"roleList",options:{enabled:t}}),g=w({defaultValues:{id:void 0,workflowName:"",roleName:"",fdRoleName:"",bdRoleName:"",isInitiator:!1,isFinisher:!1,isBtc:!1,canViewDocument:!1,canUploadDocument:!1,canVerifyDocument:!1,allowFreeCommunication:!1,allowFullList:!1,canEscalate:!1,canForward:!1,canBackward:!1,isPseudo:!1,showFieldVerification:!1,serialNo:0},resolver:k(go)}),{reset:f,handleSubmit:v,formState:{isSubmitting:j}}=g;e.useEffect(()=>{var e,s,a,i;t&&f(r&&l?{id:l.id,workflowName:null==(e=l.workflow_id)?void 0:e.toString(),roleName:null==(s=l.wf_role_id)?void 0:s.toString(),fdRoleName:(null==(a=l.forward_role_id)?void 0:a.toString())||"",bdRoleName:(null==(i=l.backward_role_id)?void 0:i.toString())||"",isInitiator:l.is_initiator,isFinisher:l.is_finisher,isBtc:l.is_btc,canViewDocument:l.can_view_document,canUploadDocument:l.can_upload_document,canVerifyDocument:l.can_verify_document,allowFreeCommunication:l.allow_free_communication,allowFullList:l.allow_full_list,canEscalate:l.can_escalate,canForward:l.can_forward,canBackward:l.can_backward,isPseudo:l.is_pseudo,showFieldVerification:l.show_field_verification,serialNo:l.serial_no}:{id:void 0,workflowName:"",roleName:"",fdRoleName:"",bdRoleName:"",isInitiator:!1,isFinisher:!1,isBtc:!1,canViewDocument:!1,canUploadDocument:!1,canVerifyDocument:!1,allowFreeCommunication:!1,allowFullList:!1,canEscalate:!1,canForward:!1,canBackward:!1,isPseudo:!1,showFieldVerification:!1,serialNo:0})},[t,r,l,f]);const b=(null==(o=null==(d=null==p?void 0:p.data)?void 0:d.data)?void 0:o.map(e=>({value:e.id.toString(),label:e.workflow_name})))||[],y=(null==(m=null==(u=null==h?void 0:h.data)?void 0:u.data)?void 0:m.map(e=>({value:e.id.toString(),label:e.role_name})))||[];return s.jsx(sl,{open:t,setOpen:a,title:r?"Update Role Map":"Add New Role Map",setEdit:i,edit:r,children:s.jsx("div",{className:"p-1",children:s.jsx(bi,{methods:g,onSubmit:v(async e=>{var t,s,l;try{const d=r?wr.wfRoleUpdate:wr.wfRoleAdd,o={id:r?e.id:void 0,workflowId:Number(e.workflowName),wfRoleId:Number(e.roleName),forwardRoleId:e.fdRoleName?Number(e.fdRoleName):null,backwardRoleId:e.bdRoleName?Number(e.bdRoleName):null,isInitiator:e.isInitiator,isFinisher:e.isFinisher,isBtc:e.isBtc,canViewDocument:e.canViewDocument,canUploadDocument:e.canUploadDocument,canVerifyDocument:e.canVerifyDocument,allowFreeCommunication:e.allowFreeCommunication,allowFullList:e.allowFullList,canEscalate:e.canEscalate,canForward:e.canForward,canBackward:e.canBackward,isPseudo:e.isPseudo,showFieldVerification:e.showFieldVerification,serialNo:Number(e.serialNo)},u=await x.mutateAsync({api:d,data:o});(null==(t=null==u?void 0:u.data)?void 0:t.status)?(c.success((null==(s=null==u?void 0:u.data)?void 0:s.message)||`Workflow Map ${r?"updated":"added"} successfully`),a(!1),i&&i(!1),n()):c.error((null==(l=null==u?void 0:u.data)?void 0:l.message)||"Something went wrong")}catch(d){c.error(Sr(d))}}),children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-5 md:grid-cols-2",children:[s.jsx(Ri,{label:"Workflow",name:"workflowName",data:b}),s.jsx(Ri,{label:"Role",name:"roleName",data:y}),s.jsx(Ri,{label:"Forward Role",name:"fdRoleName",data:y}),s.jsx(Ri,{label:"Backward Role",name:"bdRoleName",data:y}),s.jsx(Ni,{label:"Serial No",name:"serialNo",type:"number",placeholder:"e.g. 1"})]}),s.jsxs("div",{className:"rounded-xl bg-muted/30 p-4",children:[s.jsx("p",{className:"mb-4 text-xs font-bold uppercase tracking-wider text-muted-foreground",children:"Permissions & Controls"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-3 lg:grid-cols-4",children:[s.jsx(Mi,{label:"Is Initiator",name:"isInitiator"}),s.jsx(Mi,{label:"Is Finisher",name:"isFinisher"}),s.jsx(Mi,{label:"Is BTC",name:"isBtc"}),s.jsx(Mi,{label:"Is Pseudo",name:"isPseudo"}),s.jsx(Mi,{label:"Can View Docs",name:"canViewDocument"}),s.jsx(Mi,{label:"Can Upload Docs",name:"canUploadDocument"}),s.jsx(Mi,{label:"Can Verify Docs",name:"canVerifyDocument"}),s.jsx(Mi,{label:"Can Forward",name:"canForward"}),s.jsx(Mi,{label:"Can Backward",name:"canBackward"}),s.jsx(Mi,{label:"Can Escalate",name:"canEscalate"}),s.jsx(Mi,{label:"Free Comm.",name:"allowFreeCommunication"}),s.jsx(Mi,{label:"Full List",name:"allowFullList"}),s.jsx(Mi,{label:"Show Field Verif.",name:"showFieldVerification"})]})]}),s.jsx("div",{className:"flex items-center justify-end gap-3 border-t pt-4",children:s.jsx(wi,{isLoading:j,type:"submit",className:"h-11 rounded-xl bg-violet-600 px-8 text-sm font-bold text-white shadow-lg shadow-violet-600/20 transition-all hover:bg-violet-700 active:scale-95",children:r?"Update Map":"Create Map"})})]})})})})}function vo(){var t,a;const[r,i]=e.useState(1),[l,n]=e.useState(10),[d,o]=e.useState(""),u=e.useRef(null),[m,x]=e.useState(!1),[p,h]=e.useState(!1),[g,f]=e.useState(null),v=ii({api:wr.wfRoleList,key:"wfRoleList",options:{enabled:!0}}),j=li({}),b=(null==(a=null==(t=null==v?void 0:v.data)?void 0:t.data)?void 0:a.filter(e=>{var t,s,a;return(null==(t=null==e?void 0:e.role_name)?void 0:t.toLowerCase().includes(d.toLowerCase()))||(null==(s=null==e?void 0:e.workflow_name)?void 0:s.toLowerCase().includes(d.toLowerCase()))||(null==(a=null==e?void 0:e.ulb_name)?void 0:a.toLowerCase().includes(d.toLowerCase()))}))||[],y=r*l,N=y-l,w=null==b?void 0:b.slice(N,y);return s.jsxs("div",{className:"mt-4",children:[s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-violet-100 text-violet-600 dark:bg-violet-900/20",children:s.jsx(Q,{size:24})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Workflow Role Mapping"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Define workflow steps and role permissions"})]})]}),s.jsxs("div",{className:"flex w-full flex-wrap items-center gap-3 lg:w-auto",children:[s.jsxs("div",{className:"relative flex-1 lg:min-w-[300px]",children:[s.jsx(C,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground"}),s.jsx("input",{ref:u,type:"text",placeholder:"Search role, workflow or ULB...",className:"h-10 w-full rounded-xl border border-input bg-background pl-10 pr-4 text-sm ring-offset-background transition-all focus:outline-none focus:ring-2 focus:ring-violet-500/20",value:d,onChange:e=>o(e.target.value)})]}),s.jsxs(sr,{onClick:()=>{f(null),h(!1),x(!0)},className:"h-10 gap-2 rounded-xl bg-violet-600 px-4 font-semibold text-white shadow-lg shadow-violet-600/20 transition-all hover:bg-violet-700 active:scale-95",children:[s.jsx(L,{size:14}),s.jsx("span",{children:"Add Role Map"})]})]})]})}),s.jsx("div",{className:"relative",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(mi,{children:[s.jsx(xi,{className:"bg-muted/50",children:s.jsxs(hi,{className:"hover:bg-transparent",children:[s.jsx(gi,{className:"w-[80px] font-bold",children:"SL. No."}),s.jsx(gi,{className:"font-bold",children:"Role Name"}),s.jsx(gi,{className:"font-bold",children:"Workflow & ULB"}),s.jsx(gi,{className:"font-bold",children:"Direction"}),s.jsx(gi,{className:"min-w-[600px] text-center font-bold",children:"Permissions"}),s.jsx(gi,{className:"text-right font-bold",children:"Actions"})]})}),s.jsx(pi,{className:"px-4",children:s.jsx(I,{mode:"wait",children:(null==v?void 0:v.isLoading)?s.jsx(hi,{children:s.jsx(fi,{colSpan:6,className:"h-48 text-center",children:s.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[s.jsx(vi,{}),s.jsx("p",{className:"animate-pulse text-sm text-muted-foreground",children:"Loading role maps..."})]})})}):0===w.length?s.jsx(hi,{children:s.jsx(fi,{colSpan:6,className:"h-48 text-center",children:s.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 opacity-50",children:[s.jsx(Q,{size:50,className:"text-muted-foreground"}),s.jsx("p",{className:"font-medium text-muted-foreground",children:"No role maps found"})]})})}):w.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{delay:.05*t},className:"group border-b transition-colors hover:bg-muted/30",children:[s.jsx(fi,{className:"p-4 font-medium",children:(r-1)*l+t+1}),s.jsx(fi,{children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-bold text-foreground",children:e.role_name}),s.jsxs("span",{className:"text-[10px] uppercase tracking-wider text-muted-foreground",children:["Step: #",e.serial_no]})]})}),s.jsx(fi,{children:s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Oe,{className:"text-violet-500",size:12}),s.jsx("span",{className:"text-xs font-semibold",children:e.workflow_name})]}),s.jsx("span",{className:"text-[10px] text-muted-foreground",children:e.ulb_name})]})}),s.jsx(fi,{children:s.jsxs("div",{className:"flex flex-col gap-1 text-[11px] font-medium",children:[e.forward_role_name&&s.jsxs("div",{className:"flex items-center gap-1 text-emerald-600",children:[s.jsx("span",{className:"rounded bg-emerald-100 px-1 py-0.5 dark:bg-emerald-900/30",children:"FWD:"}),e.forward_role_name]}),e.backward_role_name&&s.jsxs("div",{className:"flex items-center gap-1 text-rose-600",children:[s.jsx("span",{className:"rounded bg-rose-100 px-1 py-0.5 dark:bg-rose-900/30",children:"BWD:"}),e.backward_role_name]})]})}),s.jsx(fi,{children:s.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2 sm:grid-cols-3 md:grid-cols-4",children:[{label:"Is Initiator",value:e.is_initiator},{label:"Is Finisher",value:e.is_finisher},{label:"Is BTC",value:e.is_btc},{label:"View Document",value:e.can_view_document},{label:"Upload Document",value:e.can_upload_document},{label:"Verify Document",value:e.can_verify_document},{label:"Free Comm.",value:e.allow_free_communication},{label:"Full List",value:e.allow_full_list},{label:"Can Escalate",value:e.can_escalate},{label:"Pseudo User",value:e.is_pseudo},{label:"Can Forward",value:e.can_forward},{label:"Can Backward",value:e.can_backward},{label:"Field Verif.",value:e.show_field_verification}].map((e,t)=>s.jsxs("div",{className:"flex items-center justify-between gap-2 rounded border bg-background px-2 py-1 text-[10px]",children:[s.jsx("span",{className:"whitespace-nowrap font-medium text-muted-foreground",children:e.label}),s.jsx("span",{className:"font-bold "+(e.value?"text-green-600":"text-red-500"),children:e.value?"Yes":"No"})]},t))})}),s.jsx(fi,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>(e=>{f(e),h(!0),x(!0)})(e),className:"h-8 w-8 rounded-lg text-blue-600 hover:bg-blue-50 hover:text-blue-700 dark:hover:bg-blue-900/30",title:"Edit",children:s.jsx(D,{size:14})}),s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>(async e=>{Zr("Are you sure?","Do you want to delete this role map?",async()=>{var t,s,a;try{const r=await j.mutateAsync({api:wr.wfRoleDelete,data:{id:e}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Role map deleted successfully"),v.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete role map")}catch(r){c.error(Sr(r))}})})(e.id),className:"h-8 w-8 rounded-lg text-red-600 hover:bg-red-50 hover:text-red-700 dark:hover:bg-red-900/30",title:"Delete",children:s.jsx(M,{size:14})})]})})]},e.id))})})]})})}),!(null==v?void 0:v.isLoading)&&b.length>0&&s.jsx("div",{className:"border-t bg-muted/10 p-4",children:s.jsx(ji,{currentPage:r,onPageChange:e=>{i(e)},itemsPerPage:l,onItemsPerPageChange:e=>{n(e),i(1)},totalItems:b.length})})]})}),s.jsx(fo,{open:m,setOpen:x,edit:p,setEdit:h,editData:g,refetch:v.refetch})]})}const jo=Ea().shape({id:Ua().nullable(),roleName:Da().required("Role Name is required"),isSuspended:Ma().default(!1)});function bo({open:t,setOpen:a,edit:r,setEdit:i,editData:l,refetch:n}){const d=li({}),o=w({defaultValues:{id:void 0,roleName:"",isSuspended:!1},resolver:k(jo)}),{reset:u,handleSubmit:m,formState:{isSubmitting:x}}=o;e.useEffect(()=>{t&&u(r&&l?{id:l.id,roleName:l.role_name,isSuspended:l.is_suspended}:{id:void 0,roleName:"",isSuspended:!1})},[t,r,l,u]);return s.jsx(sl,{open:t,setOpen:a,title:r?"Update Workflow Role":"Add New Workflow Role",setEdit:i,edit:r,children:s.jsx("div",{className:"p-1",children:s.jsx(bi,{methods:o,onSubmit:m(async e=>{var t,s,l;try{const o=r?Nr.api_updateWorkflowRole:Nr.api_PostWorkflowRole,u={id:r?e.id:void 0,roleName:e.roleName,isSuspended:e.isSuspended},m=await d.mutateAsync({api:o,data:u});(null==(t=null==m?void 0:m.data)?void 0:t.status)?(c.success((null==(s=null==m?void 0:m.data)?void 0:s.message)||`Workflow Role ${r?"updated":"added"} successfully`),a(!1),i&&i(!1),n()):c.error((null==(l=null==m?void 0:m.data)?void 0:l.message)||"Something went wrong")}catch(o){c.error(Sr(o))}}),children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"flex items-center gap-3 rounded-xl bg-orange-100 p-4 text-orange-600 dark:bg-orange-900/20",children:[s.jsx(We,{size:20}),s.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider",children:"Role Configuration"})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsx(Ni,{label:"Role Name",name:"roleName",placeholder:"e.g. Developer"}),s.jsx(Mi,{label:"Is Suspended",name:"isSuspended"})]})]}),s.jsx("div",{className:"flex items-center justify-end gap-3 border-t pt-4",children:s.jsx(wi,{isLoading:x,type:"submit",className:"h-11 rounded-xl bg-violet-600 px-8 text-sm font-bold text-white shadow-lg shadow-violet-600/20 transition-all hover:bg-violet-700 active:scale-95",children:r?"Update Role":"Create Role"})})]})})})})}function yo(){var t,a;const[r,i]=e.useState(1),[l,n]=e.useState(10),[d,o]=e.useState(""),u=e.useRef(null),[m,x]=e.useState(!1),[p,h]=e.useState(!1),[g,f]=e.useState(null),v=ii({api:Nr.getWorkflowRole,key:"getWorkflowRole",options:{enabled:!0}}),j=li({}),b=(null==(a=null==(t=null==v?void 0:v.data)?void 0:t.data)?void 0:a.filter(e=>{var t;return null==(t=null==e?void 0:e.role_name)?void 0:t.toLowerCase().includes(d.toLowerCase())}))||[],y=r*l,N=y-l,w=null==b?void 0:b.slice(N,y);return s.jsxs("div",{className:"mt-4",children:[s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-orange-100 text-orange-600 dark:bg-orange-900/20",children:s.jsx(Ve,{size:24})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Workflow Roles"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Manage roles for workflow assignments"})]})]}),s.jsxs("div",{className:"flex w-full flex-wrap items-center gap-3 lg:w-auto",children:[s.jsxs("div",{className:"relative flex-1 lg:min-w-[300px]",children:[s.jsx(C,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground"}),s.jsx("input",{ref:u,type:"text",placeholder:"Search roles...",className:"h-10 w-full rounded-xl border border-input bg-background pl-10 pr-4 text-sm ring-offset-background transition-all focus:outline-none focus:ring-2 focus:ring-orange-500/20",value:d,onChange:e=>o(e.target.value)})]}),s.jsxs(sr,{onClick:()=>{f(null),h(!1),x(!0)},className:"h-10 gap-2 rounded-xl bg-orange-600 px-4 font-semibold text-white shadow-lg shadow-orange-600/20 transition-all hover:bg-orange-700 active:scale-95",children:[s.jsx(L,{size:14}),s.jsx("span",{children:"Add Role"})]})]})]})}),s.jsx("div",{className:"relative",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(mi,{children:[s.jsx(xi,{className:"bg-muted/50",children:s.jsxs(hi,{className:"hover:bg-transparent",children:[s.jsx(gi,{className:"w-[80px] font-bold",children:"SL. No."}),s.jsx(gi,{className:"font-bold",children:"Role Name"}),s.jsx(gi,{className:"font-bold",children:"Created By"}),s.jsx(gi,{className:"text-center font-bold",children:"Status"}),s.jsx(gi,{className:"text-right font-bold",children:"Actions"})]})}),s.jsx(pi,{className:"px-4",children:s.jsx(I,{mode:"wait",children:(null==v?void 0:v.isLoading)?s.jsx(hi,{children:s.jsx(fi,{colSpan:5,className:"h-48 text-center",children:s.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[s.jsx(vi,{}),s.jsx("p",{className:"animate-pulse text-sm text-muted-foreground",children:"Loading roles..."})]})})}):0===w.length?s.jsx(hi,{children:s.jsx(fi,{colSpan:5,className:"h-48 text-center",children:s.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 opacity-50",children:[s.jsx(We,{size:50,className:"text-muted-foreground"}),s.jsx("p",{className:"font-medium text-muted-foreground",children:"No workflow roles found"})]})})}):w.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{delay:.05*t},className:"group border-b transition-colors hover:bg-muted/30",children:[s.jsx(fi,{className:"p-4 font-medium",children:(r-1)*l+t+1}),s.jsx(fi,{children:s.jsx("span",{className:"font-bold text-foreground",children:e.role_name})}),s.jsx(fi,{children:s.jsx("span",{className:"text-sm text-muted-foreground",children:e.created_by})}),s.jsx(fi,{className:"text-center",children:s.jsx("span",{className:"inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium "+(e.is_suspended?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300":"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300"),children:e.is_suspended?"Suspended":"Active"})}),s.jsx(fi,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>(e=>{f(e),h(!0),x(!0)})(e),className:"h-8 w-8 rounded-lg text-blue-600 hover:bg-blue-50 hover:text-blue-700 dark:hover:bg-blue-900/30",title:"Edit",children:s.jsx(D,{size:14})}),s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>(async e=>{Zr("Are you sure?","Do you want to delete this role?",async()=>{var t,s,a;try{const r=await j.mutateAsync({api:Nr.api_deleteWorkflowRole,data:{id:e}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||"Role deleted successfully"),v.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete role")}catch(r){c.error(Sr(r))}})})(e.id),className:"h-8 w-8 rounded-lg text-red-600 hover:bg-red-50 hover:text-red-700 dark:hover:bg-red-900/30",title:"Delete",children:s.jsx(M,{size:14})})]})})]},e.id))})})]})})}),!(null==v?void 0:v.isLoading)&&b.length>0&&s.jsx("div",{className:"border-t bg-muted/10 p-4",children:s.jsx(ji,{currentPage:r,onPageChange:e=>{i(e)},itemsPerPage:l,onItemsPerPageChange:e=>{n(e),i(1)},totalItems:b.length})})]})}),s.jsx(bo,{open:m,setOpen:x,edit:p,setEdit:h,editData:g,refetch:v.refetch})]})}function No(){const[e,t]=_(),a=e.get("tab")||"workflow-master",r=[{id:"workflow-master",label:"Workflow Master",icon:s.jsx(T,{size:14}),content:s.jsx(mo,{})},{id:"ulb-workflow",label:"Ulb Workflow",icon:s.jsx(Ce,{size:14}),content:s.jsx(ho,{})},{id:"workflow-rolemap",label:"Workflow Rolemap",icon:s.jsx(Q,{size:14}),content:s.jsx(vo,{})},{id:"workflow-role",label:"Workflow Role",icon:s.jsx(We,{size:14}),content:s.jsx(yo,{})}];return s.jsx("div",{className:"flex flex-col gap-6 p-1",children:s.jsx(S.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.2},children:s.jsxs(_l,{value:a,onValueChange:e=>{t({tab:e})},className:"w-full",children:[s.jsx(Sl,{className:" inline-flex h-12 items-center justify-start rounded-2xl bg-muted/30 p-1",children:r.map(e=>s.jsxs(Al,{value:e.id,className:"flex items-center gap-2 rounded-xl px-4 py-2 text-sm font-semibold transition-all data-[state=active]:bg-background data-[state=active]:text-primary data-[state=active]:shadow-md",children:[e.icon,s.jsx("span",{children:e.label})]},e.id))}),r.map(e=>s.jsx(Cl,{value:e.id,className:"focus:outline-none",children:e.content},e.id))]})})})}function wo(){return s.jsx(ri,{title:"Manage All Workflow Here.",children:s.jsx(No,{})})}const ko=e.forwardRef(({className:e,...t},a)=>s.jsx("textarea",{className:Oa("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...t}));ko.displayName="Textarea";const _o=Ea().shape({question:Da().required("Question is required"),answer:Da().required("Answer is required"),moduleId:Ua().required("Module is required")});function So({open:t,onOpenChange:a,editData:r,onSubmit:i}){var l;const{register:n,handleSubmit:d,reset:o,setValue:c,watch:u,formState:{errors:m}}=w({resolver:k(_o),defaultValues:{question:"",answer:"",moduleId:void 0}}),x=ii({api:kr.post_moduleList,key:"moduleList",options:{enabled:t}}),p=(null==(l=null==x?void 0:x.data)?void 0:l.data)||[];e.useEffect(()=>{t&&o(r?{question:r.question,answer:r.answer,moduleId:r.module_id}:{question:"",answer:"",moduleId:void 0})},[t,r,o]);const h=u("moduleId");return s.jsx(Kr,{open:t,onOpenChange:a,children:s.jsxs(Xr,{className:"max-w-2xl overflow-hidden border-none bg-slate-50 p-0 shadow-2xl dark:bg-slate-900",children:[s.jsx(ei,{className:"bg-primary px-8 py-6 text-white",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-white/20 backdrop-blur-md",children:s.jsx($e,{size:20})}),s.jsxs("div",{children:[s.jsx(si,{className:"text-2xl font-black tracking-tight",children:r?"Edit FAQ":"Add New FAQ"}),s.jsx("p",{className:"text-xs font-medium uppercase tracking-wider text-white/70",children:r?"Update existing faq details":"Create a new frequently asked question"})]})]})}),s.jsxs("form",{onSubmit:d(e=>{i({...e,id:null==r?void 0:r.id,moduelName:e.moduleId})}),className:"space-y-6 p-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-bold uppercase tracking-widest text-slate-500",children:"Target Module"}),s.jsxs(ki,{onValueChange:e=>c("moduleId",Number(e)),value:h?String(h):void 0,children:[s.jsx(Ai,{className:"h-12 rounded-xl border-slate-200 bg-white font-medium shadow-sm focus:ring-4 focus:ring-primary/10 dark:border-slate-800 dark:bg-slate-950",children:s.jsx(Si,{placeholder:"Select a module"})}),s.jsx(Ii,{children:p.map(e=>s.jsx(Pi,{value:String(e.id),children:e.module_name},e.id))})]}),m.moduleId&&s.jsx("p",{className:"text-[10px] font-bold uppercase text-red-500",children:m.moduleId.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-bold uppercase tracking-widest text-slate-500",children:"Question"}),s.jsx(yi,{...n("question"),placeholder:"How do I...?",className:"h-12 rounded-xl border-slate-200 bg-white font-medium shadow-sm focus:ring-4 focus:ring-primary/10 dark:border-slate-800 dark:bg-slate-950"}),m.question&&s.jsx("p",{className:"text-[10px] font-bold uppercase text-red-500",children:m.question.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-bold uppercase tracking-widest text-slate-500",children:"Answer"}),s.jsx(ko,{...n("answer"),placeholder:"Briefly explain the answer...",className:"min-h-[150px] rounded-xl border-slate-200 bg-white font-medium shadow-sm focus:ring-4 focus:ring-primary/10 dark:border-slate-800 dark:bg-slate-950"}),m.answer&&s.jsx("p",{className:"text-[10px] font-bold uppercase text-red-500",children:m.answer.message})]})]}),s.jsxs(ti,{className:"gap-3 border-t border-slate-100 pt-6 dark:border-slate-800",children:[s.jsx(sr,{type:"button",variant:"outline",onClick:()=>a(!1),className:"h-12 rounded-xl border-slate-200 bg-white px-8 font-bold text-slate-600 transition-all hover:bg-slate-50 dark:border-slate-800 dark:bg-slate-950 dark:text-slate-400",children:"Cancel"}),s.jsx(sr,{type:"submit",className:"h-12 rounded-xl bg-primary px-8 font-bold shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-95",children:r?"Update FAQ":"Create FAQ"})]})]})]})})}function Ao(){var t;const[a,r]=e.useState(""),[i,l]=e.useState(!1),[n,d]=e.useState(null),[o,c]=e.useState(null),u=ii({api:kr.post_listFaq,key:"faqList",options:{enabled:!0}}),m=(null==(t=null==u?void 0:u.data)?void 0:t.data)||[],x=li({options:{onSuccess:()=>{He.success("FAQ Created Successfully"),l(!1),u.refetch()},onError:()=>{He.error("Failed to create FAQ")}}}),p=li({options:{onSuccess:()=>{He.success("FAQ Updated Successfully"),l(!1),u.refetch()},onError:()=>{He.error("Failed to update FAQ")}}}),h=li({options:{onSuccess:()=>{He.success("FAQ Deleted Successfully"),u.refetch()},onError:()=>{He.error("Failed to delete FAQ")}}}),g=m.filter(e=>{var t,s,r;return(null==(t=null==e?void 0:e.question)?void 0:t.toLowerCase().includes(a.toLowerCase()))||(null==(s=null==e?void 0:e.answer)?void 0:s.toLowerCase().includes(a.toLowerCase()))||(null==(r=null==e?void 0:e.module_name)?void 0:r.toLowerCase().includes(a.toLowerCase()))});return s.jsxs("div",{className:"mx-auto max-w-6xl space-y-8 p-8",children:[s.jsxs("div",{className:"flex flex-col justify-between gap-6 md:flex-row md:items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-black tracking-tight text-slate-800 dark:text-white",children:"Knowledge Base"}),s.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Manage frequently asked questions across all system modules"})]}),s.jsxs(sr,{onClick:()=>{d(null),l(!0)},className:"h-12 gap-2 rounded-2xl bg-primary px-6 font-bold shadow-xl shadow-primary/20 transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{size:14})," Create New FAQ"]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-4",children:[s.jsxs("div",{className:"relative lg:col-span-3",children:[s.jsx(C,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-400"}),s.jsx(yi,{placeholder:"Search by question, answer or module...",value:a,onChange:e=>r(e.target.value),className:"h-14 rounded-[1.25rem] border-none bg-white pl-12 text-sm font-medium shadow-lg shadow-slate-200/50 ring-1 ring-slate-100 transition-all focus:ring-4 focus:ring-primary/10 dark:bg-slate-900 dark:shadow-none dark:ring-slate-800"})]}),s.jsxs("div",{className:"flex items-center gap-4 rounded-[1.25rem] bg-slate-100/50 p-2 dark:bg-slate-800/50",children:[s.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center p-2",children:[s.jsx("span",{className:"text-xl font-black text-primary",children:m.length}),s.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:"Total FAQs"})]}),s.jsx("div",{className:"h-8 w-[1px] bg-slate-200 dark:bg-slate-700"}),s.jsx(sr,{variant:"ghost",size:"icon",className:"h-10 w-10 text-slate-500 hover:bg-white hover:text-primary dark:hover:bg-slate-800",children:s.jsx(W,{size:14})})]})]}),s.jsx("div",{className:"space-y-4",children:s.jsx(I,{mode:"popLayout",children:g.length>0?g.map((e,t)=>s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},transition:{delay:.05*t},children:s.jsx(di,{className:`group overflow-hidden border-none transition-all duration-300 ${o===e.id?"bg-primary shadow-2xl shadow-primary/20 ring-1 ring-primary":"bg-white shadow-xl shadow-slate-200/30 ring-1 ring-slate-100 hover:bg-slate-50 hover:ring-slate-200"} dark:bg-slate-900 dark:ring-slate-800`,children:s.jsxs(ui,{className:"p-0",children:[s.jsxs("div",{className:"flex cursor-pointer items-center justify-between p-6",onClick:()=>{return t=e.id,void c(o===t?null:t);var t},children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl transition-colors "+(o===e.id?"bg-white/20 text-white":"bg-primary/10 text-primary group-hover:bg-primary group-hover:text-white"),children:s.jsx($e,{size:20})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"rounded-lg px-2 py-0.5 text-[9px] font-black uppercase tracking-widest "+(o===e.id?"bg-white/20 text-white":"bg-blue-50 text-blue-600 dark:bg-blue-900/30"),children:e.module_name}),s.jsxs("span",{className:"text-[9px] font-bold "+(o===e.id?"text-white/60":"text-slate-400"),children:["ID: #",e.id]})]}),s.jsx("h3",{className:"mt-1 text-lg font-black tracking-tight "+(o===e.id?"text-white":"text-slate-800 dark:text-slate-200"),children:e.question})]})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsx("div",{className:"transition-transform duration-300 "+(o===e.id?"rotate-180 text-white":"text-slate-300"),children:s.jsx(le,{})})})]}),s.jsx(I,{children:o===e.id&&s.jsx(S.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},children:s.jsxs("div",{className:"border-t border-white/10 p-8 pt-4",children:[s.jsx("div",{className:"rounded-2xl bg-white/10 p-6 text-white/90 backdrop-blur-sm",children:s.jsx("p",{className:"whitespace-pre-wrap font-medium leading-relaxed",children:e.answer})}),s.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[s.jsxs(sr,{onClick:t=>{t.stopPropagation(),(e=>{d(e),l(!0)})(e)},className:"h-10 rounded-xl bg-white/20 px-6 font-bold text-white transition-all hover:bg-white/30",children:[s.jsx(D,{className:"mr-2"})," Edit FAQ"]}),s.jsxs(sr,{onClick:t=>{t.stopPropagation(),Zr("Delete FAQ","Are you sure you want to delete this FAQ?",()=>{return t=e.id,void h.mutate({api:kr.post_deleteFaq,data:{id:t}});var t})},className:"h-10 rounded-xl border border-white/20 bg-red-500/20 px-6 font-bold text-white transition-all hover:bg-red-500/40",children:[s.jsx(M,{className:"mr-2"})," Delete"]})]})]})})})]})})},e.id)):s.jsxs("div",{className:"flex flex-col items-center justify-center rounded-[2rem] border-2 border-dashed border-slate-200 bg-slate-50 py-20 dark:border-slate-800 dark:bg-slate-900/50",children:[s.jsx("div",{className:"mb-4 flex h-20 w-20 items-center justify-center rounded-3xl bg-slate-100 text-slate-300 dark:bg-slate-800",children:s.jsx(C,{size:32})}),s.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"No FAQs Found"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Try adjusting your search or create a new FAQ"})]})})}),s.jsx(So,{open:i,onOpenChange:l,editData:n,onSubmit:e=>{const t={question:e.question,answer:e.answer,moduleId:e.moduelName};e.id?p.mutate({api:kr.post_editFaq,data:{...t,id:e.id}}):x.mutate({api:kr.post_addFaq,data:t})}})]})}function Co(){return s.jsx(ri,{title:"FAQ Master",subTitle:"Manage All FAQs Here.",children:s.jsx(Ao,{})})}const Lo={id:"",isSuspended:!1,key:"",assetFile:null,assetName:"",ulbId:1},Io=()=>{var t,a,r,i,l,n;const[d,o]=e.useState(1),[u,m]=e.useState(10),[x,p]=e.useState(""),h=e.useRef(null),[g,f]=e.useState(!1),[j,b]=e.useState(!1),[y,N]=e.useState(null),[k,_]=e.useState(null),[A,P]=e.useState(""),R=w({defaultValues:Lo}),E=li({}),U=ni({}),F=R.watch("assetFile"),T=ii({api:Nr.api_getAssetsApiList,key:"assetsMasterList",options:{enabled:!0}}),q=ii({api:Nr.api_getUlbList,key:"ulbListForAssets",options:{enabled:g}}),O=ii({api:Nr.api_getAssetsApiById,key:`assetMasterById_${y??""}`,config:{id:y},options:{enabled:!!y&&j&&g}}),W=(null==(t=null==T?void 0:T.data)?void 0:t.data)||[];e.useEffect(()=>{const e=e=>{var t;!e.altKey||"s"!==e.key&&"S"!==e.key||(e.preventDefault(),e.stopPropagation(),null==(t=h.current)||t.focus())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]),e.useEffect(()=>{var e;if(!g)return;if(!j)return void R.reset(Lo);const t=null==(e=null==O?void 0:O.data)?void 0:e.data;if(!t)return;const s=Array.isArray(t)?t[0]:t;s&&(_({data:s}),P(s.asset_file||""),R.reset({id:s.id||"",isSuspended:1===Number(s.is_suspended),key:s.key||"",assetFile:null,assetName:s.asset_name||"",ulbId:Number(s.ulb_id||1)}))},[g,j,null==O?void 0:O.data,R]),e.useEffect(()=>{if(F)if("string"!=typeof F){if(F instanceof File){const e=URL.createObjectURL(F);return P(e),()=>URL.revokeObjectURL(e)}}else P(F)},[F]);const V=e.useMemo(()=>{const e=x.trim().toLowerCase();return e?W.filter(t=>[t.asset_name,t.key,t.reference_no,t.unique_id].filter(Boolean).some(t=>String(t).toLowerCase().includes(e))):W},[W,x]),$=d*u,H=$-u,Q=V.slice(H,$),Z=R.handleSubmit(async e=>{var t,s,a,r;try{const i=new FormData;i.append("id",String(j&&y||"")),i.append("key",e.key),i.append("assetName",e.assetName),i.append("ulbId",String(Number.isFinite(e.ulbId)?e.ulbId:1)),i.append("is_suspended",e.isSuspended?"1":"0"),e.assetFile instanceof File?i.append("assetFile",e.assetFile):(null==(t=null==k?void 0:k.data)?void 0:t.asset_file)&&i.append("assetFile",k.data.asset_file);const l=await U.mutateAsync({api:j?Nr.api_updateAssetsApi:Nr.api_PostAssetsApi,data:i});(null==(s=null==l?void 0:l.data)?void 0:s.status)?(c.success((null==(a=null==l?void 0:l.data)?void 0:a.message)||(j?"Asset updated successfully":"Asset created successfully")),f(!1),b(!1),N(null),_(null),P(""),R.reset(Lo),T.refetch()):c.error((null==(r=null==l?void 0:l.data)?void 0:r.message)||"Failed to save asset")}catch(i){c.error(Sr(i))}}),G=e.useMemo(()=>{var e;return((null==(e=null==q?void 0:q.data)?void 0:e.data)||[]).filter(e=>e&&"number"==typeof e.id).map(e=>({value:String(e.id),label:e.ulb_name}))},[null==q?void 0:q.data]),K=[{value:(null==(a=null==k?void 0:k.data)?void 0:a.id)||"",name:"id"},{value:!1,name:"isSuspended"},{value:(null==(r=null==k?void 0:k.data)?void 0:r.key)||"",isRequired:!0,type:"text",label:"Assets Key",name:"key",isLabel:!0},{value:(null==(i=null==k?void 0:k.data)?void 0:i.asset_file)||"",isRequired:!0,type:"file",label:"Assets File",name:"assetFile",isLabel:!0},{value:(null==(l=null==k?void 0:k.data)?void 0:l.asset_name)||"",isRequired:!0,type:"text",label:"Assets Name",name:"assetName",isLabel:!0},{value:(null==(n=null==k?void 0:k.data)?void 0:n.ulb_id)||"",isRequired:!0,type:"number",label:"ULB ID",name:"ulbId",isLabel:!0}];return s.jsxs("div",{children:[s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-blue-600/10 text-blue-600",children:s.jsx(Qe,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Asset Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-blue-600/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-blue-600",children:[V.length," Assets Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{ref:h,type:"text",placeholder:"Search by name, key, or reference...",value:x,onChange:e=>{p(e.target.value),o(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-20 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"}),s.jsx("div",{className:"absolute right-2.5 hidden items-center gap-1 sm:flex",children:s.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[s.jsx("span",{className:"text-xs",children:"Alt"}),"S"]})})]}),s.jsxs(sr,{type:"button",onClick:()=>{b(!1),N(null),_(null),P(""),R.reset(Lo),f(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New Asset"]})]})]})}),s.jsxs(ui,{className:"p-0",children:[T.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading assets..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(mi,{children:[s.jsx(xi,{children:s.jsxs(hi,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(gi,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Asset"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Key"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"File"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"})]})}),s.jsx(pi,{children:s.jsx(I,{children:Q.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:H+t+1})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[e.asset_file?s.jsx("img",{src:e.asset_file,alt:e.asset_name,className:"h-10 w-10 rounded-xl border object-cover"}):s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-blue-600/10 transition-colors group-hover/row:bg-blue-600/20",children:s.jsx(Ze,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:e.asset_name}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["REF: ",e.reference_no]})]})]})}),s.jsx(fi,{className:"py-4",children:s.jsx("span",{className:"rounded-md bg-blue-600/10 px-2 py-1 text-xs font-bold text-blue-600",children:e.key})}),s.jsx(fi,{className:"py-4",children:s.jsxs("a",{href:e.asset_file,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 text-xs font-semibold text-primary underline-offset-2 hover:underline",children:[s.jsx(Ge,{className:"h-3 w-3"}),"View file"]})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsxs("span",{className:Oa("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.status?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.status?s.jsx(B,{className:"h-3 w-3"}):s.jsx(z,{className:"h-3 w-3"}),1===e.status?"Active":"Inactive"]})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>(e=>{b(!0),N(e.id),_({data:e}),f(!0)})(e),className:"h-8 w-8 text-blue-600 hover:bg-blue-600/10 hover:text-blue-700",children:s.jsx(D,{className:"h-4 w-4"})}),s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>{return t=e.id,void Zr("Delete Asset","Do you want to delete this asset?",async()=>{var e,s,a;try{const r=W.find(e=>e.id===t),i=null==r?void 0:r.is_suspended,l=await E.mutateAsync({api:Nr.api_deleteAssetsApi,data:{id:t,status:i?0:1}});(null==(e=null==l?void 0:l.data)?void 0:e.status)?(c.success((null==(s=null==l?void 0:l.data)?void 0:s.message)||"Asset deleted successfully"),T.refetch()):c.error((null==(a=null==l?void 0:l.data)?void 0:a.message)||"Failed to delete asset")}catch(r){c.error(Sr(r))}});var t},className:"h-8 w-8 text-red-600 hover:bg-red-600/10 hover:text-red-700",children:s.jsx(M,{className:"h-4 w-4"})})]})})]},e.id))})})]}),V.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(ji,{currentPage:d,totalItems:V.length,itemsPerPage:u,onPageChange:o,onItemsPerPageChange:e=>{m(e),o(1)}})})]}),!T.isLoading&&0===V.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Qe,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No assets found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:x?"Try a different search term.":"Create your first asset record to populate the citizen landing page."})]})]})]})}),s.jsx(Kr,{open:g,onOpenChange:e=>{f(e),e||(b(!1),N(null),_(null),P(""),R.reset(Lo))},children:s.jsxs(Xr,{className:"max-h-[90vh] overflow-y-auto sm:max-w-2xl",children:[s.jsx(ei,{children:s.jsx(si,{className:"text-xl font-bold",children:j?"Update Asset":"Add New Asset"})}),j&&O.isLoading?s.jsxs("div",{className:"py-10 text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-3 text-sm text-muted-foreground",children:"Loading asset details..."})]}):s.jsxs("form",{onSubmit:Z,className:"space-y-5",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[K.filter(e=>e.isLabel).map(e=>s.jsxs("div",{className:"assetFile"===e.name?"space-y-2 md:col-span-2":"space-y-2",children:[s.jsx(Ti,{htmlFor:e.name,children:e.label}),"file"===e.type?s.jsx(yi,{id:e.name,type:"file",accept:"image/*",onChange:e=>{var t;const s=(null==(t=e.target.files)?void 0:t[0])||null;R.setValue("assetFile",s,{shouldDirty:!0})}}):"ulbId"===e.name?s.jsx(v,{control:R.control,name:"ulbId",render:({field:e})=>s.jsxs(ki,{value:void 0!==e.value&&null!==e.value?String(e.value):"",onValueChange:t=>e.onChange(Number(t)),children:[s.jsx(Ai,{className:"h-10 rounded-xl",children:s.jsx(Si,{placeholder:q.isLoading?"Loading ULBs...":"Select ULB"})}),s.jsx(Ii,{children:s.jsx(_i,{children:G.map(e=>s.jsx(Pi,{value:e.value,children:e.label},e.value))})})]})}):s.jsx(yi,{id:e.name,type:e.type,placeholder:"key"===e.name?"e.g. STATELOGO":"assetName"===e.name?"e.g. stateLogo":"Enter value",...R.register(e.name,{valueAsNumber:"number"===e.type})})]},e.name)),A?s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(Ti,{children:"Preview"}),s.jsx("div",{className:"mt-2 rounded-xl border bg-muted/20 p-2",children:s.jsx("img",{src:A,alt:"Asset preview",className:"h-48 w-48 rounded-lg object-cover "})})]}):null]}),s.jsxs("div",{className:"flex items-center justify-end gap-2 border-t pt-4",children:[s.jsx(sr,{type:"button",variant:"outline",onClick:()=>f(!1),children:"Cancel"}),s.jsx(sr,{type:"submit",className:"min-w-[120px]",disabled:U.isPending,children:U.isPending?"Saving...":j?"Update Asset":"Create Asset"})]})]})]})})]})};function Po(){return s.jsx(ri,{title:"Asset Master",subTitle:"Manage your assets here. ",children:s.jsx(Io,{})})}const Ro={id:"",isSuspended:!1,sliderName:"",sliderImage:null},Eo=()=>{var t;const[a,r]=e.useState(1),[i,l]=e.useState(10),[n,d]=e.useState(""),o=e.useRef(null),[u,m]=e.useState(!1),[x,p]=e.useState(!1),[h,g]=e.useState(null),[f,v]=e.useState(null),[j,b]=e.useState(""),y=w({defaultValues:Ro}),N=li({}),k=ni({}),_=y.watch("sliderImage"),A=ii({api:Nr.api_getSliderApiList,key:"slidersMasterList",options:{enabled:!0}}),P=ii({api:Nr.api_getSliderById,key:`sliderMasterById_${h??""}`,config:{id:h},options:{enabled:!!h&&x&&u}}),R=(null==(t=null==A?void 0:A.data)?void 0:t.data)||[];e.useEffect(()=>{const e=e=>{var t;!e.altKey||"s"!==e.key&&"S"!==e.key||(e.preventDefault(),e.stopPropagation(),null==(t=o.current)||t.focus())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]),e.useEffect(()=>{var e;if(!u)return;if(!x)return void y.reset(Ro);const t=null==(e=null==P?void 0:P.data)?void 0:e.data;if(!t)return;const s=Array.isArray(t)?t[0]:t;s&&(v({data:s}),b(s.slider_image_url||""),y.reset({id:s.id||"",isSuspended:1===Number(s.is_suspended),sliderName:s.slider_name||"",sliderImage:null}))},[u,x,null==P?void 0:P.data,y]),e.useEffect(()=>{if(_)if("string"!=typeof _){if(_ instanceof File){const e=URL.createObjectURL(_);return b(e),()=>URL.revokeObjectURL(e)}}else b(_)},[_]);const E=e.useMemo(()=>{const e=n.trim().toLowerCase();return e?R.filter(t=>[t.slider_name,t.reference_no,t.unique_id].filter(Boolean).some(t=>String(t).toLowerCase().includes(e))):R},[R,n]),M=a*i,U=M-i,F=E.slice(U,M),T=y.handleSubmit(async e=>{var t,s,a,r;try{const i=new FormData;x&&h&&i.append("id",String(h)),i.append("sliderName",e.sliderName),e.sliderImage instanceof File?i.append("sliderImage",e.sliderImage):(null==(t=null==f?void 0:f.data)?void 0:t.slider_image_url)&&i.append("sliderImage",f.data.slider_image_url);const l=await k.mutateAsync({api:x?Nr.api_updateSliderApi:Nr.api_PostSliderApi,data:i});(null==(s=null==l?void 0:l.data)?void 0:s.status)?(c.success((null==(a=null==l?void 0:l.data)?void 0:a.message)||(x?"Slider updated successfully":"Slider created successfully")),m(!1),p(!1),g(null),v(null),b(""),y.reset(Ro),A.refetch()):c.error((null==(r=null==l?void 0:l.data)?void 0:r.message)||"Failed to save slider")}catch(i){c.error(Sr(i))}});return s.jsxs("div",{children:[s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-blue-600/10 text-blue-600",children:s.jsx(Qe,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Slider Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-blue-600/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-blue-600",children:[E.length," Sliders Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{ref:o,type:"text",placeholder:"Search by name or reference...",value:n,onChange:e=>{d(e.target.value),r(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-20 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"}),s.jsx("div",{className:"absolute right-2.5 hidden items-center gap-1 sm:flex",children:s.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[s.jsx("span",{className:"text-xs",children:"Alt"}),"S"]})})]}),s.jsxs(sr,{type:"button",onClick:()=>{p(!1),g(null),v(null),b(""),y.reset(Ro),m(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New Slider"]})]})]})}),s.jsxs(ui,{className:"p-0",children:[A.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading sliders..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(mi,{children:[s.jsx(xi,{children:s.jsxs(hi,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(gi,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Slider"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Image"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"})]})}),s.jsx(pi,{children:s.jsx(I,{children:F.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:U+t+1})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{children:[s.jsx("p",{className:"font-bold leading-tight text-foreground",children:e.slider_name}),s.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["REF: ",e.reference_no]})]})}),s.jsx(fi,{className:"py-4",children:e.slider_image_url?s.jsx("img",{src:e.slider_image_url,alt:e.slider_name,className:"h-16 w-24 rounded-xl border object-cover cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>window.open(e.slider_image_url,"_blank")}):s.jsx("div",{className:"flex h-16 w-24 items-center justify-center rounded-xl bg-blue-600/10",children:s.jsx(Qe,{className:"h-6 w-6 text-blue-600"})})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsxs("span",{className:Oa("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.status?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.status?s.jsx(B,{className:"h-3 w-3"}):s.jsx(z,{className:"h-3 w-3"}),1===e.status?"Active":"Inactive"]})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>(e=>{p(!0),g(e.id),v({data:e}),m(!0)})(e),className:"h-8 w-8 text-blue-600 hover:bg-blue-600/10 hover:text-blue-700",children:s.jsx(D,{className:"h-4 w-4"})}),s.jsx(Di,{checked:1===e.status,onCheckedChange:()=>(async(e,t)=>{var s,a,r;try{const i=await N.mutateAsync({api:Nr.api_deleteSliderApi,data:{id:e,status:1===t?0:1}});(null==(s=null==i?void 0:i.data)?void 0:s.status)?(c.success((null==(a=null==i?void 0:i.data)?void 0:a.message)||`Slider ${1===t?"deactivated":"activated"} successfully`),A.refetch()):c.error((null==(r=null==i?void 0:i.data)?void 0:r.message)||"Failed to update slider status")}catch(i){c.error(Sr(i))}})(e.id,e.status),className:"data-[state=checked]:bg-green-500"})]})})]},e.id))})})]}),E.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(ji,{currentPage:a,totalItems:E.length,itemsPerPage:i,onPageChange:r,onItemsPerPageChange:e=>{l(e),r(1)}})})]}),!A.isLoading&&0===E.length&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Qe,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No sliders found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:n?"Try a different search term.":"Create your first slider to populate the citizen landing page."})]})]})]})}),s.jsx(Kr,{open:u,onOpenChange:e=>{m(e),e||(p(!1),g(null),v(null),b(""),y.reset(Ro))},children:s.jsxs(Xr,{className:"max-h-[90vh] overflow-y-auto sm:max-w-2xl",children:[s.jsx(ei,{children:s.jsx(si,{className:"text-xl font-bold",children:x?"Update Slider":"Add New Slider"})}),x&&P.isLoading?s.jsxs("div",{className:"py-10 text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-3 text-sm text-muted-foreground",children:"Loading slider details..."})]}):s.jsxs("form",{onSubmit:T,className:"space-y-5",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ti,{htmlFor:"sliderName",children:"Slider Name"}),s.jsx(yi,{id:"sliderName",type:"text",placeholder:"e.g. Property Slider",...y.register("sliderName")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ti,{htmlFor:"sliderImage",children:"Slider Image"}),s.jsx(yi,{id:"sliderImage",type:"file",accept:"image/*",onChange:e=>{var t;const s=(null==(t=e.target.files)?void 0:t[0])||null;y.setValue("sliderImage",s,{shouldDirty:!0})}})]}),j&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ti,{children:"Preview"}),s.jsx("div",{className:"mt-2 rounded-xl border bg-muted/20 p-2",children:s.jsx("img",{src:j,alt:"Slider preview",className:"h-32 w-full rounded-lg object-cover md:h-40"})})]})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2 border-t pt-4",children:[s.jsx(sr,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancel"}),s.jsx(sr,{type:"submit",className:"min-w-[120px]",disabled:k.isPending,children:k.isPending?"Saving...":x?"Update Slider":"Create Slider"})]})]})]})})]})};function Do(){return s.jsx(ri,{title:"Slider Master",subTitle:"Manage your sliders here. ",children:s.jsx(Eo,{})})}const Mo={id:"",title:"",shortDescription:"",longDescription:"",officerName:"",assetFile:null};function Uo(){var t,a,r;const[i,l]=e.useState(1),[n,d]=e.useState(10),[o,u]=e.useState(""),m=e.useRef(null),[x,p]=e.useState(!1),[h,g]=e.useState(!1),[f,v]=e.useState(null),[j,b]=e.useState(null),[y,N]=e.useState(""),k=w({defaultValues:Mo}),_=li({}),A=ni({}),P=k.watch("assetFile"),R=ii({api:Nr.api_getBlogPostApiList,key:"blogMasterList",options:{enabled:!0}}),E=(null==(t=null==R?void 0:R.data)?void 0:t.data)||[],M=ii({api:Nr.api_getBlogById,key:`blogMasterById_${f??""}`,config:{id:f},options:{enabled:!!f&&h&&x}});e.useEffect(()=>{const e=e=>{var t;!e.altKey||"s"!==e.key&&"S"!==e.key||(e.preventDefault(),e.stopPropagation(),null==(t=m.current)||t.focus())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]),e.useEffect(()=>{var e;if(!x)return;if(!h)return void k.reset(Mo);const t=null==(e=null==M?void 0:M.data)?void 0:e.data;if(!t)return;const s=Array.isArray(t)?t[0]:t;s&&(b({data:s}),k.reset({id:String(s.id)||"",title:s.title||"",shortDescription:s.short_description||"",longDescription:s.long_description||"",officerName:s.by_officer_name||"",assetFile:null}))},[x,h,null==M?void 0:M.data,k]),e.useEffect(()=>{var e;if(P)if("string"!=typeof P){if(P instanceof File){const e=URL.createObjectURL(P);return N(e),()=>URL.revokeObjectURL(e)}}else N(P);else h&&(null==(e=null==j?void 0:j.data)?void 0:e.asset_file)&&N(j.data.asset_file)},[P,h,j]),e.useMemo(()=>{var e,t;const s=o.trim().toLowerCase();return s?null==(t=null==(e=null==R?void 0:R.data)?void 0:e.data)?void 0:t.filter(e=>[e.title,e.reference_no,e.unique_id].filter(Boolean).some(e=>String(e).toLowerCase().includes(s))):R},[R,o]);const U=i*n-n,F=k.handleSubmit(async e=>{var t,s,a,r;try{const i=new FormData;h&&f&&i.append("id",String(f)),i.append("title",e.title),i.append("shortDescription",e.shortDescription),i.append("longDescription",e.longDescription),i.append("officerName",e.officerName),e.assetFile instanceof File?i.append("assetFile",e.assetFile):(null==(t=null==j?void 0:j.data)?void 0:t.asset_file)&&i.append("assetFile",j.data.asset_file);const l=await A.mutateAsync({api:h?Nr.api_updateblog:Nr.api_PostBlogPostApi,data:i});(null==(s=null==l?void 0:l.data)?void 0:s.status)?(c.success((null==(a=null==l?void 0:l.data)?void 0:a.message)||(h?"Blog updated successfully":"Blog created successfully")),p(!1),g(!1),v(null),b(null),k.reset(Mo),R.refetch()):c.error((null==(r=null==l?void 0:l.data)?void 0:r.message)||"Failed to save Blog")}catch(i){c.error(Sr(i))}});return s.jsxs("div",{children:[s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-blue-600/10 text-blue-600",children:s.jsx(Qe,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Blog Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-blue-600/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-blue-600",children:[null==(r=null==(a=null==R?void 0:R.data)?void 0:a.data)?void 0:r.length," Blogs Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{ref:m,type:"text",placeholder:"Search by name or reference...",value:o,onChange:e=>{u(e.target.value),l(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-20 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"}),s.jsx("div",{className:"absolute right-2.5 hidden items-center gap-1 sm:flex",children:s.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[s.jsx("span",{className:"text-xs",children:"Alt"}),"S"]})})]}),s.jsxs(sr,{type:"button",onClick:()=>{g(!1),v(null),b(null),N(""),k.reset(Mo),p(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New Blog"]})]})]})}),s.jsxs(ui,{className:"p-0",children:[R.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading Blogs..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(mi,{children:[s.jsx(xi,{children:s.jsxs(hi,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(gi,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Blog"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Short Desc."}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"By Officer Name."}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Image"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"})]})}),s.jsx(pi,{children:s.jsx(I,{children:null==E?void 0:E.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:U+t+1})}),s.jsx(fi,{className:"py-4",children:s.jsx("div",{children:s.jsx("p",{className:"line-clamp-1 font-bold leading-tight text-foreground",children:e.title})})}),s.jsx(fi,{className:"max-w-60 py-4",children:s.jsx("p",{className:"line-clamp-1 italic leading-tight text-muted-foreground",children:e.short_description})}),s.jsx(fi,{className:"py-4",children:s.jsx("p",{className:"line-clamp-1 italic leading-tight text-muted-foreground",children:e.by_officer_name})}),s.jsx(fi,{className:"py-4",children:e.asset_file?s.jsx("img",{src:e.asset_file,alt:e.title,className:"h-16 w-24 cursor-pointer rounded-xl border object-cover transition-opacity hover:opacity-80",onClick:()=>window.open(e.asset_file,"_blank")}):s.jsx("div",{className:"flex h-16 w-24 items-center justify-center rounded-xl bg-blue-600/10",children:s.jsx(Qe,{className:"h-6 w-6 text-blue-600"})})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsxs("span",{className:Oa("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.status?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.status?s.jsx(B,{className:"h-3 w-3"}):s.jsx(z,{className:"h-3 w-3"}),1===e.status?"Active":"Inactive"]})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>(e=>{g(!0),v(e.id),N(e.asset_file),b({data:e}),p(!0)})(e),className:"h-8 w-8 text-blue-600 hover:bg-blue-600/10 hover:text-blue-700",children:s.jsx(D,{className:"h-4 w-4"})}),s.jsx(Di,{checked:1===e.status,onCheckedChange:()=>(async(e,t)=>{var s,a,r;try{const i=await _.mutateAsync({api:Nr.api_deleteBlogPostApi,data:{id:e,status:1===t?0:1}});(null==(s=null==i?void 0:i.data)?void 0:s.status)?(c.success((null==(a=null==i?void 0:i.data)?void 0:a.message)||`Blog ${1===t?"deactivated":"activated"} successfully`),R.refetch()):c.error((null==(r=null==i?void 0:i.data)?void 0:r.message)||"Failed to update Blog status")}catch(i){c.error(Sr(i))}})(e.id,e.status),className:"data-[state=checked]:bg-green-500"})]})})]},e.id))})})]}),(null==E?void 0:E.length)&&E.length>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(ji,{currentPage:i,totalItems:null==E?void 0:E.length,itemsPerPage:n,onPageChange:l,onItemsPerPageChange:e=>{d(e),l(1)}})})]}),!R.isLoading&&0===(null==E?void 0:E.length)&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Qe,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No Blogs found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try a different search term.":"Create your first Blog to populate the citizen landing page."})]})]})]})}),s.jsx(Kr,{open:x,onOpenChange:e=>{p(e),e||(g(!1),v(null),b(null),N(""),k.reset(Mo))},children:s.jsxs(Xr,{className:"max-h-[90vh] min-w-[50vw] overflow-y-auto",children:[s.jsx(ei,{children:s.jsx(si,{className:"text-xl font-bold",children:h?"Update Blog":"Add New Blog"})}),h&&R.isLoading?s.jsxs("div",{className:"py-10 text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-3 text-sm text-muted-foreground",children:"Loading Blog details..."})]}):s.jsxs("form",{onSubmit:F,className:"space-y-5",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ti,{htmlFor:"BlogName",children:"Blog title"}),s.jsx(yi,{id:"BlogName",type:"text",placeholder:"e.g. Property Blog",...k.register("title",{required:"Blog name is required"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ti,{htmlFor:"BlogImage",children:"Blog Image"}),s.jsx(yi,{id:"BlogImage",type:"file",accept:"image/*",onChange:e=>{var t;const s=(null==(t=e.target.files)?void 0:t[0])||null;k.setValue("assetFile",s,{shouldDirty:!0})}})]}),y&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ti,{children:"Preview"}),s.jsx("div",{className:"mt-2 rounded-xl border bg-muted/20 p-2",children:s.jsx("img",{src:y,alt:"Blog preview",className:"h-40 w-40 rounded-lg object-cover"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ti,{htmlFor:"BlogName",children:"Short Description"}),s.jsx(yi,{id:"BlogName",type:"text",placeholder:"e.g. Property Blog",...k.register("shortDescription",{required:"Short Description is Required!"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ti,{htmlFor:"BlogName",children:"Full Description"}),s.jsx(Ke,{value:k.getValues("longDescription"),onTextChange:e=>k.setValue("longDescription",e.htmlValue),style:{height:"320px"}})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ti,{htmlFor:"BlogName",children:"By Officer Name"}),s.jsx(yi,{id:"BlogName",type:"text",placeholder:"e.g. Property Blog",...k.register("officerName",{required:"Officer Name is Required.!"})})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2 border-t pt-4",children:[s.jsx(sr,{type:"button",variant:"outline",onClick:()=>p(!1),children:"Cancel"}),s.jsx(sr,{type:"submit",className:"min-w-[120px]",disabled:A.isPending,children:A.isPending?"Saving...":h?"Update Blog":"Create Blog"})]})]})]})})]})}function Fo(){return s.jsx(ri,{title:"Blog Master",subTitle:"Manage your blogs here. ",children:s.jsx(Uo,{})})}const To={id:"",notice:""};function zo(){var t;const[a,r]=e.useState(1),[i,l]=e.useState(10),[n,d]=e.useState(""),o=e.useRef(null),[u,m]=e.useState(!1),[x,p]=e.useState(!1),[h,g]=e.useState(null),f=w({defaultValues:To}),v=li({}),j=ii({api:Nr.api_getImopNoticeApiList,key:"noticeList",options:{enabled:!0}}),b=(null==(t=null==j?void 0:j.data)?void 0:t.data)||[],y=ii({api:Nr.api_getImopNoticeApiById,key:`noticeById_${h??""}`,config:{id:h},options:{enabled:!!h&&x&&u}});e.useEffect(()=>{const e=e=>{var t;!e.altKey||"s"!==e.key&&"S"!==e.key||(e.preventDefault(),e.stopPropagation(),null==(t=o.current)||t.focus())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]),e.useEffect(()=>{var e;if(!u)return;if(!x)return void f.reset(To);const t=null==(e=null==y?void 0:y.data)?void 0:e.data;if(!t)return;const s=Array.isArray(t)?t[0]:t;s&&f.reset({id:String(s.id)||"",notice:s.notice||""})},[u,x,null==y?void 0:y.data,f]);const N=e.useMemo(()=>{const e=n.trim().toLowerCase();return e?null==b?void 0:b.filter(t=>{var s;return null==(s=t.notice)?void 0:s.toLowerCase().includes(e)}):b},[b,n]),k=a*i,_=k-i,A=null==N?void 0:N.slice(_,k),P=f.handleSubmit(async e=>{var t,s,a;try{const r=await v.mutateAsync({api:x?Nr.api_updateImopNoticeApi:Nr.api_PostImopNoticeApi,data:x?{id:h,notice:e.notice}:{notice:e.notice}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||(x?"Notice updated successfully":"Notice created successfully")),m(!1),p(!1),g(null),f.reset(To),j.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to save Notice")}catch(r){c.error(Sr(r))}});return s.jsxs("div",{children:[s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-blue-600/10 text-blue-600",children:s.jsx(Ye,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Important Notice"}),s.jsxs("div",{className:"inline-block rounded-full bg-blue-600/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-blue-600",children:[null==b?void 0:b.length," Notices Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{ref:o,type:"text",placeholder:"Search notices...",value:n,onChange:e=>{d(e.target.value),r(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-20 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"}),s.jsx("div",{className:"absolute right-2.5 hidden items-center gap-1 sm:flex",children:s.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[s.jsx("span",{className:"text-xs",children:"Alt"}),"S"]})})]}),s.jsxs(sr,{type:"button",onClick:()=>{p(!1),g(null),f.reset(To),m(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New Notice"]})]})]})}),s.jsxs(ui,{className:"p-0",children:[j.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading Notices..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(mi,{children:[s.jsx(xi,{children:s.jsxs(hi,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(gi,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Notice"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"})]})}),s.jsx(pi,{children:s.jsx(I,{children:null==A?void 0:A.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:_+t+1})}),s.jsx(fi,{className:"max-w-2xl py-4",children:s.jsx("div",{dangerouslySetInnerHTML:{__html:e.notice},className:"line-clamp-2 text-sm text-foreground"})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsxs("span",{className:Oa("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(z,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Inactive"]})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>(e=>{p(!0),g(e.id),m(!0)})(e),className:"h-8 w-8 text-blue-600 hover:bg-blue-600/10 hover:text-blue-700",children:s.jsx(D,{className:"h-4 w-4"})}),s.jsx(Di,{checked:1===e.is_suspended,onCheckedChange:()=>(async(e,t)=>{var s,a,r;try{const i=await v.mutateAsync({api:Nr.api_deleteImpoNoticeApi,data:{id:e,status:1===t?0:1}});(null==(s=null==i?void 0:i.data)?void 0:s.status)?(c.success((null==(a=null==i?void 0:i.data)?void 0:a.message)||`Notice ${1===t?"deactivated":"activated"} successfully`),j.refetch()):c.error((null==(r=null==i?void 0:i.data)?void 0:r.message)||"Failed to update Notice status")}catch(i){c.error(Sr(i))}})(e.id,e.is_suspended),className:"data-[state=checked]:bg-green-500"})]})})]},e.id))})})]}),(null==N?void 0:N.length)>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(ji,{currentPage:a,totalItems:null==N?void 0:N.length,itemsPerPage:i,onPageChange:r,onItemsPerPageChange:e=>{l(e),r(1)}})})]}),!j.isLoading&&0===(null==b?void 0:b.length)&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Ye,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No Notices found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:n?"Try a different search term.":"Create your first Notice to populate the citizen landing page."})]})]})]})}),s.jsx(Kr,{open:u,onOpenChange:e=>{m(e),e||(p(!1),g(null),f.reset(To))},children:s.jsxs(Xr,{className:"max-h-[90vh] min-w-[50vw] overflow-y-auto",children:[s.jsx(ei,{children:s.jsx(si,{className:"text-xl font-bold",children:x?"Update Notice":"Add New Notice"})}),x&&y.isLoading?s.jsxs("div",{className:"py-10 text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-3 text-sm text-muted-foreground",children:"Loading Notice details..."})]}):s.jsxs("form",{onSubmit:P,className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ti,{htmlFor:"notice",children:"Notice Content"}),s.jsx(Ke,{value:f.watch("notice"),onTextChange:e=>f.setValue("notice",e.htmlValue),style:{height:"320px"}})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2 border-t pt-4",children:[s.jsx(sr,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancel"}),s.jsx(sr,{type:"submit",className:"min-w-[120px]",disabled:v.isPending,children:v.isPending?"Saving...":x?"Update Notice":"Create Notice"})]})]})]})})]})}function Bo(){return s.jsx(ri,{title:"Important Notices",subTitle:"Manage all Important notices here. ",children:s.jsx(zo,{})})}const qo={id:"",announcement:""};function Oo(){var t;const[a,r]=e.useState(1),[i,l]=e.useState(10),[n,d]=e.useState(""),o=e.useRef(null),[u,m]=e.useState(!1),[x,p]=e.useState(!1),[h,g]=e.useState(null),f=w({defaultValues:qo}),v=li({}),j=ii({api:Nr.api_getAnnouncementApiList,key:"announcementList",options:{enabled:!0}}),b=(null==(t=null==j?void 0:j.data)?void 0:t.data)||[],y=ii({api:Nr.api_getAnnouncementApiById,key:`announcementById_${h??""}`,config:{id:h},options:{enabled:!!h&&x&&u}});e.useEffect(()=>{const e=e=>{var t;!e.altKey||"s"!==e.key&&"S"!==e.key||(e.preventDefault(),e.stopPropagation(),null==(t=o.current)||t.focus())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]),e.useEffect(()=>{var e;if(!u)return;if(!x)return void f.reset(qo);const t=null==(e=null==y?void 0:y.data)?void 0:e.data;if(!t)return;const s=Array.isArray(t)?t[0]:t;s&&f.reset({id:String(s.id)||"",announcement:s.announcement||""})},[u,x,null==y?void 0:y.data,f]);const N=e.useMemo(()=>{const e=n.trim().toLowerCase();return e?null==b?void 0:b.filter(t=>{var s;return null==(s=t.announcement)?void 0:s.toLowerCase().includes(e)}):b},[b,n]),k=a*i,_=k-i,A=null==N?void 0:N.slice(_,k),P=f.handleSubmit(async e=>{var t,s,a;try{const r=await v.mutateAsync({api:x?Nr.api_updateAnnouncementApi:Nr.api_PostAnnouncementApi,data:x?{id:h,announcement:e.announcement}:{announcement:e.announcement}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||(x?"Announcement updated successfully":"Announcement created successfully")),m(!1),p(!1),g(null),f.reset(qo),j.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to save Announcement")}catch(r){c.error(Sr(r))}});return s.jsxs("div",{children:[s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-blue-600/10 text-blue-600",children:s.jsx(Je,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Announcements"}),s.jsxs("div",{className:"inline-block rounded-full bg-blue-600/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-blue-600",children:[null==b?void 0:b.length," Announcements Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{ref:o,type:"text",placeholder:"Search announcements...",value:n,onChange:e=>{d(e.target.value),r(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-20 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"}),s.jsx("div",{className:"absolute right-2.5 hidden items-center gap-1 sm:flex",children:s.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[s.jsx("span",{className:"text-xs",children:"Alt"}),"S"]})})]}),s.jsxs(sr,{type:"button",onClick:()=>{p(!1),g(null),f.reset(qo),m(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add New Announcement"]})]})]})}),s.jsxs(ui,{className:"p-0",children:[j.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading Announcements..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(mi,{children:[s.jsx(xi,{children:s.jsxs(hi,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(gi,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Announcement"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"})]})}),s.jsx(pi,{children:s.jsx(I,{children:null==A?void 0:A.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:_+t+1})}),s.jsx(fi,{className:"max-w-2xl py-4",children:s.jsx("div",{dangerouslySetInnerHTML:{__html:e.announcement},className:"line-clamp-2 text-sm text-foreground"})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsxs("span",{className:Oa("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(z,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Inactive"]})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>(e=>{p(!0),g(e.id),m(!0)})(e),className:"h-8 w-8 text-blue-600 hover:bg-blue-600/10 hover:text-blue-700",children:s.jsx(D,{className:"h-4 w-4"})}),s.jsx(Di,{checked:1===e.is_suspended,onCheckedChange:()=>(async(e,t)=>{var s,a,r;try{const i=await v.mutateAsync({api:Nr.api_deleteAnnouncementApi,data:{id:e,status:1===t?0:1}});(null==(s=null==i?void 0:i.data)?void 0:s.status)?(c.success((null==(a=null==i?void 0:i.data)?void 0:a.message)||`Announcement ${1===t?"deactivated":"activated"} successfully`),j.refetch()):c.error((null==(r=null==i?void 0:i.data)?void 0:r.message)||"Failed to update Announcement status")}catch(i){c.error(Sr(i))}})(e.id,e.is_suspended),className:"data-[state=checked]:bg-green-500"})]})})]},e.id))})})]}),(null==N?void 0:N.length)>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(ji,{currentPage:a,totalItems:null==N?void 0:N.length,itemsPerPage:i,onPageChange:r,onItemsPerPageChange:e=>{l(e),r(1)}})})]}),!j.isLoading&&0===(null==b?void 0:b.length)&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(Je,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No Announcements found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:n?"Try a different search term.":"Create your first Announcement to populate the citizen landing page."})]})]})]})}),s.jsx(Kr,{open:u,onOpenChange:e=>{m(e),e||(p(!1),g(null),f.reset(qo))},children:s.jsxs(Xr,{className:"max-h-[90vh] min-w-[50vw] overflow-y-auto",children:[s.jsx(ei,{children:s.jsx(si,{className:"text-xl font-bold",children:x?"Update Announcement":"Add New Announcement"})}),x&&y.isLoading?s.jsxs("div",{className:"py-10 text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-3 text-sm text-muted-foreground",children:"Loading Announcement details..."})]}):s.jsxs("form",{onSubmit:P,className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ti,{htmlFor:"announcement",children:"Announcement Content"}),s.jsx(Ke,{value:f.watch("announcement"),onTextChange:e=>f.setValue("announcement",e.htmlValue),style:{height:"320px"}})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2 border-t pt-4",children:[s.jsx(sr,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancel"}),s.jsx(sr,{type:"submit",className:"min-w-[120px]",disabled:v.isPending,children:v.isPending?"Saving...":x?"Update Announcement":"Create Announcement"})]})]})]})})]})}function Wo(){return s.jsx(ri,{title:"Announcements ",subTitle:"Manage all Announcements here. ",children:s.jsx(Oo,{})})}const Vo={id:"",link_heading:"",quick_link:""};function $o(){var t;const[a,r]=e.useState(1),[i,l]=e.useState(10),[n,d]=e.useState(""),o=e.useRef(null),[u,m]=e.useState(!1),[x,p]=e.useState(!1),[h,g]=e.useState(null),f=w({defaultValues:Vo}),v=li({}),j=ii({api:Nr.api_getQuickLinkApiList,key:"quickLinkList",options:{enabled:!0}}),b=(null==(t=null==j?void 0:j.data)?void 0:t.data)||[],y=ii({api:Nr.api_getQuickLinkApiById,key:`quickLinkById_${h??""}`,config:{id:h},options:{enabled:!!h&&x&&u}});e.useEffect(()=>{const e=e=>{var t;!e.altKey||"s"!==e.key&&"S"!==e.key||(e.preventDefault(),e.stopPropagation(),null==(t=o.current)||t.focus())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]),e.useEffect(()=>{var e;if(!u)return;if(!x)return void f.reset(Vo);const t=null==(e=null==y?void 0:y.data)?void 0:e.data;if(!t)return;const s=Array.isArray(t)?t[0]:t;s&&f.reset({id:String(s.id)||"",link_heading:s.link_heading||"",quick_link:s.quick_link||""})},[u,x,null==y?void 0:y.data,f]);const N=e.useMemo(()=>{const e=n.trim().toLowerCase();return e?null==b?void 0:b.filter(t=>{var s,a;return(null==(s=t.link_heading)?void 0:s.toLowerCase().includes(e))||(null==(a=t.quick_link)?void 0:a.toLowerCase().includes(e))}):b},[b,n]),k=a*i,_=k-i,A=null==N?void 0:N.slice(_,k),P=f.handleSubmit(async e=>{var t,s,a;try{const r=await v.mutateAsync({api:x?Nr.api_updateQuickLinkApi:Nr.api_PostQuickLinkApi,data:x?{id:h,link_heading:e.link_heading,quick_link:e.quick_link}:{link_heading:e.link_heading,quick_link:e.quick_link}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||(x?"Quick Link updated successfully":"Quick Link created successfully")),m(!1),p(!1),g(null),f.reset(Vo),j.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to save Quick Link")}catch(r){c.error(Sr(r))}}),E=e=>{const t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText||""};return s.jsxs("div",{children:[s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-gradient-to-r from-purple-500/10 via-blue-500/10 to-cyan-500/10 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br from-purple-600 to-blue-600 text-white shadow-lg",children:s.jsx(R,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Quick Links"}),s.jsxs("div",{className:"inline-block rounded-full bg-gradient-to-r from-purple-600/10 to-blue-600/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-purple-600",children:[null==b?void 0:b.length," Links Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{ref:o,type:"text",placeholder:"Search quick links...",value:n,onChange:e=>{d(e.target.value),r(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-20 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"}),s.jsx("div",{className:"absolute right-2.5 hidden items-center gap-1 sm:flex",children:s.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[s.jsx("span",{className:"text-xs",children:"Alt"}),"S"]})})]}),s.jsxs(sr,{type:"button",onClick:()=>{p(!1),g(null),f.reset(Vo),m(!0)},className:"flex items-center gap-2  shadow-md transition-all hover:from-purple-700 hover:to-blue-700 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add Quick Link"]})]})]})}),s.jsxs(ui,{className:"p-0",children:[j.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading Quick Links..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(mi,{children:[s.jsx(xi,{children:s.jsxs(hi,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(gi,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Link Title"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"URL"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"})]})}),s.jsx(pi,{children:s.jsx(I,{children:null==A?void 0:A.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full bg-gradient-to-br from-purple-100 to-blue-100 text-xs font-bold text-purple-700",children:_+t+1})}),s.jsx(fi,{className:"max-w-xs py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(R,{className:"h-4 w-4 text-purple-600"}),s.jsx("span",{className:"font-medium text-foreground",children:E(e.link_heading)})]})}),s.jsx(fi,{className:"max-w-md py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"truncate text-sm text-muted-foreground",children:e.quick_link}),"#"!==e.quick_link&&s.jsx(Xe,{className:"h-3 w-3 text-blue-500"})]})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsxs("span",{className:Oa("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(z,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Inactive"]})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>(e=>{p(!0),g(e.id),m(!0)})(e),className:"h-8 w-8 text-purple-600 hover:bg-purple-600/10 hover:text-purple-700",children:s.jsx(D,{className:"h-4 w-4"})}),s.jsx(Di,{checked:1===e.is_suspended,onCheckedChange:()=>(async(e,t)=>{var s,a,r;try{const i=await v.mutateAsync({api:Nr.api_deleteQuickLinkApi,data:{id:e,status:1===t?0:1}});(null==(s=null==i?void 0:i.data)?void 0:s.status)?(c.success((null==(a=null==i?void 0:i.data)?void 0:a.message)||`Quick Link ${1===t?"deactivated":"activated"} successfully`),j.refetch()):c.error((null==(r=null==i?void 0:i.data)?void 0:r.message)||"Failed to update Quick Link status")}catch(i){c.error(Sr(i))}})(e.id,e.is_suspended),className:"data-[state=checked]:bg-green-500"})]})})]},e.id))})})]}),(null==N?void 0:N.length)>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(ji,{currentPage:a,totalItems:null==N?void 0:N.length,itemsPerPage:i,onPageChange:r,onItemsPerPageChange:e=>{l(e),r(1)}})})]}),!j.isLoading&&0===(null==b?void 0:b.length)&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-gradient-to-br from-purple-100 to-blue-100",children:s.jsx(R,{className:"h-12 w-12 text-purple-400"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No Quick Links found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:n?"Try a different search term.":"Create your first Quick Link to help users navigate quickly."})]})]})]})}),s.jsx(Kr,{open:u,onOpenChange:e=>{m(e),e||(p(!1),g(null),f.reset(Vo))},children:s.jsxs(Xr,{className:"max-h-[90vh] min-w-[50vw] overflow-y-auto",children:[s.jsx(ei,{children:s.jsxs(si,{className:"flex items-center gap-2 text-xl font-bold",children:[s.jsx(R,{className:"h-5 w-5 text-purple-600"}),x?"Update Quick Link":"Add New Quick Link"]})}),x&&y.isLoading?s.jsxs("div",{className:"py-10 text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-3 text-sm text-muted-foreground",children:"Loading Quick Link details..."})]}):s.jsxs("form",{onSubmit:P,className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ti,{htmlFor:"link_heading",children:"Link Title"}),s.jsx(Ke,{value:f.watch("link_heading"),onTextChange:e=>f.setValue("link_heading",e.htmlValue),style:{height:"150px"}})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ti,{htmlFor:"quick_link",children:"Link URL"}),s.jsx(yi,{...f.register("quick_link",{required:"URL is required"}),placeholder:"Enter the URL (e.g., https://example.com or #)",className:"h-10"}),f.formState.errors.quick_link&&s.jsx("p",{className:"text-sm text-red-500",children:f.formState.errors.quick_link.message})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2 border-t pt-4",children:[s.jsx(sr,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancel"}),s.jsx(sr,{type:"submit",className:"min-w-[120px] bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700",disabled:v.isPending,children:v.isPending?"Saving...":x?"Update Link":"Create Link"})]})]})]})})]})}function Ho(){return s.jsx(ri,{title:"Quick Links",subTitle:"Manage all Quick Links here. ",children:s.jsx($o,{})})}const Qo={id:"",whats_new:""};function Zo(){var t;const[a,r]=e.useState(1),[i,l]=e.useState(10),[n,d]=e.useState(""),o=e.useRef(null),[u,m]=e.useState(!1),[x,p]=e.useState(!1),[h,g]=e.useState(null),f=w({defaultValues:Qo}),v=li({}),j=ii({api:Nr.api_getWhatsNewApiList,key:"whatsNewList",options:{enabled:!0}}),b=(null==(t=null==j?void 0:j.data)?void 0:t.data)||[],y=ii({api:Nr.api_getWhatsNewApiById,key:`whatsNewById_${h??""}`,config:{id:h},options:{enabled:!!h&&x&&u}});e.useEffect(()=>{const e=e=>{var t;!e.altKey||"s"!==e.key&&"S"!==e.key||(e.preventDefault(),e.stopPropagation(),null==(t=o.current)||t.focus())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]),e.useEffect(()=>{var e;if(!u)return;if(!x)return void f.reset(Qo);const t=null==(e=null==y?void 0:y.data)?void 0:e.data;if(!t)return;const s=Array.isArray(t)?t[0]:t;s&&f.reset({id:String(s.id)||"",whats_new:s.whats_new||""})},[u,x,null==y?void 0:y.data,f]);const N=e.useMemo(()=>{const e=n.trim().toLowerCase();return e?null==b?void 0:b.filter(t=>{var s;return null==(s=t.whats_new)?void 0:s.toLowerCase().includes(e)}):b},[b,n]),k=a*i,_=k-i,A=null==N?void 0:N.slice(_,k),P=f.handleSubmit(async e=>{var t,s,a;try{const r=await v.mutateAsync({api:x?Nr.api_updateWhatsNewApi:Nr.api_PostWhatsNewApi,data:x?{whatsNew:e.whats_new,id:e.id}:{whatsNew:e.whats_new}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||(x?"What's New updated successfully":"What's New created successfully")),m(!1),p(!1),g(null),f.reset(Qo),j.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to save What's New")}catch(r){c.error(Sr(r))}});return s.jsxs("div",{children:[s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-emerald-600/10 text-emerald-600",children:s.jsx(et,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"What's New"}),s.jsxs("div",{className:"inline-block rounded-full bg-emerald-600/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-emerald-600",children:[null==b?void 0:b.length," Items Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{ref:o,type:"text",placeholder:"Search whats new...",value:n,onChange:e=>{d(e.target.value),r(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-20 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"}),s.jsx("div",{className:"absolute right-2.5 hidden items-center gap-1 sm:flex",children:s.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[s.jsx("span",{className:"text-xs",children:"Alt"}),"S"]})})]}),s.jsxs(sr,{type:"button",onClick:()=>{p(!1),g(null),f.reset(Qo),m(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add What's New"]})]})]})}),s.jsxs(ui,{className:"p-0",children:[j.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading What's New..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(mi,{children:[s.jsx(xi,{children:s.jsxs(hi,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(gi,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"What's New"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"})]})}),s.jsx(pi,{children:s.jsx(I,{children:null==A?void 0:A.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:_+t+1})}),s.jsx(fi,{className:"max-w-2xl py-4",children:s.jsx("div",{dangerouslySetInnerHTML:{__html:e.whats_new},className:"line-clamp-2 text-sm text-foreground"})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsxs("span",{className:Oa("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(z,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Inactive"]})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>(e=>{p(!0),g(e.id),m(!0)})(e),className:"h-8 w-8 text-blue-600 hover:bg-blue-600/10 hover:text-blue-700",children:s.jsx(D,{className:"h-4 w-4"})}),s.jsx(Di,{checked:1===e.is_suspended,onCheckedChange:()=>(async(e,t)=>{var s,a,r;try{const i=await v.mutateAsync({api:Nr.api_deleteWhatsNewApi,data:{id:e,status:1===t?0:1}});(null==(s=null==i?void 0:i.data)?void 0:s.status)?(c.success((null==(a=null==i?void 0:i.data)?void 0:a.message)||`What's New ${1===t?"deactivated":"activated"} successfully`),j.refetch()):c.error((null==(r=null==i?void 0:i.data)?void 0:r.message)||"Failed to update What's New status")}catch(i){c.error(Sr(i))}})(e.id,e.is_suspended),className:"data-[state=checked]:bg-green-500"})]})})]},e.id))})})]}),(null==N?void 0:N.length)>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(ji,{currentPage:a,totalItems:null==N?void 0:N.length,itemsPerPage:i,onPageChange:r,onItemsPerPageChange:e=>{l(e),r(1)}})})]}),!j.isLoading&&0===(null==b?void 0:b.length)&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(et,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No What's New found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:n?"Try a different search term.":"Create your first What's New item to populate the citizen landing page."})]})]})]})}),s.jsx(Kr,{open:u,onOpenChange:e=>{m(e),e||(p(!1),g(null),f.reset(Qo))},children:s.jsxs(Xr,{className:"max-h-[90vh] min-w-[50vw] overflow-y-auto",children:[s.jsx(ei,{children:s.jsx(si,{className:"text-xl font-bold",children:x?"Update What's New":"Add New What's New"})}),x&&y.isLoading?s.jsxs("div",{className:"py-10 text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-3 text-sm text-muted-foreground",children:"Loading What's New details..."})]}):s.jsxs("form",{onSubmit:P,className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ti,{htmlFor:"whats_new",children:"What's New Content"}),s.jsx(Ke,{value:f.watch("whats_new"),onTextChange:e=>f.setValue("whats_new",e.htmlValue),style:{height:"320px"}})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2 border-t pt-4",children:[s.jsx(sr,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancel"}),s.jsx(sr,{type:"submit",className:"min-w-[120px]",disabled:v.isPending,children:v.isPending?"Saving...":x?"Update What's New":"Create What's New"})]})]})]})})]})}function Go(){return s.jsx(ri,{title:"Whats New ",subTitle:"Manage all Whats New here. ",children:s.jsx(Zo,{})})}const Ko={id:"",app_name:"",app_link:""};function Yo(){var t;const[a,r]=e.useState(1),[i,l]=e.useState(10),[n,d]=e.useState(""),o=e.useRef(null),[u,m]=e.useState(!1),[x,p]=e.useState(!1),[h,g]=e.useState(null),f=w({defaultValues:Ko}),v=li({}),j=ii({api:Nr.api_getMobileAppApiList,key:"mobileAppList",options:{enabled:!0}}),b=(null==(t=null==j?void 0:j.data)?void 0:t.data)||[],y=ii({api:Nr.api_getMobileAppApiById,key:`mobileAppById_${h??""}`,config:{id:h},options:{enabled:!!h&&x&&u}});e.useEffect(()=>{const e=e=>{var t;!e.altKey||"s"!==e.key&&"S"!==e.key||(e.preventDefault(),e.stopPropagation(),null==(t=o.current)||t.focus())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]),e.useEffect(()=>{var e;if(!u)return;if(!x)return void f.reset(Ko);const t=null==(e=null==y?void 0:y.data)?void 0:e.data;if(!t)return;const s=Array.isArray(t)?t[0]:t;s&&f.reset({id:String(s.id)||"",app_name:s.app_name||"",app_link:s.app_link||""})},[u,x,null==y?void 0:y.data,f]);const N=e.useMemo(()=>{const e=n.trim().toLowerCase();return e?null==b?void 0:b.filter(t=>{var s;return null==(s=t.app_name)?void 0:s.toLowerCase().includes(e)}):b},[b,n]),k=a*i,_=k-i,A=null==N?void 0:N.slice(_,k),P=f.handleSubmit(async e=>{var t,s,a;try{const r=await v.mutateAsync({api:x?Nr.api_updateMobileAppApi:Nr.api_PostMobileAppApi,data:x?{id:h,appName:e.app_name,appLink:e.app_link}:{appName:e.app_name,appLink:e.app_link}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||(x?"Mobile App updated successfully":"Mobile App created successfully")),m(!1),p(!1),g(null),f.reset(Ko),j.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to save Mobile App")}catch(r){c.error(Sr(r))}});return s.jsxs("div",{children:[s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-blue-600/10 text-blue-600",children:s.jsx(tt,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Mobile Apps"}),s.jsxs("div",{className:"inline-block rounded-full bg-blue-600/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-blue-600",children:[null==b?void 0:b.length," Apps Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{ref:o,type:"text",placeholder:"Search mobile apps...",value:n,onChange:e=>{d(e.target.value),r(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-20 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"}),s.jsx("div",{className:"absolute right-2.5 hidden items-center gap-1 sm:flex",children:s.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[s.jsx("span",{className:"text-xs",children:"Alt"}),"S"]})})]}),s.jsxs(Va,{type:"button",onClick:()=>{p(!1),g(null),f.reset(Ko),m(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add Mobile App"]})]})]})}),s.jsxs(ui,{className:"p-0",children:[j.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading Mobile Apps..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(mi,{children:[s.jsx(xi,{children:s.jsxs(hi,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(gi,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"App Name"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"App Link"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"})]})}),s.jsx(pi,{children:s.jsx(I,{children:null==A?void 0:A.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:_+t+1})}),s.jsx(fi,{className:"py-4",children:s.jsx("div",{className:"text-sm font-medium text-foreground",children:e.app_name})}),s.jsx(fi,{className:"py-4",children:s.jsx("div",{className:"text-sm text-muted-foreground",children:e.app_link})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsxs("span",{className:Oa("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(z,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Inactive"]})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsx(Va,{variant:"ghost",size:"icon",onClick:()=>(e=>{p(!0),g(e.id),m(!0)})(e),className:"h-8 w-8 text-blue-600 hover:bg-blue-600/10 hover:text-blue-700",children:s.jsx(D,{className:"h-4 w-4"})}),s.jsx(Di,{checked:1===e.is_suspended,onCheckedChange:()=>(async(e,t)=>{var s,a,r;try{const i=await v.mutateAsync({api:Nr.api_deleteMobileAppApi,data:{id:e,status:1===t?0:1}});(null==(s=null==i?void 0:i.data)?void 0:s.status)?(c.success((null==(a=null==i?void 0:i.data)?void 0:a.message)||`Mobile App ${1===t?"deactivated":"activated"} successfully`),j.refetch()):c.error((null==(r=null==i?void 0:i.data)?void 0:r.message)||"Failed to update Mobile App status")}catch(i){c.error(Sr(i))}})(e.id,e.is_suspended),className:"data-[state=checked]:bg-green-500"})]})})]},e.id))})})]}),(null==N?void 0:N.length)>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(ji,{currentPage:a,totalItems:null==N?void 0:N.length,itemsPerPage:i,onPageChange:r,onItemsPerPageChange:e=>{l(e),r(1)}})})]}),!j.isLoading&&0===(null==b?void 0:b.length)&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(tt,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No Mobile Apps found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:n?"Try a different search term.":"Create your first Mobile App to populate the citizen landing page."})]})]})]})}),s.jsx(Kr,{open:u,onOpenChange:e=>{m(e),e||(p(!1),g(null),f.reset(Ko))},children:s.jsxs(Xr,{className:"max-h-[90vh] overflow-y-auto",children:[s.jsx(ei,{children:s.jsx(si,{className:"text-xl font-bold",children:x?"Update Mobile App":"Add New Mobile App"})}),x&&y.isLoading?s.jsxs("div",{className:"py-10 text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-3 text-sm text-muted-foreground",children:"Loading Mobile App details..."})]}):s.jsxs("form",{onSubmit:P,className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ti,{htmlFor:"app_name",children:"App Name"}),s.jsx(yi,{id:"app_name",...f.register("app_name",{required:!0}),placeholder:"Enter app name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ti,{htmlFor:"app_link",children:"App Link"}),s.jsx(yi,{id:"app_link",...f.register("app_link",{required:!0}),placeholder:"Enter app link"})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2 border-t pt-4",children:[s.jsx(Va,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancel"}),s.jsx(Va,{type:"submit",className:"min-w-[120px]",disabled:v.isPending,children:v.isPending?"Saving...":x?"Update Mobile App":"Create Mobile App"})]})]})]})})]})}function Jo(){return s.jsx(ri,{title:"Mobile App",subTitle:"Manage Mobile App Links from here. ",children:s.jsx(Yo,{})})}const Xo={id:"",scheme_name:"",scheme_link:""};function ec(){var t;const[a,r]=e.useState(1),[i,l]=e.useState(10),[n,d]=e.useState(""),o=e.useRef(null),[u,m]=e.useState(!1),[x,p]=e.useState(!1),[h,g]=e.useState(null),f=w({defaultValues:Xo}),v=li({}),j=ii({api:Nr.api_getSchemeApiList,key:"schemeTypeList",options:{enabled:!0}}),b=(null==(t=null==j?void 0:j.data)?void 0:t.data)||[],y=ii({api:Nr.api_getSchemeApiById,key:`schemeTypeById_${h??""}`,config:{id:h},options:{enabled:!!h&&x&&u}});e.useEffect(()=>{const e=e=>{var t;!e.altKey||"s"!==e.key&&"S"!==e.key||(e.preventDefault(),e.stopPropagation(),null==(t=o.current)||t.focus())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]),e.useEffect(()=>{var e;if(!u)return;if(!x)return void f.reset(Xo);const t=null==(e=null==y?void 0:y.data)?void 0:e.data;if(!t)return;const s=Array.isArray(t)?t[0]:t;s&&f.reset({id:String(s.id)||"",scheme_name:s.scheme_name||"",scheme_link:s.scheme_link||""})},[u,x,null==y?void 0:y.data,f]);const N=e.useMemo(()=>{const e=n.trim().toLowerCase();return e?null==b?void 0:b.filter(t=>{var s;return null==(s=t.scheme_name)?void 0:s.toLowerCase().includes(e)}):b},[b,n]),k=a*i,_=k-i,A=null==N?void 0:N.slice(_,k),P=f.handleSubmit(async e=>{var t,s,a;try{const r=await v.mutateAsync({api:x?Nr.api_updateSchemeApi:Nr.api_PostSchemeApi,data:x?{id:h,schemeName:e.scheme_name,schemeLink:e.scheme_link}:{schemeName:e.scheme_name,schemeLink:e.scheme_link}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||(x?"Scheme updated successfully":"Scheme created successfully")),m(!1),p(!1),g(null),f.reset(Xo),j.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to save Scheme")}catch(r){c.error(Sr(r))}});return s.jsxs("div",{children:[s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-blue-600/10 text-blue-600",children:s.jsx(te,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Scheme Type Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-blue-600/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-blue-600",children:[null==b?void 0:b.length," Schemes Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{ref:o,type:"text",placeholder:"Search schemes...",value:n,onChange:e=>{d(e.target.value),r(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-20 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"}),s.jsx("div",{className:"absolute right-2.5 hidden items-center gap-1 sm:flex",children:s.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[s.jsx("span",{className:"text-xs",children:"Alt"}),"S"]})})]}),s.jsxs(Va,{type:"button",onClick:()=>{p(!1),g(null),f.reset(Xo),m(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add Scheme"]})]})]})}),s.jsxs(ui,{className:"p-0",children:[j.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading Schemes..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(mi,{children:[s.jsx(xi,{children:s.jsxs(hi,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(gi,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Scheme Name"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Scheme Link"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"})]})}),s.jsx(pi,{children:s.jsx(I,{children:null==A?void 0:A.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:_+t+1})}),s.jsx(fi,{className:"py-4",children:s.jsx("div",{className:"text-sm font-medium text-foreground",children:e.scheme_name})}),s.jsx(fi,{className:"py-4",children:s.jsx("div",{className:"text-sm text-muted-foreground",children:e.scheme_link})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsxs("span",{className:Oa("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(z,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Inactive"]})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsx(Va,{variant:"ghost",size:"icon",onClick:()=>(e=>{p(!0),g(e.id),m(!0)})(e),className:"h-8 w-8 text-blue-600 hover:bg-blue-600/10 hover:text-blue-700",children:s.jsx(D,{className:"h-4 w-4"})}),s.jsx(Di,{checked:1===e.is_suspended,onCheckedChange:()=>(async(e,t)=>{var s,a,r;try{const i=await v.mutateAsync({api:Nr.api_deleteSchemeApi,data:{id:e,status:1===t?0:1}});(null==(s=null==i?void 0:i.data)?void 0:s.status)?(c.success((null==(a=null==i?void 0:i.data)?void 0:a.message)||`Scheme ${1===t?"deactivated":"activated"} successfully`),j.refetch()):c.error((null==(r=null==i?void 0:i.data)?void 0:r.message)||"Failed to update Scheme status")}catch(i){c.error(Sr(i))}})(e.id,e.is_suspended),className:"data-[state=checked]:bg-green-500"})]})})]},e.id))})})]}),(null==N?void 0:N.length)>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(ji,{currentPage:a,totalItems:null==N?void 0:N.length,itemsPerPage:i,onPageChange:r,onItemsPerPageChange:e=>{l(e),r(1)}})})]}),!j.isLoading&&0===(null==b?void 0:b.length)&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(te,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No Schemes found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:n?"Try a different search term.":"Create your first Scheme to populate the citizen landing page."})]})]})]})}),s.jsx(Kr,{open:u,onOpenChange:e=>{m(e),e||(p(!1),g(null),f.reset(Xo))},children:s.jsxs(Xr,{className:"max-h-[90vh] overflow-y-auto",children:[s.jsx(ei,{children:s.jsx(si,{className:"text-xl font-bold",children:x?"Update Scheme":"Add New Scheme"})}),x&&y.isLoading?s.jsxs("div",{className:"py-10 text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-3 text-sm text-muted-foreground",children:"Loading Scheme details..."})]}):s.jsxs("form",{onSubmit:P,className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ti,{htmlFor:"scheme_name",children:"Scheme Name"}),s.jsx(yi,{id:"scheme_name",...f.register("scheme_name",{required:!0}),placeholder:"Enter scheme name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ti,{htmlFor:"scheme_link",children:"Scheme Link"}),s.jsx(yi,{id:"scheme_link",...f.register("scheme_link",{required:!0}),placeholder:"Enter scheme link"})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2 border-t pt-4",children:[s.jsx(Va,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancel"}),s.jsx(Va,{type:"submit",className:"min-w-[120px]",disabled:v.isPending,children:v.isPending?"Saving...":x?"Update Scheme":"Create Scheme"})]})]})]})})]})}function tc(){return s.jsx(ri,{title:"Scheme Type Master",subTitle:"Manage Scheme Type Master here. ",children:s.jsx(ec,{})})}const sc={id:"",news:"",news_link:""};function ac(){var t;const[a,r]=e.useState(1),[i,l]=e.useState(10),[n,d]=e.useState(""),o=e.useRef(null),[u,m]=e.useState(!1),[x,p]=e.useState(!1),[h,g]=e.useState(null),f=w({defaultValues:sc}),v=li({}),j=ii({api:Nr.api_getNewEventsApiList,key:"newsEventList",options:{enabled:!0}}),b=(null==(t=null==j?void 0:j.data)?void 0:t.data)||[],y=ii({api:Nr.api_getNewEventsApiById,key:`newsEventById_${h??""}`,config:{id:h},options:{enabled:!!h&&x&&u}});e.useEffect(()=>{const e=e=>{var t;!e.altKey||"s"!==e.key&&"S"!==e.key||(e.preventDefault(),e.stopPropagation(),null==(t=o.current)||t.focus())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]),e.useEffect(()=>{var e;if(!u)return;if(!x)return void f.reset(sc);const t=null==(e=null==y?void 0:y.data)?void 0:e.data;if(!t)return;const s=Array.isArray(t)?t[0]:t;s&&f.reset({id:String(s.id)||"",news:s.news||"",news_link:s.news_link||""})},[u,x,null==y?void 0:y.data,f]);const N=e.useMemo(()=>{const e=n.trim().toLowerCase();return e?null==b?void 0:b.filter(t=>{var s;return null==(s=t.news)?void 0:s.toLowerCase().includes(e)}):b},[b,n]),k=a*i,_=k-i,A=null==N?void 0:N.slice(_,k),P=f.handleSubmit(async e=>{var t,s,a;try{const r=await v.mutateAsync({api:x?Nr.api_updateNewEventsApi:Nr.api_PostNewEventsApi,data:x?{id:h,news:e.news,newsLink:e.news_link,isSuspended:!1}:{news:e.news,newsLink:e.news_link,isSuspended:!1}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||(x?"News & Event updated successfully":"News & Event created successfully")),m(!1),p(!1),g(null),f.reset(sc),j.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to save News & Event")}catch(r){c.error(Sr(r))}});return s.jsxs("div",{children:[s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-blue-600/10 text-blue-600",children:s.jsx(et,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"News & Events"}),s.jsxs("div",{className:"inline-block rounded-full bg-blue-600/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-blue-600",children:[null==b?void 0:b.length," Items Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{ref:o,type:"text",placeholder:"Search news & events...",value:n,onChange:e=>{d(e.target.value),r(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-20 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"}),s.jsx("div",{className:"absolute right-2.5 hidden items-center gap-1 sm:flex",children:s.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[s.jsx("span",{className:"text-xs",children:"Alt"}),"S"]})})]}),s.jsxs(Va,{type:"button",onClick:()=>{p(!1),g(null),f.reset(sc),m(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add News & Event"]})]})]})}),s.jsxs(ui,{className:"p-0",children:[j.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading News & Events..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(mi,{children:[s.jsx(xi,{children:s.jsxs(hi,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(gi,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"News"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Link"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"})]})}),s.jsx(pi,{children:s.jsx(I,{children:null==A?void 0:A.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:_+t+1})}),s.jsx(fi,{className:"py-4",children:s.jsx("div",{className:"text-sm font-medium text-foreground",children:e.news})}),s.jsx(fi,{className:"py-4",children:s.jsx("a",{href:e.news_link,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline",children:e.news_link})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsxs("span",{className:Oa("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(z,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Inactive"]})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsx(Va,{variant:"ghost",size:"icon",onClick:()=>(e=>{p(!0),g(e.id),m(!0)})(e),className:"h-8 w-8 text-blue-600 hover:bg-blue-600/10 hover:text-blue-700",children:s.jsx(D,{className:"h-4 w-4"})}),s.jsx(Di,{checked:1===e.is_suspended,onCheckedChange:()=>(async(e,t)=>{var s,a,r;try{const i=await v.mutateAsync({api:Nr.api_deleteNewEventsApi,data:{id:e,status:1===t?0:1}});(null==(s=null==i?void 0:i.data)?void 0:s.status)?(c.success((null==(a=null==i?void 0:i.data)?void 0:a.message)||`News & Event ${1===t?"deactivated":"activated"} successfully`),j.refetch()):c.error((null==(r=null==i?void 0:i.data)?void 0:r.message)||"Failed to update News & Event status")}catch(i){c.error(Sr(i))}})(e.id,e.is_suspended),className:"data-[state=checked]:bg-green-500"})]})})]},e.id))})})]}),(null==N?void 0:N.length)>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(ji,{currentPage:a,totalItems:null==N?void 0:N.length,itemsPerPage:i,onPageChange:r,onItemsPerPageChange:e=>{l(e),r(1)}})})]}),!j.isLoading&&0===(null==b?void 0:b.length)&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(et,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No News & Events found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:n?"Try a different search term.":"Create your first News & Event to populate the citizen landing page."})]})]})]})}),s.jsx(Kr,{open:u,onOpenChange:e=>{m(e),e||(p(!1),g(null),f.reset(sc))},children:s.jsxs(Xr,{className:"max-h-[90vh] overflow-y-auto",children:[s.jsx(ei,{children:s.jsx(si,{className:"text-xl font-bold",children:x?"Update News & Event":"Add New News & Event"})}),x&&y.isLoading?s.jsxs("div",{className:"py-10 text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-3 text-sm text-muted-foreground",children:"Loading News & Event details..."})]}):s.jsxs("form",{onSubmit:P,className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ti,{htmlFor:"news",children:"News"}),s.jsx(yi,{id:"news",...f.register("news",{required:!0}),placeholder:"Enter news title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ti,{htmlFor:"news_link",children:"News Link"}),s.jsx(yi,{id:"news_link",...f.register("news_link",{required:!0}),placeholder:"Enter news link"})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2 border-t pt-4",children:[s.jsx(Va,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancel"}),s.jsx(Va,{type:"submit",className:"min-w-[120px]",disabled:v.isPending,children:v.isPending?"Saving...":x?"Update News & Event":"Create News & Event"})]})]})]})})]})}function rc(){return s.jsx(ri,{title:"News & Events Master",subTitle:"Manage News & Events Masters",children:s.jsx(ac,{})})}const ic={id:"",service:"",service_link:""};function lc(){var t;const[a,r]=e.useState(1),[i,l]=e.useState(10),[n,d]=e.useState(""),o=e.useRef(null),[u,m]=e.useState(!1),[x,p]=e.useState(!1),[h,g]=e.useState(null),f=w({defaultValues:ic}),v=li({}),j=ii({api:Nr.api_getEserviceApiList,key:"eServiceList",options:{enabled:!0}}),b=(null==(t=null==j?void 0:j.data)?void 0:t.data)||[],y=ii({api:Nr.api_getEserviceApiById,key:`eServiceById_${h??""}`,config:{id:h},options:{enabled:!!h&&x&&u}});e.useEffect(()=>{const e=e=>{var t;!e.altKey||"s"!==e.key&&"S"!==e.key||(e.preventDefault(),e.stopPropagation(),null==(t=o.current)||t.focus())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]),e.useEffect(()=>{var e;if(!u)return;if(!x)return void f.reset(ic);const t=null==(e=null==y?void 0:y.data)?void 0:e.data;if(!t)return;const s=Array.isArray(t)?t[0]:t;s&&f.reset({id:String(s.id)||"",service:s.service||"",service_link:s.service_link||""})},[u,x,null==y?void 0:y.data,f]);const N=e.useMemo(()=>{const e=n.trim().toLowerCase();return e?null==b?void 0:b.filter(t=>{var s;return null==(s=t.service)?void 0:s.toLowerCase().includes(e)}):b},[b,n]),k=a*i,_=k-i,A=null==N?void 0:N.slice(_,k),P=f.handleSubmit(async e=>{var t,s,a;try{const r=await v.mutateAsync({api:x?Nr.api_updateEserviceApi:Nr.api_PostEserviceApi,data:x?{id:h,service:e.service,serviceLink:e.service_link,isSuspended:!1}:{service:e.service,serviceLink:e.service_link,isSuspended:!1}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||(x?"E-Service updated successfully":"E-Service created successfully")),m(!1),p(!1),g(null),f.reset(ic),j.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to save E-Service")}catch(r){c.error(Sr(r))}});return s.jsxs("div",{children:[s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-blue-600/10 text-blue-600",children:s.jsx(V,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"E-Services"}),s.jsxs("div",{className:"inline-block rounded-full bg-blue-600/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-blue-600",children:[null==b?void 0:b.length," Services Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{ref:o,type:"text",placeholder:"Search e-services...",value:n,onChange:e=>{d(e.target.value),r(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-20 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"}),s.jsx("div",{className:"absolute right-2.5 hidden items-center gap-1 sm:flex",children:s.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[s.jsx("span",{className:"text-xs",children:"Alt"}),"S"]})})]}),s.jsxs(Va,{type:"button",onClick:()=>{p(!1),g(null),f.reset(ic),m(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add E-Service"]})]})]})}),s.jsxs(ui,{className:"p-0",children:[j.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading E-Services..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(mi,{children:[s.jsx(xi,{children:s.jsxs(hi,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(gi,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Service Name"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Service Link"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"})]})}),s.jsx(pi,{children:s.jsx(I,{children:null==A?void 0:A.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:_+t+1})}),s.jsx(fi,{className:"py-4",children:s.jsx("div",{className:"text-sm font-medium text-foreground",children:e.service})}),s.jsx(fi,{className:"py-4",children:s.jsx("a",{href:e.service_link,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline",children:e.service_link})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsxs("span",{className:Oa("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(z,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Inactive"]})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsx(Va,{variant:"ghost",size:"icon",onClick:()=>(e=>{p(!0),g(e.id),m(!0)})(e),className:"h-8 w-8 text-blue-600 hover:bg-blue-600/10 hover:text-blue-700",children:s.jsx(D,{className:"h-4 w-4"})}),s.jsx(Di,{checked:1===e.is_suspended,onCheckedChange:()=>(async(e,t)=>{var s,a,r;try{const i=await v.mutateAsync({api:Nr.api_deleteEserviceApi,data:{id:e,status:1===t?0:1}});(null==(s=null==i?void 0:i.data)?void 0:s.status)?(c.success((null==(a=null==i?void 0:i.data)?void 0:a.message)||`E-Service ${1===t?"deactivated":"activated"} successfully`),j.refetch()):c.error((null==(r=null==i?void 0:i.data)?void 0:r.message)||"Failed to update E-Service status")}catch(i){c.error(Sr(i))}})(e.id,e.is_suspended),className:"data-[state=checked]:bg-green-500"})]})})]},e.id))})})]}),(null==N?void 0:N.length)>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(ji,{currentPage:a,totalItems:null==N?void 0:N.length,itemsPerPage:i,onPageChange:r,onItemsPerPageChange:e=>{l(e),r(1)}})})]}),!j.isLoading&&0===(null==b?void 0:b.length)&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(V,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No E-Services found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:n?"Try a different search term.":"Create your first E-Service to populate the citizen landing page."})]})]})]})}),s.jsx(Kr,{open:u,onOpenChange:e=>{m(e),e||(p(!1),g(null),f.reset(ic))},children:s.jsxs(Xr,{className:"max-h-[90vh] overflow-y-auto",children:[s.jsx(ei,{children:s.jsx(si,{className:"text-xl font-bold",children:x?"Update E-Service":"Add New E-Service"})}),x&&y.isLoading?s.jsxs("div",{className:"py-10 text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-3 text-sm text-muted-foreground",children:"Loading E-Service details..."})]}):s.jsxs("form",{onSubmit:P,className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ti,{htmlFor:"service",children:"Service Name"}),s.jsx(yi,{id:"service",...f.register("service",{required:!0}),placeholder:"Enter service name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ti,{htmlFor:"service_link",children:"Service Link"}),s.jsx(yi,{id:"service_link",...f.register("service_link",{required:!0}),placeholder:"Enter service link"})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2 border-t pt-4",children:[s.jsx(Va,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancel"}),s.jsx(Va,{type:"submit",className:"min-w-[120px]",disabled:v.isPending,children:v.isPending?"Saving...":x?"Update E-Service":"Create E-Service"})]})]})]})})]})}function nc(){return s.jsx(ri,{title:"E-Service Master",subTitle:"Manage E-Services Master",children:s.jsx(lc,{})})}const dc={id:"",heading:""},oc={id:"",headingDesc:"",link:"",deskId:""};function cc(){var t;const[a,r]=e.useState(null),[i,l]=e.useState(!1),[n,d]=e.useState(!1),[o,u]=e.useState(!1),[m,x]=e.useState(!1),[p,h]=e.useState(null),[g,f]=e.useState(null),v=w({defaultValues:dc}),j=w({defaultValues:oc}),b=li({}),y=ii({api:Nr.api_getC_DeskHeadingApiList,key:"citizenDeskList",options:{enabled:!0}}),N=(null==(t=null==y?void 0:y.data)?void 0:t.data)||[],k=ii({api:Nr.api_getC_DeskHeadingById,key:`headingById_${p??""}`,config:{id:p},options:{enabled:!!p&&n&&i}}),_=ii({api:Nr.api_getC_DeskDescriptionById,key:`descById_${g??""}`,config:{id:g},options:{enabled:!!g&&m&&o}});e.useEffect(()=>{var e;if(!i||!n)return;const t=null==(e=null==k?void 0:k.data)?void 0:e.data;if(!t)return;const s=Array.isArray(t)?t[0]:t;s&&v.reset({id:String(s.id)||"",heading:s.heading||""})},[i,n,null==k?void 0:k.data,v]),e.useEffect(()=>{var e;if(!o||!m)return;const t=null==(e=null==_?void 0:_.data)?void 0:e.data;if(!t)return;const s=Array.isArray(t)?t[0]:t;s&&j.reset({id:String(s.id)||"",headingDesc:s.heading||"",link:s.links||"",deskId:s.desk_id})},[o,m,null==_?void 0:_.data,j]);const A=v.handleSubmit(async e=>{var t,s,a;try{const r=await b.mutateAsync({api:n?Nr.api_updateC_DeskHeadingApi:Nr.api_PostC_DeskHeadingApi,data:n?{id:p,heading:e.heading}:{heading:e.heading}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||(n?"Heading updated successfully":"Heading created successfully")),l(!1),d(!1),h(null),v.reset(dc),y.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to save heading")}catch(r){c.error(Sr(r))}}),C=j.handleSubmit(async e=>{var t,s,a;try{const r=await b.mutateAsync({api:m?Nr.api_updateC_DeskDescriptionApi:Nr.api_PostC_DeskDescriptionApi,data:m?{id:g,headingDesc:e.headingDesc,link:e.link}:{deskId:p,headingDesc:e.headingDesc,link:e.link}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||(m?"Description updated successfully":"Description created successfully")),u(!1),x(!1),f(null),j.reset(oc),y.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to save description")}catch(r){c.error(Sr(r))}});return s.jsxs("div",{children:[s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-blue-600/10 text-blue-600",children:s.jsx(le,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Citizen Desk"}),s.jsxs("div",{className:"inline-block rounded-full bg-blue-600/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-blue-600",children:[null==N?void 0:N.length," Headings Found"]})]})]}),s.jsxs(Va,{type:"button",onClick:()=>l(!0),className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add Heading"]})]})}),s.jsxs(ui,{className:"p-0",children:[y.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading Citizen Desk..."})]})}):s.jsx("div",{className:"space-y-3 p-4",children:s.jsx(I,{children:null==N?void 0:N.map(e=>s.jsxs(S.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"overflow-hidden rounded-xl border",children:[s.jsxs("div",{className:"flex items-center justify-between bg-muted/20 p-4 transition-colors hover:bg-muted/40",children:[s.jsxs("div",{className:"flex flex-1 cursor-pointer items-center gap-3",onClick:()=>r(a===e.id?null:e.id),children:[a===e.id?s.jsx(ie,{className:"text-blue-600"}):s.jsx(le,{className:"text-blue-600"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground",children:e.heading}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.data.length," descriptions"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Va,{variant:"ghost",size:"icon",onClick:t=>{t.stopPropagation(),(e=>{d(!0),h(e.id),l(!0)})(e)},className:"h-8 w-8 text-blue-600 hover:bg-blue-600/10",children:s.jsx(D,{className:"h-4 w-4"})}),s.jsx(Di,{checked:1===e.is_suspended,onCheckedChange:()=>(async(e,t)=>{var s,a,r;try{const i=await b.mutateAsync({api:Nr.api_deleteC_DeskHeadingApi,data:{id:e,status:1===t?0:1}});(null==(s=null==i?void 0:i.data)?void 0:s.status)?(c.success((null==(a=null==i?void 0:i.data)?void 0:a.message)||`Heading ${1===t?"deactivated":"activated"} successfully`),y.refetch()):c.error((null==(r=null==i?void 0:i.data)?void 0:r.message)||"Failed to update status")}catch(i){c.error(Sr(i))}})(e.id,e.is_suspended),className:"data-[state=checked]:bg-green-500"}),s.jsxs(Va,{size:"sm",onClick:t=>{var s;t.stopPropagation(),s=e.id,x(!1),f(null),h(s),j.reset(oc),u(!0)},className:"ml-2 flex items-center gap-2",children:[s.jsx(L,{className:"h-3 w-3"}),"Add Description"]})]})]}),a===e.id&&s.jsx(S.div,{initial:{height:0},animate:{height:"auto"},exit:{height:0},className:"border-t bg-background",children:0===e.data.length?s.jsx("p",{className:"py-8 text-center text-sm text-muted-foreground",children:"No descriptions available"}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(mi,{children:[s.jsx(xi,{children:s.jsxs(hi,{className:"hover:bg-transparent",children:[s.jsx(gi,{className:"w-12 text-center",children:"#"}),s.jsx(gi,{children:"Description"}),s.jsx(gi,{children:"Link"}),s.jsx(gi,{className:"text-center",children:"Status"}),s.jsx(gi,{className:"text-center",children:"Actions"})]})}),s.jsx(pi,{children:e.data.map((t,a)=>s.jsxs(hi,{children:[s.jsx(fi,{className:"py-2 text-center text-muted-foreground",children:a+1}),s.jsx(fi,{className:"font-medium",children:t.desk_description}),s.jsx(fi,{children:s.jsx("a",{href:t.description_link,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:underline",children:t.description_link})}),s.jsx(fi,{className:"text-center",children:s.jsx(Di,{checked:1===t.is_suspended_v1,onCheckedChange:()=>(async(e,t)=>{var s,a,r;try{const i=await b.mutateAsync({api:Nr.api_deleteC_DeskDescriptionApi,data:{id:e,status:1===t?0:1}});(null==(s=null==i?void 0:i.data)?void 0:s.status)?(c.success((null==(a=null==i?void 0:i.data)?void 0:a.message)||`Description ${1===t?"deactivated":"activated"} successfully`),y.refetch()):c.error((null==(r=null==i?void 0:i.data)?void 0:r.message)||"Failed to update status")}catch(i){c.error(Sr(i))}})(t.description_id,t.is_suspended_v1),className:"data-[state=checked]:bg-green-500"})}),s.jsx(fi,{children:s.jsx("div",{className:"flex items-center justify-center gap-2",children:s.jsx(Va,{variant:"ghost",size:"icon",onClick:()=>((e,t)=>{x(!0),f(e.description_id),h(t),u(!0)})(t,e.id),className:"h-7 w-7 text-blue-600 hover:bg-blue-600/10",children:s.jsx(D,{className:"h-3 w-3"})})})})]},t.description_id))})]})})})]},e.id))})}),!y.isLoading&&0===(null==N?void 0:N.length)&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(le,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No Headings found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:"Create your first heading to get started."})]})]})]})}),s.jsx(Kr,{open:i,onOpenChange:e=>{l(e),e||(v.reset(dc),d(!1),h(null))},children:s.jsxs(Xr,{children:[s.jsx(ei,{children:s.jsx(si,{children:n?"Update Heading":"Add New Heading"})}),n&&k.isLoading?s.jsxs("div",{className:"py-10 text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-3 text-sm text-muted-foreground",children:"Loading heading details..."})]}):s.jsxs("form",{onSubmit:A,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ti,{htmlFor:"heading",children:"Heading"}),s.jsx(yi,{id:"heading",...v.register("heading",{required:!0}),placeholder:"Enter heading"})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2 border-t pt-4",children:[s.jsx(Va,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancel"}),s.jsx(Va,{type:"submit",disabled:b.isPending,children:b.isPending?"Saving...":n?"Update Heading":"Create Heading"})]})]})]})}),s.jsx(Kr,{open:o,onOpenChange:e=>{u(e),e||(j.reset(oc),x(!1),f(null))},children:s.jsxs(Xr,{children:[s.jsx(ei,{children:s.jsx(si,{children:m?"Update Description":"Add New Description"})}),m&&_.isLoading?s.jsxs("div",{className:"py-10 text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-3 text-sm text-muted-foreground",children:"Loading description details..."})]}):s.jsxs("form",{onSubmit:C,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ti,{htmlFor:"headingDesc",children:"Description"}),s.jsx(yi,{id:"headingDesc",...j.register("headingDesc",{required:!0}),placeholder:"Enter description"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ti,{htmlFor:"link",children:"Link"}),s.jsx(yi,{id:"link",...j.register("link",{required:!0}),placeholder:"Enter link"})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2 border-t pt-4",children:[s.jsx(Va,{type:"button",variant:"outline",onClick:()=>u(!1),children:"Cancel"}),s.jsx(Va,{type:"submit",disabled:b.isPending,children:b.isPending?"Saving...":m?"Update Description":"Create Description"})]})]})]})})]})}function uc(){return s.jsx(ri,{title:"Citizen Desk",subTitle:"Manage Citizen Desk Masters",children:s.jsx(cc,{})})}const mc={aboutUs:"",vision:"",mission:"",objective:"",function:""};function xc(){var t;const[a,r]=e.useState(!1),[i,l]=e.useState(!1),[n,d]=e.useState(null),o=w({defaultValues:mc}),u=li({}),m=ii({api:Nr.api_getAboutUsApiList,key:"aboutUsList",options:{enabled:!0}}),x=(null==(t=null==m?void 0:m.data)?void 0:t.data)||[],p=ii({api:Nr.api_getAboutUsApiById,key:`aboutUsById_${n??""}`,config:{id:n},options:{enabled:!!n&&i&&a}});e.useEffect(()=>{var e;if(!a||!i)return;const t=null==(e=null==p?void 0:p.data)?void 0:e.data;if(!t)return;const s=Array.isArray(t)?t[0]:t;s&&o.reset({aboutUs:s.about_us||"",vision:s.vision||"",mission:s.mission||"",objective:s.objective||"",function:s.functn||""})},[a,i,null==p?void 0:p.data,o]);const h=o.handleSubmit(async e=>{var t,s,a;try{const x=await u.mutateAsync({api:i?Nr.api_updateAboutUsApi:Nr.api_PostAboutUsApi,data:i?{id:n,aboutUs:e.aboutUs,vision:e.vision,mission:e.mission,objective:e.objective,function:e.function}:{aboutUs:e.aboutUs,vision:e.vision,mission:e.mission,objective:e.objective,function:e.function}});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(c.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||(i?"About Us updated successfully":"About Us created successfully")),r(!1),l(!1),d(null),o.reset(mc),m.refetch()):c.error((null==(a=null==x?void 0:x.data)?void 0:a.message)||"Failed to save About Us")}catch(x){c.error(Sr(x))}});return s.jsxs("div",{children:[s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-blue-600/10 text-blue-600",children:s.jsx(st,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"About Us"}),s.jsx("div",{className:"inline-block rounded-full bg-blue-600/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-blue-600",children:x.length>0?"Configured":"Not Configured"})]})]}),s.jsxs(Va,{type:"button",onClick:()=>{l(!1),d(null),o.reset(mc),r(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(st,{className:"h-4 w-4"}),"Add About Us"]})]})}),s.jsx(ui,{className:"p-0",children:m.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading About Us..."})]})}):x.length>0?s.jsx("div",{className:"p-6 space-y-6",children:x.map(e=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between border-b pb-4 mb-4",children:[s.jsx("h4",{className:"text-lg font-semibold",children:"About Us Information"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Va,{variant:"ghost",size:"icon",onClick:()=>(e=>{l(!0),d(e.id),r(!0)})(e),className:"h-8 w-8 text-blue-600 hover:bg-blue-600/10",children:s.jsx(D,{className:"h-4 w-4"})}),s.jsx(Di,{checked:1===e.is_suspended,onCheckedChange:()=>(async(e,t)=>{var s,a,r;try{const i=await u.mutateAsync({api:Nr.api_deleteAboutUsApi,data:{id:e,status:1===t?0:1}});(null==(s=null==i?void 0:i.data)?void 0:s.status)?(c.success((null==(a=null==i?void 0:i.data)?void 0:a.message)||`About Us ${1===t?"deactivated":"activated"} successfully`),m.refetch()):c.error((null==(r=null==i?void 0:i.data)?void 0:r.message)||"Failed to update status")}catch(i){c.error(Sr(i))}})(e.id,e.is_suspended),className:"data-[state=checked]:bg-green-500"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h5",{className:"font-semibold text-sm text-muted-foreground mb-2",children:"About Us"}),s.jsx("div",{dangerouslySetInnerHTML:{__html:e.about_us},className:"prose prose-sm max-w-none"})]}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-semibold text-sm text-muted-foreground mb-2",children:"Vision"}),s.jsx("div",{dangerouslySetInnerHTML:{__html:e.vision},className:"prose prose-sm max-w-none"})]}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-semibold text-sm text-muted-foreground mb-2",children:"Mission"}),s.jsx("div",{dangerouslySetInnerHTML:{__html:e.mission},className:"prose prose-sm max-w-none"})]}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-semibold text-sm text-muted-foreground mb-2",children:"Objective"}),s.jsx("div",{dangerouslySetInnerHTML:{__html:e.objective},className:"prose prose-sm max-w-none"})]}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-semibold text-sm text-muted-foreground mb-2",children:"Functions"}),s.jsx("div",{dangerouslySetInnerHTML:{__html:e.functn},className:"prose prose-sm max-w-none"})]})]})]},e.id))}):s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(st,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No About Us Information"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:"Add About Us information to display on the citizen landing page."})]})})]})}),s.jsx(Kr,{open:a,onOpenChange:e=>{r(e),e||(l(!1),d(null),o.reset(mc))},children:s.jsxs(Xr,{className:"max-h-[90vh] min-w-[70vw] overflow-y-auto",children:[s.jsx(ei,{children:s.jsx(si,{className:"text-xl font-bold",children:i?"Update About Us":"Add About Us"})}),i&&p.isLoading?s.jsxs("div",{className:"py-10 text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-3 text-sm text-muted-foreground",children:"Loading About Us details..."})]}):s.jsxs("form",{onSubmit:h,className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ti,{htmlFor:"aboutUs",children:"About Us"}),s.jsx(Ke,{value:o.watch("aboutUs"),onTextChange:e=>o.setValue("aboutUs",e.htmlValue),style:{height:"250px"}})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ti,{htmlFor:"vision",children:"Vision"}),s.jsx(Ke,{value:o.watch("vision"),onTextChange:e=>o.setValue("vision",e.htmlValue),style:{height:"250px"}})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ti,{htmlFor:"mission",children:"Mission"}),s.jsx(Ke,{value:o.watch("mission"),onTextChange:e=>o.setValue("mission",e.htmlValue),style:{height:"250px"}})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ti,{htmlFor:"objective",children:"Objective"}),s.jsx(Ke,{value:o.watch("objective"),onTextChange:e=>o.setValue("objective",e.htmlValue),style:{height:"250px"}})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ti,{htmlFor:"function",children:"Functions"}),s.jsx(Ke,{value:o.watch("function"),onTextChange:e=>o.setValue("function",e.htmlValue),style:{height:"250px"}})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2 border-t pt-4",children:[s.jsx(Va,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Cancel"}),s.jsx(Va,{type:"submit",className:"min-w-[120px]",disabled:u.isPending,children:u.isPending?"Saving...":i?"Update About Us":"Create About Us"})]})]})]})})]})}function pc(){return s.jsx(ri,{title:"About Us Master",subTitle:"Manage About Us content here.",children:s.jsx(xc,{})})}const hc={ruleName:"",ruleImage:null};function gc(){var t;const[a,r]=e.useState(!1),[i,l]=e.useState(!1),[n,d]=e.useState(null),o=w({defaultValues:hc}),c=li({}),u=ii({api:Nr.api_getActRulesApiList,key:"actRulesList",options:{enabled:!0}}),m=(null==(t=null==u?void 0:u.data)?void 0:t.data)||[],x=ii({api:Nr.api_getActRulesApiById,key:`actRulesById_${n??""}`,config:{id:n},options:{enabled:!!n&&i&&a}});e.useEffect(()=>{var e;if(!a||!i)return;const t=null==(e=null==x?void 0:x.data)?void 0:e.data;if(!t)return;const s=Array.isArray(t)?t[0]:t;s&&o.reset({ruleName:s.rule_name||"",ruleImage:null})},[a,i,null==x?void 0:x.data,o]);const p=o.handleSubmit(async e=>{var t,s,a;try{const m=new FormData;m.append("ruleName",e.ruleName),e.ruleImage&&m.append("ruleImage",e.ruleImage),i&&n&&m.append("id",n.toString());const x=await c.mutateAsync({api:i?Nr.api_updateActRulesApi:Nr.api_PostActRulesApi,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(He.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||(i?"Act/Rule updated successfully":"Act/Rule created successfully")),r(!1),l(!1),d(null),o.reset(hc),u.refetch()):He.error((null==(a=null==x?void 0:x.data)?void 0:a.message)||"Failed to save Act/Rule")}catch(m){}});return s.jsxs("div",{children:[s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-purple-600/10 text-purple-600",children:s.jsx(te,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Acts & Rules"}),s.jsxs("div",{className:"inline-block rounded-full bg-purple-600/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-purple-600",children:[m.length," Items"]})]})]}),s.jsxs(Va,{type:"button",onClick:()=>{l(!1),d(null),o.reset(hc),r(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(te,{className:"h-4 w-4"}),"Add Act/Rule"]})]})}),s.jsx(ui,{className:"p-0",children:u.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading Acts & Rules..."})]})}):m.length>0?s.jsx("div",{className:"space-y-4 p-6",children:m.map(e=>s.jsx("div",{className:"rounded-lg border p-4 transition-shadow hover:shadow-md",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"mb-2 text-lg font-semibold text-foreground",children:e.rule_name}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.jsxs("span",{children:["Ref: ",e.reference_no]}),s.jsxs("span",{children:["Created:"," ",new Date(e.created_at).toLocaleDateString()]}),s.jsx("span",{className:"rounded-full px-2 py-1 text-xs font-medium "+(1===e.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:1===e.status?"Active":"Inactive"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[e.rule_image_url&&s.jsx(Va,{variant:"ghost",size:"icon",onClick:()=>((e,t)=>{if(e){const s=document.createElement("a");s.href=e,s.download=t,s.target="_blank",document.body.appendChild(s),s.click(),document.body.removeChild(s)}})(e.rule_image_url,e.rule_name),className:"h-8 w-8 text-green-600 hover:bg-green-600/10",children:s.jsx(at,{className:"h-4 w-4"})}),s.jsx(Va,{variant:"ghost",size:"icon",onClick:()=>(e=>{l(!0),d(e.id),r(!0)})(e),className:"h-8 w-8 text-blue-600 hover:bg-blue-600/10",children:s.jsx(D,{className:"h-4 w-4"})}),s.jsx(Di,{checked:1===e.is_suspended,onCheckedChange:()=>(async(e,t)=>{var s,a,r;try{const i=await c.mutateAsync({api:Nr.api_deleteActRulesApi,data:{id:e,status:1===t?0:1}});(null==(s=null==i?void 0:i.data)?void 0:s.status)?(He.success((null==(a=null==i?void 0:i.data)?void 0:a.message)||`Act/Rule ${1===t?"deactivated":"activated"} successfully`),u.refetch()):He.error((null==(r=null==i?void 0:i.data)?void 0:r.message)||"Failed to update status")}catch(i){}})(e.id,e.is_suspended),className:"data-[state=checked]:bg-green-500"})]})]})},e.id))}):s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(te,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No Acts & Rules"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:"Add acts and rules to display on the citizen landing page."})]})})]})}),s.jsx(Kr,{open:a,onOpenChange:e=>{r(e),e||(l(!1),d(null),o.reset(hc))},children:s.jsxs(Xr,{className:"max-h-[90vh] min-w-[50vw] overflow-y-auto",children:[s.jsx(ei,{children:s.jsx(si,{className:"text-xl font-bold",children:i?"Update Act/Rule":"Add Act/Rule"})}),i&&x.isLoading?s.jsxs("div",{className:"py-10 text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-3 text-sm text-muted-foreground",children:"Loading Act/Rule details..."})]}):s.jsxs("form",{onSubmit:p,className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ti,{htmlFor:"ruleName",children:"Rule Name *"}),s.jsx(yi,{id:"ruleName",...o.register("ruleName",{required:"Rule name is required"}),placeholder:"Enter rule name"}),o.formState.errors.ruleName&&s.jsx("p",{className:"text-sm text-red-500",children:o.formState.errors.ruleName.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Ti,{htmlFor:"ruleImage",children:["Rule Document ",!i&&"*"]}),s.jsx(yi,{id:"ruleImage",type:"file",accept:".pdf,.doc,.docx",onChange:e=>{var t;const s=null==(t=e.target.files)?void 0:t[0];o.setValue("ruleImage",s||null)}}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Supported formats: PDF, DOC, DOCX"})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2 border-t pt-4",children:[s.jsx(Va,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Cancel"}),s.jsx(Va,{type:"submit",className:"min-w-[120px]",disabled:c.isPending,children:c.isPending?"Saving...":i?"Update Act/Rule":"Create Act/Rule"})]})]})]})})]})}function fc(){return s.jsx(ri,{title:"Act & Rules",subTitle:"Manage Acts & Rules Masters",children:s.jsx(gc,{})})}const vc={Name:"",designation:"",Image:null,address:"",phone:"",email:""};function jc(){var t;const[a,r]=e.useState(!1),[i,l]=e.useState(!1),[n,d]=e.useState(null),o=w({defaultValues:vc}),c=li({}),u=ii({api:Nr.api_getAdministrativeApiList,key:"administrativeList",options:{enabled:!0}}),m=(null==(t=null==u?void 0:u.data)?void 0:t.data)||[],x=ii({api:Nr.api_getAdministrativeApiById,key:`administrativeById_${n??""}`,config:{id:n},options:{enabled:!!n&&i&&a}});e.useEffect(()=>{var e;if(!a||!i)return;const t=null==(e=null==x?void 0:x.data)?void 0:e.data;if(!t)return;const s=Array.isArray(t)?t[0]:t;s&&o.reset({Name:s.name||"",designation:s.designation||"",Image:null,address:s.address||"",phone:s.phone||"",email:s.email||""})},[a,i,null==x?void 0:x.data,o]);const p=o.handleSubmit(async e=>{var t,s,a;try{const m=new FormData;m.append("Name",e.Name),m.append("designation",e.designation),m.append("address",e.address),m.append("phone",e.phone),m.append("email",e.email),e.Image&&m.append("Image",e.Image),i&&n&&m.append("id",n.toString());const x=await c.mutateAsync({api:i?Nr.api_updateAdministrativeApi:Nr.api_PostAdministrativeApi,data:m});(null==(t=null==x?void 0:x.data)?void 0:t.status)?(He.success((null==(s=null==x?void 0:x.data)?void 0:s.message)||(i?"Administrative updated successfully":"Administrative created successfully")),r(!1),l(!1),d(null),o.reset(vc),u.refetch()):He.error((null==(a=null==x?void 0:x.data)?void 0:a.message)||"Failed to save Administrative")}catch(m){He.error("Failed to save Administrative")}});return s.jsxs("div",{children:[s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-indigo-600/10 text-indigo-600",children:s.jsx(rt,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Administrative"}),s.jsxs("div",{className:"inline-block rounded-full bg-indigo-600/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-indigo-600",children:[m.length," Members"]})]})]}),s.jsxs(Va,{type:"button",onClick:()=>{l(!1),d(null),o.reset(vc),r(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(rt,{className:"h-4 w-4"}),"Add Member"]})]})}),s.jsx(ui,{className:"p-0",children:u.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading Administrative..."})]})}):m.length>0?s.jsx("div",{className:"space-y-4 p-6",children:m.map(e=>s.jsx("div",{className:"rounded-lg border p-4 transition-shadow hover:shadow-md",children:s.jsxs("div",{className:"flex items-start gap-4",children:[e.image_url&&s.jsx("img",{src:e.image_url,alt:e.name,className:"h-16 w-16 rounded-full object-cover"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"mb-2 flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-foreground",children:e.name}),s.jsx("p",{className:"text-sm font-medium text-blue-600",children:e.designation})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Va,{variant:"ghost",size:"icon",onClick:()=>(e=>{l(!0),d(e.id),r(!0)})(e),className:"h-8 w-8 text-blue-600 hover:bg-blue-600/10",children:s.jsx(D,{className:"h-4 w-4"})}),s.jsx(Di,{checked:1===e.is_suspended,onCheckedChange:()=>(async(e,t)=>{var s,a,r;try{const i=await c.mutateAsync({api:Nr.api_deleteAdministrativeApi,data:{id:e,status:1===t?0:1}});(null==(s=null==i?void 0:i.data)?void 0:s.status)?(He.success((null==(a=null==i?void 0:i.data)?void 0:a.message)||`Administrative ${1===t?"deactivated":"activated"} successfully`),u.refetch()):He.error((null==(r=null==i?void 0:i.data)?void 0:r.message)||"Failed to update status")}catch(i){He.error("Failed to update status")}})(e.id,e.is_suspended),className:"data-[state=checked]:bg-green-500"})]})]}),s.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(J,{className:"h-3 w-3"}),s.jsx("span",{children:e.address})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(we,{className:"h-3 w-3"}),s.jsx("span",{children:e.phone})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(re,{className:"h-3 w-3"}),s.jsx("span",{children:e.email})]})]})]})]})]})},e.id))}):s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(rt,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No Administrative Members"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:"Add administrative members to display on the citizen landing page."})]})})]})}),s.jsx(Kr,{open:a,onOpenChange:e=>{r(e),e||(l(!1),d(null),o.reset(vc))},children:s.jsxs(Xr,{className:"max-h-[90vh] min-w-[60vw] overflow-y-auto",children:[s.jsx(ei,{children:s.jsx(si,{className:"text-xl font-bold",children:i?"Update Administrative Member":"Add Administrative Member"})}),i&&x.isLoading?s.jsxs("div",{className:"py-10 text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-3 text-sm text-muted-foreground",children:"Loading member details..."})]}):s.jsxs("form",{onSubmit:p,className:"space-y-5",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ti,{htmlFor:"Name",children:"Name *"}),s.jsx(yi,{id:"Name",...o.register("Name",{required:"Name is required"}),placeholder:"Enter name"}),o.formState.errors.Name&&s.jsx("p",{className:"text-sm text-red-500",children:o.formState.errors.Name.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ti,{htmlFor:"designation",children:"Designation *"}),s.jsx(yi,{id:"designation",...o.register("designation",{required:"Designation is required"}),placeholder:"Enter designation"}),o.formState.errors.designation&&s.jsx("p",{className:"text-sm text-red-500",children:o.formState.errors.designation.message})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Ti,{htmlFor:"Image",children:["Profile Image ",!i&&"*"]}),s.jsx(yi,{id:"Image",type:"file",accept:"image/*",onChange:e=>{var t;const s=null==(t=e.target.files)?void 0:t[0];o.setValue("Image",s||null)}})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ti,{htmlFor:"address",children:"Address *"}),s.jsx(yi,{id:"address",...o.register("address",{required:"Address is required"}),placeholder:"Enter address"}),o.formState.errors.address&&s.jsx("p",{className:"text-sm text-red-500",children:o.formState.errors.address.message})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ti,{htmlFor:"phone",children:"Phone *"}),s.jsx(yi,{id:"phone",...o.register("phone",{required:"Phone is required"}),placeholder:"Enter phone number"}),o.formState.errors.phone&&s.jsx("p",{className:"text-sm text-red-500",children:o.formState.errors.phone.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ti,{htmlFor:"email",children:"Email *"}),s.jsx(yi,{id:"email",type:"email",...o.register("email",{required:"Email is required"}),placeholder:"Enter email address"}),o.formState.errors.email&&s.jsx("p",{className:"text-sm text-red-500",children:o.formState.errors.email.message})]})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2 border-t pt-4",children:[s.jsx(Va,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Cancel"}),s.jsx(Va,{type:"submit",className:"min-w-[120px]",disabled:c.isPending,children:c.isPending?"Saving...":i?"Update Member":"Create Member"})]})]})]})})]})}function bc(){return s.jsx(ri,{title:"Citizen Desk",subTitle:"Manage Citizen Desk Masters",children:s.jsx(jc,{})})}const yc={id:"",heading:""},Nc={id:"",description:"",user_manual_link:"",video_link:"",headingId:""};function wc(){var t;const[a,r]=e.useState(null),[i,l]=e.useState(!1),[n,d]=e.useState(!1),[o,c]=e.useState(!1),[u,m]=e.useState(!1),[x,p]=e.useState(null),[h,g]=e.useState(null),f=w({defaultValues:yc}),v=w({defaultValues:Nc}),j=li({}),b=ii({api:Nr.api_getHeadingApiList,key:"userManualList",options:{enabled:!0}}),y=(null==(t=null==b?void 0:b.data)?void 0:t.data)||[],N=ii({api:Nr.api_getHeadingById,key:`headingById_${x??""}`,config:{id:x},options:{enabled:!!x&&n&&i}}),k=ii({api:Nr.api_getHeadingDescriptionById,key:`descById_${h??""}`,config:{id:h},options:{enabled:!!h&&u&&o}});e.useEffect(()=>{var e;if(!i||!n)return;const t=null==(e=null==N?void 0:N.data)?void 0:e.data;if(!t)return;const s=Array.isArray(t)?t[0]:t;s&&f.reset({id:String(s.id)||"",heading:s.heading||""})},[i,n,null==N?void 0:N.data,f]),e.useEffect(()=>{var e;if(!o||!u)return;const t=null==(e=null==k?void 0:k.data)?void 0:e.data;if(!t)return;const s=Array.isArray(t)?t[0]:t;s&&v.reset({id:String(s.description_id)||"",description:s.description||"",user_manual_link:s.user_manual_link||"",video_link:s.video_link||"",headingId:String(s.heading_id)||""})},[o,u,null==k?void 0:k.data,v]);const _=f.handleSubmit(async e=>{var t,s,a;try{const r=await j.mutateAsync({api:n?Nr.api_updateHeadingApi:Nr.api_PostHeadingApi,data:n?{id:x,heading:e.heading}:{heading:e.heading}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(He.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||(n?"Heading updated successfully":"Heading created successfully")),l(!1),d(!1),p(null),f.reset(yc),b.refetch()):He.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to save heading")}catch(r){He.error("Something went wrong.")}}),A=v.handleSubmit(async e=>{var t,s,a;try{const r=await j.mutateAsync({api:u?Nr.api_updateHeadingDescriptionApi:Nr.api_PostHeadingDescriptionApi,data:u?{id:h,description:e.description,user_manual_link:e.user_manual_link,video_link:e.video_link}:{headingId:x,description:e.description,user_manual_link:e.user_manual_link,video_link:e.video_link}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(He.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||(u?"Description updated successfully":"Description created successfully")),c(!1),m(!1),g(null),v.reset(Nc),b.refetch()):He.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to save description")}catch(r){He.error("Something went wrong.")}});return s.jsxs("div",{children:[s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-muted/30 p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-orange-600/10 text-orange-600",children:s.jsx(it,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"User Manual"}),s.jsxs("div",{className:"inline-block rounded-full bg-orange-600/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-orange-600",children:[null==y?void 0:y.length," Headings Found"]})]})]}),s.jsxs(Va,{type:"button",onClick:()=>l(!0),className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add Heading"]})]})}),s.jsxs(ui,{className:"p-0",children:[b.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading User Manual..."})]})}):s.jsx("div",{className:"space-y-3 p-4",children:s.jsx(I,{children:null==y?void 0:y.map(e=>s.jsxs(S.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"overflow-hidden rounded-xl border",children:[s.jsxs("div",{className:"flex items-center justify-between bg-muted/20 p-4 transition-colors hover:bg-muted/40",children:[s.jsxs("div",{className:"flex flex-1 cursor-pointer items-center gap-3",onClick:()=>r(a===e.id?null:e.id),children:[a===e.id?s.jsx(ie,{className:"text-orange-600"}):s.jsx(le,{className:"text-orange-600"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground",children:e.heading}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.data.length," manuals"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Va,{variant:"ghost",size:"icon",onClick:t=>{t.stopPropagation(),(e=>{d(!0),p(e.id),l(!0)})(e)},className:"h-8 w-8 text-blue-600 hover:bg-blue-600/10",children:s.jsx(D,{className:"h-4 w-4"})}),s.jsx(Di,{checked:1===e.is_suspended,onCheckedChange:()=>(async(e,t)=>{var s,a,r;try{const i=await j.mutateAsync({api:Nr.api_deleteHeadingApi,data:{id:e,status:1===t?0:1}});(null==(s=null==i?void 0:i.data)?void 0:s.status)?(He.success((null==(a=null==i?void 0:i.data)?void 0:a.message)||`Heading ${1===t?"deactivated":"activated"} successfully`),b.refetch()):He.error((null==(r=null==i?void 0:i.data)?void 0:r.message)||"Failed to update status")}catch(i){He.error("Something went wrong.")}})(e.id,e.is_suspended),className:"data-[state=checked]:bg-green-500"}),s.jsxs(Va,{size:"sm",onClick:t=>{var s;t.stopPropagation(),s=e.id,m(!1),g(null),p(s),v.reset(Nc),c(!0)},className:"ml-2 flex items-center gap-2",children:[s.jsx(L,{className:"h-3 w-3"}),"Add Manual"]})]})]}),a===e.id&&s.jsx(S.div,{initial:{height:0},animate:{height:"auto"},exit:{height:0},className:"border-t bg-background",children:0===e.data.length?s.jsx("p",{className:"py-8 text-center text-sm text-muted-foreground",children:"No manuals available"}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(mi,{children:[s.jsx(xi,{children:s.jsxs(hi,{className:"hover:bg-transparent",children:[s.jsx(gi,{className:"w-12 text-center",children:"#"}),s.jsx(gi,{children:"Description"}),s.jsx(gi,{children:"Manual Link"}),s.jsx(gi,{children:"Video Link"}),s.jsx(gi,{className:"text-center",children:"Status"}),s.jsx(gi,{className:"text-center",children:"Actions"})]})}),s.jsx(pi,{children:e.data.map((t,a)=>s.jsxs(hi,{children:[s.jsx(fi,{className:"py-2 text-center text-muted-foreground",children:a+1}),s.jsx(fi,{className:"font-medium",children:t.description}),s.jsx(fi,{children:s.jsxs("a",{href:t.user_manual_link,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-xs text-blue-600 hover:underline",children:[s.jsx(Xe,{className:"h-3 w-3"}),"Manual"]})}),s.jsx(fi,{children:s.jsxs("a",{href:t.video_link,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-xs text-red-600 hover:underline",children:[s.jsx(lt,{className:"h-3 w-3"}),"Video"]})}),s.jsx(fi,{className:"text-center",children:s.jsx(Di,{checked:1===t.is_suspended_v1,onCheckedChange:()=>(async(e,t)=>{var s,a,r;try{const i=await j.mutateAsync({api:Nr.api_deleteHeadingDescriptionApi,data:{id:e,status:1===t?0:1}});(null==(s=null==i?void 0:i.data)?void 0:s.status)?(He.success((null==(a=null==i?void 0:i.data)?void 0:a.message)||`Description ${1===t?"deactivated":"activated"} successfully`),b.refetch()):He.error((null==(r=null==i?void 0:i.data)?void 0:r.message)||"Failed to update status")}catch(i){He.error("Something went wrong.")}})(t.description_id,t.is_suspended_v1),className:"data-[state=checked]:bg-green-500"})}),s.jsx(fi,{children:s.jsx("div",{className:"flex items-center justify-center gap-2",children:s.jsx(Va,{variant:"ghost",size:"icon",onClick:()=>((e,t)=>{m(!0),g(e.description_id),p(t),c(!0)})(t,e.id),className:"h-7 w-7 text-blue-600 hover:bg-blue-600/10",children:s.jsx(D,{className:"h-3 w-3"})})})})]},t.description_id))})]})})})]},e.id))})}),!b.isLoading&&0===(null==y?void 0:y.length)&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:s.jsx(it,{className:"h-12 w-12 text-muted-foreground/40"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No Headings found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:"Create your first heading to get started."})]})]})]})}),s.jsx(Kr,{open:i,onOpenChange:e=>{l(e),e||(f.reset(yc),d(!1),p(null))},children:s.jsxs(Xr,{children:[s.jsx(ei,{children:s.jsx(si,{children:n?"Update Heading":"Add New Heading"})}),n&&N.isLoading?s.jsxs("div",{className:"py-10 text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-3 text-sm text-muted-foreground",children:"Loading heading details..."})]}):s.jsxs("form",{onSubmit:_,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ti,{htmlFor:"heading",children:"Heading *"}),s.jsx(yi,{id:"heading",...f.register("heading",{required:"Heading is required"}),placeholder:"Enter heading"}),f.formState.errors.heading&&s.jsx("p",{className:"text-sm text-red-500",children:f.formState.errors.heading.message})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2 border-t pt-4",children:[s.jsx(Va,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancel"}),s.jsx(Va,{type:"submit",disabled:j.isPending,children:j.isPending?"Saving...":n?"Update Heading":"Create Heading"})]})]})]})}),s.jsx(Kr,{open:o,onOpenChange:e=>{c(e),e||(v.reset(Nc),m(!1),g(null))},children:s.jsxs(Xr,{className:"min-w-[60vw]",children:[s.jsx(ei,{children:s.jsx(si,{children:u?"Update Manual":"Add New Manual"})}),u&&k.isLoading?s.jsxs("div",{className:"py-10 text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-3 text-sm text-muted-foreground",children:"Loading manual details..."})]}):s.jsxs("form",{onSubmit:A,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ti,{htmlFor:"description",children:"Description *"}),s.jsx(yi,{id:"description",...v.register("description",{required:"Description is required"}),placeholder:"Enter description"}),v.formState.errors.description&&s.jsx("p",{className:"text-sm text-red-500",children:v.formState.errors.description.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ti,{htmlFor:"user_manual_link",children:"User Manual Link *"}),s.jsx(yi,{id:"user_manual_link",...v.register("user_manual_link",{required:"Manual link is required"}),placeholder:"Enter user manual link"}),v.formState.errors.user_manual_link&&s.jsx("p",{className:"text-sm text-red-500",children:v.formState.errors.user_manual_link.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ti,{htmlFor:"video_link",children:"Video Link *"}),s.jsx(yi,{id:"video_link",...v.register("video_link",{required:"Video link is required"}),placeholder:"Enter video link"}),v.formState.errors.video_link&&s.jsx("p",{className:"text-sm text-red-500",children:v.formState.errors.video_link.message})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2 border-t pt-4",children:[s.jsx(Va,{type:"button",variant:"outline",onClick:()=>c(!1),children:"Cancel"}),s.jsx(Va,{type:"submit",disabled:j.isPending,children:j.isPending?"Saving...":u?"Update Manual":"Create Manual"})]})]})]})})]})}function kc(){return s.jsx(ri,{title:"Citizen Desk",subTitle:"Manage Citizen Desk Masters",children:s.jsx(wc,{})})}const _c={id:"",linkHeading:"",importantLink:""};function Sc(){var t;const[a,r]=e.useState(1),[i,l]=e.useState(10),[n,d]=e.useState(""),o=e.useRef(null),[u,m]=e.useState(!1),[x,p]=e.useState(!1),[h,g]=e.useState(null),f=w({defaultValues:_c}),v=li({}),j=ii({api:Nr.api_getImportantLinkApiList,key:"importantLinkList",options:{enabled:!0}}),b=(null==(t=null==j?void 0:j.data)?void 0:t.data)||[],y=ii({api:Nr.api_getImportantLinkApiById,key:`importantLinkById_${h??""}`,config:{id:h},options:{enabled:!!h&&x&&u}});e.useEffect(()=>{const e=e=>{var t;!e.altKey||"s"!==e.key&&"S"!==e.key||(e.preventDefault(),e.stopPropagation(),null==(t=o.current)||t.focus())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]),e.useEffect(()=>{var e;if(!u)return;if(!x)return void f.reset(_c);const t=null==(e=null==y?void 0:y.data)?void 0:e.data;if(!t)return;const s=Array.isArray(t)?t[0]:t;s&&f.reset({id:String(s.id)||"",linkHeading:s.link_heading||"",importantLink:s.links||""})},[u,x,null==y?void 0:y.data,f]);const N=e.useMemo(()=>{const e=n.trim().toLowerCase();return e?null==b?void 0:b.filter(t=>{var s,a;return(null==(s=t.link_heading)?void 0:s.toLowerCase().includes(e))||(null==(a=t.links)?void 0:a.toLowerCase().includes(e))}):b},[b,n]),k=a*i,_=k-i,A=null==N?void 0:N.slice(_,k),P=f.handleSubmit(async e=>{var t,s,a;try{const r=await v.mutateAsync({api:x?Nr.api_updateImportantLinkApi:Nr.api_PostImportantLinkApi,data:x?{id:h,linkHeading:e.linkHeading,importantLink:e.importantLink,isSuspended:!0}:{linkHeading:e.linkHeading,importantLink:e.importantLink,isSuspended:!0}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||(x?"Important Link updated successfully":"Important Link created successfully")),m(!1),p(!1),g(null),f.reset(_c),j.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to save Important Link")}catch(r){c.error(Sr(r))}}),E=e=>{const t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText||""};return s.jsxs("div",{children:[s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-gradient-to-r from-purple-500/10 via-blue-500/10 to-cyan-500/10 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br from-purple-600 to-blue-600 text-white shadow-lg",children:s.jsx(R,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Important Links"}),s.jsxs("div",{className:"inline-block rounded-full bg-gradient-to-r from-purple-600/10 to-blue-600/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-purple-600",children:[null==b?void 0:b.length," Links Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{ref:o,type:"text",placeholder:"Search important links...",value:n,onChange:e=>{d(e.target.value),r(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-20 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"}),s.jsx("div",{className:"absolute right-2.5 hidden items-center gap-1 sm:flex",children:s.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[s.jsx("span",{className:"text-xs",children:"Alt"}),"S"]})})]}),s.jsxs(sr,{type:"button",onClick:()=>{p(!1),g(null),f.reset(_c),m(!0)},className:"flex items-center gap-2 shadow-md transition-all hover:from-purple-700 hover:to-blue-700 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add Important Link"]})]})]})}),s.jsxs(ui,{className:"p-0",children:[j.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading Important Links..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(mi,{children:[s.jsx(xi,{children:s.jsxs(hi,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(gi,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Link Title"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"URL"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"})]})}),s.jsx(pi,{children:s.jsx(I,{children:null==A?void 0:A.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full bg-gradient-to-br from-purple-100 to-blue-100 text-xs font-bold text-purple-700",children:_+t+1})}),s.jsx(fi,{className:"max-w-xs py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(R,{className:"h-4 w-4 text-purple-600"}),s.jsx("span",{className:"font-medium text-foreground",children:E(e.link_heading)})]})}),s.jsx(fi,{className:"max-w-md py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"truncate text-sm text-muted-foreground",children:e.links}),"#"!==e.links&&s.jsx(Xe,{className:"h-3 w-3 text-blue-500"})]})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsxs("span",{className:Oa("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(z,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Inactive"]})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>(e=>{p(!0),g(e.id),m(!0)})(e),className:"h-8 w-8 text-purple-600 hover:bg-purple-600/10 hover:text-purple-700",children:s.jsx(D,{className:"h-4 w-4"})}),s.jsx(Di,{checked:1===e.is_suspended,onCheckedChange:()=>(async(e,t)=>{var s,a,r;try{const i=await v.mutateAsync({api:Nr.api_deleteImportantLinkApi,data:{id:e,status:1===t?0:1}});(null==(s=null==i?void 0:i.data)?void 0:s.status)?(c.success((null==(a=null==i?void 0:i.data)?void 0:a.message)||`Important Link ${1===t?"deactivated":"activated"} successfully`),j.refetch()):c.error((null==(r=null==i?void 0:i.data)?void 0:r.message)||"Failed to update Important Link status")}catch(i){c.error(Sr(i))}})(e.id,e.is_suspended),className:"data-[state=checked]:bg-green-500"})]})})]},e.id))})})]}),(null==N?void 0:N.length)>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(ji,{currentPage:a,totalItems:null==N?void 0:N.length,itemsPerPage:i,onPageChange:r,onItemsPerPageChange:e=>{l(e),r(1)}})})]}),!j.isLoading&&0===(null==b?void 0:b.length)&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-gradient-to-br from-purple-100 to-blue-100",children:s.jsx(R,{className:"h-12 w-12 text-purple-400"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No Important Links found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:n?"Try a different search term.":"Create your first Important Link to help users access key resources."})]})]})]})}),s.jsx(Kr,{open:u,onOpenChange:e=>{m(e),e||(p(!1),g(null),f.reset(_c))},children:s.jsxs(Xr,{className:"max-h-[90vh] min-w-[50vw] overflow-y-auto",children:[s.jsx(ei,{children:s.jsxs(si,{className:"flex items-center gap-2 text-xl font-bold",children:[s.jsx(R,{className:"h-5 w-5 text-purple-600"}),x?"Update Important Link":"Add New Important Link"]})}),x&&y.isLoading?s.jsxs("div",{className:"py-10 text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-3 text-sm text-muted-foreground",children:"Loading Important Link details..."})]}):s.jsxs("form",{onSubmit:P,className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ti,{htmlFor:"linkHeading",children:"Link Title"}),s.jsx(Ke,{value:f.watch("linkHeading"),onTextChange:e=>f.setValue("linkHeading",e.htmlValue),style:{height:"150px"}})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ti,{htmlFor:"importantLink",children:"Link URL"}),s.jsx(yi,{...f.register("importantLink",{required:"URL is required"}),placeholder:"Enter the URL (e.g., https://example.com)",className:"h-10"}),f.formState.errors.importantLink&&s.jsx("p",{className:"text-sm text-red-500",children:f.formState.errors.importantLink.message})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2 border-t pt-4",children:[s.jsx(sr,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancel"}),s.jsx(sr,{type:"submit",className:"min-w-[120px] bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700",disabled:v.isPending,children:v.isPending?"Saving...":x?"Update Link":"Create Link"})]})]})]})})]})}function Ac(){return s.jsx(ri,{title:"Important Links ",subTitle:"Manage all Important Links here. ",children:s.jsx(Sc,{})})}const Cc={id:"",linkHeading:"",usefulLink:""};function Lc(){var t;const[a,r]=e.useState(1),[i,l]=e.useState(10),[n,d]=e.useState(""),o=e.useRef(null),[u,m]=e.useState(!1),[x,p]=e.useState(!1),[h,g]=e.useState(null),f=w({defaultValues:Cc}),v=li({}),j=ii({api:Nr.api_getUsefulLinkApiList,key:"usefulLinkList",options:{enabled:!0}}),b=(null==(t=null==j?void 0:j.data)?void 0:t.data)||[],y=ii({api:Nr.api_getUsefulLinkApiById,key:`usefulLinkById_${h??""}`,config:{id:h},options:{enabled:!!h&&x&&u}});e.useEffect(()=>{const e=e=>{var t;!e.altKey||"s"!==e.key&&"S"!==e.key||(e.preventDefault(),e.stopPropagation(),null==(t=o.current)||t.focus())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]),e.useEffect(()=>{var e;if(!u)return;if(!x)return void f.reset(Cc);const t=null==(e=null==y?void 0:y.data)?void 0:e.data;if(!t)return;const s=Array.isArray(t)?t[0]:t;s&&f.reset({id:String(s.id)||"",linkHeading:s.link_heading||"",usefulLink:s.links||""})},[u,x,null==y?void 0:y.data,f]);const N=e.useMemo(()=>{const e=n.trim().toLowerCase();return e?null==b?void 0:b.filter(t=>{var s,a;return(null==(s=t.link_heading)?void 0:s.toLowerCase().includes(e))||(null==(a=t.links)?void 0:a.toLowerCase().includes(e))}):b},[b,n]),k=a*i,_=k-i,A=null==N?void 0:N.slice(_,k),P=f.handleSubmit(async e=>{var t,s,a;try{const r=await v.mutateAsync({api:x?Nr.api_updateUsefulLinkApi:Nr.api_PostUsefulLinkApi,data:x?{id:h,linkHeading:e.linkHeading,usefulLink:e.usefulLink,isSuspended:!0}:{linkHeading:e.linkHeading,usefulLink:e.usefulLink,isSuspended:!0}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||(x?"Useful Link updated successfully":"Useful Link created successfully")),m(!1),p(!1),g(null),f.reset(Cc),j.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to save Useful Link")}catch(r){c.error(Sr(r))}}),E=e=>{const t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText||""};return s.jsxs("div",{children:[s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-gradient-to-r from-purple-500/10 via-blue-500/10 to-cyan-500/10 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br from-purple-600 to-blue-600 text-white shadow-lg",children:s.jsx(R,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Useful Links"}),s.jsxs("div",{className:"inline-block rounded-full bg-gradient-to-r from-purple-600/10 to-blue-600/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-purple-600",children:[null==b?void 0:b.length," Links Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{ref:o,type:"text",placeholder:"Search useful links...",value:n,onChange:e=>{d(e.target.value),r(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-20 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"}),s.jsx("div",{className:"absolute right-2.5 hidden items-center gap-1 sm:flex",children:s.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[s.jsx("span",{className:"text-xs",children:"Alt"}),"S"]})})]}),s.jsxs(sr,{type:"button",onClick:()=>{p(!1),g(null),f.reset(Cc),m(!0)},className:"flex items-center gap-2 shadow-md transition-all hover:from-purple-700 hover:to-blue-700 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add Useful Link"]})]})]})}),s.jsxs(ui,{className:"p-0",children:[j.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading Useful Links..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(mi,{children:[s.jsx(xi,{children:s.jsxs(hi,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(gi,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Link Title"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"URL"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"})]})}),s.jsx(pi,{children:s.jsx(I,{children:null==A?void 0:A.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full bg-gradient-to-br from-purple-100 to-blue-100 text-xs font-bold text-purple-700",children:_+t+1})}),s.jsx(fi,{className:"max-w-xs py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(R,{className:"h-4 w-4 text-purple-600"}),s.jsx("span",{className:"font-medium text-foreground",children:E(e.link_heading)})]})}),s.jsx(fi,{className:"max-w-md py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"truncate text-sm text-muted-foreground",children:e.links}),"#"!==e.links&&s.jsx(Xe,{className:"h-3 w-3 text-blue-500"})]})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsxs("span",{className:Oa("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(z,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Inactive"]})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>(e=>{p(!0),g(e.id),m(!0)})(e),className:"h-8 w-8 text-purple-600 hover:bg-purple-600/10 hover:text-purple-700",children:s.jsx(D,{className:"h-4 w-4"})}),s.jsx(Di,{checked:1===e.is_suspended,onCheckedChange:()=>(async(e,t)=>{var s,a,r;try{const i=await v.mutateAsync({api:Nr.api_deleteUsefulLinkApi,data:{id:e,status:1===t?0:1}});(null==(s=null==i?void 0:i.data)?void 0:s.status)?(c.success((null==(a=null==i?void 0:i.data)?void 0:a.message)||`Useful Link ${1===t?"deactivated":"activated"} successfully`),j.refetch()):c.error((null==(r=null==i?void 0:i.data)?void 0:r.message)||"Failed to update Useful Link status")}catch(i){c.error(Sr(i))}})(e.id,e.is_suspended),className:"data-[state=checked]:bg-green-500"})]})})]},e.id))})})]}),(null==N?void 0:N.length)>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(ji,{currentPage:a,totalItems:null==N?void 0:N.length,itemsPerPage:i,onPageChange:r,onItemsPerPageChange:e=>{l(e),r(1)}})})]}),!j.isLoading&&0===(null==b?void 0:b.length)&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-gradient-to-br from-purple-100 to-blue-100",children:s.jsx(R,{className:"h-12 w-12 text-purple-400"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No Useful Links found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:n?"Try a different search term.":"Create your first Useful Link to help users access key resources."})]})]})]})}),s.jsx(Kr,{open:u,onOpenChange:e=>{m(e),e||(p(!1),g(null),f.reset(Cc))},children:s.jsxs(Xr,{className:"max-h-[90vh] min-w-[50vw] overflow-y-auto",children:[s.jsx(ei,{children:s.jsxs(si,{className:"flex items-center gap-2 text-xl font-bold",children:[s.jsx(R,{className:"h-5 w-5 text-purple-600"}),x?"Update Useful Link":"Add New Useful Link"]})}),x&&y.isLoading?s.jsxs("div",{className:"py-10 text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-3 text-sm text-muted-foreground",children:"Loading Useful Link details..."})]}):s.jsxs("form",{onSubmit:P,className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ti,{htmlFor:"linkHeading",children:"Link Title"}),s.jsx(Ke,{value:f.watch("linkHeading"),onTextChange:e=>f.setValue("linkHeading",e.htmlValue),style:{height:"150px"}})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ti,{htmlFor:"usefulLink",children:"Link URL"}),s.jsx(yi,{...f.register("usefulLink",{required:"URL is required"}),placeholder:"Enter the URL (e.g., https://example.com)",className:"h-10"}),f.formState.errors.usefulLink&&s.jsx("p",{className:"text-sm text-red-500",children:f.formState.errors.usefulLink.message})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2 border-t pt-4",children:[s.jsx(sr,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancel"}),s.jsx(sr,{type:"submit",className:"min-w-[120px] bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700",disabled:v.isPending,children:v.isPending?"Saving...":x?"Update Link":"Create Link"})]})]})]})})]})}function Ic(){return s.jsx(ri,{title:"Usefull Links ",subTitle:"Manage Usefull Links here. ",children:s.jsx(Lc,{})})}const Pc={id:"",departnameName:"",link:""};function Rc(){var t;const[a,r]=e.useState(1),[i,l]=e.useState(10),[n,d]=e.useState(""),o=e.useRef(null),[u,m]=e.useState(!1),[x,p]=e.useState(!1),[h,g]=e.useState(null),f=w({defaultValues:Pc}),v=li({}),j=ii({api:Nr.api_getDepartmentApiList,key:"departmentLinkList",options:{enabled:!0}}),b=(null==(t=null==j?void 0:j.data)?void 0:t.data)||[],y=ii({api:Nr.api_getDepartmentApiById,key:`departmentLinkById_${h??""}`,config:{id:h},options:{enabled:!!h&&x&&u}});e.useEffect(()=>{const e=e=>{var t;!e.altKey||"s"!==e.key&&"S"!==e.key||(e.preventDefault(),e.stopPropagation(),null==(t=o.current)||t.focus())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]),e.useEffect(()=>{var e;if(!u)return;if(!x)return void f.reset(Pc);const t=null==(e=null==y?void 0:y.data)?void 0:e.data;if(!t)return;const s=Array.isArray(t)?t[0]:t;s&&f.reset({id:String(s.id)||"",departnameName:s.department_name||"",link:s.department_links||""})},[u,x,null==y?void 0:y.data,f]);const N=e.useMemo(()=>{const e=n.trim().toLowerCase();return e?null==b?void 0:b.filter(t=>{var s,a;return(null==(s=t.department_name)?void 0:s.toLowerCase().includes(e))||(null==(a=t.department_links)?void 0:a.toLowerCase().includes(e))}):b},[b,n]),k=a*i,_=k-i,A=null==N?void 0:N.slice(_,k),P=f.handleSubmit(async e=>{var t,s,a;try{const r=await v.mutateAsync({api:x?Nr.api_updateDepartmentApi:Nr.api_PostDepartmentApi,data:x?{id:h,departnameName:e.departnameName,link:e.link,isSuspended:!0}:{departnameName:e.departnameName,link:e.link,isSuspended:!0}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||(x?"Department Link updated successfully":"Department Link created successfully")),m(!1),p(!1),g(null),f.reset(Pc),j.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to save Department Link")}catch(r){c.error(Sr(r))}}),R=e=>{const t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText||""};return s.jsxs("div",{children:[s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-gradient-to-r from-purple-500/10 via-blue-500/10 to-cyan-500/10 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br from-purple-600 to-blue-600 text-white shadow-lg",children:s.jsx(G,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Department Links"}),s.jsxs("div",{className:"inline-block rounded-full bg-gradient-to-r from-purple-600/10 to-blue-600/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-purple-600",children:[null==b?void 0:b.length," Links Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{ref:o,type:"text",placeholder:"Search department links...",value:n,onChange:e=>{d(e.target.value),r(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-20 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"}),s.jsx("div",{className:"absolute right-2.5 hidden items-center gap-1 sm:flex",children:s.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[s.jsx("span",{className:"text-xs",children:"Alt"}),"S"]})})]}),s.jsxs(sr,{type:"button",onClick:()=>{p(!1),g(null),f.reset(Pc),m(!0)},className:"flex items-center gap-2 shadow-md transition-all hover:from-purple-700 hover:to-blue-700 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add Department Link"]})]})]})}),s.jsxs(ui,{className:"p-0",children:[j.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading Department Links..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(mi,{children:[s.jsx(xi,{children:s.jsxs(hi,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(gi,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Department Name"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Department Link"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"})]})}),s.jsx(pi,{children:s.jsx(I,{children:null==A?void 0:A.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full bg-gradient-to-br from-purple-100 to-blue-100 text-xs font-bold text-purple-700",children:_+t+1})}),s.jsx(fi,{className:"max-w-xs py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(G,{className:"h-4 w-4 text-purple-600"}),s.jsx("span",{className:"font-medium text-foreground",children:R(e.department_name)})]})}),s.jsx(fi,{className:"max-w-md py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"truncate text-sm text-muted-foreground",children:e.department_links}),"#"!==e.department_links&&s.jsx(Xe,{className:"h-3 w-3 text-blue-500"})]})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsxs("span",{className:Oa("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(z,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Inactive"]})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>(e=>{p(!0),g(e.id),m(!0)})(e),className:"h-8 w-8 text-purple-600 hover:bg-purple-600/10 hover:text-purple-700",children:s.jsx(D,{className:"h-4 w-4"})}),s.jsx(Di,{checked:1===e.is_suspended,onCheckedChange:()=>(async(e,t)=>{var s,a,r;try{const i=await v.mutateAsync({api:Nr.api_deleteDepartmentApi,data:{id:e,status:1===t?0:1}});(null==(s=null==i?void 0:i.data)?void 0:s.status)?(c.success((null==(a=null==i?void 0:i.data)?void 0:a.message)||`Department Link ${1===t?"deactivated":"activated"} successfully`),j.refetch()):c.error((null==(r=null==i?void 0:i.data)?void 0:r.message)||"Failed to update Department Link status")}catch(i){c.error(Sr(i))}})(e.id,e.is_suspended),className:"data-[state=checked]:bg-green-500"})]})})]},e.id))})})]}),(null==N?void 0:N.length)>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(ji,{currentPage:a,totalItems:null==N?void 0:N.length,itemsPerPage:i,onPageChange:r,onItemsPerPageChange:e=>{l(e),r(1)}})})]}),!j.isLoading&&0===(null==b?void 0:b.length)&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-gradient-to-br from-purple-100 to-blue-100",children:s.jsx(G,{className:"h-12 w-12 text-purple-400"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No Department Links found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:n?"Try a different search term.":"Create your first Department Link to help users access department resources."})]})]})]})}),s.jsx(Kr,{open:u,onOpenChange:e=>{m(e),e||(p(!1),g(null),f.reset(Pc))},children:s.jsxs(Xr,{className:"max-h-[90vh] min-w-[50vw] overflow-y-auto",children:[s.jsx(ei,{children:s.jsxs(si,{className:"flex items-center gap-2 text-xl font-bold",children:[s.jsx(G,{className:"h-5 w-5 text-purple-600"}),x?"Update Department Link":"Add New Department Link"]})}),x&&y.isLoading?s.jsxs("div",{className:"py-10 text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-3 text-sm text-muted-foreground",children:"Loading Department Link details..."})]}):s.jsxs("form",{onSubmit:P,className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ti,{htmlFor:"departnameName",children:"Department Name"}),s.jsx(Ke,{value:f.watch("departnameName"),onTextChange:e=>f.setValue("departnameName",e.htmlValue),style:{height:"150px"}})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ti,{htmlFor:"link",children:"Department Link"}),s.jsx(yi,{...f.register("link",{required:"Link is required"}),placeholder:"Enter the URL (e.g., https://example.com)",className:"h-10"}),f.formState.errors.link&&s.jsx("p",{className:"text-sm text-red-500",children:f.formState.errors.link.message})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2 border-t pt-4",children:[s.jsx(sr,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancel"}),s.jsx(sr,{type:"submit",className:"min-w-[120px] bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700",disabled:v.isPending,children:v.isPending?"Saving...":x?"Update Link":"Create Link"})]})]})]})})]})}function Ec(){return s.jsx(ri,{title:"Department Link ",subTitle:"Manage Department Links here. ",children:s.jsx(Rc,{})})}const Dc={id:"",departnameName:"",address:"",mobile:"",email:"",fax:""};function Mc(){var t;const[a,r]=e.useState(1),[i,l]=e.useState(10),[n,d]=e.useState(""),o=e.useRef(null),[u,m]=e.useState(!1),[x,p]=e.useState(!1),[h,g]=e.useState(null),f=w({defaultValues:Dc}),v=li({}),j=ii({api:Nr.api_getContactInfoApiList,key:"contactLinkList",options:{enabled:!0}}),b=(null==(t=null==j?void 0:j.data)?void 0:t.data)||[],y=ii({api:Nr.api_getContactInfoApiById,key:`contactLinkById_${h??""}`,config:{id:h},options:{enabled:!!h&&x&&u}});e.useEffect(()=>{const e=e=>{var t;!e.altKey||"s"!==e.key&&"S"!==e.key||(e.preventDefault(),e.stopPropagation(),null==(t=o.current)||t.focus())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]),e.useEffect(()=>{var e;if(!u)return;if(!x)return void f.reset(Dc);const t=null==(e=null==y?void 0:y.data)?void 0:e.data;if(!t)return;const s=Array.isArray(t)?t[0]:t;s&&f.reset({id:String(s.id)||"",departnameName:s.department_name||"",address:s.address||"",mobile:s.mobile_no||"",email:s.email||"",fax:s.fax||""})},[u,x,null==y?void 0:y.data,f]);const N=e.useMemo(()=>{const e=n.trim().toLowerCase();return e?null==b?void 0:b.filter(t=>{var s,a,r;return(null==(s=t.department_name)?void 0:s.toLowerCase().includes(e))||(null==(a=t.email)?void 0:a.toLowerCase().includes(e))||(null==(r=t.mobile_no)?void 0:r.toLowerCase().includes(e))}):b},[b,n]),k=a*i,_=k-i,A=null==N?void 0:N.slice(_,k),P=f.handleSubmit(async e=>{var t,s,a;try{const r=await v.mutateAsync({api:x?Nr.api_updateContactInfoApi:Nr.api_PostContactInfoApi,data:x?{id:h,departnameName:e.departnameName,address:e.address,mobile:e.mobile,email:e.email,fax:e.fax,isSuspended:!0}:{departnameName:e.departnameName,address:e.address,mobile:e.mobile,email:e.email,fax:e.fax,isSuspended:!0}});(null==(t=null==r?void 0:r.data)?void 0:t.status)?(c.success((null==(s=null==r?void 0:r.data)?void 0:s.message)||(x?"Contact Info updated successfully":"Contact Info created successfully")),m(!1),p(!1),g(null),f.reset(Dc),j.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to save Contact Info")}catch(r){c.error(Sr(r))}});return s.jsxs("div",{children:[s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-gradient-to-r from-purple-500/10 via-blue-500/10 to-cyan-500/10 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br from-purple-600 to-blue-600 text-white shadow-lg",children:s.jsx(nt,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Contact Information"}),s.jsxs("div",{className:"inline-block rounded-full bg-gradient-to-r from-purple-600/10 to-blue-600/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-purple-600",children:[null==b?void 0:b.length," Contacts Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{ref:o,type:"text",placeholder:"Search contacts...",value:n,onChange:e=>{d(e.target.value),r(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-20 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"}),s.jsx("div",{className:"absolute right-2.5 hidden items-center gap-1 sm:flex",children:s.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[s.jsx("span",{className:"text-xs",children:"Alt"}),"S"]})})]}),s.jsxs(sr,{type:"button",onClick:()=>{p(!1),g(null),f.reset(Dc),m(!0)},className:"flex items-center gap-2 shadow-md transition-all hover:from-purple-700 hover:to-blue-700 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Add Contact"]})]})]})}),s.jsxs(ui,{className:"p-0",children:[j.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading Contact Information..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(mi,{children:[s.jsx(xi,{children:s.jsxs(hi,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(gi,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Department"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Address"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Contact"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Fax"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"})]})}),s.jsx(pi,{children:s.jsx(I,{children:null==A?void 0:A.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full bg-gradient-to-br from-purple-100 to-blue-100 text-xs font-bold text-purple-700",children:_+t+1})}),s.jsx(fi,{className:"max-w-xs py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(nt,{className:"h-4 w-4 text-purple-600"}),s.jsx("span",{className:"font-medium text-foreground",children:e.department_name})]})}),s.jsx(fi,{className:"max-w-md py-4",children:s.jsx("span",{className:"text-sm text-muted-foreground",children:e.address})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(we,{className:"h-3 w-3 text-green-600"}),s.jsx("span",{children:e.mobile_no})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(re,{className:"h-3 w-3 text-blue-600"}),s.jsx("span",{className:"truncate",children:e.email})]})]})}),s.jsx(fi,{className:"py-4",children:s.jsx("span",{className:"text-sm text-muted-foreground",children:e.fax||"N/A"})}),s.jsx(fi,{className:"py-4 text-center",children:s.jsxs("span",{className:Oa("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",1===e.is_suspended?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[1===e.is_suspended?s.jsx(B,{className:"h-3 w-3"}):s.jsx(z,{className:"h-3 w-3"}),1===e.is_suspended?"Active":"Inactive"]})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>(e=>{p(!0),g(e.id),m(!0)})(e),className:"h-8 w-8 text-purple-600 hover:bg-purple-600/10 hover:text-purple-700",children:s.jsx(D,{className:"h-4 w-4"})}),s.jsx(Di,{checked:1===e.is_suspended,onCheckedChange:()=>(async(e,t)=>{var s,a,r;try{const i=await v.mutateAsync({api:Nr.api_deleteContactInfoApi,data:{id:e,status:1===t?0:1}});(null==(s=null==i?void 0:i.data)?void 0:s.status)?(c.success((null==(a=null==i?void 0:i.data)?void 0:a.message)||`Contact Info ${1===t?"deactivated":"activated"} successfully`),j.refetch()):c.error((null==(r=null==i?void 0:i.data)?void 0:r.message)||"Failed to update Contact Info status")}catch(i){c.error(Sr(i))}})(e.id,e.is_suspended),className:"data-[state=checked]:bg-green-500"})]})})]},e.id))})})]}),(null==N?void 0:N.length)>0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(ji,{currentPage:a,totalItems:null==N?void 0:N.length,itemsPerPage:i,onPageChange:r,onItemsPerPageChange:e=>{l(e),r(1)}})})]}),!j.isLoading&&0===(null==b?void 0:b.length)&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-gradient-to-br from-purple-100 to-blue-100",children:s.jsx(nt,{className:"h-12 w-12 text-purple-400"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No Contact Information found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:n?"Try a different search term.":"Create your first Contact Information entry."})]})]})]})}),s.jsx(Kr,{open:u,onOpenChange:e=>{m(e),e||(p(!1),g(null),f.reset(Dc))},children:s.jsxs(Xr,{className:"max-h-[90vh] min-w-[50vw] overflow-y-auto",children:[s.jsx(ei,{children:s.jsxs(si,{className:"flex items-center gap-2 text-xl font-bold",children:[s.jsx(nt,{className:"h-5 w-5 text-purple-600"}),x?"Update Contact Information":"Add New Contact Information"]})}),x&&y.isLoading?s.jsxs("div",{className:"py-10 text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-3 text-sm text-muted-foreground",children:"Loading Contact Information..."})]}):s.jsxs("form",{onSubmit:P,className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ti,{htmlFor:"departnameName",children:"Department Name"}),s.jsx(yi,{...f.register("departnameName",{required:"Department name is required"}),placeholder:"Enter department name",className:"h-10"}),f.formState.errors.departnameName&&s.jsx("p",{className:"text-sm text-red-500",children:f.formState.errors.departnameName.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ti,{htmlFor:"address",children:"Address"}),s.jsx(yi,{...f.register("address",{required:"Address is required"}),placeholder:"Enter the address",className:"h-10"}),f.formState.errors.address&&s.jsx("p",{className:"text-sm text-red-500",children:f.formState.errors.address.message})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ti,{htmlFor:"mobile",children:"Mobile Number"}),s.jsx(yi,{...f.register("mobile",{required:"Mobile number is required"}),placeholder:"Enter mobile number",className:"h-10"}),f.formState.errors.mobile&&s.jsx("p",{className:"text-sm text-red-500",children:f.formState.errors.mobile.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ti,{htmlFor:"email",children:"Email"}),s.jsx(yi,{...f.register("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),placeholder:"Enter email address",className:"h-10"}),f.formState.errors.email&&s.jsx("p",{className:"text-sm text-red-500",children:f.formState.errors.email.message})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ti,{htmlFor:"fax",children:"Fax"}),s.jsx(yi,{...f.register("fax"),placeholder:"Enter fax number (optional)",className:"h-10"})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2 border-t pt-4",children:[s.jsx(sr,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancel"}),s.jsx(sr,{type:"submit",className:"min-w-[120px] bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700",disabled:v.isPending,children:v.isPending?"Saving...":x?"Update Contact":"Create Contact"})]})]})]})})]})}function Uc(){return s.jsx(ri,{title:"Contant Link",subTitle:"Manage Contant Links here. ",children:s.jsx(Mc,{})})}const Fc={id:"",ulbId:"",logoFile:{}};function Tc(){var t,a;const[r,i]=e.useState(1),[l,n]=e.useState(10),[d,o]=e.useState(""),u=e.useRef(null),[m,x]=e.useState(!1),[p,h]=e.useState(!1),[g,f]=e.useState(null),v=w({defaultValues:Fc}),j=li({}),b=ii({api:Nr.api_getUlbLogoList,key:"ulbLogoList",options:{enabled:!0}}),y=ii({api:Nr.api_getUlbList,key:"ulbList",options:{enabled:!0}}),N=(null==(t=null==b?void 0:b.data)?void 0:t.data)||[],k=(null==(a=null==y?void 0:y.data)?void 0:a.data)||[];e.useEffect(()=>{const e=e=>{var t;!e.altKey||"s"!==e.key&&"S"!==e.key||(e.preventDefault(),e.stopPropagation(),null==(t=u.current)||t.focus())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]),e.useEffect(()=>{m||v.reset(Fc)},[m,v]);const _=e.useMemo(()=>{const e=d.trim().toLowerCase();return e?null==N?void 0:N.filter(t=>{var s;return null==(s=t.ulb_name)?void 0:s.toLowerCase().includes(e)}):N},[N,d]),A=r*l,P=A-l,R=null==_?void 0:_.slice(P,A),E=v.handleSubmit(async e=>{var t,s,a;try{const r=new FormData;r.append("ulbId",e.ulbId),e.logoFile&&e.logoFile[0]&&r.append("logo",e.logoFile[0]);const i=await j.mutateAsync({api:Nr.api_PostUlblogo,data:r});(null==(t=null==i?void 0:i.data)?void 0:t.status)?(c.success((null==(s=null==i?void 0:i.data)?void 0:s.message)||"ULB Logo uploaded successfully"),x(!1),h(!1),f(null),v.reset(Fc),b.refetch()):c.error((null==(a=null==i?void 0:i.data)?void 0:a.message)||"Failed to upload ULB Logo")}catch(r){c.error(Sr(r))}});return s.jsxs("div",{children:[s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(di,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[s.jsx("div",{className:"border-b bg-gradient-to-r from-purple-500/10 via-blue-500/10 to-cyan-500/10 p-4",children:s.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br from-purple-600 to-blue-600 text-white shadow-lg",children:s.jsx(Qe,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-foreground",children:"ULB Logo Master"}),s.jsxs("div",{className:"inline-block rounded-full bg-gradient-to-r from-purple-600/10 to-blue-600/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-purple-600",children:[null==N?void 0:N.length," Logos Found"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[s.jsx(C,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),s.jsx("input",{ref:u,type:"text",placeholder:"Search ULB logos...",value:d,onChange:e=>{o(e.target.value),i(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-20 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"}),s.jsx("div",{className:"absolute right-2.5 hidden items-center gap-1 sm:flex",children:s.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[s.jsx("span",{className:"text-xs",children:"Alt"}),"S"]})})]}),s.jsxs(sr,{type:"button",onClick:()=>{h(!1),f(null),v.reset(Fc),x(!0)},className:"flex items-center gap-2 shadow-md transition-all hover:from-purple-700 hover:to-blue-700 active:scale-95",children:[s.jsx(L,{className:"h-4 w-4"}),"Upload Logo"]})]})]})}),s.jsxs(ui,{className:"p-0",children:[b.isLoading?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vi,{}),s.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading ULB Logos..."})]})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs(mi,{children:[s.jsx(xi,{children:s.jsxs(hi,{className:"border-b-2 hover:bg-transparent",children:[s.jsx(gi,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Logo"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"ULB Name"}),s.jsx(gi,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Logo URL"}),s.jsx(gi,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"})]})}),s.jsx(pi,{children:s.jsx(I,{children:null==R?void 0:R.map((e,t)=>s.jsxs(S.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[s.jsx(fi,{className:"py-4 text-center",children:s.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full bg-gradient-to-br from-purple-100 to-blue-100 text-xs font-bold text-purple-700",children:P+t+1})}),s.jsx(fi,{className:"py-4",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx("img",{src:e.logo_url,alt:e.ulb_name,className:"h-12 w-12 rounded-lg border object-cover shadow-sm",onError:e=>{e.target.src="/placeholder-logo.png"}})})}),s.jsx(fi,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qe,{className:"h-4 w-4 text-purple-600"}),s.jsx("span",{className:"font-medium text-foreground",children:e.ulb_name})]})}),s.jsx(fi,{className:"py-4",children:s.jsx("a",{href:e.logo_url,target:"_blank",rel:"noopener noreferrer",className:"block max-w-xs truncate text-sm text-blue-500 hover:underline",children:e.logo_url})}),s.jsx(fi,{className:"py-4",children:s.jsx("div",{className:"flex items-center justify-center gap-3",children:s.jsx(sr,{variant:"ghost",size:"icon",onClick:()=>(e=>{h(!0),f(e.id);const t=k.find(t=>t.ulb_name===e.ulb_name);t&&v.setValue("ulbId",String(t.id)),x(!0)})(e),className:"h-8 w-8 text-purple-600 hover:bg-purple-600/10 hover:text-purple-700",children:s.jsx(D,{className:"h-4 w-4"})})})})]},e.id))})})]}),(null==_?void 0:_.length)>=0&&s.jsx("div",{className:"border-t p-4",children:s.jsx(ji,{currentPage:r,totalItems:null==_?void 0:_.length,itemsPerPage:l,onPageChange:i,onItemsPerPageChange:e=>{n(e),i(1)}})})]}),!b.isLoading&&0===(null==N?void 0:N.length)&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-gradient-to-br from-purple-100 to-blue-100",children:s.jsx(Qe,{className:"h-12 w-12 text-purple-400"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No ULB Logos found"}),s.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:d?"Try a different search term.":"Upload your first ULB Logo."})]})]})]})}),s.jsx(Kr,{open:m,onOpenChange:e=>{x(e),e||(h(!1),f(null),v.reset(Fc))},children:s.jsxs(Xr,{className:"max-h-[90vh] min-w-[50vw] overflow-y-auto",children:[s.jsx(ei,{children:s.jsxs(si,{className:"flex items-center gap-2 text-xl font-bold",children:[s.jsx(Qe,{className:"h-5 w-5 text-purple-600"}),p?"Update ULB Logo":"Upload ULB Logo"]})}),s.jsxs("form",{onSubmit:E,className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ti,{htmlFor:"ulbId",children:"Select ULB"}),s.jsxs(ki,{value:v.watch("ulbId"),onValueChange:e=>v.setValue("ulbId",e),children:[s.jsx(Ai,{className:"h-10",children:s.jsx(Si,{placeholder:"Select ULB"})}),s.jsx(Ii,{children:null==k?void 0:k.map(e=>s.jsx(Pi,{value:String(e.id),children:e.ulb_name},e.id))})]}),v.formState.errors.ulbId&&s.jsx("p",{className:"text-sm text-red-500",children:"ULB selection is required"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ti,{htmlFor:"logoFile",children:"Logo File"}),s.jsx(yi,{...v.register("logoFile",{required:!p&&"Logo file is required"}),type:"file",accept:"image/*",className:"h-10"}),v.formState.errors.logoFile&&s.jsx("p",{className:"text-sm text-red-500",children:v.formState.errors.logoFile.message})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2 border-t pt-4",children:[s.jsx(sr,{type:"button",variant:"outline",onClick:()=>x(!1),children:"Cancel"}),s.jsx(sr,{type:"submit",className:"min-w-[120px] bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700",disabled:j.isPending,children:j.isPending?"Saving...":p?"Update Logo":"Upload Logo"})]})]})]})})]})}function zc(){return s.jsx(ri,{title:"Ulb Logo Master",subTitle:"Manage all Ulbs Logo Master here. ",children:s.jsx(Tc,{})})}const Bc=t=>{return a=e.lazy(async()=>{try{return await t()}catch(e){}}),t=>s.jsx(e.Suspense,{fallback:s.jsx(Br,{}),children:s.jsx(a,{...t})});var a},qc=Bc(()=>dt(()=>import("./index-CAzWka9u.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]))),Oc=Bc(()=>dt(()=>import("./index-LuOMfqvl.js"),__vite__mapDeps([9,1,2,5,4,6,7,8,3]))),Wc=Bc(()=>dt(()=>import("./index-BHycbu9l.js"),__vite__mapDeps([10,1,2,3,5,4,6,7,8]))),Vc=[{layout:"auth",pages:[{id:"1",name:"Login",path:"login",element:s.jsx(qc,{})}]},{layout:"dashboard",pages:[{id:"1",name:"Home",path:"home",element:s.jsx(Oc,{})},{id:"2",name:"Module List",path:"module-list",element:s.jsx(Wc,{})},{id:"3",name:"Menu List",path:"module-list/menu-list",element:s.jsx(ll,{})},{id:"4",name:"Service List",path:"module-list/service-list",element:s.jsx(cl,{})},{id:"5",name:"Role List",path:"module-list/role-list",element:s.jsx(pl,{})},{id:"6",name:"Workflow List",path:"module-list/workflow-list",element:s.jsx(gl,{})},{id:"7",name:"Menu Role List",path:"module-list/role-list/manage-menu",element:s.jsx(jl,{})},{id:"8",name:"Ulb Configuration",path:"ulb-list/ulb-configuration",element:s.jsx(an,{})},{id:"9",name:"Ulb List",path:"ulb-list",element:s.jsx(ln,{})},{id:"10",name:"Permitted Module",path:"ulb-list/permitted-module",element:s.jsx(on,{})},{id:"11",name:"User List",path:"ulb-list/user-list",element:s.jsx(gn,{})},{id:"12",name:"Admin List",path:"ulb-list/admin-list",element:s.jsx(Nn,{})},{id:"13",name:"Manage Permission",path:"ulb-list/user-list/permission",element:s.jsx(vn,{})},{id:"14",name:"Construction Master",path:"common-masters/construction-master",element:s.jsx(Sn,{})},{id:"15",name:"Floor Master",path:"common-masters/floor-master",element:s.jsx(In,{})},{id:"16",name:"Objection Master",path:"common-masters/objection-master",element:s.jsx(Dn,{})},{id:"17",name:"Usage Type Master",path:"common-masters/usage-type-master",element:s.jsx(Tn,{})},{id:"18",name:"Gb Building Master",path:"common-masters/gb-building-master",element:s.jsx(On,{})},{id:"19",name:"Occupancy Master",path:"common-masters/occupancy-master",element:s.jsx(Hn,{})},{id:"20",name:"Property Master",path:"common-masters/property-master",element:s.jsx(Kn,{})},{id:"21",name:"Gb Usage Master",path:"common-masters/gb-usage-master",element:s.jsx(ed,{})},{id:"22",name:"Occupancy Factor Master",path:"common-masters/occupancy-factor",element:s.jsx(rd,{})},{id:"23",name:"Zone Master",path:"common-masters/zone-master",element:s.jsx(dd,{})},{id:"24",name:"City Master",path:"common-masters/city-master",element:s.jsx(md,{})},{id:"25",name:"Water Master",path:"common-masters/water-master",element:s.jsx(gd,{})},{id:"26",name:"Road Type Master",path:"common-masters/road-type-master",element:s.jsx(bd,{})},{id:"27",name:"Ownership Type Master",path:"common-masters/ownership-type-master",element:s.jsx(kd,{})},{id:"28",name:"Transfer Mode Master",path:"common-masters/transfer-mode-master",element:s.jsx(Cd,{})},{id:"29",name:"Rebate Type Master",path:"common-masters/rebate-type-master",element:s.jsx(Rd,{})},{id:"30",name:"Penalty Type Master",path:"common-masters/penalty-type-master",element:s.jsx(Ud,{})},{id:"31",name:"Forgery Type Master",path:"common-masters/forgery-type-master",element:s.jsx(Bd,{})},{id:"32",name:"District Master",path:"common-masters/district-master",element:s.jsx(Vd,{})},{id:"33",name:"Capital Value Rate Master",path:"common-masters/capital-value-rate-master",element:s.jsx(Hd,{})},{id:"34",name:"Building Rental Cost Master",path:"common-masters/building-rental-cost-master",element:s.jsx(Kd,{})},{id:"35",name:"Rental Value Master",path:"common-masters/rental-value-master",element:s.jsx(eo,{})},{id:"36",name:"Road Type List Master",path:"common-masters/road-type-list-master",element:s.jsx(ro,{})},{id:"37",name:"Vacant Rental Rate Master",path:"common-masters/vacant-rental-rate-list",element:s.jsx(oo,{})},{id:"38",name:"Workflow Master",path:"workflow-master",element:s.jsx(wo,{})},{id:"39",name:"Faq Master",path:"faq-master",element:s.jsx(Co,{})},{id:"40",name:"Assets Master",path:"citizen-landing-page/assets-master",element:s.jsx(Po,{})},{id:"41",name:"Slider Master",path:"citizen-landing-page/slider-master",element:s.jsx(Do,{})},{id:"42",name:"Blog Master",path:"citizen-landing-page/blog-master",element:s.jsx(Fo,{})},{id:"43",name:"Important Notice",path:"citizen-landing-page/important-notice",element:s.jsx(Bo,{})},{id:"44",name:"Important Notice",path:"citizen-landing-page/announcements",element:s.jsx(Wo,{})},{id:"45",name:"Quick Links",path:"citizen-landing-page/quick-links",element:s.jsx(Ho,{})},{id:"46",name:"Whats New",path:"citizen-landing-page/whats-new",element:s.jsx(Go,{})},{id:"47",name:"Mobile App",path:"citizen-landing-page/mobile-app-master",element:s.jsx(Jo,{})},{id:"48",name:"Scheme Type Master",path:"citizen-landing-page/scheme-type-master",element:s.jsx(tc,{})},{id:"49",name:"News and Event Master",path:"citizen-landing-page/news-event-master",element:s.jsx(rc,{})},{id:"50",name:"News and Event Master",path:"citizen-landing-page/e-service-master",element:s.jsx(nc,{})},{id:"51",name:"Citizen Desk",path:"citizen-landing-page/citizen-desk",element:s.jsx(uc,{})},{id:"52",name:"About us",path:"citizen-landing-page/about-us-master",element:s.jsx(pc,{})},{id:"53",name:"Act and Rules",path:"citizen-landing-page/acts-and-rules",element:s.jsx(fc,{})},{id:"54",name:"Administrative",path:"citizen-landing-page/administrative",element:s.jsx(bc,{})},{id:"55",name:"UserManual",path:"citizen-landing-page/user-manual",element:s.jsx(kc,{})},{id:"56",name:"Important Links",path:"citizen-landing-page/important-link",element:s.jsx(Ac,{})},{id:"57",name:"Useful Links",path:"citizen-landing-page/useful-link",element:s.jsx(Ic,{})},{id:"58",name:"Department Link",path:"citizen-landing-page/department-link",element:s.jsx(Ec,{})},{id:"59",name:"Contant Link",path:"citizen-landing-page/contact-link",element:s.jsx(Uc,{})},{id:"60",name:"Ulb Logo Master",path:"citizen-landing-page/ulb-logo-master",element:s.jsx(zc,{})}]},{layout:"citizen",pages:[]}];function $c(){const{user:e}=Cr();return s.jsxs(ot,{children:[s.jsx(ct,{path:"/project-config",element:s.jsx(p,{to:"/project-config/dashboard/home"}),index:!0}),"ADMIN"==(null==e?void 0:e.roleName)&&s.jsx(ct,{path:"/project-config",element:s.jsx(p,{to:"/project-config/dashboard/home"}),index:!0}),"HRMS Employee"==(null==e?void 0:e.roleName)&&s.jsx(ct,{path:"/project-config",element:s.jsx(p,{to:"/project-config/employee/employee"}),index:!0}),s.jsx(ct,{path:"/project-config/citizen",element:s.jsx(zr,{}),children:null==Vc?void 0:Vc.map(({layout:e,pages:t})=>"citizen"===e&&(null==t?void 0:t.map(({id:e,path:t,element:a})=>s.jsx(ct,{path:t,element:a},e))))}),s.jsx(ct,{path:"/project-config/auth",element:s.jsx(Or,{children:s.jsx(Ka,{})}),children:null==Vc?void 0:Vc.map(({layout:e,pages:t})=>"auth"===e&&(null==t?void 0:t.map(({path:e,element:t,id:a})=>s.jsx(ct,{path:e,element:t},a))))}),s.jsx(ct,{path:"/project-config/dashboard",element:s.jsx(qr,{children:s.jsx(Tr,{})}),children:null==Vc?void 0:Vc.map(({layout:e,pages:t})=>"dashboard"===e&&(null==t?void 0:t.map(({id:e,path:t,element:a})=>s.jsx(ct,{path:t,element:a},e))))}),s.jsx(ct,{path:"*",element:s.jsx(Wr,{})}),s.jsx(ct,{path:"",element:s.jsx(p,{to:"/project-config",replace:!0})})]})}function Hc(){return s.jsxs(Ha,{children:[s.jsx(ut,{position:"top-center",reverseOrder:!1,toastOptions:{}}),s.jsx($c,{})]})}const Qc=new ft;mt.createRoot(document.getElementById("root")).render(s.jsx(xt,{FallbackComponent:({error:e})=>s.jsx($a,{error:e}),onError:(e,t)=>{},children:s.jsx(Ta,{children:s.jsx(vt,{client:Qc,children:s.jsx(pt,{children:s.jsx(qa,{defaultTheme:"light",storageKey:"theme",children:s.jsx(Hc,{})})})})})}));export{wi as B,di as C,sl as D,bi as F,yi as I,ri as P,Ni as R,tl as S,mi as T,Ir as a,ii as b,Er as c,yr as d,sr as e,Mi as f,Sr as g,ui as h,vi as i,xi as j,hi as k,gi as l,kr as m,pi as n,fi as o,Oa as p,Zr as q,li as u};
