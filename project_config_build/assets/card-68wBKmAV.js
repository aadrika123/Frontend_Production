import{r as e,j as s,aU as a,m as t,L as l}from"./vendor-C4evAtTJ.js";import{u as r,g as o,B as n,c as d,D as i,h as c,i as m,j as x,k as f,l as u,n as h,o as p,H as g,L as j}from"./index-D37-tLuj.js";import{A as N,B as b,U as v,K as w,D as y,E as k,F as C,m as E,G as R}from"./icons-DZJSvCRl.js";import{ae as D,af as z,ag as S,ah as L,ai as F,aj as T,ak as A,al as P,am as U,an as H,ao as K}from"./ui-BtaoVrnA.js";function B(){const{theme:a,setTheme:t}=o();return e.useEffect(()=>{const e="dark"===a?"#020817":"#fff",s=document.querySelector("meta[name='theme-color']");s&&s.setAttribute("content",e)},[a]),s.jsx(n,{size:"icon",variant:"ghost",className:"rounded-full",onClick:()=>t("light"===a?"dark":"light"),children:"light"===a?s.jsx(N,{size:20}):s.jsx(b,{size:20})})}const M=e.forwardRef(({className:e,...a},t)=>s.jsx(D,{ref:t,className:d("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...a}));M.displayName=D.displayName;const q=e.forwardRef(({className:e,...a},t)=>s.jsx(z,{ref:t,className:d("aspect-square h-full w-full",e),...a}));q.displayName=z.displayName;const $=e.forwardRef(({className:e,...a},t)=>s.jsx(S,{ref:t,className:d("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...a}));$.displayName=S.displayName;const _=(e,t,l)=>{a({customUI:({onClose:a})=>s.jsxs("div",{children:[s.jsx("div",{className:"fixed inset-0 bg-black opacity-50"}),s.jsxs("div",{className:"relative z-10 rounded-md border border-border bg-card px-12 py-4 shadow-lg",children:[s.jsx("h1",{className:"text-lg font-bold",children:e}),s.jsx("p",{className:"text-sm",children:t}),s.jsxs("div",{className:"mt-4 flex justify-end",children:[s.jsx("button",{className:"rounded-md bg-red-500 px-4 py-1 text-white",onClick:()=>{l(),a()},children:"Yes"}),s.jsx("button",{className:"ml-2 rounded-md bg-gray-500 px-4 py-1 text-white",onClick:a,children:"No"})]})]})]})})};function G(){const{user:e,logout:a}=r();return t(),s.jsxs(i,{children:[s.jsx(c,{asChild:!0,children:s.jsx(n,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:s.jsxs(M,{className:"h-10 w-10",children:[s.jsx(q,{src:(null==e?void 0:e.imgFullPath)||"/images/user.png",alt:"profile"}),s.jsx($,{children:"SN"})]})})}),s.jsxs(m,{className:"w-56",align:"end",forceMount:!0,children:[s.jsx(x,{className:"cursor-pointer font-normal",onClick:()=>{window.location.href="/settings/dashboard/home"},children:s.jsxs("div",{className:"flex flex-col space-y-1",children:[s.jsx("p",{className:"text-sm font-medium leading-none",children:null==e?void 0:e.fullName}),s.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:null==e?void 0:e.email})]})}),s.jsx(f,{}),s.jsxs(u,{children:[s.jsxs(h,{onClick:()=>window.location.replace("/settings/dashboard/home"),className:"flex items-center gap-2",children:[s.jsx(v,{size:16}),s.jsx("span",{children:"Profile"})]}),s.jsxs(h,{onClick:()=>window.location.replace("/settings/dashboard/change-password"),className:"flex items-center gap-2",children:[s.jsx(w,{size:16}),s.jsx("span",{children:"Change Password"})]}),s.jsxs(h,{onClick:()=>window.location.replace("/settings/dashboard/notification"),className:"flex items-center gap-2",children:[s.jsx(y,{size:16}),s.jsx("span",{children:"Notifications"})]})]}),s.jsxs(h,{onClick:()=>{_("Are you sure?","Please confirm",async()=>{a()})},className:"flex items-center gap-2 text-red-600 focus:text-red-600",children:[s.jsx(k,{size:16}),s.jsx("span",{children:"Log out"})]})]})]})}const I=L,O=F,Y=e.forwardRef(({className:e,...a},t)=>s.jsx(H,{ref:t,className:d("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a}));Y.displayName=H.displayName;const J=e.forwardRef(({className:e,children:a,...t},l)=>s.jsxs(O,{children:[s.jsx(Y,{}),s.jsxs(T,{ref:l,className:d("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t,children:[a,s.jsxs(A,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(P,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));J.displayName=T.displayName;const Q=({className:e,...a})=>s.jsx("div",{className:d("flex flex-col space-y-1.5 text-center sm:text-left",e),...a});Q.displayName="DialogHeader";const V=({className:e,...a})=>s.jsx("div",{className:d("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...a});V.displayName="DialogFooter";const W=e.forwardRef(({className:e,...a},t)=>s.jsx(U,{ref:t,className:d("text-lg font-semibold leading-none tracking-tight",e),...a}));W.displayName=U.displayName;function X({links:a}){const[l,r]=e.useState(""),[o,n]=e.useState([]),[i,c]=e.useState(!1),[m,x]=e.useState(-1),[f,u]=e.useState(!1),h=e.useRef(null),p=e.useRef(null),g=t(),j=(e,s=[])=>{const a=[];return e.forEach(e=>{e.href&&a.push({title:e.title,href:e.href,path:[...s,e.title]}),e.sub&&e.sub.length>0&&a.push(...j(e.sub,[...s,e.title]))}),a};e.useEffect(()=>{if(""===l.trim())return n([]),c(!1),void x(-1);const e=j(a.filter(e=>e.is_sidebar)),s=l.toLowerCase(),t=e.filter(e=>e.title.toLowerCase().includes(s)||e.path.some(e=>e.toLowerCase().includes(s)));n(t.slice(0,10)),c(!0),x(-1)},[l,a]),e.useEffect(()=>{f||(r(""),n([]),c(!1),x(-1))},[f]),e.useEffect(()=>{const e=e=>{(e.ctrlKey||e.metaKey)&&"k"===e.key&&(e.preventDefault(),u(!0),setTimeout(()=>{var e;return null==(e=p.current)?void 0:e.focus()},100))};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[]);const N=e=>{g(e),u(!1)};return s.jsx(s.Fragment,{children:s.jsx(I,{open:f,onOpenChange:u,children:s.jsxs(J,{className:"sm:max-w-[600px]",children:[s.jsx(Q,{children:s.jsx(W,{className:"sr-only",children:"Search Menu"})}),s.jsxs("div",{ref:h,className:"space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(C,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-muted-foreground"}),s.jsx("input",{ref:p,type:"text",placeholder:"Search menu items...",value:l,onChange:e=>r(e.target.value),onKeyDown:e=>{var s,a;if(i&&0!==o.length)switch(e.key){case"ArrowDown":e.preventDefault(),x(e=>e<o.length-1?e+1:0);break;case"ArrowUp":e.preventDefault(),x(e=>e>0?e-1:o.length-1);break;case"Enter":e.preventDefault(),m>=0&&m<o.length&&N(o[m].href);break;case"Escape":c(!1),u(!1),null==(a=p.current)||a.blur()}else"Escape"===e.key&&(u(!1),c(!1),null==(s=p.current)||s.blur())},className:d("w-full rounded-lg border border-input bg-background py-3 pl-10 pr-10 text-base outline-none transition-all","placeholder:text-muted-foreground","focus:border-primary focus:ring-2 focus:ring-primary/20"),autoFocus:!0}),l&&s.jsx("button",{onClick:()=>{var e;r(""),c(!1),null==(e=p.current)||e.focus()},className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:s.jsx(E,{className:"h-5 w-5"})})]}),l&&s.jsx("div",{className:"max-h-[400px] overflow-y-auto rounded-lg border border-border",children:o.length>0?s.jsx("div",{className:"divide-y divide-border",children:o.map((e,a)=>s.jsx("button",{onClick:()=>N(e.href),className:d("w-full px-4 py-3 text-left transition-colors",m===a?"bg-accent text-accent-foreground":"text-foreground hover:bg-accent/50"),children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(C,{className:"h-4 w-4 text-slate-400"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm font-medium",children:e.title}),e.path.length>1&&s.jsx("div",{className:"mt-0.5 text-xs text-muted-foreground",children:e.path.slice(0,-1).join(" › ")})]})]})},`${e.href}-${a}`))}):s.jsxs("div",{className:"p-8 text-center text-sm text-muted-foreground",children:['No menu items found for "',l,'"']})}),!l&&s.jsxs("div",{className:"rounded-lg border border-border bg-muted/50 p-8 text-center",children:[s.jsx(C,{className:"mx-auto h-12 w-12 text-muted-foreground/30"}),s.jsx("p",{className:"mt-3 text-sm text-foreground/80",children:"Type to search menu items"}),s.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:"Use ↑↓ to navigate, Enter to select, Esc to close"})]})]})]})})})}e.forwardRef(({className:e,...a},t)=>s.jsx(K,{ref:t,className:d("text-sm text-muted-foreground",e),...a})).displayName=K.displayName;const Z=e.forwardRef(({children:a,title:t="",subTitle:o="",searchLink:n="",meta:d,name:i,code:c,description:m,...x},f)=>{!function(s=""){const{setTitle:a}=r();e.useEffect(()=>{a(s)},[s])}(t);const{user:u}=r(),h=p();return e.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},[t]),s.jsxs(s.Fragment,{children:[s.jsxs(g,{children:[s.jsx("title",{children:(t?t+" |":"")+"  Master-Control"}),d]}),s.jsx("div",{ref:f,...x,children:s.jsxs(j,{fixed:!0,children:[s.jsxs(j.Header,{sticky:!0,className:"border-b bg-background/80 shadow-sm backdrop-blur-md",children:[s.jsxs("div",{className:"flex w-full items-center justify-between gap-3 px-2 sm:px-4",children:[s.jsx("div",{className:"hidden lg:block lg:w-8"}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 md:gap-4",children:[s.jsx("div",{className:"hidden sm:block",children:s.jsx(X,{links:h})}),s.jsx("div",{className:"hidden min-w-0 flex-col items-end md:flex",children:s.jsx("span",{className:"truncate rounded-full border border-blue-200 bg-gradient-to-r from-blue-50 to-indigo-50 px-3 py-1.5 text-xs font-semibold text-blue-700 shadow-sm",children:(null==u?void 0:u.roleName)||""})}),s.jsx(B,{}),s.jsx("div",{className:"flex-shrink-0",children:s.jsx(G,{})})]})]}),s.jsxs("div",{className:"flex items-center justify-between gap-2 border-t border-border px-2 py-2 sm:hidden",children:[s.jsx(X,{links:h}),s.jsx("span",{className:"truncate rounded-full border border-blue-200 bg-gradient-to-r from-blue-50 to-indigo-50 px-2.5 py-1 text-xs font-semibold text-blue-700",children:(null==u?void 0:u.roleName)||""})]})]}),s.jsxs(j.Body,{children:[s.jsxs("div",{className:"mb-2 sm:mb-4",children:[s.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between",children:[s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h2",{className:"mb-1 bg-gradient-to-r from-foreground to-foreground/70 bg-clip-text text-xl font-bold tracking-tight text-transparent sm:text-2xl",children:t}),o&&s.jsx("p",{className:"text-sm leading-relaxed text-muted-foreground sm:text-base",children:o})]}),(i||c)&&s.jsx("div",{className:"flex-shrink-0",children:s.jsxs("div",{className:"rounded-lg border bg-card p-2 shadow-sm",children:[i&&s.jsxs("div",{className:"mb-1 text-sm font-bold text-foreground",children:["Name-: ",i]}),c&&s.jsxs("div",{className:"rounded bg-muted px-2 py-0.5 font-mono text-xs font-bold text-muted-foreground",children:["Employee Code-: ",c]})]})})]}),n&&s.jsx("div",{className:"mt-4",children:s.jsxs(l,{className:"inline-flex items-center gap-2 rounded-lg bg-gradient-to-r from-blue-600 to-indigo-600 px-4 py-2.5 text-sm font-semibold text-white shadow-md transition-all hover:from-blue-700 hover:to-indigo-700 hover:shadow-lg active:scale-95",to:n,target:"_blank",children:[s.jsx(R,{className:"h-4 w-4"}),"Search Details"]})})]}),s.jsx("div",{className:"flex-1 overflow-auto",children:a})]})]})})]})}),ee=e.forwardRef(({className:e,...a},t)=>s.jsx("div",{ref:t,className:d("rounded-xl border bg-card text-card-foreground shadow",e),...a}));ee.displayName="Card";const se=e.forwardRef(({className:e,...a},t)=>s.jsx("div",{ref:t,className:d("flex flex-col space-y-1.5 p-6",e),...a}));se.displayName="CardHeader";const ae=e.forwardRef(({className:e,...a},t)=>s.jsx("h3",{ref:t,className:d("font-semibold leading-none tracking-tight",e),...a}));ae.displayName="CardTitle";e.forwardRef(({className:e,...a},t)=>s.jsx("p",{ref:t,className:d("text-sm text-muted-foreground",e),...a})).displayName="CardDescription";const te=e.forwardRef(({className:e,...a},t)=>s.jsx("div",{ref:t,className:d("p-6 pt-0",e),...a}));te.displayName="CardContent";e.forwardRef(({className:e,...a},t)=>s.jsx("div",{ref:t,className:d("flex items-center p-6 pt-0",e),...a})).displayName="CardFooter";export{ee as C,I as D,Z as P,te as a,_ as b,se as c,ae as d,J as e,Q as f,W as g,V as h};
