import{r as o,u as S,E as v,N as B,j as e,S as L}from"./index-0cd5b1c8.js";import{B as F,R as A}from"./logo1-c40c9421.js";import{A as C,a as k,b as I}from"./AxiosInterceptors-d192cef8.js";import{B as P}from"./BarLoader-475527d2.js";import{B as R}from"./BottomErrorCard-5e21225b.js";import{c as q,a as x}from"./index.esm-2daf9377.js";import{u as M}from"./formik.esm-59936898.js";import"./hoist-non-react-statics.cjs-ef0c9066.js";function T(){const[u,f]=o.useState(!1),[h,g]=o.useState(null),[j,r]=o.useState(!1),{api_loginUserData:p}=I(),b=S(),w=q({email:x().required("Enter Email-Id").matches(v,"Please Enter Valid E-mail"),password:x().required("Enter Password").matches(B,"Please Enter Valid E-mail")}),l=M({initialValues:{email:"",password:""},onSubmit:a=>{N(a)},validationSchema:w}),N=a=>{r(!0);let s,m,E={email:a.email,password:a==null?void 0:a.password};s=p,m=E,C.post(s,m,k()).then(function(t){var c,n,d;if(console.log("Login.....",t==null?void 0:t.data),((c=t==null?void 0:t.data)==null?void 0:c.status)===!0){const y=JSON.stringify((n=t==null?void 0:t.data)==null?void 0:n.data);sessionStorage.setItem("loginInfo",y),b("/"),L.fire({icon:"success",title:"School",text:"School Login Successfully.",showConfirmButton:!1,timer:1500})}else i(!0,`${(d=t==null?void 0:t.data)==null?void 0:d.message}`);r(!1)}).catch(function(t){console.log("==2 error list...",t),i(!0,"Error occured in submitting form."),r(!1)})},i=(a,s)=>{g(s),f(a)};return e.jsxs(e.Fragment,{children:[j&&e.jsx(P,{}),u&&e.jsx(R,{activateBottomErrorCard:i,errorTitle:h}),e.jsx("div",{className:"h-full",children:e.jsx("div",{className:"h-full lg:w-full max-[425px]:w-full max-[425px]:px-4  flex flex-row items-center justify-center  py-[13%] image",children:e.jsx("div",{className:"block",children:e.jsxs("div",{className:"h-auto w-auto bg-[#FFFFFF] border-2 max-[425px]:w-full max-[425px]:pl-4 max-[375px]:pr-8 max-[375px]:pl-8 flex items-center justify-center py-1 pr-20  rounded-[10px] pb-[20px]",children:[e.jsxs("div",{className:"w-full h-full",children:[e.jsx("div",{className:"text-[cornflowerblue] flex flex-row items-start justify-start ml-5 w-full",children:e.jsx("a",{href:"/csms/public-student-registration",children:e.jsxs("span",{className:"flex",children:[e.jsx(F,{title:"Back to Home",className:"mt-1 ml-2"}),"Go to Home"]})})}),e.jsx("img",{src:A,alt:"user",className:"image2"})]}),e.jsx("div",{className:"max-[425px]:w-full ml-4",children:e.jsx("form",{onSubmit:l.handleSubmit,children:e.jsxs("div",{className:"pt-4",children:[e.jsx("h1",{className:"flex items-center justify-center text-4xl font-bold text-[cornflowerblue] gill",children:"School Login"}),e.jsxs("div",{className:"my-[10%]",children:[e.jsx("label",{className:"flex items-start justify-start text-xl text-[cornflowerblue] font-bold ml-2 arial",children:"Email"}),e.jsx("br",{}),e.jsx("input",{name:"email",placeholder:"Email",type:"text",onChange:l.handleChange,value:l.values.email,className:"border-b-2 border-[gainsboro] h-10 w-full pl-4"})]}),e.jsxs("div",{className:"my-[10%]",children:[e.jsx("label",{className:"flex items-start justify-start text-xl text-[cornflowerblue] font-bold ml-2 arial",children:"Password"}),e.jsx("br",{}),e.jsx("input",{type:"password",name:"password",placeholder:"password",onChange:l.handleChange,value:l.values.password,className:"border-b-2 border-[gainsboro] h-10 w-full pl-4"})]}),e.jsx("div",{className:"mx-[10%]",children:e.jsx("button",{type:"submit",className:"bg-[cornflowerblue] text-white flex items-center justify-center text-xl font-bold mt-4 mx-24 px-3 py-3 rounded-lg gill",children:"Login"})})]})})})]})})})})]})}export{T as default};
