import{r as x,u as _,j as t,C as $,A as I,a as V,b as H}from"./index-db227e36.js";import{u as O}from"./formik.esm-243b4d91.js";import{B as R}from"./BarLoader-92cd05ea.js";import{B as T}from"./BottomErrorCard-f7652267.js";import{c as z,a as D}from"./index.esm-d7f7d69e.js";function U(i){const{isOpen:y,toggle:o}=i,[E,S]=x.useState(!1),[k,C]=x.useState(null),[p,n]=x.useState(!1),{api_searchStudentByIdList:B}=H(),m=_(),F={admissionNo:""},A=z({admissionNo:D().required("Admission Number is required feild")}),s=O({initialValues:F,onSubmit:a=>{console.log(a),L(a)},validationSchema:A}),L=a=>{n(!0);let l,r,M={admissionNo:a.admissionNo};l=B,r=M,I.post(l,r,V()).then(function(e){var c,h,u,f,b,N,j,v,g,w;console.log("category master..",(c=e==null?void 0:e.data)==null?void 0:c.data),((h=e==null?void 0:e.data)==null?void 0:h.status)===!0?(f=(u=e==null?void 0:e.data)==null?void 0:u.data)!=null&&f.admission_no?(m("/add-new-student"),localStorage.setItem("admission_no",(N=(b=e==null?void 0:e.data)==null?void 0:b.data)==null?void 0:N.admission_no)):(v=(j=e==null?void 0:e.data)==null?void 0:j.data)!=null&&v.id&&(m(`/edit-student/${(w=(g=e==null?void 0:e.data)==null?void 0:g.data)==null?void 0:w.id}`),d(!0,"Admission No. already existing")):d(!0,"Error occured while fetching data."),n(!1)}).catch(function(e){console.log("==2 error list...",e),d(!0,"Error occured while fetching data."),n(!1)})},d=(a,l)=>{C(l),S(a)},q=a=>{let l=a.target.name,r=a.target.value;l=="admissionNo"&&s.setFieldValue("admissionNo",r.trim())};return t.jsxs(t.Fragment,{children:[p&&t.jsx(R,{}),E&&t.jsx(T,{activateBottomErrorCard:d,errorTitle:k}),t.jsxs($,{isOpen:y,children:[t.jsx("div",{toggle:o,className:"flex justify-between w-full px-[20px] py-[20px] text-[2.5vh] font-bold bg-[#0F766E] text-white rounded-t-[15px]",close:t.jsx("button",{onClick:()=>o(),children:"Ã—"}),children:t.jsx("h1",{children:"Search Admission No"})}),t.jsx("div",{className:"flex items-center  justify-center overflow-hidden bg-white rounded-b-[15px] h-auto max-[606px]:h-[35vh]",children:t.jsx("div",{className:"block w-full   m-[20px] max[784px]:m-[10]",children:t.jsxs("form",{onSubmit:s.handleSubmit,onChange:q,children:[t.jsx("div",{className:"w-full h-auto bg-white px-[20px] py-[20px] max[784px]:px-[0px]",children:t.jsx("div",{className:"m-3 block ",children:t.jsxs("div",{className:"flex max-[425px]:block",children:[t.jsxs("label",{className:"w-[25vh] mr-2 text-[2vh] text-teal-900 flex items-center justify-center max-[625px]:w-full",children:["Admission No.",t.jsx("span",{className:"text-red-600 ml-1 mr-1",children:"*"})]}),t.jsxs("div",{className:"block",children:[t.jsx("input",{name:"admissionNo",type:"text",onChange:s.handleChange,value:s.values.admissionNo,className:"w-[40vh] h-11  p-3 flex text-[2vh]  items-start justify-start  border border-[#E5E7E9] bg-white rounded-[5px] max-[825px]:w-full max-[825px]:h-full"}),t.jsx("br",{}),t.jsx("span",{className:"text-red-600 text-xs",children:s.touched.admissionNo&&s.errors.admissionNo?s.errors.admissionNo:null})]})]})})}),t.jsxs("div",{className:" w-full h-[8vh] flex items-center justify-center max-[768px]:block mb-5 max-[768px]:ml-5",children:[t.jsx("button",{type:"submit",className:"text-[2vh] bg-[#0F766E] text-white border border-[#0F766E]  py-[7px] px-[20px] rounded-[5px] m-[20px] hover:text-[#0F766E] hover:border-[#0F766E] hover:bg-white",children:"Search"}),t.jsx("button",{onClick:()=>{o(),i!=null&&i.Link&&m(`${i==null?void 0:i.Link}`)},type:"cancel",className:"text-[2vh] border-red-600 border text-white bg-red-600 px-[20px] py-[7px]  rounded-[5px] hover:border-red-600 hover:bg-white hover:text-red-600",children:"Cancel"})]}),t.jsx("div",{className:"mb-5 w-full flex justify-center items-center max-[350px]:items-end max-[350px]:mt-12",children:t.jsxs("h1",{className:"text-gray-500",children:["Note : (",t.jsx("span",{className:"text-red-600",children:"*"}),") marks is mandatory."]})})]})})})]})]})}export{U as s};
