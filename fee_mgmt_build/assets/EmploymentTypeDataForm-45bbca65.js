import{r as n,u as D,a as C,C as q,j as t}from"./index-0cd5b1c8.js";import{u as w}from"./formik.esm-59936898.js";import{c as M,a as R}from"./index.esm-2daf9377.js";import{A as y,a as p,b as $}from"./AxiosInterceptors-d192cef8.js";import{B as P}from"./BarLoader-475527d2.js";import{B as O}from"./BottomErrorCard-5e21225b.js";import{T as G}from"./Tabs-58ad7c2a.js";import"./hoist-non-react-statics.cjs-ef0c9066.js";function K(){const[b,x]=n.useState(!1),[v,N]=n.useState(null),[g,s]=n.useState(!1),[I,j]=n.useState([]),{api_getemploymenttypeData:E,api_postemploymenttypeData:T,api_editemploymenttypeData:B,api_getemploymenttypeDataById:S}=$(),u=D(),{id:o}=C(),_=M({empTypeName:R().matches(q,"Please Enter value between A-Z to a-z").required("Employement type is required feild")}),d=w({initialValues:{empTypeName:""},onSubmit:(e,a)=>{console.log("at submit ",e),k(e)},validationSchema:_}),k=e=>{s(!0);let a,l,m={empTypeName:e.empTypeName};o!==void 0?(a=B,l=m,l.id=o):(a=T,l=m),y.post(a,l,p()).then(function(i){var c,f,h;console.log("country master..",(c=i==null?void 0:i.data)==null?void 0:c.data),((f=i==null?void 0:i.data)==null?void 0:f.status)===!0?u("/employement-type"):r(!0,`${(h=i==null?void 0:i.data)==null?void 0:h.message}`),s(!1)}).catch(function(i){console.log("==2 error list...",i),r(!0,"Error occured in submitting form."),s(!1)})},A=()=>{s(!0);let e={id:o};y.post(S,e,p()).then(function(a){var l,m,i,c;console.log("fetch edit data response..",(l=a==null?void 0:a.data)==null?void 0:l.data),(m=a==null?void 0:a.data)!=null&&m.status?F((i=a==null?void 0:a.data)==null?void 0:i.data):r(!0,`${(c=a==null?void 0:a.data)==null?void 0:c.message}`),s(!1)}).catch(function(a){console.log("= edit data error...",a),x(!0),s(!1)})},F=e=>{console.log("existing property details in prop address...",e),d.setFieldValue("empTypeName",e==null?void 0:e.emp_type_name)},L=()=>{y.post(E,{},p()).then(function(e){var a,l,m;(a=e==null?void 0:e.data)!=null&&a.status?j((l=e==null?void 0:e.data)==null?void 0:l.data):r(!0,`${(m=e==null?void 0:e.data)==null?void 0:m.message}`),s(!1)}).catch(function(e){console.log("==2 error list...",e),r(!0,"Error occured while fetching data.")})};n.useEffect(()=>{L(),o!==void 0&&A()},[]);const r=(e,a)=>{N(a),x(e)};return t.jsx(t.Fragment,{children:t.jsx("div",{className:"main-div",children:t.jsxs("div",{className:"main-inner-div",children:[g&&t.jsx(P,{}),b&&t.jsx(O,{activateBottomErrorCard:r,errorTitle:v}),t.jsxs("div",{className:"main-sub-div",children:[t.jsx("div",{className:"main-sub-inner-div",children:t.jsxs("div",{className:"text-div",children:[t.jsx("div",{className:"big-text",children:"Employment Type Master Form"}),t.jsx("div",{className:"small-text",children:"Unlock Your Potential. Join Our Journey Of Education And Excellence"})]})}),o===void 0?t.jsx("div",{className:"tab-div",children:t.jsx("div",{className:"add-button-master-div",children:t.jsxs("button",{onClick:()=>u("/employement-type-form"),type:"submit",className:" add-button-master",children:["Add"," "]})})}):null]}),o!==void 0?"":t.jsx(G,{listRoute:"/employement-type",formRoute:"/employement-type-form"}),t.jsx("div",{className:"details-div",children:t.jsx("span",{className:"detailes",children:"Details of Employment Type"})}),t.jsx("div",{className:"form-div",children:t.jsx("form",{onSubmit:d.handleSubmit,children:t.jsxs("div",{className:"form",children:[t.jsx("div",{className:"col-span-4 grid grid-cols-12",children:t.jsxs("div",{className:"form-group mb-6 col-span-12 md:col-span-2 md:pr-4",children:[t.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Employment Type Name",t.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),t.jsx("input",{...d.getFieldProps("empTypeName"),type:"text",className:"form-control h-10 block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",placeholder:"Enter employement type "}),t.jsx("span",{className:"text-red-600 text-xs",children:d.touched.empTypeName&&d.errors.empTypeName?d.errors.empTypeName:null})]})}),t.jsxs("div",{className:"cancel-button-div",children:[t.jsx("div",{className:"    ",children:t.jsx("button",{onClick:()=>u("/employement-type"),type:"button",className:"cancel-button",children:"Back to List"})}),t.jsx("div",{className:"submit-button-div",children:t.jsx("button",{type:"submit",className:"cypress_next2_button submit-button",children:o!==void 0?"Update":"Save"})})]})]})})})]})})})}export{K as default};
