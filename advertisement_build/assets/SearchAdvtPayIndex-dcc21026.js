import{r as l,i as k,t as F,g as H,e as _,h as $,v as j,c as q,b as y,u as C,f as r,F as T,j as e,k as E,w as M,L as I,d as O,A as V}from"./index-3e9f3fa1.js";function z(d,m,h){let o="/admin";d.ctrlKey?window.open(`${o}${m}`,"_blank"):h(m)}function R(){const[d,m]=l.useState();l.useState(),k();const[h,o]=l.useState(!1),[s,N]=l.useState(),[b,u]=l.useState(!1),{notify:p}=l.useContext(F);H("Search Holding");const{api_advtSearchPaymentParameters:v}=V(),w=_(),S=$();j();const B=a=>{u(!1),o(!0);const n={filterBy:a==null?void 0:a.filterBy,parameter:a==null?void 0:a.parameter};O.post(v,n,w).then(t=>{var c,f,g,x;(c=t==null?void 0:t.data)!=null&&c.status?(N((f=t==null?void 0:t.data)==null?void 0:f.data),u(!0),p((g=t==null?void 0:t.data)==null?void 0:g.message,"success")):p((x=t==null?void 0:t.data)==null?void 0:x.message,"error"),o(!1)}).catch(t=>{p("Something went wrong!!","error"),o(!1),u(!1)})},A=q({filterBy:y().required("This is a required field !"),parameter:y().required("This is a required field !")}),i=C({initialValues:{filterBy:"",parameter:""},onSubmit:a=>{B(a)},validationSchema:A}),L=(a,n,t)=>{let c=`/agencyApprovedDetail/${n}/${t}/Approve`;z(a,c,S)},P=[{Header:"Application No.",accessor:"application_no"},{Header:"Entity Name",accessor:"entity_name"},{Header:"Mobile No.",accessor:"mobile_no"},{Header:"Action",Cell:({row:a})=>e("button",{onClick:n=>L(n,a.original.id,a.original.type),className:"bg-indigo-500 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-indigo-700 text-white",children:"view"})}];return r(T,{children:[h&&e(E,{}),r("div",{className:"border shadow-xl bg-white mt-6",children:[e("div",{className:"flex ml-5 mt-2 ",children:e("p",{className:"font-bold text-3xl ml-4 mt-1 text-gray-600",children:"Search For Payment"})}),e("form",{onSubmit:i.handleSubmit,children:r("div",{className:"flex justify-center space-x-8 my-5 m-10",children:[r("div",{children:[r("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Filter By",e("span",{className:"text-red-500",children:"*"})]}),r("select",{...i.getFieldProps("filterBy"),className:"cursor-pointer w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e("option",{value:"",children:"Select"}),e("option",{value:"entityName",children:"Entity Name"}),e("option",{value:"ownerName",children:"Owner Name"}),e("option",{value:"mobileNo",children:"Mobile No"})]}),e("p",{className:"text-red-500 text-xs",children:i.touched.filterBy&&i.errors.filterBy?i.errors.filterBy:null})]}),r("div",{children:[r("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Search By ",d," ",e("span",{className:"text-red-500",children:"*"})]}),e("input",{type:"text",...i.getFieldProps("parameter"),className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e("p",{className:"text-red-500 text-xs",children:i.touched.parameter&&i.errors.parameter?i.errors.parameter:null})]}),e("div",{className:"mt-4",children:r("button",{type:"submit",className:"w-full border border-indigo-700 bg-indigo-600 hover:bg-indigo-500 text-white hover:text-black shadow-lg rounded-sm text-base font-semibold px-5 m-3 py-1",children:[" ",r("p",{className:"flex",children:[" ",r("span",{className:"mt-1 mr-2",children:[" ",e(M,{})," "]})," ","Search record"]})]})})]})})]}),r("div",{className:"mt-10",children:[b&&(s==null?void 0:s.length)!=0&&e(I,{columns:P,dataList:s}),b&&(s==null?void 0:s.length)==0&&e("div",{className:"text-xl font-semibold text-red-400 text-center capitalize",children:"List is empty"}),e("div",{className:"w-full h-40"})]})]})}export{R as default};
