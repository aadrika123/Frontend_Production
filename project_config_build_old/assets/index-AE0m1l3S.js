const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DSEGg3aR.js","assets/vendor-C6s-inHL.js","assets/vendor-DLy2ZVNp.css","assets/yup-DhAxOKkA.js","assets/ui-ChTP6gw5.js","assets/query-byMx0STS.js","assets/icons-DjULcYAI.js","assets/axios-Dos3PyFQ.js","assets/zustand-_w4DEDlg.js","assets/index-BrG5DCNE.js","assets/index-CzexnAZg.js"])))=>i.map(i=>d[i]);
import{r as e,c as s,j as t,f as a,g as r,i as l,k as n,O as i,u as d,L as o,z as c,l as m,m as u,n as x,N as h,o as p,F as g,q as f,C as v,v as b,w as j,D as N,x as y,y as w,A as k,B as S,E as L,G as C,H as M,I as R,J as A,K as I,M as E,P,Q as z,S as _,T as D,U,V as T,W as F,X as B,Y as $,Z as O,_ as W,$ as q,a0 as H,a1 as V,a2 as K,a3 as Y,a4 as Z,a5 as G,a6 as J,a7 as Q,a8 as X,a9 as ee,aa as se,ab as te,ac as ae,ad as re,ae as le,af as ne,ag as ie,ah as de,ai as oe,aj as ce,ak as me,al as ue,am as xe,an as he,ao as pe,ap as ge,aq as fe,ar as ve,as as be,at as je,au as Ne,av as ye,aw as we,ax as ke}from"./vendor-C6s-inHL.js";import{u as Se,a as Le,Q as Ce,b as Me}from"./query-byMx0STS.js";import{S as Re,C as Ae,P as Ie,R as Ee,T as Pe,a as ze,b as _e,c as De,d as Ue,e as Te,f as Fe,g as Be,h as $e,I as Oe,i as We,j as qe,k as He,l as Ve,D as Ke,L as Ye,m as Ze,n as Ge,o as Je,G as Qe,p as Xe,q as es,F as ss,O as ts,r as as,s as rs,t as ls,u as ns,v as is,w as ds,x as os,y as cs,z as ms,A as us,B as xs,E as hs,H as ps,J as gs,V as fs,K as vs,M as bs,N as js,Q as Ns,U as ys,W as ws,X as ks,Y as Ss,Z as Ls,_ as Cs,$ as Ms,a0 as Rs,a1 as As,a2 as Is,a3 as Es,a4 as Ps,a5 as zs,a6 as _s,a7 as Ds,a8 as Us,a9 as Ts,aa as Fs,ab as Bs,ac as $s,ad as Os,ae as Ws,af as qs,ag as Hs,ah as Vs,ai as Ks,aj as Ys,ak as Zs,al as Gs,am as Js}from"./ui-ChTP6gw5.js";import{I as Qs,L as Xs,a as et,C as st,b as tt,c as at,d as rt,e as lt,f as nt,g as it,h as dt,i as ot,j as ct,k as mt,l as ut,m as xt,n as ht,o as pt,p as gt,q as ft,r as vt,U as bt,K as jt,B as Nt,s as yt,t as wt,E as kt,u as St,v as Lt,w as Ct,x as Mt,y as Rt,z as At,A as It,D as Et}from"./icons-DjULcYAI.js";import{a as Pt}from"./axios-Dos3PyFQ.js";import{c as zt}from"./zustand-_w4DEDlg.js";import{c as _t,a as Dt,b as Ut,d as Tt,e as Ft}from"./yup-DhAxOKkA.js";function Bt({children:e}){return t.jsx(t.Fragment,{children:e})}function $t({children:t}){return e.useEffect(()=>{var e;const a=s.Children.toArray(t);for(const s of a)if(s&&"object"==typeof s){if("title"===s.type){const t=null==(e=s.props)?void 0:e.children;"string"==typeof t?document.title=t:Array.isArray(t)&&(document.title=t.join(""))}if("meta"===s.type){const e=s.props||{};if(e.name){let s=document.head.querySelector(`meta[name="${e.name}"]`);s||(s=document.createElement("meta"),s.setAttribute("name",e.name),document.head.appendChild(s)),e.content&&s.setAttribute("content",e.content)}if(e.property){let s=document.head.querySelector(`meta[property="${e.property}"]`);s||(s=document.createElement("meta"),s.setAttribute("property",e.property),document.head.appendChild(s)),e.content&&s.setAttribute("content",e.content)}}}},[t]),null}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&s(e)}).observe(document,{childList:!0,subtree:!0})}function s(e){if(e.ep)return;e.ep=!0;const s=function(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?s.credentials="include":"anonymous"===e.crossOrigin?s.credentials="omit":s.credentials="same-origin",s}(e);fetch(e.href,s)}}();const Ot=e.createContext({theme:"system",setTheme:()=>null});function Wt({children:s,defaultTheme:a="system",storageKey:r="vite-ui-theme",...l}){const[n,i]=e.useState(()=>localStorage.getItem(r)||a);e.useEffect(()=>{const e=window.document.documentElement;if(e.classList.remove("light","dark"),"system"===n){const s=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";return void e.classList.add(s)}e.classList.add(n)},[n]);const d={theme:n,setTheme:e=>{localStorage.setItem(r,e),i(e)}};return t.jsx(Ot.Provider,{...l,value:d,children:s})}const qt=a({language:"en",isGrid:!1,isSort:!1});function Ht(...e){return r(l(e))}const Vt=n("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Kt=e.forwardRef(({className:e,variant:s,size:a,asChild:r=!1,...l},n)=>{const i=r?Re:"button";return t.jsx(i,{className:Ht(Vt({variant:s,size:a,className:e})),ref:n,...l})});function Yt({error:e}){return t.jsx("div",{className:"flex h-screen items-center justify-center",children:t.jsxs("div",{className:"space-y-2 px-6 text-center",children:[t.jsx("h1",{className:"text-xl font-bold text-red-500",children:"Error"}),t.jsx("p",{className:"text-sm font-semibold text-gray-500",children:e.message}),t.jsx(Kt,{onClick:()=>window.location.reload(),variant:"destructive",size:"sm",children:"Reload"})]})})}Kt.displayName="Button";const Zt=Ie,Gt=Ee,Jt=Pe,Qt=e.forwardRef(({className:e,sideOffset:s=4,...a},r)=>t.jsx(Ae,{ref:r,sideOffset:s,className:Ht("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a}));function Xt(){return t.jsxs("div",{className:"flex h-screen w-full flex-col justify-center",children:[t.jsx("main",{children:t.jsx(i,{})}),t.jsx("footer",{className:"absolute bottom-0 w-full py-6 text-center"})]})}Qt.displayName=Ae.displayName;const ea=e.createContext(null),sa=({className:s,fixed:a=!1,...r})=>{const l=e.useRef(null),[n,i]=e.useState(0);return e.useEffect(()=>{const e=l.current;if(!e)return;const s=()=>i(e.scrollTop);return e.removeEventListener("scroll",s),e.addEventListener("scroll",s,{passive:!0}),()=>e.removeEventListener("scroll",s)},[]),t.jsx(ea.Provider,{value:{offset:n,fixed:a},children:t.jsx("div",{ref:l,"data-layout":"layout",className:Ht("h-full overflow-auto",a&&"flex flex-col",s),...r})})};sa.displayName="Layout";const ta=e.forwardRef(({className:s,sticky:a,...r},l)=>{const n=e.useContext(ea);if(null===n)throw new Error(`Layout.Header must be used within ${sa.displayName}.`);return t.jsx("div",{ref:l,"data-layout":"header",className:Ht("z-10 flex h-[var(--header-height)] w-full items-center gap-4 bg-background p-4 md:px-8",a?"sticky top-0":"relative",n.offset>10&&a?"shadow":"shadow-none",n.fixed&&"flex-none ",s),...r})});ta.displayName="Header";const aa=e.forwardRef(({className:s,...a},r)=>{const l=e.useContext(ea);if(null===l)throw new Error(`Layout.Body must be used within ${sa.displayName}.`);return t.jsx("div",{ref:r,"data-layout":"body",className:Ht("px-3 py-4 md:overflow-hidden md:px-6",l&&l.fixed&&"flex-1",s),...a})});aa.displayName="Body",sa.Header=ta,sa.Body=aa;const ra=n("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),la=e.forwardRef(({className:e,variant:s,size:a,asChild:r=!1,children:l,disabled:n,loading:i=!1,leftSection:d,rightSection:o,...c},m)=>{const u=r?Re:"button";return t.jsxs(u,{className:Ht(ra({variant:s,size:a,className:e})),disabled:i||n,ref:m,...c,children:[(d&&i||!d&&!o&&i)&&t.jsx(Qs,{className:"mr-2 h-4 w-4 animate-spin"}),!i&&d&&t.jsx("div",{className:"mr-2",children:d}),l,!i&&o&&t.jsx("div",{className:"ml-2",children:o}),o&&i&&t.jsx(Qs,{className:"ml-2 h-4 w-4 animate-spin"})]})});la.displayName="Button";const na=ze,ia=_e,da=De,oa=Ge,ca=Je,ma=Qe;e.forwardRef(({className:e,inset:s,children:a,...r},l)=>t.jsxs(Ue,{ref:l,className:Ht("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",s&&"pl-8",e),...r,children:[a,t.jsx(Te,{className:"ml-auto h-4 w-4"})]})).displayName=Ue.displayName;e.forwardRef(({className:e,...s},a)=>t.jsx(Fe,{ref:a,className:Ht("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})).displayName=Fe.displayName;const ua=e.forwardRef(({className:e,sideOffset:s=4,...a},r)=>t.jsx(Be,{children:t.jsx($e,{ref:r,sideOffset:s,className:Ht("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})}));ua.displayName=$e.displayName;const xa=e.forwardRef(({className:e,inset:s,...a},r)=>t.jsx(Oe,{ref:r,className:Ht("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s&&"pl-8",e),...a}));xa.displayName=Oe.displayName;e.forwardRef(({className:e,children:s,checked:a,...r},l)=>t.jsxs(We,{ref:l,className:Ht("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:a,...r,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(qe,{children:t.jsx(He,{className:"h-4 w-4"})})}),s]})).displayName=We.displayName;e.forwardRef(({className:e,children:s,...a},r)=>t.jsxs(Ve,{ref:r,className:Ht("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(qe,{children:t.jsx(Ke,{className:"h-4 w-4 fill-current"})})}),s]})).displayName=Ve.displayName;const ha=e.forwardRef(({className:e,inset:s,...a},r)=>t.jsx(Ye,{ref:r,className:Ht("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",e),...a}));ha.displayName=Ye.displayName;const pa=e.forwardRef(({className:e,...s},a)=>t.jsx(Ze,{ref:a,className:Ht("-mx-1 my-1 h-px bg-muted",e),...s}));function ga(){const{pathname:e}=d();return{checkActiveNav:s=>{const t=e.split("/").filter(e=>""!==e);return"/"===s&&t.length<1||t.includes(s.replace(/^\//,""))}}}function fa({links:s,isCollapsed:a,className:r,closeNav:l}){return t.jsx("div",{"data-collapsed":a,className:Ht("group py-5 transition-all duration-500 data-[collapsed=true]:py-3",r),children:t.jsx(Zt,{delayDuration:0,children:t.jsx("nav",{className:"grid gap-1.5 px-3 group-[[data-collapsed=true]]:justify-center group-[[data-collapsed=true]]:px-2",children:s.map(({sub:s,...t})=>{const r=`${t.title}-${t.href}`;return a&&s?e.createElement(Na,{...t,sub:s,key:r,closeNav:l}):a?e.createElement(ja,{...t,key:r,closeNav:l}):s?e.createElement(ba,{...t,sub:s,key:r,closeNav:l}):e.createElement(va,{...t,key:r,closeNav:l})})})})})}function va({title:e,icon:s,label:a,href:r,closeNav:l,subLink:n=!1}){const{checkActiveNav:i}=ga(),d=i(r);return t.jsxs(o,{to:r,onClick:l,className:Ht("group relative flex items-center gap-3 rounded-xl px-3.5 py-2.5 font-medium transition-all duration-200",n&&"py-2 pl-11 text-[0.9375rem]",d&&!n&&"bg-primary text-primary-foreground shadow-sm",d&&n&&"bg-primary/10 font-bold text-primary",!d&&!n&&"text-slate-500 hover:bg-accent hover:text-accent-foreground dark:text-slate-400",!d&&n&&"text-slate-500/90 hover:bg-accent/50 hover:text-accent-foreground dark:text-slate-400/90"),"aria-current":d?"page":void 0,children:[!n&&t.jsx("div",{className:Ht("flex items-center justify-center transition-transform duration-200",d&&"scale-105"),children:"Dashboard"==e?t.jsx(at,{className:"h-[1.125rem] w-[1.125rem]"}):t.jsx(Xs,{className:"h-[1.125rem] w-[1.125rem]"})}),n&&t.jsx("div",{className:"absolute left-5 top-1/2 flex -translate-y-1/2 items-center",children:t.jsx(st,{className:Ht("h-1.5 w-1.5 transition-all duration-200",d?"scale-125 fill-primary text-primary":"fill-muted-foreground/50 text-muted-foreground/50 group-hover:fill-muted-foreground group-hover:text-muted-foreground")})}),t.jsx("span",{className:"flex-1",children:e}),a&&t.jsx("div",{className:Ht("rounded-full px-2 py-0.5 text-[0.625rem] font-bold uppercase tracking-wide transition-all duration-200",d&&!n&&"bg-primary-foreground text-primary",d&&n&&"bg-primary text-primary-foreground",!d&&"bg-slate-200 text-slate-600 dark:bg-slate-800 dark:text-slate-400"),children:a}),d&&t.jsx("div",{className:Ht("absolute left-0 top-1/2 h-8 w-1 -translate-y-1/2 rounded-r-full transition-all duration-200",!n&&"bg-white",n&&"h-6 bg-primary")})]})}function ba({title:e,icon:s,label:a,sub:r,closeNav:l}){const{checkActiveNav:n}=ga(),i=!!(null==r?void 0:r.find(e=>n(e.href)));return t.jsxs(na,{defaultOpen:i,children:[t.jsxs(ia,{className:Ht("group relative flex w-full items-center gap-3 rounded-xl px-3.5 py-2.5 font-medium transition-all duration-200",i?"bg-primary text-primary-foreground shadow-sm":"text-slate-500 hover:bg-accent hover:text-accent-foreground dark:text-slate-400"),children:[t.jsx("div",{className:Ht("flex items-center justify-center transition-transform duration-200",i&&"scale-105"),children:t.jsx(tt,{className:"h-[1.125rem] w-[1.125rem]"})}),t.jsx("span",{className:"flex-1 text-left",children:e}),a&&t.jsx("div",{className:Ht("rounded-full px-2 py-0.5 text-[0.625rem] font-bold uppercase tracking-wide transition-all duration-200",i?"bg-white/95 text-blue-700":"bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-sm"),children:a}),t.jsx("span",{className:Ht('transition-transform duration-300 ease-out group-data-[state="open"]:rotate-180',i?"text-white/90":"text-muted-foreground/60"),children:t.jsx(et,{stroke:2,size:16})}),i&&t.jsx("div",{className:"absolute left-0 top-1/2 h-8 w-1 -translate-y-1/2 rounded-r-full bg-white shadow-lg shadow-white/50"})]}),t.jsx(da,{className:"data-[state=closed]:animate-collapsible-up data-[state=open]:animate-collapsible-down overflow-hidden transition-all duration-300 ease-out",asChild:!0,children:t.jsx("ul",{className:"mt-1 space-y-0.5 pb-1",children:null==r?void 0:r.filter(e=>null==e?void 0:e.is_sidebar).map(e=>t.jsx("li",{children:t.jsx(va,{...e,subLink:!0,closeNav:l})},e.title))})})]})}function ja({title:e,icon:s,label:a,href:r,closeNav:l}){const{checkActiveNav:n}=ga(),i=n(r);return t.jsxs(Gt,{delayDuration:0,children:[t.jsx(Jt,{asChild:!0,children:t.jsxs(o,{to:r,onClick:l,className:Ht("relative flex h-9 w-9 items-center justify-center rounded-lg transition-all duration-200",i&&"scale-105 bg-primary text-primary-foreground shadow-sm",!i&&"text-slate-500 hover:scale-105 hover:bg-accent hover:text-accent-foreground dark:text-slate-400"),children:[t.jsx("div",{className:"transition-transform duration-200",children:s}),t.jsx("span",{className:"sr-only",children:e}),i&&t.jsx("div",{className:"absolute -right-0.5 -top-0.5",children:t.jsx("div",{className:"h-2.5 w-2.5 rounded-full bg-primary shadow-none ring-2 ring-background"})})]})}),t.jsxs(Qt,{side:"right",className:"flex items-center gap-3 border bg-popover px-3 py-2 text-popover-foreground shadow-xl",children:[t.jsx("span",{className:"text-sm font-medium",children:e}),a&&t.jsx("span",{className:"rounded-full bg-orange-500 px-2 py-0.5 text-[0.625rem] font-bold uppercase shadow-sm",children:a})]})]})}function Na({title:e,icon:s,label:a,sub:r,closeNav:l}){const{checkActiveNav:n}=ga(),i=!!(null==r?void 0:r.find(e=>n(e.href)));return t.jsxs(oa,{children:[t.jsxs(Gt,{delayDuration:0,children:[t.jsx(Jt,{asChild:!0,children:t.jsx(ca,{asChild:!0,children:t.jsxs(la,{variant:"ghost",size:"icon",className:Ht("relative h-9 w-9 rounded-lg transition-all duration-200",i&&"scale-105 bg-primary text-primary-foreground shadow-sm",!i&&"text-slate-500 hover:scale-105 hover:bg-accent hover:text-accent-foreground dark:text-slate-400"),children:[t.jsx(Xs,{className:"h-[1.125rem] w-[1.125rem]"}),i&&t.jsx("div",{className:"absolute -right-1 -top-1",children:t.jsx("div",{className:"h-2.5 w-2.5 rounded-full bg-primary shadow-none ring-2 ring-background"})})]})})}),t.jsxs(Qt,{side:"right",className:"flex items-center gap-3 border bg-popover px-3 py-2 text-popover-foreground shadow-xl",children:[t.jsx("span",{className:"text-sm font-medium",children:e}),a&&t.jsx("span",{className:"rounded-full bg-orange-500 px-2 py-0.5 text-[0.625rem] font-bold uppercase shadow-sm",children:a}),t.jsx(et,{size:16,className:"-rotate-90 text-slate-400"})]})]}),t.jsxs(ua,{side:"right",align:"start",sideOffset:8,className:"min-w-[220px] rounded-xl border bg-popover p-1.5 shadow-xl",children:[t.jsxs(ha,{className:"px-3 py-2 text-xs font-semibold uppercase tracking-wider text-foreground",children:[e," ",a&&`(${a})`]}),t.jsx(pa,{className:"my-1"}),t.jsx("div",{className:"space-y-0.5",children:r.map(({title:e,icon:s,label:a,href:r})=>t.jsx(xa,{asChild:!0,className:"p-0",children:t.jsxs(o,{to:r,onClick:l,className:Ht("mx-1 flex items-center gap-3 rounded-lg px-3 py-2 transition-all duration-200",n(r)?"bg-gradient-to-r from-blue-600 to-indigo-600 font-semibold text-white shadow-md":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),children:[t.jsx(st,{className:Ht("h-1.5 w-1.5 shrink-0 transition-all duration-200",n(r)?"fill-white text-white":"fill-muted-foreground/50 text-muted-foreground/50")}),t.jsx("span",{className:"flex-1 text-wrap text-sm",children:e}),a&&t.jsx("span",{className:Ht("rounded-full px-2 py-0.5 text-[0.625rem] font-bold uppercase shadow-sm",n(r)?"bg-white/95 text-blue-700":"bg-orange-500 text-white"),children:a})]})},`${e}-${r}`))})]})]})}pa.displayName=Ze.displayName;const ya=Pt.create({baseURL:"https://jharkhandegovernance.com/auth"});function wa(e,s){const t=e.currentTarget;if(s.includes("mobile")){const e=t.value;e.length>10&&(t.value=e.slice(0,10))}if(s.includes("zip")){const e=t.value;e.length>6&&(t.value=e.slice(0,6))}if(s.includes("aadhaar")){const e=t.value;e.length>12&&(t.value=e.slice(0,12))}if(s.includes("pan")){const e=t.value;e.length>10&&(t.value=e.slice(0,10))}if(s.includes("UAN")){const e=t.value;e.length>12&&(t.value=e.slice(0,12))}if(s.includes("Passport")){const e=t.value;e.length>8&&(t.value=e.slice(0,8))}if(s.includes("drivingLicence")){const e=t.value;e.length>15&&(t.value=e.slice(0,15))}if(s.includes("removeDoubleSpace")){const e=t.value;t.value=e.replace(/\s+/g," ")}if(s.includes("removeSpecialCharacter")){const e=t.value;t.value=e.replace(/[^a-zA-Z0-9]/g,"")}if(s.includes("removeSpecialCharacterExceptSpace")){const e=t.value;t.value=e.replace(/[^a-zA-Z0-9 ]/g,"")}if(s.includes("removeSpecialCharacterExceptSpaceAndDot")){const e=t.value;t.value=e.replace(/[^a-zA-Z0-9 .]/g,"")}if(s.includes("sqlInjectionGuard")){const e=t.value;(e.includes("drop")||e.includes("select"))&&(t.value="")}if(s.includes("address")){const e=t.value;t.value=e.replace(/[^a-zA-Z0-9 ,]/g,"")}if(s.includes("phone")){const e=t.value;t.value=e.replace(/[^0-9]/g,"")}if(s.includes("email")){const e=t.value;t.value=e.replace(/[^a-zA-Z0-9@.]/g,"")}if(s.includes("string")){const e=t.value;t.value=e.replace(/[^a-zA-Z ]/g,"")}if(s.includes("number")){const e=t.value;t.value=e.replace(/[^0-9]/g,"")}if(s.includes("removeDoubleQuote")){const e=t.value;t.value=e.replace(/"/g,"")}if(s.includes("removeSingleQuote")){const e=t.value;t.value=e.replace("'","")}if(s.includes("removeSpecialCharacterWithDoubleSpace")){const e=t.value;t.value=e.replace(/[^a-zA-Z0-9 ]/g,"");const s=t.value;t.value=s.replace(/\s+/g," ")}if(s.includes("CapitalFirstLetter")){const e=t.value;t.value=e.charAt(0).toUpperCase()+e.slice(1)}if(s.includes("UppercaseAfterSpace")){const e=t.value;t.value=e.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}if(s.includes("Uppercase")){const e=t.value;t.value=e.toUpperCase()}if(s.includes("removeSpace")){const e=t.value;t.value=e.replace(/\s+/g,"")}if(s.includes("Lowercase")){const e=t.value;t.value=e.toLowerCase()}if(s.includes("none")){const e=t.value;t.value=e}if(s.includes("decimal")){let e=t.value.replace(/[^0-9.]/g,"");const s=e.split(".");s.length>2&&(e=s[0]+"."+s.slice(1).join("")),2===s.length&&s[1].length>2&&(e=s[0]+"."+s[1].slice(0,2)),t.value=e}if(s.includes("maxTwoDecimalPlaces")){const e=t.value;e.length>2&&(t.value=e.slice(0,2))}}ya.interceptors.request.use(e=>{const s=localStorage.getItem("token"),t=localStorage.getItem("ulbId")||null;return e.params={...e.params,ulbId:t},s&&(e.headers.Authorization=`Bearer ${s}`),e},e=>{throw new Error(e)}),ya.interceptors.response.use(e=>{var s,t;return"false"==(null==(s=e.data)?void 0:s.authenticated)&&(delete ya.defaults.headers.common.Authorization,localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),localStorage.setItem("authenticated",null==(t=e.data)?void 0:t.authenticated),alert("Session Expired"),location.reload()),e},async e=>{throw new Error(e)});const ka={login:"/api/login",getUser:"/api/user-managment/get-user-dtls",byModule:"/api/menu/by-module",getAllUsers:"/api/user-managment/v1/crud/get/user-list-by-ulb-id-v1",changePassword:"/api/change-password",getCaptcha:"/api/login-Captcha"},Sa={getUser:"/api/get-citizen-dtl",getModuleByUlbId:"/api/get/moudle-by-Ulb-id",userManagementModuleList:"/api/user-managment/v1/crud/module/list",createServiceMapping:"/api/global/mapping",getServiceMapping:"/api/global/mapping",updateServiceMapping:"/api/global/mapping/update",serviceList:"/api/get/service-list",addServiceByModule:"/api/create/services",updateServiceByModule:"/api/update/service-by-id",ulbEnableDisable:"/api/permissions/ulb-by-id",moduleList:"/api/global/service",createService:"/api/global/service",getAllJuidcoUlbList:"/api/v2/get-all-ulb",getAnalyticsData:"/api/global/analytics",getMenuRoleList:"/api/user-managment/v1/crud/menu-role/list",getWorkFlowList:"/api/user-managment/v1/crud/workflow-role/list",getMenuMasterList:"/api/user-managment/v1/crud/menu/list",getPermitedMenuList:"/api/user-managment/v1/crud/menu-role/menu-list",getPermitedApiList:"/api/user-managment/v1/crud/api-role-map/list-v1",addRemoveMenuPermission:"/api/user-managment/v1/crud/menu-role-map/save",addRemoveApiPermission:"/api/user-managment/v1/crud/api-role-map/save-v1",addMenuList:"/api/user-managment/v1/crud/menu-role/save",editMenuList:"/api/user-managment/v1/crud/menu-role/edit",parentMenuList:"/api/user-managment/v1/crud/menu/list-parent-serial",workFlowByModule:"/api/user-managment/v1/crud/workflow-by-module",addMenuByModule:"/api/user-managment/v1/crud/menu/save",getMenuDetailsByModule:"/api/user-managment/v1/crud/menu/get",editMenuDetailsByModule:"/api/user-managment/v1/crud/menu/edit",userListByULBId:"/api/user-managment/v1/crud/get/user-list-by-ulb-id",userPermittedRoles:"/api/user-managment/v1/crud/menu-role-user/by-user",addMenuRoleUser:"/api/user-managment/v1/crud/menu-role-user/save",permittedWardByUser:"/api/user-managment/v1/crud/ward-user/by-user",addRemoveWard:"/api/user-managment/v1/crud/ward-user/save",workFlowRoleByUser:"/api/user-managment/v1/crud/workflow-role-user/by-user",AddRemoveWorkFlowRoleByUser:"/api/user-managment/v1/crud/workflow-role-user/save",addRemoveModuleToUlb:"/api/create/ulb-wise-module",getServicesByUlbModule:"/api/get/services-b-ulb-id-v1",addRemoveServiceByUlbModule:"/api/create/ulb-wise-services",enableDisableUserByModule:"/api/user-managment/v1/crud/user/delete",adminList:"/api/user-managment/v1/crud/get/admin-list-v1",createAdmin:"/api/user-managment/v1/crud/user/create",updateAdmin:"/api/user-managment/v1/crud/user/update",createUserType:"/api/user-managment/v1/crud/get/user-type",deleteMenu:"/api/user-managment/v1/crud/menu/delete",changeUserPassword:"/api/change-password-dev",apiListByModule:"/api/user-managment/v1/api-list-module-id",apiMasterCreateByModule:"/api/user-managment/v1/crud/api-master/save",apiDetailsById:"/api/user-managment/v1/api-details-by-id",apiMasterUpdate:"/api/user-managment/v1/update-api-details",apiMasterDelete:"/api/user-managment/v1/delete-api",apiRoleMasterActiveDeactive:"/api/user-managment/v1/menu-role/toggle-suspension",addModule:"api/add-module",updateModule:"api/update-module",deleteModule:"api/delete-module"},La=e=>{e?localStorage.setItem("token",e):(localStorage.removeItem("token"),delete ya.defaults.headers.common.Authorization)};function Ca(e){return e instanceof Error?e.message:String(e)}function Ma(e,s){let t="",a=e;for(let r=0;r<s;r++)a=(9301*a+49297)%233280,t+=(a%16).toString(16);return t}const Ra=zt()((e,s)=>({isAuthenticated:!1,isInitialized:!1,user:null,menuItems:null,setIsAuthenticated:s=>e({isAuthenticated:s}),setIsInitialized:s=>e({isInitialized:s}),setMenuItems:s=>e({menuItems:s}),initialize:async()=>{var s,t;try{const a=localStorage.getItem("token");if(!a)return void e({isAuthenticated:!1,isInitialized:!0,user:null});La(a);const[r,l]=await Promise.all([ya.post(`${ka.getUser}`),ya.post(`${ka.byModule}`,{moduleId:"35"})]);if(null==(s=null==r?void 0:r.data)?void 0:s.authenticated){const s=r.data.data;"SUPER ADMIN"!=(null==s?void 0:s.roleName)&&window.localStorage.setItem("ulbId",function(e,s="EW^reB0tm}p)R3w+7=+0YG0[XpUOSPfy"){if(!e||!s)return"";let t=0;const a=e+s;for(let o=0;o<a.length;o++)t=(t<<5)-t+a.charCodeAt(o),t&=t;t=Math.abs(t);let r="";for(let o=0;o<e.length;o++){const t=s.charCodeAt(o%s.length);r+=(e.charCodeAt(o)^t).toString(16).padStart(4,"0")}const l=Ma(t,8),n=Ma(t+1,4),i=Ma(t+2,4),d=Ma(t+3,4);return Ma(t+4,12),`${l}-${n}-${i}-${d}:${e.length.toString(16).padStart(4,"0")}${r}`}(s.ulbId.toString())),e({isAuthenticated:!0,isInitialized:!0,user:s,menuItems:(null==(t=null==l?void 0:l.data)?void 0:t.data)||null})}else e({isAuthenticated:!1,isInitialized:!0,user:null})}catch(a){e({isAuthenticated:!1,isInitialized:!0,user:null})}},login:async e=>{try{const t=null==e?void 0:e.data;return La(null==t?void 0:t.token),s().initialize(),t}catch(t){c.error("Login Failed")}},logout:()=>{try{La(null),localStorage.removeItem("token"),e({isAuthenticated:!1,user:null,menuItems:null}),s().initialize()}catch(t){}}})),Aa=zt(e=>({getTitle:"",setTitle:s=>e({getTitle:s})})),Ia=()=>({...Ra(),...Aa()});function Ea(e="1/1"){return{"4/3":"calc(100% / 4 * 3)","3/4":"calc(100% / 3 * 4)","6/4":"calc(100% / 6 * 4)","4/6":"calc(100% / 4 * 6)","16/9":"calc(100% / 16 * 9)","9/16":"calc(100% / 9 * 16)","21/9":"calc(100% / 21 * 9)","9/21":"calc(100% / 9 * 21)","1/1":"100%"}[e]}const Pa=m.LazyLoadImage,za=e.forwardRef(({ratio:e,disabledEffect:s=!1,effect:a="blur",...r},l)=>{const n=t.jsx(Pa,{wrapperClassName:"wrapper",effect:s?"opacity":a,placeholderSrc:s?"/assets/transparent.png":"/assets/placeholder-new.png",width:"100%",style:{objectFit:"cover"},...r});return e?t.jsx("span",{ref:l,style:{width:1,lineHeight:1,display:"block",overflow:"hidden",position:"relative",paddingTop:Ea(e)},children:n}):t.jsx("span",{ref:l,style:{lineHeight:1,display:"block",overflow:"hidden",position:"relative"},children:n})}),_a=(e,s)=>{const a=e.toLowerCase();return s?t.jsx(za,{src:s,alt:e,className:"h-5 w-5"}):a.includes("home")?t.jsx(rt,{size:18}):a.includes("search")||a.includes("view")?t.jsx(Xs,{size:18}):a.includes("holding")?t.jsx(lt,{size:18}):a.includes("workflow")?t.jsx(nt,{size:20}):a.includes("saf")?t.jsx(it,{size:18}):a.includes("concession")?t.jsx(dt,{size:18}):a.includes("harvesting")?t.jsx(ot,{size:18}):a.includes("objection")?t.jsx(ct,{size:18}):a.includes("gbsaf")?t.jsx(mt,{size:18}):t.jsx(ut,{size:18})},Da=()=>{const{menuItems:e}=Ia();return s.useMemo(()=>{return e&&e.permission?(s=null==e?void 0:e.permission,[...s].sort((e,s)=>(e.order||999)-(s.order||999)).map(e=>{const s={title:e.name,label:"",href:e.path||"",is_sidebar:e.is_sidebar,icon:_a(e.name,e.icon)};if(e.children&&e.children.length>0){const t=[...e.children].sort((e,s)=>{const t=e.order||999;return(s.order||999)-t});s.sub=t.map(e=>({title:e.name,label:"",is_sidebar:e.is_sidebar,href:e.path||"",icon:_a(e.name,e.icon)}))}return s})):[];var s},[e])};function Ua({className:s,isCollapsed:a,setIsCollapsed:r}){const l=Da(),[n,i]=e.useState(!1),[d,o]=e.useState([]),c=u();return e.useEffect(()=>{n?document.body.classList.add("overflow-hidden"):document.body.classList.remove("overflow-hidden"),o(l||[])},[n]),t.jsxs("aside",{className:Ht("fixed left-0 right-0 top-0 z-50 w-full border-b border-r-2 border-border bg-background transition-[width] md:bottom-0 md:right-auto md:h-svh "+(a?"md:w-14":"md:w-64"),s),children:[t.jsx("div",{onClick:()=>i(!1),className:`absolute inset-0 transition-[opacity] delay-100 duration-700 ${n?"h-svh opacity-50":"h-0 opacity-0"} w-full bg-black/60 backdrop-blur-sm md:hidden`}),t.jsxs(sa,{fixed:!0,className:n?"h-svh":"",children:[t.jsxs(sa.Header,{sticky:!0,className:"z-50 flex justify-between border-b border-border bg-background px-4 py-3 md:px-4",children:[t.jsxs("div",{className:"flex items-center "+(a?"":"gap-2"),onClick:()=>c("/grievance/main"),children:[t.jsx("div",{children:t.jsx("img",{src:"https://i.ibb.co/vz5hT4c/jharkhand-Logo-uf1gjn.png",alt:"",className:"w-11"})}),t.jsxs("div",{className:"flex flex-col justify-end truncate "+(a?"invisible w-0":"visible w-auto"),children:[t.jsx("span",{className:"cursor-pointer font-medium",children:"UD&HD"}),t.jsx("span",{className:"text-xs",children:"HRMS"})]})]}),t.jsx(la,{variant:"ghost",size:"icon",className:"md:hidden","aria-label":"Toggle Navigation","aria-controls":"sidebar-menu","aria-expanded":n,onClick:()=>i(e=>!e),children:n?t.jsx(xt,{}):t.jsx(ht,{})})]}),t.jsx(fa,{id:"sidebar-menu",className:"z-40 h-full flex-1 overflow-auto "+(n?"max-h-screen":"max-h-0 border-b py-0 md:max-h-screen md:py-2"),closeNav:()=>i(!1),isCollapsed:a,links:(null==d?void 0:d.filter(e=>e.is_sidebar))||[]}),t.jsx(la,{onClick:()=>r(e=>!e),size:"icon",variant:"outline",className:"absolute -right-5 top-1/2 z-50 hidden rounded-full md:inline-flex",children:t.jsx(pt,{stroke:1.5,className:"h-5 w-5 "+(a?"rotate-180":"")})})]})]})}function Ta(){const[s,t]=function({key:s,defaultValue:t}){const[a,r]=e.useState(()=>{const e=localStorage.getItem(s);return null!==e?JSON.parse(e):t});return e.useEffect(()=>{localStorage.setItem(s,JSON.stringify(a))},[a,s]),[a,r]}({key:"collapsed-sidebar",defaultValue:!1});return e.useEffect(()=>{const e=()=>{t(!(window.innerWidth<768)&&s)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[s,t]),[s,t]}function Fa(){const[e,s]=Ta();return t.jsxs("div",{className:"relative h-full overflow-hidden bg-background",children:[t.jsx(Ua,{isCollapsed:e,setIsCollapsed:s}),t.jsx("main",{id:"content",className:`overflow-x-hidden pt-16 transition-[margin] md:overflow-y-scroll md:pt-0 ${e?"md:ml-14":"md:ml-64"} h-full bg-secondary`,children:t.jsx(i,{})})]})}function Ba(){const e=u();return t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx("div",{className:"border-b bg-white shadow-sm",children:t.jsxs("div",{className:"mx-auto flex max-w-7xl items-center justify-between px-4 sm:px-6 lg:px-8",children:[t.jsx("div",{children:t.jsx(za,{src:"/images/jlogo.png",alt:"logo",width:80,height:80})}),t.jsx("div",{className:"container mx-auto max-w-6xl px-4 py-6",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"mb-2 text-3xl font-bold text-gray-900",children:"URBAN DEVELOPMET & HOUSING DEPARTMENT"}),t.jsx("p",{className:"text-gray-600",children:"Goverment of Jharkhand"})]})})]})}),t.jsx("div",{className:"bg-[#99B37C] py-3 text-white",children:t.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"flex items-center justify-between space-x-3",children:[t.jsx("div",{children:t.jsx("h1",{className:"text-xl font-bold",children:"UD&HD"})}),t.jsx("div",{children:t.jsxs(Kt,{variant:"secondary",className:"flex items-center space-x-2",onClick:()=>{e("/legal/auth/login")},children:[t.jsx(gt,{className:"h-4 w-4"})," Admin Login"]})})]})})}),t.jsx(i,{})]})}function $a(){return t.jsx("div",{className:"flex items-center justify-center w-full h-[550px]",children:t.jsxs("div",{className:"flex justify-center items-center space-x-1 text-sm text-gray-700",children:[t.jsx("svg",{fill:"none",className:"w-6 h-6 animate-spin",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{clipRule:"evenodd",d:"M15.165 8.53a.5.5 0 01-.404.58A7 7 0 1023 16a.5.5 0 011 0 8 8 0 11-9.416-7.874.5.5 0 01.58.404z",fill:"currentColor",fillRule:"evenodd"})}),t.jsx("div",{children:"Loading ..."})]})})}function Oa({children:s}){const{isInitialized:a,isAuthenticated:r,initialize:l,menuItems:n,logout:i}=Ia(),{pathname:o}=d(),c=x(),[m,u]=e.useState(null),p=e.useRef(!1),g=null==n?void 0:n.permission.flatMap(e=>[{...e,children:e.children.map(e=>e.id)},...e.children]),f=null==g?void 0:g.map(e=>{var s;return(null==(s=null==e?void 0:e.path)?void 0:s.includes(":id"))?null==e?void 0:e.path.replace(":id",c.id):null==e?void 0:e.path}).flat(1);return e.useEffect(()=>{a||l()},[]),e.useEffect(()=>{const e=()=>{document.hidden?p.current=!0:p.current&&(l(),p.current=!1)};return document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}},[l]),a?r?r&&!(null==f?void 0:f.includes(o))?t.jsx("div",{className:"flex h-screen flex-col",children:t.jsx("div",{className:"flex flex-1 flex-col items-center justify-center",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsxs("h1",{className:"text-lg font-bold text-gray-600",children:["403",t.jsx("span",{className:"text-lg font-medium text-gray-400",children:" | "}),"Unauthorized"]}),t.jsx("button",{onClick:()=>i(),className:"mt-4 rounded bg-blue-600 px-4 py-2 text-white transition hover:bg-blue-700",children:"Logout"})]})})}):m&&o!==m?(u(null),t.jsx(h,{to:m})):t.jsx(t.Fragment,{children:s}):(o!==m&&u(o),t.jsx(h,{to:"/project-config/auth/login"})):t.jsx("div",{className:"flex h-screen items-center justify-center",children:t.jsx($a,{})})}function Wa({children:s}){const{isAuthenticated:a,isInitialized:r,initialize:l,user:n}=Ra();return e.useEffect(()=>{r||l()},[]),r?a?"HRMS Employee"==(null==n?void 0:n.roleName)?t.jsx(h,{to:"/project-config/employee/emp-home",replace:!0}):t.jsx(h,{to:"/project-config/dashboard/home",replace:!0}):t.jsx(t.Fragment,{children:s}):t.jsx("div",{className:"flex h-screen items-center justify-center",children:t.jsx($a,{})})}function qa(){const e=u();return t.jsx("div",{className:"h-svh",children:t.jsxs("div",{className:"m-auto flex h-full w-full flex-col items-center justify-center gap-2",children:[t.jsx("h1",{className:"text-[7rem] font-bold leading-tight",children:"404"}),t.jsx("span",{className:"font-medium",children:"Oops! Page Not Found!"}),t.jsxs("p",{className:"text-center text-muted-foreground",children:["It seems like the page you're looking for ",t.jsx("br",{}),"does not exist or might have been removed."]}),t.jsxs("div",{className:"mt-6 flex gap-4",children:[t.jsx(la,{variant:"outline",onClick:()=>e(-1),children:"Go Back"}),t.jsx(la,{onClick:()=>e("/"),children:"Back to Home"})]})]})})}const Ha={},Va=function(e,s,t){let a=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),t=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));a=Promise.allSettled(s.map(e=>{if((e=function(e){return"/"+e}(e))in Ha)return;Ha[e]=!0;const s=e.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${a}`))return;const r=document.createElement("link");return r.rel=s?"stylesheet":"modulepreload",s||(r.as="script"),r.crossOrigin="",r.href=e,t&&r.setAttribute("nonce",t),document.head.appendChild(r),s?new Promise((s,t)=>{r.addEventListener("load",s),r.addEventListener("error",()=>t(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function r(e){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=e,window.dispatchEvent(s),!s.defaultPrevented)throw e}return a.then(s=>{for(const e of s||[])"rejected"===e.status&&r(e.reason);return e().catch(r)})};function Ka(){const{theme:s,setTheme:a}=(()=>{const s=e.useContext(Ot);if(void 0===s)throw new Error("useTheme must be used within a ThemeProvider");return s})();return e.useEffect(()=>{const e="dark"===s?"#020817":"#fff",t=document.querySelector("meta[name='theme-color']");t&&t.setAttribute("content",e)},[s]),t.jsx(la,{size:"icon",variant:"ghost",className:"rounded-full",onClick:()=>a("light"===s?"dark":"light"),children:"light"===s?t.jsx(ft,{size:20}):t.jsx(vt,{size:20})})}const Ya=e.forwardRef(({className:e,...s},a)=>t.jsx(Xe,{ref:a,className:Ht("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...s}));Ya.displayName=Xe.displayName;const Za=e.forwardRef(({className:e,...s},a)=>t.jsx(es,{ref:a,className:Ht("aspect-square h-full w-full",e),...s}));Za.displayName=es.displayName;const Ga=e.forwardRef(({className:e,...s},a)=>t.jsx(ss,{ref:a,className:Ht("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...s}));Ga.displayName=ss.displayName;const Ja=(e,s,a)=>{p({customUI:({onClose:r})=>t.jsxs("div",{children:[t.jsx("div",{className:"fixed inset-0 bg-black opacity-50"}),t.jsxs("div",{className:"relative z-10 rounded-md border border-border bg-card px-12 py-4 shadow-lg",children:[t.jsx("h1",{className:"text-lg font-bold",children:e}),t.jsx("p",{className:"text-sm",children:s}),t.jsxs("div",{className:"mt-4 flex justify-end",children:[t.jsx("button",{className:"rounded-md bg-red-500 px-4 py-1 text-white",onClick:()=>{a(),r()},children:"Yes"}),t.jsx("button",{className:"ml-2 rounded-md bg-gray-500 px-4 py-1 text-white",onClick:r,children:"No"})]})]})]})})};function Qa(){const{user:e,logout:s}=Ia();return u(),t.jsxs(oa,{children:[t.jsx(ca,{asChild:!0,children:t.jsx(la,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:t.jsxs(Ya,{className:"h-10 w-10",children:[t.jsx(Za,{src:(null==e?void 0:e.imgFullPath)||"/images/user.png",alt:"profile"}),t.jsx(Ga,{children:"SN"})]})})}),t.jsxs(ua,{className:"w-56",align:"end",forceMount:!0,children:[t.jsx(ha,{className:"cursor-pointer font-normal",onClick:()=>{window.location.href="/settings/dashboard/home"},children:t.jsxs("div",{className:"flex flex-col space-y-1",children:[t.jsx("p",{className:"text-sm font-medium leading-none",children:null==e?void 0:e.fullName}),t.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:null==e?void 0:e.email})]})}),t.jsx(pa,{}),t.jsxs(ma,{children:[t.jsxs(xa,{onClick:()=>window.location.replace("/settings/dashboard/home"),className:"flex items-center gap-2",children:[t.jsx(bt,{size:16}),t.jsx("span",{children:"Profile"})]}),t.jsxs(xa,{onClick:()=>window.location.replace("/settings/dashboard/change-password"),className:"flex items-center gap-2",children:[t.jsx(jt,{size:16}),t.jsx("span",{children:"Change Password"})]}),t.jsxs(xa,{onClick:()=>window.location.replace("/settings/dashboard/notification"),className:"flex items-center gap-2",children:[t.jsx(Nt,{size:16}),t.jsx("span",{children:"Notifications"})]})]}),t.jsxs(xa,{onClick:()=>{Ja("Are you sure?","Please confirm",async()=>{s()})},className:"flex items-center gap-2 text-red-600 focus:text-red-600",children:[t.jsx(yt,{size:16}),t.jsx("span",{children:"Log out"})]})]})]})}const Xa=os,er=as,sr=e.forwardRef(({className:e,...s},a)=>t.jsx(ts,{ref:a,className:Ht("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s}));sr.displayName=ts.displayName;const tr=e.forwardRef(({className:e,children:s,...a},r)=>t.jsxs(er,{children:[t.jsx(sr,{}),t.jsxs(rs,{ref:r,className:Ht("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a,children:[s,t.jsxs(ls,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[t.jsx(ns,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));tr.displayName=rs.displayName;const ar=({className:e,...s})=>t.jsx("div",{className:Ht("flex flex-col space-y-1.5 text-center sm:text-left",e),...s});ar.displayName="DialogHeader";const rr=e.forwardRef(({className:e,...s},a)=>t.jsx(is,{ref:a,className:Ht("text-lg font-semibold leading-none tracking-tight",e),...s}));rr.displayName=is.displayName;function lr({links:s}){const[a,r]=e.useState(""),[l,n]=e.useState([]),[i,d]=e.useState(!1),[o,c]=e.useState(-1),[m,x]=e.useState(!1),h=e.useRef(null),p=e.useRef(null),g=u(),f=(e,s=[])=>{const t=[];return e.forEach(e=>{e.href&&t.push({title:e.title,href:e.href,path:[...s,e.title]}),e.sub&&e.sub.length>0&&t.push(...f(e.sub,[...s,e.title]))}),t};e.useEffect(()=>{if(""===a.trim())return n([]),d(!1),void c(-1);const e=f(s.filter(e=>e.is_sidebar)),t=a.toLowerCase(),r=e.filter(e=>e.title.toLowerCase().includes(t)||e.path.some(e=>e.toLowerCase().includes(t)));n(r.slice(0,10)),d(!0),c(-1)},[a,s]),e.useEffect(()=>{m||(r(""),n([]),d(!1),c(-1))},[m]),e.useEffect(()=>{const e=e=>{(e.ctrlKey||e.metaKey)&&"k"===e.key&&(e.preventDefault(),x(!0),setTimeout(()=>{var e;return null==(e=p.current)?void 0:e.focus()},100))};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[]);const v=e=>{g(e),x(!1)};return t.jsx(t.Fragment,{children:t.jsx(Xa,{open:m,onOpenChange:x,children:t.jsxs(tr,{className:"sm:max-w-[600px]",children:[t.jsx(ar,{children:t.jsx(rr,{className:"sr-only",children:"Search Menu"})}),t.jsxs("div",{ref:h,className:"space-y-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx(wt,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-muted-foreground"}),t.jsx("input",{ref:p,type:"text",placeholder:"Search menu items...",value:a,onChange:e=>r(e.target.value),onKeyDown:e=>{var s,t;if(i&&0!==l.length)switch(e.key){case"ArrowDown":e.preventDefault(),c(e=>e<l.length-1?e+1:0);break;case"ArrowUp":e.preventDefault(),c(e=>e>0?e-1:l.length-1);break;case"Enter":e.preventDefault(),o>=0&&o<l.length&&v(l[o].href);break;case"Escape":d(!1),x(!1),null==(t=p.current)||t.blur()}else"Escape"===e.key&&(x(!1),d(!1),null==(s=p.current)||s.blur())},className:Ht("w-full rounded-lg border border-input bg-background py-3 pl-10 pr-10 text-base outline-none transition-all","placeholder:text-muted-foreground","focus:border-primary focus:ring-2 focus:ring-primary/20"),autoFocus:!0}),a&&t.jsx("button",{onClick:()=>{var e;r(""),d(!1),null==(e=p.current)||e.focus()},className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:t.jsx(xt,{className:"h-5 w-5"})})]}),a&&t.jsx("div",{className:"max-h-[400px] overflow-y-auto rounded-lg border border-border",children:l.length>0?t.jsx("div",{className:"divide-y divide-border",children:l.map((e,s)=>t.jsx("button",{onClick:()=>v(e.href),className:Ht("w-full px-4 py-3 text-left transition-colors",o===s?"bg-accent text-accent-foreground":"text-foreground hover:bg-accent/50"),children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(wt,{className:"h-4 w-4 text-slate-400"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"text-sm font-medium",children:e.title}),e.path.length>1&&t.jsx("div",{className:"mt-0.5 text-xs text-muted-foreground",children:e.path.slice(0,-1).join(" › ")})]})]})},`${e.href}-${s}`))}):t.jsxs("div",{className:"p-8 text-center text-sm text-muted-foreground",children:['No menu items found for "',a,'"']})}),!a&&t.jsxs("div",{className:"rounded-lg border border-border bg-muted/50 p-8 text-center",children:[t.jsx(wt,{className:"mx-auto h-12 w-12 text-muted-foreground/30"}),t.jsx("p",{className:"mt-3 text-sm text-foreground/80",children:"Type to search menu items"}),t.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:"Use ↑↓ to navigate, Enter to select, Esc to close"})]})]})]})})})}e.forwardRef(({className:e,...s},a)=>t.jsx(ds,{ref:a,className:Ht("text-sm text-muted-foreground",e),...s})).displayName=ds.displayName;const nr=e.forwardRef(({children:s,title:a="",subTitle:r="",searchLink:l="",meta:n,name:i,code:d,description:c,...m},u)=>{!function(s=""){const{setTitle:t}=Ia();e.useEffect(()=>{t(s)},[s])}(a);const{user:x}=Ia(),h=Da();return e.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},[a]),t.jsxs(t.Fragment,{children:[t.jsxs($t,{children:[t.jsx("title",{children:`${a} | HRMS`}),n]}),t.jsx("div",{ref:u,...m,children:t.jsxs(sa,{fixed:!0,children:[t.jsxs(sa.Header,{sticky:!0,className:"border-b bg-background/80 shadow-sm backdrop-blur-md",children:[t.jsxs("div",{className:"flex w-full items-center justify-between gap-3 px-2 sm:px-4",children:[t.jsx("div",{className:"hidden lg:block lg:w-8"}),t.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 md:gap-4",children:[t.jsx("div",{className:"hidden sm:block",children:t.jsx(lr,{links:h})}),t.jsx("div",{className:"hidden min-w-0 flex-col items-end md:flex",children:t.jsx("span",{className:"truncate rounded-full border border-blue-200 bg-gradient-to-r from-blue-50 to-indigo-50 px-3 py-1.5 text-xs font-semibold text-blue-700 shadow-sm",children:(null==x?void 0:x.roleName)||""})}),t.jsx(Ka,{}),t.jsx("div",{className:"flex-shrink-0",children:t.jsx(Qa,{})})]})]}),t.jsxs("div",{className:"flex items-center justify-between gap-2 border-t border-border px-2 py-2 sm:hidden",children:[t.jsx(lr,{links:h}),t.jsx("span",{className:"truncate rounded-full border border-blue-200 bg-gradient-to-r from-blue-50 to-indigo-50 px-2.5 py-1 text-xs font-semibold text-blue-700",children:(null==x?void 0:x.roleName)||""})]})]}),t.jsxs(sa.Body,{children:[t.jsxs("div",{className:"mb-2 sm:mb-4",children:[t.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between",children:[t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("h2",{className:"mb-1 bg-gradient-to-r from-foreground to-foreground/70 bg-clip-text text-xl font-bold tracking-tight text-transparent sm:text-2xl",children:a}),r&&t.jsx("p",{className:"text-sm leading-relaxed text-muted-foreground sm:text-base",children:r})]}),(i||d)&&t.jsx("div",{className:"flex-shrink-0",children:t.jsxs("div",{className:"rounded-lg border bg-card p-2 shadow-sm",children:[i&&t.jsxs("div",{className:"mb-1 text-sm font-bold text-foreground",children:["Name-: ",i]}),d&&t.jsxs("div",{className:"rounded bg-muted px-2 py-0.5 font-mono text-xs font-bold text-muted-foreground",children:["Employee Code-: ",d]})]})})]}),l&&t.jsx("div",{className:"mt-4",children:t.jsxs(o,{className:"inline-flex items-center gap-2 rounded-lg bg-gradient-to-r from-blue-600 to-indigo-600 px-4 py-2.5 text-sm font-semibold text-white shadow-md transition-all hover:from-blue-700 hover:to-indigo-700 hover:shadow-lg active:scale-95",to:l,target:"_blank",children:[t.jsx(kt,{className:"h-4 w-4"}),"Search Details"]})})]}),t.jsx("div",{className:"flex-1 overflow-auto",children:s})]})]})})]})});function ir({key:e,api:s,options:t,value:a,config:r}){return Le({queryKey:[e??s,...a??[]],queryFn:async()=>(await ya.post(s,{...r})).data,refetchOnReconnect:"always",refetchOnWindowFocus:!1,...t})}const dr=({options:e})=>Se({mutationFn:({api:e,data:s})=>((e,s)=>ya.post(e,s))(e,s),...e}),or=e.forwardRef(({className:e,...s},a)=>t.jsx("div",{ref:a,className:Ht("rounded-xl border bg-card text-card-foreground shadow",e),...s}));or.displayName="Card";const cr=e.forwardRef(({className:e,...s},a)=>t.jsx("div",{ref:a,className:Ht("flex flex-col space-y-1.5 p-6",e),...s}));cr.displayName="CardHeader";const mr=e.forwardRef(({className:e,...s},a)=>t.jsx("h3",{ref:a,className:Ht("font-semibold leading-none tracking-tight",e),...s}));mr.displayName="CardTitle";e.forwardRef(({className:e,...s},a)=>t.jsx("p",{ref:a,className:Ht("text-sm text-muted-foreground",e),...s})).displayName="CardDescription";const ur=e.forwardRef(({className:e,...s},a)=>t.jsx("div",{ref:a,className:Ht("p-6 pt-0",e),...s}));ur.displayName="CardContent";e.forwardRef(({className:e,...s},a)=>t.jsx("div",{ref:a,className:Ht("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter";const xr=e.forwardRef(({className:e,...s},a)=>t.jsx("div",{className:"relative w-full overflow-auto",children:t.jsx("table",{ref:a,className:Ht("w-full caption-bottom text-sm",e),...s})}));xr.displayName="Table";const hr=e.forwardRef(({className:e,...s},a)=>t.jsx("thead",{ref:a,className:Ht("[&_tr]:border-b",e),...s}));hr.displayName="TableHeader";const pr=e.forwardRef(({className:e,...s},a)=>t.jsx("tbody",{ref:a,className:Ht("[&_tr:last-child]:border-0",e),...s}));pr.displayName="TableBody";e.forwardRef(({className:e,...s},a)=>t.jsx("tfoot",{ref:a,className:Ht("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...s})).displayName="TableFooter";const gr=e.forwardRef(({className:e,...s},a)=>t.jsx("tr",{ref:a,className:Ht("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...s}));gr.displayName="TableRow";const fr=e.forwardRef(({className:e,...s},a)=>t.jsx("th",{ref:a,className:Ht("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...s}));fr.displayName="TableHead";const vr=e.forwardRef(({className:e,...s},a)=>t.jsx("td",{ref:a,className:Ht("px-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...s}));vr.displayName="TableCell";function br(){return t.jsxs("div",{"aria-label":"Loading...",role:"status",className:"loader",children:[t.jsxs("svg",{className:"icon",viewBox:"0 0 256 256",children:[t.jsx("line",{x1:128,y1:32,x2:128,y2:64,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:24}),t.jsx("line",{x1:"195.9",y1:"60.1",x2:"173.3",y2:"82.7",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:24}),t.jsx("line",{x1:224,y1:128,x2:192,y2:128,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:24}),t.jsx("line",{x1:"195.9",y1:"195.9",x2:"173.3",y2:"173.3",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:24}),t.jsx("line",{x1:128,y1:224,x2:128,y2:192,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:24}),t.jsx("line",{x1:"60.1",y1:"195.9",x2:"82.7",y2:"173.3",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:24}),t.jsx("line",{x1:32,y1:128,x2:64,y2:128,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:24}),t.jsx("line",{x1:"60.1",y1:"60.1",x2:"82.7",y2:"82.7",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:24})]}),t.jsx("span",{className:"loading-text",children:"Loading..."})]})}e.forwardRef(({className:e,...s},a)=>t.jsx("caption",{ref:a,className:Ht("mt-4 text-sm text-muted-foreground",e),...s})).displayName="TableCaption";const jr=({currentPage:e,totalItems:s,itemsPerPage:a,onPageChange:r,onItemsPerPageChange:l})=>{const n=Math.ceil(s/a);return n<=0?null:t.jsxs("div",{className:"flex flex-col items-center justify-between gap-4 rounded-xl border border-border bg-card/50 p-4 shadow-sm backdrop-blur-sm md:flex-row",children:[t.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[t.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing"," ",t.jsxs("span",{className:"font-bold text-foreground",children:[Math.min(s,(e-1)*a+1),"-",Math.min(s,e*a)]})," ","of ",t.jsx("span",{className:"font-bold text-foreground",children:s})," ","results"]}),t.jsx("div",{className:"h-4 w-[1px] bg-border"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("label",{htmlFor:"items-per-page",className:"text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:"Rows"}),t.jsx("select",{id:"items-per-page",className:"rounded-lg border border-input bg-background px-2 py-1.5 text-xs font-bold transition-all hover:bg-accent focus:ring-2 focus:ring-primary/20",value:a,onChange:e=>l(Number(e.target.value)),children:[5,10,15,20,50].map(e=>t.jsx("option",{value:e,children:e},e))})]})]}),t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx(Kt,{onClick:()=>r(e-1),disabled:e<=1,variant:"ghost",size:"sm",className:"h-9 px-3 text-xs font-bold transition-all hover:bg-primary/10 hover:text-primary disabled:opacity-50",children:"Prev"}),t.jsx("div",{className:"flex items-center gap-1",children:(()=>{const s=[];if(n<=7)for(let e=1;e<=n;e++)s.push(e);else{s.push(1),e>3&&s.push("...");const t=Math.max(2,e-1),a=Math.min(n-1,e+1);for(let e=t;e<=a;e++)s.push(e);e<n-1-1&&s.push("..."),s.push(n)}return s})().map((s,a)=>{if("..."===s)return t.jsx("div",{className:"flex h-9 w-9 items-center justify-center text-xs text-muted-foreground",children:"..."},`ellipsis-${a}`);const l=s===e;return t.jsx(Kt,{onClick:()=>r(Number(s)),variant:l?"default":"ghost",size:"icon",className:Ht("h-9 w-9 text-xs font-bold transition-all",l?"bg-primary shadow-md hover:bg-primary/90":"hover:bg-primary/10 hover:text-primary"),children:s},`page-${s}`)})}),t.jsx(Kt,{onClick:()=>r(e+1),disabled:e>=n,variant:"ghost",size:"sm",className:"h-9 px-3 text-xs font-bold transition-all hover:bg-primary/10 hover:text-primary disabled:opacity-50",children:"Next"})]})]})};function Nr({children:e,onSubmit:s,className:a,methods:r}){return t.jsx(g,{...r,children:t.jsx("form",{onSubmit:s,className:a,children:e})})}const yr=e.forwardRef(({className:s,type:a,onWheel:r,...l},n)=>{const i=e.useCallback(e=>{"number"===a&&(e.currentTarget.blur(),e.preventDefault(),setTimeout(()=>{var s;null==(s=e.currentTarget)||s.focus()},0)),null==r||r(e)},[a,r]);return t.jsx("input",{type:a,className:Ht("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:n,onWheel:i,...l})});function wr({name:e,label:s,isDynamic:a,inputValidation:r,inputSize:l,isRequired:n,...i}){const{control:d}=f();return t.jsx(t.Fragment,{children:e?t.jsx(v,{name:e,control:d,render:({field:{ref:e,...a},fieldState:{error:d}})=>t.jsxs("div",{children:[t.jsxs("h1",{className:"mb-1 text-sm text-gray-700 dark:text-gray-200",children:[s," ",n&&s&&t.jsx("span",{className:"text-red-400",children:"*"})]}),t.jsx(yr,{...a,value:"number"==typeof a.value&&0===a.value?"":a.value??"",ref:e,className:`${d?"border-red-400":null}\n            ${("small"===l?"h-8":"medium"===l&&"h-10")||"large"===l&&"h-12"||"h-9"}`,onInput:e=>{r&&wa(e,r)},...i}),d&&t.jsx("span",{className:"text-xs text-red-400",children:d.message})]})}):t.jsxs("div",{children:[t.jsx("h1",{className:"mb-1 text-gray-700 dark:text-gray-200",children:s}),t.jsx(yr,{...i,className:`\n        ${("small"===l?"h-8":"medium"===l&&"h-10")||"large"===l&&"h-12"||"h-9"}`,onInput:e=>{r&&wa(e,r)}})]})})}function kr({isLoading:e,children:s,...a}){return t.jsxs(Kt,{...a,disabled:e,children:[e&&t.jsx(cs,{className:"mr-2 h-4 w-4 animate-spin"}),e?"Please wait...":s]})}yr.displayName="Input";const Sr=ws,Lr=Ss,Cr=ks,Mr=e.forwardRef(({className:e,children:s,...a},r)=>t.jsxs(ms,{ref:r,className:Ht("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...a,children:[s,t.jsx(us,{asChild:!0,children:t.jsx(St,{className:"h-4 w-4 opacity-50"})})]}));Mr.displayName=ms.displayName;const Rr=e.forwardRef(({className:e,...s},a)=>t.jsx(xs,{ref:a,className:Ht("flex cursor-default items-center justify-center py-1",e),...s,children:t.jsx(Lt,{className:"h-4 w-4"})}));Rr.displayName=xs.displayName;const Ar=e.forwardRef(({className:e,...s},a)=>t.jsx(hs,{ref:a,className:Ht("flex cursor-default items-center justify-center py-1",e),...s,children:t.jsx(St,{className:"h-4 w-4"})}));Ar.displayName=hs.displayName;const Ir=e.forwardRef(({className:e,children:s,position:a="popper",...r},l)=>t.jsx(ps,{children:t.jsxs(gs,{ref:l,className:Ht("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:a,...r,children:[t.jsx(Rr,{}),t.jsx(fs,{className:Ht("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),t.jsx(Ar,{})]})}));Ir.displayName=gs.displayName;e.forwardRef(({className:e,...s},a)=>t.jsx(vs,{ref:a,className:Ht("px-2 py-1.5 text-sm font-semibold",e),...s})).displayName=vs.displayName;const Er=e.forwardRef(({className:e,children:s,...a},r)=>t.jsxs(bs,{ref:r,className:Ht("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[t.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(js,{children:t.jsx(Ct,{className:"h-4 w-4"})})}),t.jsx(Ns,{children:s})]}));Er.displayName=bs.displayName;e.forwardRef(({className:e,...s},a)=>t.jsx(ys,{ref:a,className:Ht("-mx-1 my-1 h-px bg-muted",e),...s})).displayName=ys.displayName;const Pr=({children:s,name:a,label:r,selectedText:l,className:n,data:i,initialValue:d,initialValueText:o,isSearch:c=!1,...m})=>{const{control:u,setValue:x}=f(),[h,p]=e.useState(""),g=c?null==i?void 0:i.filter(e=>e.label.toLowerCase().includes(h.toLowerCase())):i;return t.jsx(v,{name:a,control:u,render:({field:{ref:e,...s},fieldState:{error:a}})=>t.jsxs(t.Fragment,{children:[t.jsx("h1",{className:"mb-1 text-sm text-gray-700 dark:text-gray-200",children:r}),t.jsxs(Sr,{onValueChange:e=>{var t;s.onChange(e),l&&x(l,null==(t=null==i?void 0:i.find(s=>s.value==e))?void 0:t.label)},value:void 0!==s.value&&null!==s.value?String(s.value):"",...m,children:[t.jsx(Mr,{ref:e,className:Ht("h-9",a?"border-red-400":null,n),children:t.jsx(Cr,{placeholder:"Select"})}),t.jsxs(Ir,{children:[c&&t.jsx("div",{className:"sticky top-0 z-10 border-b bg-white px-2 pb-2 pt-2 dark:bg-gray-950",children:t.jsx(yr,{placeholder:"Search...",value:h,onChange:e=>p(e.target.value),className:"h-8",onKeyDown:e=>{e.stopPropagation()}})}),t.jsxs("div",{className:c?"max-h-[300px] overflow-y-auto":"",children:[d&&t.jsx(Er,{value:d??"0",children:o??"Select"}),t.jsx(Lr,{children:(null==g?void 0:g.length)>0?g.map((e,s)=>t.jsx(Er,{value:e.value,children:e.label},s+1)):c&&t.jsx("div",{className:"py-6 text-center text-sm text-gray-500",children:"No results found"})})]})]})]}),a&&t.jsx("span",{className:"text-xs text-red-400",children:null==a?void 0:a.message})]})})};function zr({name:e,label:s,isDynamic:a,isRequired:r,...l}){const{control:n,setValue:i}=f();return t.jsx(v,{name:e,control:n,render:({field:{ref:a},fieldState:{error:n}})=>t.jsxs(t.Fragment,{children:[t.jsxs("label",{className:"text-gray-700 dark:text-gray-200",htmlFor:s,children:[s," ",r&&t.jsx("span",{className:"text-red-400",children:"*"})]}),t.jsx(yr,{type:"file",onChange:s=>{i(e,s.target.files?s.target.files[0]:null)},ref:a,className:`mt-1 ${n?"border-red-400":null}`,...l}),n&&t.jsx("span",{className:"text-red-400 text-xs",children:n.message})]})})}const _r=e.forwardRef(({className:e,...s},a)=>t.jsx(Ls,{className:Ht("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...s,ref:a,children:t.jsx(Cs,{className:Ht("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));function Dr({name:e,label:s,...a}){const{control:r}=f();return t.jsx(v,{name:e,control:r,render:({field:{ref:e,...r},fieldState:{error:l}})=>t.jsxs(t.Fragment,{children:[t.jsxs("label",{className:"text-gray-700 dark:text-gray-200",htmlFor:s,children:[s," ",l&&t.jsx("span",{className:"text-red-400",children:"*"})]}),t.jsx("div",{className:"relative mt-1",children:t.jsx(_r,{onCheckedChange:r.onChange,checked:r.value,ref:e,className:`mt-1 ${l?"border-red-400":null}`,...a})}),l&&t.jsx("span",{className:"text-red-400 text-xs",children:null==l?void 0:l.message})]})})}_r.displayName=Ls.displayName;const Ur=({children:e,name:s,label:a,selectedText:r,className:l,data:n,initialValue:i,initialValueText:d,isRequired:o,isHookForm:c=!0,...m})=>{const{control:u,setValue:x}=f();return t.jsx(t.Fragment,{children:c?t.jsx(v,{name:s??"",control:u,render:({field:{ref:e,...s},fieldState:{error:i}})=>t.jsxs(t.Fragment,{children:[t.jsxs("h1",{className:"text-gray-700 dark:text-gray-200 ",children:[a," ",o&&t.jsx("span",{className:"text-red-400",children:"*"})]}),t.jsxs("select",{...s,onChange:e=>{var t;s.onChange(e),r&&x(r,null==(t=null==n?void 0:n.find(s=>s.value==e.target.value))?void 0:t.label)},ref:e,className:Ht("flex h-10 w-full rounded-md border border-input bg-background px-3 py-1 text-sm text-foreground shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",i?"border-red-400":null,l),...m,children:[t.jsx("option",{value:"",className:"bg-background text-foreground",children:d||"Select"}),null==n?void 0:n.map((e,s)=>t.jsx("option",{value:e.value,className:"bg-background text-foreground",children:e.label},s+1))]}),i&&t.jsx("span",{className:"text-xs text-red-400",children:null==i?void 0:i.message})]})}):t.jsxs(t.Fragment,{children:[t.jsxs("h1",{className:"text-gray-700 dark:text-gray-200 ",children:[a," ",o&&t.jsx("span",{className:"text-red-400",children:"*"})]}),t.jsxs("select",{className:Ht("flex h-10 w-full rounded-md border border-input bg-background px-3 py-1 text-sm text-foreground shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",l),...m,children:[t.jsx("option",{value:"",className:"bg-background text-foreground",children:d||"Select"}),null==n?void 0:n.map((e,s)=>t.jsx("option",{value:e.value,className:"bg-background text-foreground",children:e.label},s+1))]})]})})};e.forwardRef(({className:e,...s},a)=>t.jsx(Ms,{ref:a,className:Ht("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...s,children:t.jsx(Rs,{className:Ht("flex items-center justify-center text-current"),children:t.jsx(He,{className:"h-4 w-4"})})})).displayName=Ms.displayName;const Tr=n("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70");e.forwardRef(({className:e,...s},a)=>t.jsx(As,{ref:a,className:Ht(Tr(),e),...s})).displayName=As.displayName;const Fr=Ps,Br=zs,$r=e.forwardRef(({className:e,align:s="center",sideOffset:a=4,...r},l)=>t.jsx(Is,{children:t.jsx(Es,{ref:l,align:s,sideOffset:a,className:Ht("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...r})}));function Or(e,{max:s,min:t=0,loop:a=!1}){let r=parseInt(e,10);return Number.isNaN(r)?"00":(a?(r>s&&(r=t),r<t&&(r=s)):(r>s&&(r=s),r<t&&(r=t)),r.toString().padStart(2,"0"))}function Wr(e){return function(e){return/^(0[0-9]|1[0-9]|2[0-3])$/.test(e)}(e)?e:Or(e,{max:23})}function qr(e){return function(e){return/^(0[1-9]|1[0-2])$/.test(e)}(e)?e:Or(e,{min:1,max:12})}function Hr(e){return function(e){return/^[0-5][0-9]$/.test(e)}(e)?e:Or(e,{max:59})}function Vr(e,{min:s,max:t,step:a}){let r=parseInt(e,10);return Number.isNaN(r)?"00":(r+=a,Or(String(r),{min:s,max:t,loop:!0}))}function Kr(e,s){return Vr(e,{min:0,max:59,step:s})}function Yr(e,s,t,a){switch(t){case"minutes":return function(e,s){const t=Hr(s);return e.setMinutes(parseInt(t,10)),e}(e,s);case"seconds":return function(e,s){const t=Hr(s);return e.setSeconds(parseInt(t,10)),e}(e,s);case"hours":return function(e,s){const t=Wr(s);return e.setHours(parseInt(t,10)),e}(e,s);case"12hours":return a?function(e,s,t){const a=function(e,s){return"PM"===s?e<=11?e+12:e:"AM"===s&&12===e?0:e}(parseInt(qr(s),10),t);return e.setHours(a),e}(e,s,a):e;default:return e}}function Zr(e,s,t){switch(t){case"minutes":case"seconds":return Kr(e,s);case"hours":return function(e,s){return Vr(e,{min:0,max:23,step:s})}(e,s);case"12hours":return function(e,s){return Vr(e,{min:1,max:12,step:s})}(e,s);default:return"00"}}function Gr(e){return 0===e||12===e?"12":e>=22?""+(e-12):e%12>9?`${e}`:"0"+e%12}function Jr({className:s,classNames:a,showOutsideDays:r=!0,yearRange:l=50,...n}){const i=e.useMemo(()=>{let e=b;const{options:s,localize:t,formatLong:a}=n.locale||{};return s&&t&&a&&(e={options:s,localize:t,formatLong:a}),function(e){return Array.from({length:12},(s,t)=>({value:t,label:j(new Date(2021,t),"MMMM",{locale:e})}))}(e)},[]),d=e.useMemo(()=>function(e=50){const s=new Date;return Array.from({length:2*e+1},(t,a)=>({value:s.getFullYear()-e+a,label:(s.getFullYear()-e+a).toString()}))}(l),[]);return t.jsx(N,{showOutsideDays:r,className:Ht("p-3",s),classNames:{months:"flex flex-col sm:flex-row space-y-4  sm:space-y-0 justify-center",month:"flex flex-col items-center space-y-4",month_caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center ",button_previous:Ht(Vt({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100 absolute left-5 top-5",(()=>{const e=new Date((new Date).getFullYear()-l,0,1);return!!n.month&&(n.month.getMonth()===e.getMonth()&&n.month.getFullYear()===e.getFullYear())})()&&"pointer-events-none"),button_next:Ht(Vt({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100 absolute right-5 top-5",(()=>{const e=new Date((new Date).getFullYear()+l,11,31);return!!n.month&&(n.month.getMonth()===e.getMonth()&&n.month.getFullYear()===e.getFullYear())})()&&"pointer-events-none"),month_grid:"w-full border-collapse space-y-1",weekdays:Ht("flex",n.showWeekNumber&&"justify-end"),weekday:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",week:"flex w-full mt-2",day:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20 rounded-1",day_button:Ht(Vt({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100 rounded-l-md rounded-r-md"),range_end:"day-range-end",selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground rounded-l-md rounded-r-md",today:"bg-accent text-accent-foreground",outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",disabled:"text-muted-foreground opacity-50",range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",hidden:"invisible",...a},components:{Chevron:({...e})=>"left"===e.orientation?t.jsx(At,{className:"h-4 w-4"}):t.jsx(It,{className:"h-4 w-4"}),MonthCaption:({calendarMonth:e})=>t.jsxs("div",{className:"inline-flex gap-2",children:[t.jsxs(Sr,{defaultValue:e.date.getMonth().toString(),onValueChange:s=>{var t;const a=new Date(e.date);a.setMonth(Number.parseInt(s,10)),null==(t=n.onMonthChange)||t.call(n,a)},children:[t.jsx(Mr,{className:"w-fit gap-1 border-none p-0 focus:bg-accent focus:text-accent-foreground",children:t.jsx(Cr,{})}),t.jsx(Ir,{children:i.map(e=>t.jsx(Er,{value:e.value.toString(),children:e.label},e.value))})]}),t.jsxs(Sr,{defaultValue:e.date.getFullYear().toString(),onValueChange:s=>{var t;const a=new Date(e.date);a.setFullYear(Number.parseInt(s,10)),null==(t=n.onMonthChange)||t.call(n,a)},children:[t.jsx(Mr,{className:"w-fit gap-1 border-none p-0 focus:bg-accent focus:text-accent-foreground",children:t.jsx(Cr,{})}),t.jsx(Ir,{children:d.map(e=>t.jsx(Er,{value:e.value.toString(),children:e.label},e.value))})]})]})},...n})}$r.displayName=Es.displayName,Jr.displayName="Calendar";const Qr=e.forwardRef(({period:e,setPeriod:s,date:a,onDateChange:r,onLeftFocus:l,onRightFocus:n},i)=>t.jsx("div",{className:"flex h-10 items-center",children:t.jsxs(Sr,{defaultValue:e,onValueChange:t=>(t=>{if(null==s||s(t),a){const s=new Date(a),t=Gr(a.getHours());null==r||r(Yr(s,t.toString(),"12hours","AM"===e?"PM":"AM"))}})(t),children:[t.jsx(Mr,{ref:i,className:"w-[65px] focus:bg-accent focus:text-accent-foreground",onKeyDown:e=>{"ArrowRight"===e.key&&(null==n||n()),"ArrowLeft"===e.key&&(null==l||l())},children:t.jsx(Cr,{})}),t.jsxs(Ir,{children:[t.jsx(Er,{value:"AM",children:"AM"}),t.jsx(Er,{value:"PM",children:"PM"})]})]})}));Qr.displayName="TimePeriodSelect";const Xr=e.forwardRef(({className:s,type:a="tel",value:r,id:l,name:n,date:i=new Date((new Date).setHours(0,0,0,0)),onDateChange:d,onChange:o,onKeyDown:c,picker:m,period:u,onLeftFocus:x,onRightFocus:h,...p},g)=>{const[f,v]=e.useState(!1),[b,j]=e.useState("0");e.useEffect(()=>{if(f){const e=setTimeout(()=>{v(!1)},2e3);return()=>clearTimeout(e)}},[f]);const N=e.useMemo(()=>function(e,s){if(!e)return"00";switch(s){case"minutes":return Hr(String(e.getMinutes()));case"seconds":return Hr(String(e.getSeconds()));case"hours":return Wr(String(e.getHours()));case"12hours":return qr(String(Gr(e.getHours())));default:return"00"}}(i,m),[i,m]),y=e=>{if("Tab"!==e.key){if(e.preventDefault(),"ArrowRight"===e.key&&(null==h||h()),"ArrowLeft"===e.key&&(null==x||x()),["ArrowUp","ArrowDown"].includes(e.key)){const s="ArrowUp"===e.key?1:-1,t=Zr(N,s,m);f&&v(!1);const a=i?new Date(i):new Date;null==d||d(Yr(a,t,m,u))}if(e.key>="0"&&e.key<="9"){"12hours"===m&&j(e.key);const t=(s=e.key,"12hours"===m&&f&&"1"===N.slice(1,2)&&"0"===b?`0${s}`:f?N.slice(1,2)+s:`0${s}`);f&&(null==h||h()),v(e=>!e);const a=i?new Date(i):new Date;null==d||d(Yr(a,t,m,u))}var s}};return t.jsx(yr,{ref:g,id:l||m,name:n||m,className:Ht("w-[48px] text-center font-mono text-base tabular-nums caret-transparent focus:bg-accent focus:text-accent-foreground [&::-webkit-inner-spin-button]:appearance-none",s),value:r||N,onChange:e=>{e.preventDefault(),null==o||o(e)},type:a,inputMode:"decimal",onKeyDown:e=>{null==c||c(e),y(e)},...p})});Xr.displayName="TimePickerInput";const el=e.forwardRef(({date:s,onChange:a,hourCycle:r=24,granularity:l="second"},n)=>{const i=e.useRef(null),d=e.useRef(null),o=e.useRef(null),c=e.useRef(null),[m,u]=e.useState(s&&s.getHours()>=12?"PM":"AM");return e.useImperativeHandle(n,()=>({minuteRef:i.current,hourRef:d.current,secondRef:o.current,periodRef:c.current}),[i,d,o]),t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx("label",{htmlFor:"datetime-picker-hour-input",className:"cursor-pointer",children:t.jsx(Mt,{className:"mr-2 h-4 w-4"})}),t.jsx(Xr,{picker:24===r?"hours":"12hours",date:s,id:"datetime-picker-hour-input",onDateChange:a,ref:d,period:m,onRightFocus:()=>{var e;return null==(e=null==i?void 0:i.current)?void 0:e.focus()}}),("minute"===l||"second"===l)&&t.jsxs(t.Fragment,{children:[":",t.jsx(Xr,{picker:"minutes",date:s,onDateChange:a,ref:i,onLeftFocus:()=>{var e;return null==(e=null==d?void 0:d.current)?void 0:e.focus()},onRightFocus:()=>{var e;return null==(e=null==o?void 0:o.current)?void 0:e.focus()}})]}),"second"===l&&t.jsxs(t.Fragment,{children:[":",t.jsx(Xr,{picker:"seconds",date:s,onDateChange:a,ref:o,onLeftFocus:()=>{var e;return null==(e=null==i?void 0:i.current)?void 0:e.focus()},onRightFocus:()=>{var e;return null==(e=null==c?void 0:c.current)?void 0:e.focus()}})]}),12===r&&t.jsx("div",{className:"grid gap-1 text-center",children:t.jsx(Qr,{period:m,setPeriod:u,date:s,onDateChange:e=>{null==a||a(e),e&&(null==e?void 0:e.getHours())>=12?u("PM"):u("AM")},ref:c,onLeftFocus:()=>{var e;return null==(e=null==o?void 0:o.current)?void 0:e.focus()}})})]})});el.displayName="TimePicker";e.forwardRef(({locale:s=b,defaultPopupValue:a=new Date((new Date).setHours(0,0,0,0)),value:r,onChange:l,onMonthChange:n,hourCycle:i=24,yearRange:d=50,disabled:o=!1,displayFormat:c,granularity:m="second",placeholder:u="Pick a date",className:x,...h},p)=>{const[g,f]=e.useState(r??a),v=e.useRef(null),[N,w]=e.useState(r??void 0);n||(n=l),e.useEffect(()=>{w(r)},[r]);e.useImperativeHandle(p,()=>({...v.current,value:N}),[N]);const k={hour24:(null==c?void 0:c.hour24)??"PPP HH:mm"+(m&&"second"!==m?"":":ss"),hour12:(null==c?void 0:c.hour12)??`PP hh:mm${m&&"second"!==m?"":":ss"} b`};let S=b;const{options:L,localize:C,formatLong:M}=s;return L&&C&&M&&(S={...b,options:L,localize:C,formatLong:M}),t.jsxs(Fr,{children:[t.jsx(Br,{asChild:!0,disabled:o,children:t.jsxs(Kt,{variant:"outline",className:Ht("w-full justify-start text-left font-normal",!N&&"text-muted-foreground",x),ref:v,children:[t.jsx(Rt,{className:"mr-2 h-4 w-4"}),N?j(N,24===i?k.hour24:k.hour12,{locale:S}):t.jsx("span",{children:u})]})}),t.jsxs($r,{className:"w-auto p-0",children:[t.jsx(Jr,{mode:"single",selected:N,month:g,onSelect:e=>{var s;e&&(e.setHours((null==g?void 0:g.getHours())??0,(null==g?void 0:g.getMinutes())??0,(null==g?void 0:g.getSeconds())??0),(s=e)&&(null==l||l(s),f(s),w(s)))},onMonthChange:e=>{if(!e)return;if(!a)return e.setHours((null==g?void 0:g.getHours())??0,(null==g?void 0:g.getMinutes())??0,(null==g?void 0:g.getSeconds())??0),null==n||n(e),void f(e);const s=(e.getTime()-a.getTime())/864e5,t=y(a,{days:Math.ceil(s)});t.setHours((null==g?void 0:g.getHours())??0,(null==g?void 0:g.getMinutes())??0,(null==g?void 0:g.getSeconds())??0),null==n||n(t),f(t)},yearRange:d,locale:s,...h}),"day"!==m&&t.jsx("div",{className:"border-t border-border p-3",children:t.jsx(el,{onChange:e=>{null==l||l(e),w(e),e&&f(e)},date:g,hourCycle:i,granularity:m})})]})]})}).displayName="DateTimePicker";const sl=e.forwardRef(({className:e,orientation:s="horizontal",decorative:a=!0,...r},l)=>t.jsx(_s,{ref:l,decorative:a,orientation:s,className:Ht("shrink-0 bg-border","horizontal"===s?"h-[1px] w-full":"h-full w-[1px]",e),...r}));function tl({children:e,open:s,setOpen:a,title:r,setEdit:l,isLoading:n}){return t.jsxs("div",{children:[s&&t.jsx("div",{className:"fixed inset-0 z-50 bg-gray-900/50 dark:bg-gray-900/80"}),t.jsx("div",{id:"authentication-modal",tabIndex:-1,className:(s?"flex":"hidden")+" fixed left-0 right-0 top-0 z-50 h-[calc(100%-1rem)] max-h-full w-full items-center justify-center overflow-y-auto overflow-x-hidden md:inset-0",children:t.jsx("div",{className:"relative max-h-full w-full max-w-2xl p-4",children:t.jsxs("div",{className:"relative rounded-lg bg-white shadow dark:bg-gray-700",children:[t.jsxs("div",{className:"flex items-center justify-between rounded-t border-b p-4 dark:border-gray-600 md:p-5",children:[t.jsx("h3",{className:"text-base font-semibold text-gray-900 dark:text-white",children:r??"Add/Edit"}),t.jsxs("button",{onClick:()=>{l(!1),a(e=>!e)},type:"button",className:"end-2.5 ms-auto inline-flex h-8 w-8 items-center justify-center rounded-lg bg-transparent text-sm text-gray-400 hover:bg-gray-200 hover:text-gray-900 dark:hover:bg-gray-600 dark:hover:text-white","data-modal-hide":"authentication-modal",children:[t.jsx("svg",{className:"h-3 w-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14",children:t.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})}),t.jsx("span",{className:"sr-only",children:"Close modal"})]})]}),t.jsx("div",{className:"p-4 md:p-5",children:n?t.jsx("div",{className:"flex h-32 items-center justify-center",children:t.jsx(br,{})}):e})]})})})]})}sl.displayName=_s.displayName;const al=_t().shape({menuName:Ut().required("Menu name is required"),serial:Tt().typeError("Serial must be a number").required("Serial is required"),route:Ut().nullable(),parentId:Ut().nullable(),workflowId:Ut().nullable(),isSidebar:Dt().default(!1)});function rl({open:s,setOpen:a,title:r,edit:l,setEdit:n,id:i,refetch:d,menuId:o,editData:m}){var u,x,h,p;const g=dr({}),f=w({resolver:k(al),defaultValues:{menuName:"",serial:0,route:"",parentId:"",workflowId:"",isSidebar:!1}}),{reset:v,handleSubmit:b,formState:{isSubmitting:j}}=f;e.useEffect(()=>{s&&v(l&&m?{menuName:m.menu_string||"",serial:Number(m.serial)||0,route:m.route||"",parentId:m.parent_id?String(m.parent_id):"",workflowId:m.workflow_id?String(m.workflow_id):"",isSidebar:!!m.is_sidebar}:{menuName:"",serial:0,route:"",parentId:"",workflowId:"",isSidebar:!1})},[s,l,m,v]);const N=ir({api:null==Sa?void 0:Sa.parentMenuList,key:`parentMenuList-${i}`,config:{moduleId:String(i)},options:{enabled:!!i&&s}}),y=ir({api:null==Sa?void 0:Sa.workFlowByModule,key:`workflowList-${i}`,config:{moduleId:String(i)},options:{enabled:!!i&&s}});return t.jsx(tl,{open:s,setOpen:a,title:r||(l?"Edit Menu":"Add Menu"),setEdit:n,edit:l,children:t.jsx("div",{className:"p-1",children:t.jsx(Nr,{methods:f,onSubmit:b(async e=>{var s,t,r;try{const m={...e,moduleId:Number(i),...l&&{id:Number(o)},parentId:e.parentId?Number(e.parentId):null,workflowId:e.workflowId?Number(e.workflowId):null},u=l?null==Sa?void 0:Sa.editMenuDetailsByModule:null==Sa?void 0:Sa.addMenuByModule,x=await g.mutateAsync({api:u,data:m});(null==(s=null==x?void 0:x.data)?void 0:s.status)?(c.success((null==(t=null==x?void 0:x.data)?void 0:t.message)||`Menu ${l?"updated":"added"} successfully`),a(!1),n&&n(!1),d&&d()):c.error((null==(r=null==x?void 0:x.data)?void 0:r.message)||"Something went wrong")}catch(m){c.error(Ca(m))}}),children:t.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx(Ur,{label:"Parent Menu Name",name:"parentId",initialValueText:"Select Parent Menu",data:(null==(x=null==(u=null==N?void 0:N.data)?void 0:u.data)?void 0:x.map(e=>({label:null==e?void 0:e.menu_string,value:String(null==e?void 0:e.id)})))||[]}),t.jsx(wr,{label:"Menu Name",name:"menuName",placeholder:"Enter menu name"}),t.jsx(wr,{label:"Menu Route",name:"route",placeholder:"Enter menu url"}),t.jsx(wr,{label:"Serial No.",name:"serial",type:"number",placeholder:"Enter Serial No."}),t.jsx(Ur,{label:"Workflow (select module to get workflow list)",name:"workflowId",initialValueText:"Select Workflow",data:(null==(p=null==(h=null==y?void 0:y.data)?void 0:h.data)?void 0:p.map(e=>({label:null==e?void 0:e.workflow_name,value:String(null==e?void 0:e.id)})))||[]}),t.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-border bg-muted/30 p-3 px-4 transition-all hover:bg-muted/50",children:[t.jsxs("div",{className:"space-y-0.5",children:[t.jsx("label",{htmlFor:"isSidebar",className:"cursor-pointer text-sm font-bold text-foreground",children:"Is Sidebar Show"}),t.jsx("p",{className:"text-[10px] font-medium uppercase tracking-wider text-muted-foreground",children:"Show this menu in the side navigation"})]}),t.jsx(Dr,{name:"isSidebar",id:"isSidebar"})]})]}),t.jsx(sl,{className:"opacity-50"}),t.jsx(kr,{isLoading:j,type:"submit",className:"h-12 w-full rounded-xl bg-[#7C3AED] text-sm font-bold text-white shadow-lg shadow-purple-500/20 transition-all hover:bg-[#6D28D9] active:scale-[0.98]",children:l?"Update Menu":"Submit"})]})})})})}function ll(){var s,a,r;const l=d(),[n]=S(),i=u(),o=n.get("module_name"),m=n.get("id"),[x,h]=e.useState(1),[p,g]=e.useState(10),[f,v]=e.useState(!1),[b,j]=e.useState(!1),[N,y]=e.useState(null),[w,k]=e.useState(null),[F,B]=e.useState(""),$=ir({api:null==Sa?void 0:Sa.getMenuMasterList,key:"menuMasterList",options:{enabled:!0}}),O=dr({}),W=(null==(r=null==(a=null==(s=null==$?void 0:$.data)?void 0:s.data)?void 0:a.filter(e=>(null==e?void 0:e.module_id)==Number(m)))?void 0:r.filter(e=>{var s,t;return(null==(s=null==e?void 0:e.menu_string)?void 0:s.toLowerCase().includes(F.toLowerCase()))||(null==(t=null==e?void 0:e.route)?void 0:t.toLowerCase().includes(F.toLowerCase()))}))??[],q=x*p,H=q-p,V=W.slice(H,q),K=[{key:"menu-list",label:"Menu List",icon:t.jsx(I,{className:"h-4 w-4"}),color:"bg-blue-600/10 hover:bg-blue-600/20 text-blue-600 border-blue-600/20"},{key:"service-list",label:"Service List",icon:t.jsx(D,{className:"h-4 w-4"}),color:"bg-emerald-600/10 hover:bg-emerald-600/20 text-emerald-600 border-emerald-600/20"},{key:"role-list",label:"Role List",icon:t.jsx(U,{className:"h-4 w-4"}),color:"bg-violet-600/10 hover:bg-violet-600/20 text-violet-600 border-violet-600/20"},{key:"workflow-list",label:"Workflow Role",icon:t.jsx(T,{className:"h-4 w-4"}),color:"bg-amber-600/10 hover:bg-amber-600/20 text-amber-600 border-amber-600/20"}];return t.jsxs("div",{className:"",children:[t.jsx("div",{className:"mb-6 flex flex-wrap gap-2",children:K.map(e=>{const s=l.pathname.includes(e.key);return t.jsxs(la,{variant:s?"default":"outline",size:"sm",onClick:()=>{i(`/project-config/dashboard/module-list/${e.key}?module_name=${o}&id=${m}`)},className:Ht("flex items-center gap-2 transition-all hover:scale-105",s?Ht("bg-primary text-primary-foreground shadow-md",e.color&&"bg-opacity-100"):Ht("bg-background hover:bg-muted",e.color)),children:[e.icon,t.jsx("span",{className:"hidden sm:inline",children:e.label})]},e.key)})}),t.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[t.jsxs(or,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[t.jsx("div",{className:"border-b bg-muted/30 p-4",children:t.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs(la,{variant:"ghost",size:"sm",onClick:()=>i(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[t.jsx(C,{className:"h-4 w-4"}),"Back"]}),t.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-foreground",children:o}),t.jsxs("div",{className:"inline-block rounded-full bg-primary/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:[W.length," Menu Items"]})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"relative flex items-center",children:[t.jsx(M,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),t.jsx("input",{type:"text",placeholder:"Search menu or route...",value:F,onChange:e=>{B(e.target.value),h(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20 md:w-64"})]}),t.jsxs(la,{type:"button",onClick:()=>{j(!1),v(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[t.jsx(R,{className:"h-4 w-4"}),"Add New Menu"]})]})]})}),t.jsxs(ur,{className:"p-0",children:[$.isLoading?t.jsx("div",{className:"flex h-64 items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx(br,{}),t.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Fetching menu structure..."})]})}):t.jsxs("div",{className:"overflow-x-auto",children:[t.jsxs(xr,{children:[t.jsx(hr,{children:t.jsxs(gr,{className:"border-b-2 hover:bg-transparent",children:[t.jsx(fr,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),t.jsx(fr,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Parent Menu"}),t.jsx(fr,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Menu Details"}),t.jsx(fr,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Route Path"}),t.jsx(fr,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"SideBar"}),t.jsx(fr,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Serial"}),t.jsx(fr,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"})]})}),t.jsx(pr,{children:t.jsx(A,{children:V.map((e,s)=>t.jsxs(L.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[t.jsx(vr,{className:"py-4 text-center",children:t.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:H+s+1})}),t.jsx(vr,{className:"px-2 text-muted-foreground",children:(null==e?void 0:e.parentName)||"-"}),t.jsx(vr,{className:"py-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-primary/10 transition-colors group-hover/row:bg-primary/20",children:t.jsx(I,{className:"h-5 w-5 text-primary"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-bold leading-tight text-foreground",children:e.menu_string}),t.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id," | Parent: ",e.parent_id]})]})]})}),t.jsx(vr,{className:"py-4",children:t.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-foreground/80",children:[t.jsx(E,{className:"h-3 w-3 text-muted-foreground/60"}),t.jsx("code",{className:"rounded bg-muted px-1.5 py-0.5 text-xs font-semibold text-muted-foreground ring-1 ring-primary/10",children:e.route||"-"})]})}),t.jsx(vr,{className:"py-4",children:t.jsx("div",{className:"flex items-center text-sm font-medium text-foreground/80",children:e.is_sidebar?"Yes":"No"})}),t.jsx(vr,{className:"py-4 text-center",children:t.jsxs("div",{className:"inline-flex items-center gap-1.5 rounded-full border border-border/50 bg-accent/50 px-2.5 py-1 text-xs font-bold text-foreground/70",children:[t.jsx(P,{className:"h-3 w-3 text-muted-foreground"}),e.serial]})}),t.jsx(vr,{className:"py-4",children:t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx(la,{variant:"ghost",size:"icon",onClick:()=>{y(e.id),k(e),j(!0),v(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:t.jsx(z,{className:"h-4 w-4"})}),t.jsx(la,{variant:"ghost",size:"icon",onClick:()=>{Ja("Delete Menu",`Are you sure you want to delete ${e.menu_string}?`,async()=>{var s,t,a;try{const r=await O.mutateAsync({api:Sa.deleteMenu,data:{id:e.id}});(null==(s=null==r?void 0:r.data)?void 0:s.status)?(c.success((null==(t=null==r?void 0:r.data)?void 0:t.message)||"Menu deleted successfully"),$.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to delete menu")}catch(r){c.error("An error occurred")}})},className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:t.jsx(_,{className:"h-4 w-4"})})]})})]},e.id))})})]}),W.length>0&&t.jsx("div",{className:"border-t p-4",children:t.jsx(jr,{currentPage:x,totalItems:W.length,itemsPerPage:p,onPageChange:e=>{h(e)},onItemsPerPageChange:e=>{g(e),h(1)}})})]}),!$.isLoading&&0===W.length&&t.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[t.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:t.jsx(I,{className:"h-12 w-12 text-muted-foreground/40"})}),t.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No menu items found"}),t.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:"This module doesn't have any navigation items configured yet."}),t.jsxs(la,{className:"mt-6",variant:"outline",children:[t.jsx(R,{className:"mr-2 h-4 w-4"}),"Create First Menu"]})]})]})]}),t.jsx(rl,{open:f,setOpen:v,id:m,edit:b,setEdit:j,menuId:N,editData:w,refetch:$.refetch})]})]})}function nl(){return t.jsx(nr,{title:"Menu List",subTitle:"Control all Menu here",children:t.jsx(ll,{})})}const il=_t().shape({serviceName:Ut().required("Service name is required"),path:Ut().required("Path is required")});function dl({open:s,setOpen:a,title:r,edit:l,setEdit:n,serviceList:i,id:d,paginatedMenuList:o,moduleId:m}){const u=dr({}),x=w({defaultValues:{serviceName:""},resolver:k(il)}),{reset:h}=x;e.useEffect(()=>{var e,t;if(s)if(l&&d){const s=null==(t=null==(e=null==i?void 0:i.data)?void 0:e.data)?void 0:t.find(e=>e.id==d);s&&h({serviceName:s.service_name||"",path:s.path||""})}else h({serviceName:"",path:""})},[s,l,d,h]);return t.jsx(tl,{open:s,setOpen:a,title:r,setEdit:n,edit:l,children:t.jsx(Nr,{methods:x,onSubmit:x.handleSubmit(async e=>{var s,t,r;try{const o=l?null==Sa?void 0:Sa.updateServiceByModule:null==Sa?void 0:Sa.addServiceByModule,x=l?{...e,id:d}:{...e,moduleId:Number(m)},h=await u.mutateAsync({api:o,data:x});(null==(s=null==h?void 0:h.data)?void 0:s.status)?(c.success((null==(t=null==h?void 0:h.data)?void 0:t.message)||`Service ${l?"updated":"added"} successfully`),a(!1),n&&n(!1),i.refetch()):c.error((null==(r=null==h?void 0:h.data)?void 0:r.message)||"Something went wrong")}catch(o){c.error(Ca(o))}}),children:t.jsxs("div",{className:"grid grid-cols-1 gap-x-2 gap-y-4",children:[t.jsx("div",{children:t.jsx(wr,{label:"Service Name",name:"serviceName",placeholder:"Enter service name"})}),t.jsx("div",{children:t.jsx(wr,{label:"Service Path",name:"path",placeholder:"Enter path"})}),t.jsx(sl,{}),t.jsx("div",{children:t.jsx(kr,{isLoading:x.formState.isSubmitting,type:"submit",className:"h-11 w-full rounded-xl",children:"Submit"})})]})})})}function ol(){var s,a;const[r]=S(),l=u(),n=r.get("module_name"),i=r.get("id"),[d,o]=e.useState(1),[c,m]=e.useState(10),[x,h]=e.useState(""),[p,g]=e.useState(!1),[f,v]=e.useState(!1),[b,j]=e.useState(void 0),N=()=>{v(!1),j(void 0),g(!0)},y=ir({api:null==Sa?void 0:Sa.serviceList,key:"serviceMasterList",config:{moduleId:i},options:{enabled:!0}}),w=(null==(a=null==(s=null==y?void 0:y.data)?void 0:s.data)?void 0:a.filter(e=>{var s;return null==(s=e.service_name)?void 0:s.toLowerCase().includes(x.toLowerCase())}))||[],k=d*c,E=k-c,P=w.slice(E,k),$=[{key:"menu-list",label:"Menu List",icon:t.jsx(I,{className:"h-4 w-4"}),color:"bg-blue-600/10 hover:bg-blue-600/20 text-blue-600 border-blue-600/20"},{key:"service-list",label:"Service List",icon:t.jsx(D,{className:"h-4 w-4"}),color:"bg-emerald-600/10 hover:bg-emerald-600/20 text-emerald-600 border-emerald-600/20"},{key:"role-list",label:"Role List",icon:t.jsx(U,{className:"h-4 w-4"}),color:"bg-violet-600/10 hover:bg-violet-600/20 text-violet-600 border-violet-600/20"},{key:"workflow-list",label:"Workflow Role",icon:t.jsx(T,{className:"h-4 w-4"}),color:"bg-amber-600/10 hover:bg-amber-600/20 text-amber-600 border-amber-600/20"}];return t.jsxs("div",{className:"",children:[t.jsx("div",{className:"mb-6 flex flex-wrap gap-2",children:$.map(e=>{const s=location.pathname.includes(e.key);return t.jsxs(la,{variant:s?"default":"outline",size:"sm",onClick:()=>{l(`/project-config/dashboard/module-list/${e.key}?module_name=${n}&id=${i}`)},className:Ht("flex items-center gap-2 transition-all hover:scale-105",s?Ht("bg-primary text-primary-foreground shadow-md",e.color&&"bg-opacity-100"):Ht("bg-background hover:bg-muted",e.color)),children:[e.icon,t.jsx("span",{className:"hidden sm:inline",children:e.label})]},e.key)})}),t.jsx(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:t.jsxs(or,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[t.jsx("div",{className:"border-b bg-muted/30 p-4",children:t.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs(la,{variant:"ghost",size:"sm",onClick:()=>l(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[t.jsx(C,{className:"h-4 w-4"}),"Back"]}),t.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-foreground",children:n}),t.jsxs("div",{className:"inline-block rounded-full bg-emerald-600/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-emerald-600",children:[w.length," Services"]})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"relative flex items-center",children:[t.jsx(M,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),t.jsx("input",{type:"text",placeholder:"Search service name...",value:x,onChange:e=>{h(e.target.value),o(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20 md:w-64"})]}),t.jsxs(la,{type:"button",onClick:N,className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[t.jsx(R,{className:"h-4 w-4"}),"Add New Service"]})]})]})}),t.jsxs(ur,{className:"p-0",children:[y.isLoading?t.jsx("div",{className:"flex h-64 items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx(br,{}),t.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading services..."})]})}):t.jsxs("div",{className:"overflow-x-auto",children:[t.jsxs(xr,{children:[t.jsx(hr,{children:t.jsxs(gr,{className:"border-b-2 hover:bg-transparent",children:[t.jsx(fr,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),t.jsx(fr,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Service Name"}),t.jsx(fr,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Service Path"}),t.jsx(fr,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),t.jsx(fr,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"})]})}),t.jsx(pr,{children:t.jsx(A,{children:P.map((e,s)=>t.jsxs(L.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[t.jsx(vr,{className:"py-4 text-center",children:t.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:E+s+1})}),t.jsx(vr,{className:"py-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-emerald-600/10 transition-colors group-hover/row:bg-emerald-600/20",children:t.jsx(D,{className:"h-5 w-5 text-emerald-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-bold leading-tight text-foreground",children:e.service_name}),t.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),t.jsx(vr,{className:"py-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-emerald-600/10 transition-colors group-hover/row:bg-emerald-600/20",children:t.jsx(Et,{className:"h-5 w-5 text-emerald-600"})}),t.jsx("div",{children:t.jsx("p",{className:"font-bold leading-tight text-foreground",children:e.path})})]})}),t.jsx(vr,{className:"py-4 text-center",children:t.jsxs("span",{className:Ht("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",e.is_suspended?"border-red-500/20 bg-red-500/10 text-red-500":"border-green-500/20 bg-green-500/10 text-green-500"),children:[e.is_suspended?t.jsx(F,{className:"h-3 w-3"}):t.jsx(B,{className:"h-3 w-3"}),e.is_suspended?"Suspended":"Active"]})}),t.jsx(vr,{className:"py-4",children:t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx(la,{variant:"ghost",size:"icon",onClick:()=>{return s=e.id,v(!0),j(s),void g(!0);var s},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:t.jsx(z,{className:"h-4 w-4"})}),t.jsx(la,{variant:"ghost",size:"icon",className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:t.jsx(_,{className:"h-4 w-4"})})]})})]},e.id))})})]}),w.length>0&&t.jsx("div",{className:"border-t p-4",children:t.jsx(jr,{currentPage:d,totalItems:w.length,itemsPerPage:c,onPageChange:e=>{o(e)},onItemsPerPageChange:e=>{m(e),o(1)}})})]}),!y.isLoading&&0===w.length&&t.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[t.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:t.jsx(D,{className:"h-12 w-12 text-muted-foreground/40"})}),t.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No services found"}),t.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:"Start by adding services to this module to define its capabilities."}),t.jsxs(la,{className:"mt-6",variant:"outline",onClick:N,children:[t.jsx(R,{className:"mr-2 h-4 w-4"}),"Add New Service"]})]})]})]})}),t.jsx(dl,{open:p,setOpen:g,title:f?"Edit Service":"Add New Service",edit:f,setEdit:v,id:b,serviceList:y,moduleId:i})]})}function cl(){return t.jsx(nr,{title:"Service List",subTitle:"Control all Service here",children:t.jsx(ol,{})})}const ml=_t().shape({menuRoleName:Ut().required("Role name is required")});function ul({open:s,setOpen:a,title:r,edit:l,setEdit:n,id:i,moduleId:d,refetch:o,editData:m}){const u=dr({}),x=w({defaultValues:{menuRoleName:""},resolver:k(ml)}),{reset:h,handleSubmit:p,formState:{isSubmitting:g}}=x;e.useEffect(()=>{s&&h(l&&m?{menuRoleName:m.menu_role_name||""}:{menuRoleName:""})},[s,l,m,h]);return t.jsx(tl,{open:s,setOpen:a,title:r||(l?"Edit Role":"Add Role"),setEdit:n,edit:l,children:t.jsx("div",{className:"p-1",children:t.jsx(Nr,{methods:x,onSubmit:p(async e=>{var s,t,r;try{const m=l?null==Sa?void 0:Sa.editMenuList:null==Sa?void 0:Sa.addMenuList,x=l?{...e,id:i}:{...e,moduleId:Number(d)},h=await u.mutateAsync({api:m,data:x});(null==(s=null==h?void 0:h.data)?void 0:s.status)?(c.success((null==(t=null==h?void 0:h.data)?void 0:t.message)||`Role ${l?"updated":"added"} successfully`),a(!1),n&&n(!1),o&&o()):c.error((null==(r=null==h?void 0:h.data)?void 0:r.message)||"Something went wrong")}catch(m){c.error(Ca(m))}}),children:t.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[t.jsx("div",{className:"space-y-4",children:t.jsx(wr,{label:"Role Name",name:"menuRoleName",placeholder:"Enter role name"})}),t.jsx(sl,{className:"opacity-50"}),t.jsx(kr,{isLoading:g,type:"submit",className:"h-12 w-full rounded-xl bg-[#7C3AED] text-sm font-bold text-white shadow-lg shadow-purple-500/20 transition-all hover:bg-[#6D28D9] active:scale-[0.98]",children:l?"Update Role":"Submit"})]})})})})}function xl(){var a,r,l;const[n]=S(),i=u(),d=n.get("module_name"),o=n.get("id"),[m,x]=e.useState(1),[h,p]=e.useState(10),[g,f]=e.useState(""),[v,b]=e.useState(!1),[j,N]=e.useState(!1),[y,w]=e.useState(null),[k,E]=e.useState(null),[P,O]=e.useState({}),[W,q]=e.useState(!1),[H,V]=e.useState(null),K=ir({api:null==Sa?void 0:Sa.getMenuRoleList,key:"roleMasterList",options:{enabled:!0}}),Y=dr({}),Z=dr({}),G=(null==(l=null==(r=null==(a=null==K?void 0:K.data)?void 0:a.data)?void 0:r.filter(e=>e.module_id==Number(o)))?void 0:l.filter(e=>{var s;return null==(s=e.menu_role_name)?void 0:s.toLowerCase().includes(g.toLowerCase())}))||[],J=m*h,Q=J-h,X=G.slice(Q,J),ee=e=>void 0!==P[e.id]?P[e.id]:!0===e.is_suspended;s.useEffect(()=>{W&&(Z.isSuccess&&(c.success("Role status updated successfully"),K.refetch(),V(null),q(!1),Z.reset()),Z.isError&&(c.error(Ca(Z.error)),O(e=>{const s={...e};return H&&delete s[H.roleId],s}),V(null),q(!1),Z.reset()))},[Z.isSuccess,Z.isError,W,K,H,Z]);const se=[{key:"menu-list",label:"Menu List",icon:t.jsx(I,{className:"h-4 w-4"}),color:"bg-blue-600/10 hover:bg-blue-600/20 text-blue-600 border-blue-600/20"},{key:"service-list",label:"Service List",icon:t.jsx(D,{className:"h-4 w-4"}),color:"bg-emerald-600/10 hover:bg-emerald-600/20 text-emerald-600 border-emerald-600/20"},{key:"role-list",label:"Role List",icon:t.jsx(U,{className:"h-4 w-4"}),color:"bg-violet-600/10 hover:bg-violet-600/20 text-violet-600 border-violet-600/20"},{key:"workflow-list",label:"Workflow Role",icon:t.jsx(T,{className:"h-4 w-4"}),color:"bg-amber-600/10 hover:bg-amber-600/20 text-amber-600 border-amber-600/20"}];return t.jsxs("div",{className:"",children:[t.jsx("div",{className:"mb-6 flex flex-wrap gap-2",children:se.map(e=>{const s=location.pathname.includes(e.key);return t.jsxs(la,{variant:s?"default":"outline",size:"sm",onClick:()=>{i(`/project-config/dashboard/module-list/${e.key}?module_name=${d}&id=${o}`)},className:Ht("flex items-center gap-2 transition-all hover:scale-105",s?Ht("bg-primary text-primary-foreground shadow-md",e.color&&"bg-opacity-100"):Ht("bg-background hover:bg-muted",e.color)),children:[e.icon,t.jsx("span",{className:"hidden sm:inline",children:e.label})]},e.key)})}),t.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[t.jsxs(or,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[t.jsx("div",{className:"border-b bg-muted/30 p-4",children:t.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs(la,{variant:"ghost",size:"sm",onClick:()=>i(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[t.jsx(C,{className:"h-4 w-4"}),"Back"]}),t.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-foreground",children:d}),t.jsxs("div",{className:"inline-block rounded-full bg-violet-600/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-violet-600",children:[G.length," Roles"]})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"relative flex items-center",children:[t.jsx(M,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),t.jsx("input",{type:"text",placeholder:"Search role name...",value:g,onChange:e=>{f(e.target.value),x(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20 md:w-64"})]}),t.jsxs(la,{type:"button",onClick:()=>{N(!1),b(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[t.jsx(R,{className:"h-4 w-4"}),"Add New Role"]})]})]})}),t.jsxs(ur,{className:"p-0",children:[K.isLoading?t.jsx("div",{className:"flex h-64 items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx(br,{}),t.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading user roles..."})]})}):t.jsxs("div",{className:"overflow-x-auto",children:[t.jsxs(xr,{children:[t.jsx(hr,{children:t.jsxs(gr,{className:"border-b-2 hover:bg-transparent",children:[t.jsx(fr,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),t.jsx(fr,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Role Name"}),t.jsx(fr,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),t.jsx(fr,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),t.jsx(fr,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Is Suspended"})]})}),t.jsx(pr,{children:t.jsx(A,{children:X.map((e,s)=>t.jsxs(L.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[t.jsx(vr,{className:"py-4 text-center",children:t.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:Q+s+1})}),t.jsx(vr,{className:"py-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-violet-600/10 transition-colors group-hover/row:bg-violet-600/20",children:t.jsx(U,{className:"h-5 w-5 text-violet-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-bold leading-tight text-foreground",children:e.menu_role_name}),t.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),t.jsx(vr,{className:"py-4 text-center",children:t.jsxs("span",{className:Ht("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",e.is_suspended?"border-red-500/20 bg-red-500/10 text-red-500":"border-green-500/20 bg-green-500/10 text-green-500"),children:[e.is_suspended?t.jsx(F,{className:"h-3 w-3"}):t.jsx(B,{className:"h-3 w-3"}),e.is_suspended?"Suspended":"Active"]})}),t.jsx(vr,{className:"py-4",children:t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx(la,{variant:"ghost",size:"icon",onClick:()=>{w(e.id),E(e),N(!0),b(!0)},className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:t.jsx(z,{className:"h-4 w-4"})}),t.jsx(la,{variant:"ghost",size:"icon",onClick:()=>{Ja("Delete Role",`Are you sure you want to delete ${e.menu_role_name}?`,async()=>{var s,t,a;try{const r=await Y.mutateAsync({api:Sa.apiRoleMasterActiveDeactive,data:{role_id:e.id}});(null==(s=null==r?void 0:r.data)?void 0:s.status)?(c.success((null==(t=null==r?void 0:r.data)?void 0:t.message)||"Action performed successfully"),K.refetch()):c.error((null==(a=null==r?void 0:r.data)?void 0:a.message)||"Failed to perform action")}catch(r){c.error("An error occurred")}})},className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:t.jsx(_,{className:"h-4 w-4"})}),t.jsxs(la,{onClick:()=>i(`/project-config/dashboard/module-list/role-list/manage-menu?module_id=${e.module_id}&role_id=${e.id}&module_name=${d}`,{state:{role_name:null==e?void 0:e.menu_role_name}}),className:"flex items-center gap-2",children:[t.jsx($,{className:"h-4 w-4"}),"View"]})]})}),t.jsx(vr,{className:"mt-6 flex items-center justify-center",children:t.jsx(_r,{checked:ee(e),onCheckedChange:()=>(e=>{const s=!ee(e);O(t=>({...t,[e.id]:s}));const t={roleId:Number(e.id),isSuspended:s?"inactive":"active"};q(!0),V(t),Z.mutate({api:null==Sa?void 0:Sa.apiRoleMasterActiveDeactive,data:t})})(e)})})]},e.id))})})]}),G.length>0&&t.jsx("div",{className:"border-t p-4",children:t.jsx(jr,{currentPage:m,totalItems:G.length,itemsPerPage:h,onPageChange:e=>{x(e)},onItemsPerPageChange:e=>{p(e),x(1)}})})]}),!K.isLoading&&0===G.length&&t.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[t.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:t.jsx(U,{className:"h-12 w-12 text-muted-foreground/40"})}),t.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No roles found"}),t.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:"Configure roles for this module to manage user permissions."}),t.jsxs(la,{className:"mt-6",variant:"outline",children:[t.jsx(R,{className:"mr-2 h-4 w-4"}),"Add New Role"]})]})]})]}),t.jsx(ul,{open:v,setOpen:b,moduleId:o,edit:j,setEdit:N,id:y,editData:k,refetch:K.refetch})]})]})}function hl(){return t.jsx(nr,{title:"Role List",subTitle:"Control all Role here",children:t.jsx(xl,{})})}function pl(){var s,a;const[r]=S(),l=u(),n=r.get("module_name"),i=r.get("id"),[d,o]=e.useState(1),[c,m]=e.useState(10),[x,h]=e.useState(""),p=ir({api:null==Sa?void 0:Sa.getWorkFlowList,key:"workflowMasterList",options:{enabled:!0}}),g=(null==(a=null==(s=null==p?void 0:p.data)?void 0:s.data)?void 0:a.filter(e=>{var s;return null==(s=e.role_name)?void 0:s.toLowerCase().includes(x.toLowerCase())}))||[],f=d*c,v=f-c,b=g.slice(v,f),j=[{key:"menu-list",label:"Menu List",icon:t.jsx(I,{className:"h-4 w-4"}),color:"bg-blue-600/10 hover:bg-blue-600/20 text-blue-600 border-blue-600/20"},{key:"service-list",label:"Service List",icon:t.jsx(D,{className:"h-4 w-4"}),color:"bg-emerald-600/10 hover:bg-emerald-600/20 text-emerald-600 border-emerald-600/20"},{key:"role-list",label:"Role List",icon:t.jsx(U,{className:"h-4 w-4"}),color:"bg-violet-600/10 hover:bg-violet-600/20 text-violet-600 border-violet-600/20"},{key:"workflow-list",label:"Workflow Role",icon:t.jsx(T,{className:"h-4 w-4"}),color:"bg-amber-600/10 hover:bg-amber-600/20 text-amber-600 border-amber-600/20"}];return t.jsxs("div",{className:"",children:[t.jsx("div",{className:"mb-6 flex flex-wrap gap-2",children:j.map(e=>{const s=location.pathname.includes(e.key);return t.jsxs(la,{variant:s?"default":"outline",size:"sm",onClick:()=>{l(`/project-config/dashboard/module-list/${e.key}?module_name=${n}&id=${i}`)},className:Ht("flex items-center gap-2 transition-all hover:scale-105",s?Ht("bg-primary text-primary-foreground shadow-md",e.color&&"bg-opacity-100"):Ht("bg-background hover:bg-muted",e.color)),children:[e.icon,t.jsx("span",{className:"hidden sm:inline",children:e.label})]},e.key)})}),t.jsx(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:t.jsxs(or,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[t.jsx("div",{className:"border-b bg-muted/30 p-4",children:t.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs(la,{variant:"ghost",size:"sm",onClick:()=>l(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[t.jsx(C,{className:"h-4 w-4"}),"Back"]}),t.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-foreground",children:n}),t.jsxs("div",{className:"inline-block rounded-full bg-amber-600/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-amber-600",children:[g.length," Workflows"]})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"relative flex items-center",children:[t.jsx(M,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),t.jsx("input",{type:"text",placeholder:"Search role name...",value:x,onChange:e=>{h(e.target.value),o(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20 md:w-64"})]}),t.jsxs(la,{type:"button",className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[t.jsx(R,{className:"h-4 w-4"}),"Add New Workflow"]})]})]})}),t.jsxs(ur,{className:"p-0",children:[p.isLoading?t.jsx("div",{className:"flex h-64 items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx(br,{}),t.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading workflow configurations..."})]})}):t.jsxs("div",{className:"overflow-x-auto",children:[t.jsxs(xr,{children:[t.jsx(hr,{children:t.jsxs(gr,{className:"border-b-2 hover:bg-transparent",children:[t.jsx(fr,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),t.jsx(fr,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Workflow Name"}),t.jsx(fr,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),t.jsx(fr,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"})]})}),t.jsx(pr,{children:t.jsx(A,{children:b.map((e,s)=>t.jsxs(L.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[t.jsx(vr,{className:"py-4 text-center",children:t.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:v+s+1})}),t.jsx(vr,{className:"py-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-amber-600/10 transition-colors group-hover/row:bg-amber-600/20",children:t.jsx(T,{className:"h-5 w-5 text-amber-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-bold leading-tight text-foreground",children:e.role_name}),t.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),t.jsx(vr,{className:"py-4 text-center",children:t.jsxs("span",{className:Ht("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",e.is_suspended?"border-red-500/20 bg-red-500/10 text-red-500":"border-green-500/20 bg-green-500/10 text-green-500"),children:[e.is_suspended?t.jsx(F,{className:"h-3 w-3"}):t.jsx(B,{className:"h-3 w-3"}),e.is_suspended?"Suspended":"Active"]})}),t.jsx(vr,{className:"py-4",children:t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx(la,{variant:"ghost",size:"icon",className:"h-9 w-9 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:t.jsx(z,{className:"h-4 w-4"})}),t.jsx(la,{variant:"ghost",size:"icon",className:"h-9 w-9 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:t.jsx(_,{className:"h-4 w-4"})})]})})]},e.id))})})]}),g.length>0&&t.jsx("div",{className:"border-t p-4",children:t.jsx(jr,{currentPage:d,totalItems:g.length,itemsPerPage:c,onPageChange:e=>{o(e)},onItemsPerPageChange:e=>{m(e),o(1)}})})]}),!p.isLoading&&0===g.length&&t.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[t.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:t.jsx(T,{className:"h-12 w-12 text-muted-foreground/40"})}),t.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No workflows found"}),t.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:"Define and manage business logic workflows for this module."}),t.jsxs(la,{className:"mt-6",variant:"outline",children:[t.jsx(R,{className:"mr-2 h-4 w-4"}),"Add New Workflow"]})]})]})]})})]})}function gl(){return t.jsx(nr,{title:"Workflow List",subTitle:"Control all Workflow here",children:t.jsx(pl,{})})}function fl({open:s,setOpen:a,title:r,menuRoleId:l,moduleId:n,moduleName:i,refetch:d}){var o;const[m,u]=e.useState(""),x=dr({}),h=ir({api:null==Sa?void 0:Sa.getPermitedMenuList,key:`manage-permissions-${l}-${n}`,config:{menuRoleId:l,moduleId:n},options:{enabled:s&&!!l&&!!n}}),p=e.useMemo(()=>{var e,s;const t=(null==(s=null==(e=null==h?void 0:h.data)?void 0:e.data)?void 0:s[i])||[];return m?t.filter(e=>{var s,t;return(null==(s=e.menu_string)?void 0:s.toLowerCase().includes(m.toLowerCase()))||(null==(t=e.route)?void 0:t.toLowerCase().includes(m.toLowerCase()))}):t},[null==(o=null==h?void 0:h.data)?void 0:o.data,i,m]);return t.jsx(tl,{open:s,setOpen:a,setEdit:()=>{},title:r||"Manage Menu Permissions",children:t.jsxs("div",{className:"flex flex-col gap-4",children:[t.jsxs("div",{className:"relative mb-2 flex items-center",children:[t.jsx(M,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),t.jsx("input",{type:"text",placeholder:"Search menus or routes...",value:m,onChange:e=>u(e.target.value),className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-4 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),t.jsx("div",{className:"custom-scrollbar max-h-[60vh] overflow-y-auto pr-2",children:h.isLoading?t.jsx("div",{className:"flex h-48 items-center justify-center",children:t.jsx(br,{})}):0===p.length?t.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center text-muted-foreground",children:[t.jsx(I,{className:"mb-3 h-12 w-12 opacity-20"}),t.jsx("p",{children:"No menus found matching your search"})]}):t.jsx("div",{className:"space-y-3 pb-4",children:p.map((e,s)=>{var a,r;const n=!e.is_suspended;return t.jsxs(L.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.03*s},className:Ht("flex items-center justify-between rounded-2xl border p-4 transition-all duration-200",n?"border-green-500/20 bg-green-500/5 hover:bg-green-500/10":"border-border bg-muted/20 hover:bg-muted/30"),children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:Ht("flex h-10 w-10 items-center justify-center rounded-xl transition-colors",n?"bg-green-500/20 text-green-600":"bg-muted text-muted-foreground"),children:t.jsx(I,{className:"h-5 w-5"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold leading-tight text-foreground",children:e.menu_string}),t.jsx("p",{className:"mt-1 font-mono text-xs text-muted-foreground",children:e.route})]})]}),t.jsx("div",{className:"flex items-center gap-3",children:t.jsx(Kt,{size:"sm",variant:n?"destructive":"default",onClick:()=>(async(e,s)=>{var t,a,r;try{const n={isSuspended:s,menuId:e,menuRoleId:l},i=await x.mutateAsync({api:null==Sa?void 0:Sa.addRemoveMenuPermission,data:n});(null==(t=null==i?void 0:i.data)?void 0:t.status)?(c.success((null==(a=null==i?void 0:i.data)?void 0:a.message)||"Permission updated"),h.refetch(),d&&d()):c.error((null==(r=null==i?void 0:i.data)?void 0:r.message)||"Failed to update")}catch(n){c.error(Ca(n))}})(e.id,!e.is_suspended),disabled:x.isPending,className:Ht("h-9 gap-2 rounded-xl px-4 shadow-sm transition-all active:scale-95",n?"border-none bg-red-500 text-white hover:bg-red-600":"border-none bg-primary text-white hover:bg-primary/90"),children:x.isPending&&(null==(r=null==(a=x.variables)?void 0:a.data)?void 0:r.menuId)===e.id?t.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white/30 border-t-white"}):n?t.jsxs(t.Fragment,{children:[t.jsx(O,{className:"h-3 w-3"}),"Remove"]}):t.jsxs(t.Fragment,{children:[t.jsx(R,{className:"h-3 w-3"}),"Add"]})})})]},e.id)})})})]})})}function vl(){var s,a,r;const l=dr({}),n=u(),[i]=S(),o=i.get("role_id"),m=i.get("module_id"),x=i.get("module_name")||"Menu Roles",{role_name:h}=(null==(s=d())?void 0:s.state)||{},[p,g]=e.useState(""),[f,v]=e.useState("all"),[b,j]=e.useState(!1),N=e.useRef(null),y=ir({api:null==Sa?void 0:Sa.getPermitedMenuList,key:`permittedMenuList-${o}-${m}`,options:{enabled:!!o&&!!m},config:{menuRoleId:Number(o),moduleId:Number(m)}}),w=dr({});e.useEffect(()=>{const e=e=>{var s;!e.altKey||"s"!==e.key&&"S"!==e.key||(e.preventDefault(),e.stopPropagation(),null==(s=N.current)||s.focus())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]);const k=(null==(r=null==(a=null==y?void 0:y.data)?void 0:a.data)?void 0:r[x])||[],R=e=>Number(e.menu_role_id)===Number(o)&&!e.is_suspended,E=k.filter(e=>{var s;return null==(s=null==e?void 0:e.menu_string)?void 0:s.toLowerCase().includes(p.toLowerCase())}),P=E.filter(e=>{const s=R(e);return"active"===f?s:"inactive"!==f||!s}),z=E.filter(e=>R(e)).length,_=E.filter(e=>!R(e)).length;return t.jsxs("div",{className:"flex flex-col gap-6",children:[t.jsx(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:t.jsxs(or,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[t.jsx("div",{className:"border-b bg-muted/30 p-4",children:t.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs(la,{variant:"ghost",size:"sm",onClick:()=>n(-1),className:"flex h-10 items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[t.jsx(C,{className:"h-4 w-4"}),"Back"]}),t.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-blue-600/10 text-blue-600",children:t.jsx(I,{className:"h-6 w-6"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-foreground",children:x}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("span",{className:"text-sm text-muted-foreground",children:["Role:"," ",t.jsx("span",{className:"font-semibold text-blue-600",children:h})]}),t.jsxs("div",{className:"inline-block rounded-full bg-blue-600/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-blue-600",children:[k.length," Menus Found"]})]})]})]}),t.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[t.jsxs("div",{className:"flex items-center gap-2 rounded-xl border bg-muted/30 p-1",children:[t.jsxs(la,{variant:"ghost",size:"sm",onClick:()=>v("all"),className:Ht("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","all"===f?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[t.jsx(W,{className:"h-3 w-3"}),"All (",E.length,")"]}),t.jsxs(la,{variant:"ghost",size:"sm",onClick:()=>v("active"),className:Ht("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","active"===f?"bg-green-600 text-white shadow-sm hover:bg-green-600":"text-muted-foreground hover:text-foreground"),children:[t.jsx(B,{className:"h-3 w-3"}),"Active (",z,")"]}),t.jsxs(la,{variant:"ghost",size:"sm",onClick:()=>v("inactive"),className:Ht("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","inactive"===f?"bg-muted text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[t.jsx(F,{className:"h-3 w-3"}),"Inactive (",_,")"]})]}),t.jsxs("div",{className:"relative flex items-center",children:[t.jsx(M,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),t.jsx("input",{ref:N,type:"text",placeholder:"Search menu...",value:p,onChange:e=>g(e.target.value),className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-20 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20 sm:w-64"}),t.jsx("div",{className:"absolute right-2.5 hidden items-center gap-1 sm:flex",children:t.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[t.jsx("span",{className:"text-xs",children:"Alt"}),"S"]})})]})]})]})}),t.jsx(ur,{className:"p-6",children:y.isLoading?t.jsx("div",{className:"flex h-64 items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx(br,{}),t.jsx("p",{className:"mt-4 text-xs font-medium text-muted-foreground",children:"Loading menus..."})]})}):t.jsx(t.Fragment,{children:0===P.length?t.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[t.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:t.jsx(I,{className:"h-12 w-12 text-muted-foreground/40"})}),t.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No menus found"}),t.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:p||"all"!==f?"Try adjusting your filters or search criteria":"No menus available for this role yet."})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:t.jsx(A,{mode:"popLayout",children:P.map((e,s)=>{const a=R(e);return t.jsx(L.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2,delay:.02*s},children:t.jsx(or,{className:Ht("group overflow-hidden rounded-xl border transition-all hover:shadow-md",a?"border-green-500/20 bg-green-500/5":"border-border bg-card hover:border-primary/30"),children:t.jsx(ur,{className:"p-4",children:t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsx("div",{className:Ht("flex h-10 w-10 items-center justify-center rounded-lg transition-all",a?"bg-green-500/20 text-green-600":"bg-muted text-muted-foreground group-hover:bg-primary/10 group-hover:text-primary"),children:a?t.jsx(B,{className:"h-5 w-5"}):t.jsx(F,{className:"h-5 w-5"})}),t.jsx(_r,{checked:a,onCheckedChange:()=>(async e=>{var s,t,a;const r=R(e),n=e.id,i=o;try{const e={isSuspended:r,menuId:n,menuRoleId:i},d=await l.mutateAsync({api:null==Sa?void 0:Sa.addRemoveMenuPermission,data:e});(null==(s=null==d?void 0:d.data)?void 0:s.status)?(c.success((null==(t=null==d?void 0:d.data)?void 0:t.message)||"Role status updated successfully"),y.refetch()):c.error((null==(a=null==d?void 0:d.data)?void 0:a.message)||"Failed to update status")}catch(d){c.error(Ca(d))}})(e),disabled:w.isPending,className:"data-[state=checked]:bg-green-600"})]}),t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("h4",{className:"line-clamp-1 text-sm font-bold text-foreground",children:e.menu_string}),t.jsx("p",{className:"truncate font-mono text-[10px] text-muted-foreground",title:e.route,children:e.route??"--"})]}),t.jsx("p",{className:Ht("mt-1 text-[10px] font-bold uppercase tracking-wider",a?"text-green-600":Number(e.menu_role_id)===Number(o)?"text-red-500":"text-muted-foreground"),children:a?"Active":Number(e.menu_role_id)===Number(o)?"Suspended":"Inactive"})]})})})},e.id)})})}),t.jsxs("div",{className:"mt-6 flex flex-col gap-2 rounded-xl border bg-muted/20 px-4 py-3 sm:flex-row sm:items-center sm:justify-between",children:[t.jsxs("span",{className:"text-xs font-bold uppercase tracking-widest text-muted-foreground",children:["Showing: ",P.length," of"," ",E.length," Menus"]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500"}),t.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Active: ",z]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"h-2 w-2 rounded-full bg-muted-foreground"}),t.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Inactive: ",_]})]})]})]})]})})})]})}),t.jsx(fl,{open:b,setOpen:j,menuRoleId:o,moduleId:m,moduleName:x,title:`Manage Menus for ${h}`,refetch:y.refetch})]})}function bl(){return t.jsx(nr,{title:"Menu Role List",subTitle:"Control all Menu Role here",children:t.jsx(vl,{})})}const jl=({ulbName:e,progress:s})=>{const a=u();return t.jsxs("div",{className:"relative overflow-hidden bg-slate-900 px-8 py-10 shadow-2xl dark:bg-black",children:[t.jsx("div",{className:"absolute right-0 top-0 -mr-32 -mt-32 h-64 w-64 rounded-full bg-primary/5 blur-3xl"}),t.jsx("div",{className:"absolute bottom-0 left-0 -mb-32 -ml-32 h-64 w-64 rounded-full bg-primary/5 blur-3xl"}),t.jsxs("div",{className:"relative z-10 mx-auto max-w-7xl",children:[t.jsxs(L.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"mb-6 flex items-center gap-2 text-sm font-medium text-slate-500",children:[t.jsx("span",{className:"cursor-pointer transition-colors hover:text-slate-300",onClick:()=>a("/dashboard"),children:"Administration"}),t.jsx(q,{size:10,className:"text-slate-700"}),t.jsx("span",{className:"cursor-pointer transition-colors hover:text-slate-300",onClick:()=>a(-1),children:"ULB Management"}),t.jsx(q,{size:10,className:"text-slate-700"}),t.jsx("span",{className:"rounded bg-primary/10 px-2 py-0.5 text-[10px] font-bold uppercase tracking-wider text-primary",children:"Configuration"})]}),t.jsxs("div",{className:"mb-8 flex flex-col justify-between gap-8 md:flex-row md:items-end",children:[t.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"flex-1",children:[t.jsxs("div",{className:"mb-4 flex items-center gap-4",children:[t.jsx("div",{className:"rounded-2xl bg-primary/10 p-3 text-primary ring-1 ring-primary/20",children:t.jsx(H,{className:"animate-spin-slow",size:24})}),t.jsx("h1",{className:"text-3xl font-black tracking-tight text-white md:text-4xl",children:"ULB Configuration"})]}),t.jsxs("p",{className:"text-md max-w-xl leading-relaxed text-slate-400",children:["Configuring enterprise systems for"," ",t.jsx("span",{className:"font-bold text-white",children:e})]}),t.jsxs("div",{className:"mt-8 max-w-md",children:[t.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[t.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500",children:"Setup Progress"}),t.jsxs("span",{className:"text-[10px] font-black text-white/90",children:[s,"% Complete"]})]}),t.jsx("div",{className:"h-2 w-full overflow-hidden rounded-full bg-slate-800 p-[1px]",children:t.jsx(L.div,{initial:{width:0},animate:{width:`${s}%`},transition:{duration:1,ease:"easeOut"},className:"h-full rounded-full bg-primary shadow-[0_0_10px_rgba(59,130,246,0.5)]"})})]})]}),t.jsxs(L.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"flex gap-3",children:[t.jsxs(la,{variant:"outline",onClick:()=>a(-1),className:"border-slate-700 bg-slate-800/50 text-slate-300 backdrop-blur-sm hover:bg-slate-700 hover:text-white",children:[t.jsx(C,{className:"mr-2"}),"Back"]}),t.jsx(la,{className:"bg-primary shadow-lg shadow-primary/20 hover:bg-primary/90",children:"Save Configuration"})]})]})]})]})},Nl=({data:e})=>{const s=[{label:"ULB Code",value:e.code,icon:V},{label:"Population",value:parseInt(e.population).toLocaleString(),icon:K},{label:"Area",value:`${e.area} km²`,icon:Y},{label:"System Status",value:e.status,icon:Z,isStatus:!0}];return t.jsx("div",{className:"grid grid-cols-1 gap-4 px-8 md:grid-cols-2 lg:grid-cols-4",children:s.map((s,a)=>t.jsx(L.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.1*a+.3},children:t.jsx(or,{className:"group overflow-hidden border-none bg-white shadow-xl transition-all transition-all duration-300 hover:shadow-2xl dark:bg-slate-900",children:t.jsx(ur,{className:"p-6",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"rounded-xl bg-slate-100 p-3 text-slate-500 transition-all duration-300 group-hover:bg-primary/10 group-hover:text-primary dark:bg-slate-800 dark:text-slate-400",children:t.jsx(s.icon,{size:20})}),t.jsxs("div",{children:[t.jsx("p",{className:"mb-1 text-[10px] font-black uppercase tracking-widest text-slate-400 dark:text-slate-500",children:s.label}),s.isStatus?t.jsxs("div",{className:Ht("inline-flex items-center gap-1.5 rounded-full px-2.5 py-0.5 text-[10px] font-bold uppercase tracking-wider","active"===e.status?"border border-primary/20 bg-primary/10 text-primary":"border border-red-500/20 bg-red-500/10 text-red-500"),children:[t.jsx("div",{className:Ht("h-1.5 w-1.5 animate-pulse rounded-full","active"===e.status?"bg-primary":"bg-red-500")}),s.value]}):t.jsx("p",{className:"text-lg font-black tracking-tight text-slate-800 dark:text-slate-200",children:s.value})]})]})})})},s.label))})},yl=({data:s})=>{const[a,r]=e.useState(!0),l=[{label:"ULB Name",value:s.name,icon:G},{label:"ULB Type",value:s.type,icon:J},{label:"State",value:s.state,icon:Q},{label:"District",value:s.district,icon:Q},{label:"Address",value:s.address,icon:Q,fullWidth:!0},{label:"Pincode",value:s.pincode,icon:Q},{label:"Established",value:new Date(s.establishedDate).toLocaleDateString(),icon:X},{label:"Phone",value:s.phone,icon:ee},{label:"Email",value:s.email,icon:se},{label:"Website",value:s.website,icon:te,fullWidth:!0}];return t.jsxs(or,{className:"mx-8 overflow-hidden border-none bg-white shadow-xl transition-all duration-500 dark:bg-slate-900",children:[t.jsxs(cr,{className:"flex cursor-pointer flex-row items-center justify-between border-b border-slate-100 bg-slate-50/50 p-6 transition-colors hover:bg-slate-100 dark:border-slate-800 dark:bg-slate-800/30 dark:hover:bg-slate-800/50",onClick:()=>r(!a),children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"rounded-xl bg-primary/10 p-3 text-primary ring-1 ring-primary/20",children:t.jsx(G,{})}),t.jsxs("div",{children:[t.jsx(mr,{className:"text-xl font-black tracking-tight text-slate-800 dark:text-slate-200",children:"Basic Configuration"}),t.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Core identification and contact matrix"})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs(la,{variant:"outline",size:"sm",className:"h-9 border-slate-200 bg-white px-4 shadow-sm transition-all hover:bg-primary hover:text-white dark:border-slate-700 dark:bg-slate-800 dark:text-slate-300",children:[t.jsx(z,{className:"mr-2"}),"Modify"]}),t.jsx("div",{className:"text-slate-400",children:a?t.jsx(ae,{}):t.jsx(re,{})})]})]}),t.jsx(A,{children:a&&t.jsx(L.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},children:t.jsx(ur,{className:"p-8",children:t.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:l.map((e,s)=>t.jsxs("div",{className:Ht("group flex gap-4 rounded-2xl border border-slate-100 bg-slate-50 p-4 transition-all duration-300 hover:border-primary/20 hover:bg-white hover:shadow-lg dark:border-slate-800 dark:bg-slate-800/20 dark:hover:bg-slate-800",e.fullWidth&&"md:col-span-2"),children:[t.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-xl bg-white text-slate-400 shadow-sm transition-all group-hover:scale-110 group-hover:text-primary dark:bg-slate-700",children:t.jsx(e.icon,{size:16})}),t.jsxs("div",{children:[t.jsx("p",{className:"mb-1 text-[10px] font-black uppercase tracking-widest text-slate-400 dark:text-slate-500",children:e.label}),t.jsx("p",{className:"text-sm font-bold leading-tight text-slate-800 dark:text-slate-200",children:e.value})]})]},e.label))})})})})]})},wl=Fs,kl=e.forwardRef(({className:e,...s},a)=>t.jsx(Ds,{ref:a,className:Ht("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...s}));kl.displayName=Ds.displayName;const Sl=e.forwardRef(({className:e,...s},a)=>t.jsx(Us,{ref:a,className:Ht("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...s}));Sl.displayName=Us.displayName;const Ll=e.forwardRef(({className:e,...s},a)=>t.jsx(Ts,{ref:a,className:Ht("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));Ll.displayName=Ts.displayName;const Cl=({basicMasters:e,moduleMasters:s})=>t.jsx("div",{className:"mx-8 space-y-6",children:t.jsxs(wl,{defaultValue:"basic",className:"w-full",children:[t.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[t.jsxs(kl,{className:"h-12 rounded-xl bg-slate-200/50 p-1 dark:bg-slate-800/50",children:[t.jsxs(Sl,{value:"basic",className:"rounded-lg px-6 text-xs font-bold uppercase tracking-wider transition-all data-[state=active]:bg-white data-[state=active]:text-primary data-[state=active]:shadow-sm dark:data-[state=active]:bg-slate-700 dark:data-[state=active]:text-primary",children:[t.jsx(le,{className:"mr-2 text-[10px]"}),"Global Masters"]}),t.jsxs(Sl,{value:"module",className:"rounded-lg px-6 text-xs font-bold uppercase tracking-wider transition-all data-[state=active]:bg-white data-[state=active]:text-primary data-[state=active]:shadow-sm dark:data-[state=active]:bg-slate-700 dark:data-[state=active]:text-primary",children:[t.jsx(ne,{className:"mr-2 text-[10px]"}),"Module Specific"]})]}),t.jsxs(la,{className:"h-11 rounded-xl bg-primary px-6 text-xs font-bold uppercase tracking-widest shadow-lg shadow-primary/20 transition-all hover:bg-primary/90 active:scale-95",children:[t.jsx(R,{className:"mr-2"}),"Create Master"]})]}),t.jsx(Ll,{value:"basic",className:"mt-0",children:t.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:e.map((e,s)=>t.jsx(L.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.05*s},children:t.jsx(or,{className:"group overflow-hidden border-none bg-white shadow-lg ring-1 ring-slate-200/50 transition-all duration-500 hover:shadow-2xl dark:bg-slate-900 dark:ring-slate-800",children:t.jsxs(ur,{className:"p-0",children:[t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"mb-6 flex items-start justify-between",children:[t.jsx("div",{className:"rounded-2xl bg-primary/10 p-4 text-primary shadow-inner transition-all duration-500 group-hover:bg-primary group-hover:text-white",children:t.jsx(e.icon,{size:24})}),t.jsxs("div",{className:"flex gap-1.5",children:[t.jsx(la,{variant:"ghost",size:"icon",className:"h-9 w-9 rounded-xl bg-slate-50 text-slate-400 transition-all hover:bg-primary/10 hover:text-primary dark:bg-slate-800",children:t.jsx(z,{size:14})}),t.jsx(la,{variant:"ghost",size:"icon",className:"h-9 w-9 rounded-xl bg-slate-50 text-slate-400 transition-all hover:bg-red-500/10 hover:text-red-500 dark:bg-slate-800",children:t.jsx(_,{size:14})})]})]}),t.jsx("h3",{className:"mb-1 text-xl font-black tracking-tight text-slate-800 dark:text-slate-200",children:e.name}),t.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-black uppercase tracking-widest text-slate-400",children:[t.jsx(ie,{className:"text-[8px]"}),"Updated"," ",new Date(e.lastUpdated).toLocaleDateString()]})]}),t.jsxs("div",{className:"flex items-center justify-between border-t border-slate-100 bg-slate-50 px-6 py-4 dark:border-slate-800 dark:bg-slate-800/50",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-2xl font-black leading-none tracking-tighter text-slate-800 dark:text-slate-200",children:e.count}),t.jsx("span",{className:"mt-1 text-[9px] font-black uppercase tracking-widest text-slate-400 dark:text-slate-500",children:"Records"})]}),t.jsxs(la,{variant:"link",className:"h-auto p-0 text-[10px] font-black uppercase tracking-widest text-primary transition-transform group-hover:translate-x-1",children:["Manage ","->"]})]})]})})},e.id))})}),t.jsx(Ll,{value:"module",className:"mt-0",children:t.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:s.map((e,s)=>t.jsx(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*s},children:t.jsxs(or,{className:"overflow-hidden border-none bg-white shadow-lg transition-all duration-300 hover:shadow-xl dark:bg-slate-900",children:[t.jsx("div",{className:"border-b border-primary/10 bg-primary/5 px-6 py-4 dark:border-primary/20 dark:bg-primary/10",children:t.jsxs("h3",{className:"flex items-center gap-2 text-sm font-black uppercase tracking-widest text-primary",children:[t.jsx(de,{}),e.module]})}),t.jsx(ur,{className:"space-y-3 p-6",children:e.masters.map((e,s)=>t.jsxs("div",{className:"group flex items-center justify-between rounded-xl border border-transparent p-3 transition-all duration-300 hover:border-slate-200 hover:bg-slate-50 dark:hover:border-slate-700 dark:hover:bg-slate-800/50",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-primary/40"}),t.jsx("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:e.name})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"rounded-lg border border-slate-100 bg-white px-3 py-1 text-xs font-black text-slate-800 shadow-sm dark:border-slate-700 dark:bg-slate-800 dark:text-slate-300",children:e.count}),t.jsx(la,{variant:"ghost",size:"sm",className:"h-8 text-[10px] font-black uppercase tracking-wider text-primary opacity-0 transition-all hover:bg-primary/5 group-hover:opacity-100",children:"View"})]})]},s))})]})},e.module))})})]})}),Ml=({actions:e})=>t.jsxs(or,{className:"mx-8 overflow-hidden border-none bg-white shadow-xl transition-all duration-500 dark:bg-slate-900",children:[t.jsx(cr,{className:"border-b border-slate-100 bg-red-50/20 p-6 dark:border-slate-800 dark:bg-red-950/20",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"rounded-xl bg-red-100 p-3 text-red-600 ring-1 ring-red-200 dark:bg-red-900/40 dark:text-red-400 dark:ring-red-800",children:t.jsx(Z,{})}),t.jsxs("div",{children:[t.jsx(mr,{className:"text-xl font-black tracking-tight text-slate-800 dark:text-slate-200",children:"Administrative Controls"}),t.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Critical system overrides and security protocols"})]})]})}),t.jsx(ur,{className:"p-8",children:t.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:e.map((e,s)=>t.jsx(L.div,{initial:{opacity:0,x:s%2==0?-20:20},animate:{opacity:1,x:0},transition:{delay:.5+.1*s},children:t.jsxs(la,{variant:"outline",className:Ht("group flex h-auto w-full flex-row items-start gap-5 rounded-2xl border-2 p-6 shadow-sm transition-all duration-300","warning"===e.color?"border-slate-100 bg-slate-50 hover:border-primary hover:bg-primary hover:text-white dark:border-slate-800 dark:bg-slate-800/50":"border-red-50 bg-red-50/30 hover:border-red-500 hover:bg-red-500 hover:text-white dark:border-red-950/20 dark:bg-red-950/10"),onClick:e.action,children:[t.jsx("div",{className:Ht("rounded-xl p-4 shadow-sm transition-all duration-300 group-hover:scale-110 group-hover:bg-white/20","warning"===e.color?"bg-white text-slate-400 dark:bg-slate-700 dark:text-slate-300":"bg-white text-red-600 dark:bg-slate-700 dark:text-red-400"),children:t.jsx(e.icon,{size:24})}),t.jsxs("div",{className:"flex-1 text-left",children:[t.jsx("h4",{className:"mb-1 text-lg font-black tracking-tight",children:e.title}),t.jsx("p",{className:Ht("text-xs font-medium leading-relaxed","text-slate-500 group-hover:text-white/80 dark:text-slate-400"),children:e.description})]}),t.jsx("div",{className:"opacity-0 transition-opacity group-hover:opacity-100",children:t.jsx(oe,{className:"animate-pulse text-white"})})]})},e.id))})})]}),Rl=Ks,Al=$s,Il=e.forwardRef(({className:e,...s},a)=>t.jsx(Bs,{className:Ht("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s,ref:a}));Il.displayName=Bs.displayName;const El=e.forwardRef(({className:e,...s},a)=>t.jsxs(Al,{children:[t.jsx(Il,{}),t.jsx(Os,{ref:a,className:Ht("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s})]}));El.displayName=Os.displayName;const Pl=({className:e,...s})=>t.jsx("div",{className:Ht("flex flex-col space-y-2 text-center sm:text-left",e),...s});Pl.displayName="AlertDialogHeader";const zl=({className:e,...s})=>t.jsx("div",{className:Ht("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...s});zl.displayName="AlertDialogFooter";const _l=e.forwardRef(({className:e,...s},a)=>t.jsx(Ws,{ref:a,className:Ht("text-lg font-semibold",e),...s}));_l.displayName=Ws.displayName;const Dl=e.forwardRef(({className:e,...s},a)=>t.jsx(qs,{ref:a,className:Ht("text-sm text-muted-foreground",e),...s}));Dl.displayName=qs.displayName;const Ul=e.forwardRef(({className:e,...s},a)=>t.jsx(Hs,{ref:a,className:Ht(Vt(),e),...s}));Ul.displayName=Hs.displayName;const Tl=e.forwardRef(({className:e,...s},a)=>t.jsx(Vs,{ref:a,className:Ht(Vt({variant:"outline"}),"mt-2 sm:mt-0",e),...s}));Tl.displayName=Vs.displayName;const Fl=({open:e,onOpenChange:s,onConfirm:a,title:r,description:l,isSaving:n})=>t.jsx(Rl,{open:e,onOpenChange:s,children:t.jsxs(El,{className:"overflow-hidden rounded-3xl border-none bg-white p-8 shadow-2xl dark:bg-slate-900",children:[t.jsx("div",{className:"absolute -left-24 -top-24 h-48 w-48 rounded-full bg-red-500/10 blur-3xl dark:bg-red-500/5"}),t.jsxs(Pl,{className:"relative z-10",children:[t.jsx("div",{className:"mx-auto mb-6 flex h-20 w-20 items-center justify-center rounded-2xl bg-red-50 text-red-600 shadow-inner ring-1 ring-red-100 dark:bg-red-950/30 dark:text-red-400 dark:ring-red-900/50",children:t.jsx(oe,{size:32})}),t.jsx(_l,{className:"text-center text-3xl font-black tracking-tight text-slate-800 dark:text-slate-100",children:r}),t.jsx(Dl,{className:"text-center text-base font-medium leading-relaxed text-slate-500 dark:text-slate-400 md:px-6",children:l})]}),t.jsxs(zl,{className:"relative z-10 mt-8 flex-col-reverse gap-3 sm:flex-row",children:[t.jsx(Tl,{disabled:n,className:"h-12 flex-1 rounded-xl border-none bg-slate-100 text-[10px] font-black uppercase tracking-widest text-slate-500 transition-all hover:bg-slate-200 dark:bg-slate-800 dark:text-slate-400 dark:hover:bg-slate-700",children:"Abort"}),t.jsx(Ul,{onClick:e=>{e.preventDefault(),a()},disabled:n,className:"h-12 flex-1 rounded-xl bg-red-600 text-[10px] font-black uppercase tracking-widest text-white shadow-lg shadow-red-600/20 transition-all hover:bg-red-700 active:scale-95 dark:bg-red-600 dark:hover:bg-red-700",children:n?t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ce,{className:"animate-spin text-[10px]"}),"Processing"]}):"Confirm"})]})]})}),Bl=()=>{const[s,a]=e.useState(null),[r,l]=e.useState(!1),[n]=e.useState(65),[i]=e.useState({name:"Municipal Corporation of Mumbai",code:"ULB-MH-001",type:"Municipal Corporation",state:"Maharashtra",district:"Mumbai",address:"BMC Building, Fort, Mumbai",pincode:"400001",phone:"+91-22-2262-2000",email:"info@mcgm.gov.in",website:"https://www.mcgm.gov.in",establishedDate:"1888-04-01",population:"12442373",area:"603.4",status:"active"}),[d]=e.useState([{id:1,name:"Ward List",count:24,lastUpdated:"2025-01-15",icon:me},{id:2,name:"Zone List",count:6,lastUpdated:"2025-01-10",icon:me},{id:3,name:"Department List",count:18,lastUpdated:"2025-01-20",icon:me},{id:4,name:"Designation List",count:45,lastUpdated:"2025-01-18",icon:me},{id:5,name:"Document Types",count:32,lastUpdated:"2025-01-12",icon:me}]),[o]=e.useState([{module:"Property Tax",masters:[{name:"Property Types",count:12},{name:"Tax Categories",count:8},{name:"Assessment Rules",count:15}]},{module:"Water & Sewerage",masters:[{name:"Connection Types",count:6},{name:"Tariff Plans",count:10},{name:"Meter Types",count:5}]},{module:"Birth & Death",masters:[{name:"Certificate Types",count:4},{name:"Relationship Types",count:8}]},{module:"Trade License",masters:[{name:"Business Categories",count:25},{name:"License Types",count:12},{name:"Fee Structure",count:18}]}]),m=e=>{a(e)},u=[{id:"hide-citizen",title:"Hide from Citizen Portal",description:"ULB will not be visible to citizens",icon:ue,color:"warning",action:()=>m({id:"hide-citizen",title:"Hide from Citizen Portal",description:"ULB will not be visible to citizens",icon:ue,color:"warning"})},{id:"hide-admin",title:"Hide from Admin Panel",description:"ULB will not appear in admin listings",icon:$,color:"warning",action:()=>m({id:"hide-admin",title:"Hide from Admin Panel",description:"ULB will not appear in admin listings",icon:$,color:"warning"})},{id:"disable-login",title:"Disable Login Access",description:"Prevent all users from signing into this ULB",icon:xe,color:"danger",action:()=>m({id:"disable-login",title:"Disable Login Access",description:"Prevent all users from signing into this ULB",icon:xe,color:"danger"})},{id:"deactivate",title:"Emergency Deactivation",description:"Immediately suspend all ULB services and access",icon:oe,color:"danger",action:()=>m({id:"deactivate",title:"Emergency Deactivation",description:"Immediately suspend all ULB services and access",icon:oe,color:"danger"})}];return t.jsxs(L.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-screen overflow-x-hidden bg-slate-50 pb-20 transition-colors duration-500 dark:bg-[#0a0a0a]",children:[t.jsx(jl,{ulbName:i.name,progress:n}),t.jsxs("main",{className:"relative z-20 -mt-10 space-y-8",children:[t.jsx(Nl,{data:i}),t.jsxs("div",{className:"mx-auto flex max-w-7xl flex-col gap-10",children:[t.jsx(yl,{data:i}),t.jsx(Cl,{basicMasters:d,moduleMasters:o}),t.jsx(Ml,{actions:u})]})]}),t.jsx(Fl,{open:!!s,onOpenChange:e=>!e&&a(null),onConfirm:()=>{s&&(l(!0),setTimeout(()=>{l(!1),a(null),c.success(`${s.title} executed successfully!`,{icon:"🚀",style:{borderRadius:"15px",background:"#1e293b",color:"#fff",fontWeight:"bold",fontSize:"12px"}})},2e3))},title:(null==s?void 0:s.title)||"Confirm Action",description:`Are you absolutely sure you want to perform "${null==s?void 0:s.title}"? This is an administrative operation that may affect production data and user access.`,isSaving:r})]})};function $l(){return t.jsx(nr,{title:"ULB Master Data",subTitle:"Control all ULB Master Data here",children:t.jsx(Bl,{})})}function Ol(){var s,a;const r=u(),[l,n]=e.useState(1),[i,d]=e.useState(10),[o,m]=e.useState(""),x=e.useRef(null);e.useEffect(()=>{const e=e=>{var s;!e.altKey||"s"!==e.key&&"S"!==e.key||(e.preventDefault(),e.stopPropagation(),null==(s=x.current)||s.focus())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]);const h=ir({api:null==Sa?void 0:Sa.getAllJuidcoUlbList,key:"ulbLists",options:{enabled:!0}}),p=[{key:"permitted-module",label:"Permitted Module",icon:t.jsx(G,{className:"h-4 w-4"}),color:"bg-blue-600/10 hover:bg-blue-600/20 text-blue-600 border-blue-600/20"},{key:"user-list",label:"User List",icon:t.jsx(U,{className:"h-4 w-4"}),color:"bg-emerald-600/10 hover:bg-emerald-600/20 text-emerald-600 border-emerald-600/20"},{key:"admin-list",label:"Admin List",icon:t.jsx(Z,{className:"h-4 w-4"}),color:"bg-violet-600/10 hover:bg-violet-600/20 text-violet-600 border-violet-600/20"}],g=dr({}),f=(null==(a=null==(s=null==h?void 0:h.data)?void 0:s.data)?void 0:a.filter(e=>{var s;return null==(s=null==e?void 0:e.ulb_name)?void 0:s.toLowerCase().includes(o.toLowerCase())}))||[],v=l*i,b=v-i,j=null==f?void 0:f.slice(b,v);return t.jsx("div",{className:"",children:t.jsx(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:t.jsxs(or,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[t.jsx("div",{className:"border-b bg-muted/30 p-4",children:t.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[t.jsx("div",{className:"flex items-center gap-3",children:t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-foreground",children:"ULB Management"}),t.jsxs("div",{className:"inline-block rounded-full bg-blue-600/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-blue-600",children:[f.length," ULBs Found"]})]})}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"relative flex items-center md:min-w-[320px]",children:[t.jsx(M,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),t.jsx("input",{ref:x,type:"text",placeholder:"Search ULB name...",value:o,onChange:e=>{m(e.target.value),n(1)},className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-20 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20"}),t.jsx("div",{className:"absolute right-2.5 hidden items-center gap-1 sm:flex",children:t.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[t.jsx("span",{className:"text-xs",children:"Alt"}),"S"]})})]}),t.jsxs(la,{type:"button",onClick:()=>{},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[t.jsx(R,{className:"h-4 w-4"}),"Add New ULB"]})]})]})}),t.jsxs(ur,{className:"p-0",children:[h.isLoading?t.jsx("div",{className:"flex h-64 items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx(br,{}),t.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading ULBs..."})]})}):t.jsxs("div",{className:"overflow-x-auto",children:[t.jsxs(xr,{children:[t.jsx(hr,{children:t.jsxs(gr,{className:"border-b-2 hover:bg-transparent",children:[t.jsx(fr,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),t.jsx(fr,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"ULB Name"}),t.jsx(fr,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),t.jsx(fr,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"}),t.jsx(fr,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Enable/Disable"})]})}),t.jsx(pr,{children:t.jsx(A,{children:j.map((e,s)=>t.jsxs(L.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[t.jsx(vr,{className:"py-4 text-center",children:t.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:b+s+1})}),t.jsx(vr,{className:"py-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-blue-600/10 transition-colors group-hover/row:bg-blue-600/20",children:t.jsx(G,{className:"h-5 w-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-bold leading-tight text-foreground",children:null==e?void 0:e.ulb_name}),t.jsxs("p",{className:"mt-0.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:["ID: ",e.id]})]})]})}),t.jsx(vr,{className:"py-4 text-center",children:t.jsxs("span",{className:Ht("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-bold transition-colors",e.active_status?"border-green-500/20 bg-green-500/10 text-green-500":"border-red-500/20 bg-red-500/10 text-red-500"),children:[e.active_status?t.jsx(B,{className:"h-3 w-3"}):t.jsx(F,{className:"h-3 w-3"}),e.active_status?"Active":"Disabled"]})}),t.jsx(vr,{className:"py-4",children:t.jsx("div",{className:"flex items-center justify-center gap-2",children:p.map(s=>t.jsxs(la,{variant:"outline",size:"sm",onClick:()=>{r(`/project-config/dashboard/ulb-list/${s.key}?ulb_name=${null==e?void 0:e.ulb_name}&ulb_id=${null==e?void 0:e.id}`)},className:Ht("flex items-center gap-2 border-0 transition-all hover:scale-105",s.color),children:[s.icon,t.jsx("span",{className:"hidden sm:inline",children:s.label})]},s.key))})}),t.jsx(vr,{className:"py-4 text-center",children:t.jsx("div",{className:"flex items-center justify-center",children:t.jsx(_r,{checked:e.active_status,onCheckedChange:()=>(async(e,s)=>{var t,a,r;try{const l={ulbId:e,permissionStatus:s},n=await g.mutateAsync({api:null==Sa?void 0:Sa.ulbEnableDisable,data:l});(null==(t=null==n?void 0:n.data)?void 0:t.status)?(c.success((null==(a=null==n?void 0:n.data)?void 0:a.message)||"ULB status updated successfully"),h.refetch()):c.error((null==(r=null==n?void 0:n.data)?void 0:r.message)||"Failed to update ULB status")}catch(l){c.error(Ca(l))}})(e.id,!e.active_status)})})})]},e.id))})})]}),f.length>0&&t.jsx("div",{className:"border-t p-4",children:t.jsx(jr,{currentPage:l,totalItems:f.length,itemsPerPage:i,onPageChange:e=>{n(e)},onItemsPerPageChange:e=>{d(e),n(1)}})})]}),!h.isLoading&&0===f.length&&t.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[t.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:t.jsx(G,{className:"h-12 w-12 text-muted-foreground/40"})}),t.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No ULBs found"}),t.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:o?"Try adjusting your search criteria":"No Urban Local Bodies have been added yet."})]})]})]})})})}function Wl(){return t.jsx(nr,{title:"Manage All Ulb Here.",children:t.jsx(Ol,{})})}function ql(s){var a,r;const[l,n]=e.useState(""),[i,d]=e.useState("all"),o=e.useRef(null),m=dr({}),u=ir({api:null==Sa?void 0:Sa.getServicesByUlbModule,key:"getServicesByUlbModule",config:{ulbId:null==s?void 0:s.ulbId,moduleId:null==s?void 0:s.moduleId},options:{enabled:!!(null==s?void 0:s.ulbId)&&!!(null==s?void 0:s.moduleId)}});e.useEffect(()=>{const e=e=>{var s;!e.altKey||"s"!==e.key&&"S"!==e.key||(e.preventDefault(),e.stopPropagation(),null==(s=o.current)||s.focus())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]);const x=(null==(r=null==(a=null==u?void 0:u.data)?void 0:a.data)?void 0:r.filter(e=>{var s;return null==(s=e.services)?void 0:s.toLowerCase().includes(l.toLowerCase())}))||[],h=x.filter(e=>"active"===i?!0===e.permission_status:"inactive"!==i||!1===e.permission_status),p=x.filter(e=>e.permission_status).length,g=x.filter(e=>!e.permission_status).length;return t.jsxs("div",{className:"flex flex-col gap-6 p-4",children:[t.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-primary/10 text-primary",children:t.jsx(de,{className:"h-5 w-5"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Service Restrictions"}),t.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:"Manage access to specific services with quick toggle"})]})]}),t.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[t.jsxs("div",{className:"flex items-center gap-2 rounded-xl border bg-muted/30 p-1",children:[t.jsxs(la,{variant:"ghost",size:"sm",onClick:()=>d("all"),className:Ht("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","all"===i?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[t.jsx(W,{className:"h-3 w-3"}),"All (",x.length,")"]}),t.jsxs(la,{variant:"ghost",size:"sm",onClick:()=>d("active"),className:Ht("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","active"===i?"bg-primary text-white shadow-sm hover:bg-primary":"text-muted-foreground hover:text-foreground"),children:[t.jsx(B,{className:"h-3 w-3"}),"Restricted (",p,")"]}),t.jsxs(la,{variant:"ghost",size:"sm",onClick:()=>d("inactive"),className:Ht("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","inactive"===i?"bg-muted text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[t.jsx(F,{className:"h-3 w-3"}),"Allowed (",g,")"]})]}),t.jsxs("div",{className:"relative flex items-center",children:[t.jsx(M,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),t.jsx("input",{ref:o,type:"text",placeholder:"Search services...",value:l,onChange:e=>n(e.target.value),className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-20 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20 sm:w-64"}),t.jsx("div",{className:"absolute right-2.5 hidden items-center gap-1 sm:flex",children:t.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[t.jsx("span",{className:"text-xs",children:"Alt"}),"S"]})})]})]})]}),u.isLoading?t.jsx("div",{className:"flex h-64 items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx(br,{}),t.jsx("p",{className:"mt-4 text-xs font-medium text-muted-foreground",children:"Loading services..."})]})}):t.jsx(t.Fragment,{children:0===h.length?t.jsx(or,{className:"overflow-hidden rounded-2xl border bg-card shadow-sm",children:t.jsx(ur,{className:"p-12",children:t.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[t.jsx("div",{className:"mb-3 flex h-16 w-16 items-center justify-center rounded-full bg-muted/50",children:t.jsx(de,{className:"h-8 w-8 text-muted-foreground/30"})}),t.jsx("h4",{className:"text-sm font-bold text-foreground",children:"No services found"}),t.jsx("p",{className:"text-[11px] text-muted-foreground",children:l||"all"!==i?"Try adjusting your filters or search criteria":"No services available for this module"})]})})}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:t.jsx(A,{mode:"popLayout",children:h.map((e,a)=>{const r=e.permission_status;return t.jsx(L.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2,delay:.02*a},children:t.jsx(or,{className:Ht("group overflow-hidden rounded-xl border transition-all hover:shadow-md",r?"border-primary/20 bg-primary/5":"border-border bg-card hover:border-primary/30"),children:t.jsx(ur,{className:"p-4",children:t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsx("div",{className:Ht("flex h-10 w-10 items-center justify-center rounded-lg transition-all",r?"bg-primary/20 text-primary":"bg-muted text-muted-foreground group-hover:bg-primary/10 group-hover:text-primary"),children:r?t.jsx(B,{className:"h-5 w-5"}):t.jsx(F,{className:"h-5 w-5"})}),t.jsx(_r,{checked:r,onCheckedChange:t=>(async(e,t)=>{var a,r,l;try{const n={ulbId:null==s?void 0:s.ulbId,moduleId:null==s?void 0:s.moduleId,serviceList:[{permissionStatus:t,serviceId:e}]},i=await m.mutateAsync({api:null==Sa?void 0:Sa.addRemoveServiceByUlbModule,data:n});(null==(a=null==i?void 0:i.data)?void 0:a.status)?(c.success((null==(r=null==i?void 0:i.data)?void 0:r.message)||"Permission updated successfully"),u.refetch()):c.error((null==(l=null==i?void 0:i.data)?void 0:l.message)||"Failed to update permission")}catch(n){c.error(Ca(n))}})(e.id,t),disabled:m.isPending,className:"data-[state=checked]:bg-primary"})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"line-clamp-2 text-sm font-bold text-foreground",children:e.services}),t.jsx("p",{className:"mt-1 font-mono text-[10px] text-muted-foreground",children:e.path})]}),t.jsx("div",{children:t.jsx("span",{className:Ht("text-[10px] font-bold uppercase tracking-wider",r?"text-primary":"text-muted-foreground"),children:r?"Restricted":"Allowed"})})]})})})},e.id)})})}),t.jsxs("div",{className:"flex flex-col gap-2 rounded-xl border bg-muted/20 px-4 py-3 sm:flex-row sm:items-center sm:justify-between",children:[t.jsxs("span",{className:"text-xs font-bold uppercase tracking-widest text-muted-foreground",children:["Showing: ",h.length," of ",x.length," ","Services"]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"h-2 w-2 rounded-full bg-primary"}),t.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Restricted: ",p]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"h-2 w-2 rounded-full bg-muted-foreground"}),t.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Allowed: ",g]})]})]})]})]})})]})}function Hl(){var s,a;const r=u(),[l]=S(),n=l.get("ulb_id"),i=l.get("ulb_name"),[d,o]=e.useState(""),[m,x]=e.useState("all"),h=e.useRef(null),[p,g]=e.useState(!1),[f,v]=e.useState(null),[b,j]=e.useState(""),N=dr({}),y=ir({api:null==Sa?void 0:Sa.getModuleByUlbId,key:"permittedModuleListByUlb",config:{ulbId:n},options:{enabled:!!n}});e.useEffect(()=>{const e=e=>{var s;!e.altKey||"s"!==e.key&&"S"!==e.key||(e.preventDefault(),e.stopPropagation(),null==(s=h.current)||s.focus())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]);const w=(null==(a=null==(s=null==y?void 0:y.data)?void 0:s.data)?void 0:a.filter(e=>{var s;return null==(s=e.module_name)?void 0:s.toLowerCase().includes(d.toLowerCase())}))||[],k=w.filter(e=>"active"===m?!0===e.permission_status:"inactive"!==m||!1===e.permission_status),R=w.filter(e=>e.permission_status).length,I=w.filter(e=>!e.permission_status).length;return t.jsxs("div",{children:[t.jsx(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:t.jsxs(or,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[t.jsx("div",{className:"border-b bg-muted/30 p-4",children:t.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs(la,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"flex items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[t.jsx(C,{className:"h-4 w-4"}),"Back"]}),t.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Permitted Modules"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("span",{className:"text-sm text-muted-foreground",children:["ULB:"," ",t.jsx("span",{className:"font-semibold text-purple-600",children:i})]}),t.jsxs("div",{className:"inline-block rounded-full bg-purple-600/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-purple-600",children:[w.length," Modules"]})]})]})]}),t.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[t.jsxs("div",{className:"flex items-center gap-2 rounded-xl border bg-muted/30 p-1",children:[t.jsxs(la,{variant:"ghost",size:"sm",onClick:()=>x("all"),className:Ht("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","all"===m?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[t.jsx(W,{className:"h-3 w-3"}),"All (",w.length,")"]}),t.jsxs(la,{variant:"ghost",size:"sm",onClick:()=>x("active"),className:Ht("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","active"===m?"bg-purple-600 text-white shadow-sm hover:bg-purple-600":"text-muted-foreground hover:text-foreground"),children:[t.jsx(B,{className:"h-3 w-3"}),"Active (",R,")"]}),t.jsxs(la,{variant:"ghost",size:"sm",onClick:()=>x("inactive"),className:Ht("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","inactive"===m?"bg-muted text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[t.jsx(F,{className:"h-3 w-3"}),"Inactive (",I,")"]})]}),t.jsxs("div",{className:"relative flex items-center",children:[t.jsx(M,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),t.jsx("input",{ref:h,type:"text",placeholder:"Search modules...",value:d,onChange:e=>o(e.target.value),className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-20 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20 sm:w-64"}),t.jsx("div",{className:"absolute right-2.5 hidden items-center gap-1 sm:flex",children:t.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[t.jsx("span",{className:"text-xs",children:"Alt"}),"S"]})})]})]})]})}),t.jsx(ur,{className:"p-6",children:y.isLoading?t.jsx("div",{className:"flex h-64 items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx(br,{}),t.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading modules..."})]})}):t.jsx(t.Fragment,{children:0===k.length?t.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[t.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:t.jsx(de,{className:"h-12 w-12 text-muted-foreground/40"})}),t.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No modules found"}),t.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:d||"all"!==m?"Try adjusting your filters or search criteria":"No modules available for this ULB yet."})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:t.jsx(A,{mode:"popLayout",children:k.map((e,s)=>{const a=e.permission_status;return t.jsx(L.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2,delay:.02*s},children:t.jsx(or,{className:Ht("group overflow-hidden rounded-xl border transition-all hover:shadow-md",a?"border-purple-500/20 bg-purple-500/5":"border-border bg-card hover:border-primary/30"),children:t.jsx(ur,{className:"p-4",children:t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsx("div",{className:Ht("flex h-10 w-10 items-center justify-center rounded-lg transition-all",a?"bg-purple-500/20 text-purple-600":"bg-muted text-muted-foreground group-hover:bg-primary/10 group-hover:text-primary"),children:t.jsx(de,{className:"h-5 w-5"})}),t.jsx(_r,{checked:a,onCheckedChange:s=>(async(e,s)=>{var t,a,r;try{const l={ulbId:n,moduleList:[{permissionStatus:s,moduleId:e}]},i=await N.mutateAsync({api:null==Sa?void 0:Sa.addRemoveModuleToUlb,data:l});(null==(t=null==i?void 0:i.data)?void 0:t.status)?(c.success((null==(a=null==i?void 0:i.data)?void 0:a.message)||"Permission updated successfully"),y.refetch()):c.error((null==(r=null==i?void 0:i.data)?void 0:r.message)||"Failed to update permission")}catch(l){c.error(Ca(l))}})(e.id,s),disabled:N.isPending,className:"data-[state=checked]:bg-purple-600"})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"line-clamp-2 text-sm font-bold text-foreground",children:e.module_name}),t.jsx("p",{className:"mt-1 font-mono text-[10px] text-muted-foreground",children:e.url||"/"})]}),t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsx("span",{className:Ht("text-[10px] font-bold uppercase tracking-wider",a?"text-purple-600":"text-muted-foreground"),children:a?"Active":"Inactive"}),a&&t.jsxs(la,{variant:"ghost",size:"sm",onClick:()=>{return v(s=e),j(s.id),void g(!0);var s},className:"h-7 gap-1 px-2 text-[10px] font-bold text-primary hover:bg-primary/10",children:[t.jsx($,{className:"h-3 w-3"}),"Services"]})]})]})})})},e.id)})})}),t.jsxs("div",{className:"mt-6 flex flex-col gap-2 rounded-xl border bg-muted/20 px-4 py-3 sm:flex-row sm:items-center sm:justify-between",children:[t.jsxs("span",{className:"text-xs font-bold uppercase tracking-widest text-muted-foreground",children:["Showing: ",k.length," of"," ",w.length," Modules"]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"h-2 w-2 rounded-full bg-purple-500"}),t.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Active: ",R]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"h-2 w-2 rounded-full bg-muted-foreground"}),t.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Inactive: ",I]})]})]})]})]})})})]})}),t.jsx(Xa,{open:p,onOpenChange:g,children:t.jsxs(tr,{className:"flex h-[80%] w-[70%] mx-auto my-auto max-w-none flex-col overflow-hidden rounded-none border-none p-0 shadow-none duration-0",children:[t.jsx(ar,{className:"shrink-0 border-b bg-muted/30 px-8 py-4",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs(la,{variant:"ghost",size:"sm",onClick:()=>g(!1),className:"flex h-10 items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[t.jsx(C,{className:"h-4 w-4"}),"Back"]}),t.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),t.jsx("div",{className:"rounded-xl bg-primary/10 p-3 text-primary ring-1 ring-primary/20",children:t.jsx(de,{size:24})}),t.jsxs("div",{children:[t.jsx(rr,{className:"text-2xl font-black tracking-tight text-foreground",children:"Service Management"}),t.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[t.jsxs("span",{className:"text-xs font-bold uppercase tracking-widest text-muted-foreground",children:["ULB: ",t.jsx("span",{className:"text-primary",children:i})]}),t.jsx("div",{className:"h-1 w-1 rounded-full bg-muted-foreground/30"}),t.jsxs("span",{className:"text-xs font-bold uppercase tracking-widest text-muted-foreground",children:["Module:"," ",t.jsx("span",{className:"text-primary",children:null==f?void 0:f.module_name})]})]})]})]})}),t.jsx("div",{className:"flex-1 overflow-auto px-8 py-6",children:t.jsxs(wl,{defaultValue:"restricted",className:"w-full",children:[t.jsx(kl,{className:"mb-6 h-12 rounded-xl bg-muted p-1",children:t.jsx(Sl,{value:"restricted",className:"rounded-lg px-8 py-2 text-xs font-black uppercase tracking-widest data-[state=active]:bg-background data-[state=active]:text-primary data-[state=active]:shadow-sm",children:"Restricted Services"})}),t.jsx(Ll,{value:"restricted",className:"mt-0 transition-all",children:t.jsx("div",{className:"overflow-hidden rounded-2xl border bg-card shadow-sm",children:t.jsx(ql,{ulbId:n,moduleId:b,viewService:f})})})]})})]})})]})}function Vl(){return t.jsx(nr,{title:"Manage All Ulb Here.",children:t.jsx(Hl,{})})}function Kl(s){var a,r;const[l,n]=e.useState(""),[i,d]=e.useState("all"),o=e.useRef(null),m=dr({}),u=ir({api:null==Sa?void 0:Sa.userPermittedRoles,key:"userPermittedRoles",config:{userId:null==s?void 0:s.id},options:{enabled:!0}});e.useEffect(()=>{const e=e=>{var s;!e.altKey||"s"!==e.key&&"S"!==e.key||(e.preventDefault(),e.stopPropagation(),null==(s=o.current)||s.focus())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]);const x=(null==(r=null==(a=null==u?void 0:u.data)?void 0:a.data)?void 0:r.filter(e=>e.menu_role_name.toLowerCase().includes(l.toLowerCase())))||[],h=x.filter(e=>"active"===i?!0===e.permission_status:"inactive"!==i||!1===e.permission_status),p=x.filter(e=>e.permission_status).length,g=x.filter(e=>!e.permission_status).length;return t.jsxs("div",{className:"flex flex-col gap-6",children:[t.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-blue-600/10 text-blue-600",children:t.jsx(Z,{className:"h-5 w-5"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Role Permissions"}),t.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:"Manage menu access roles with quick toggle"})]})]}),t.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[t.jsxs("div",{className:"flex items-center gap-2 rounded-xl border bg-muted/30 p-1",children:[t.jsxs(la,{variant:"ghost",size:"sm",onClick:()=>d("all"),className:Ht("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","all"===i?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[t.jsx(W,{className:"h-3 w-3"}),"All (",x.length,")"]}),t.jsxs(la,{variant:"ghost",size:"sm",onClick:()=>d("active"),className:Ht("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","active"===i?"bg-green-600 text-white shadow-sm hover:bg-green-600":"text-muted-foreground hover:text-foreground"),children:[t.jsx(B,{className:"h-3 w-3"}),"Active (",p,")"]}),t.jsxs(la,{variant:"ghost",size:"sm",onClick:()=>d("inactive"),className:Ht("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","inactive"===i?"bg-muted text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[t.jsx(F,{className:"h-3 w-3"}),"Inactive (",g,")"]})]}),t.jsxs("div",{className:"relative flex items-center",children:[t.jsx(M,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),t.jsx("input",{ref:o,type:"text",placeholder:"Search roles...",value:l,onChange:e=>n(e.target.value),className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-20 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20 sm:w-64"}),t.jsx("div",{className:"absolute right-2.5 hidden items-center gap-1 sm:flex",children:t.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[t.jsx("span",{className:"text-xs",children:"Alt"}),"S"]})})]})]})]}),u.isLoading?t.jsx("div",{className:"flex h-64 items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx(br,{}),t.jsx("p",{className:"mt-4 text-xs font-medium text-muted-foreground",children:"Loading permissions..."})]})}):t.jsx(t.Fragment,{children:0===h.length?t.jsx(or,{className:"overflow-hidden rounded-2xl border bg-card shadow-sm",children:t.jsx(ur,{className:"p-12",children:t.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[t.jsx("div",{className:"mb-3 flex h-16 w-16 items-center justify-center rounded-full bg-muted/50",children:t.jsx(Z,{className:"h-8 w-8 text-muted-foreground/30"})}),t.jsx("h4",{className:"text-sm font-bold text-foreground",children:"No roles found"}),t.jsx("p",{className:"text-[11px] text-muted-foreground",children:l||"all"!==i?"Try adjusting your filters or search criteria":"No roles available for this user"})]})})}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:t.jsx(A,{mode:"popLayout",children:h.map((e,a)=>{const r=e.permission_status;return t.jsx(L.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2,delay:.02*a},children:t.jsx(or,{className:Ht("group overflow-hidden rounded-xl border transition-all hover:shadow-md",r?"border-green-500/20 bg-green-500/5":"border-border bg-card hover:border-primary/30"),children:t.jsx(ur,{className:"p-4",children:t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsx("div",{className:Ht("flex h-10 w-10 items-center justify-center rounded-lg transition-all",r?"bg-green-500/20 text-green-600":"bg-muted text-muted-foreground group-hover:bg-primary/10 group-hover:text-primary"),children:r?t.jsx(B,{className:"h-5 w-5"}):t.jsx(F,{className:"h-5 w-5"})}),t.jsx(_r,{checked:r,onCheckedChange:t=>(async(e,t)=>{var a,r,l;try{const n={userId:null==s?void 0:s.id,permissionStatus:t,menuRoleId:e},i=await m.mutateAsync({api:null==Sa?void 0:Sa.addMenuRoleUser,data:n});(null==(a=null==i?void 0:i.data)?void 0:a.status)?(c.success((null==(r=null==i?void 0:i.data)?void 0:r.message)||"Permission updated successfully"),u.refetch()):c.error((null==(l=null==i?void 0:i.data)?void 0:l.message)||"Failed to update permission")}catch(n){c.error(Ca(n))}})(e.id,t),disabled:m.isPending,className:"data-[state=checked]:bg-green-600"})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"line-clamp-2 text-sm font-bold text-foreground",children:e.menu_role_name}),t.jsx("p",{className:Ht("mt-1 text-[10px] font-bold uppercase tracking-wider",r?"text-green-600":"text-muted-foreground"),children:r?"Active":"Inactive"})]})]})})})},e.id)})})}),t.jsxs("div",{className:"flex flex-col gap-2 rounded-xl border bg-muted/20 px-4 py-3 sm:flex-row sm:items-center sm:justify-between",children:[t.jsxs("span",{className:"text-xs font-bold uppercase tracking-widest text-muted-foreground",children:["Showing: ",h.length," of ",x.length," ","Roles"]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500"}),t.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Active: ",p]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"h-2 w-2 rounded-full bg-muted-foreground"}),t.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Inactive: ",g]})]})]})]})]})})]})}function Yl(s){var a,r;const[l,n]=e.useState(""),[i,d]=e.useState("all"),o=e.useRef(null),m=dr({}),u=ir({api:null==Sa?void 0:Sa.permittedWardByUser,key:"permittedWardByUser",config:{userId:null==s?void 0:s.id},options:{enabled:!0}});e.useEffect(()=>{const e=e=>{var s;!e.altKey||"s"!==e.key&&"S"!==e.key||(e.preventDefault(),e.stopPropagation(),null==(s=o.current)||s.focus())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]);const x=(null==(r=null==(a=null==u?void 0:u.data)?void 0:a.data)?void 0:r.filter(e=>(null==e?void 0:e.ward_name)==l||""==l))||[],h=x.filter(e=>"active"===i?!0===e.permission_status:"inactive"!==i||!1===e.permission_status),p=x.filter(e=>e.permission_status).length,g=x.filter(e=>!e.permission_status).length,f=async e=>{var t,a,r;try{const l={userId:null==s?void 0:s.id,wardList:x.map(s=>({wardId:s.id,permissionStatus:e}))},n=await m.mutateAsync({api:null==Sa?void 0:Sa.addRemoveWard,data:l});(null==(t=null==n?void 0:n.data)?void 0:t.status)?(c.success((null==(a=null==n?void 0:n.data)?void 0:a.message)||(e?"Selected":"Removed")+" all wards successfully"),u.refetch()):c.error((null==(r=null==n?void 0:n.data)?void 0:r.message)||"Failed to update permissions")}catch(l){c.error(Ca(l))}};return t.jsxs("div",{className:"flex flex-col gap-6",children:[t.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-amber-600/10 text-amber-600",children:t.jsx(Q,{className:"h-5 w-5"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Ward Permissions"}),t.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:"Manage geographical ward access with quick toggle"})]})]}),t.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(la,{variant:"outline",size:"sm",className:"gap-2 border-emerald-600/20 bg-emerald-600/10 text-emerald-600 hover:bg-emerald-600 hover:text-white",onClick:()=>f(!0),disabled:m.isPending,children:[t.jsx(he,{className:"h-3 w-3"}),"Select All"]}),t.jsxs(la,{variant:"outline",size:"sm",className:"gap-2 border-red-600/20 bg-red-600/10 text-red-600 hover:bg-red-600 hover:text-white",onClick:()=>f(!1),disabled:m.isPending,children:[t.jsx(pe,{className:"h-3 w-3"}),"Remove All"]})]}),t.jsxs("div",{className:"flex items-center gap-2 rounded-xl border bg-muted/30 p-1",children:[t.jsxs(la,{variant:"ghost",size:"sm",onClick:()=>d("all"),className:Ht("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","all"===i?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[t.jsx(W,{className:"h-3 w-3"}),"All (",x.length,")"]}),t.jsxs(la,{variant:"ghost",size:"sm",onClick:()=>d("active"),className:Ht("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","active"===i?"bg-green-600 text-white shadow-sm hover:bg-green-600":"text-muted-foreground hover:text-foreground"),children:[t.jsx(B,{className:"h-3 w-3"}),"Active (",p,")"]}),t.jsxs(la,{variant:"ghost",size:"sm",onClick:()=>d("inactive"),className:Ht("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","inactive"===i?"bg-muted text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[t.jsx(F,{className:"h-3 w-3"}),"Inactive (",g,")"]})]}),t.jsxs("div",{className:"relative flex items-center",children:[t.jsx(M,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),t.jsx("input",{ref:o,type:"text",placeholder:"Search wards...",value:l,onChange:e=>n(e.target.value),className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-20 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20 sm:w-64"}),t.jsx("div",{className:"absolute right-2.5 hidden items-center gap-1 sm:flex",children:t.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[t.jsx("span",{className:"text-xs",children:"Alt"}),"S"]})})]})]})]}),u.isLoading?t.jsx("div",{className:"flex h-64 items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx(br,{}),t.jsx("p",{className:"mt-4 text-xs font-medium text-muted-foreground",children:"Loading permissions..."})]})}):t.jsx(t.Fragment,{children:0===h.length?t.jsx(or,{className:"overflow-hidden rounded-2xl border bg-card shadow-sm",children:t.jsx(ur,{className:"p-12",children:t.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[t.jsx("div",{className:"mb-3 flex h-16 w-16 items-center justify-center rounded-full bg-muted/50",children:t.jsx(Q,{className:"h-8 w-8 text-muted-foreground/30"})}),t.jsx("h4",{className:"text-sm font-bold text-foreground",children:"No wards found"}),t.jsx("p",{className:"text-[11px] text-muted-foreground",children:l||"all"!==i?"Try adjusting your filters or search criteria":"No wards available for this user"})]})})}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:t.jsx(A,{mode:"popLayout",children:h.map((e,a)=>{const r=e.permission_status;return t.jsx(L.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2,delay:.02*a},children:t.jsx(or,{className:Ht("group overflow-hidden rounded-xl border transition-all hover:shadow-md",r?"border-green-500/20 bg-green-500/5":"border-border bg-card hover:border-primary/30"),children:t.jsx(ur,{className:"p-4",children:t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsx("div",{className:Ht("flex h-10 w-10 items-center justify-center rounded-lg transition-all",r?"bg-green-500/20 text-green-600":"bg-muted text-muted-foreground group-hover:bg-primary/10 group-hover:text-primary"),children:r?t.jsx(B,{className:"h-5 w-5"}):t.jsx(F,{className:"h-5 w-5"})}),t.jsx(_r,{checked:r,onCheckedChange:t=>(async(e,t)=>{var a,r,l;try{const n={userId:null==s?void 0:s.id,wardList:[{permissionStatus:t,wardId:e}]},i=await m.mutateAsync({api:null==Sa?void 0:Sa.addRemoveWard,data:n});(null==(a=null==i?void 0:i.data)?void 0:a.status)?(c.success((null==(r=null==i?void 0:i.data)?void 0:r.message)||"Permission updated successfully"),u.refetch()):c.error((null==(l=null==i?void 0:i.data)?void 0:l.message)||"Failed to update permission")}catch(n){c.error(Ca(n))}})(e.id,t),disabled:m.isPending,className:"data-[state=checked]:bg-green-600"})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"line-clamp-2 text-sm font-bold text-foreground",children:e.ward_name}),t.jsx("p",{className:Ht("mt-1 text-[10px] font-bold uppercase tracking-wider",r?"text-green-600":"text-muted-foreground"),children:r?"Active":"Inactive"})]})]})})})},e.id)})})}),t.jsxs("div",{className:"flex flex-col gap-2 rounded-xl border bg-muted/20 px-4 py-3 sm:flex-row sm:items-center sm:justify-between",children:[t.jsxs("span",{className:"text-xs font-bold uppercase tracking-widest text-muted-foreground",children:["Showing: ",h.length," of ",x.length," ","Wards"]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500"}),t.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Active: ",p]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"h-2 w-2 rounded-full bg-muted-foreground"}),t.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Inactive: ",g]})]})]})]})]})})]})}function Zl(s){var a,r;const[l,n]=e.useState(""),[i,d]=e.useState("all"),o=e.useRef(null),m=dr({}),u=ir({api:null==Sa?void 0:Sa.workFlowRoleByUser,key:"permittedworkFlowRoleByUser",config:{userId:null==s?void 0:s.id},options:{enabled:!0}});e.useEffect(()=>{const e=e=>{var s;!e.altKey||"s"!==e.key&&"S"!==e.key||(e.preventDefault(),e.stopPropagation(),null==(s=o.current)||s.focus())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]);const x=(null==(r=null==(a=null==u?void 0:u.data)?void 0:a.data)?void 0:r.filter(e=>e.role_name.toLowerCase().includes(l.toLowerCase())))||[],h=x.filter(e=>"active"===i?!0===e.permission_status:"inactive"!==i||!1===e.permission_status),p=x.filter(e=>e.permission_status).length,g=x.filter(e=>!e.permission_status).length,f=async(e,t)=>{var a,r,l;try{const n={permissionStatus:t,userId:null==s?void 0:s.id,wfRoleId:e},i=await m.mutateAsync({api:null==Sa?void 0:Sa.AddRemoveWorkFlowRoleByUser,data:n});(null==(a=null==i?void 0:i.data)?void 0:a.status)?(c.success((null==(r=null==i?void 0:i.data)?void 0:r.message)||"Permission updated successfully"),u.refetch()):c.error((null==(l=null==i?void 0:i.data)?void 0:l.message)||"Failed to update permission")}catch(n){c.error(Ca(n))}};return t.jsxs("div",{className:"flex flex-col gap-6",children:[t.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-violet-600/10 text-violet-600",children:t.jsx(T,{className:"h-5 w-5"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Workflow Roles"}),t.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:"Assign process and approval roles with quick toggle"})]})]}),t.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[t.jsxs("div",{className:"flex items-center gap-2 rounded-xl border bg-muted/30 p-1",children:[t.jsxs(la,{variant:"ghost",size:"sm",onClick:()=>d("all"),className:Ht("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","all"===i?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[t.jsx(W,{className:"h-3 w-3"}),"All (",x.length,")"]}),t.jsxs(la,{variant:"ghost",size:"sm",onClick:()=>d("active"),className:Ht("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","active"===i?"bg-violet-600 text-white shadow-sm hover:bg-violet-600":"text-muted-foreground hover:text-foreground"),children:[t.jsx(B,{className:"h-3 w-3"}),"Active (",p,")"]}),t.jsxs(la,{variant:"ghost",size:"sm",onClick:()=>d("inactive"),className:Ht("h-8 gap-2 rounded-lg px-3 text-xs font-bold transition-all","inactive"===i?"bg-muted text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[t.jsx(F,{className:"h-3 w-3"}),"Inactive (",g,")"]})]}),t.jsxs("div",{className:"relative flex items-center",children:[t.jsx(M,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),t.jsx("input",{ref:o,type:"text",placeholder:"Search workflow roles...",value:l,onChange:e=>n(e.target.value),className:"h-10 w-full rounded-xl border border-border bg-background pl-10 pr-20 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20 sm:w-64"}),t.jsx("div",{className:"absolute right-2.5 hidden items-center gap-1 sm:flex",children:t.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[t.jsx("span",{className:"text-xs",children:"Alt"}),"S"]})})]})]})]}),u.isLoading?t.jsx("div",{className:"flex h-64 items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx(br,{}),t.jsx("p",{className:"mt-4 text-xs font-medium text-muted-foreground",children:"Loading permissions..."})]})}):t.jsx(t.Fragment,{children:0===h.length?t.jsx(or,{className:"overflow-hidden rounded-2xl border bg-card shadow-sm",children:t.jsx(ur,{className:"p-12",children:t.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[t.jsx("div",{className:"mb-3 flex h-16 w-16 items-center justify-center rounded-full bg-muted/50",children:t.jsx(T,{className:"h-8 w-8 text-muted-foreground/30"})}),t.jsx("h4",{className:"text-sm font-bold text-foreground",children:"No workflow roles found"}),t.jsx("p",{className:"text-[11px] text-muted-foreground",children:l||"all"!==i?"Try adjusting your filters or search criteria":"No workflow roles available for this user"})]})})}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:t.jsx(A,{mode:"popLayout",children:h.map((e,s)=>{const a=e.permission_status;return t.jsx(L.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2,delay:.02*s},children:t.jsx(or,{className:Ht("group overflow-hidden rounded-xl border transition-all hover:shadow-md",a?"border-violet-500/20 bg-violet-500/5":"border-border bg-card hover:border-primary/30"),children:t.jsx(ur,{className:"p-4",children:t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsx("div",{className:Ht("flex h-10 w-10 items-center justify-center rounded-lg transition-all",a?"bg-violet-500/20 text-violet-600":"bg-muted text-muted-foreground group-hover:bg-primary/10 group-hover:text-primary"),children:a?t.jsx(B,{className:"h-5 w-5"}):t.jsx(F,{className:"h-5 w-5"})}),t.jsx(_r,{checked:a,onCheckedChange:s=>(async(e,s)=>{try{const a=x.find(s=>s.permission_status&&s.id!==e);s&&a?c(r=>t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("p",{className:"text-sm font-bold",children:"Replace Active Workflow Role?"}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:["Only one workflow role can be active at a time. This will deactivate"," ",t.jsx("span",{className:"font-bold text-violet-600",children:a.role_name}),"."]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:async()=>{c.dismiss(r.id),await f(e,s)},className:"rounded-lg bg-violet-600 px-3 py-1.5 text-xs font-bold text-white hover:bg-violet-700",children:"Replace"}),t.jsx("button",{onClick:()=>c.dismiss(r.id),className:"rounded-lg bg-muted px-3 py-1.5 text-xs font-bold text-foreground hover:bg-muted/80",children:"Cancel"})]})]}),{duration:6e3}):await f(e,s)}catch(a){c.error(Ca(a))}})(e.id,s),disabled:m.isPending,className:"data-[state=checked]:bg-violet-600"})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"line-clamp-2 text-sm font-bold text-foreground",children:e.role_name}),t.jsx("p",{className:Ht("mt-1 text-[10px] font-bold uppercase tracking-wider",a?"text-violet-600":"text-muted-foreground"),children:a?"Active":"Inactive"})]})]})})})},e.id)})})}),t.jsxs("div",{className:"flex flex-col gap-2 rounded-xl border bg-muted/20 px-4 py-3 sm:flex-row sm:items-center sm:justify-between",children:[t.jsxs("span",{className:"text-xs font-bold uppercase tracking-widest text-muted-foreground",children:["Showing: ",h.length," of ",x.length," ","Workflow Roles"]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"h-2 w-2 rounded-full bg-violet-500"}),t.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Active: ",p]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"h-2 w-2 rounded-full bg-muted-foreground"}),t.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Inactive: ",g]})]})]})]})]})})]})}const Gl=_t().shape({userType:Ut().required("User Type is required"),name:Ut().required("Full Name is required"),mobile:Ut().matches(/^\d{10}$/,"Mobile number must be 10 digits").required("Mobile number is required"),altMobile:Ut().matches(/^\d{10}$/,"Alternate mobile number must be 10 digits").nullable(),email:Ut().email("Enter a valid email").required("Email is required"),address:Ut().required("Address is required"),photo:Ft().nullable()});function Jl({open:s,setOpen:a,title:r,edit:l,setEdit:n,adminListFun:i,id:d,ulbId:o,userListByUlbId:m}){var u;const x=dr({}),h=e.useRef(null),[p,g]=e.useState(null),f=w({defaultValues:{userType:"",name:"",mobile:"",altMobile:"",email:"",address:"",photo:null},resolver:k(Gl)}),{reset:v}=f;e.useEffect(()=>{var e,t,a;if(s){if(l&&d){const s=null==(a=null==(t=null==(e=null==m?void 0:m.data)?void 0:e.data)?void 0:t.data)?void 0:a.find(e=>e.id==d);s&&(g(s.documentUrl||null),v({userType:s.user_type||"",name:s.name||"",mobile:s.mobile||"",altMobile:s.alternateMobile||"",email:s.email||"",address:s.address||"",photo:null}))}else g(null),v({userType:"",name:"",mobile:"",altMobile:"",email:"",address:"",photo:null});f.setValue("photo",""),h.current&&(h.current.value="")}},[s,l,d,i,v]);const b=ir({api:null==Sa?void 0:Sa.createUserType,key:"createUserTypeList",options:{enabled:!0}});return t.jsx(tl,{open:s,setOpen:a,title:r,setEdit:n,edit:l,children:t.jsx("div",{className:"p-1",children:t.jsx(Nr,{methods:f,onSubmit:f.handleSubmit(async e=>{var s,t,r;try{const i=l?null==Sa?void 0:Sa.updateAdmin:null==Sa?void 0:Sa.createAdmin,u=l&&d?{...e,id:d}:{...e,ulbId:o},h=new FormData;h.append("name",u.name),h.append("mobile",u.mobile),h.append("altMobile",u.altMobile),h.append("email",u.email),h.append("address",u.address),h.append("userType",u.userType);const p=f.watch("photo");if(p)h.append("photo",p);else if(!l)return void c.error("User Image is required");l&&d&&h.append("id",d),h.append("ulbId",o||"");const g=await x.mutateAsync({api:i,data:h});(null==(s=null==g?void 0:g.data)?void 0:s.status)?(c.success(null==(t=null==g?void 0:g.data)?void 0:t.message),a(!1),n(!1),m.refetch()):c.error(null==(r=null==g?void 0:g.data)?void 0:r.message)}catch(i){c.error(Ca(i))}}),children:t.jsxs("div",{className:"flex flex-col gap-6",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-5 md:grid-cols-2",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"relative",children:t.jsx(Pr,{label:"User Type",name:"userType",data:(null==(u=null==b?void 0:b.data)?void 0:u.data.map(e=>({value:String(e),label:String(e)})))||[]})}),t.jsx("div",{className:"relative",children:t.jsx(wr,{label:"Full Name",name:"name",inputValidation:["CapitalFirstLetter","removeDoubleSpace"],placeholder:"Enter full name"})}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsx(wr,{label:"Mobile No",name:"mobile",inputValidation:["mobile","number"],placeholder:"Enter mobile"}),t.jsx(wr,{label:"Alt Mobile No",name:"altMobile",inputValidation:["mobile","number"],placeholder:"Enter alternate"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(wr,{label:"Email Address",name:"email",inputValidation:["email"],placeholder:"Enter email"}),t.jsx(wr,{label:"Physical Address",name:"address",inputValidation:["CapitalFirstLetter","removeDoubleSpace"],placeholder:"Enter permanent address"}),t.jsxs("div",{className:"rounded-xl border border-dashed border-primary/20 bg-primary/5 p-4",children:[l&&p&&!f.watch("photo")&&t.jsxs("div",{className:"mb-3 flex flex-col items-center gap-2",children:[t.jsx("p",{className:"text-[10px] font-bold uppercase tracking-wider text-muted-foreground",children:"Current Profile Image"}),t.jsx("img",{src:p,alt:"Current profile",className:"h-20 w-20 rounded-lg border-2 border-primary/20 object-cover shadow-sm"})]}),t.jsx(zr,{label:l&&p?"Update Profile Image":"User Profile Image",name:"photo"},s?"open":"closed")]})]})]}),t.jsx("div",{className:"flex items-center justify-end gap-3 border-t pt-4",children:t.jsx(kr,{isLoading:f.formState.isSubmitting,type:"submit",className:"h-11 rounded-xl bg-primary px-8 text-sm font-bold text-primary-foreground shadow-lg shadow-primary/20 transition-all hover:shadow-xl active:scale-95",children:l?"Update User Account":"Create User Account"})})]})})})})}function Ql(){var s,a,r,l,n,i,d,o,m,x;const h=u(),[p]=S(),g=p.get("ulb_id"),f=p.get("ulb_name"),v=e.useRef(null),[b,j]=e.useState(1),[N,y]=e.useState(10),w=dr({}),[k,I]=e.useState(!1),[E,P]=e.useState(""),[_,D]=e.useState(!1),[T,O]=e.useState(!1),[W,q]=e.useState(!1),[H,V]=e.useState("name"),[Y,Z]=e.useState(""),[G,J]=e.useState("");e.useEffect(()=>{const e=setTimeout(()=>{J(Y)},700);return()=>clearTimeout(e)},[Y]),e.useEffect(()=>{const e=e=>{var s;!e.altKey||"s"!==e.key&&"S"!==e.key||(e.preventDefault(),e.stopPropagation(),null==(s=v.current)||s.focus())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]);const X=ir({api:null==Sa?void 0:Sa.userListByULBId,key:"userListByUlbId",config:{ulbId:g,page:b,perPage:N,searchQuery:G,[H]:G},value:[b,N,H,G],options:{enabled:!0}});e.useEffect(()=>{G?(j(1),X.refetch()):X.refetch()},[G]);return t.jsxs("div",{className:"",children:[t.jsx(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:t.jsxs(or,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[t.jsx("div",{className:"border-b bg-muted/30 p-4",children:t.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs(la,{variant:"ghost",size:"sm",onClick:()=>h(-1),className:"flex h-10 items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[t.jsx(C,{className:"h-4 w-4"}),"Back"]}),t.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-amber-500/10 text-amber-500",children:t.jsx(K,{className:"h-6 w-6"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-foreground",children:f}),t.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-blue-600/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-blue-600",children:[(null==(a=null==(s=null==X?void 0:X.data)?void 0:s.data)?void 0:a.total)||0," Registered Users"]})]})]}),t.jsxs("div",{className:"flex w-full flex-wrap items-center gap-3 lg:w-auto",children:[t.jsxs("div",{className:"relative flex flex-1 items-center md:min-w-[350px]",children:[t.jsx(M,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),t.jsx("input",{ref:v,type:"text",value:Y,onChange:e=>{Z(e.target.value)},placeholder:"Search users...",className:"h-11 w-full rounded-xl border border-border bg-background pl-10 pr-24 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20",maxLength:"mobile"==H?10:void 0}),t.jsxs("div",{className:"absolute right-2.5 flex items-center gap-1.5",children:[t.jsx("div",{className:"hidden items-center gap-1 sm:flex",children:t.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[t.jsx("span",{className:"text-xs",children:"Alt"}),"S"]})}),t.jsx("div",{className:"mx-1 h-4 w-[1px] bg-border"}),t.jsxs("select",{value:H,onChange:e=>{return s=e.target.value,void V(s);var s},className:"h-8 cursor-pointer rounded-lg border-none bg-transparent px-2 py-0 text-xs font-semibold outline-none transition-all hover:bg-muted/50 focus:ring-0",children:[t.jsx("option",{value:"name",children:"Name"}),t.jsx("option",{value:"email",children:"Email"}),t.jsx("option",{value:"mobile",children:"Mobile"})]})]})]}),t.jsxs(la,{type:"button",onClick:()=>{P(""),D(!1),I(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[t.jsx(R,{className:"h-4 w-4"}),"Create User"]})]})]})}),t.jsxs(ur,{className:"p-0",children:[X.isLoading?t.jsx("div",{className:"flex h-64 items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx(br,{}),t.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading users..."})]})}):t.jsxs("div",{className:"overflow-x-auto",children:[t.jsxs(xr,{children:[t.jsx(hr,{children:t.jsxs(gr,{className:"border-b-2 hover:bg-transparent",children:[t.jsx(fr,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),t.jsx(fr,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"User Profile"}),t.jsx(fr,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Contact Details"}),t.jsx(fr,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"User Type"}),t.jsx(fr,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Access Status"}),t.jsx(fr,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"})]})}),t.jsx(pr,{children:t.jsx(A,{children:null==(n=null==(l=null==(r=null==X?void 0:X.data)?void 0:r.data)?void 0:l.data)?void 0:n.map((e,s)=>t.jsxs(L.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[t.jsx(vr,{className:"py-4 text-center",children:t.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:b*N-N+s+1})}),t.jsx(vr,{className:"py-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"relative",children:[t.jsx(za,{src:e.documentUrl,alt:e.name,className:"h-12 w-12 rounded-xl border-2 border-background object-cover shadow-sm"}),t.jsx("div",{className:Ht("absolute -right-1 -top-1 h-3.5 w-3.5 rounded-full border-2 border-background",e.suspended?"bg-red-500":"bg-green-500")})]}),t.jsxs("div",{children:[t.jsx("p",{className:Ht("font-bold leading-tight text-foreground",e.suspended&&"text-muted-foreground line-through opacity-60"),children:null==e?void 0:e.name}),t.jsxs("div",{className:"mt-1 flex items-center gap-1.5",children:[t.jsx(Q,{className:"h-2.5 w-2.5 text-muted-foreground"}),t.jsx("p",{className:"max-w-[150px] truncate text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:(null==e?void 0:e.address)||"No Address"})]})]})]})}),t.jsx(vr,{className:"py-4",children:t.jsxs("div",{className:"flex flex-col gap-1.5",children:[t.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-foreground/80",children:[t.jsx("div",{className:"flex h-5 w-5 items-center justify-center rounded-md bg-blue-600/10 text-blue-600",children:t.jsx(ge,{className:"h-2.5 w-2.5"})}),null==e?void 0:e.mobile]}),t.jsxs("div",{className:"flex items-center gap-2 text-[11px] font-medium text-muted-foreground",children:[t.jsx("div",{className:"flex h-5 w-5 items-center justify-center rounded-md bg-emerald-600/10 text-emerald-600",children:t.jsx(se,{className:"h-2.5 w-2.5"})}),null==e?void 0:e.email]})]})}),t.jsx(vr,{className:"py-4",children:t.jsxs("div",{className:"inline-flex items-center gap-2 rounded-lg border border-violet-600/20 bg-violet-600/10 px-2.5 py-1 text-[10px] font-bold uppercase tracking-wider text-violet-600",children:[t.jsx(fe,{className:"h-3 w-3"}),null==e?void 0:e.user_type]})}),t.jsx(vr,{className:"py-4 text-center",children:t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.jsx(_r,{checked:!(null==e?void 0:e.suspended),onCheckedChange:()=>(async(e,s)=>{var t,a,r;try{const l={id:e,isSuspended:s},n=await w.mutateAsync({api:null==Sa?void 0:Sa.enableDisableUserByModule,data:l});(null==(t=null==n?void 0:n.data)?void 0:t.status)?(c.success((null==(a=null==n?void 0:n.data)?void 0:a.message)||"Permission updated successfully"),X.refetch()):c.error((null==(r=null==n?void 0:n.data)?void 0:r.message)||"Failed to update permission")}catch(l){c.error(Ca(l))}})(e.id,!e.suspended)}),t.jsx("span",{className:Ht("inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-[9px] font-bold uppercase tracking-tighter",e.suspended?"bg-red-500/10 text-red-500":"bg-green-500/10 text-green-500"),children:e.suspended?t.jsxs(t.Fragment,{children:[t.jsx(F,{className:"h-2 w-2"})," ","Suspended"]}):t.jsxs(t.Fragment,{children:[t.jsx(B,{className:"h-2 w-2"})," ","Active"]})})]})}),t.jsx(vr,{className:"py-4",children:t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx(la,{variant:"outline",size:"sm",onClick:()=>{P(null==e?void 0:e.id),D(!0),I(!0)},className:"h-9 w-9 border-amber-600/20 bg-amber-600/10 p-0 text-amber-600 transition-all hover:bg-amber-600 hover:text-white",children:t.jsx(z,{className:"h-4 w-4"})}),t.jsxs(la,{variant:"outline",size:"sm",onClick:()=>{h(`/project-config/dashboard/ulb-list/user-list/permission?ulb_id=${g}&ulb_name=${f}`,{state:{item:e}})},className:"flex items-center gap-2 border-blue-600/20 bg-blue-600/10 text-blue-600 transition-all hover:bg-blue-600 hover:text-white",children:[t.jsx($,{className:"h-4 w-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Permissions"})]})]})})]},null==e?void 0:e.id))})})]}),t.jsx("div",{className:"border-t p-4",children:t.jsx(jr,{currentPage:b,totalItems:(null==(d=null==(i=null==X?void 0:X.data)?void 0:i.data)?void 0:d.total)||0,itemsPerPage:N,onPageChange:e=>j(e),onItemsPerPageChange:e=>{y(e),j(1)}})})]}),!X.isLoading&&0===(null==(x=null==(m=null==(o=null==X?void 0:X.data)?void 0:o.data)?void 0:m.data)?void 0:x.length)&&t.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[t.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:t.jsx(K,{className:"h-12 w-12 text-muted-foreground/40"})}),t.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No users found"}),t.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:Y?"Try adjusting your search criteria":"No users have been registered in this ULB yet."})]})]})]})}),t.jsx(Xa,{open:W,onOpenChange:q,children:t.jsxs(tr,{className:"flex h-[90vh] max-h-[90vh] max-w-[1200px] flex-col overflow-hidden border-none p-0 shadow-2xl",children:[t.jsx(ar,{className:"border-b bg-muted/30 px-8 py-6",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-blue-600/10 text-blue-600",children:t.jsx(U,{className:"h-6 w-6"})}),t.jsxs("div",{children:[t.jsx(rr,{className:"text-2xl font-bold text-foreground",children:"User Access Control"}),t.jsxs("p",{className:"text-sm font-medium text-muted-foreground",children:["Configuring permissions for"," ",t.jsx("span",{className:"font-bold text-blue-600",children:null==T?void 0:T.name})]})]})]})}),t.jsx("div",{className:"flex flex-1 flex-col overflow-hidden bg-background p-6",children:t.jsxs(Ys,{defaultValue:"ROLELIST",className:"flex flex-1 flex-col overflow-hidden",children:[t.jsx("div",{className:"mb-6 flex justify-center",children:t.jsxs(Zs,{className:"inline-flex h-11 items-center justify-center rounded-xl bg-muted p-1",children:[t.jsx(Gs,{className:"inline-flex items-center justify-center whitespace-nowrap rounded-lg px-6 py-2 text-sm font-bold transition-all data-[state=active]:bg-background data-[state=active]:text-primary data-[state=active]:shadow-sm",value:"ROLELIST",children:"Permitted Roles"}),t.jsx(Gs,{className:"inline-flex items-center justify-center whitespace-nowrap rounded-lg px-6 py-2 text-sm font-bold transition-all data-[state=active]:bg-background data-[state=active]:text-primary data-[state=active]:shadow-sm",value:"PERMITTED_WARDS",children:"Permitted Wards"}),t.jsx(Gs,{className:"inline-flex items-center justify-center whitespace-nowrap rounded-lg px-6 py-2 text-sm font-bold transition-all data-[state=active]:bg-background data-[state=active]:text-primary data-[state=active]:shadow-sm",value:"PERMITTED_WORKFLOW_ROLE",children:"Workflow Roles"})]})}),t.jsxs("div",{className:"custom-scrollbar flex-1 overflow-y-auto pr-2",children:[t.jsx(Js,{value:"ROLELIST",className:"m-0 focus-visible:outline-none",children:t.jsx(Kl,{selectedULB:T,id:E})}),t.jsx(Js,{value:"PERMITTED_WARDS",className:"m-0 focus-visible:outline-none",children:t.jsx(Yl,{selectedULB:T,id:E})}),t.jsx(Js,{value:"PERMITTED_WORKFLOW_ROLE",className:"m-0 focus-visible:outline-none",children:t.jsx(Zl,{selectedULB:T,id:E})})]})]})})]})}),t.jsx(Jl,{open:k,setOpen:I,title:_?"Update User Account":"Register New User",id:E,edit:_,setEdit:D,ulbId:g,userListByUlbId:X})]})}function Xl(){return t.jsx(nr,{title:"Manage All Ulb Here.",children:t.jsx(Ql,{})})}function en(){var e;const s=u(),[a]=S();a.get("ulb_id"),a.get("ulb_name");const r=null==(e=d().state)?void 0:e.item;return t.jsxs("div",{className:"flex h-full w-full flex-col overflow-hidden bg-background",children:[t.jsx("header",{className:"shrink-0 border-b bg-muted/30 px-8 py-4",children:t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsxs(la,{variant:"ghost",size:"sm",onClick:()=>s(-1),className:"flex h-10 items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[t.jsx(C,{className:"h-4 w-4"}),"Back"]}),t.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),t.jsxs("div",{className:"group flex cursor-pointer items-center gap-4",children:[t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-blue-600/10 text-blue-600 transition-all group-hover:bg-blue-600 group-hover:text-white",children:t.jsx(U,{className:"h-6 w-6"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-foreground transition-colors group-hover:text-primary",children:"User Access Control"}),t.jsxs("p",{className:"text-sm font-medium text-muted-foreground",children:["Configuring permissions for"," ",t.jsx("span",{className:"font-mono font-bold text-blue-600",children:r.name})]})]})]})]})}),t.jsx("main",{className:"flex flex-1 flex-col overflow-hidden p-6",children:t.jsxs(wl,{defaultValue:"ROLELIST",className:"flex flex-1 flex-col overflow-hidden",children:[t.jsx("div",{className:"mb-6 flex justify-center",children:t.jsxs(kl,{className:"inline-flex h-11 items-center justify-center rounded-xl bg-muted p-1",children:[t.jsx(Sl,{className:"inline-flex items-center justify-center whitespace-nowrap rounded-lg px-6 py-2 text-sm font-bold transition-all data-[state=active]:bg-background data-[state=active]:text-primary data-[state=active]:shadow-sm",value:"ROLELIST",children:"Permitted Roles"}),t.jsx(Sl,{className:"inline-flex items-center justify-center whitespace-nowrap rounded-lg px-6 py-2 text-sm font-bold transition-all data-[state=active]:bg-background data-[state=active]:text-primary data-[state=active]:shadow-sm",value:"PERMITTED_WARDS",children:"Permitted Wards"}),t.jsx(Sl,{className:"inline-flex items-center justify-center whitespace-nowrap rounded-lg px-6 py-2 text-sm font-bold transition-all data-[state=active]:bg-background data-[state=active]:text-primary data-[state=active]:shadow-sm",value:"PERMITTED_WORKFLOW_ROLE",children:"Workflow Roles"})]})}),t.jsxs("div",{className:"custom-scrollbar flex-1 overflow-y-auto pr-2",children:[t.jsx(Ll,{value:"ROLELIST",className:"m-0 focus-visible:outline-none",children:t.jsx(Kl,{selectedULB:r,id:r.id})}),t.jsx(Ll,{value:"PERMITTED_WARDS",className:"m-0 focus-visible:outline-none",children:t.jsx(Yl,{selectedULB:r,id:r.id})}),t.jsx(Ll,{value:"PERMITTED_WORKFLOW_ROLE",className:"m-0 focus-visible:outline-none",children:t.jsx(Zl,{selectedULB:r,id:r.id})})]})]})})]})}function sn(){return t.jsx(nr,{title:"Mange Permission Here.",children:t.jsx(en,{})})}_t().shape({ulbId:Ut(),moduleId:Ut(),complaintRefNo:Ut()});const tn=_t().shape({name:Ut().required("Full Name is required"),mobile:Ut().matches(/^\d{10}$/,"Mobile number must be 10 digits").required("Mobile number is required"),altMobile:Ut().matches(/^\d{10}$/,"Alternate mobile number must be 10 digits").nullable(),email:Ut().email("Enter a valid email").required("Email is required"),address:Ut().required("Address is required"),photo:Ft().nullable()});function an({open:s,setOpen:a,title:r,edit:l,setEdit:n,adminListFun:i,id:d,ulbId:o,adminListData:m}){const u=dr({}),x=e.useRef(null),[h,p]=e.useState(null),g=w({defaultValues:{name:"",mobile:"",altMobile:"",email:"",address:"",photo:null},resolver:k(tn)}),{reset:f}=g;e.useEffect(()=>{if(s){if(l&&d){const e=null==m?void 0:m.find(e=>e.id==d);e&&(p(e.documentUrl||null),f({name:e.name||"",mobile:e.mobile||"",altMobile:e.alternateMobile||"",email:e.email||"",address:e.address||"",photo:null}))}else p(null),f({name:"",mobile:"",altMobile:"",email:"",address:"",photo:null});g.setValue("photo",""),x.current&&(x.current.value="")}},[s,l,d,m,f]);return t.jsx(tl,{open:s,setOpen:a,title:r,setEdit:n,edit:l,children:t.jsx("div",{className:"p-1",children:t.jsx(Nr,{methods:g,onSubmit:g.handleSubmit(async e=>{var s,t,r;try{const m=l?null==Sa?void 0:Sa.updateAdmin:null==Sa?void 0:Sa.createAdmin,x=l&&d?{...e,id:d}:{...e,ulbId:o},h=new FormData;h.append("name",x.name),h.append("mobile",x.mobile),h.append("altMobile",x.altMobile),h.append("email",x.email),h.append("address",x.address);const p=g.watch("photo");if(p)h.append("photo",p);else if(!l)return void c.error("User Image is required");l&&d&&h.append("id",d),h.append("ulbId",o||"");const f=await u.mutateAsync({api:m,data:h});(null==(s=null==f?void 0:f.data)?void 0:s.status)?(c.success(null==(t=null==f?void 0:f.data)?void 0:t.message),a(!1),n(!1),i.refetch()):c.error(null==(r=null==f?void 0:f.data)?void 0:r.message)}catch(m){c.error(Ca(m))}}),children:t.jsxs("div",{className:"flex flex-col gap-6",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-5 md:grid-cols-2",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"relative",children:t.jsx(wr,{label:"Full Name",name:"name",inputValidation:["CapitalFirstLetter","removeDoubleSpace"],placeholder:"Enter full name"})}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsx(wr,{label:"Mobile No",name:"mobile",inputValidation:["mobile","number"],placeholder:"Enter mobile"}),t.jsx(wr,{label:"Alt Mobile No",name:"altMobile",inputValidation:["mobile","number"],placeholder:"Enter alternate"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(wr,{label:"Email Address",name:"email",inputValidation:["email"],placeholder:"Enter email"}),t.jsx(wr,{label:"Physical Address",name:"address",inputValidation:["CapitalFirstLetter","removeDoubleSpace"],placeholder:"Enter permanent address"})]})]}),t.jsxs("div",{className:"rounded-xl border border-dashed border-primary/20 bg-primary/5 p-4",children:[l&&h&&!g.watch("photo")&&t.jsxs("div",{className:"mb-3 flex flex-col items-center gap-2",children:[t.jsx("p",{className:"text-[10px] font-bold uppercase tracking-wider text-muted-foreground",children:"Current Profile Image"}),t.jsx("img",{src:h,alt:"Current profile",className:"h-20 w-20 rounded-lg border-2 border-primary/20 object-cover shadow-sm"})]}),t.jsx(zr,{label:l&&h?"Update Profile Image":"User Profile Image",name:"photo"},s?"open":"closed")]}),t.jsx("div",{className:"flex items-center justify-end gap-3 border-t pt-4",children:t.jsx(kr,{isLoading:g.formState.isSubmitting,type:"submit",className:"h-11 rounded-xl bg-primary px-8 text-sm font-bold text-primary-foreground shadow-lg shadow-primary/20 transition-all hover:shadow-xl active:scale-95",children:l?"Update Admin Account":"Create Admin Account"})})]})})})})}function rn(){var s,a,r,l,n,i,d,o,m,x,h,p,g,f;const v=u(),[b]=S(),j=b.get("ulb_id"),N=b.get("ulb_name"),y=e.useRef(null),[w,k]=e.useState(1),[I,E]=e.useState(10),P=dr({}),[_,D]=e.useState(!1),[T,$]=e.useState(""),[O,W]=e.useState(!1),[q,H]=e.useState("name"),[V,K]=e.useState(""),[Y,Z]=e.useState("");e.useEffect(()=>{const e=setTimeout(()=>{Z(V)},700);return()=>clearTimeout(e)},[V]),e.useEffect(()=>{const e=e=>{var s;!e.altKey||"s"!==e.key&&"S"!==e.key||(e.preventDefault(),e.stopPropagation(),null==(s=y.current)||s.focus())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]),ir({api:null==Sa?void 0:Sa.userManagementModuleList,key:"permittedModuleList",options:{enabled:!0}});const G=ir({api:null==Sa?void 0:Sa.adminList,key:"adminListFun",config:{ulbId:j,page:w,perPage:I,parameter:Y||"",filterBy:q||""},value:[w,I,q,Y],options:{enabled:!!j}});e.useEffect(()=>{Y?(k(1),G.refetch()):G.refetch()},[Y]);return t.jsxs("div",{className:"",children:[t.jsx(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:t.jsxs(or,{className:"overflow-hidden rounded-2xl border bg-card shadow-lg",children:[t.jsx("div",{className:"border-b bg-muted/30 p-4",children:t.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs(la,{variant:"ghost",size:"sm",onClick:()=>v(-1),className:"flex h-10 items-center gap-2 text-muted-foreground transition-all hover:bg-accent hover:text-foreground",children:[t.jsx(C,{className:"h-4 w-4"}),"Back"]}),t.jsx("div",{className:"mx-1 h-6 w-[1px] bg-border"}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-amber-500/10 text-amber-500",children:t.jsx(U,{className:"h-6 w-6"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-foreground",children:N||"Admin List"}),t.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-blue-600/10 px-3 py-0.5 text-[10px] font-bold uppercase tracking-wider text-blue-600",children:[(null==(a=null==(s=null==G?void 0:G.data)?void 0:s.data)?void 0:a.total)||0," Registered Admins"]})]})]}),t.jsxs("div",{className:"flex w-full flex-wrap items-center gap-3 lg:w-auto",children:[t.jsxs("div",{className:"relative flex flex-1 items-center md:min-w-[350px]",children:[t.jsx(M,{className:"absolute left-3 h-4 w-4 text-muted-foreground"}),t.jsx("input",{ref:y,type:"text",value:V,onChange:e=>{K(e.target.value)},placeholder:`Search admins by ${q}...`,className:"h-11 w-full rounded-xl border border-border bg-background pl-10 pr-24 text-sm outline-none transition-all focus:border-primary focus:ring-2 focus:ring-primary/20",maxLength:"mobile"==q?10:void 0}),t.jsxs("div",{className:"absolute right-2.5 flex items-center gap-1.5",children:[t.jsx("div",{className:"hidden items-center gap-1 sm:flex",children:t.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[t.jsx("span",{className:"text-xs",children:"Alt"}),"S"]})}),t.jsx("div",{className:"mx-1 h-4 w-[1px] bg-border"}),t.jsxs("select",{value:q,onChange:e=>{return s=e.target.value,void H(s);var s},className:"h-8 cursor-pointer rounded-lg border-none bg-transparent px-2 py-0 text-xs font-semibold outline-none transition-all hover:bg-muted/50 focus:ring-0",children:[t.jsx("option",{value:"name",children:"Name"}),t.jsx("option",{value:"email",children:"Email"}),t.jsx("option",{value:"mobile",children:"Mobile"})]})]})]}),t.jsxs(la,{type:"button",onClick:()=>{$(""),W(!1),D(!0)},className:"flex items-center gap-2 bg-primary shadow-md transition-all hover:bg-primary/90 active:scale-95",children:[t.jsx(R,{className:"h-4 w-4"}),"Create Admin"]})]})]})}),t.jsxs(ur,{className:"p-0",children:[G.isLoading?t.jsx("div",{className:"flex h-64 items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx(br,{}),t.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Loading admins..."})]})}):t.jsxs("div",{className:"overflow-x-auto",children:[t.jsxs(xr,{children:[t.jsx(hr,{children:t.jsxs(gr,{className:"border-b-2 hover:bg-transparent",children:[t.jsx(fr,{className:"w-20 text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"#"}),t.jsx(fr,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Admin Profile"}),t.jsx(fr,{className:"text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Contact Details"}),t.jsx(fr,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Status"}),t.jsx(fr,{className:"text-center text-xs font-bold uppercase tracking-wider text-foreground/70",children:"Actions"})]})}),t.jsx(pr,{children:t.jsx(A,{children:null==(n=null==(l=null==(r=null==G?void 0:G.data)?void 0:r.data)?void 0:l.data)?void 0:n.map((e,s)=>t.jsxs(L.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"group/row border-b transition-all hover:bg-muted/40",children:[t.jsx(vr,{className:"py-4 text-center",children:t.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-muted-foreground",children:w*I-I+s+1})}),t.jsx(vr,{className:"py-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"relative",children:[t.jsx(za,{src:e.documentUrl,alt:e.name,className:"h-12 w-12 rounded-xl border-2 border-background object-cover shadow-sm"}),t.jsx("div",{className:Ht("absolute -right-1 -top-1 h-3.5 w-3.5 rounded-full border-2 border-background",e.suspended?"bg-red-500":"bg-green-500")})]}),t.jsxs("div",{children:[t.jsx("p",{className:Ht("font-bold leading-tight text-foreground",e.suspended&&"text-muted-foreground line-through opacity-60"),children:null==e?void 0:e.name}),t.jsxs("div",{className:"mt-1 flex items-center gap-1.5",children:[t.jsx(Q,{className:"h-2.5 w-2.5 text-muted-foreground"}),t.jsx("p",{className:"max-w-[150px] truncate text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:(null==e?void 0:e.address)||"No Address"})]})]})]})}),t.jsx(vr,{className:"py-4",children:t.jsxs("div",{className:"flex flex-col gap-1.5",children:[t.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-foreground/80",children:[t.jsx("div",{className:"flex h-5 w-5 items-center justify-center rounded-md bg-blue-600/10 text-blue-600",children:t.jsx(ge,{className:"h-2.5 w-2.5"})}),null==e?void 0:e.mobile,(null==e?void 0:e.alternateMobile)&&t.jsxs("span",{className:"text-muted-foreground",children:["/ ",e.alternateMobile]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-[11px] font-medium text-muted-foreground",children:[t.jsx("div",{className:"flex h-5 w-5 items-center justify-center rounded-md bg-emerald-600/10 text-emerald-600",children:t.jsx(se,{className:"h-2.5 w-2.5"})}),null==e?void 0:e.email]})]})}),t.jsx(vr,{className:"py-4 text-center",children:t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.jsx(_r,{checked:!(null==e?void 0:e.suspended),onCheckedChange:()=>(async(e,s)=>{var t,a,r;try{const l={id:e,isSuspended:s},n=await P.mutateAsync({api:null==Sa?void 0:Sa.enableDisableUserByModule,data:l});(null==(t=null==n?void 0:n.data)?void 0:t.status)?(c.success((null==(a=null==n?void 0:n.data)?void 0:a.message)||"Permission updated successfully"),G.refetch()):c.error((null==(r=null==n?void 0:n.data)?void 0:r.message)||"Failed to update permission")}catch(l){c.error(Ca(l))}})(e.id,!e.suspended)}),t.jsx("span",{className:Ht("inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-[9px] font-bold uppercase tracking-tighter",e.suspended?"bg-red-500/10 text-red-500":"bg-green-500/10 text-green-500"),children:e.suspended?t.jsxs(t.Fragment,{children:[t.jsx(F,{className:"h-2 w-2"})," ","Suspended"]}):t.jsxs(t.Fragment,{children:[t.jsx(B,{className:"h-2 w-2"})," ","Active"]})})]})}),t.jsx(vr,{className:"py-4",children:t.jsx("div",{className:"flex items-center justify-center gap-2",children:t.jsx(la,{variant:"outline",size:"sm",onClick:()=>{$(null==e?void 0:e.id),W(!0),D(!0)},className:"h-9 w-9 border-amber-600/20 bg-amber-600/10 p-0 text-amber-600 transition-all hover:bg-amber-600 hover:text-white",children:t.jsx(z,{className:"h-4 w-4"})})})})]},null==e?void 0:e.id))})})]}),(null==(d=null==(i=null==G?void 0:G.data)?void 0:i.data)?void 0:d.total)>0&&t.jsx("div",{className:"border-t p-4",children:t.jsx(jr,{currentPage:w,totalItems:(null==(m=null==(o=null==G?void 0:G.data)?void 0:o.data)?void 0:m.total)||0,itemsPerPage:I,onPageChange:e=>k(e),onItemsPerPageChange:e=>{E(e),k(1)}})})]}),!G.isLoading&&0===(null==(p=null==(h=null==(x=null==G?void 0:G.data)?void 0:x.data)?void 0:h.data)?void 0:p.length)&&t.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[t.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted/50",children:t.jsx(U,{className:"h-12 w-12 text-muted-foreground/40"})}),t.jsx("h3",{className:"mb-2 text-xl font-bold text-foreground",children:"No admins found"}),t.jsx("p",{className:"max-w-sm text-sm text-muted-foreground",children:V?"Try adjusting your search criteria":"No admins have been registered in this ULB yet."})]})]})]})}),t.jsx(an,{open:_,setOpen:D,title:O?"Update Admin Account":"Create Admin Account",id:T,edit:O,setEdit:W,ulbId:j,adminListFun:G,adminListData:null==(f=null==(g=null==G?void 0:G.data)?void 0:g.data)?void 0:f.data})]})}function ln(){return t.jsx(nr,{title:"Manage All Admins Here.",children:t.jsx(rn,{})})}const nn=s=>{return a=e.lazy(async()=>{try{return await s()}catch(e){}}),s=>t.jsx(e.Suspense,{fallback:t.jsx($a,{}),children:t.jsx(a,{...s})});var a},dn=nn(()=>Va(()=>import("./index-DSEGg3aR.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]))),on=nn(()=>Va(()=>import("./index-BrG5DCNE.js"),__vite__mapDeps([9,1,2,5,4,6,7,8,3]))),cn=nn(()=>Va(()=>import("./index-CzexnAZg.js"),__vite__mapDeps([10,1,2,3,5,4,6,7,8]))),mn=[{layout:"auth",pages:[{id:"1",name:"Login",path:"login",element:t.jsx(dn,{})}]},{layout:"dashboard",pages:[{id:"1",name:"Home",path:"home",element:t.jsx(on,{})},{id:"2",name:"Module List",path:"module-list",element:t.jsx(cn,{})},{id:"3",name:"Menu List",path:"module-list/menu-list",element:t.jsx(nl,{})},{id:"4",name:"Service List",path:"module-list/service-list",element:t.jsx(cl,{})},{id:"5",name:"Role List",path:"module-list/role-list",element:t.jsx(hl,{})},{id:"6",name:"Workflow List",path:"module-list/workflow-list",element:t.jsx(gl,{})},{id:"7",name:"Menu Role List",path:"module-list/role-list/manage-menu",element:t.jsx(bl,{})},{id:"8",name:"Ulb Configuration",path:"ulb-configuration",element:t.jsx($l,{})},{id:"9",name:"Ulb List",path:"ulb-list",element:t.jsx(Wl,{})},{id:"10",name:"Permitted Module",path:"ulb-list/permitted-module",element:t.jsx(Vl,{})},{id:"11",name:"User List",path:"ulb-list/user-list",element:t.jsx(Xl,{})},{id:"12",name:"Admin List",path:"ulb-list/admin-list",element:t.jsx(ln,{})},{id:"13",name:"Manage Permission",path:"ulb-list/user-list/permission",element:t.jsx(sn,{})}]},{layout:"citizen",pages:[]}];function un(){const{user:e}=Ra();return t.jsxs(ve,{children:[t.jsx(be,{path:"/project-config",element:t.jsx(h,{to:"/project-config/dashboard/home"}),index:!0}),"ADMIN"==(null==e?void 0:e.roleName)&&t.jsx(be,{path:"/project-config",element:t.jsx(h,{to:"/project-config/dashboard/home"}),index:!0}),"HRMS Employee"==(null==e?void 0:e.roleName)&&t.jsx(be,{path:"/project-config",element:t.jsx(h,{to:"/project-config/employee/employee"}),index:!0}),t.jsx(be,{path:"/project-config/citizen",element:t.jsx(Ba,{}),children:null==mn?void 0:mn.map(({layout:e,pages:s})=>"citizen"===e&&(null==s?void 0:s.map(({id:e,path:s,element:a})=>t.jsx(be,{path:s,element:a},e))))}),t.jsx(be,{path:"/project-config/auth",element:t.jsx(Wa,{children:t.jsx(Xt,{})}),children:null==mn?void 0:mn.map(({layout:e,pages:s})=>"auth"===e&&(null==s?void 0:s.map(({path:e,element:s,id:a})=>t.jsx(be,{path:e,element:s},a))))}),t.jsx(be,{path:"/project-config/dashboard",element:t.jsx(Oa,{children:t.jsx(Fa,{})}),children:null==mn?void 0:mn.map(({layout:e,pages:s})=>"dashboard"===e&&(null==s?void 0:s.map(({id:e,path:s,element:a})=>t.jsx(be,{path:s,element:a},e))))}),t.jsx(be,{path:"*",element:t.jsx(qa,{})}),t.jsx(be,{path:"",element:t.jsx(h,{to:"/project-config",replace:!0})})]})}function xn(){return t.jsxs(Zt,{children:[t.jsx(je,{position:"top-center",reverseOrder:!1,toastOptions:{}}),t.jsx(un,{})]})}const hn=new Ce;Ne.createRoot(document.getElementById("root")).render(t.jsx(ye,{FallbackComponent:({error:e})=>t.jsx(Yt,{error:e}),onError:(e,s)=>{},children:t.jsx(we,{createStore:qt,children:t.jsx(Bt,{children:t.jsx(Me,{client:hn,children:t.jsx(ke,{children:t.jsx(Wt,{defaultTheme:"light",storageKey:"vite-ui-theme",children:t.jsx(xn,{})})})})})})}));export{kr as B,or as C,tl as D,Nr as F,yr as I,nr as P,wr as R,sl as S,xr as T,Ia as a,ir as b,za as c,ka as d,Dr as e,la as f,Ca as g,ur as h,br as i,hr as j,gr as k,fr as l,Sa as m,pr as n,vr as o,Ht as p,Ja as q,dr as u};
