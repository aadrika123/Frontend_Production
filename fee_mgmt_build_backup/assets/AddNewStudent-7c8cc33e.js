import{a as H,r as a,j as s,L as O,b as r,Q as p,A as Q}from"./index-8fbc1d6c.js";import{P as T}from"./Page-080a86ca.js";import{B as U}from"./Breadcrumb-0ec2aeb5.js";import{c as J,a as n,u as K,F as W,b as X}from"./index.esm-b7202724.js";import{S as Z}from"./StudentAdd-4509456d.js";import{g as I}from"./index-c9d77209.js";import{S as c,a as m,L as k}from"./LoadingButton-e9f65630.js";import"./TextField-bdd3bed4.js";import"./index-f274be8b.js";function oe(){var g,v,y,b,f;const L=H(),[F,l]=a.useState(!1),{api_category:R,api_class:w,api_financialYear:A,api_section:C,api_add_student:z}=Q,[x,_]=a.useState(),[o,$]=a.useState(),[d,B]=a.useState(),[u,D]=a.useState(),[h,E]=a.useState(!1),j=()=>E(!h),V=J({fullName:n().required("Required"),fatherName:n().required("Required"),admissionNo:n().required("Required"),admissionDate:n().required("Required"),specialAbility:n().required("Required"),quotaId:n().required("Required")}),t=K({initialValues:{fullName:"",fatherName:"",admissionNo:"",fyId:"1",admissionDate:"",classId:"1",sectionId:"1",status:"1",gender:"1",specialAbility:"0",quotaId:"0",categoryId:"4"},onSubmit:async e=>{var N,q,S;console.log("at submit",e);try{const i=await r.post(`${z}`,e);(N=i==null?void 0:i.data)!=null&&N.status?(L("/student/view"),p.success((q=i==null?void 0:i.data)==null?void 0:q.message)):p.error((S=i==null?void 0:i.data)==null?void 0:S.message)}catch(i){p.error(i==null?void 0:i.message)}},validationSchema:V}),Y=async()=>{try{l(!0);const e=await r.post(`${w}`,{});e.status==200&&(console.log(e.data),$(e.data.data)),l(!1)}catch(e){console.log(e),l(!1)}},P=async()=>{try{l(!0);const e=await r.post(`${A}`,{});e.status==200&&(console.log(e.data),_(e.data.data)),l(!1)}catch(e){console.log(e),l(!1)}},M=async()=>{try{const e=await r.post(`${C}`,{});e.status==200&&(console.log(e.data),B(e.data.data))}catch(e){console.log(e)}},G=async()=>{try{const e=await r.post(`${R}`,{});e.status==200&&(console.log(e.data),D(e.data.data))}catch(e){console.log(e)}};return a.useEffect(()=>{Y(),P(),M(),G()},[]),s.jsxs(s.Fragment,{children:[s.jsx(Z,{isOpen:h,toggle:j,Link:"/student/view"}),s.jsxs(T,{title:"Student",pageName:"Student Entry Form",children:[s.jsx(U,{list:[{title:"Home",path:"/home"},{title:"Student List",path:"/student/view"},{title:"Student Entry",path:"/add-new-student"}]}),s.jsx("div",{className:"mt-5 mx-auto px-4",children:F?s.jsx(O,{}):s.jsx("div",{className:" w-full",children:s.jsxs("div",{className:"  rounded-lg shadow ",children:[s.jsxs("div",{className:"flex items-center justify-between py-1 px-4 border-b rounded-t bg-[#115e59]",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-100 ",children:"Student Entry Form"}),s.jsx("button",{onClick:()=>{j()},type:"button",className:'text-white bg-indigo-700 hover:bg-indigo-800 focus:ring-4 focus:ring-indigo-300 font-medium rounded-lg text-sm px-5 mt-2 py-2 mr-2 mb-2  focus:outline-none "',children:"Add Bulk"})]}),s.jsx("div",{className:"p-6 space-y-6",children:s.jsx(W,{value:t,children:s.jsxs(X,{children:[s.jsxs("div",{className:"grid grid-cols-1 gap-6 mt-4 sm:grid-cols-4",children:[s.jsx("div",{children:s.jsx(c,{label:"Financial Year",name:"fyId",formik:t,size:"sm",isRequiredLabel:!0,isBlankSelect:!0,children:x==null?void 0:x.map(e=>s.jsx("option",{value:e.id,children:e==null?void 0:e.financial_year},e.id))})}),s.jsx("div",{children:s.jsx(m,{label:"Admission Date",name:"admissionDate",type:"date",formik:t,size:"sm",isRequiredLabel:!0})}),s.jsx("div",{children:s.jsx(m,{label:"Admission No",name:"admissionNo",formik:t,size:"sm",isRequiredLabel:!0})}),s.jsx("div",{children:s.jsx(m,{label:"Full Name",name:"fullName",formik:t,size:"sm",isRequiredLabel:!0})}),s.jsx("div",{children:s.jsx(m,{label:"Father Name",name:"fatherName",formik:t,size:"sm",isRequiredLabel:!0})}),s.jsx("div",{children:s.jsx(c,{label:"Class",name:"classId",formik:t,size:"sm",isRequiredLabel:!0,children:o&&(o==null?void 0:o.map(e=>s.jsx("option",{value:e==null?void 0:e.id,children:e==null?void 0:e.class_name})))})}),s.jsx("div",{children:s.jsx(c,{label:"Section",name:"sectionId",formik:t,size:"sm",isRequiredLabel:!0,children:d&&(d==null?void 0:d.map(e=>s.jsx("option",{value:e==null?void 0:e.id,children:e==null?void 0:e.section})))})}),s.jsx("div",{children:s.jsx(c,{label:"Select Gender",name:"gender",formik:t,size:"sm",isRequiredLabel:!0,children:I&&((g=I)==null?void 0:g.map(e=>s.jsx("option",{value:e==null?void 0:e.value,children:e==null?void 0:e.name})))})}),s.jsx("div",{children:s.jsx(c,{label:"Select Category",name:"categoryId",formik:t,size:"sm",isRequiredLabel:!0,children:u&&(u==null?void 0:u.map(e=>s.jsx("option",{value:e==null?void 0:e.id,children:e==null?void 0:e.category_name})))})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text ",children:"Special Ability"}),s.jsxs("div",{className:"flex mr-2",children:[s.jsxs("div",{className:"flex items-center justify-center mt-2 text-[22px]",children:[s.jsx("input",{type:"radio",name:"specialAbility",value:"1",onChange:e=>t==null?void 0:t.setFieldValue("specialAbility",e.target.value),checked:((v=t==null?void 0:t.values)==null?void 0:v.specialAbility)==="1"}),s.jsx("span",{className:"ml-1 text-sm",children:"Yes"})]}),"    ",s.jsxs("div",{className:"flex items-center justify-center mt-2 text-[22px]",children:[s.jsx("input",{type:"radio",name:"specialAbility",value:"0",onChange:e=>t==null?void 0:t.setFieldValue("specialAbility",e.target.value),checked:((y=t==null?void 0:t.values)==null?void 0:y.specialAbility)==="0"}),s.jsx("span",{className:"ml-1 text-sm",children:"No"})]})]})]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text ",children:"Is your parent staff of this school"}),s.jsxs("div",{className:"flex mr-2",children:[s.jsxs("div",{className:"flex items-center justify-center mt-2 text-[22px]",children:[s.jsx("input",{type:"radio",name:"quotaId",value:"1",onChange:e=>t==null?void 0:t.setFieldValue("quotaId",e.target.value),checked:((b=t==null?void 0:t.values)==null?void 0:b.quotaId)==="1"}),s.jsx("span",{className:"ml-1 text-sm",children:"Yes"})]}),"    ",s.jsxs("div",{className:"flex items-center justify-center mt-2 text-[22px]",children:[s.jsx("input",{type:"radio",name:"quotaId",value:"0",onChange:e=>t==null?void 0:t.setFieldValue("quotaId",e.target.value),checked:((f=t==null?void 0:t.values)==null?void 0:f.quotaId)==="0"}),s.jsx("span",{className:"ml-1 text-sm",children:"No"})]})]})]})]}),s.jsx("hr",{className:"mt-5"}),s.jsx("div",{className:"flex justify-center mt-6",children:s.jsxs(k,{color:"primary",type:"submit",isLoading:t.isSubmitting,children:[" ","SUBMIT"," "]})})]})})})]})})})]})]})}export{oe as default};
