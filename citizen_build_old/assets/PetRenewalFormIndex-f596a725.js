import{g as I,a as c,u as k,j as s,Y as q}from"./react-304bc6bc.js";import{u as B}from"./formik.esm-b5323b56.js";import{c as M,a as d}from"./object-f873fecd.js";import{A as f}from"./index-ff45b2e2.js";import{P as G}from"./PetRegAPIList-37cb147e.js";import{c as E}from"./Context-ad911590.js";import"./BackendUrl-b545fbc2.js";const e={required:"text-red-700 font-semibold",label:"text-sm",textFiled:"block w-full h-9 border px-2 border-gray-300 rounded shadow text-gray-700",textArea:"block w-full border px-2 border-gray-300 rounded shadow"},Q=K=>{const{id:u}=I(),[o,v]=c.useState(),{notify:a}=c.useContext(E),[m,N]=c.useState(!1),[F,x]=c.useState(!1),[w,p]=c.useState(!1),[h,R]=c.useState(),b=c.useRef(),A=k(),{header:O,api_PetApproveViewApplication:S,api_PetApplyRenewalForm:V,header1:_}=G(),P=M({doctorName:d().matches(/^[a-zA-Z0-9\s,.:-]+$/,"Special characters are not allowed").required("Kindly enter a value."),doctorRegNo:d().matches(/^[a-zA-Z0-9\s,.:-]+$/,"Special characters are not allowed").required("Kindly enter a value."),dateOfRabies:d().required("Kindly enter a value."),dateOfLepVaccine:d().required("Kindly enter a value.")}),l=B({initialValues:{doctorName:"",doctorRegNo:"",dateOfRabies:"",dateOfLepVaccine:""},enableReinitialize:!0,onSubmit:(r,j)=>{L(r)},validationSchema:P}),T=r=>{r.target.name,r.target.value,p(!1)},L=r=>{x(!0);const j={address:r==null?void 0:r.address,applyThrough:r==null?void 0:r.applyThrough,propertyNo:r==null?void 0:r.holdingNo,breed:r==null?void 0:r.breed,ownerCategory:r==null?void 0:r.categoryApplication,color:r==null?void 0:r.color,dateOfLepVaccine:r==null?void 0:r.dateOfLepVaccine,dateOfRabiesVac:r==null?void 0:r.dateOfRabies,doctorName:r==null?void 0:r.doctorName,doctorRegNo:r==null?void 0:r.doctorRegNo,mobileNo:r==null?void 0:r.mobileNo,panNo:r==null?void 0:r.panNo,petBirthDate:r==null?void 0:r.petBirthDate,petFrom:r==null?void 0:r.petFrom,petGender:r==null?void 0:r.petGender,petIdentity:r==null?void 0:r.petIdentity,petName:r==null?void 0:r.petName,petType:r==null?void 0:r.petType,ulbId:r==null?void 0:r.ulb,ward:r==null?void 0:r.ward,registrationId:u,applicantName:r==null?void 0:r.applicantName,mobileNo:r==null?void 0:r.mobileNo,email:r==null?void 0:r.email,panNo:r==null?void 0:r.panNo};f.post(V,j,O).then(i=>{var n,t,g;x(!1),i.data.status?(R(i.data.data),C(),a((n=i==null?void 0:i.data)==null?void 0:n.message,"success")):(a((t=i==null?void 0:i.data)==null?void 0:t.message,"error"),p((g=i==null?void 0:i.data)==null?void 0:g.message))}).catch(i=>{var n,t;p((t=(n=i==null?void 0:i.response)==null?void 0:n.data)==null?void 0:t.error),a("Something Went wrong","error"),x(!1)})},C=()=>{b.current.showModal()};return c.useEffect(()=>{f.post(S,{registrationId:u},_).then(r=>{r.data.status&&v(r.data.data)}).catch(r=>{})},[]),s.jsxs(s.Fragment,{children:[s.jsxs("form",{onSubmit:l.handleSubmit,onChange:T,children:[s.jsxs("div",{className:"overflow-y-auto mt-5",children:[s.jsx("div",{className:"col-span-12 ml-2 my-2",children:s.jsx("div",{className:"text-lg text-left text-gray-600 font-semibold",children:"# Property Details "})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 xl:grid-cols-5  bg-white shadow-md rounded-md py-2",children:[s.jsxs("div",{className:"m-3",children:[s.jsx("label",{className:e==null?void 0:e.label,htmlFor:"ulb",children:"ULB "}),s.jsx("input",{value:o==null?void 0:o.ulb_name,disabled:!0,type:"text",name:"ulb",className:e==null?void 0:e.textFiled}),s.jsx("p",{className:"text-red-500 text-xs",children:l.touched.ulb&&l.errors.ulb?l.errors.ulb:null})]}),s.jsxs("div",{className:"m-3",children:[s.jsx("label",{className:e==null?void 0:e.label,htmlFor:"applyThrough",children:"Apply Through "}),s.jsx("input",{disabled:!0,value:o==null?void 0:o.apply_through_name,type:"text",className:e==null?void 0:e.textFiled}),s.jsx("p",{className:"text-red-500 text-xs",children:l.touched.applyThrough&&l.errors.applyThrough?l.errors.applyThrough:null})]}),s.jsxs("div",{className:"m-3",children:[s.jsx("label",{className:e==null?void 0:e.label,htmlFor:"holdingNo",children:"Holding / SAF No."}),s.jsx("input",{disabled:!0,value:(o==null?void 0:o.holding_no)==""?o==null?void 0:o.saf_no:o==null?void 0:o.holding_no,type:"text",name:"holdingNo",className:e==null?void 0:e.textFiled}),s.jsx("p",{className:"text-red-500 text-xs",children:l.touched.holdingNo&&l.errors.holdingNo?l.errors.holdingNo:null})]}),s.jsxs("div",{className:"m-3",children:[s.jsx("label",{className:e==null?void 0:e.label,htmlFor:"categoryApplication",children:"Category of Application"}),s.jsx("input",{disabled:!0,value:o==null?void 0:o.application_type,type:"text",name:"holdingNo",className:e==null?void 0:e.textFiled}),s.jsx("p",{className:"text-red-500 text-xs",children:l.touched.categoryApplication&&l.errors.categoryApplication?l.errors.categoryApplication:null})]}),s.jsxs("div",{className:"m-3",children:[s.jsx("label",{className:e==null?void 0:e.label,htmlFor:"ward",children:"Ward Number"}),s.jsx("input",{type:"text",disabled:!0,value:o==null?void 0:o.ward_name,name:"ward",className:e==null?void 0:e.textFiled}),s.jsx("p",{className:"text-red-500 text-xs",children:l.touched.ward&&l.errors.ward?l.errors.ward:null})]})]}),s.jsx("div",{className:"col-span-12 ml-2 my-2",children:s.jsx("div",{className:"text-lg text-left text-gray-600 font-semibold",children:"# Applicant Details"})}),s.jsxs("div",{className:"bg-white shadow-md rounded-md py-2",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 ",children:[s.jsxs("div",{className:"m-3",children:[s.jsx("label",{className:e==null?void 0:e.label,htmlFor:"applicantName",children:"Name of Applicant"}),s.jsx("input",{disabled:!0,value:o==null?void 0:o.applicant_name,className:e==null?void 0:e.textFiled}),s.jsx("p",{className:"text-red-500 text-xs",children:l.touched.applicantName&&l.errors.applicantName?l.errors.applicantName:null})]}),s.jsxs("div",{className:"m-3",children:[s.jsx("label",{className:e==null?void 0:e.label,htmlFor:"mobileNo",children:"Mobile No"}),s.jsx("input",{disabled:!0,value:o==null?void 0:o.mobile_no,type:"number",name:"mobileNo",className:e==null?void 0:e.textFiled}),s.jsx("p",{className:"text-red-500 text-xs",children:l.touched.mobileNo&&l.errors.mobileNo?l.errors.mobileNo:null})]}),s.jsxs("div",{className:"m-3",children:[s.jsx("label",{className:e==null?void 0:e.label,htmlFor:"email",children:"Email"}),s.jsx("input",{disabled:!0,value:o==null?void 0:o.email,type:"email",name:"email",className:e==null?void 0:e.textFiled}),s.jsx("p",{className:"text-red-500 text-xs",children:l.touched.email&&l.errors.email?l.errors.email:null})]}),s.jsxs("div",{className:"m-3",children:[s.jsx("label",{className:e==null?void 0:e.label,htmlFor:"panNo",children:"PAN No."}),s.jsx("input",{disabled:!0,value:o==null?void 0:o.pan_no,type:"text",name:"panNo",className:e==null?void 0:e.textFiled}),s.jsx("p",{className:"text-red-500 text-xs",children:l.touched.panNo&&l.errors.panNo?l.errors.panNo:null})]})]}),s.jsxs("div",{className:"m-3",children:[s.jsx("label",{className:e==null?void 0:e.label,htmlFor:"address",children:"Address"}),s.jsx("textarea",{disabled:!0,value:o==null?void 0:o.address,name:"address",maxLength:"500",rows:"3",className:e==null?void 0:e.textArea}),s.jsx("p",{className:"text-red-500 text-xs",children:l.touched.address&&l.errors.address?l.errors.address:null})]})]}),s.jsx("div",{className:"col-span-12 ml-2 my-2",children:s.jsx("div",{className:"text-lg text-left text-gray-600 font-semibold",children:"# Pet Details"})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 bg-white shadow-md rounded-md py-2",children:[s.jsxs("div",{className:"m-3",children:[s.jsx("label",{className:e==null?void 0:e.label,htmlFor:"petType",children:"Pet Type"}),s.jsx("input",{disabled:!0,value:o==null?void 0:o.ref_pet_type,className:e==null?void 0:e.textFiled}),s.jsx("p",{className:"text-red-500 text-xs",children:l.touched.petType&&l.errors.petType?l.errors.petType:null})]}),s.jsxs("div",{className:"m-3",children:[s.jsx("label",{className:e==null?void 0:e.label,htmlFor:"pet_name",children:"Name of Pet"}),s.jsx("input",{disabled:!0,value:o==null?void 0:o.pet_name,className:e==null?void 0:e.textFiled}),s.jsx("p",{className:"text-red-500 text-xs",children:l.touched.petName&&l.errors.petName?l.errors.petName:null})]}),s.jsxs("div",{className:"m-3",children:[s.jsx("label",{className:e==null?void 0:e.label,htmlFor:"petGender",children:"Gender"}),s.jsx("input",{disabled:!0,value:o==null?void 0:o.ref_gender,className:e==null?void 0:e.textFiled}),s.jsx("p",{className:"text-red-500 text-xs",children:l.touched.petGender&&l.errors.petGender?l.errors.petGender:null})]}),s.jsxs("div",{className:"m-3",children:[s.jsx("label",{className:e==null?void 0:e.label,htmlFor:"petBirthDate",children:"Date of Birth"}),s.jsx("input",{disabled:!0,value:q(o==null?void 0:o.dob).format("DD-MM-Y"),className:e==null?void 0:e.textFiled}),s.jsx("p",{className:"text-red-500 text-xs",children:l.touched.petBirthDate&&l.errors.petBirthDate?l.errors.petBirthDate:null})]}),s.jsxs("div",{className:"m-3",children:[s.jsx("label",{className:e==null?void 0:e.label,htmlFor:"breed",children:"Breed"}),s.jsx("input",{disabled:!0,value:o==null?void 0:o.breed,type:"text",name:"color",className:e==null?void 0:e.textFiled}),s.jsx("p",{className:"text-red-500 text-xs",children:l.touched.breed&&l.errors.breed?l.errors.breed:null})]}),s.jsxs("div",{className:"m-3",children:[s.jsx("label",{className:e==null?void 0:e.label,htmlFor:"color",children:"Color"}),s.jsx("input",{disabled:!0,value:o==null?void 0:o.color,type:"text",name:"color",className:e==null?void 0:e.textFiled}),s.jsx("p",{className:"text-red-500 text-xs",children:l.touched.color&&l.errors.color?l.errors.color:null})]}),s.jsxs("div",{className:"m-3",children:[s.jsxs("label",{className:e==null?void 0:e.label,htmlFor:"doctorName",children:["Veterinary Doctor Name",s.jsx("span",{className:e==null?void 0:e.required,children:"*"})]}),s.jsx("input",{...l.getFieldProps("doctorName"),type:"text",maxLength:"70",name:"doctorName",className:e==null?void 0:e.textFiled}),s.jsx("p",{className:"text-red-500 text-xs",children:l.touched.doctorName&&l.errors.doctorName?l.errors.doctorName:null})]}),s.jsxs("div",{className:"m-3",children:[s.jsxs("label",{className:e==null?void 0:e.label,htmlFor:"doctorRegNo",children:["Doctor’s MSVC/VCI number ",s.jsx("span",{className:e==null?void 0:e.required,children:"*"})]}),s.jsx("input",{...l.getFieldProps("doctorRegNo"),type:"text",maxLength:"70",name:"doctorRegNo",className:e==null?void 0:e.textFiled}),s.jsx("p",{className:"text-red-500 text-xs",children:l.touched.doctorRegNo&&l.errors.doctorRegNo?l.errors.doctorRegNo:null})]}),s.jsxs("div",{className:"m-3",children:[s.jsxs("label",{className:e==null?void 0:e.label,htmlFor:"dateOfRabies",children:["Date of Rabies",s.jsx("span",{className:e==null?void 0:e.required,children:"*"})]}),s.jsx("input",{...l.getFieldProps("dateOfRabies"),type:"date",name:"dateOfRabies",className:e==null?void 0:e.textFiled,max:new Date().toISOString().split("T")[0]}),s.jsx("p",{className:"text-red-500 text-xs",children:l.touched.dateOfRabies&&l.errors.dateOfRabies?l.errors.dateOfRabies:null})]}),s.jsxs("div",{className:"m-3",children:[s.jsxs("label",{className:e==null?void 0:e.label,htmlFor:"dateOfLepVaccine",children:["Leptospirosis Vaccination Date",s.jsx("span",{className:e==null?void 0:e.required,children:"*"})]}),s.jsx("input",{...l.getFieldProps("dateOfLepVaccine"),type:"date",name:"dateOfLepVaccine",className:e==null?void 0:e.textFiled,max:new Date().toISOString().split("T")[0]}),s.jsx("p",{className:"text-red-500 text-xs",children:l.touched.dateOfLepVaccine&&l.errors.dateOfLepVaccine?l.errors.dateOfLepVaccine:null})]}),s.jsxs("div",{className:"m-3",children:[s.jsx("label",{className:e==null?void 0:e.label,htmlFor:"petFrom",children:"Pet From"}),s.jsx("input",{disabled:!0,value:o==null?void 0:o.occurrence_types,name:"PetFrom",className:e==null?void 0:e.textFiled}),s.jsx("p",{className:"text-red-500 text-xs",children:l.touched.petFrom&&l.errors.petFrom?l.errors.petFrom:null})]})]})]}),s.jsxs("p",{className:"flex mt-3 gap-x-3",children:[s.jsx("input",{type:"checkbox",checked:m,name:"",id:"",onChange:r=>N(r.target.checked)}),s.jsx("p",{className:"cursor-pointer select-none",onClick:()=>N(!m),children:"I have entered the correct information and agree to the terms and conditions."})]}),s.jsx("p",{className:"text-red-500 font-semibold text-center mt-3",children:w}),s.jsx("div",{className:"flex justify-center my-5",children:F?s.jsx("p",{children:"Form Submitting.."}):s.jsx("button",{type:"submit",disabled:!m,className:"disabled:opacity-40 bg-indigo-600 hover:bg-indigo-700 px-8 py-2 text-white rounded shadow mb-10",children:"Submit Application"})})]}),s.jsx("dialog",{ref:b,className:"",children:s.jsxs("div",{className:"space-y-2 mb-5",children:[s.jsx("p",{className:"text-center bg-yellow-300 p-2 font-semibold ",children:" Your Application has submitted successfully"}),s.jsxs("p",{className:"text-center",children:["Application No.  ",s.jsx("span",{className:"font-semibold text-lg",children:(h==null?void 0:h.applicationNo)||"N/A"})]}),s.jsx("div",{className:"flex justify-center gap-x-5",children:s.jsx("button",{onClick:()=>A("/pet-registration-dashboard"),className:"border border-indigo-600 px-2 py-1 rounded shadow hover:bg-indigo-500 hover:text-white",children:"Dashboard"})})]})})]})};export{Q as default};
