import{a as l}from"./react-304bc6bc.js";import{I as v,R as F}from"./index-ff45b2e2.js";function z(){if(console&&console.warn){for(var n=arguments.length,e=new Array(n),s=0;s<n;s++)e[s]=arguments[s];typeof e[0]=="string"&&(e[0]=`react-i18next:: ${e[0]}`)}}const L={};function w(){for(var n=arguments.length,e=new Array(n),s=0;s<n;s++)e[s]=arguments[s];typeof e[0]=="string"&&L[e[0]]||(typeof e[0]=="string"&&(L[e[0]]=new Date),z(...e))}const R=(n,e)=>()=>{if(n.isInitialized)e();else{const s=()=>{setTimeout(()=>{n.off("initialized",s)},0),e()};n.on("initialized",s)}};function E(n,e,s){n.loadNamespaces(e,R(n,s))}function T(n,e,s,f){typeof s=="string"&&(s=[s]),s.forEach(o=>{n.options.ns.indexOf(o)<0&&n.options.ns.push(o)}),n.loadLanguages(e,R(n,f))}function H(n,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const f=e.languages[0],o=e.options?e.options.fallbackLng:!1,t=e.languages[e.languages.length-1];if(f.toLowerCase()==="cimode")return!0;const g=(y,x)=>{const r=e.services.backendConnector.state[`${y}|${x}`];return r===-1||r===2};return s.bindI18n&&s.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!g(e.isLanguageChangingTo,n)?!1:!!(e.hasResourceBundle(f,n)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||g(f,n)&&(!o||g(t,n)))}function P(n,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(w("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(n,{lng:s.lng,precheck:(o,t)=>{if(s.bindI18n&&s.bindI18n.indexOf("languageChanging")>-1&&o.services.backendConnector.backend&&o.isLanguageChangingTo&&!t(o.isLanguageChangingTo,n))return!1}}):H(n,e,s)}const $=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,A={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},B=n=>A[n],j=n=>n.replace($,B);let k={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:j};function O(){return k}let q;function J(){return q}const M=(n,e)=>{const s=l.useRef();return l.useEffect(()=>{s.current=e?s.current:n},[n,e]),s.current};function K(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:s}=e,{i18n:f,defaultNS:o}=l.useContext(v)||{},t=s||f||J();if(t&&!t.reportNamespaces&&(t.reportNamespaces=new F),!t){w("You will need to pass in an i18next instance by using initReactI18next");const a=(c,i)=>typeof i=="string"?i:i&&typeof i=="object"&&typeof i.defaultValue=="string"?i.defaultValue:Array.isArray(c)?c[c.length-1]:c,u=[a,{},!1];return u.t=a,u.i18n={},u.ready=!1,u}t.options.react&&t.options.react.wait!==void 0&&w("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const g={...O(),...t.options.react,...e},{useSuspense:y,keyPrefix:x}=g;let r=n||o||t.options&&t.options.defaultNS;r=typeof r=="string"?[r]:r||["translation"],t.reportNamespaces.addUsedNamespaces&&t.reportNamespaces.addUsedNamespaces(r);const p=(t.isInitialized||t.initializedStoreOnce)&&r.every(a=>P(a,t,g));function m(){return t.getFixedT(e.lng||null,g.nsMode==="fallback"?r:r[0],x)}const[I,h]=l.useState(m);let N=r.join();e.lng&&(N=`${e.lng}${N}`);const C=M(N),d=l.useRef(!0);l.useEffect(()=>{const{bindI18n:a,bindI18nStore:u}=g;d.current=!0,!p&&!y&&(e.lng?T(t,e.lng,r,()=>{d.current&&h(m)}):E(t,r,()=>{d.current&&h(m)})),p&&C&&C!==N&&d.current&&h(m);function c(){d.current&&h(m)}return a&&t&&t.on(a,c),u&&t&&t.store.on(u,c),()=>{d.current=!1,a&&t&&a.split(" ").forEach(i=>t.off(i,c)),u&&t&&u.split(" ").forEach(i=>t.store.off(i,c))}},[t,N]);const S=l.useRef(!0);l.useEffect(()=>{d.current&&!S.current&&h(m),S.current=!1},[t,x]);const b=[I,t,p];if(b.t=I,b.i18n=t,b.ready=p,p||!p&&!y)return b;throw new Promise(a=>{e.lng?T(t,e.lng,r,()=>a()):E(t,r,()=>a())})}export{K as u};
