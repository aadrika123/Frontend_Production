import{j as e}from"./mui-13ddac22.js";import{r as t,e as te,u as se}from"./router-07787e9d.js";import"./setBatchUpdatesFn-9583aa34.js";import{M as L}from"./index-c9914c9b.js";import"./Blocks-e95d8a92.js";import"./AgencyNotification-3d0b177a.js";import{a as oe,A as ae}from"./ReuploadDocumentModal-2f7f81b1.js";import"./index-94b9bccb.js";import{H as re}from"./HoardingApplicationFullDetail-ffbe2444.js";import{A as C,k as ie,Q as p}from"./index-d3e69d32.js";import{r as ne}from"./materialTailwind-96dbed49.js";import{B as le}from"./BrandLoader-4735ecb8.js";import{C as de}from"./CommonModal-b239bdef.js";import{S as ce}from"./ServerErrorCard-68e24f9e.js";import{A as pe}from"./ApiHeader-9c14b40d.js";import{A as he}from"./AdvtListTablePagination-8df86812.js";import"./react-df1e779d.js";import"./RazorpayPaymentScreen-f5882737.js";import"./CitizenApplyApiList-f5f1cc72.js";import"./BackendUrl-b545fbc2.js";import"./WaterApiList-6983e50b.js";import"./PowerupFunctions-b93f3ef9.js";import"./index-78a7f7bc.js";import"./formik.esm-5f465513.js";import"./ProjectApiList-b5d41cfc.js";import"./axios-67d8a945.js";import"./redux-af83932f.js";import"./i18next-e2c66b9b.js";/* empty css                  */import"./DynamicData-8912af5f.js";import"./useTranslation-7a2cbf87.js";import"./index.esm-6db88f18.js";import"./reactIcons-4e4e3f5e.js";import"./react-tooltip.min-749931aa.js";const me={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"white",border:"none"}};L.setAppElement("#root");function Xe(ue){t.useState(!1),t.useState(!1);const{api_postHoardingRenewList:E,api_archivedApplication:H}=oe();t.useState(),t.useState(!1);const[I,M]=t.useState(),[P,_]=t.useState(),[ge,O]=t.useState(!1),[R,xe]=t.useState(!1),[T,h]=t.useState(!1),k=()=>h(!0),m=()=>h(!1),F=()=>{};t.useState();const[a,B]=t.useState(!1),[u,g]=t.useState(!1),[D,i]=t.useState(!1),[V,$]=t.useState(0),[n,q]=t.useState(1),[U,x]=t.useState(0),[l,z]=t.useState(10),[d,Q]=t.useState(""),[W,f]=t.useState(!1),{id:G}=te(),J=s=>{O(s)},w=(s,o)=>{p.dismiss(),o=="success"&&p.success(s),o=="error"&&p.error(s)},K=se(),X=[{Header:"#",Cell:({row:s})=>e.jsx("div",{className:"pr-2",children:s.index+1})},{Header:"Application No",accessor:"application_no"},{Header:"Apply Date.",accessor:"application_date"},{Header:"Action",accessor:"id",Cell:({cell:s})=>e.jsx(e.Fragment,{children:e.jsxs("div",{children:[e.jsx("button",{onClick:()=>Y(s.row.values.id,"Approve"),className:`bg-indigo-500 px-3 py-1 rounded leading-5 shadow-lg hover:shadow-xl hover:bg-indigo-700 \r
                hover:text-white text-white`,children:"View"}),s.row.original.renew_option==1&&e.jsx("button",{onClick:()=>K(`/hoarding/${G}/${s.row.values.id}/renew`),className:`bg-indigo-500 px-3 py-1 ml-2 rounded leading-5 shadow-lg hover:shadow-xl hover:bg-indigo-700 \r
              hover:text-white text-white`,children:"Renew"}),s.row.original.renew_option=="Expired"&&e.jsx("button",{className:`bg-indigo-500 px-3 py-1 ml-2 rounded leading-5 shadow-lg hover:shadow-xl hover:bg-indigo-700 \r
              hover:text-white text-white`,disabled:!0,children:"Expired"}),s.row.original.renew_option=="Expired"&&e.jsx(ne.Tooltip,{className:"bg-gray-300 text-xs text-gray-900",content:"Archived",children:e.jsx("button",{onClick:()=>ee(s.row.values.id),className:`bg-indigo-500 float-right px-2 py-1 ml-2 rounded leading-5 shadow-lg hover:shadow-xl hover:bg-indigo-700 \r
              hover:text-white text-white`,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-5 h-5",children:e.jsx("path",{"fill-rule":"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.006z","clip-rule":"evenodd"})})})})]})})}],Y=(s,o)=>{_(s),M(o),k()};t.useEffect(()=>{v(n,l,d)},[n,d,l]);const v=(s,o,c="")=>{f(!0),i(!0),C.post(E,{page:s,perPage:o,key:c},pe()).then(r=>{var b,j,S,A,N,y;B((j=(b=r.data)==null?void 0:b.data)==null?void 0:j.data),g(!0),i(!1),$((A=(S=r.data)==null?void 0:S.data)==null?void 0:A.total),x((y=(N=r.data)==null?void 0:N.data)==null?void 0:y.last_page)}).catch(r=>{g(!1),i(!1)}),setTimeout(()=>{f(!1)},[500])},Z={totalDataCount:V,currentPageIndex:n,setcurrentPageIndex:q,pageLength:l,setpageLength:z,lastPageIndex:U,setlastPageIndex:x,fetchInboxList:v,searchValue:d,setsearchValue:Q,refreshStatus:W},ee=s=>{const o={applicationId:s};C.post(`${H}`,o,ae()).then(function(c){w("Archived successfully","success")}).catch(function(c){w("failed to archived","error")})};return D?e.jsx(e.Fragment,{children:e.jsx(le,{})}):R?e.jsx(de,{children:e.jsx(ce,{title:"Server is busy",desc:"Server is too busy to respond. Please try again later.",buttonText:"View Dashboard",buttonUrl:"/propertyDashboard"})}):e.jsxs(e.Fragment,{children:[e.jsx(ie,{position:"top-right",autoClose:2e3}),e.jsx("div",{className:"container bg-white text-gray-600 h-screen mx-auto mt-12",children:e.jsxs("div",{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-12 lg:grid-cols-12 gap-4 container mx-auto pt-4 ",children:e.jsx("div",{className:"col-span-12 p-2",children:e.jsxs("div",{className:"flex flex-row bg-white mb-4 rounded leading-5 shadow-md shadow-violet-100 ",children:[e.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/3288/3288006.png",className:"h-10 ml-3 mt-2"}),e.jsx("h1",{className:"text-xl text-gray-700 font-semibold p-4",children:"RENEW APPLICATIONS"})]})})}),e.jsxs("div",{className:"grid grid-cols-1 p-2",children:[u&&(a==null?void 0:a.length)!=0&&e.jsx(he,{columns:X,dataList:a,values:Z}),u&&(a==null?void 0:a.length)==0&&e.jsx("div",{className:"text-xl font-semibold text-red-400 text-center",children:"Data Not Found"})]}),e.jsx("div",{className:"grid grid-cols-1",children:e.jsx(L,{isOpen:T,onAfterOpen:F,onRequestClose:m,style:me,contentLabel:"Example Modal",children:e.jsx("div",{class:" rounded-lg shadow-xl border-2 border-gray-50 mx-auto px-0 ",style:{width:"80vw",height:"100%"},children:e.jsx("div",{className:"h-[44rem] bg-white overflow-y-auto",children:e.jsx(re,{data:P,applicationType:I,showLoader:J,closeModal:m})})})})})]})})]})}export{Xe as default};
