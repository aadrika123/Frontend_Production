import{r as i,j as e,_ as p,o as g}from"./index-i80WV5se.js";import{a as j}from"./index-By45dsEk.js";import{G as v}from"./GeoMapIndex-CrP6MEPu.js";import{u as f,b as w}from"./useCustomQuery-CdyD1pcE.js";import{J as y}from"./JharkhandMap-Ijpr-dxm.js";import"./index-vIxCukqx.js";import"./index-MjJPpg9j.js";import"./module-swOJqrBI.js";function N(){const[u,x]=i.useState(null),[n,m]=i.useState(null),[o,c]=i.useState(null),[t,a]=i.useState(!1),b=f({}),d=w(),r=async()=>{try{const s=await d.mutateAsync({api:p.getUlbList});s.data.status&&x(s.data.data)}catch{}},l=async s=>{try{const h=await b.mutateAsync({api:p.getWardListByULB,data:{ulbId:s}});h.data.status&&m(h.data.data)}catch{}};return i.useEffect(()=>{r()},[]),i.useEffect(()=>{o&&l(o)},[o]),e.jsx("div",{className:"h-full w-full",children:e.jsx(v,{wardListData:n,ulbListData:u,ulbId:o,setUlbId:c,isLoadingGeoMap:t,setIsLoadingGeoMap:a,isPreview:!0})})}function k(){const[u,x]=i.useState(null),[n,m]=i.useState(null),[o,c]=i.useState(!1),t=f({}),a=async()=>{try{const r=await t.mutateAsync({api:p.getDistrictList});r.data.status&&d(r.data.data)}catch{}},b=async r=>{c(!0),m(null);try{const l=await t.mutateAsync({api:p.getUlbDataByDistrict,data:{districtCode:r}});l.data.status&&m(l.data.data)}catch{}finally{c(!1)}},d=r=>{const l={};r==null||r.forEach(s=>{l[s==null?void 0:s.label.toLowerCase()]=s==null?void 0:s.id}),x(l)};return i.useEffect(()=>{a()},[]),e.jsx("div",{className:"h-full w-full flex items-center justify-center p-4",children:e.jsx(y,{isLoadingJharkhandMap:o,districtListObjectData:u,ulbDataByDistrictData:n,fetchUlbDataByDistrict:b})})}function W(){const u=g(),[x,n]=i.useState(null),m=[{label:"Total Properties",value:"45,231",change:"+12.5%",trend:"up",color:"blue"},{label:"Active Districts",value:"24",change:"+3",trend:"up",color:"green"},{label:"Revenue (Cr)",value:"â‚¹128.4",change:"+8.2%",trend:"up",color:"purple"},{label:"Pending Reviews",value:"1,429",change:"-5.3%",trend:"down",color:"orange"}],o=[65,78,45,89,56,92,73],c=[35,25,20,20];return e.jsx(j,{title:"",children:e.jsx("div",{className:"min-h-screen",children:e.jsxs("div",{className:"mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-slate-800 mb-2",children:"Analytical Dashboard"}),e.jsx("p",{className:"text-slate-600",children:"Real-time insights and data visualization"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:m.map((t,a)=>e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("span",{className:"text-slate-600 text-sm font-medium",children:t.label}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${t.trend==="up"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:t.change})]}),e.jsx("div",{className:"text-3xl font-bold text-slate-800",children:t.value})]},a))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"relative bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden group",onMouseEnter:()=>n("heatmap"),onMouseLeave:()=>n(null),children:[e.jsx("div",{className:"bg-gradient-to-r from-red-500 to-orange-500 p-3",children:e.jsxs("div",{className:"flex items-center gap-2 text-white",children:[e.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center backdrop-blur-sm",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:[e.jsx("rect",{x:"3",y:"3",width:"4",height:"4",fill:"white",opacity:"0.5"}),e.jsx("rect",{x:"8",y:"3",width:"4",height:"4",fill:"white",opacity:"0.8"}),e.jsx("rect",{x:"13",y:"3",width:"4",height:"4",fill:"white"})]})}),e.jsx("h2",{className:"text-lg font-bold",children:"Heat Map Analysis"})]})}),e.jsxs("div",{className:"h-[350px] overflow-hidden relative",children:[e.jsx(N,{}),e.jsx("div",{className:`absolute inset-0 bg-black/40 flex items-center justify-center backdrop-blur-sm transition-all duration-300 ease-in-out z-50 ${x==="heatmap"?"opacity-100":"opacity-0 pointer-events-none"}`,children:e.jsx("button",{onClick:()=>u("/dashboard/heat-map"),className:"bg-white text-slate-800 rounded-full p-5 hover:scale-110 transition-transform duration-200 shadow-2xl",children:e.jsx("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14 5l7 7m0 0l-7 7m7-7H3"})})})})]})]}),e.jsxs("div",{className:"relative bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden group",onMouseEnter:()=>n("jharkhand"),onMouseLeave:()=>n(null),children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-green-500 p-3",children:e.jsxs("div",{className:"flex items-center gap-2 text-white",children:[e.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center backdrop-blur-sm",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:[e.jsx("path",{d:"M12 2L2 7L12 12L22 7L12 2Z",fill:"white"}),e.jsx("path",{d:"M2 17L12 22L22 17M2 12L12 17L22 12",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),e.jsx("h2",{className:"text-lg font-bold",children:"Jharkhand Map"})]})}),e.jsxs("div",{className:"h-[350px] overflow-hidden relative",children:[e.jsx(k,{}),e.jsx("div",{className:`absolute inset-0 bg-black/40 flex items-center justify-center backdrop-blur-sm transition-all duration-300 ease-in-out z-50 ${x==="jharkhand"?"opacity-100":"opacity-0 pointer-events-none"}`,children:e.jsx("button",{onClick:()=>u("/dashboard/jhar-map"),className:"bg-white text-slate-800 rounded-full p-5 hover:scale-110 transition-transform duration-200 shadow-2xl",children:e.jsx("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14 5l7 7m0 0l-7 7m7-7H3"})})})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-6",children:"Weekly Activity"}),e.jsx("div",{className:"flex items-end justify-between h-48 gap-2",children:o.map((t,a)=>{const d=t/100*192;return e.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2",children:[e.jsx("div",{className:"w-full bg-gradient-to-t from-blue-500 to-blue-400 rounded-t-lg hover:from-blue-600 hover:to-blue-500 transition-all cursor-pointer",style:{height:`${d}px`},title:`${t}%`}),e.jsx("span",{className:"text-xs text-slate-500 font-medium",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"][a]})]},a)})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-6",children:"Distribution by Type"}),e.jsxs("div",{className:"flex items-center justify-center h-48",children:[e.jsx("div",{className:"relative w-40 h-40",children:e.jsx("svg",{viewBox:"0 0 100 100",className:"transform -rotate-90",children:c.map((t,a)=>{const b=["#3b82f6","#10b981","#f59e0b","#8b5cf6"],d=c.reduce((s,h)=>s+h,0),r=t/d*100,l=c.slice(0,a).reduce((s,h)=>s+h,0)/d*100;return e.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:b[a],strokeWidth:"20",strokeDasharray:`${r*2.51} ${251-r*2.51}`,strokeDashoffset:-l*2.51,className:"hover:opacity-80 transition-opacity"},a)})})}),e.jsx("div",{className:"ml-8 space-y-2",children:["Residential","Commercial","Industrial","Others"].map((t,a)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:["#3b82f6","#10b981","#f59e0b","#8b5cf6"][a]}}),e.jsx("span",{className:"text-sm text-slate-600",children:t})]},a))})]})]})]})]})})})}export{W as default};
