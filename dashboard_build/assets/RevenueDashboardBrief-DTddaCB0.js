import{r as g,a3 as $,j as e,Q as A}from"./index-DG0YeSHL.js";import{P as B}from"./index-CiW2ApXl.js";import{a as C}from"./useCustomQuery-B98MkpuZ.js";import{J as P}from"./JharkhandMapPreview-Bt-tBfnw.js";import"./JharkhandMap-BA-oHhMT.js";const R=()=>{var n,i,u,b,c,x,p,f,j,v,N,w,y,k,M,_;const[d]=g.useState(""),[h]=g.useState("2025-2026"),{data:a}=C({api:$.getTodayCollectionData,key:"todayCollectionPreview",value:[d],config:{ulbId:d},options:{enabled:!0}}),{data:m}=C({api:$.getLiveDashboardData,key:"liveDashboardPreview",value:[d,h],config:{ulbId:d,financial_year:h},options:{enabled:!0}}),o=a==null?void 0:a.overall,s=a==null?void 0:a.data,t=(m==null?void 0:m.data)||{},r=l=>l>=1e7?`₹${(l/1e7).toFixed(2)} CR`:`₹${new Intl.NumberFormat("en-IN").format(l)}`;return e.jsxs("div",{className:"w-full h-full bg-black text-white p-4 overflow-hidden",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h2",{className:"text-lg font-bold text-[#00AB44]",children:"Collection Dashboard"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Real-time revenue collection data"})]}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsxs("div",{className:"flex-1 bg-[#151818] p-3 rounded",children:[e.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Today's Collection"}),e.jsx("div",{className:"text-sm font-bold text-[#00AB44]",children:r((o==null?void 0:o.todays_collection)||0)})]}),e.jsxs("div",{className:"flex-1 bg-[#151818] p-3 rounded",children:[e.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Total Collection"}),e.jsx("div",{className:"text-sm font-bold text-[#00AB44]",children:r(((o==null?void 0:o.todays_collection)||0)+(((n=t==null?void 0:t.overall)==null?void 0:n.total_collection)||0))})]})]}),e.jsx("div",{className:"space-y-3",children:[{name:"Property",todayCollection:((u=(i=s==null?void 0:s.property)==null?void 0:i.todaysData)==null?void 0:u.todays_collection)||0,todayApplication:((c=(b=s==null?void 0:s.property)==null?void 0:b.todaysData)==null?void 0:c.todays_application)||0,totalCollection:((x=t==null?void 0:t.property)==null?void 0:x.total_collection)||0},{name:"Water",todayCollection:((f=(p=s==null?void 0:s.water)==null?void 0:p.todaysData)==null?void 0:f.todays_collection)||0,todayApplication:((v=(j=s==null?void 0:s.water)==null?void 0:j.todaysData)==null?void 0:v.todays_registration)||0,totalCollection:((N=t==null?void 0:t.water)==null?void 0:N.total_collection)||0},{name:"SWM",todayCollection:((y=(w=s==null?void 0:s.swm)==null?void 0:w.todaysData)==null?void 0:y.todays_collection)||0,todayApplication:((M=(k=s==null?void 0:s.swm)==null?void 0:k.todaysData)==null?void 0:M.todays_registration)||0,totalCollection:((_=t==null?void 0:t.swm)==null?void 0:_.total_collection)||0}].map(l=>e.jsxs("div",{className:"bg-[#151818] rounded",children:[e.jsxs("div",{className:"flex items-center gap-2 p-2 border-b border-gray-700",children:[e.jsx("div",{className:"w-4 h-4 bg-[#00AB44] rounded"}),e.jsx("span",{className:"text-sm font-semibold",children:l.name})]}),e.jsxs("div",{className:"flex gap-2 p-2",children:[e.jsxs("div",{className:"flex-1 text-center",children:[e.jsx("div",{className:"w-8 h-8 bg-[#5C9900] rounded-full mx-auto mb-1"}),e.jsx("div",{className:"text-xs text-gray-400",children:"Today"}),e.jsxs("div",{className:"text-xs font-bold",children:["₹",new Intl.NumberFormat("en-IN").format(l.todayCollection)]})]}),e.jsxs("div",{className:"flex-1 text-center",children:[e.jsx("div",{className:"w-8 h-8 bg-[#f1c40f] rounded-full mx-auto mb-1"}),e.jsx("div",{className:"text-xs text-gray-400",children:"Applications"}),e.jsx("div",{className:"text-xs font-bold",children:l.todayApplication})]}),e.jsxs("div",{className:"flex-1 text-center",children:[e.jsx("div",{className:"w-8 h-8 bg-[#3366cc] rounded-full mx-auto mb-1"}),e.jsx("div",{className:"text-xs text-gray-400",children:"Total"}),e.jsx("div",{className:"text-xs font-bold",children:l.totalCollection>=1e7?`${(l.totalCollection/1e7).toFixed(1)} CR`:`₹${new Intl.NumberFormat("en-IN").format(l.totalCollection)}`})]})]})]},l.name))}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx("div",{className:"text-xs text-gray-500",children:"+ 12 more modules"})})]})};function L(){const d=A(),[h,a]=g.useState(null),m=[{label:"Total Properties",value:"45,231",change:"+12.5%",trend:"up",color:"blue"},{label:"Active Districts",value:"24",change:"+3",trend:"up",color:"green"},{label:"Revenue (Cr)",value:"₹128.4",change:"+8.2%",trend:"up",color:"purple"},{label:"Pending Reviews",value:"1,429",change:"-5.3%",trend:"down",color:"orange"}],o=[65,78,45,89,56,92,73],s=[35,25,20,20];return e.jsx(B,{title:"",children:e.jsx("div",{className:"min-h-screen",children:e.jsxs("div",{className:"mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Revenue Dashboard"}),e.jsx("p",{className:"text-muted-foreground",children:"Real-time insights and data visualization"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:m.map((t,r)=>{const n={blue:"border-l-blue-500 bg-gradient-to-r from-blue-50 to-white dark:from-blue-950/20 dark:to-background",green:"border-l-green-500 bg-gradient-to-r from-green-50 to-white dark:from-green-950/20 dark:to-background",purple:"border-l-purple-500 bg-gradient-to-r from-purple-50 to-white dark:from-purple-950/20 dark:to-background",orange:"border-l-orange-500 bg-gradient-to-r from-orange-50 to-white dark:from-orange-950/20 dark:to-background"};return e.jsxs("div",{className:`relative overflow-hidden rounded-xl shadow-lg border border-border/50 p-6 hover:shadow-xl transition-all duration-300 hover:-translate-y-1 border-l-4 ${n[t.color]}`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("span",{className:"text-muted-foreground text-sm font-semibold uppercase tracking-wide",children:t.label}),e.jsx("span",{className:`text-xs px-3 py-1 rounded-full font-medium ${t.trend==="up"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"}`,children:t.change})]}),e.jsx("div",{className:"text-3xl font-bold text-foreground mb-2",children:t.value}),e.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 opacity-10",children:e.jsx("div",{className:`w-full h-full rounded-full bg-${t.color}-500 transform translate-x-6 -translate-y-6`})})]},r)})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"relative bg-card rounded-xl shadow-lg border border-border overflow-hidden group",onMouseEnter:()=>a("dashboard"),onMouseLeave:()=>a(null),children:[e.jsx("div",{className:"bg-gradient-to-r from-red-500 to-orange-500 p-3",children:e.jsxs("div",{className:"flex items-center gap-2 text-white",children:[e.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center backdrop-blur-sm",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:[e.jsx("rect",{x:"3",y:"3",width:"4",height:"4",fill:"white",opacity:"0.5"}),e.jsx("rect",{x:"8",y:"3",width:"4",height:"4",fill:"white",opacity:"0.8"}),e.jsx("rect",{x:"13",y:"3",width:"4",height:"4",fill:"white"})]})}),e.jsx("h2",{className:"text-lg font-bold",children:"Collection Dashboard"})]})}),e.jsxs("div",{className:"h-[350px] overflow-hidden relative",children:[e.jsx(R,{}),e.jsx("div",{className:`absolute inset-0 bg-black/40 flex items-center justify-center backdrop-blur-sm transition-all duration-300 ease-in-out z-50 ${h==="dashboard"?"opacity-100":"opacity-0 pointer-events-none"}`,children:e.jsx("button",{onClick:()=>d("/dashboard/revenue-dashboard"),className:"bg-white text-slate-800 rounded-full p-5 hover:scale-110 transition-transform duration-200 shadow-2xl",children:e.jsx("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14 5l7 7m0 0l-7 7m7-7H3"})})})})]})]}),e.jsxs("div",{className:"relative bg-card rounded-xl shadow-lg border border-border overflow-hidden group",onMouseEnter:()=>a("jharkhand"),onMouseLeave:()=>a(null),children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-green-500 p-3",children:e.jsxs("div",{className:"flex items-center gap-2 text-white",children:[e.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center backdrop-blur-sm",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:[e.jsx("path",{d:"M12 2L2 7L12 12L22 7L12 2Z",fill:"white"}),e.jsx("path",{d:"M2 17L12 22L22 17M2 12L12 17L22 12",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),e.jsx("h2",{className:"text-lg font-bold",children:"Jharkhand Map"})]})}),e.jsxs("div",{className:"h-[350px] overflow-hidden relative",children:[e.jsx(P,{}),e.jsx("div",{className:`absolute inset-0 bg-black/40 flex items-center justify-center backdrop-blur-sm transition-all duration-300 ease-in-out z-50 ${h==="jharkhand"?"opacity-100":"opacity-0 pointer-events-none"}`,children:e.jsx("button",{onClick:()=>d("/dashboard/jhar-map"),className:"bg-white text-slate-800 rounded-full p-5 hover:scale-110 transition-transform duration-200 shadow-2xl",children:e.jsx("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14 5l7 7m0 0l-7 7m7-7H3"})})})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-card rounded-xl shadow-sm border border-border p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground mb-6",children:"Weekly Activity"}),e.jsx("div",{className:"flex items-end justify-between h-48 gap-2",children:o.map((t,r)=>{const i=t/100*192;return e.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2",children:[e.jsx("div",{className:"w-full bg-gradient-to-t from-blue-500 to-blue-400 rounded-t-lg hover:from-blue-600 hover:to-blue-500 transition-all cursor-pointer",style:{height:`${i}px`},title:`${t}%`}),e.jsx("span",{className:"text-xs text-muted-foreground font-medium",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"][r]})]},r)})})]}),e.jsxs("div",{className:"bg-card rounded-xl shadow-sm border border-border p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground mb-6",children:"Distribution by Type"}),e.jsxs("div",{className:"flex items-center justify-center h-48",children:[e.jsx("div",{className:"relative w-40 h-40",children:e.jsx("svg",{viewBox:"0 0 100 100",className:"transform -rotate-90",children:s.map((t,r)=>{const n=["#3b82f6","#10b981","#f59e0b","#8b5cf6"],i=s.reduce((c,x)=>c+x,0),u=t/i*100,b=s.slice(0,r).reduce((c,x)=>c+x,0)/i*100;return e.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:n[r],strokeWidth:"20",strokeDasharray:`${u*2.51} ${251-u*2.51}`,strokeDashoffset:-b*2.51,className:"hover:opacity-80 transition-opacity"},r)})})}),e.jsx("div",{className:"ml-8 space-y-2",children:["Residential","Commercial","Industrial","Others"].map((t,r)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:["#3b82f6","#10b981","#f59e0b","#8b5cf6"][r]}}),e.jsx("span",{className:"text-sm text-muted-foreground",children:t})]},r))})]})]})]})]})})})}export{L as default};
