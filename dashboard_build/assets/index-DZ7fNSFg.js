import{r as u,N as h,j as e}from"./index-DG0YeSHL.js";import{a as k}from"./useCustomQuery-B98MkpuZ.js";import{P as b}from"./index-CiW2ApXl.js";const N=()=>{const o=()=>{const a=new Date,t=a.getFullYear();return a.getMonth()+1>=4?`${t}-${t+1}`:`${t-1}-${t}`},[r,m]=u.useState(o()),{data:s,isLoading:g}=k({api:h.applicationCount,key:"applicationCount",value:[r],config:{financial_year:r},options:{enabled:!0}}),x=(s==null?void 0:s.data)||[],n=2020,i=o(),p=Number(i.split("-")[0]),y=Array.from({length:p-n+1},(a,t)=>`${n+t}-${n+t+1}`),c=[{key:"property",name:"Property Count"},{key:"water",name:"Water Consumers"},{key:"swm",name:"SWM Users"},{key:"rig",name:"Rig Machine Registrations"},{key:"water_tanker",name:"Water Tanker Booking"},{key:"septic_tanker",name:"Septic Tanker Booking"},{key:"pet",name:"Pet Registration"},{key:"public_transport",name:"Public Transport Tickets"},{key:"advertisement",name:"Advertisement Registration"},{key:"trade",name:"Trade License"},{key:"municipal_rental",name:"Municipal Rentals"},{key:"marriage",name:"Marriage Registration"},{key:"parking",name:"Parking Tickets"},{key:"lodge",name:"Lodge & Banquet Registration"},{key:"legal",name:"Legal Cases"},{key:"fines",name:"Fines & Penalty Challans"},{key:"e-dak",name:"Total E-dak"},{key:"grievance",name:"Grievance Count"},{key:"pfms",name:"Total Projects"},{key:"finance-commission",name:"Total Schemes"}];return g?e.jsx("div",{className:"flex h-screen items-center justify-center",children:e.jsx("div",{className:"text-lg",children:"Loading..."})}):e.jsx(b,{title:"ULB Modules Collections",children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-gray-900 dark:to-gray-800",children:e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"mb-2 text-3xl font-bold text-gray-900 dark:text-white",children:"ULB Modules Collections"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:["Application counts across all modules for financial year"," ",r]}),e.jsxs("select",{value:r,onChange:a=>m(a.target.value),className:"rounded-lg border border-gray-300 bg-white px-4 py-2 text-gray-900 focus:border-transparent focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-800 dark:text-white",children:[e.jsxs("option",{value:i,children:["Current Year (",i,")"]}),y.map(a=>e.jsx("option",{value:a,children:a},a))]})]})]}),e.jsx("div",{className:"overflow-hidden rounded-xl bg-white shadow-lg dark:bg-gray-800",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:[e.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold uppercase tracking-wider",children:"ULB Name"}),c.map(a=>e.jsx("th",{className:"border-l border-blue-400 px-4 py-4 text-center text-sm font-semibold uppercase tracking-wider",children:a.name},a.key))]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:x.map((a,t)=>e.jsxs("tr",{className:`transition-colors duration-200 hover:bg-blue-50 dark:hover:bg-gray-700 ${t%2===0?"bg-gray-50 dark:bg-gray-800":"bg-white dark:bg-gray-900"}`,children:[e.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900 dark:text-white",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"mr-3 h-2 w-2 rounded-full bg-blue-500"}),a.ulb_name]})}),c.map(l=>{const d=a.applications[l.key]||0;return e.jsx("td",{className:"whitespace-nowrap px-4 py-4 text-center",children:e.jsx("span",{className:`inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-medium ${d>0?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-500 dark:bg-gray-700 dark:text-gray-400"}`,children:d})},`${a.ulb_id}-${l.key}`)})]},a.ulb_id))})]})})})]})})})};export{N as default};
