import{r as h,N as u,j as e}from"./index-BAOTnyQD.js";import{a as f}from"./useCustomQuery-BmDQXLhg.js";import{P as j}from"./index-CfBRlosX.js";const w=()=>{const l=()=>{const r=new Date,t=r.getFullYear();return r.getMonth()+1>=4?`${t}-${t+1}`:`${t-1}-${t}`},[a,x]=h.useState(l()),{data:s,isLoading:y}=f({api:u.applicationCount,key:"applicationCount",value:[a],config:{financial_year:a},options:{enabled:!0}}),n=(s==null?void 0:s.data)||[],i=2020,o=l(),p=Number(o.split("-")[0]),k=Array.from({length:p-i+1},(r,t)=>`${i+t}-${i+t+1}`),d=[{key:"property",name:"Property Count"},{key:"water",name:"Water Consumers"},{key:"swm",name:"SWM Users"},{key:"rig",name:"Rig Machine Registrations"},{key:"water_tanker",name:"Water Tanker Booking"},{key:"septic_tanker",name:"Septic Tanker Booking"},{key:"pet",name:"Pet Registration"},{key:"public_transport",name:"Public Transport Tickets"},{key:"advertisement",name:"Advertisement Registration"},{key:"trade",name:"Trade License"},{key:"municipal_rental",name:"Municipal Rentals"},{key:"marriage",name:"Marriage Registration"},{key:"parking",name:"Parking Tickets"},{key:"lodge",name:"Lodge & Banquet Registration"},{key:"legal",name:"Legal Cases"},{key:"fines",name:"Fines & Penalty Challans"},{key:"e-dak",name:"Total E-dak"},{key:"grievance",name:"Grievance Count"},{key:"pfms",name:"Total Projects"},{key:"finance-commission",name:"Total Schemes"}];return y?e.jsx("div",{className:"h-screen flex items-center justify-center bg-black bg-opacity-50",children:e.jsxs("div",{className:"flex flex-col items-center gap-y-6",children:[e.jsx("div",{className:"neon-spinner"}),e.jsx("div",{className:"italic tracking-wide text-zinc-300",children:"Loading..."})]})}):e.jsx(j,{title:"ULB Modules Collections",children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-gray-900 dark:to-gray-800",children:e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"mb-2 text-3xl font-bold text-gray-900 dark:text-white",children:"ULB Modules Collections"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:["Application counts across all modules for financial year"," ",a]}),e.jsxs("select",{value:a,onChange:r=>x(r.target.value),className:"rounded-lg border border-gray-300 bg-white px-4 py-2 text-gray-900 focus:border-transparent focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-800 dark:text-white",children:[e.jsxs("option",{value:o,children:["Current Year (",o,")"]}),k.map(r=>e.jsx("option",{value:r,children:r},r))]})]})]}),e.jsx("div",{className:"overflow-hidden rounded-xl bg-white shadow-lg dark:bg-gray-800",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:[e.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold uppercase tracking-wider",children:"ULB Name"}),d.map(r=>e.jsx("th",{className:"border-l border-blue-400 px-4 py-4 text-center text-sm font-semibold uppercase tracking-wider",children:r.name},r.key))]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:n==null?void 0:n.map((r,t)=>e.jsxs("tr",{className:`transition-colors duration-200 hover:bg-blue-50 dark:hover:bg-gray-700 ${t%2===0?"bg-gray-50 dark:bg-gray-800":"bg-white dark:bg-gray-900"}`,children:[e.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900 dark:text-white",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"mr-3 h-2 w-2 rounded-full bg-blue-500"}),(r==null?void 0:r.ulb_name)||"Unknown ULB"]})}),d.map(c=>{var g;const m=((g=r==null?void 0:r.applications)==null?void 0:g[c.key])||0;return e.jsx("td",{className:"whitespace-nowrap px-4 py-4 text-center",children:e.jsx("span",{className:`inline-flex h-8 w-8 items-center justify-center rounded-full text-xs font-medium ${m>0?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-500 dark:bg-gray-700 dark:text-gray-400"}`,children:m})},`${r==null?void 0:r.ulb_id}-${c.key}`)})]},(r==null?void 0:r.ulb_id)||t))})]})})})]})})})};export{w as default};
