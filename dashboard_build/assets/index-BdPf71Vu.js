import{r as c,j as e,N as g,Q as f}from"./index-CMOwcSn-.js";import{u as v,b as j,a as b}from"./useCustomQuery-I_wYvlCi.js";import{c as p,P as E}from"./index-BfCUF2u3.js";import{G as k}from"./GeoMapIndex-BdFj5APw.js";import{J as y}from"./JharkhandMapPreview-BzZORdCC.js";import"./index-Cr6Pd3k6.js";import"./JharkhandMap-C5aQ1Ht5.js";const w=p("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);const A=p("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);const I=p("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);const L=p("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);function T(){const[l,d]=c.useState(null),[t,u]=c.useState(null),[a,n]=c.useState(null),[r,o]=c.useState(!1),s=v({}),m=j(),x=async()=>{try{const h=await m.mutateAsync({api:g.getUlbList});h.data.status&&d(h.data.data)}catch{}},i=async h=>{try{const N=await s.mutateAsync({api:g.getWardListByULB,data:{ulbId:h}});N.data.status&&u(N.data.data)}catch{}};return c.useEffect(()=>{x()},[]),c.useEffect(()=>{a&&i(a)},[a]),e.jsx("div",{className:"h-full w-full",children:e.jsx(k,{wardListData:t,ulbListData:l,ulbId:a,setUlbId:n,isLoadingGeoMap:r,setIsLoadingGeoMap:o,isPreview:!0})})}const O=()=>{const l=()=>{const r=new Date,o=r.getFullYear();return r.getMonth()+1>=4?`${o}-${o+1}`:`${o-1}-${o}`},[d]=c.useState(l()),{data:t,isLoading:u}=b({api:g.applicationCount,key:"applicationCount",value:[d],config:{financial_year:d},options:{enabled:!0}}),a=(t==null?void 0:t.data)||[],n=[{key:"property",name:"Property"},{key:"water",name:"Water"},{key:"trade",name:"Trade"},{key:"swm",name:"SWM"},{key:"fines",name:"Fines"}];return u?e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsx("div",{className:"text-sm text-gray-500",children:"Loading..."})}):e.jsx("div",{className:"h-full p-3 bg-gradient-to-br from-slate-50 to-slate-100 dark:from-gray-900 dark:to-gray-800 overflow-hidden",children:e.jsx("div",{className:"h-full flex flex-col space-y-2",children:a.slice(0,4).map((r,o)=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-2 shadow-sm flex-1",children:[e.jsx("div",{className:"text-xs font-medium text-gray-900 dark:text-white mb-2 truncate",children:r.ulb_name}),e.jsx("div",{className:"grid grid-cols-5 gap-1",children:n.map(s=>{const m=r.applications[s.key]||0;return e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1 truncate",children:s.name}),e.jsx("div",{className:`text-xs font-semibold ${m>0?"text-green-600 dark:text-green-400":"text-gray-400"}`,children:m})]},s.key)})})]},r.ulb_id))})})},S={data:[{moduleName:"Property",ulbs:[{ulbName:"Adityapur Municipal Corporation",userCount:[{roleName:"BACK OFFICE",count:120},{roleName:"DEALING ASSISTANT",count:65},{roleName:"EXECUTIVE OFFICER",count:8},{roleName:"SECTION INCHARGE",count:18},{roleName:"TAX COLLECTOR",count:420},{roleName:"ULB TAX COLLECTOR",count:25}]},{ulbName:"Ranchi Municipal Corporation",userCount:[{roleName:"BACK OFFICE",count:180},{roleName:"DEALING ASSISTANT",count:95},{roleName:"EXECUTIVE OFFICER",count:15},{roleName:"SECTION INCHARGE",count:30},{roleName:"TAX COLLECTOR",count:980},{roleName:"ULB TAX COLLECTOR",count:60}]},{ulbName:"Basukinath Nagar Panchayat",userCount:[{roleName:"BACK OFFICE",count:25},{roleName:"DEALING ASSISTANT",count:12},{roleName:"SECTION INCHARGE",count:4},{roleName:"TAX COLLECTOR",count:90}]},{ulbName:"Dhanbad Municipal Corporation",userCount:[{roleName:"BACK OFFICE",count:85},{roleName:"DEALING ASSISTANT",count:42},{roleName:"EXECUTIVE OFFICER",count:6},{roleName:"SECTION INCHARGE",count:15},{roleName:"TAX COLLECTOR",count:320}]},{ulbName:"Jamshedpur NAC",userCount:[{roleName:"BACK OFFICE",count:95},{roleName:"DEALING ASSISTANT",count:48},{roleName:"SECTION INCHARGE",count:15},{roleName:"TAX COLLECTOR",count:280}]}]},{moduleName:"Water",ulbs:[{ulbName:"Adityapur Municipal Corporation",userCount:[{roleName:"BACK OFFICE",count:90},{roleName:"DEALING ASSISTANT",count:40},{roleName:"SECTION INCHARGE",count:12},{roleName:"TAX COLLECTOR",count:260}]},{ulbName:"Ranchi Municipal Corporation",userCount:[{roleName:"BACK OFFICE",count:140},{roleName:"DEALING ASSISTANT",count:70},{roleName:"EXECUTIVE OFFICER",count:10},{roleName:"SECTION INCHARGE",count:22},{roleName:"TAX COLLECTOR",count:620}]},{ulbName:"Hazaribagh Municipal Corporation",userCount:[{roleName:"BACK OFFICE",count:75},{roleName:"SECTION INCHARGE",count:18},{roleName:"TAX COLLECTOR",count:200}]}]},{moduleName:"Trade",ulbs:[{ulbName:"Dhanbad Municipal Corporation",userCount:[{roleName:"BACK OFFICE",count:110},{roleName:"DEALING ASSISTANT",count:55},{roleName:"EXECUTIVE OFFICER",count:9},{roleName:"SECTION INCHARGE",count:20}]},{ulbName:"Jamshedpur NAC",userCount:[{roleName:"BACK OFFICE",count:95},{roleName:"DEALING ASSISTANT",count:48},{roleName:"SECTION INCHARGE",count:15}]},{ulbName:"Giridih Municipal Corporation",userCount:[{roleName:"BACK OFFICE",count:60},{roleName:"DEALING ASSISTANT",count:28},{roleName:"SECTION INCHARGE",count:12}]}]},{moduleName:"SWM",ulbs:[{ulbName:"Hazaribagh Municipal Corporation",userCount:[{roleName:"BACK OFFICE",count:70},{roleName:"SECTION INCHARGE",count:18},{roleName:"TAX COLLECTOR",count:300},{roleName:"SUPER ADMIN",count:4}]},{ulbName:"Ramgarh Nagar Parishad",userCount:[{roleName:"BACK OFFICE",count:45},{roleName:"SECTION INCHARGE",count:10},{roleName:"TAX COLLECTOR",count:160}]},{ulbName:"Deoghar Municipal Corporation",userCount:[{roleName:"BACK OFFICE",count:55},{roleName:"EXECUTIVE OFFICER",count:7},{roleName:"SECTION INCHARGE",count:14},{roleName:"TAX COLLECTOR",count:180}]}]},{moduleName:"Fines",ulbs:[{ulbName:"Giridih Municipal Corporation",userCount:[{roleName:"BACK OFFICE",count:60},{roleName:"DEALING ASSISTANT",count:28},{roleName:"SECTION INCHARGE",count:12}]},{ulbName:"Bokaro Steel City",userCount:[{roleName:"BACK OFFICE",count:80},{roleName:"DEALING ASSISTANT",count:35},{roleName:"EXECUTIVE OFFICER",count:5},{roleName:"SECTION INCHARGE",count:16}]}]},{moduleName:"Advertisement",ulbs:[{ulbName:"Deoghar Municipal Corporation",userCount:[{roleName:"BACK OFFICE",count:50},{roleName:"EXECUTIVE OFFICER",count:6},{roleName:"SECTION INCHARGE",count:14}]},{ulbName:"Medininagar NAC",userCount:[{roleName:"BACK OFFICE",count:35},{roleName:"SECTION INCHARGE",count:8},{roleName:"TAX COLLECTOR",count:120}]}]}]},M=()=>{const[l,d]=c.useState(""),t=S.data,u=c.useMemo(()=>l?t.map(a=>({...a,ulbs:a.ulbs.filter(n=>n.ulbName.toLowerCase().includes(l.toLowerCase()))})).filter(a=>a.ulbs.length>0).slice(0,3):t.slice(0,3),[t,l]);return e.jsx("div",{className:"h-full bg-gradient-to-br from-slate-50 to-slate-100 dark:from-gray-900 dark:to-gray-800 overflow-hidden",children:e.jsx("div",{className:"p-3 h-full",children:e.jsx("div",{className:"space-y-2 h-full flex flex-col",children:u.map(a=>{const n=a.ulbs.reduce((r,o)=>r+o.userCount.reduce((s,m)=>s+m.count,0),0);return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm dark:bg-gray-800 flex-1",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-t-lg",children:e.jsxs("h3",{className:"text-xs font-semibold text-white uppercase",children:[a.moduleName," (",n," users)"]})}),e.jsx("div",{className:"p-2",children:a.ulbs.slice(0,1).map(r=>e.jsxs("div",{className:"text-xs",children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-white mb-1 truncate",children:r.ulbName}),e.jsx("div",{className:"grid grid-cols-3 gap-1",children:r.userCount.slice(0,3).map((o,s)=>e.jsxs("div",{className:"text-center p-1 bg-gray-50 dark:bg-gray-700 rounded",children:[e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-300 truncate",children:o.roleName}),e.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:o.count})]},`${o.roleName}-${s}`))})]},r.ulbName))})]},a.moduleName)})})})})};function X(){var o,s,m,x;const l=f(),[d,t]=c.useState(null),{data:u,isLoading:a}=b({api:g.dashboardSummaryCards,key:"dashboardSummaryCards",config:{},options:{enabled:!0}}),n=(u==null?void 0:u.data)||{},r=[{label:"Active ULBs",value:((o=n.active_ulbs)==null?void 0:o.toString())||"0",color:"blue",icon:w},{label:"Active Districts",value:((s=n.active_districts)==null?void 0:s.toString())||"0",color:"green",icon:A},{label:"Total Citizens",value:((m=n.total_citizens)==null?void 0:m.toLocaleString())||"0",color:"purple",icon:L},{label:"Total ULB Members",value:((x=n.total_ulb_members)==null?void 0:x.toLocaleString())||"0",color:"orange",icon:I}];return e.jsx(E,{title:"",children:e.jsx("div",{className:"min-h-screen",children:e.jsxs("div",{className:"mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"mb-2 text-4xl font-bold text-foreground",children:"Analytical Dashboard"}),e.jsx("p",{className:"text-muted-foreground",children:"Real-time insights and data visualization"})]}),e.jsx("div",{className:"mb-8 grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:r.map((i,h)=>{const N={blue:"border-l-blue-500 bg-gradient-to-r from-blue-50 to-white dark:from-blue-950/20 dark:to-background",green:"border-l-green-500 bg-gradient-to-r from-green-50 to-white dark:from-green-950/20 dark:to-background",purple:"border-l-purple-500 bg-gradient-to-r from-purple-50 to-white dark:from-purple-950/20 dark:to-background",orange:"border-l-orange-500 bg-gradient-to-r from-orange-50 to-white dark:from-orange-950/20 dark:to-background"},C=i.icon;return e.jsxs("div",{className:`relative overflow-hidden rounded-xl border border-l-4 border-border/50 p-6 shadow-lg transition-all duration-300 hover:-translate-y-1 hover:shadow-xl ${N[i.color]}`,children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("span",{className:"text-xl font-semibold tracking-wide text-muted-foreground",children:i.label}),e.jsx("div",{className:`rounded-lg p-2 bg-${i.color}-100 dark:bg-${i.color}-900/30`,children:e.jsx(C,{className:`h-5 w-5 text-${i.color}-600 dark:text-${i.color}-400`})})]}),e.jsx("div",{className:"mb-2 text-3xl font-bold text-foreground",children:i.value}),e.jsx("div",{className:"absolute right-0 top-0 h-20 w-20 opacity-10",children:e.jsx("div",{className:`h-full w-full rounded-full bg-${i.color}-500 -translate-y-6 translate-x-6 transform`})})]},h)})}),e.jsxs("div",{className:"mb-8 grid grid-cols-1 gap-6 lg:grid-cols-2",children:[e.jsxs("div",{className:"group relative overflow-hidden rounded-xl border border-border bg-card shadow-lg",onMouseEnter:()=>t("heatmap"),onMouseLeave:()=>t(null),children:[e.jsx("div",{className:"bg-gradient-to-r from-red-500 to-orange-500 p-3",children:e.jsxs("div",{className:"flex items-center gap-2 text-white",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-white/20 backdrop-blur-sm",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:[e.jsx("rect",{x:"3",y:"3",width:"4",height:"4",fill:"white",opacity:"0.5"}),e.jsx("rect",{x:"8",y:"3",width:"4",height:"4",fill:"white",opacity:"0.8"}),e.jsx("rect",{x:"13",y:"3",width:"4",height:"4",fill:"white"})]})}),e.jsx("h2",{className:"text-lg font-bold",children:"Heat Map Analysis"})]})}),e.jsxs("div",{className:"relative h-[350px] overflow-hidden",children:[e.jsx(T,{}),e.jsx("div",{className:`absolute inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm transition-all duration-300 ease-in-out ${d==="heatmap"?"opacity-100":"pointer-events-none opacity-0"}`,children:e.jsx("button",{onClick:()=>l("/dashboard/heat-map"),className:"rounded-full bg-white p-5 text-slate-800 shadow-2xl transition-transform duration-200 hover:scale-110",children:e.jsx("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14 5l7 7m0 0l-7 7m7-7H3"})})})})]})]}),e.jsxs("div",{className:"group relative overflow-hidden rounded-xl border border-border bg-card shadow-lg",onMouseEnter:()=>t("jharkhand"),onMouseLeave:()=>t(null),children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-green-500 p-3",children:e.jsxs("div",{className:"flex items-center gap-2 text-white",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-white/20 backdrop-blur-sm",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:[e.jsx("path",{d:"M12 2L2 7L12 12L22 7L12 2Z",fill:"white"}),e.jsx("path",{d:"M2 17L12 22L22 17M2 12L12 17L22 12",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),e.jsx("h2",{className:"text-lg font-bold",children:"Jharkhand Map"})]})}),e.jsxs("div",{className:"relative h-[350px] overflow-hidden",children:[e.jsx(y,{}),e.jsx("div",{className:`absolute inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm transition-all duration-300 ease-in-out ${d==="jharkhand"?"opacity-100":"pointer-events-none opacity-0"}`,children:e.jsx("button",{onClick:()=>l("/dashboard/jhar-map"),className:"rounded-full bg-white p-5 text-slate-800 shadow-2xl transition-transform duration-200 hover:scale-110",children:e.jsx("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14 5l7 7m0 0l-7 7m7-7H3"})})})})]})]})]}),e.jsxs("div",{className:"mb-8 grid grid-cols-1 gap-6 lg:grid-cols-2",children:[e.jsxs("div",{className:"group relative overflow-hidden rounded-xl border border-border bg-card shadow-lg",onMouseEnter:()=>t("ulbCollection"),onMouseLeave:()=>t(null),children:[e.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-500 p-3",children:e.jsxs("div",{className:"flex items-center gap-2 text-white",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-white/20 backdrop-blur-sm",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"2",fill:"white"}),e.jsx("rect",{x:"3",y:"8",width:"18",height:"2",fill:"white",opacity:"0.8"}),e.jsx("rect",{x:"3",y:"12",width:"18",height:"2",fill:"white",opacity:"0.6"}),e.jsx("rect",{x:"3",y:"16",width:"18",height:"2",fill:"white",opacity:"0.4"})]})}),e.jsx("h2",{className:"text-lg font-bold",children:"ULB Modules Collection"})]})}),e.jsxs("div",{className:"relative h-[350px] overflow-hidden",children:[e.jsx(O,{}),e.jsx("div",{className:`absolute inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm transition-all duration-300 ease-in-out ${d==="ulbCollection"?"opacity-100":"pointer-events-none opacity-0"}`,children:e.jsx("button",{onClick:()=>l("/dashboard/ulb-analytical-modules"),className:"rounded-full bg-white p-5 text-slate-800 shadow-2xl transition-transform duration-200 hover:scale-110",children:e.jsx("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14 5l7 7m0 0l-7 7m7-7H3"})})})})]})]}),e.jsxs("div",{className:"group relative overflow-hidden rounded-xl border border-border bg-card shadow-lg",onMouseEnter:()=>t("ulbUsers"),onMouseLeave:()=>t(null),children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-teal-500 p-3",children:e.jsxs("div",{className:"flex items-center gap-2 text-white",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-white/20 backdrop-blur-sm",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:[e.jsx("circle",{cx:"9",cy:"7",r:"4",fill:"white"}),e.jsx("path",{d:"M3 21v-2a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v2",stroke:"white",strokeWidth:"2",fill:"none"}),e.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75",stroke:"white",strokeWidth:"2",fill:"none"}),e.jsx("path",{d:"M21 21v-2a4 4 0 0 0-3-3.85",stroke:"white",strokeWidth:"2",fill:"none"})]})}),e.jsx("h2",{className:"text-lg font-bold",children:"ULB Modules Users"})]})}),e.jsxs("div",{className:"relative h-[350px] overflow-hidden",children:[e.jsx(M,{}),e.jsx("div",{className:`absolute inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm transition-all duration-300 ease-in-out ${d==="ulbUsers"?"opacity-100":"pointer-events-none opacity-0"}`,children:e.jsx("button",{onClick:()=>l("/dashboard/ulb-modules-users"),className:"rounded-full bg-white p-5 text-slate-800 shadow-2xl transition-transform duration-200 hover:scale-110",children:e.jsx("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14 5l7 7m0 0l-7 7m7-7H3"})})})})]})]})]})]})})})}export{X as default};
