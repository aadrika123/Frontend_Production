import{r as u,j as e,B as g,o as P}from"./index-DyRIQ9Lk.js";import{c as S,a as A}from"./index-COiimZCW.js";import{I as B,S as j,a as m,b as p,c as v,d as a}from"./select-BD5BBvcL.js";import{e as M,f as k,C as L,b as R,c as V,a as I}from"./bugData-DMJWTLhl.js";import{B as T}from"./BugTable-B1u0GDoP.js";import"./PriorityBadge-v1Evn2qf.js";import"./en-US-IqjfvMWk.js";const O=S("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);const w=S("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const D=S("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function E({onSearch:N,onFilter:o,onClearFilters:f}){const[r,h]=u.useState(""),[t,n]=u.useState({}),x=l=>{l.preventDefault(),N(r)},c=(l,C)=>{const b={...t,[l]:C==="all"?void 0:C||void 0};n(b),o(b)},d=()=>{h(""),n({}),f()},y=Object.values(t).some(Boolean)||r;return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("form",{onSubmit:x,className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(w,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),e.jsx(B,{placeholder:"Search by Bug ID or Title...",value:r,onChange:l=>h(l.target.value),className:"pl-10"})]}),e.jsx(g,{type:"submit",variant:"outline",children:e.jsx(w,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filters:"})]}),e.jsxs(j,{value:t.status===void 0?"all":t.status||"all",onValueChange:l=>c("status",l),children:[e.jsx(m,{className:"w-32",children:e.jsx(p,{placeholder:"Status"})}),e.jsxs(v,{children:[e.jsx(a,{value:"all",children:"All Status"}),e.jsx(a,{value:"Pending",children:"Pending"}),e.jsx(a,{value:"Resolved",children:"Resolved"}),e.jsx(a,{value:"Rejected",children:"Rejected"}),e.jsx(a,{value:"Closed",children:"Closed"}),e.jsx(a,{value:"Re-Open",children:"Re-Open"})]})]}),e.jsxs(j,{value:t.type===void 0?"all":t.type||"all",onValueChange:l=>c("type",l),children:[e.jsx(m,{className:"w-32",children:e.jsx(p,{placeholder:"Type"})}),e.jsxs(v,{children:[e.jsx(a,{value:"all",children:"All Types"}),e.jsx(a,{value:"Bug",children:"Bug"}),e.jsx(a,{value:"Enhancement",children:"Enhancement"})]})]}),e.jsxs(j,{value:t.module===void 0?"all":t.module||"all",onValueChange:l=>c("module",l),children:[e.jsx(m,{className:"w-40",children:e.jsx(p,{placeholder:"Module"})}),e.jsxs(v,{children:[e.jsx(a,{value:"all",children:"All Modules"}),M.map(l=>e.jsx(a,{value:l,children:l},l))]})]}),e.jsxs(j,{value:t.priority===void 0?"all":t.priority||"all",onValueChange:l=>c("priority",l),children:[e.jsx(m,{className:"w-32",children:e.jsx(p,{placeholder:"Priority"})}),e.jsxs(v,{children:[e.jsx(a,{value:"all",children:"All Priority"}),e.jsx(a,{value:"Low",children:"Low"}),e.jsx(a,{value:"Medium",children:"Medium"}),e.jsx(a,{value:"High",children:"High"}),e.jsx(a,{value:"Critical",children:"Critical"})]})]}),e.jsxs(j,{value:t.source===void 0?"all":t.source||"all",onValueChange:l=>c("source",l),children:[e.jsx(m,{className:"w-32",children:e.jsx(p,{placeholder:"Source"})}),e.jsxs(v,{children:[e.jsx(a,{value:"all",children:"All Sources"}),e.jsx(a,{value:"Web",children:"Web"}),e.jsx(a,{value:"Mobile App",children:"Mobile App"}),e.jsx(a,{value:"API",children:"API"}),e.jsx(a,{value:"Other",children:"Other"})]})]}),y&&e.jsxs(g,{variant:"outline",size:"sm",onClick:d,children:[e.jsx(D,{className:"h-4 w-4 mr-1"}),"Clear All"]})]})]})}function $(){const N=P(),[o,f]=u.useState(""),[r,h]=u.useState({}),[t,n]=u.useState(1),x=10,c=u.useMemo(()=>{let s=k;return o&&(s=s.filter(i=>i.id.toLowerCase().includes(o.toLowerCase())||i.title.toLowerCase().includes(o.toLowerCase()))),r.status&&(s=s.filter(i=>i.status===r.status)),r.type&&(s=s.filter(i=>i.type===r.type)),r.module&&(s=s.filter(i=>i.module===r.module)),r.priority&&(s=s.filter(i=>i.priority===r.priority)),r.source&&(s=s.filter(i=>i.source===r.source)),s},[o,r]),d=Math.ceil(c.length/x),y=c.slice((t-1)*x,t*x),l=s=>{f(s),n(1)},C=s=>{h(s),n(1)},b=()=>{f(""),h({}),n(1)},F=s=>{N(`/dashboard/dashboard/bug/details/${s}`)};return e.jsx(A,{children:e.jsxs(L,{children:[e.jsxs(R,{className:"border-b bg-muted/40 space-y-1",children:[e.jsx(V,{className:"text-2xl font-semibold",children:"Bug Reports"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage and track all reported bugs and enhancement requests"})]}),e.jsxs(I,{className:"pt-6 space-y-6",children:[e.jsx(E,{onSearch:l,onFilter:C,onClearFilters:b}),e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",y.length," of ",c.length," bugs"]})}),e.jsx(T,{bugs:y,onViewDetails:F}),d>1&&e.jsxs("div",{className:"flex justify-center gap-2 pt-2",children:[e.jsx(g,{variant:"outline",disabled:t===1,onClick:()=>n(s=>Math.max(s-1,1)),children:"Previous"}),Array.from({length:d},(s,i)=>i+1).map(s=>e.jsx(g,{variant:t===s?"default":"outline",className:"w-10",onClick:()=>n(s),children:s},s)),e.jsx(g,{variant:"outline",disabled:t===d,onClick:()=>n(s=>Math.min(s+1,d)),children:"Next"})]})]})]})})}export{$ as default};
