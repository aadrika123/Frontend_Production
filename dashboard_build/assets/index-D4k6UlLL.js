import{r as i,j as t,a0 as n}from"./index-DyRIQ9Lk.js";import{J as w}from"./JharkhandMap-BCLhW2yR.js";import{A as N}from"./AnimationDashboard-CN4D9OFx.js";import{a as v}from"./index-COiimZCW.js";import{u as M,b as L}from"./useCustomQuery-SZGhgeeH.js";function J(){const[o,d]=i.useState(null),[u,r]=i.useState(null),[x,c]=i.useState(!1),[p,h]=i.useState(0),[m,f]=i.useState(0),l=M({}),g=L(),b=async()=>{try{const s=await l.mutateAsync({api:n.getDistrictList});s.data.status&&(D(s.data.data),h(s.data.data.length))}catch{}},j=async s=>{c(!0),r(null);try{const e=await l.mutateAsync({api:n.getUlbDataByDistrict,data:{districtCode:s}});e.data.status&&r(e.data.data)}catch{}finally{c(!1)}},y=async()=>{try{const s=await g.mutateAsync({api:n.getUlbList});s.data.status&&f(s.data.data.length)}catch{}},D=s=>{const e={};s==null||s.forEach(a=>{e[a==null?void 0:a.label.toLowerCase()]=a==null?void 0:a.id}),d(e)};return i.useEffect(()=>{b(),y()},[]),t.jsx(v,{title:"Jharkhand Map",children:t.jsx("div",{className:"w-full mx-auto mb-20 space-x-3",children:t.jsxs("div",{className:"bg-white grid grid-cols-12 shadow-xl rounded-lg justify-center items-center",children:[t.jsxs("div",{className:"col-span-12 px-10 py-4 text-xl font-semibold",children:["Jharkhand ULB wise property count"," "]}),t.jsx("div",{className:"col-span-8 py-4 px-20 mr-4 flex justify-center items-center flex-col",children:t.jsx(w,{isLoadingJharkhandMap:x,districtListObjectData:o,ulbDataByDistrictData:u,fetchUlbDataByDistrict:j})}),t.jsxs("div",{className:"col-span-4 py-4 flex justify-center items-center flex-col",children:[t.jsx("div",{children:t.jsx(N,{})}),t.jsxs("div",{className:"space-y-4 w-full max-w-xs",children:[t.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 p-4 rounded-lg",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-700 font-semibold",children:"Total Districts"}),t.jsx("span",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-bold text-lg",children:p})]})}),t.jsx("div",{className:"bg-gradient-to-r from-green-50 to-green-100 p-4 rounded-lg",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-700 font-semibold",children:"Total ULBs"}),t.jsx("span",{className:"bg-green-600 text-white px-4 py-2 rounded-lg font-bold text-lg",children:m})]})})]})]})]})})})}function S(){return t.jsx(J,{})}export{S as default};
