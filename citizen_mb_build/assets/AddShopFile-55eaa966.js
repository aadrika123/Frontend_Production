import{d as W,r as c,c as d,A as g,j as r,F as m,b as t,Q as b}from"./index-cd399e7b.js";import{u as z}from"./formik.esm-51ceac17.js";import{c as M,a as n}from"./index.esm-584e20cc.js";import{T as Q,R as G}from"./RentalApiList-3633de92.js";import{A as J}from"./ApiHeader2-b363f7b8.js";function ce(){const{saveButtonColor:K,inputStyle:a,labelStyle:i,headingStyle:X,titleStyle:$,addButtonColor:Z,formStyle:ee,titleColor:le}=Q(),{api_UlbCircleList:C,api_locationByCircleList:q,api_addShops:P,api_getConstructionType:F}=G(),L=W();c.useState();const[T,h]=c.useState(!1);c.useState(),c.useState(""),c.useState(!1),c.useState("");const[re,B]=c.useState(""),[H,S]=c.useState(""),[A,O]=c.useState(""),[p,I]=c.useState();c.useState();const[f,V]=c.useState(),[x,R]=c.useState(),_=M({circle:n().required("This field is required"),market:n().required("This field is required"),allottee:n().required("This field is required"),address:n().required("This field is required"),rate:n().required("This field is required"),arrear:n().required("This field is required"),lastPayDt:n().required("This field is required"),lastPayAmt:n().required("This field is required"),allottedLength:n().required("This field is required"),allottedBreadth:n().required("This field is required"),allottedHeight:n().required("This field is required"),area:n().required("This field is required"),presentLength:n().required("This field is required"),presentBreadth:n().required("This field is required"),presentHeight:n().required("This field is required"),noOfFloors:n().required("This field is required"),presentOccupier:n().required("This field is required"),tradeLicense:n().required("This field is required"),construction:n().required("This field is required"),electricity:n().required("This field is required"),water:n().required("This field is required"),contactNo:n().required("This field is required"),longitude:n().required("This field is required"),latitude:n().required("This field is required"),photo1Path:n().required("This field is required"),photo2Path:n().required("This field is required"),remarks:n().required("This field is required")}),w=(l,s)=>{b.dismiss(),s=="success"&&b.success(l),s=="error"&&b.error(l)},e=z({initialValues:{circle:"",market:"",allottee:"",address:"",rate:"",arrear:"",lastPayDt:"",lastPayAmt:"",allottedLength:"",allottedBreadth:"",allottedHeight:"",area:"",presentLength:"",presentBreadth:"",presentHeight:"",noOfFloors:"",presentOccupier:"",tradeLicense:"",construction:"",electricity:"",water:"",contactNo:"",longitude:"",latitude:"",photo1Path:"",photo2Path:"",remarks:""},enableReinitialize:!0,onSubmit:l=>{D(l)},validationSchema:_}),v=(l,s)=>{B(s),l=="photo1Path"?e.setFieldValue("photo1Path",s):e.setFieldValue("photo2Path",s);const o=new FileReader;o.onloadend=()=>{l=="photo1Path"?S(o.result):O(o.result)},o.readAsDataURL(s)},D=l=>{let s,o;s=P,o={circleId:l==null?void 0:l.circle,marketId:l==null?void 0:l.market,allottee:l==null?void 0:l.allottee,address:l==null?void 0:l.address,rate:l==null?void 0:l.rate,arrear:l==null?void 0:l.arrear,lastPayDt:l==null?void 0:l.lastPayDt,lastPayAmt:l==null?void 0:l.lastPayAmt,allottedLength:l==null?void 0:l.allottedLength,allottedBreadth:l==null?void 0:l.allottedBreadth,allottedHeight:l==null?void 0:l.allottedHeight,area:l==null?void 0:l.area,presentLength:l==null?void 0:l.presentLength,presentBreadth:l==null?void 0:l.presentBreadth,presentHeight:l==null?void 0:l.presentHeight,noOfFloors:l==null?void 0:l.noOfFloors,presentOccupier:l==null?void 0:l.presentOccupier,tradeLicense:l==null?void 0:l.tradeLicense,construction:l==null?void 0:l.construction,electricity:l==null?void 0:l.electricity,water:l==null?void 0:l.water,contactNo:l==null?void 0:l.contactNo,longitude:l==null?void 0:l.longitude,latitude:l==null?void 0:l.latitude,photo1Path:l==null?void 0:l.photo1Path,photo2Path:l==null?void 0:l.photo2Path,remarks:l==null?void 0:l.circle},d.post(`${s}`,o,J()).then(function(u){var N,k,y;((N=u==null?void 0:u.data)==null?void 0:N.status)===!0?(w("submitted successfully","success"),L(`/submitScreen/shop/${(y=(k=u==null?void 0:u.data)==null?void 0:k.data)==null?void 0:y.shopNo}`)):w("Failed to submit","error")}).catch(function(u){})},j=l=>{let s=l.target.name,o=l.target.value;s=="photo1Path"&&v(s,l.target.files[0]),s=="photo2Path"&&v(s,l.target.files[0]),s=="circle"&&E(o),s=="allottee"&&e.setFieldValue("allottee",allowCharacterInput(o,e.values.allottee,50)),s=="rate"&&e.setFieldValue("rate",allowFloatInput(o,e.values.rate,10)),s=="arrear"&&e.setFieldValue("arrear",allowFloatInput(o,e.values.arrear,10)),s=="allottedLength"&&e.setFieldValue("allottedLength",allowFloatInput(o,e.values.allottedLength,10)),s=="allottedBreadth"&&e.setFieldValue("allottedBreadth",allowFloatInput(o,e.values.allottedBreadth,10)),s=="allottedHeight"&&e.setFieldValue("allottedHeight",allowFloatInput(o,e.values.allottedHeight,10)),s=="presentLength"&&e.setFieldValue("presentLength",allowFloatInput(o,e.values.presentLength,10)),s=="presentBreadth"&&e.setFieldValue("presentBreadth",allowFloatInput(o,e.values.presentBreadth,10)),s=="presentHeight"&&e.setFieldValue("presentHeight",allowFloatInput(o,e.values.presentHeight,10)),s=="rate"&&e.setFieldValue("rate",allowFloatInput(o,e.values.rate,10)),s=="rate"&&e.setFieldValue("rate",allowFloatInput(o,e.values.rate,10)),s=="contactNo"&&e.setFieldValue("contactNo",allowNumberInput(o,e.values.contactNo,10))},U=()=>{d.post(C,{},g()).then(l=>{I(l.data.data),h(!1)}).catch(l=>{h(!1)})};c.useEffect(()=>{U(),Y(),h(!0)},[]);const Y=()=>{d.post(F,{},g()).then(l=>{R(l.data.data),h(!1)}).catch(l=>{h(!1)})},E=l=>{const s={circleId:l};d.post(q,s,g()).then(o=>{o.data.status&&V(o.data.data)}).catch(o=>{})};return T?r(m,{children:r("div",{className:"min-h-screen"})}):r(m,{children:r("div",{className:"bg-[#eff2f0] ",children:r("form",{onSubmit:e.handleSubmit,onChange:j,encType:"multipart/form-data",children:t("div",{className:" container mx-auto p-4",children:[t("div",{className:"grid grid-cols-1 md:grid-cols-12 lg:grid-cols-12 p-4 border-b",children:[t("div",{className:"col-span-6 flex space-x-3",children:[r("img",{src:"https://cdn-icons-png.flaticon.com/128/2981/2981313.png",className:"h-10 -mt-2"}),r("h1",{className:`${$}`,children:"Add Shops"})]}),r("div",{className:"col-span-6 flex space-x-3 justify-end"})]}),t("div",{className:"bg-[#fdfdfd]  rounded-2xl shadow-md p-2",children:[t("div",{className:"p-2",children:[t("div",{class:"valid-form flex flex-wrap flex-row -mx-4",children:[t("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/4 mb-4",children:[r("label",{className:`${i} inline-block mb-2 `,children:"Circle"}),t("select",{...e.getFieldProps("circle"),className:`${a} inline-block w-full relative`,children:[r("option",{selected:!0,children:"select"}),r(m,{children:p==null?void 0:p.map(l=>r("option",{value:l==null?void 0:l.id,children:l==null?void 0:l.circle_name}))})]}),r("p",{className:"text-red-500 text-xs absolute",children:e.touched.circle&&e.errors.circle?e.errors.circle:null})]}),t("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/4 mb-4",children:[r("label",{className:`${i} inline-block mb-2 `,children:"Market"}),t("select",{...e.getFieldProps("market"),className:`${a} inline-block w-full relative`,children:[r("option",{selected:!0,children:"select"}),r(m,{children:f==null?void 0:f.map(l=>r("option",{value:l==null?void 0:l.id,children:l==null?void 0:l.market_name}))})]}),r("p",{className:"text-red-500 text-xs absolute",children:e.touched.market&&e.errors.market?e.errors.market:null})]}),t("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/4 mb-4",children:[r("h1",{className:`${i} inline-block mb-2`,children:"Allottee"}),r("input",{type:"text",name:"allottee",className:`${a} inline-block w-full relative`,onChange:e.handleChange,value:e.values.allottee}),r("p",{className:"text-red-500 text-xs absolute",children:e.touched.allottee&&e.errors.allottee?e.errors.allottee:null})]}),t("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/4 mb-4",children:[r("label",{className:`${i} inline-block mb-2 `,children:"Contact no."}),r("input",{type:"text",name:"contactNo",className:`${a} inline-block w-full relative`,onChange:e.handleChange,value:e.values.contactNo}),r("p",{className:"text-red-500 text-xs absolute",children:e.touched.contactNo&&e.errors.contactNo?e.errors.contactNo:null})]})]}),t("div",{class:"valid-form flex flex-wrap flex-row -mx-4",children:[t("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/4 mb-4",children:[r("label",{className:`${i} inline-block mb-2 `,children:"Address"}),r("input",{type:"text",name:"address",className:`${a} inline-block w-full relative`,onChange:e.handleChange,value:e.values.address}),r("p",{className:"text-red-500 text-xs absolute",children:e.touched.address&&e.errors.address?e.errors.address:null})]}),t("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/4 mb-4",children:[r("label",{className:`${i} inline-block mb-2 `,children:"Rate"}),r("input",{type:"text",name:"rate",className:`${a} inline-block w-full relative`,onChange:e.handleChange,value:e.values.rate}),r("p",{className:"text-red-500 text-xs absolute",children:e.touched.rate&&e.errors.rate?e.errors.rate:null})]}),t("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/4 mb-4",children:[r("h1",{className:`${i} inline-block mb-2`,children:"Last payment date"}),r("input",{type:"date",name:"lastPayDt",className:`${a} inline-block w-full relative`,onChange:e.handleChange,value:e.values.lastPayDt}),r("p",{className:"text-red-500 text-xs absolute",children:e.touched.lastPayDt&&e.errors.lastPayDt?e.errors.lastPayDt:null})]}),t("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/4 mb-4",children:[r("h1",{className:`${i} inline-block mb-2`,children:"Last payment amount"}),r("input",{type:"text",name:"lastPayAmt",className:`${a} inline-block w-full relative`,onChange:e.handleChange,value:e.values.lastPayAmt}),r("p",{className:"text-red-500 text-xs absolute",children:e.touched.lastPayAmt&&e.errors.lastPayAmt?e.errors.lastPayAmt:null})]})]}),t("div",{class:"valid-form flex flex-wrap flex-row -mx-4",children:[t("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/4 mb-4",children:[r("h1",{className:`${i} inline-block mb-2`,children:"Arrear"}),r("input",{type:"text",name:"arrear",className:`${a} inline-block w-full relative`,onChange:e.handleChange,value:e.values.arrear}),r("p",{className:"text-red-500 text-xs absolute",children:e.touched.arrear&&e.errors.arrear?e.errors.arrear:null})]}),t("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/4 mb-4",children:[r("h1",{className:`${i} inline-block mb-2`,children:"Allotted Length"}),r("input",{type:"text",name:"allottedLength",className:`${a} inline-block w-full relative`,onChange:e.handleChange,value:e.values.allottedLength}),r("p",{className:"text-red-500 text-xs absolute",children:e.touched.allottedLength&&e.errors.allottedLength?e.errors.allottedLength:null})]}),t("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/4 mb-4",children:[r("label",{className:`${i} inline-block mb-2 `,children:"Allotted Breadth"}),r("input",{type:"text",name:"allottedBreadth",className:`${a} inline-block w-full relative`,onChange:e.handleChange,value:e.values.allottedBreadth}),r("p",{className:"text-red-500 text-xs absolute",children:e.touched.allottedBreadth&&e.errors.allottedBreadth?e.errors.allottedBreadth:null})]}),t("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/4 mb-4",children:[r("label",{className:`${i} inline-block mb-2 `,children:"Allotted Height"}),r("input",{type:"text",name:"allottedHeight",className:`${a} inline-block w-full relative`,onChange:e.handleChange,value:e.values.allottedHeight}),r("p",{className:"text-red-500 text-xs absolute",children:e.touched.allottedHeight&&e.errors.allottedHeight?e.errors.allottedHeight:null})]})]}),t("div",{class:"valid-form flex flex-wrap flex-row -mx-4",children:[t("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/4 mb-4",children:[r("h1",{className:`${i} inline-block mb-2`,children:"Area"}),r("input",{type:"text",name:"area",className:`${a} inline-block w-full relative`,onChange:e.handleChange,value:e.values.area}),r("p",{className:"text-red-500 text-xs absolute",children:e.touched.area&&e.errors.area?e.errors.area:null})]}),t("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/4 mb-4",children:[r("h1",{className:`${i} inline-block mb-2`,children:"Present Length"}),r("input",{type:"text",name:"presentLength",className:`${a} inline-block w-full relative`,onChange:e.handleChange,value:e.values.presentLength}),r("p",{className:"text-red-500 text-xs absolute",children:e.touched.presentLength&&e.errors.presentLength?e.errors.presentLength:null})]}),t("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/4 mb-4",children:[r("label",{className:`${i} inline-block mb-2 `,children:"Present Breadth"}),r("input",{type:"text",name:"presentBreadth",className:`${a} inline-block w-full relative`,onChange:e.handleChange,value:e.values.presentBreadth}),r("p",{className:"text-red-500 text-xs absolute",children:e.touched.presentBreadth&&e.errors.presentBreadth?e.errors.presentBreadth:null})]}),t("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/4 mb-4",children:[r("label",{className:`${i} inline-block mb-2 `,children:"Present Height"}),r("input",{type:"text",name:"presentHeight",className:`${a} inline-block w-full relative`,onChange:e.handleChange,value:e.values.presentHeight}),r("p",{className:"text-red-500 text-xs absolute",children:e.touched.presentHeight&&e.errors.presentHeight?e.errors.presentHeight:null})]})]}),t("div",{class:"valid-form flex flex-wrap flex-row -mx-4",children:[t("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/4 mb-4",children:[r("h1",{className:`${i} inline-block mb-2`,children:"No. Of Floors"}),r("input",{type:"text",name:"noOfFloors",className:`${a} inline-block w-full relative`,onChange:e.handleChange,value:e.values.noOfFloors}),r("p",{className:"text-red-500 text-xs absolute",children:e.touched.noOfFloors&&e.errors.noOfFloors?e.errors.noOfFloors:null})]}),t("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/4 mb-4",children:[r("h1",{className:`${i} inline-block mb-2`,children:"Present Occupier"}),r("input",{type:"text",name:"presentOccupier",className:`${a} inline-block w-full relative`,onChange:e.handleChange,value:e.values.presentOccupier}),r("p",{className:"text-red-500 text-xs absolute",children:e.touched.presentOccupier&&e.errors.presentOccupier?e.errors.presentOccupier:null})]}),t("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/4 mb-4",children:[r("label",{className:`${i} inline-block mb-2 `,children:"Trade license no."}),r("input",{type:"text",name:"tradeLicense",className:`${a} inline-block w-full relative`,onChange:e.handleChange,value:e.values.tradeLicense}),r("p",{className:"text-red-500 text-xs absolute",children:e.touched.tradeLicense&&e.errors.tradeLicense?e.errors.tradeLicense:null})]}),t("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/4 mb-4",children:[r("label",{className:`${i} inline-block mb-2 `,children:"Construction"}),t("select",{...e.getFieldProps("construction"),className:`${a} inline-block w-full relative`,children:[r("option",{selected:!0,children:"select"}),x==null?void 0:x.map(l=>r("option",{value:l==null?void 0:l.id,children:l==null?void 0:l.construction_type}))]}),r("p",{className:"text-red-500 text-xs absolute",children:e.touched.construction&&e.errors.construction?e.errors.construction:null})]})]}),t("div",{class:"valid-form flex flex-wrap flex-row -mx-4",children:[t("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/4 mb-4",children:[r("h1",{className:`${i} inline-block mb-2`,children:"Electricity"}),t("select",{...e.getFieldProps("electricity"),className:`${a} inline-block w-full relative`,children:[r("option",{selected:!0,children:"select"}),r("option",{value:"Yes",children:"Yes"}),r("option",{value:"No",children:"No"})]}),r("p",{className:"text-red-500 text-xs absolute",children:e.touched.electricity&&e.errors.electricity?e.errors.electricity:null})]}),t("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/4 mb-4",children:[r("h1",{className:`${i} inline-block mb-2`,children:"Water"}),t("select",{...e.getFieldProps("water"),className:`${a} inline-block w-full relative`,children:[r("option",{selected:!0,children:"select"}),r("option",{value:"Yes",children:"Yes"}),r("option",{value:"No",children:"No"})]}),r("p",{className:"text-red-500 text-xs absolute",children:e.touched.water&&e.errors.water?e.errors.water:null})]}),t("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/4 mb-4",children:[r("h1",{className:`${i} inline-block mb-2`,children:"Longitude"}),r("input",{type:"text",name:"longitude",className:`${a} inline-block w-full relative`,onChange:e.handleChange,value:e.values.longitude}),r("p",{className:"text-red-500 text-xs absolute",children:e.touched.longitude&&e.errors.longitude?e.errors.longitude:null})]}),t("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/4 mb-4",children:[r("h1",{className:`${i} inline-block mb-2`,children:"Latitude"}),r("input",{type:"text",name:"latitude",className:`${a} inline-block w-full relative`,onChange:e.handleChange,value:e.values.latitude}),r("p",{className:"text-red-500 text-xs absolute",children:e.touched.latitude&&e.errors.latitude?e.errors.latitude:null})]})]}),t("div",{class:"valid-form flex flex-wrap flex-row -mx-4",children:[t("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/4 mb-4",children:[r("label",{className:`${i} inline-block mb-2 `,children:"Photo1 path"}),r("input",{type:"file",name:"photo1Path",className:`${a} inline-block w-full relative`,onChange:e.handleChange}),r("img",{src:`${H}`,alt:"Upload img",className:"h-20"}),r("p",{className:"text-red-500 text-xs absolute",children:e.touched.photo1Path&&e.errors.photo1Path?e.errors.photo1Path:null})]}),t("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/4 mb-4",children:[r("label",{className:`${i} inline-block mb-2 `,children:"Photo2 path"}),r("input",{type:"file",name:"photo2Path",className:`${a} inline-block w-full relative`,onChange:e.handleChange}),r("img",{src:`${A}`,alt:"Upload img",className:"h-20"}),r("p",{className:"text-red-500 text-xs absolute",children:e.touched.photo2Path&&e.errors.photo2Path?e.errors.photo2Path:null})]}),t("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-2/4 mb-4",children:[r("h1",{className:`${i} inline-block mb-2`,children:"Remarks"}),r("textarea",{name:"remarks",onChange:e.handleChange,value:e.values.remarks,className:"border  p-2 w-full h-24",placeholder:"Write your remark..."}),r("p",{className:"text-red-500 text-xs absolute",children:e.touched.remarks&&e.errors.remarks?e.errors.remarks:null})]})]})]}),r("div",{className:"pb-8",children:r("button",{type:"submit",className:"bg-[#6AB783] px-7 py-2 text-white font-semibold rounded leading-5 shadow-lg w-full",children:"Save"})})]})]})})})})}export{ce as default};
