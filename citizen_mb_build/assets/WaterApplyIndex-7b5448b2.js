import{r as o,u as X,a,F as g,j as e}from"./index-cfc403bf.js";import{c as Z,b as D,u as ee}from"./index.esm-f8bc8447.js";import{W as le}from"./WaterApiList-bae670fd.js";import{a as W}from"./axios-28c6f114.js";import{G as ae}from"./iconBase-3e0d2561.js";function j(N){return ae({tag:"svg",attr:{viewBox:"0 0 14 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}}]})(N)}const ue=N=>{var y,f,$;const[m,q]=o.useState(),[h,te]=o.useState(!1);o.useState(!1),o.useState(!1),o.useState();const[se,u]=o.useState(!1),[i,x]=o.useState(),[p,U]=o.useState([]),[b,ne]=o.useState(),[n,de]=o.useState(),[G,ce]=o.useState(!1),{header:v,api_getSafHoldingDetails:Y,api_ulbList:E}=le(),H=X(),d="form-group col-span-4 md:col-span-1 mb-6 md:px-4",r="form-label inline-block mb-1 text-gray-900 text-sm font-semibold",c="bg-white px-2 py-1 w-full rounded-sm shadow-md border-[1px] border-gray-400 cursor-pointer";Z({typeofConnection:D().required("Require")});const l=ee({initialValues:{},enableReinitialize:!0,onSubmit:(t,s)=>{console.log("Value.....",t)}}),J=t=>{};o.useEffect(()=>{K()},[]);const K=()=>{W.get(`${E}`,v).then(t=>{console.log("LIst of ULB",t),q(t.data.data)}).catch(t=>console.log("Exception while feting ULB LIst",t))},Q=()=>{console.log("Fetching Data.."),U([]);const t={connectionThrough:l.values.connectionThrough,id:l.values.connectionThrough,ulbId:l.values.ulb};W.post(Y,t,v).then(s=>{var w,T,F,P,A,S,C,L,_,V,k,B,z,I,O,M,R;console.log("Response of holding/saf",s),s.data.status==!0&&(u(!1),x((w=s==null?void 0:s.data)==null?void 0:w.data),l.setFieldValue("totalArea",(F=(T=s==null?void 0:s.data)==null?void 0:T.data)==null?void 0:F.areaInSqFt),l.setFieldValue("address",(A=(P=s==null?void 0:s.data)==null?void 0:P.data)==null?void 0:A.prop_address),l.setFieldValue("pincode",(C=(S=s==null?void 0:s.data)==null?void 0:S.data)==null?void 0:C.prop_pin_code),l.setFieldValue("wardNo",(_=(L=s==null?void 0:s.data)==null?void 0:L.data)==null?void 0:_.wardNo),l.setFieldValue("old_ward_no",(k=(V=s==null?void 0:s.data)==null?void 0:V.data)==null?void 0:k.old_ward_no),l.setFieldValue("ownerName",(z=(B=s==null?void 0:s.data)==null?void 0:B.data)==null?void 0:z.owner_name),l.setFieldValue("guardianName",(O=(I=s==null?void 0:s.data)==null?void 0:I.data)==null?void 0:O.guardian_name),l.setFieldValue("mobileNo",(R=(M=s==null?void 0:s.data)==null?void 0:M.data)==null?void 0:R.mobile_no),l.setFieldValue("ownerType",1)),s.data.status==!1&&(x({message:"Please enter valid no."}),u(!1))}).catch(s=>{console.log("Failed to Saf Holding ",s),x({message:"Error While Fetching Data"}),u(!1)})};return a(g,{children:[e("div",{className:"text-center font-bold text-gray-700 text-lg border-b-2 border-gray-700 mx-4 mb-4",children:e("p",{children:" Applying For New Water Connection "})}),a("form",{className:"border-2 border-blue-700 bg-blue-50 mb-4 m-2",onChange:J,onSubmit:l.handleSubmit,children:[e("h1",{className:"text-center font-semibold bg-blue-700 text-white uppercase text-lg",children:"Application Form"}),a("div",{className:"grid grid-cols-1 md:grid-cols-4 p-6",children:[a("div",{className:"col-span-4 grid grid-cols-1 md:grid-cols-4",children:[a("div",{className:"grid grid-cols-12 text-sm text-gray-700 mb-6",children:[a("label",{className:"col-span-12 font-semibold mb-2",children:["Select ULB",e("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),a("span",{className:"col-span-12",children:[a("select",{type:"date",...l.getFieldProps("ulb"),value:l.values.ulb,className:"bg-white px-2 py-1 w-full rounded-sm shadow-md border-[1px] border-gray-400 cursor-pointer",children:[e("option",{value:"",children:"Select"}),m==null?void 0:m.map(t=>e("option",{value:t.id,children:t.ulb_name}))]}),e("span",{className:"text-red-600 text-xs",children:l.touched.ulb&&l.errors.ulb?l.errors.ulb:null})]})]}),a("div",{className:`${d}`,children:[a("label",{className:`${r}`,children:[e("small",{className:"block mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Connection Through"]}),a("select",{...l.getFieldProps("connectionThrough"),className:`${c} cursor-pointer `,children:[e("option",{value:"",children:" Select "}),e("option",{value:"1",children:"Holding No."}),e("option",{value:"2",children:"SAF No."})]}),e("p",{className:"text-red-500 text-xs",children:l.touched.connectionThrough&&l.errors.connectionThrough?l.errors.connectionThrough:null})]}),a("div",{className:`${d}`,children:[a("label",{className:`${r}`,children:[e("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Holding/SAF"]}),e("input",{...l.getFieldProps("holdingNo"),onBlur:Q,className:`${c} cursor-pointer `}),e("p",{className:"text-red-500 text-xs",children:l.touched.holdingNo&&l.errors.holdingNo?l.errors.holdingNo:null})]}),a("div",{className:`${d}`,children:[a("label",{className:`${r}`,children:[e("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Type of Request"]}),a("select",{...l.getFieldProps("typeofConnection"),className:`${c} cursor-pointer `,children:[e("option",{value:"",children:"select"}),e("option",{value:"1",children:"New Connection"}),e("option",{value:"2",children:"Regularization"})]}),e("p",{className:"text-red-500 text-xs",children:l.touched.typeofConnection&&l.errors.typeofConnection?l.errors.typeofConnection:null})]}),a("div",{className:`${d}`,children:[a("label",{className:`${r}`,children:[e("small",{className:"block mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Owner Type"]}),i!=null&&i.tenanted?a("select",{...l.getFieldProps("ownerType"),className:`${c} `,children:[e("option",{value:"",children:"select"}),e("option",{value:"1",children:"Owner"}),e("option",{value:"2",children:"Tenant"})]}):e("div",{children:e("input",{type:"text",disabled:!0,value:"Owner",className:`${c} bg-gray-100`})}),e("p",{className:"text-red-500 text-xs",children:l.touched.ownerType&&l.errors.ownerType?l.errors.ownerType:null})]})]}),a("div",{className:"col-span-4 grid grid-cols-3",children:[a("div",{className:`${d}`,children:[a("label",{className:`${r}`,children:[e("small",{className:"block mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Property Type"]}),a("select",{...l.getFieldProps("propertyType"),className:`${c} cursor-pointer `,children:[e("option",{value:"",children:"Select"}),((y=i==null?void 0:i.usageType)==null?void 0:y.length)>0&&((f=i==null?void 0:i.usageType)==null?void 0:f.map(t=>e("option",{value:t.id,children:t.usageType}))),e("option",{value:"7",children:"Apartment / Multistory Building"})]}),e("p",{className:"text-red-500 text-xs",children:l.touched.propertyType&&l.errors.propertyType?l.errors.propertyType:null})]}),a("div",{className:`${d}`,children:[a("label",{className:`${r}`,children:[e("small",{className:"block mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Category Type"]}),a("select",{disabled:!h,...l.getFieldProps("categoryType"),type:"text",className:`${c} ${!h&&"bg-gray-300 opacity-30"}`,children:[e("option",{value:"",children:"Select"}),e("option",{value:"APL",children:"APL"}),e("option",{value:"BPL",children:"BPL"})]}),e("p",{className:"text-red-500 text-xs",children:l.touched.categoryType&&l.errors.categoryType?l.errors.categoryType:null})]}),a("div",{className:`${d}`,children:[a("label",{className:`${r}`,children:[e("small",{className:"block mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Pipeline Type"]}),a("select",{disabled:!h,...l.getFieldProps("pipelineType"),type:"date",className:`${c} ${!h&&"bg-gray-300 opacity-30"}`,children:[e("option",{value:"",children:"Select"}),e("option",{value:"2",children:"New Pipeline"}),e("option",{value:"1",children:"Old Pipeline"})]}),e("p",{className:"text-red-500 text-xs",children:l.touched.pipelineType&&l.errors.pipelineType?l.errors.pipelineType:null})]})]}),a("div",{className:"col-span-4 grid grid-cols-3",children:[a("div",{className:`${d}`,children:[a("label",{className:`${r}`,children:[e("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Ward No."]}),a("div",{children:[e("input",{disabled:!0,type:"text",...l.getFieldProps("old_ward_no"),className:`${c} bg-gray-100 `}),e("input",{type:"hidden",...l.getFieldProps("wardNo"),className:`${c} bg-gray-100 `})]})]}),a("div",{className:`${d}`,children:[a("label",{className:`${r}`,children:[e("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Total Area(Sq.Ft.)"]}),e("input",{disabled:!0,type:"text",...l.getFieldProps("totalArea"),className:`${c} bg-gray-100 `}),e("p",{className:"text-red-500 text-xs",children:l.touched.totalArea&&l.errors.totalArea?l.errors.totalArea:null})]}),a("div",{className:`${d}`,children:[a("label",{className:`${r}`,children:[e("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Pincode"]}),e("input",{type:"text",disabled:!0,...l.getFieldProps("pincode"),className:`${c} bg-gray-100`}),e("p",{className:"text-red-500 text-xs",children:l.touched.pincode&&l.errors.pincode?l.errors.pincode:null})]})]}),e("div",{className:"col-span-4 grid grid-cols-1",children:a("div",{className:`${d}`,children:[a("label",{className:`${r}`,children:[e("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Address"]}),e("textarea",{type:"text",disabled:!0,...l.getFieldProps("address"),className:`${c} bg-gray-100`}),e("p",{className:"text-red-500 text-xs",children:l.touched.address&&l.errors.address?l.errors.address:null})]})}),(i==null?void 0:i.owners)&&e("div",{className:"col-span-4 grid grid-cols-1",children:a("div",{className:`${d}`,children:[e("div",{className:"p-2 bg-indigo-500 rounded text-white",children:a("p",{className:"font-semibold text-gray-200 flex text-xs",children:[" ",e("span",{className:"mt-0.5 mr-1",children:e(j,{})})," List of Owner(s) from Property"]})}),a("table",{class:"table-auto w-full mt-4 border rounded-md shadow-md",children:[e("thead",{class:"text-xs text-left text-gray-900 bg-indigo-300",children:a("tr",{children:[e("th",{}),e("th",{class:"p-2",children:e("div",{class:"",children:"Sl"})}),e("th",{class:"p-2",children:e("div",{class:"",children:"Applicant Name"})}),e("th",{class:"p-2",children:e("div",{class:"",children:"Applicant Father"})}),e("th",{class:"p-2",children:e("div",{class:"",children:"Phone No"})}),e("th",{class:"p-2",children:e("div",{class:"",children:"Email"})})]})}),e("tbody",{class:"text-sm divide-y divide-gray-100",children:e(g,{children:($=i==null?void 0:i.owners)==null?void 0:$.map((t,s)=>a("tr",{children:[e("td",{}),e("td",{class:"p-2",children:a("div",{class:"font-semibold text-gray-800 text-left text-xs",children:[s+1,"."]})}),e("td",{class:"p-2",children:e("div",{class:"font-medium text-gray-800 text-left text-xs",children:t!=null&&t.ownerName?t==null?void 0:t.ownerName:"N/A"})}),e("td",{class:"p-2",children:e("div",{class:"text-left",children:t!=null&&t.guardianName?t==null?void 0:t.guardianName:"N/A"})}),e("td",{class:"p-2",children:e("div",{class:"text-left font-medium text-gray-800  text-xs",children:t!=null&&t.mobileNo?t==null?void 0:t.mobileNo:"N/A"})}),e("td",{class:"p-2",children:e("div",{class:"font-medium text-gray-800 text-left text-xs",children:t!=null&&t.email?t==null?void 0:t.email:"N/A"})})]}))})})]})]})}),e("div",{className:"col-span-4 grid grid-cols-1",children:p.length==0?e("p",{className:"text-center font-semibold text-sm  text-red-500"}):a("div",{className:`${d}`,children:[a("div",{className:"p-2 bg-yellow-200 rounded",children:[a("p",{className:"font-semibold text-gray-800 flex",children:[" ",e("span",{className:"mt-0.5 mr-1",children:e(j,{})})," List of Tenet"]}),e("p",{className:"text-sm font-semibold text-gray-700",children:"You can add or remove water Tenet from below actions."})]}),a("table",{class:"table-auto w-full mt-4 border rounded-md shadow-md",children:[e("thead",{class:"text-xs text-left text-gray-900 bg-sky-300",children:a("tr",{children:[e("th",{}),e("th",{class:"p-2",children:e("div",{class:"",children:"Sl"})}),e("th",{class:"p-2",children:e("div",{class:"",children:"Applicant Name"})}),e("th",{class:"p-2",children:e("div",{class:"",children:"Applicant Father"})}),e("th",{class:"p-2",children:e("div",{class:"",children:"Phone No"})}),e("th",{class:"p-2",children:e("div",{class:"",children:"Email"})}),e("th",{class:"p-2",children:e("div",{class:" text-center",children:"Delete"})})]})}),e("tbody",{class:"text-sm divide-y divide-gray-100",children:e(g,{children:p==null?void 0:p.map((t,s)=>a("tr",{children:[e("td",{}),e("td",{class:"p-2",children:a("div",{class:"font-semibold text-gray-800 text-left text-xs",children:[s+1,"."]})}),e("td",{class:"p-2",children:e("div",{class:"font-medium text-gray-800 text-left text-xs",children:t==null?void 0:t.ownerName})}),e("td",{class:"p-2",children:e("div",{class:"text-left",children:t==null?void 0:t.guardianName})}),e("td",{class:"p-2",children:e("div",{class:"text-left font-medium text-gray-800  text-xs",children:t==null?void 0:t.mobileNo})}),e("td",{class:"p-2",children:e("div",{class:"font-medium text-gray-800 text-left text-xs",children:t==null?void 0:t.email})}),e("td",{class:"",children:e("div",{class:"flex justify-center",children:e("button",{type:"button",onClick:()=>handleRemove(s),children:e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-4 h-4 text-red-500 hover:text-red-700",children:e("path",{"fill-rule":"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 013.878.512.75.75 0 11-.256 1.478l-.209-.035-1.005 13.07a3 3 0 01-2.991 2.77H8.084a3 3 0 01-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 01-.256-1.478A48.567 48.567 0 017.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 013.369 0c1.603.051 2.815 1.387 2.815 2.951zm-6.136-1.452a51.196 51.196 0 013.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 00-6 0v-.113c0-.794.609-1.428 1.364-1.452zm-.355 5.945a.75.75 0 10-1.5.058l.347 9a.75.75 0 101.499-.058l-.346-9zm5.48.058a.75.75 0 10-1.498-.058l-.347 9a.75.75 0 001.5.058l.345-9z","clip-rule":"evenodd"})})})})})]}))})})]})]})}),G&&a("div",{className:"col-span-4 grid grid-cols-4",children:[a("div",{className:`${d}`,children:[a("label",{className:`${r}`,children:["Applicant Name ",e("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e("input",{type:"text",...l.getFieldProps("ownerName"),className:`${c} `,onChange:l.handleChange}),e("p",{className:"text-red-500 text-xs",children:(n==null?void 0:n.ownerName)&&(n==null?void 0:n.ownerName)})]}),a("div",{className:`${d}`,children:[a("label",{className:`${r}`,children:["Guardian Name ",e("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e("input",{type:"text",...l.getFieldProps("guardianName"),className:`${c}`,onChange:l.handleChange}),e("p",{className:"text-red-500 text-xs",children:(n==null?void 0:n.guardianName)&&(n==null?void 0:n.guardianName)})]}),a("div",{className:`${d}`,children:[a("label",{className:`${r}`,children:["Mobile No ",e("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e("input",{type:"text",...l.getFieldProps("mobileNo"),className:`${c}`,onChange:l.handleChange}),e("p",{className:"text-red-500 text-xs",children:(n==null?void 0:n.mobileNo)&&(n==null?void 0:n.mobileNo)})]}),a("div",{className:`${d}`,children:[e("label",{className:`${r}`,children:"Email Id "}),e("input",{...l.getFieldProps("email"),className:`${c}`,onChange:l.handleChange}),e("p",{className:"text-red-500 text-xs",children:l.touched.email&&l.errors.email?l.errors.email:null})]}),e("div",{className:"col-span-4 grid grid-cols-1",children:e("div",{className:"col-span-4",children:e("div",{className:"float-right mr-4 -mt-4 mb-5",children:e("button",{type:"button",onClick:handleMultipleOwner,className:"bg-cyan-500 hover:bg-cyan-400 text-sm text-white px-3 py-1 rounded",children:"Add"})})})})]}),e("div",{className:"col-span-4 mb-3",children:e("div",{className:"text-center text-red-600 font-semibold",children:b&&"Error : "+b})}),e("div",{className:"col-span-4",children:e("div",{className:"flex justify-center",children:a("div",{className:"space-x-8 flex",children:[e("button",{type:"button",onClick:()=>H("/view-water"),className:" px-5 py-2 bg-red-600 text-white font-medium text-sm leading-tight  rounded  hover:bg-red-700 hover:shadow-lg focus:bg-red-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-red-800 active:shadow-lg transition duration-150 ease-in-out",children:"Cancel"}),e("button",{type:"submit",className:" px-5 py-2 bg-indigo-600 text-white font-medium text-sm leading-tight  rounded  hover:bg-indigo-700 hover:shadow-lg focus:bg-indigo-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-indigo-800 active:shadow-lg transition duration-150 ease-in-out",children:"Submit Form"})]})})})]})]})]})};export{ue as default};
