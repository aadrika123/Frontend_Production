import{M as b,u as L,r,c as g,A as y,b as t,F as P,j as a,Q as p}from"./index-b446bed8.js";import{R as U,T as j}from"./RentalApiList-9a601e30.js";import{u as B}from"./formik.esm-7b462340.js";import{l as E,n as l}from"./PowerupFunctions-50dbe47a.js";const O={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"white",border:"none",overflowY:"scroll"}};b.setAppElement("#root");function G(){const{id:i}=L();console.log("id.....",i);const{api_tollDetailsById:N,api_tollTcPayment:v}=U(),{titleColor:w}=j(),S=(s,n)=>{p.dismiss(),n=="success"&&p.success(s),n=="error"&&p.error(s)},[C,c]=r.useState(!1),[e,_]=r.useState();r.useState("");const[q,z]=r.useState(""),[k,T]=r.useState(""),[m,A]=r.useState(""),[D,x]=r.useState(!1);function F(){x(!0)}function u(){x(!1)}const M=()=>{const s=new Date(k);return`${new Date(m).getDate()-s.getDate()+1}`},d=B({initialValues:{amount:"",fromDate:"",uptoDate:""},onSubmit:s=>{console.log("shop data",s),I(s)}}),R=s=>{console.log("target value",s.target.value),console.log("target value",s.target.name);let n=s.target.name,o=s.target.value;console.log("value to ...",o),n=="ddmmyy"&&z(o),n=="fromDate"&&T(o),n=="uptoDate"&&A(o)},I=s=>{c(!0);let n;n={tollId:i,dateFrom:s==null?void 0:s.fromDate,dateUpto:s==null?void 0:s.uptoDate},g.post(v,n,y()).then(o=>{var f;console.log("toll details...1",o),o.data.status&&(S((f=o==null?void 0:o.data)==null?void 0:f.message,"success"),h()),c(!1)}).catch(o=>{console.log(o),c(!1)})};r.useEffect(()=>{h()},[]);const h=()=>{c(!0);const s={tollId:i};g.post(N,s,y()).then(n=>{console.log("toll details...",n.data),n.data.status&&_(n.data.data),c(!1)}).catch(n=>{console.log(n),c(!1)})};return console.log("payment date for payment amount ...",m),t(P,{children:[C&&E(),t("div",{className:"bg-[#eff2f0]",children:[t("div",{className:"col-span-12",children:[" ",a("h1",{className:`font-semibold  ${w} text-xl px-4 py-2 text-gray-600`,children:"Toll Details"})]}),a("div",{className:" flex justify-center items-center  overflow-hidden p-4 ",children:t("div",{class:"  w-full md:w-1/3 rounded-lg bg-[#fdfdfd] shadow-indigo-50 shadow-md",children:[t("div",{className:"bg-[#6c68f0] rounded-lg p-4 text-white",children:[t("p",{class:"text-md text-center font-semibold ",children:["Toll No. : ",a("span",{children:l(e==null?void 0:e.toll_no)})]}),a("p",{class:"text-center py-1",children:t("span",{class:"text-md justify-center text-gray-50 flex",children:[a("span",{className:"",children:"Payable Amount :  "}),m?t("p",{children:["Rs. ",`${e==null?void 0:e.rate}`*M()]}):t("h1",{children:["Rs. ",e==null?void 0:e.rate]})]})}),t("form",{onSubmit:d.handleSubmit,onChange:R,children:[t("div",{className:"flex space-x-2 py-1  ",children:[t("p",{class:"text-sm text-center py-1 px-1",children:["Payment Upto : ",a("span",{children:e==null?void 0:e.last_payment_date})]}),t(b,{isOpen:D,onRequestClose:u,style:O,contentLabel:"Example Modal",children:[t("div",{className:"flex space-x-2",children:[t("div",{children:[a("p",{className:"capitalize text-xs",children:"date from"}),a("input",{type:"date",name:"fromDate",className:"px-2 text-gray-800 border border-gray-300 rounded-sm",onChange:d.handleChange,value:d.values.fromDate})]}),t("div",{children:[a("p",{className:"capitalize text-xs",children:"date upto"}),a("input",{type:"date",name:"uptoDate",className:"px-2 text-gray-800 border border-gray-300 rounded-sm",onChange:d.handleChange,value:d.values.uptoDate})]})]}),a("div",{className:"mt-1 text-center",children:a("button",{className:"text-xs border bg-blue-500 py-1 px-2",onClick:u,children:"Confirm"})})]}),a("div",{className:"bg-gray-300 text-gray-600 py-1 px-4 rounded-sm capitalize text-xs mt-1",onClick:F,children:"select date"})]}),a("div",{className:"",children:a("button",{type:"submit",className:"bg-amber-500 mt-1 py-2 px-2 rounded-sm capitalize text-xs w-full ",children:"Submit"})})]})]}),a("div",{class:"bg-white shadow-lg rounded-lg  w-full mt-4",children:a("div",{children:t("ul",{children:[t("li",{className:"p-2 px-5 text-md text-gray-600 font-semibold capitalize  border-b shadow-sm",children:["vendor Name :",a("span",{className:"px-4 text-md text-gray-500 uppercase",children:l(e==null?void 0:e.vendor_name)})]}),t("li",{className:"p-2 px-5 text-md text-gray-600 font-semibold capitalize border-b shadow-sm ",children:["Address :",a("span",{className:"px-4 text-md text-gray-500 uppercase",children:l(e==null?void 0:e.address)})]}),t("li",{className:"p-2 px-5 text-md text-gray-600 font-semibold capitalize  border-b shadow-sm",children:["Circle :",a("span",{className:"px-4 text-md text-gray-500 uppercase",children:l(e==null?void 0:e.circle_name)})]}),t("li",{className:"p-2 px-5 text-md text-gray-600 font-semibold capitalize border-b shadow-sm ",children:["market :",a("span",{className:"px-4 text-md text-gray-500 uppercase",children:l(e==null?void 0:e.market_name)})]}),t("li",{className:"p-2 px-5 text-md text-gray-600 font-semibold capitalize border-b shadow-sm ",children:["Rate :",a("span",{className:"px-4 text-md text-gray-500 uppercase",children:l(e==null?void 0:e.rate)})]}),t("li",{className:"p-2 px-5 text-md text-gray-600 font-semibold capitalize border-b shadow-sm ",children:["Last Payment date :",a("span",{className:"px-4 text-md text-gray-500 uppercase",children:l(e==null?void 0:e.last_payment_date)})]}),t("li",{className:"p-2 px-5 text-md text-gray-600 font-semibold capitalize border-b shadow-sm ",children:["Last payment amt. :",a("span",{className:"px-4 text-md text-gray-500 uppercase",children:l(e==null?void 0:e.last_payment_amount)})]})]})})})]})})]})]})}export{G as default};
