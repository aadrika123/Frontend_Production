import{r as i,c as R,a as T,u as L,b as M,d as B,o as U,j as e,F as q,R as G,B as I,_ as j,e as $}from"./index-D-9IcDeW.js";import{C as H,e as D}from"./CaptchaComponent-D3U3a2bM.js";import{g as z}from"./services-KQnp_8oA.js";import{R as V}from"./RHFPasswordField-B3IuwKAe.js";import"./md5-CLtX0ey1.js";function O(){const[f,w]=i.useState(""),[N,v]=i.useState(""),[S,C]=i.useState(null),[k,p]=i.useState(!1),[A,b]=i.useState(!0);i.useEffect(()=>{E()},[]);const E=async()=>{const t=[];t.push(window.screen.width),t.push(window.screen.height),t.push(window.screen.colorDepth),t.push(window.screen.pixelDepth),t.push(window.devicePixelRatio),t.push(navigator.userAgent),t.push(navigator.language),t.push(navigator.platform),t.push(navigator.hardwareConcurrency),t.push(navigator.maxTouchPoints),t.push(navigator.vendor),t.push(navigator.deviceMemory||0),t.push(Intl.DateTimeFormat().resolvedOptions().timeZone),t.push(new Date().getTimezoneOffset());const a=c();t.push(a);const s=g();s&&(t.push(s.vendor),t.push(s.renderer));const r=await h();t.push(r);const d=y();t.push(d.join(","));const o=Array.from(navigator.plugins||[]).map(x=>x.name).join(",");t.push(o);const m=t.join("|"),u=await n(m),l=_(u);v(u),w(l),C({screenResolution:`${window.screen.width}x${window.screen.height}`,colorDepth:window.screen.colorDepth,platform:navigator.platform,cpuCores:navigator.hardwareConcurrency,deviceMemory:navigator.deviceMemory||"N/A",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,language:navigator.language,canvasFingerprint:a.substring(0,16),webglVendor:(s==null?void 0:s.vendor)||"N/A",audioFingerprint:r.substring(0,16),fontsDetected:d.length}),b(!1)},c=()=>{try{const t=document.createElement("canvas"),a=t.getContext("2d");return a?(t.width=200,t.height=50,a.textBaseline="top",a.font='14px "Arial"',a.textBaseline="alphabetic",a.fillStyle="#f60",a.fillRect(125,1,62,20),a.fillStyle="#069",a.fillText("UniqueSystemðŸŽ¨",2,15),a.fillStyle="rgba(102, 204, 0, 0.7)",a.fillText("UniqueSystemðŸŽ¨",4,17),t.toDataURL()):"canvas_error"}catch{return"canvas_error"}},g=()=>{try{const t=document.createElement("canvas"),a=t.getContext("webgl")||t.getContext("experimental-webgl");if(!a)return null;const s=a.getExtension("WEBGL_debug_renderer_info");return s?{vendor:a.getParameter(s.UNMASKED_VENDOR_WEBGL),renderer:a.getParameter(s.UNMASKED_RENDERER_WEBGL)}:null}catch{return null}},h=()=>new Promise(t=>{try{const a=window.AudioContext||window.webkitAudioContext;if(!a){t("no_audio");return}const s=new a,r=s.createOscillator(),d=s.createAnalyser(),o=s.createGain(),m=s.createScriptProcessor(4096,1,1);o.gain.value=0,r.connect(d),d.connect(m),m.connect(o),o.connect(s.destination),m.onaudioprocess=u=>{const l=u.outputBuffer.getChannelData(0);let x=0;for(let F=0;F<l.length;F++)x+=Math.abs(l[F]);const P=x.toString();r.disconnect(),m.disconnect(),o.disconnect(),s.close(),t(P)},r.start(0),setTimeout(()=>t("audio_timeout"),100)}catch{t("audio_error")}}),y=()=>{const t=["monospace","sans-serif","serif"],a=["Arial","Verdana","Times New Roman","Courier New","Georgia","Palatino","Garamond","Bookman","Comic Sans MS","Trebuchet MS","Impact","Lucida Console","Tahoma","Helvetica","Century Gothic"],r=document.createElement("canvas").getContext("2d");if(!r)return[];const d="mmmmmmmmmmlli",o="72px",m={};t.forEach(l=>{r.font=`${o} ${l}`,m[l]=r.measureText(d).width});const u=[];return a.forEach(l=>{t.forEach(x=>{r.font=`${o} '${l}', ${x}`,r.measureText(d).width!==m[x]&&(u.includes(l)||u.push(l))})}),u},n=async t=>{const s=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",s);return Array.from(new Uint8Array(r)).map(o=>o.toString(16).padStart(2,"0")).join("")},_=t=>{const a=t.match(/.{1,4}/g);return a?a.join("-").toUpperCase():t.toUpperCase()};return{loading:A,uniqueId:f,fingerprint:N,details:S,copied:k,copyToClipboard:()=>{navigator.clipboard.writeText(f).then(()=>{p(!0),setTimeout(()=>p(!1),2e3)})},getCanvasFingerprint:c}}const W=R({email:T().email("Please enter a valid email address").required("Email is required"),password_123:T().min(8,"Password must be at least 8 characters").required("Password is required")}),K=()=>{const f=L({});L({}),i.useState(!1),i.useState(!1),i.useState(!1),i.useState("");const[w,N]=i.useState({value:"",isValid:!1,error:""}),[v,S]=i.useState(0),{fingerprint:C}=O(),{login:k}=M(),p=B({defaultValues:{email:"",password_123:""},resolver:U(W)}),A=(c,g)=>{N(h=>({...h,value:c,isValid:g,error:h.error&&g?"":h.error}))},b=c=>{c.preventDefault(),j.error("Pasting is not allowed in this field.")},E=async c=>{var h,y;console.log("Form data:",c);const g={email:c.email,password:D(c.password_123),captcha:D(w.value),fingerprint:D(C)};try{const n=await f.mutateAsync({api:$.login,data:g});(h=n==null?void 0:n.data)!=null&&h.success?(await k(n),j.success(n.data.message||"Login successful!")):(S(v+1),j.error(((y=n==null?void 0:n.data)==null?void 0:y.message)||"Login failed"))}catch(n){console.error("Login error:",n),j.error(z(n.message)||"An error occurred during login")}};return e.jsxs(e.Fragment,{children:[e.jsx("header",{className:"darks:bg-gray-800 darks:border-gray-800 h-[7vh] w-full border-b border-gray-200 bg-white",children:e.jsx("div",{className:"container mx-auto xl:max-w-6xl",children:e.jsx("nav",{className:"",id:"desktop-menu",children:e.jsx("a",{className:"",href:"",children:e.jsx("div",{className:"mt-6",children:e.jsx("span",{className:"text-xl font-bold uppercase",children:"Login - Grievance Management System"})})})})})}),e.jsx("main",{className:"flex h-[80vh] items-center justify-center bg-gray-100",children:e.jsx("div",{className:"darks:bg-gray-900 darks:bg-opacity-40 bg-gray-100",children:e.jsx("div",{className:"container mx-auto px-4 xl:max-w-6xl",children:e.jsxs("div",{className:"-mx-4 flex flex-row flex-wrap",children:[e.jsx("div",{className:"w-full max-w-full flex-shrink px-4 lg:w-1/2",children:e.jsx("div",{className:"mb-12 w-full max-w-full px-2 sm:px-12 lg:mb-0 lg:pr-20",children:e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"darks:bg-gray-800 rounded-lg bg-white p-6 shadow-xl sm:px-12 sm:py-8",children:[e.jsxs("div",{className:"space-y-3 text-center",children:[e.jsx("h1",{className:"darks:text-gray-300 Ttext-center mb-0 text-2xl font-bold leading-normal text-gray-800",children:"Welcome Back"}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("div",{className:"mb-7 w-10 border border-b border-black"})})]}),e.jsx(q,{methods:p,onSubmit:p.handleSubmit(E),children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"password",name:"fake-password",autoComplete:"new-password",style:{display:"none"},"aria-hidden":"true"}),e.jsx("div",{className:"space-y-2",children:e.jsx(G,{className:"w-full bg-background px-5 py-5",name:"email",inputValidation:["removeSpace"],placeholder:"Enter your email",onPaste:b,autoComplete:"off"})}),e.jsx("div",{className:"space-y-2",children:e.jsx(V,{className:"w-full bg-background px-5 py-5",name:"password_123",placeholder:"Enter your password",onPaste:b,autoComplete:"off"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"darks:text-gray-300 block text-sm font-medium text-gray-700",children:"Security Verification"}),e.jsx(H,{onCaptchaChange:A,error:w.error,length:6,width:250,height:30,placeholder:"Enter captcha code",className:"w-full",inputClassName:"px-5",refreshButtonClassName:"hover:bg-blue-50",fetchNewCaptcha:v})]}),e.jsx("div",{children:e.jsxs(I,{type:"submit",isLoading:p.formState.isSubmitting,className:"mt-2 w-full px-4 py-5 shadow-none",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",className:"bi bi-box-arrow-in-right mr-1 inline-block h-4 w-4 ltr:mr-2 rtl:ml-2",viewBox:"0 0 16 16",children:[e.jsx("path",{fillRule:"evenodd",d:"M6 3.5a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 0-1 0v2A1.5 1.5 0 0 0 6.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-8A1.5 1.5 0 0 0 5 3.5v2a.5.5 0 0 0 1 0v-2z"}),e.jsx("path",{fillRule:"evenodd",d:"M11.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H1.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z"})]}),"Login"]})})]})})]})})})}),e.jsx("div",{className:"w-full max-w-full flex-shrink px-4 lg:w-1/2",children:e.jsxs("div",{className:"mt-6 text-center lg:mt-0",children:[e.jsx("img",{src:"/images/mob.png",alt:"Grievance Management System",className:"h-68 mx-auto rounded-lg"}),e.jsxs("div",{className:"mt-4 px-4",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Manage Grievance with Ease of Access"}),e.jsx("p",{className:"mb-4 text-base text-gray-500",children:"Easily manage grievance applications with simplified workflows."})]})]})})]})})})}),e.jsx("footer",{className:"darks:bg-gray-800 darks:border-gray-800 h-[10vh] w-full border-t border-gray-200 bg-white py-6",children:e.jsx("div",{className:"container mx-auto w-full px-4 xl:max-w-6xl",children:e.jsx("div",{className:"mx-auto px-4",children:e.jsxs("div",{className:"-mx-4 flex flex-row flex-wrap",children:[e.jsx("div",{className:"w-full max-w-full flex-shrink px-4 text-center md:w-1/2 md:ltr:text-left md:rtl:text-right",children:e.jsxs("ul",{className:"space-x-4 ltr:pl-0 rtl:pr-0",children:[e.jsx("li",{className:"inline-block ltr:mr-3 rtl:ml-3",children:e.jsx("a",{className:"hover:text-indigo-500",href:"#",children:"Support |"})}),e.jsx("li",{className:"inline-block ltr:mr-3 rtl:ml-3",children:e.jsx("a",{className:"hover:text-indigo-500",href:"#",children:"Help Center |"})}),e.jsx("li",{className:"inline-block ltr:mr-3 rtl:ml-3",children:e.jsx("a",{className:"hover:text-indigo-500",href:"#",children:"Privacy |"})}),e.jsx("li",{className:"inline-block ltr:mr-3 rtl:ml-3",children:e.jsx("a",{className:"hover:text-indigo-500",href:"#",children:"Terms of Service"})})]})}),e.jsx("div",{className:"w-full max-w-full flex-shrink px-4 text-center md:w-1/2 md:ltr:text-right md:rtl:text-left",children:e.jsxs("p",{className:"mb-0 mt-3 md:mt-0",children:[e.jsx("a",{href:"#",className:"hover:text-indigo-500",children:"UD&HD"})," ","| All right reserved"]})})]})})})})]})},Z=K;function ae(){return e.jsx("div",{className:"",children:e.jsx(Z,{})})}export{ae as default};
