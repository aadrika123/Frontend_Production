import{r as c,c as q,a as M,u as R,b as U,d as I,o as G,j as e,D as $,B as _,F as O,R as H,_ as m,e as z,g as V}from"./index-BiIIPoyG.js";import{C as W,e as P}from"./CaptchaComponent-qV220UJS.js";import{g as B}from"./services-KQnp_8oA.js";import{R as K}from"./RHFPasswordField-C_NfrYGR.js";import"./md5-BX05Jzf-.js";function Z(){const[g,S]=c.useState(""),[C,x]=c.useState(""),[f,w]=c.useState(null),[D,v]=c.useState(!1),[h,b]=c.useState(!0);c.useEffect(()=>{y()},[]);const y=async()=>{const t=[];t.push(window.screen.width),t.push(window.screen.height),t.push(window.screen.colorDepth),t.push(window.screen.pixelDepth),t.push(window.devicePixelRatio),t.push(navigator.userAgent),t.push(navigator.language),t.push(navigator.platform),t.push(navigator.hardwareConcurrency),t.push(navigator.maxTouchPoints),t.push(navigator.vendor),t.push(navigator.deviceMemory||0),t.push(Intl.DateTimeFormat().resolvedOptions().timeZone),t.push(new Date().getTimezoneOffset());const s=j();t.push(s);const o=N();o&&(t.push(o.vendor),t.push(o.renderer));const l=await k();t.push(l);const r=A();t.push(r.join(","));const i=Array.from(navigator.plugins||[]).map(u=>u.name).join(",");t.push(i);const a=t.join("|"),d=await E(a),n=p(d);x(d),S(n),w({screenResolution:`${window.screen.width}x${window.screen.height}`,colorDepth:window.screen.colorDepth,platform:navigator.platform,cpuCores:navigator.hardwareConcurrency,deviceMemory:navigator.deviceMemory||"N/A",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,language:navigator.language,canvasFingerprint:s.substring(0,16),webglVendor:(o==null?void 0:o.vendor)||"N/A",audioFingerprint:l.substring(0,16),fontsDetected:r.length}),b(!1)},j=()=>{try{const t=document.createElement("canvas"),s=t.getContext("2d");return s?(t.width=200,t.height=50,s.textBaseline="top",s.font='14px "Arial"',s.textBaseline="alphabetic",s.fillStyle="#f60",s.fillRect(125,1,62,20),s.fillStyle="#069",s.fillText("UniqueSystemðŸŽ¨",2,15),s.fillStyle="rgba(102, 204, 0, 0.7)",s.fillText("UniqueSystemðŸŽ¨",4,17),t.toDataURL()):"canvas_error"}catch{return"canvas_error"}},N=()=>{try{const t=document.createElement("canvas"),s=t.getContext("webgl")||t.getContext("experimental-webgl");if(!s)return null;const o=s.getExtension("WEBGL_debug_renderer_info");return o?{vendor:s.getParameter(o.UNMASKED_VENDOR_WEBGL),renderer:s.getParameter(o.UNMASKED_RENDERER_WEBGL)}:null}catch{return null}},k=()=>new Promise(t=>{try{const s=window.AudioContext||window.webkitAudioContext;if(!s){t("no_audio");return}const o=new s,l=o.createOscillator(),r=o.createAnalyser(),i=o.createGain(),a=o.createScriptProcessor(4096,1,1);i.gain.value=0,l.connect(r),r.connect(a),a.connect(i),i.connect(o.destination),a.onaudioprocess=d=>{const n=d.outputBuffer.getChannelData(0);let u=0;for(let F=0;F<n.length;F++)u+=Math.abs(n[F]);const T=u.toString();l.disconnect(),a.disconnect(),i.disconnect(),o.close(),t(T)},l.start(0),setTimeout(()=>t("audio_timeout"),100)}catch{t("audio_error")}}),A=()=>{const t=["monospace","sans-serif","serif"],s=["Arial","Verdana","Times New Roman","Courier New","Georgia","Palatino","Garamond","Bookman","Comic Sans MS","Trebuchet MS","Impact","Lucida Console","Tahoma","Helvetica","Century Gothic"],l=document.createElement("canvas").getContext("2d");if(!l)return[];const r="mmmmmmmmmmlli",i="72px",a={};t.forEach(n=>{l.font=`${i} ${n}`,a[n]=l.measureText(r).width});const d=[];return s.forEach(n=>{t.forEach(u=>{l.font=`${i} '${n}', ${u}`,l.measureText(r).width!==a[u]&&(d.includes(n)||d.push(n))})}),d},E=async t=>{const o=new TextEncoder().encode(t),l=await crypto.subtle.digest("SHA-256",o);return Array.from(new Uint8Array(l)).map(i=>i.toString(16).padStart(2,"0")).join("")},p=t=>{const s=t.match(/.{1,4}/g);return s?s.join("-").toUpperCase():t.toUpperCase()};return{loading:h,uniqueId:g,fingerprint:C,details:f,copied:D,copyToClipboard:()=>{navigator.clipboard.writeText(g).then(()=>{v(!0),setTimeout(()=>v(!1),2e3)})},getCanvasFingerprint:j}}const Y=q({email:M().email("Please enter a valid email address").required("Email is required"),password_123:M().min(8,"Password must be at least 8 characters").required("Password is required")}),J=()=>{const g=R({}),S=R({}),[C,x]=c.useState(!1),[f,w]=c.useState(!1),[D,v]=c.useState(!1),[h,b]=c.useState(""),[y,j]=c.useState({value:"",isValid:!1,error:""}),[N,k]=c.useState(0),{fingerprint:A}=Z(),{login:E}=U(),p=I({defaultValues:{email:"",password_123:""},resolver:G(Y)}),L=(r,i)=>{j(a=>({...a,value:r,isValid:i,error:a.error&&i?"":a.error}))},t=r=>{r.preventDefault(),m.error("Pasting is not allowed in this field.")},s=async r=>{var a,d;console.log("Form data:",r);const i={email:r.email,password:P(r.password_123),captcha:P(y.value),fingerprint:P(A)};try{const n=await g.mutateAsync({api:z.login,data:i});(a=n==null?void 0:n.data)!=null&&a.success?(await E(n),m.success(n.data.message||"Login successful!")):(k(N+1),m.error(((d=n==null?void 0:n.data)==null?void 0:d.message)||"Login failed"))}catch(n){console.error("Login error:",n),m.error(B(n.message)||"An error occurred during login")}},o=async()=>{var r,i;if(!h.trim()){m.error("Please enter your email address");return}w(!0);try{const a=await S.mutateAsync({api:V.forgetPassword,data:{email:h}});(r=a==null?void 0:a.data)!=null&&r.success?(x(!1),b(""),m.success(a.data.message||"Password reset link sent successfully!")):m.error(((i=a==null?void 0:a.data)==null?void 0:i.message)||"Failed to send reset link")}catch(a){console.error("Forgot password error:",a),m.error(B(a.message)||"An error occurred")}finally{w(!1)}},l=r=>{b(r.target.value)};return e.jsxs(e.Fragment,{children:[e.jsx($,{open:C,setOpen:x,title:"Reset Your Password",setEdit:v,children:e.jsx("div",{className:"p-4",children:e.jsx("form",{onSubmit:r=>r.preventDefault(),children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"reset-email",className:"mb-2 block text-sm font-medium text-gray-700",children:"Email Address"}),e.jsx("input",{id:"reset-email",value:h,onChange:l,type:"email",placeholder:"Enter your email address",className:"w-full rounded-md border border-gray-300 p-3 focus:border-blue-500 focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsx(_,{type:"button",onClick:o,disabled:f||!h.trim(),className:"w-full rounded-xl px-4 py-3",variant:"outline",children:f?"Sending...":"Send Reset Link"})]})})})}),e.jsx("header",{className:"darks:bg-gray-800 darks:border-gray-800 h-[7vh] w-full border-b border-gray-200 bg-white",children:e.jsx("div",{className:"container mx-auto xl:max-w-6xl",children:e.jsx("nav",{className:"",id:"desktop-menu",children:e.jsx("a",{className:"",href:"",children:e.jsx("div",{className:"mt-6",children:e.jsx("span",{className:"text-xl font-bold uppercase",children:"Login - Grievance Management System"})})})})})}),e.jsx("main",{className:"flex h-[80vh] items-center justify-center bg-gray-100",children:e.jsx("div",{className:"darks:bg-gray-900 darks:bg-opacity-40 bg-gray-100",children:e.jsx("div",{className:"container mx-auto px-4 xl:max-w-6xl",children:e.jsxs("div",{className:"-mx-4 flex flex-row flex-wrap",children:[e.jsx("div",{className:"w-full max-w-full flex-shrink px-4 lg:w-1/2",children:e.jsx("div",{className:"mb-12 w-full max-w-full px-2 sm:px-12 lg:mb-0 lg:pr-20",children:e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"darks:bg-gray-800 rounded-lg bg-white p-6 shadow-xl sm:px-12 sm:py-8",children:[e.jsxs("div",{className:"space-y-3 text-center",children:[e.jsx("h1",{className:"darks:text-gray-300 Ttext-center mb-0 text-2xl font-bold leading-normal text-gray-800",children:"Welcome Back"}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("div",{className:"mb-7 w-10 border border-b border-black"})})]}),e.jsx(O,{methods:p,onSubmit:p.handleSubmit(s),children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"password",name:"fake-password",autoComplete:"new-password",style:{display:"none"},"aria-hidden":"true"}),e.jsx("div",{className:"space-y-2",children:e.jsx(H,{className:"w-full bg-background px-5 py-5",name:"email",inputValidation:["removeSpace"],placeholder:"Enter your email",onPaste:t,autoComplete:"off"})}),e.jsx("div",{className:"space-y-2",children:e.jsx(K,{className:"w-full bg-background px-5 py-5",name:"password_123",placeholder:"Enter your password",onPaste:t,autoComplete:"off"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"darks:text-gray-300 block text-sm font-medium text-gray-700",children:"Security Verification"}),e.jsx(W,{onCaptchaChange:L,error:y.error,length:6,width:250,height:30,placeholder:"Enter captcha code",className:"w-full",inputClassName:"px-5",refreshButtonClassName:"hover:bg-blue-50",fetchNewCaptcha:N})]}),e.jsx("div",{children:e.jsxs(_,{type:"submit",isLoading:p.formState.isSubmitting,className:"mt-2 w-full px-4 py-5 shadow-none",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",className:"bi bi-box-arrow-in-right mr-1 inline-block h-4 w-4 ltr:mr-2 rtl:ml-2",viewBox:"0 0 16 16",children:[e.jsx("path",{fillRule:"evenodd",d:"M6 3.5a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 0-1 0v2A1.5 1.5 0 0 0 6.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-8A1.5 1.5 0 0 0 5 3.5v2a.5.5 0 0 0 1 0v-2z"}),e.jsx("path",{fillRule:"evenodd",d:"M11.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H1.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z"})]}),"Login"]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("hr",{className:"flex-1"}),e.jsx("span",{children:"or"}),e.jsx("hr",{className:"flex-1"})]}),e.jsx("div",{className:"text-center",children:e.jsx("button",{className:"text-sm text-primary hover:underline",type:"button",onClick:()=>x(!0),children:"Forgot password?"})})]})})]})})})}),e.jsx("div",{className:"w-full max-w-full flex-shrink px-4 lg:w-1/2",children:e.jsxs("div",{className:"mt-6 text-center lg:mt-0",children:[e.jsx("img",{src:"/images/mob.png",alt:"Grievance Management System",className:"h-68 mx-auto rounded-lg"}),e.jsxs("div",{className:"mt-4 px-4",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Manage Grievance with Ease of Access"}),e.jsx("p",{className:"mb-4 text-base text-gray-500",children:"Easily manage grievance applications with simplified workflows."})]})]})})]})})})}),e.jsx("footer",{className:"darks:bg-gray-800 darks:border-gray-800 h-[10vh] w-full border-t border-gray-200 bg-white py-6",children:e.jsx("div",{className:"container mx-auto w-full px-4 xl:max-w-6xl",children:e.jsx("div",{className:"mx-auto px-4",children:e.jsxs("div",{className:"-mx-4 flex flex-row flex-wrap",children:[e.jsx("div",{className:"w-full max-w-full flex-shrink px-4 text-center md:w-1/2 md:ltr:text-left md:rtl:text-right",children:e.jsxs("ul",{className:"space-x-4 ltr:pl-0 rtl:pr-0",children:[e.jsx("li",{className:"inline-block ltr:mr-3 rtl:ml-3",children:e.jsx("a",{className:"hover:text-indigo-500",href:"#",children:"Support |"})}),e.jsx("li",{className:"inline-block ltr:mr-3 rtl:ml-3",children:e.jsx("a",{className:"hover:text-indigo-500",href:"#",children:"Help Center |"})}),e.jsx("li",{className:"inline-block ltr:mr-3 rtl:ml-3",children:e.jsx("a",{className:"hover:text-indigo-500",href:"#",children:"Privacy |"})}),e.jsx("li",{className:"inline-block ltr:mr-3 rtl:ml-3",children:e.jsx("a",{className:"hover:text-indigo-500",href:"#",children:"Terms of Service"})})]})}),e.jsx("div",{className:"w-full max-w-full flex-shrink px-4 text-center md:w-1/2 md:ltr:text-right md:rtl:text-left",children:e.jsxs("p",{className:"mb-0 mt-3 md:mt-0",children:[e.jsx("a",{href:"#",className:"hover:text-indigo-500",children:"UD&HD"})," ","| All right reserved"]})})]})})})})]})},Q=J;function re(){return e.jsx("div",{className:"",children:e.jsx(Q,{})})}export{re as default};
