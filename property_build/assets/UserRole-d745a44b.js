import{r as n,b4 as Y,f as E,h as $,k as H,R as D,D as _,a as M,K as R,j as e,d as A,b5 as L,b6 as ae,L as q,E as Q,b7 as J,z as U,Y as T,Z,$ as F,a0 as X,aH as V,aJ as te,aK as re,c as ee,b8 as le,b9 as ne,a1 as oe,e as ie}from"./index-21873f15.js";import{u as O}from"./useQuery-546b0585.js";import{d as de}from"./index.esm-b9e34da6.js";import{F as ce,N as ue,a as me,L as pe}from"./NavigateNext-7632eb70.js";import{S as se}from"./Switch-130c842a.js";import{b as xe}from"./index.esm-1572f70a.js";const he={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"transparent",border:"none"}};function be(s){const[r,x]=n.useState(),{ulbListApi:i}=Y(),b=E({roleName:$().required("This is a required field !")}),a=H({initialValues:{roleName:""},onSubmit:f=>{c(f)},validationSchema:b}),j=f=>a.values.roleName=f.target.value,[h,g]=D.useState(!1),y=_(),c=f=>{console.log("Data to be saved",f);const l={roleName:f.roleName};M.post(R+"/api/crud/roles/save-role",l,y).then(o=>(console.log("Role saved successfully",o),d())).catch(o=>(console.log("Failed to save the Role",o),d()))};n.useEffect(()=>{s.openAddNewRoleModal>0&&g(!0)},[s.openAddNewRoleModal]);function u(){}function d(){g(!1),s.refetchListOfRoles()}return n.useEffect(()=>{M.get(i).then(function(f){x(f.data)}).catch(function(f){console.log("Error",f)})},[]),e.jsx("div",{className:"",children:e.jsx(A,{isOpen:h,onAfterOpen:u,onRequestClose:d,style:he,contentLabel:"Example Modal",children:e.jsxs("div",{className:"bg-sky-300 shadow-2xl border border-sky-200 p-5 m-5 rounded-md",children:[e.jsxs("div",{className:"flow-root",children:[e.jsxs("p",{className:"float-left text-center text-xl font-semibold",children:["Add New Role"," "]}),e.jsxs("p",{onClick:d,className:"float-right cursor-pointer rounded-full bg-sky-200 hover:bg-gray-200 mx-3",children:[" ",e.jsx(L,{size:25})," "]})]}),e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsx("div",{className:"col-span-10"}),e.jsx("div",{className:"col-span-2"})]}),e.jsx("p",{className:"border-b py-1 mb-3"}),e.jsx("div",{children:e.jsxs("form",{onSubmit:a.handleSubmit,children:[e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Role Name",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"roleName",onChange:j,className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("p",{className:"text-red-500 text-xs",children:a.touched.roleName&&a.errors.roleName?a.errors.roleName:null})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("button",{type:"submit",className:"border border-green-400 bg-green-600 hover:bg-green-500 text-white hover:text-black shadow-lg rounded-sm py-1 text-base font-semibold px-3 m-3",children:[" ","Submit"," "]})})]})})]})})})}const ge={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"transparent",border:"none"}};function fe(s){const[r,x]=D.useState(!1);_();const i=j=>{console.log("ID to be deleted",j);const h={id:j};M.delete(R+"/api/crud/roles/delete-role",h,ae()).then(g=>(console.log("Role Deleted successfully",g),a())).catch(g=>(console.log("Failed to Deleted the Role",g),a()))};n.useEffect(()=>{s.openDeleteModal>0&&x(!0)},[s.openDeleteModal]);function b(){}function a(){x(!1),s.refetchListOfRoles()}return e.jsx("div",{className:"",children:e.jsx(A,{isOpen:r,onAfterOpen:b,onRequestClose:a,style:ge,contentLabel:"Example Modal",children:e.jsxs("div",{className:"bg-sky-300 shadow-2xl border border-sky-200 p-5 m-5 rounded-md",children:[e.jsxs("div",{className:"flow-root",children:[e.jsxs("p",{className:"float-left text-center text-xl font-semibold",children:["Are you sure to Delete ? ",s.deleteRoleId," "]}),e.jsxs("p",{onClick:a,className:"float-right cursor-pointer rounded-full bg-sky-200 hover:bg-gray-200 mx-3",children:[" ",e.jsx(L,{size:25})," "]})]}),e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsx("div",{className:"col-span-10"}),e.jsx("div",{className:"col-span-2"})]}),e.jsx("p",{className:"border-b py-1 mb-3"}),e.jsxs("div",{className:"flex justify-center",children:[e.jsxs("button",{onClick:()=>i(s.deleteRoleId),className:"border border-red-400 bg-red-600 hover:bg-red-500 text-white hover:text-black shadow-lg rounded-sm py-1 text-base font-semibold px-3 m-3",children:[" ","Yes, Delete"," "]}),e.jsxs("button",{onClick:a,className:"border border-green-400 bg-green-600 hover:bg-green-500 text-white hover:text-black shadow-lg rounded-sm py-1 text-base font-semibold px-3 m-3",children:[" ","Cancel"," "]})]})]})})})}const je={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"transparent",border:"none"}};function Ne(s){var d,f,l;let r=(d=s==null?void 0:s.editRoleId)==null?void 0:d.id,x=(f=s==null?void 0:s.editRoleId)==null?void 0:f.role_name,i=(l=s==null?void 0:s.editRoleId)==null?void 0:l.is_suspended;const b=E({roleName:$().required("This is a required field !"),roleStatus:$().required("This is a required field !")}),a=H({enableReinitialize:!0,initialValues:{roleName:x,roleStatus:i},onSubmit:o=>{y(o)},validationSchema:b}),[j,h]=D.useState(!1),g=_(),y=o=>{console.log("Data to be Update",o),console.log("roleId=======",r);const m={id:r,roleName:o.roleName,isSuspended:o.roleStatus};M.put(R+"/api/crud/roles/edit-role",m,g).then(t=>(console.log("Role Update successfully",t),u())).catch(t=>(console.log("Failed to Update the Role",t),u()))};n.useEffect(()=>{s.openModelForEdit>0&&h(!0)},[s.openModelForEdit]);function c(){}function u(){h(!1),s.refetchListOfRoles()}return e.jsx("div",{className:"",children:e.jsx(A,{isOpen:j,onAfterOpen:c,onRequestClose:u,style:je,contentLabel:"Example Modal",children:e.jsxs("div",{className:"bg-sky-300 shadow-2xl border border-sky-200 p-5 m-5 rounded-md",children:[e.jsxs("div",{className:"flow-root",children:[e.jsxs("p",{className:"float-left text-center text-xl font-semibold",children:["Edit Role : ",r," "]}),e.jsxs("p",{onClick:u,className:"float-right cursor-pointer rounded-full bg-sky-200 hover:bg-gray-200 mx-3",children:[" ",e.jsx(L,{size:25})," "]})]}),e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsx("div",{className:"col-span-10"}),e.jsx("div",{className:"col-span-2"})]}),e.jsx("p",{className:"border-b py-1 mb-3"}),e.jsx("div",{children:e.jsxs("form",{onSubmit:a.handleSubmit,children:[e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Role Name",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"roleName",onChange:a.handleChange,value:a.values.roleName,className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("p",{className:"text-red-500 text-xs",children:a.touched.roleName&&a.errors.roleName?a.errors.roleName:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Status",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{type:"text",name:"roleStatus",onChange:a.handleChange,className:"w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{children:"Select"}),e.jsx("option",{selected:!i,value:"0",children:"Active"}),e.jsx("option",{selected:i,value:"1",children:"Suspended"})]}),e.jsx("p",{className:"text-red-500 text-xs",children:a.touched.roleStatus&&a.errors.roleStatus?a.errors.roleStatus:null})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("button",{type:"submit",className:"border border-green-400 bg-green-600 hover:bg-green-500 text-white hover:text-black shadow-lg rounded-sm py-1 text-base font-semibold px-3 m-3",children:[" ","Submit"," "]})})]})})]})})})}function ye(s){const[r,x]=n.useState(0),[i,b]=n.useState(0),[a,j]=n.useState(0),[h,g]=n.useState(),[y,c]=n.useState(),u=S=>{b(C=>C+1),g(S)},d=S=>{j(C=>C+1),c(S),console.log("id to be edit is",S)};console.log("editRoleId",y),n.useEffect(()=>{t()},[s.refetchList]);const f=_(),l=[{Header:"#",Cell:({row:S})=>e.jsx("div",{className:"pr-2",children:S.index+1})},{Header:"Role Name",accessor:"role_name"},{Header:"Created at",accessor:"created_at",Cell:({value:S})=>J(new Date(S),"dd/MM/yyyy")},{Header:"Status",accessor:"is_suspended",Cell:S=>e.jsxs("p",{children:[S.value==!0&&e.jsx("p",{className:"text-red-400 font-semibold",children:"Suspended"}),S.value==!1&&e.jsx("p",{className:"text-green-400 font-semibold",children:"Active"})]})},{Header:"Action",accessor:"id",Cell:({cell:S})=>e.jsxs("div",{children:[e.jsx("button",{onClick:()=>d(S.row.values),className:"bg-sky-200 mx-1 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-sky-800 hover:text-white text-black",children:"Edit"}),e.jsx("button",{onClick:()=>u(S.row.values.id),className:"bg-red-300 mx-1 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-red-800 hover:text-white text-black",children:"Delete"})]})}],{isLoading:o,data:m,refetch:t,isError:w,error:k}=O("get-all-roleserew-query",()=>M.get(R+"/api/crud/roles/get-all-roles",f));return e.jsxs(e.Fragment,{children:[e.jsx(be,{openAddNewRoleModal:r,refetchListOfRoles:t}),e.jsx(Ne,{openModelForEdit:a,editRoleId:y,refetchListOfRoles:t}),e.jsx(fe,{openDeleteModal:i,deleteRoleId:h,refetchListOfRoles:t}),o&&e.jsx("h1",{children:"Looading ..."}),!o&&e.jsx(q,{assessmentType:!1,columns:l,dataList:m==null?void 0:m.data.data,children:e.jsxs("button",{onClick:()=>x(r+1),className:"float-right bg-indigo-500 px-3 py-1 rounded-sm shadow-lg hover:shadow-xl hover:bg-indigo-800 hover:text-white text-white flex items-center",children:[e.jsx(Q,{})," Add Role"]})})]})}function G(s){const{children:r,value:x,index:i,...b}=s;return e.jsx("div",{role:"tabpanel",hidden:x!==i,id:`simple-tabpanel-${i}`,"aria-labelledby":`simple-tab-${i}`,...b,children:x===i&&e.jsx(T,{sx:{p:3},children:e.jsx(X,{children:r})})})}G.propTypes={children:U.node,index:U.number.isRequired,value:U.number.isRequired};function we(s){return{id:`simple-tab-${s}`,"aria-controls":`simple-tabpanel-${s}`}}function ve(){const[s,r]=n.useState(0),[x,i]=n.useState(""),[b,a]=n.useState("Details"),[j,h]=n.useState(!1),[g,y]=n.useState(0),c=(o,m)=>{r(m)},u=()=>{a("Add"),h(o=>o+1)},d=o=>{a("View"),h(m=>m+1),i(o)},f=o=>{a("Edit"),h(m=>m+1),i(o)},l=o=>{a("Delete"),h(m=>m+1),i(o)};return e.jsx(e.Fragment,{children:e.jsxs(T,{sx:{width:"100%"},children:[e.jsx(T,{sx:{borderBottom:1,borderColor:"divider"},children:e.jsx(Z,{value:s,onChange:c,"aria-label":"basic tabs example",children:e.jsx(F,{label:"List",...we(0)})})}),e.jsx(G,{value:s,index:0,children:e.jsx(ye,{add:u,view:d,edit:f,delete:l,refetchList:g})}),e.jsx(G,{value:s,index:1})]})})}function Me({searchText:s,filter:r,setFilter:x}){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"my-2 flex",children:[e.jsxs("p",{className:"mx-2 font-semibold",children:[" Search ",s," : "]}),e.jsx("input",{className:"border-2 border-gray-600 px-2 bg-gray-200 rounded-sm",type:"text",value:r||"",onChange:i=>x(i.target.value)})]})})}function Se({searchText:s,fun:r,columns:x,data:i,...b}){const[a,j]=n.useState("hidden"),{getTableProps:h,getTableBodyProps:g,headerGroups:y,prepareRow:c,page:u,canPreviousPage:d,canNextPage:f,pageOptions:l,pageCount:o,gotoPage:m,nextPage:t,previousPage:w,setGlobalFilter:k,setPageSize:S,state:{pageIndex:C,pageSize:p,selectedRowIds:N,globalFilter:P}}=V.useTable({columns:x,data:i,initialState:{pageIndex:0}},V.useGlobalFilter,V.useSortBy,V.usePagination);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"overflow-hidden",children:[e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-initial",children:e.jsx(Me,{searchText:s,filter:P,setFilter:k})}),e.jsx("div",{className:"ml-2",children:e.jsxs("button",{className:"bg-sky-400 px-3 my-2 pr-3  shadow-lg rounded py-1 text-white hover:shadow-2xl hover:bg-green-600 text-center relative",onMouseEnter:()=>j(""),onMouseLeave:()=>j("hidden"),children:[e.jsx(te,{data:i,children:" Export"}),e.jsx("div",{className:a+" absolute h-full top-3 text-sm left-0 text-center animate-bounce",children:e.jsx(re,{})})]})})]}),e.jsxs("table",{...h(),className:"min-w-full leading-normal",children:[e.jsx("thead",{className:"font-bold text-center text-sm bg-green-300",children:y.map(v=>e.jsx("tr",{className:"",...v.getHeaderGroupProps(),children:v.headers.map(I=>e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-gray-800 text-xs uppercase text-left",...I.getHeaderProps(I.getSortByToggleProps()),children:e.jsxs("div",{className:"flex",children:[e.jsxs("span",{children:[" ",I.render("Header")]}),e.jsxs("span",{className:"mt-0.5 mx-2",children:[" ",!I.isSorted&&e.jsx(de,{size:14})," "]}),e.jsx("span",{children:I.isSorted?I.isSortedDesc?" 🔽":" 🔼":""})]})}))}))}),e.jsx("tbody",{...g(),children:u.map((v,I)=>(c(v),e.jsx("tr",{className:"",...v.getRowProps(),children:v.cells.map(K=>e.jsx("td",{style:{backgroundColor:v.isSelected?"#b6fcc0":"",color:v.isSelected?"#000000":""},className:"px-2 py-2 bg-green-50 text-left leading-4 text-sm text-gray-700 tracking-wider border-b",...K.getCellProps(),children:K.render("Cell")}))})))})]})]}),e.jsxs("div",{className:"pagination grid grid-cols-12 mt-5 px-5",children:[e.jsxs("div",{className:"col-span-4",children:[e.jsxs("button",{className:"hover:bg-gray-300 cursor-pointer",onClick:()=>m(0),disabled:!d,children:[" ",e.jsx(ce,{})," "]})," ","  ",e.jsxs("button",{className:"hover:bg-gray-300 cursor-pointer",onClick:()=>w(),disabled:!d,children:[e.jsx(ue,{})," "]})," ",e.jsx("button",{className:"hover:bg-gray-300 cursor-pointer",onClick:()=>t(),disabled:!f,children:e.jsx(me,{})})," "," ",e.jsx("button",{className:"hover:bg-gray-300 cursor-pointer",onClick:()=>m(o-1),disabled:!f,children:e.jsx(pe,{})})," "," "]}),e.jsx("div",{className:"col-span-4 justify-self-center",children:e.jsxs("span",{children:["Page"," ",e.jsxs("strong",{children:[C+1," of ",l.length]})," "]})}),e.jsx("div",{className:"col-span-4 justify-self-end",children:e.jsx("select",{className:"h-10 bg-gray-50 border border-gray-300 text-gray-900 text-sm focus:ring-blue-500 focus:border-blue-500 block p-2.5 ",value:p,onChange:v=>{S(Number(v.target.value))},children:[5,10,20,30,40,50].map(v=>e.jsxs("option",{value:v,children:["Show ",v]},v))})})]})]})}function ke(){let s=R;return{header:_(),api_ulbList:`${s}/api/get-all-ulb`,api_getSafHoldingDetails:`${s}/api/water/search-holding-saf`,api_getPendingApplicationDetails:`${s}/api/water/application/get-by-id`,api_waterApprovedApplicationDetails:`${s}/api/water/consumer/get-listed-details`,api_waterConsumerPaymentHistory:`${s}/api/water/consumer/get-payment-history`,api_getProfileDetails:`${s}/api/my-profile-details`,api_NewWaterConnection:`${s}/api/water/application/apply-new-connection`,api_WaterGetDetailsById:`${s}/api/water/admin/application/get-details-by-id`,api_WaterListDetailsById:`${s}/api/water/admin/application/list-details-by-date`,api_paymentReceipt:`${s}/api/water/admin/application/generate-payment-receipt`,api_waterListDemand:`${s}/api/water/consumer/list-demand`,api_waterSiteInspectionList:`${s}/api/water/admin/search-application`,api_waterMasterData:`${s}/api/water/master/get-listed-details`,api_waterSiteInspectionSaveData:`${s}/api/water/site-verification/save-site-details`,api_waterPayConnectionCharges:`${s}/api/water/application/payment/offline/pay-connection-charge`,api_waterApplicationPaymentHistory:`${s}/api/water/application/payment/get-payment-history`,api_waterInspectionSaveDate:`${s}/api/water/admin/application/save-inspection-date`,api_waterInspectionDetails:`${s}/api/water/admin/application/site-inspection-details`,api_waterCancelSiteInspection:`${s}/api/water/admin/application/cancel-inspection-scheduling`,api_waterGenerateDemand:`${s}/api/water/admin/consumer/generate-demand`,api_saveConnectionMeter:`${s}/api/water/admin/consumer/save-connection-meter`,api_consumerGetMeterList:`${s}/api/water/admin/consumer/get-meter-list`,api_waterInbox:`${s}/api/water/inbox`,api_waterOutbox:`${s}/api/water/outbox`,api_waterSpecialInbox:`${s}/api/water/special-inbox`,api_waterPendingApplicationById:`${s}/api/water/workflow/application/get-by-id`,api_waterPostMessage:`${s}/api/water/comment-independent`,api_waterPostNextLevel:`${s}/api/water/post-next-level`,api_waterEsclate:`${s}/api/water/escalate`,api_waterApproveRejectApplication:`${s}/api/water/application/approval-rejection`,api_waterVerifyDoc:`${s}/api/workflow/document/verify-reject`,api_waterDocList:`${s}/api/water/get-upload-documents`,api_waterListFieldVerifyInbox:`${s}/api/water/field-verified-inbox`,api_waterBtcListInbox:`${s}/api/water/btc-inbox`,api_backToCitizen:`${s}/api/water/back-to-citizen`,api_waterPostCustomData:`${s}/api/post-custom-data`,api_waterGetCustomDataTab:`${s}/api/get-all-custom-tab-data`,api_waterListDocToUpload:`${s}/api/water/workflow/get-doc-list`,api_waterSearchConsumer:`${s}/api/water/search-consumer`,api_waterSearchActiveApplication:`${s}/api/water/application/search`,api_waterUploadDocument:`${s}/api/water/upload-document`,api_menuMasterDelete:`${s}/api/crud/menu/delete-menues`,api_addNewMenu:`${s}/api/crud/menu/add-new-menues`,api_listParentSetial:`${s}/api/menu-roles/list-parent-serial`,api_getChildrenNode:`${s}/api/sub-menu/get-children-node`,api_getRolesByid:`${s}/api/workflow/role-user-maps/get-roles-by-id`,api_updateUserRoles:`${s}/api/workflow/role-user-maps/update-user-roles`,api_getMenuById:`${s}/api/menu/get-menu-by-id`,api_getAllMenu:`${s}/api/crud/menu/get-all-menues`,api_updateMenu:`${s}/api/crud/menu/update-menues`,api_listofEmployees:`${s}/api/list-employees`,api_listUnverifiedCashVerification:`${s}/api/payment/list-cash-verification`,api_listVerifiedCashVerification:`${s}/api/payment/verified-cash-verification`,api_tcCollection:`${s}/api/payment/tc-collections`,api_cashVerification:`${s}/api/payment/verify-cash`}}function _e(s){const{notify:r}=n.useContext(ee),x=_(),{api_getRolesByid:i,api_updateUserRoles:b}=ke(),a=(l,o,m)=>{const t={userId:s.btnId,roleId:l,status:o};M.post(b,t,x).then(function(w){w.data.status?(r(w.data.message,"success"),console.log("Data Update Sussussfull",w.data.message),u()):(console.log("Data Not Update..",w),u())}).catch(function(w){console.log("Failed to update Data",w)})},j=(l,o)=>{a(l,o)},h=(l,o)=>{a(l,1)},g=[{Header:"Sl.",Cell:({row:l})=>e.jsx("div",{className:"px-1",children:l.index+1})},{Header:"All Roles",accessor:"role_name"},{Header:"",accessor:"role_id"},{Header:"Modify",accessor:"can_modify",Cell:l=>e.jsx("div",{children:e.jsxs("label",{className:"inline-flex relative items-center mr-5 cursor-pointer",children:[e.jsx("input",{onChange:o=>h(l.cell.row.values.id,o.target.checked),type:"checkbox",value:l.cell.row.values.id,id:"green-toggle",className:"sr-only peer",checked:l.value}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 rounded-full peer dark:bg-gray-700 peer-focus:ring-4 peer-focus:ring-green-300 dark:peer-focus:ring-green-800 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-green-600"})]})})},{Header:"Permission",accessor:"permission_status",Cell:l=>e.jsx("div",{className:"",children:e.jsx(se,{checked:l.value,onChange:o=>j(l.cell.row.values.role_id,o.target.checked),value:l.cell.row.values.role_id,inputProps:{"aria-label":"controlled"}})})}],{isLoading:y,data:c,refetch:u,isError:d,error:f}=O("ManageUserRoleByID",()=>M.post(i,{userId:s.btnId},x));return e.jsx(e.Fragment,{children:e.jsx("div",{className:"border bg-white mb-20",children:e.jsx("div",{children:e.jsx("div",{children:!y&&e.jsx(Se,{searchText:"User",columns:g,data:c==null?void 0:c.data.data})})})})})}const Ce="/assets/userImage-40c38d37.jpg";function $e(s){return e.jsx(e.Fragment,{children:e.jsx("div",{children:e.jsx("div",{className:"container mx-auto mb-8 p-3  border",children:e.jsxs("div",{className:"md:flex no-wrap md:-mx-2",children:[e.jsx("div",{className:"w-full md:w-3/12 md:mx-2",children:e.jsxs("div",{className:"bg-white p-3 border shadow-lg border-green-400",children:[e.jsx("div",{className:"image overflow-hidden",children:e.jsx("img",{className:"h-auto w-full mx-auto rounded-md shadow-md",src:Ce,alt:""})}),e.jsx("div",{className:"bg-sky-300 text-center shadow-lg cursor-pointer my-2 text-sm font-semibold rounded-sm",children:"Upload New"}),e.jsx("h1",{className:"text-gray-900 font-bold text-xl leading-8",children:s.userName}),e.jsxs("ul",{className:"bg-gray-100 text-gray-600 hover:text-gray-700 hover:shadow py-2 px-3 mt-3 divide-y rounded shadow-sm",children:[e.jsxs("li",{className:"flex items-center py-3",children:[e.jsx("span",{children:"Status"}),e.jsx("span",{className:"ml-auto",children:e.jsx("span",{className:"bg-green-500 py-1 px-2 rounded text-white text-sm",children:"Active"})})]}),e.jsxs("li",{className:"items-center text-center",children:[e.jsx("p",{className:"bg-sky-200 rounded-md",children:"Member since"}),e.jsx("p",{className:"mt-1 font-extralight",children:"Nov 07, 2016"})]})]})]})}),e.jsxs("div",{className:"w-full md:w-9/12 mx-2 h-64",children:[e.jsxs("div",{className:"bg-white p-3 shadow-sm rounded-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2 font-semibold text-gray-900 leading-8",children:[e.jsx("span",{clas:"text-green-500",children:e.jsx("svg",{className:"h-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),e.jsx("span",{className:"tracking-wide",children:"About"})]}),e.jsx("div",{className:"text-gray-700",children:e.jsxs("div",{className:"grid md:grid-cols-2 text-sm",children:[e.jsxs("div",{className:"grid grid-cols-2",children:[e.jsx("div",{className:"px-4 py-2 font-semibold",children:"First Name"}),e.jsx("div",{className:"px-4 py-2",children:s.userName})]}),e.jsxs("div",{className:"grid grid-cols-2",children:[e.jsx("div",{className:"px-4 py-2 font-semibold",children:"Last Name"}),e.jsx("div",{className:"px-4 py-2",children:"Doe"})]}),e.jsxs("div",{className:"grid grid-cols-2",children:[e.jsx("div",{className:"px-4 py-2 font-semibold",children:"Gender"}),e.jsx("div",{className:"px-4 py-2",children:"Female"})]}),e.jsxs("div",{className:"grid grid-cols-2",children:[e.jsx("div",{className:"px-4 py-2 font-semibold",children:"Contact No."}),e.jsx("div",{className:"px-4 py-2",children:"+11 998001001"})]}),e.jsxs("div",{className:"grid grid-cols-2",children:[e.jsx("div",{className:"px-4 py-2 font-semibold",children:"Current Address"}),e.jsx("div",{className:"px-4 py-2",children:"Beech Creek, PA, Pennsylvania"})]}),e.jsxs("div",{className:"grid grid-cols-2",children:[e.jsx("div",{className:"px-4 py-2 font-semibold",children:"Permanant Address"}),e.jsx("div",{className:"px-4 py-2",children:"Arlington Heights, IL, Illinois"})]}),e.jsxs("div",{className:"grid grid-cols-2",children:[e.jsx("div",{className:"px-4 py-2 font-semibold",children:"Email."}),e.jsx("div",{className:"px-4 py-2",children:e.jsx("a",{className:"text-blue-800",href:"mailto:jane@example.com",children:"jane@example.com"})})]}),e.jsxs("div",{className:"grid grid-cols-2",children:[e.jsx("div",{className:"px-4 py-2 font-semibold",children:"Birthday"}),e.jsx("div",{className:"px-4 py-2",children:"Feb 06, 1998"})]})]})}),e.jsx("div",{className:"flex justify-center my-2",children:e.jsx("button",{className:"bg-red-400 hover:bg-red-500 px-3 py-1 rounded-sm shadow-md font-semibold text-black",children:"Deactivate"})})]}),e.jsx("div",{className:"my-4"}),e.jsx("div",{className:"bg-white p-3 shadow-sm rounded-sm",children:e.jsxs("div",{className:"grid grid-cols-2",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 font-semibold text-gray-900 leading-8 mb-3",children:[e.jsx("span",{clas:"text-green-500",children:e.jsx("svg",{className:"h-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsx("span",{className:"tracking-wide",children:"IP Address"})]}),e.jsx("ul",{className:"list-inside space-y-2",children:e.jsxs("li",{children:[e.jsx("div",{className:"text-teal-600",children:"203.129.217.58"}),e.jsx("div",{className:"text-gray-500 text-xs",children:"March 2020 - Now"})]})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 font-semibold text-gray-900 leading-8 mb-3",children:[e.jsx("span",{clas:"text-green-500",children:e.jsxs("svg",{className:"h-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{fill:"#fff",d:"M12 14l9-5-9-5-9 5 9 5z"}),e.jsx("path",{fill:"#fff",d:"M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"}),e.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 14l9-5-9-5-9 5 9 5zm0 0l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14zm-4 6v-7.5l4-2.222"})]})}),e.jsx("span",{className:"tracking-wide",children:"Login Date/Time"})]}),e.jsx("ul",{className:"list-inside space-y-2",children:e.jsxs("li",{children:[e.jsx("div",{className:"text-teal-600",children:"2022-08-25 06:52:18"}),e.jsx("div",{className:"text-gray-500 text-xs",children:"March 2020 - Now"})]})})]})]})})]})]})})})})}function Re(s){const{notify:r}=n.useContext(ee),[x,i]=n.useState(!1),b=d=>{const{value:f,checked:l}=d.target;console.log(`CheckBOx: ${f} is ${l}`),j(f,l)},a=_(),j=(d,f)=>{i(!0),M({method:"post",url:R+"/api/ward/masters/ward-user",data:{userID:s.btnId,ulbWardID:d,status:f},headers:_()}).then(function(l){l.data.status?(r(l.data.message,"success"),console.log("Data Update Sussussfull",l.data.message),y(),i(!1)):(console.log("Data Not Update..",l),y())}).catch(function(l){console.log("Failed to update Data",l)})},{isLoading:h,data:g,refetch:y,isError:c,error:u}=O("UserWardPage-fetchAPi",()=>M.get(R+`/api/ward/masters/ward-user/${s.btnId}`,a));return n.useEffect(()=>{localStorage.setItem("items",JSON.stringify(g))},[g]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"border-1 shadow-2xl ",children:e.jsxs("div",{className:"mb-12 border bg-gray-100",children:[e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsxs("div",{className:"col-start-2 h-10 w-40 py-2 px-4 my-3 bg-blue-300 flex justify-self-start border shadow-md",children:[e.jsx("input",{type:"checkbox",className:"h-5 w-5",name:"",id:""})," ",e.jsx("p",{className:"ml-2 font-semibold",children:" Select All"})]}),e.jsx("div",{className:"col-start-10",children:e.jsx("button",{className:"h-10 w-40 py-2 px-4 my-3 bg-green-400 hover:bg-green-500 hover:rounded-md text-center font-semibold border-black shadow-md",children:"Save"})})]}),e.jsx("div",{className:"grid grid-cols-5 mb-2",children:g&&(g==null?void 0:g.data.data.map((d,f)=>e.jsx("div",{className:"col-span-1 ",children:e.jsx("div",{className:`flex border shadow-2xl px-2 py-1 mt-2 bg-${d.status==!0?"yellow-200":"white"} mx-2 cursor-pointer hover:animate-pulse border-1 border-${d.status==!0?"black":"gray-500"}`,children:e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsx("div",{className:"col-span-2",children:e.jsx("input",{className:"mr-3",type:"checkbox",name:"ward",checked:d.status,onChange:b,value:d.ulb_ward_id})}),e.jsx("div",{className:"col-span-8 ml-2",children:e.jsxs("p",{className:"font-semibold",children:["Ward ",d.ward_name]})}),e.jsx("div",{className:"col-span-2",children:e.jsx("p",{className:"font-semibold mt-1",children:d.status==!0&&e.jsx(xe,{color:"blue"})})})]})})})))}),e.jsx("div",{children:e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{className:"h-10 w-40 py-2 px-4 my-3 bg-green-400 hover:bg-green-500 hover:rounded-md text-center font-semibold border-black shadow-md",children:"Save"})})})]})})})}function Pe(s){return e.jsx(e.Fragment,{children:e.jsxs("div",{children:["UserMenuPermission ",e.jsx("br",{}),"user id ",s.btnId," ",e.jsx("br",{}),"user name ",s.userName]})})}function B(s){const{children:r,value:x,index:i,...b}=s;return e.jsx("div",{role:"tabpanel",hidden:x!==i,id:`simple-tabpanel-${i}`,"aria-labelledby":`simple-tab-${i}`,...b,children:x===i&&e.jsx(T,{sx:{p:0},children:e.jsx(X,{children:r})})})}B.propTypes={children:U.node,index:U.number.isRequired,value:U.number.isRequired};function z(s){return{id:`simple-tab-${s}`,"aria-controls":`simple-tabpanel-${s}`}}function Ie(s){const[r,x]=n.useState(0),[i,b]=n.useState("Role"),a=(j,h)=>{x(h)};return n.useEffect(()=>{r===0?b("Role"):r===1?b("Profile"):r===2?b("Ward"):r===3&&b("Menu")},[r]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border shadow-lg bg-green-50",children:e.jsx("div",{className:"p-2 bg-green-400 shadow-md",children:e.jsxs("div",{className:"grid grid-cols-2 ",children:[e.jsxs("div",{className:"col-span-1",children:[" ",e.jsx("span",{children:"Manage User"})," ",e.jsxs("span",{className:"text-xl font-semibold",children:[" ",s.userName,"'s"]})," ",e.jsx("span",{className:"font-semibold",children:i})]}),e.jsx("div",{className:"col-span-1 justify-self-end",children:e.jsxs("button",{onClick:s.handleBackBtn,className:"bg-blue-600 hover:bg-blue-500 font-semibold text-white px-5 pl-2 py-1 shadow-lg rounded",children:[e.jsx("span",{className:"inline-block",children:e.jsx(le,{})})," Back"]})})]})})}),e.jsxs(T,{sx:{width:"100%"},children:[e.jsx(T,{sx:{borderBottom:1,borderColor:"divider"},children:e.jsxs(Z,{value:r,onChange:a,"aria-label":"basic tabs example",children:[e.jsx(F,{label:"Mange Role",...z(0)}),e.jsx(F,{label:"View Profile",...z(1)}),e.jsx(F,{label:"Ward Permission",...z(2)}),e.jsx(F,{label:"Menu Permission",...z(3)})]})}),e.jsx(B,{value:r,index:0,children:e.jsx(_e,{btnId:s.btnId,userName:s.userName})}),e.jsx(B,{value:r,index:1,children:e.jsx($e,{btnId:s.btnId,userName:s.userName})}),e.jsx(B,{value:r,index:2,children:e.jsx(Re,{btnId:s.btnId})}),e.jsx(B,{value:r,index:3,children:e.jsx(Pe,{btnId:s.btnId,userName:s.userName})})]})]})}const De={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"transparent",border:"none"}};function Ae(s){const[r,x]=n.useState(),{ulbListApi:i}=Y(),b=E({userName:$().required("This is a required field !"),email:$().required("This is a required field !"),userType:$().required("This is a required field !"),phone:$().required("This is a required field !").min(10,"Must be exactly 10 digit").max(10,"Must be exactly 10 digit"),password:$().required("This is a required field !").min(8,"Password must be 8 characters long").matches(/[0-9]/,"Password requires a number").matches(/[a-z]/,"Password requires a lowercase letter").matches(/[A-Z]/,"Password requires an uppercase letter").matches(/[^\w]/,"Password requires a symbol")}),a=H({initialValues:{userName:"",email:"",phone:"",userType:"",password:""},onSubmit:t=>{alert(JSON.stringify(t,null,2)),l(t)},validationSchema:b}),j=t=>a.values.userName=t.target.value,h=t=>a.values.email=t.target.value,g=t=>a.values.phone=t.target.value,y=t=>a.values.userType=t.target.value,c=t=>a.values.password=t.target.value,[u,d]=D.useState(!1),f=_(),l=t=>{console.log("Data to be saved",t);const w={name:t.userName,mobile:t.phone,email:t.email,userType:t.userType,password:t.password};M.post(R+"/api/authorised-register",w,f).then(k=>(console.log("Menu saved successfully",k),m())).catch(k=>(console.log("Failed to save the menu",k),m()))};n.useEffect(()=>{s.openAddNewUserModel>0&&d(!0)},[s.openAddNewUserModel]);function o(){}function m(){d(!1),s.refetchListOfUsers()}return n.useEffect(()=>{M.get(i).then(function(t){x(t.data)}).catch(function(t){console.log("Error",t)})},[]),e.jsx("div",{className:"",children:e.jsx(A,{isOpen:u,onAfterOpen:o,onRequestClose:m,style:De,contentLabel:"Example Modal",children:e.jsxs("div",{className:"bg-sky-300 shadow-2xl border border-sky-200 p-5 m-5 rounded-md",children:[e.jsxs("div",{className:"flow-root",children:[e.jsxs("p",{className:"float-left text-center text-xl font-semibold",children:["Add New User"," "]}),e.jsxs("p",{onClick:m,className:"float-right cursor-pointer rounded-full bg-sky-200 hover:bg-gray-200 mx-3",children:[" ",e.jsx(L,{size:25})," "]})]}),e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsx("div",{className:"col-span-10"}),e.jsx("div",{className:"col-span-2"})]}),e.jsx("p",{className:"border-b py-1 mb-3"}),e.jsx("div",{children:e.jsxs("form",{onSubmit:a.handleSubmit,children:[e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["User Name",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"userName",onChange:j,className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("p",{className:"text-red-500 text-xs",children:a.touched.userName&&a.errors.userName?a.errors.userName:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["User Type",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{type:"text",name:"userType",onChange:y,className:"w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{children:"Select"}),e.jsx("option",{value:"Employee",children:"Employee"}),e.jsx("option",{value:"JSK",children:"JSK"}),e.jsx("option",{value:"Admin",children:"Admin"}),e.jsx("option",{value:"Pseudo",children:"Pseudo"})]}),e.jsx("p",{className:"text-red-500 text-xs",children:a.touched.userType&&a.errors.userType?a.errors.userType:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Enter Contact",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",name:"phone",onChange:g,className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("p",{className:"text-red-500 text-xs",children:a.touched.phone&&a.errors.phone?a.errors.phone:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Enter Email",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",name:"email",onChange:h,className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("p",{className:"text-red-500 text-xs",children:a.touched.email&&a.errors.email?a.errors.email:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Password",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"password",name:"password",onChange:c,className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("p",{className:"text-red-500 text-xs",children:a.touched.password&&a.errors.password?a.errors.password:null})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("button",{type:"submit",className:"border border-green-400 bg-green-600 hover:bg-green-500 text-white hover:text-black shadow-lg rounded-sm py-1 text-base font-semibold px-3 m-3",children:[" ","Submit"," "]})})]})})]})})})}function Le(s){const[r,x]=n.useState(0),i=_(),b=()=>{console.log("openAddNewPopup Called"),x(r+1)},a=[{Header:"Sl.",Cell:({row:d})=>e.jsx("div",{className:"px-1",children:d.index+1})},{Header:"User Name",accessor:"user_name"},{Header:"Mobile",accessor:"mobile"},{Header:"Email",accessor:"email"},{Header:"Assigned Roles",accessor:"role_name",Cell:d=>d.value?e.jsx("div",{className:"rounded-lg p-2 font-semibold",children:d.value}):e.jsx("div",{className:"rounded-lg p-2 text-red-400 font-semibold",children:"Roles Not Assigned"})},{Header:"Status",accessor:"suspended",Cell:d=>e.jsxs("p",{children:[d.value==!1&&e.jsx("p",{className:"text-green-400 font-semibold",children:"Active"}),d.value==!0&&e.jsx("p",{className:"text-red-400 font-semibold",children:"Banned"})]})},{Header:"Action",accessor:"id",Cell:({cell:d})=>e.jsx("div",{children:e.jsx("button",{onClick:()=>s.allActionBtn(d.row.values.id,d.row.values.user_name),className:"bg-sky-200 mx-1 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-sky-800 hover:text-white text-black",children:"Action"})})}],j=()=>{u()},{isLoading:h,data:g,isError:y,error:c,refetch:u}=O("get-allUSers-UserPermisonList-Query",()=>M.get(R+"/api/get-all-users",i));return e.jsxs(e.Fragment,{children:[e.jsx(Ae,{openAddNewUserModel:r,refetchListOfUsers:j}),e.jsx("div",{className:"border mt-0 mx-1 pb-10 bg-white mb-20",children:e.jsx("div",{children:e.jsx("div",{children:!h&&e.jsx(q,{assessmentType:!1,columns:a,dataList:g==null?void 0:g.data.data,children:e.jsxs("button",{onClick:b,className:"float-right bg-indigo-500 px-3 py-1 rounded-sm shadow-lg hover:shadow-xl hover:bg-indigo-800 hover:text-white text-white flex items-center",children:[e.jsx(Q,{})," Add new user"]})})})})})]})}function Ue(){const[s,r]=n.useState(!0),[x,i]=n.useState(!1),[b,a]=n.useState(!1),[j,h]=n.useState(),[g,y]=n.useState(),c=()=>{i(!0),r(!1),a(!1)},u=l=>{h(l),r(!1),i(!1),a(!1)},d=()=>{r(!0),i(!1),a(!1)},f=(l,o)=>{console.log("Received ID and Username ",l," ",o),h(l),y(o),r(!1),i(!1),a(!0)};return e.jsxs(e.Fragment,{children:[s&&e.jsx(Le,{viewBtn:u,addNewPermission:c,allActionBtn:f}),b&&e.jsx(Ie,{handleBackBtn:d,btnId:j,userName:g})]})}const Te={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"transparent",border:"none"}};function Ee(s){var f,l,o;const[r,x]=n.useState([]),[i,b]=n.useState(0),[a,j]=D.useState(!1),h=_();n.useEffect(()=>{s.openPopUpState>0&&j(!0),d()},[s.openPopUpState]);function g(){}function y(){j(!1)}const c=(m,t)=>{console.log("isPermission - Menu Id : ",m,"Role Id : ",s.roleId,"Status : ",t);const w={roleId:s.roleId,menuId:m,status:t};M.post(R+"/api/menu-roles/update-menu-by-role",w,h).then(k=>console.log("Role Permission Updated Successfully",k),d()).catch(k=>console.log("ERROR : Role Permission ",k),d())},u=[{Header:"Sl.",Cell:({row:m})=>e.jsx("div",{className:"px-1",children:(m==null?void 0:m.index)+1})},{Header:"Menu Name",accessor:"menu_string"},{Header:"Test",accessor:"menu_id"},{Header:"Permission",accessor:"permission_status",Cell:m=>e.jsx("div",{className:"",children:e.jsx(se,{checked:m.value,onChange:t=>c(m.cell.row.values.menu_id,t.target.checked),value:m.cell.row.values.menu_id,inputProps:{"aria-label":"controlled"}})})}],d=()=>{b(i+1)};return n.useEffect(()=>{(s==null?void 0:s.roleId)>0&&M.post(R+"/api/menu-roles/get-menu-by-roles",{roleId:s==null?void 0:s.roleId},h).then(m=>(console.log("Fetched roles of Id",s==null?void 0:s.roleId,m),x(m))).catch(m=>console.log("Fetched roles of Id",s==null?void 0:s.roleId,m))},[i]),console.log("Menu role given to",s==null?void 0:s.roleId,r),e.jsx("div",{className:"",children:e.jsx(A,{isOpen:a,onAfterOpen:g,onRequestClose:y,style:Te,contentLabel:"Example Modal",children:e.jsxs("div",{className:"bg-white shadow-2xl border border-sky-200 p-5 m-5 rounded-md",children:[e.jsxs("p",{className:"flex flex-row-reverse",children:[" ",e.jsxs("span",{onClick:y,className:"cursor-pointer rounded-full hover:bg-gray-400",children:[" ",e.jsx(L,{size:25})," "]})," "]}),e.jsxs("p",{className:"text-center text-xl",children:["Menu Permission For :"," ",e.jsx("span",{className:"font-semibold",children:s==null?void 0:s.roleName})]}),e.jsx("p",{className:"border-b py-1 mb-3"}),e.jsx("div",{className:"text-center"}),e.jsx("div",{children:e.jsx("div",{children:((l=(f=r==null?void 0:r.data)==null?void 0:f.data)==null?void 0:l.length)>0?e.jsx(q,{searchText:"Menu",columns:u,dataList:(o=r==null?void 0:r.data)==null?void 0:o.data}):"No Data Found"})})]})})})}function Oe(s){const[r,x]=n.useState(null),[i,b]=n.useState(),[a,j]=n.useState(),h=_(),g=(l,o)=>{console.log("Role Id and Name",l,o),b(l),j(o),x(r+1)},y=[{Header:"Sl.",Cell:({row:l})=>e.jsx("div",{className:"px-1",children:l.index+1})},{Header:"Role List",accessor:"role_name"},{Header:"Role Desc",accessor:"role_description"},{Header:"Created At",accessor:"created_at",Cell:({value:l})=>J(new Date(l),"dd/MM/yyyy")},{Header:"Action",accessor:"id",Cell:({cell:l})=>e.jsxs("button",{onClick:()=>{var o,m,t,w;return g((m=(o=l==null?void 0:l.row)==null?void 0:o.values)==null?void 0:m.id,(w=(t=l==null?void 0:l.row)==null?void 0:t.values)==null?void 0:w.role_name)},className:"bg-sky-200 mx-1 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-sky-800 hover:text-white text-black",children:["Assign Menu To Roles"," "]})}],{isLoading:c,data:u,isError:d,error:f}=O("master-GetROles-UlbrOLESD--",()=>{try{return M.get(R+"/api/crud/roles/get-all-roles",h)}catch(l){console.log("Error api not avalivale",l)}});return e.jsxs(e.Fragment,{children:[e.jsx(Ee,{roleId:i,roleName:a,openPopUpState:r}),e.jsx("div",{className:"border mt-0 mx-0 px-1 pt-1 pb-10 bg-white mb-20",children:e.jsx("div",{children:e.jsx("div",{children:!c||u?e.jsx(q,{exportStatus:!1,columns:y,dataList:u==null?void 0:u.data.data}):"No Data Found"})})})]})}function W(){let s=R;return{header:_(),api_ulbList:`${s}/api/get-all-ulb`,api_getSafHoldingDetails:`${s}/api/water/search-holding-saf`,api_getPendingApplicationDetails:`${s}/api/water/application/get-by-id`,api_waterApprovedApplicationDetails:`${s}/api/water/consumer/get-listed-details`,api_waterConsumerPaymentHistory:`${s}/api/water/consumer/get-payment-history`,api_getProfileDetails:`${s}/api/my-profile-details`,api_NewWaterConnection:`${s}/api/water/application/apply-new-connection`,api_WaterGetDetailsById:`${s}/api/water/admin/application/get-details-by-id`,api_WaterListDetailsById:`${s}/api/water/admin/application/list-details-by-date`,api_paymentReceipt:`${s}/api/water/admin/application/generate-payment-receipt`,api_waterListDemand:`${s}/api/water/consumer/list-demand`,api_waterSiteInspectionList:`${s}/api/water/admin/search-application`,api_waterMasterData:`${s}/api/water/master/get-listed-details`,api_waterSiteInspectionSaveData:`${s}/api/water/site-verification/save-site-details`,api_waterPayConnectionCharges:`${s}/api/water/application/payment/offline/pay-connection-charge`,api_waterApplicationPaymentHistory:`${s}/api/water/application/payment/get-payment-history`,api_waterInspectionSaveDate:`${s}/api/water/admin/application/save-inspection-date`,api_waterInspectionDetails:`${s}/api/water/admin/application/site-inspection-details`,api_waterCancelSiteInspection:`${s}/api/water/admin/application/cancel-inspection-scheduling`,api_waterGenerateDemand:`${s}/api/water/admin/consumer/generate-demand`,api_saveConnectionMeter:`${s}/api/water/admin/consumer/save-connection-meter`,api_consumerGetMeterList:`${s}/api/water/admin/consumer/get-meter-list`,api_waterInbox:`${s}/api/water/inbox`,api_waterOutbox:`${s}/api/water/outbox`,api_waterSpecialInbox:`${s}/api/water/special-inbox`,api_waterPendingApplicationById:`${s}/api/water/workflow/application/get-by-id`,api_waterPostMessage:`${s}/api/water/comment-independent`,api_waterPostNextLevel:`${s}/api/water/post-next-level`,api_waterEsclate:`${s}/api/water/escalate`,api_waterApproveRejectApplication:`${s}/api/water/application/approval-rejection`,api_waterVerifyDoc:`${s}/api/workflow/document/verify-reject`,api_waterDocList:`${s}/api/water/get-upload-documents`,api_waterListFieldVerifyInbox:`${s}/api/water/field-verified-inbox`,api_waterBtcListInbox:`${s}/api/water/btc-inbox`,api_backToCitizen:`${s}/api/water/back-to-citizen`,api_waterPostCustomData:`${s}/api/post-custom-data`,api_waterGetCustomDataTab:`${s}/api/get-all-custom-tab-data`,api_waterListDocToUpload:`${s}/api/water/workflow/get-doc-list`,api_waterSearchConsumer:`${s}/api/water/search-consumer`,api_waterSearchActiveApplication:`${s}/api/water/application/search`,api_waterUploadDocument:`${s}/api/water/upload-document`,api_menuMasterDelete:`${s}/api/crud/menu/delete-menues`,api_addNewMenu:`${s}/api/crud/menu/add-new-menues`,api_listParentSetial:`${s}/api/menu-roles/list-parent-serial`,api_getChildrenNode:`${s}/api/sub-menu/get-children-node`,api_getRolesByid:`${s}/api/workflow/role-user-maps/get-roles-by-id`,api_updateUserRoles:`${s}/api/workflow/role-user-maps/update-user-roles`,api_getMenuById:`${s}/api/menu/get-menu-by-id`,api_getAllMenu:`${s}/api/crud/menu/get-all-menues`,api_updateMenu:`${s}/api/crud/menu/update-menues`,api_listofEmployees:`${s}/api/list-employees`,api_listUnverifiedCashVerification:`${s}/api/payment/list-cash-verification`,api_listVerifiedCashVerification:`${s}/api/payment/verified-cash-verification`,api_tcCollection:`${s}/api/payment/tc-collections`,api_cashVerification:`${s}/api/payment/verify-cash`}}const Fe={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"transparent",border:"none"}},Be=E({menuName:$().required("This is a required field !")});function He(s){const{api_addNewMenu:r,api_listParentSetial:x,api_getChildrenNode:i}=W(),[b,a]=n.useState(),[j,h]=n.useState(),[g,y]=n.useState(),c=H({initialValues:{parentMenuName:"",childMenuName:"",menuName:"",menuRoute:"",serialNo:""},onSubmit:p=>{k(p),console.log("This is record",p)},validationSchema:Be}),u=p=>{c.values.parentMenuName=p.target.value,y(p.target.value)},d=p=>c.values.childMenuName=p.target.value,f=p=>c.values.menuName=p.target.value,l=p=>c.values.menuRoute=p.target.value,o=p=>c.values.serialNo=p.target.value,[m,t]=D.useState(!1),w=_(),k=p=>{console.log("Data to be saved",p),p.childMenuName?p.childMenuName:p.parentMenuName;const N={menuName:p.menuName,topLevel:"",subLevel:"",parentSerial:p.childMenuName?p.childMenuName:p.parentMenuName,serial:"",icon:"",route:p.menuRoute,description:"",serial:p.serialNo};console.log("final payload ==",N),M.post(r,N,w).then(P=>(console.log("Menu saved successfully",P),C())).catch(P=>(console.log("Failed to save the menu",P),C()))};n.useEffect(()=>{M.post(x,{},w).then(p=>{a(p.data.data)}).catch(p=>console.log("Error while getting ",p))},[]),n.useEffect(()=>{M.post(i,{id:g},w).then(p=>{h(p.data.data)}).catch(p=>console.log("Error while getting chiild menu ",p))},[g]),n.useEffect(()=>{s.openAddPopupScreen>0&&t(!0)},[s.openAddPopupScreen]);function S(){}function C(){t(!1),s.refetchMasterMenuList()}return e.jsx("div",{className:"",children:e.jsx(A,{isOpen:m,onAfterOpen:S,onRequestClose:C,style:Fe,contentLabel:"Example Modal",children:e.jsxs("div",{className:"bg-sky-200 shadow-2xl border border-sky-200 p-5 m-5 rounded-md",children:[e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsx("div",{className:"col-span-10",children:e.jsx("p",{className:"text-center text-xl",children:"Create New Menu"})}),e.jsx("div",{className:"col-span-2",children:e.jsxs("p",{onClick:C,className:"cursor-pointer rounded-full hover:bg-gray-200 mx-3",children:[" ",e.jsx(L,{size:25})," "]})})]}),e.jsx("p",{className:"border-b py-1 mb-3"}),e.jsx("div",{children:e.jsxs("form",{onSubmit:c.handleSubmit,children:[e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Menu Name",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"menuName",onChange:f,className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("p",{className:"text-red-500 text-xs",children:c.touched.menuName&&c.errors.menuName?c.errors.menuName:null})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:"Under Menu Name"}),e.jsxs("select",{name:"parentMenuName",onChange:u,className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{value:"",children:"Select"}),b==null?void 0:b.map(p=>e.jsx("option",{value:p.id,children:p.menu_string}))]}),e.jsxs("p",{className:"text-red-500 text-xs",children:[" ",c.touched.parentMenuName&&c.errors.parentMenuName?c.errors.parentMenuName:null]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:"Under Sub-Menu Name"}),e.jsxs("select",{name:"childMenuName",onChange:d,className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{value:"",children:"Select"}),j==null?void 0:j.map(p=>e.jsx("option",{value:p.id,children:p.menu_string}))]}),e.jsxs("p",{className:"text-red-500 text-xs",children:[" ",c.touched.childMenuName&&c.errors.childMenuName?c.errors.childMenuName:null]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:"Serial No."}),e.jsx("input",{type:"text",name:"serialNo",onChange:o,className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("p",{className:"text-red-500 text-xs",children:c.touched.serialNo&&c.errors.serialNo?c.errors.serialNo:null})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:"Menu Route"}),e.jsx("input",{type:"text",name:"menuRoute",onChange:l,className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("p",{className:"text-red-500 text-xs",children:c.touched.menuRoute&&c.errors.menuRoute?c.errors.menuRoute:null})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("button",{type:"submit",className:"border border-green-600 bg-green-600 hover:bg-green-500 text-white hover:text-black shadow-lg rounded-sm py-1 text-base font-semibold px-3 m-3",children:[" ","Create Menu"]})})]})})]})})})}const qe={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"transparent",border:"none"}};E({parentMenuName:$().required("This is a required field !"),menuName:$().required("This is a required field !"),menuRoute:$().required("This is a required field !")});function Ve(s){let r=s==null?void 0:s.dataToBeDeleted;const[x,i]=D.useState(!1),{api_menuMasterDelete:b,header:a}=W();n.useEffect(()=>{s.openDeletePopUp>0&&i(!0)},[s.openDeletePopUp]);function j(){}function h(){i(!1),s.refetchMasterMenuList()}const g=y=>{M.post(b,{id:y.id},a).then(c=>{console.log("Menu Delted",c),s.refetchMasterMenuList(),h()}).catch(c=>console.log("Error while Data Deleting",c))};return e.jsx("div",{className:"",children:e.jsx(A,{isOpen:x,onAfterOpen:j,onRequestClose:h,style:qe,contentLabel:"Example Modal",children:e.jsxs("div",{className:"bg-sky-200 shadow-2xl border border-sky-200 p-5 m-5 rounded-md",children:[e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsx("div",{className:"col-span-10",children:e.jsx("p",{className:"text-center text-xl",children:"Do You Want to delete menu ?"})}),e.jsx("div",{className:"col-span-2",children:e.jsxs("p",{onClick:h,className:"cursor-pointer rounded-full hover:bg-gray-200 mx-3",children:[" ",e.jsx(L,{size:25})," "]})})]}),e.jsxs("div",{children:[e.jsxs("p",{children:["Menu Name = ",r==null?void 0:r.menu_string]}),e.jsxs("p",{children:["Parent Name = ",r==null?void 0:r.parentName]}),e.jsxs("p",{children:["Route = ",r==null?void 0:r.route]})]}),e.jsx("p",{className:"border-b py-1 mb-3"}),e.jsxs("div",{className:"flex justify-center",children:[e.jsx("button",{onClick:()=>g(r),className:"rounded text-white bg-red-600 hover:bg-red-500 shadow py-2 text-base px-3 m-3",children:"Yes, Delete"}),e.jsx("button",{onClick:h,className:"rounded bg-green-500 hover:bg-green-400 shadow py-2 text-base px-3 m-3",children:"Cancel"})]})]})})})}const ze={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"transparent",border:"none"}},We=E({menuName:$().required("This is a required field !")});function Ge(s){const{api_updateMenu:r,api_listParentSetial:x,api_getChildrenNode:i,api_getMenuById:b}=W(),[a,j]=n.useState(),[h,g]=n.useState(),[y,c]=n.useState(),[u,d]=n.useState(),[f,l]=n.useState(!1),o=s.dataTobeEdited,m=_();n.useEffect(()=>{l(!0),M.post(b,{menuId:o==null?void 0:o.id},m).then(N=>{l(!1),console.log("Data to be in edit form",N),d(N.data.data)}).catch(N=>{l(!1),console.log("Exception while getling data for edit",N)})},[o]);const t=H({enableReinitialize:!0,initialValues:{parentMenuName:u==null?void 0:u.parent_serial,childMenuName:"",menuName:u==null?void 0:u.menu_string,menuRoute:u==null?void 0:u.route,serialNo:u==null?void 0:u.serialNo},onSubmit:N=>{S(N)},validationSchema:We}),[w,k]=D.useState(!1),S=N=>{console.log("Data to update",N);const P={id:o==null?void 0:o.id,menuName:N.menuName,route:N.menuRoute,parentSerial:N.childMenuName?N.childMenuName:N.parentMenuName,serial:N.serialNo};console.log("final payload ==",P),M.post(r,P,m).then(v=>(console.log("Menu saved successfully",v),p())).catch(v=>(console.log("Failed to save the menu",v),p()))};n.useEffect(()=>{M.post(x,{},m).then(N=>{j(N.data.data)}).catch(N=>console.log("Error while getting ",N))},[]),n.useEffect(()=>{M.post(i,{id:y},m).then(N=>{g(N.data.data)}).catch(N=>console.log("Error while getting chiild menu ",N))},[y]),n.useEffect(()=>{s.openEditPopUp>0&&k(!0)},[s.openEditPopUp]);function C(){}function p(){k(!1),s.refetchMasterMenuList()}return e.jsx("div",{className:"",children:e.jsx(A,{isOpen:w,onAfterOpen:C,onRequestClose:p,style:ze,contentLabel:"Example Modal",children:e.jsxs("div",{className:"bg-sky-200 shadow-2xl border border-sky-200 p-5 m-5 rounded-md",children:[e.jsxs("div",{children:[e.jsx("div",{className:"float-right",children:e.jsx("p",{onClick:p,className:"cursor-pointer rounded-full hover:bg-gray-200",children:e.jsx(L,{size:25})})}),e.jsxs("p",{className:"text-center text-lg font-semibold",children:["Edit Menu - ",e.jsx("span",{children:o==null?void 0:o.menu_string})]})]}),e.jsx("p",{className:"border-b py-1 mb-3"}),f?e.jsx("div",{className:"flex justify-center",children:e.jsx(ne,{height:"80",width:"80",radius:"9",color:"#1263e6",ariaLabel:"three-dots-loading",wrapperStyle:{},wrapperClassName:"",visible:!0})}):e.jsx("div",{children:e.jsxs("form",{onSubmit:t.handleSubmit,children:[e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Menu Name",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{value:t.values.menuName,type:"text",name:"menuName",onChange:t.handleChange,className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("p",{className:"text-red-500 text-xs",children:t.touched.menuName&&t.errors.menuName?t.errors.menuName:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Under Menu Name",e.jsx("span",{className:"text-red-500",children:"*"})]}),u&&e.jsxs("select",{defaultValue:u==null?void 0:u.parent_serial,name:"parentMenuName",onChange:t.handleChange,className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"0",children:"None"}),a==null?void 0:a.map(N=>e.jsx("option",{value:N.id,children:N.menu_string}))]}),e.jsxs("p",{className:"text-red-500 text-xs",children:[" ",t.touched.parentMenuName&&t.errors.parentMenuName?t.errors.parentMenuName:null]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Under Sub-Menu Name",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"childMenuName",onChange:t.handleChange,className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{value:"",children:"Select"}),h==null?void 0:h.map(N=>e.jsx("option",{value:N.id,children:N.menu_string}))]}),e.jsxs("p",{className:"text-red-500 text-xs",children:[" ",t.touched.childMenuName&&t.errors.childMenuName?t.errors.childMenuName:null]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Serial No.",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{value:t.values.serialNo,type:"text",name:"serialNo",onChange:t.handleChange,className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("p",{className:"text-red-500 text-xs",children:t.touched.serialNo&&t.errors.serialNo?t.errors.serialNo:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Menu Route",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{value:t.values.menuRoute,type:"text",name:"menuRoute",onChange:t.handleChange,className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("p",{className:"text-red-500 text-xs",children:t.touched.menuRoute&&t.errors.menuRoute?t.errors.menuRoute:null})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{type:"submit",className:"border border-indigo-900 hover:border-red-400 bg-indigo-600 hover:bg-indigo-800 text-white shadow-lg rounded-sm py-1 text-base font-normal px-3 m-3",children:"Update Menu"})})]})})]})})})}function Je(s){var p,N,P;const[r,x]=n.useState(0),[i,b]=n.useState(0),[a,j]=n.useState(0),[h,g]=n.useState(),[y,c]=n.useState(),{api_getAllMenu:u}=W(),d=_(),f=v=>{b(I=>I+1),g(v)},l=v=>{j(I=>I+1),c(v)},o=()=>{x(r+1)},m=[{Header:"Sl.",Cell:({row:v})=>e.jsx("div",{className:"px-1",children:v.index+1})},{Header:"Parent Name",accessor:"parentName"},{Header:"Menu List",accessor:"menu_string"},{Header:"Route List",accessor:"route"},{Header:"Created At",accessor:"created_at",Cell:({value:v})=>J(new Date(v),"dd/MM/yyyy")},{Header:"Action",accessor:"id",Cell:({cell:v})=>e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>l(v.row.values),className:"bg-sky-200 mx-1 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-sky-800 hover:text-white text-black",children:"Edit"}),e.jsx("button",{onClick:()=>f(v.row.values),className:"bg-red-300 mx-1 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-red-800 hover:text-white text-black",children:"Delete"})]})}],t=()=>{C()},{data:w,isError:k,error:S,refetch:C}=O("api/crud/menu/get-all-menues--",()=>{try{return M.post(u,{},d)}catch(v){console.log("Error api not avalivale",v)}});return k&&console.log("Error useQuery ",k),e.jsxs(e.Fragment,{children:[e.jsx(He,{openAddPopupScreen:r,refetchMasterMenuList:t}),e.jsx(Ge,{openEditPopUp:a,refetchMasterMenuList:t,dataTobeEdited:y}),e.jsx(Ve,{openDeletePopUp:i,refetchMasterMenuList:t,dataToBeDeleted:h}),e.jsxs("div",{className:"border mt-0 mx-0 px-1 pt-1 pb-10 bg-white mb-20",children:[e.jsx("div",{className:"p-2 shadow-lg",children:e.jsxs("div",{className:"grid grid-cols-2 ",children:[e.jsx("div",{className:"col-span-1 text-xl font-semibold",children:"Menu Master"}),e.jsx("div",{className:"col-span-1 flex flex-row-reverse",children:e.jsx("button",{onClick:o,className:"border border-blue-500 bg-blue-500 rounded-md p-2 text-white shadow-md text-base font-medium",children:"Create New Menu"})})]})}),e.jsx("div",{children:e.jsx("div",{children:Array.isArray((p=w==null?void 0:w.data)==null?void 0:p.data)&&((P=(N=w==null?void 0:w.data)==null?void 0:N.data)==null?void 0:P.length)>0?e.jsx(q,{assessmentType:!1,columns:m,dataList:w==null?void 0:w.data.data}):e.jsx(e.Fragment,{children:" No Data Found !!! "})})})]})]})}function Ke(){const[s,r]=n.useState(0),x=[{title:"Role Master",tabIndex:0},{title:"User Management",tabIndex:1},{title:"Role Based Menu",tabIndex:2},{title:"Menu Master",tabIndex:3}],i=b=>{r(b)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid grid-cols-12 rounded-lg mt-4 shadow-xl broder-2 border-sky-200 bg-gray-200",children:[e.jsx("div",{className:"col-span-12 md:col-span-12 ",children:e.jsx(oe,{tabs:x,fun:i})}),s==0&&e.jsxs("div",{className:"col-span-12 sm:col-span-12 shadow-lg bg-white overflow-y-scroll",style:{height:"90vh"},children:[" ",e.jsx(ve,{})," "]}),s==1&&e.jsxs("div",{className:"col-span-12 sm:col-span-12 shadow-lg bg-white overflow-y-scroll",style:{height:"90vh"},children:[" ",e.jsx(Ue,{})," "]}),s==2&&e.jsxs("div",{className:"col-span-12 sm:col-span-12 shadow-lg bg-white overflow-y-scroll",style:{height:"90vh"},children:[" ",e.jsx(Oe,{})," "]}),s==3&&e.jsxs("div",{className:"col-span-12 sm:col-span-12 shadow-lg bg-white overflow-y-scroll",style:{height:"90vh"},children:[" ",e.jsx(Je,{})," "]})]})})}function as(){return ie("User Role Management Workfow"),e.jsx(Ke,{})}export{as as default};
