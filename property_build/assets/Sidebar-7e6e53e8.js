import{r,c as m,j as t,g as x,u as v,h as g,i as N}from"./index-8450df66.js";import{B as f}from"./index.esm-cc046903.js";import{F as j}from"./index.esm-0c9a0dba.js";import{F as w}from"./index.esm-91578394.js";import{b}from"./index.esm-6575734a.js";import{B as C}from"./index.esm-26240deb.js";import{R as u}from"./index.esm-30e6c9c9.js";function y(e){const{userName:n,roles:a,setuserName:l,setroles:s}=r.useContext(m);return r.useEffect(()=>{let o=n==""?JSON.parse(window.localStorage.getItem("userName")):n,c=a==""?JSON.parse(window.localStorage.getItem("roles")):a;console.log("username at sidebar...",o),console.log("roles at sidebar...",c),l(o),s(c)},[]),t.jsx(t.Fragment,{children:t.jsxs("div",{className:"text-center px-1",children:[t.jsx("span",{className:"text-[40px] flex justify-center py-2 text-white",children:t.jsx(f,{})}),t.jsx("p",{className:"text-sm font-medium",style:e.sideBarStatus?{display:"none"}:{display:"block"},children:n}),a!=""&&(a==null?void 0:a.map(o=>t.jsx("p",{className:"text-xs",style:e.sideBarStatus?{display:"none"}:{display:"block"},children:o})))]})})}function O(e){const n=v(),a=g(),l=s=>{if(console.log("menu id ",s),window.innerWidth<=500&&(e.navCloseStatus||(e.NAV_CLOSE(),e.NAV_CLOSE_ORIGINAL_STATUS())),console.log("current path..",a.pathname),console.log("target path..",e==null?void 0:e.path),a.pathname===e.path){window.location.reload();return}n(e.path)};return t.jsx(t.Fragment,{children:e.subMenuStatus?t.jsx("li",{className:"cursor-pointer",style:{textDecoration:"none",fontSize:"13px",fontWeight:"400",paddingLeft:"10px"},children:e.title}):t.jsx("div",{className:"cursor-pointer",onClick:()=>l(e==null?void 0:e.menuId),children:t.jsx("li",{style:{textDecoration:"none",fontSize:"13px",fontWeight:"400",paddingLeft:"10px"},href:e.path,children:e.title})})})}const L=e=>({navCloseStatus:e.navCloseStatus,navOriginalCloseStatus:e.navOriginalCloseStatus}),_=e=>({NAV_CLOSE:n=>e({type:"NAV_CLOSE"}),NAV_CLOSE_ORIGINAL_STATUS:n=>e({type:"NAV_CLOSE_ORIGINAL_STATUS"})}),d=x(L,_)(O);function A(e){console.log("props path name.....",e==null?void 0:e.path);const[n,a]=r.useState("h-0"),l=()=>{n=="h-0"?a("h-auto"):a("h-0")};return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"block",children:[e.path!=null&&t.jsxs("li",{className:"cursor-pointer flex items-center pl-2 py-2 mt-2 hover:bg-sky-100 hover:border-l-2 hover:border-indigo-600  hover:text-indigo-500",style:{width:"250px"},children:[t.jsx("div",{className:"flex-none ",children:t.jsx(u,{})}),t.jsx("div",{className:"flex-initial w-40",children:t.jsx(d,{subMenuStatus:e.subMenuStatus,path:e.path,title:e.title})})]}),e.path==null&&t.jsxs("li",{onClick:l,className:"cursor-pointer flex items-center pl-2 py-2 mt-2 hover:bg-sky-100 hover:border-l-2 hover:border-indigo-600  hover:text-indigo-500",style:{width:"250px"},children:[t.jsx("div",{className:"flex-none ",children:t.jsx(u,{})}),t.jsx("div",{className:"flex-initial w-40",children:t.jsx(d,{subMenuStatus:e.subMenuStatus,path:e.path,title:e.title})}),e.subMenuStatus&&t.jsxs("div",{className:"flex-none ",children:[n=="h-0"&&t.jsx(b,{size:18}),n=="h-auto"&&t.jsx(C,{size:18})]})]}),e.path==null&&t.jsx("div",{className:`transition-all duration-1000 ${n} overflow-hidden bg-indigo-700`,children:e.subMenu.map(s=>t.jsxs("div",{className:"flex items-center pl-8 py-2 hover:bg-sky-100 hover:border-l-2 hover:border-indigo-600  hover:text-indigo-500  text-white",style:{width:"250px"},children:[t.jsx("div",{className:"flex-none ",children:t.jsx(w,{size:14})}),t.jsx("div",{className:"flex-initial w-40",children:t.jsx(d,{path:s.path,title:s.name,menuId:s==null?void 0:s.id})})]}))})]})})}function E(e){const n=g(),{menuList:a,setmenuList:l}=r.useContext(m);r.useEffect(()=>{let i=a==""?JSON.parse(window.localStorage.getItem("menuList")):a;console.log("menu at console....",i),l(i)},[]);const s=()=>{e.navOriginalCloseStatus&&e.NAV_OPEN()},o=()=>{e.navOriginalCloseStatus&&e.NAV_CLOSE()};let c=window.localStorage.getItem("device");return t.jsx(t.Fragment,{children:c!="mobile"&&n.pathname!="/landing"&&n.pathname!="/"&&n.pathname!="/login"&&n.pathname!="/mobile-login"&&n.pathname!="/error"&&t.jsxs("div",{className:(e.navCloseStatus?"w-0 sm:w-9":"w-56 pr-2")+" shadow-lg px-0 bg-indigo-400 h-screen pb-12 overflow-y-scroll absolute top-16 left-0  text-white  transition-all z-40 border-r-2 scbar animate__animated animate__fadeInLeft",onMouseEnter:s,onMouseLeave:o,children:[t.jsx("div",{className:"py-4",children:t.jsx(y,{sideBarStatus:e.navCloseStatus})}),t.jsx("hr",{}),t.jsxs("ul",{className:"list-none",style:e.navCloseStatus==!0?{padding:"0px 2px 0px 2px"}:{padding:"0px 10px 0px 10px"},children:[(e==null?void 0:e.menuFetchStatus)&&t.jsx("div",{className:"w-full flex justify-center items-center",children:t.jsx(N,{strokeColor:"white",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0})}),!(e!=null&&e.menuFetchStatus)&&a!=""&&(a==null?void 0:a.map((i,S)=>{var h;return t.jsx(A,{title:i.name,path:i==null?void 0:i.path,subMenu:i==null?void 0:i.children,subMenuStatus:((h=i==null?void 0:i.children)==null?void 0:h.length)!=0,icon:t.jsx(j,{size:14})},`sidebar_menu${S}`)})),t.jsx("div",{className:"mt-10 h-20"})]})]})})}const k=e=>({navCloseStatus:e.navCloseStatus,navOriginalCloseStatus:e.navOriginalCloseStatus}),I=e=>({NAV_OPEN:n=>e({type:"NAV_OPEN"}),NAV_CLOSE:n=>e({type:"NAV_CLOSE"})}),P=x(k,I)(E);export{P as default};
