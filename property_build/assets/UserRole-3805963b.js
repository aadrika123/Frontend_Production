import{r as o,ab as Y,d as E,e as R,f as H,R as I,s as _,a as v,w as $,j as e,M as D,ac as A,ad as ae,L as q,C as K,ae as J,p as U,O as V,U as te,V as re,c as Z,af as le,z as ne,b as oe}from"./index-2fb4343b.js";import{u as O}from"./useQuery-f24e7d32.js";import{B as T,T as X,a as F}from"./Box-a6c7287e.js";import{T as ee}from"./Typography-c01643f5.js";import{c as ie}from"./index.esm-d8a9e2a9.js";import{d as de}from"./index.esm-050cada5.js";import{F as ce,N as ue,a as me,L as pe}from"./NavigateNext-248943a0.js";import{S as se}from"./Switch-4c6048c5.js";import{b as xe}from"./index.esm-268812e1.js";import"./useThemeProps-e56a6f50.js";import"./createSvgIcon-8a2e0d84.js";import"./SwitchBase-152e2123.js";import"./useFormControl-52cc2b17.js";const he={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"transparent",border:"none"}};function be(s){const[r,p]=o.useState(),{ulbListApi:i}=Y(),h=E({roleName:R().required("This is a required field !")}),a=H({initialValues:{roleName:""},onSubmit:g=>{c(g)},validationSchema:h}),f=g=>a.values.roleName=g.target.value,[x,b]=I.useState(!1),y=_(),c=g=>{console.log("Data to be saved",g);const n={roleName:g.roleName};v.post($+"/api/crud/roles/save-role",n,y).then(l=>(console.log("Role saved successfully",l),d())).catch(l=>(console.log("Failed to save the Role",l),d()))};o.useEffect(()=>{s.openAddNewRoleModal>0&&b(!0)},[s.openAddNewRoleModal]);function u(){}function d(){b(!1),s.refetchListOfRoles()}return o.useEffect(()=>{v.get(i).then(function(g){p(g.data)}).catch(function(g){console.log("Error",g)})},[]),e.jsx("div",{className:"",children:e.jsx(D,{isOpen:x,onAfterOpen:u,onRequestClose:d,style:he,contentLabel:"Example Modal",children:e.jsxs("div",{className:"bg-sky-300 shadow-2xl border border-sky-200 p-5 m-5 rounded-md",children:[e.jsxs("div",{className:"flow-root",children:[e.jsxs("p",{className:"float-left text-center text-xl font-semibold",children:["Add New Role"," "]}),e.jsxs("p",{onClick:d,className:"float-right cursor-pointer rounded-full bg-sky-200 hover:bg-gray-200 mx-3",children:[" ",e.jsx(A,{size:25})," "]})]}),e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsx("div",{className:"col-span-10"}),e.jsx("div",{className:"col-span-2"})]}),e.jsx("p",{className:"border-b py-1 mb-3"}),e.jsx("div",{children:e.jsxs("form",{onSubmit:a.handleSubmit,children:[e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Role Name",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"roleName",onChange:f,className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("p",{className:"text-red-500 text-xs",children:a.touched.roleName&&a.errors.roleName?a.errors.roleName:null})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("button",{type:"submit",className:"border border-green-400 bg-green-600 hover:bg-green-500 text-white hover:text-black shadow-lg rounded-sm py-1 text-base font-semibold px-3 m-3",children:[" ","Submit"," "]})})]})})]})})})}const ge={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"transparent",border:"none"}};function fe(s){const[r,p]=I.useState(!1);_();const i=f=>{console.log("ID to be deleted",f);const x={id:f};v.delete($+"/api/crud/roles/delete-role",x,ae()).then(b=>(console.log("Role Deleted successfully",b),a())).catch(b=>(console.log("Failed to Deleted the Role",b),a()))};o.useEffect(()=>{s.openDeleteModal>0&&p(!0)},[s.openDeleteModal]);function h(){}function a(){p(!1),s.refetchListOfRoles()}return e.jsx("div",{className:"",children:e.jsx(D,{isOpen:r,onAfterOpen:h,onRequestClose:a,style:ge,contentLabel:"Example Modal",children:e.jsxs("div",{className:"bg-sky-300 shadow-2xl border border-sky-200 p-5 m-5 rounded-md",children:[e.jsxs("div",{className:"flow-root",children:[e.jsxs("p",{className:"float-left text-center text-xl font-semibold",children:["Are you sure to Delete ? ",s.deleteRoleId," "]}),e.jsxs("p",{onClick:a,className:"float-right cursor-pointer rounded-full bg-sky-200 hover:bg-gray-200 mx-3",children:[" ",e.jsx(A,{size:25})," "]})]}),e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsx("div",{className:"col-span-10"}),e.jsx("div",{className:"col-span-2"})]}),e.jsx("p",{className:"border-b py-1 mb-3"}),e.jsxs("div",{className:"flex justify-center",children:[e.jsxs("button",{onClick:()=>i(s.deleteRoleId),className:"border border-red-400 bg-red-600 hover:bg-red-500 text-white hover:text-black shadow-lg rounded-sm py-1 text-base font-semibold px-3 m-3",children:[" ","Yes, Delete"," "]}),e.jsxs("button",{onClick:a,className:"border border-green-400 bg-green-600 hover:bg-green-500 text-white hover:text-black shadow-lg rounded-sm py-1 text-base font-semibold px-3 m-3",children:[" ","Cancel"," "]})]})]})})})}const je={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"transparent",border:"none"}};function Ne(s){var d,g,n;let r=(d=s==null?void 0:s.editRoleId)==null?void 0:d.id,p=(g=s==null?void 0:s.editRoleId)==null?void 0:g.role_name,i=(n=s==null?void 0:s.editRoleId)==null?void 0:n.is_suspended;const h=E({roleName:R().required("This is a required field !"),roleStatus:R().required("This is a required field !")}),a=H({enableReinitialize:!0,initialValues:{roleName:p,roleStatus:i},onSubmit:l=>{y(l)},validationSchema:h}),[f,x]=I.useState(!1),b=_(),y=l=>{console.log("Data to be Update",l),console.log("roleId=======",r);const j={id:r,roleName:l.roleName,isSuspended:l.roleStatus};v.put($+"/api/crud/roles/edit-role",j,b).then(t=>(console.log("Role Update successfully",t),u())).catch(t=>(console.log("Failed to Update the Role",t),u()))};o.useEffect(()=>{s.openModelForEdit>0&&x(!0)},[s.openModelForEdit]);function c(){}function u(){x(!1),s.refetchListOfRoles()}return e.jsx("div",{className:"",children:e.jsx(D,{isOpen:f,onAfterOpen:c,onRequestClose:u,style:je,contentLabel:"Example Modal",children:e.jsxs("div",{className:"bg-sky-300 shadow-2xl border border-sky-200 p-5 m-5 rounded-md",children:[e.jsxs("div",{className:"flow-root",children:[e.jsxs("p",{className:"float-left text-center text-xl font-semibold",children:["Edit Role : ",r," "]}),e.jsxs("p",{onClick:u,className:"float-right cursor-pointer rounded-full bg-sky-200 hover:bg-gray-200 mx-3",children:[" ",e.jsx(A,{size:25})," "]})]}),e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsx("div",{className:"col-span-10"}),e.jsx("div",{className:"col-span-2"})]}),e.jsx("p",{className:"border-b py-1 mb-3"}),e.jsx("div",{children:e.jsxs("form",{onSubmit:a.handleSubmit,children:[e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Role Name",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"roleName",onChange:a.handleChange,value:a.values.roleName,className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("p",{className:"text-red-500 text-xs",children:a.touched.roleName&&a.errors.roleName?a.errors.roleName:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Status",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{type:"text",name:"roleStatus",onChange:a.handleChange,className:"w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{children:"Select"}),e.jsx("option",{selected:!i,value:"0",children:"Active"}),e.jsx("option",{selected:i,value:"1",children:"Suspended"})]}),e.jsx("p",{className:"text-red-500 text-xs",children:a.touched.roleStatus&&a.errors.roleStatus?a.errors.roleStatus:null})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("button",{type:"submit",className:"border border-green-400 bg-green-600 hover:bg-green-500 text-white hover:text-black shadow-lg rounded-sm py-1 text-base font-semibold px-3 m-3",children:[" ","Submit"," "]})})]})})]})})})}function ye(s){const[r,p]=o.useState(0),[i,h]=o.useState(0),[a,f]=o.useState(0),[x,b]=o.useState(),[y,c]=o.useState(),u=M=>{h(C=>C+1),b(M)},d=M=>{f(C=>C+1),c(M),console.log("id to be edit is",M)};console.log("editRoleId",y),o.useEffect(()=>{t()},[s.refetchList]);const g=_(),n=[{Header:"#",Cell:({row:M})=>e.jsx("div",{className:"pr-2",children:M.index+1})},{Header:"Role Name",accessor:"role_name"},{Header:"Created at",accessor:"created_at",Cell:({value:M})=>J(new Date(M),"dd/MM/yyyy")},{Header:"Status",accessor:"is_suspended",Cell:M=>e.jsxs("p",{children:[M.value==!0&&e.jsx("p",{className:"text-red-400 font-semibold",children:"Suspended"}),M.value==!1&&e.jsx("p",{className:"text-green-400 font-semibold",children:"Active"})]})},{Header:"Action",accessor:"id",Cell:({cell:M})=>e.jsxs("div",{children:[e.jsx("button",{onClick:()=>d(M.row.values),className:"bg-sky-200 mx-1 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-sky-800 hover:text-white text-black",children:"Edit"}),e.jsx("button",{onClick:()=>u(M.row.values.id),className:"bg-red-300 mx-1 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-red-800 hover:text-white text-black",children:"Delete"})]})}],{isLoading:l,data:j,refetch:t,isError:w,error:P}=O("get-all-roleserew-query",()=>v.get($+"/api/crud/roles/get-all-roles",g));return e.jsxs(e.Fragment,{children:[e.jsx(be,{openAddNewRoleModal:r,refetchListOfRoles:t}),e.jsx(Ne,{openModelForEdit:a,editRoleId:y,refetchListOfRoles:t}),e.jsx(fe,{openDeleteModal:i,deleteRoleId:x,refetchListOfRoles:t}),l&&e.jsx("h1",{children:"Looading ..."}),!l&&e.jsx(q,{assessmentType:!1,columns:n,dataList:j==null?void 0:j.data.data,children:e.jsxs("button",{onClick:()=>p(r+1),className:"float-right bg-indigo-500 px-3 py-1 rounded-sm shadow-lg hover:shadow-xl hover:bg-indigo-800 hover:text-white text-white flex items-center",children:[e.jsx(K,{})," Add Role"]})})]})}function G(s){const{children:r,value:p,index:i,...h}=s;return e.jsx("div",{role:"tabpanel",hidden:p!==i,id:`simple-tabpanel-${i}`,"aria-labelledby":`simple-tab-${i}`,...h,children:p===i&&e.jsx(T,{sx:{p:3},children:e.jsx(ee,{children:r})})})}G.propTypes={children:U.node,index:U.number.isRequired,value:U.number.isRequired};function we(s){return{id:`simple-tab-${s}`,"aria-controls":`simple-tabpanel-${s}`}}function ve(){const[s,r]=o.useState(0),[p,i]=o.useState(""),[h,a]=o.useState("Details"),[f,x]=o.useState(!1),[b,y]=o.useState(0),c=(l,j)=>{r(j)},u=()=>{a("Add"),x(l=>l+1)},d=l=>{a("View"),x(j=>j+1),i(l)},g=l=>{a("Edit"),x(j=>j+1),i(l)},n=l=>{a("Delete"),x(j=>j+1),i(l)};return e.jsx(e.Fragment,{children:e.jsxs(T,{sx:{width:"100%"},children:[e.jsx(T,{sx:{borderBottom:1,borderColor:"divider"},children:e.jsx(X,{value:s,onChange:c,"aria-label":"basic tabs example",children:e.jsx(F,{label:"List",...we(0)})})}),e.jsx(G,{value:s,index:0,children:e.jsx(ye,{add:u,view:d,edit:g,delete:n,refetchList:b})}),e.jsx(G,{value:s,index:1})]})})}function Me({searchText:s,filter:r,setFilter:p}){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"my-2 flex",children:[e.jsxs("p",{className:"mx-2 font-semibold",children:[" Search ",s," : "]}),e.jsx("input",{className:"border-2 border-gray-600 px-2 bg-gray-200 rounded-sm",type:"text",value:r||"",onChange:i=>p(i.target.value)})]})})}function Se({searchText:s,fun:r,columns:p,data:i,...h}){const[a,f]=o.useState("hidden"),{getTableProps:x,getTableBodyProps:b,headerGroups:y,prepareRow:c,page:u,canPreviousPage:d,canNextPage:g,pageOptions:n,pageCount:l,gotoPage:j,nextPage:t,previousPage:w,setGlobalFilter:P,setPageSize:M,state:{pageIndex:C,pageSize:m,selectedRowIds:N,globalFilter:k}}=V.useTable({columns:p,data:i,initialState:{pageIndex:0}},V.useGlobalFilter,V.useSortBy,V.usePagination);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"overflow-hidden",children:[e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-initial",children:e.jsx(Me,{searchText:s,filter:k,setFilter:P})}),e.jsx("div",{className:"ml-2",children:e.jsxs("button",{className:"bg-sky-400 px-3 my-2 pr-3  shadow-lg rounded py-1 text-white hover:shadow-2xl hover:bg-green-600 text-center relative",onMouseEnter:()=>f(""),onMouseLeave:()=>f("hidden"),children:[e.jsx(te,{data:i,children:" Export"}),e.jsx("div",{className:a+" absolute h-full top-3 text-sm left-0 text-center animate-bounce",children:e.jsx(re,{})})]})})]}),e.jsxs("table",{...x(),className:"min-w-full leading-normal",children:[e.jsx("thead",{className:"font-bold text-center text-sm bg-green-300",children:y.map(S=>e.jsx("tr",{className:"",...S.getHeaderGroupProps(),children:S.headers.map(L=>e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-gray-800 text-xs uppercase text-left",...L.getHeaderProps(L.getSortByToggleProps()),children:e.jsxs("div",{className:"flex",children:[e.jsxs("span",{children:[" ",L.render("Header")]}),e.jsxs("span",{className:"mt-0.5 mx-2",children:[" ",!L.isSorted&&e.jsx(de,{size:14})," "]}),e.jsx("span",{children:L.isSorted?L.isSortedDesc?" 🔽":" 🔼":""})]})}))}))}),e.jsx("tbody",{...b(),children:u.map((S,L)=>(c(S),e.jsx("tr",{className:"",...S.getRowProps(),children:S.cells.map(Q=>e.jsx("td",{style:{backgroundColor:S.isSelected?"#b6fcc0":"",color:S.isSelected?"#000000":""},className:"px-2 py-2 bg-green-50 text-left leading-4 text-sm text-gray-700 tracking-wider border-b",...Q.getCellProps(),children:Q.render("Cell")}))})))})]})]}),e.jsxs("div",{className:"pagination grid grid-cols-12 mt-5 px-5",children:[e.jsxs("div",{className:"col-span-4",children:[e.jsxs("button",{className:"hover:bg-gray-300 cursor-pointer",onClick:()=>j(0),disabled:!d,children:[" ",e.jsx(ce,{})," "]})," ","  ",e.jsxs("button",{className:"hover:bg-gray-300 cursor-pointer",onClick:()=>w(),disabled:!d,children:[e.jsx(ue,{})," "]})," ",e.jsx("button",{className:"hover:bg-gray-300 cursor-pointer",onClick:()=>t(),disabled:!g,children:e.jsx(me,{})})," "," ",e.jsx("button",{className:"hover:bg-gray-300 cursor-pointer",onClick:()=>j(l-1),disabled:!g,children:e.jsx(pe,{})})," "," "]}),e.jsx("div",{className:"col-span-4 justify-self-center",children:e.jsxs("span",{children:["Page"," ",e.jsxs("strong",{children:[C+1," of ",n.length]})," "]})}),e.jsx("div",{className:"col-span-4 justify-self-end",children:e.jsx("select",{className:"h-10 bg-gray-50 border border-gray-300 text-gray-900 text-sm focus:ring-blue-500 focus:border-blue-500 block p-2.5 ",value:m,onChange:S=>{M(Number(S.target.value))},children:[5,10,20,30,40,50].map(S=>e.jsxs("option",{value:S,children:["Show ",S]},S))})})]})]})}function ke(){let s=$;return{header:_(),api_ulbList:`${s}/api/get-all-ulb`,api_getSafHoldingDetails:`${s}/api/water/search-holding-saf`,api_getPendingApplicationDetails:`${s}/api/water/application/get-by-id`,api_waterApprovedApplicationDetails:`${s}/api/water/consumer/get-listed-details`,api_waterConsumerPaymentHistory:`${s}/api/water/consumer/get-payment-history`,api_getProfileDetails:`${s}/api/my-profile-details`,api_NewWaterConnection:`${s}/api/water/application/apply-new-connection`,api_WaterGetDetailsById:`${s}/api/water/admin/application/get-details-by-id`,api_WaterListDetailsById:`${s}/api/water/admin/application/list-details-by-date`,api_paymentReceipt:`${s}/api/water/admin/application/generate-payment-receipt`,api_waterListDemand:`${s}/api/water/consumer/list-demand`,api_waterSiteInspectionList:`${s}/api/water/admin/search-application`,api_waterMasterData:`${s}/api/water/master/get-listed-details`,api_waterSiteInspectionSaveData:`${s}/api/water/site-verification/save-site-details`,api_waterPayConnectionCharges:`${s}/api/water/application/payment/offline/pay-connection-charge`,api_waterApplicationPaymentHistory:`${s}/api/water/application/payment/get-payment-history`,api_waterInspectionSaveDate:`${s}/api/water/admin/application/save-inspection-date`,api_waterInspectionDetails:`${s}/api/water/admin/application/site-inspection-details`,api_waterCancelSiteInspection:`${s}/api/water/admin/application/cancel-inspection-scheduling`,api_waterGenerateDemand:`${s}/api/water/admin/consumer/generate-demand`,api_saveConnectionMeter:`${s}/api/water/admin/consumer/save-connection-meter`,api_consumerGetMeterList:`${s}/api/water/admin/consumer/get-meter-list`,api_waterInbox:`${s}/api/water/inbox`,api_waterOutbox:`${s}/api/water/outbox`,api_waterSpecialInbox:`${s}/api/water/special-inbox`,api_waterPendingApplicationById:`${s}/api/water/workflow/application/get-by-id`,api_waterPostMessage:`${s}/api/water/comment-independent`,api_waterPostNextLevel:`${s}/api/water/post-next-level`,api_waterEsclate:`${s}/api/water/escalate`,api_waterApproveRejectApplication:`${s}/api/water/application/approval-rejection`,api_waterVerifyDoc:`${s}/api/workflow/document/verify-reject`,api_waterDocList:`${s}/api/water/get-upload-documents`,api_waterListFieldVerifyInbox:`${s}/api/water/field-verified-inbox`,api_waterBtcListInbox:`${s}/api/water/btc-inbox`,api_backToCitizen:`${s}/api/water/back-to-citizen`,api_waterPostCustomData:`${s}/api/post-custom-data`,api_waterGetCustomDataTab:`${s}/api/get-all-custom-tab-data`,api_waterListDocToUpload:`${s}/api/water/workflow/get-doc-list`,api_waterSearchConsumer:`${s}/api/water/search-consumer`,api_waterSearchActiveApplication:`${s}/api/water/application/search`,api_waterUploadDocument:`${s}/api/water/upload-document`,api_menuMasterDelete:`${s}/api/crud/menu/delete-menues`,api_addNewMenu:`${s}/api/crud/menu/add-new-menues`,api_listParentSetial:`${s}/api/menu-roles/list-parent-serial`,api_getChildrenNode:`${s}/api/sub-menu/get-children-node`,api_getRolesByid:`${s}/api/workflow/role-user-maps/get-roles-by-id`,api_updateUserRoles:`${s}/api/workflows/role-user-maps/update-user-roles`,api_getMenuById:`${s}/api/menu/get-menu-by-id`,api_getAllMenu:`${s}/api/crud/menu/get-all-menues`,api_updateMenu:`${s}/api/crud/menu/update-menues`,api_listofEmployees:`${s}/api/list-employees`,api_listUnverifiedCashVerification:`${s}/api/payment/list-cash-verification`,api_listVerifiedCashVerification:`${s}/api/payment/verified-cash-verification`,api_tcCollection:`${s}/api/payment/tc-collections`,api_cashVerification:`${s}/api/payment/verify-cash`}}function _e(s){const{notify:r}=o.useContext(Z),p=_(),{api_getRolesByid:i,api_updateUserRoles:h}=ke(),a=(n,l,j)=>{const t={userId:s.btnId,roleId:n,status:l};v.post(h,t,p).then(function(w){w.data.status?(r(w.data.message,"success"),console.log("Data Update Sussussfull",w.data.message),u()):(console.log("Data Not Update..",w),u())}).catch(function(w){console.log("Failed to update Data",w)})},f=(n,l)=>{a(n,l)},x=(n,l)=>{a(n,1)},b=[{Header:"Sl.",Cell:({row:n})=>e.jsx("div",{className:"px-1",children:n.index+1})},{Header:"All Roles",accessor:"role_name"},{Header:"",accessor:"role_id"},{Header:"Modify",accessor:"can_modify",Cell:n=>e.jsx("div",{children:e.jsxs("label",{className:"inline-flex relative items-center mr-5 cursor-pointer",children:[e.jsx("input",{onChange:l=>x(n.cell.row.values.id,l.target.checked),type:"checkbox",value:n.cell.row.values.id,id:"green-toggle",className:"sr-only peer",checked:n.value}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 rounded-full peer dark:bg-gray-700 peer-focus:ring-4 peer-focus:ring-green-300 dark:peer-focus:ring-green-800 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-green-600"})]})})},{Header:"Permission",accessor:"permission_status",Cell:n=>e.jsx("div",{className:"",children:e.jsx(se,{checked:n.value,onChange:l=>f(n.cell.row.values.role_id,l.target.checked),value:n.cell.row.values.role_id,inputProps:{"aria-label":"controlled"}})})}],{isLoading:y,data:c,refetch:u,isError:d,error:g}=O("ManageUserRoleByID",()=>v.post(i,{userId:s.btnId},p));return e.jsx(e.Fragment,{children:e.jsx("div",{className:"border bg-white mb-20",children:e.jsx("div",{children:e.jsx("div",{children:!y&&e.jsx(Se,{searchText:"User",columns:b,data:c==null?void 0:c.data.data})})})})})}const Ce="/assets/userImage-40c38d37.jpg";function Re(s){return e.jsx(e.Fragment,{children:e.jsx("div",{children:e.jsx("div",{className:"container mx-auto mb-8 p-3  border",children:e.jsxs("div",{className:"md:flex no-wrap md:-mx-2",children:[e.jsx("div",{className:"w-full md:w-3/12 md:mx-2",children:e.jsxs("div",{className:"bg-white p-3 border shadow-lg border-green-400",children:[e.jsx("div",{className:"image overflow-hidden",children:e.jsx("img",{className:"h-auto w-full mx-auto rounded-md shadow-md",src:Ce,alt:""})}),e.jsx("div",{className:"bg-sky-300 text-center shadow-lg cursor-pointer my-2 text-sm font-semibold rounded-sm",children:"Upload New"}),e.jsx("h1",{className:"text-gray-900 font-bold text-xl leading-8",children:s.userName}),e.jsxs("ul",{className:"bg-gray-100 text-gray-600 hover:text-gray-700 hover:shadow py-2 px-3 mt-3 divide-y rounded shadow-sm",children:[e.jsxs("li",{className:"flex items-center py-3",children:[e.jsx("span",{children:"Status"}),e.jsx("span",{className:"ml-auto",children:e.jsx("span",{className:"bg-green-500 py-1 px-2 rounded text-white text-sm",children:"Active"})})]}),e.jsxs("li",{className:"items-center text-center",children:[e.jsx("p",{className:"bg-sky-200 rounded-md",children:"Member since"}),e.jsx("p",{className:"mt-1 font-extralight",children:"Nov 07, 2016"})]})]})]})}),e.jsxs("div",{className:"w-full md:w-9/12 mx-2 h-64",children:[e.jsxs("div",{className:"bg-white p-3 shadow-sm rounded-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2 font-semibold text-gray-900 leading-8",children:[e.jsx("span",{clas:"text-green-500",children:e.jsx("svg",{className:"h-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),e.jsx("span",{className:"tracking-wide",children:"About"})]}),e.jsx("div",{className:"text-gray-700",children:e.jsxs("div",{className:"grid md:grid-cols-2 text-sm",children:[e.jsxs("div",{className:"grid grid-cols-2",children:[e.jsx("div",{className:"px-4 py-2 font-semibold",children:"First Name"}),e.jsx("div",{className:"px-4 py-2",children:s.userName})]}),e.jsxs("div",{className:"grid grid-cols-2",children:[e.jsx("div",{className:"px-4 py-2 font-semibold",children:"Last Name"}),e.jsx("div",{className:"px-4 py-2",children:"Doe"})]}),e.jsxs("div",{className:"grid grid-cols-2",children:[e.jsx("div",{className:"px-4 py-2 font-semibold",children:"Gender"}),e.jsx("div",{className:"px-4 py-2",children:"Female"})]}),e.jsxs("div",{className:"grid grid-cols-2",children:[e.jsx("div",{className:"px-4 py-2 font-semibold",children:"Contact No."}),e.jsx("div",{className:"px-4 py-2",children:"+11 998001001"})]}),e.jsxs("div",{className:"grid grid-cols-2",children:[e.jsx("div",{className:"px-4 py-2 font-semibold",children:"Current Address"}),e.jsx("div",{className:"px-4 py-2",children:"Beech Creek, PA, Pennsylvania"})]}),e.jsxs("div",{className:"grid grid-cols-2",children:[e.jsx("div",{className:"px-4 py-2 font-semibold",children:"Permanant Address"}),e.jsx("div",{className:"px-4 py-2",children:"Arlington Heights, IL, Illinois"})]}),e.jsxs("div",{className:"grid grid-cols-2",children:[e.jsx("div",{className:"px-4 py-2 font-semibold",children:"Email."}),e.jsx("div",{className:"px-4 py-2",children:e.jsx("a",{className:"text-blue-800",href:"mailto:jane@example.com",children:"jane@example.com"})})]}),e.jsxs("div",{className:"grid grid-cols-2",children:[e.jsx("div",{className:"px-4 py-2 font-semibold",children:"Birthday"}),e.jsx("div",{className:"px-4 py-2",children:"Feb 06, 1998"})]})]})}),e.jsx("div",{className:"flex justify-center my-2",children:e.jsx("button",{className:"bg-red-400 hover:bg-red-500 px-3 py-1 rounded-sm shadow-md font-semibold text-black",children:"Deactivate"})})]}),e.jsx("div",{className:"my-4"}),e.jsx("div",{className:"bg-white p-3 shadow-sm rounded-sm",children:e.jsxs("div",{className:"grid grid-cols-2",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 font-semibold text-gray-900 leading-8 mb-3",children:[e.jsx("span",{clas:"text-green-500",children:e.jsx("svg",{className:"h-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsx("span",{className:"tracking-wide",children:"IP Address"})]}),e.jsx("ul",{className:"list-inside space-y-2",children:e.jsxs("li",{children:[e.jsx("div",{className:"text-teal-600",children:"203.129.217.58"}),e.jsx("div",{className:"text-gray-500 text-xs",children:"March 2020 - Now"})]})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 font-semibold text-gray-900 leading-8 mb-3",children:[e.jsx("span",{clas:"text-green-500",children:e.jsxs("svg",{className:"h-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{fill:"#fff",d:"M12 14l9-5-9-5-9 5 9 5z"}),e.jsx("path",{fill:"#fff",d:"M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"}),e.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 14l9-5-9-5-9 5 9 5zm0 0l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14zm-4 6v-7.5l4-2.222"})]})}),e.jsx("span",{className:"tracking-wide",children:"Login Date/Time"})]}),e.jsx("ul",{className:"list-inside space-y-2",children:e.jsxs("li",{children:[e.jsx("div",{className:"text-teal-600",children:"2022-08-25 06:52:18"}),e.jsx("div",{className:"text-gray-500 text-xs",children:"March 2020 - Now"})]})})]})]})})]})]})})})})}function $e(s){const{notify:r}=o.useContext(Z),[p,i]=o.useState(!1),h=d=>{const{value:g,checked:n}=d.target;console.log(`CheckBOx: ${g} is ${n}`),f(g,n)},a=_(),f=(d,g)=>{i(!0),v({method:"post",url:$+"/api/ward/masters/ward-user",data:{userID:s.btnId,ulbWardID:d,status:g},headers:_()}).then(function(n){n.data.status?(r(n.data.message,"success"),console.log("Data Update Sussussfull",n.data.message),y(),i(!1)):(console.log("Data Not Update..",n),y())}).catch(function(n){console.log("Failed to update Data",n)})},{isLoading:x,data:b,refetch:y,isError:c,error:u}=O("UserWardPage-fetchAPi",()=>v.get($+`/api/ward/masters/ward-user/${s.btnId}`,a));return o.useEffect(()=>{localStorage.setItem("items",JSON.stringify(b))},[b]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"border-1 shadow-2xl ",children:e.jsxs("div",{className:"mb-12 border bg-gray-100",children:[e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsxs("div",{className:"col-start-2 h-10 w-40 py-2 px-4 my-3 bg-blue-300 flex justify-self-start border shadow-md",children:[e.jsx("input",{type:"checkbox",className:"h-5 w-5",name:"",id:""})," ",e.jsx("p",{className:"ml-2 font-semibold",children:" Select All"})]}),e.jsx("div",{className:"col-start-10",children:e.jsx("button",{className:"h-10 w-40 py-2 px-4 my-3 bg-green-400 hover:bg-green-500 hover:rounded-md text-center font-semibold border-black shadow-md",children:"Save"})})]}),e.jsx("div",{className:"grid grid-cols-5 mb-2",children:b&&(b==null?void 0:b.data.data.map((d,g)=>e.jsx("div",{className:"col-span-1 ",children:e.jsx("div",{className:`flex border shadow-2xl px-2 py-1 mt-2 bg-${d.status==!0?"yellow-200":"white"} mx-2 cursor-pointer hover:animate-pulse border-1 border-${d.status==!0?"black":"gray-500"}`,children:e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsx("div",{className:"col-span-2",children:e.jsx("input",{className:"mr-3",type:"checkbox",name:"ward",checked:d.status,onChange:h,value:d.ulb_ward_id})}),e.jsx("div",{className:"col-span-8 ml-2",children:e.jsxs("p",{className:"font-semibold",children:["Ward ",d.ward_name]})}),e.jsx("div",{className:"col-span-2",children:e.jsx("p",{className:"font-semibold mt-1",children:d.status==!0&&e.jsx(xe,{color:"blue"})})})]})})})))}),e.jsx("div",{children:e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{className:"h-10 w-40 py-2 px-4 my-3 bg-green-400 hover:bg-green-500 hover:rounded-md text-center font-semibold border-black shadow-md",children:"Save"})})})]})})})}function Pe(s){return e.jsx(e.Fragment,{children:e.jsxs("div",{children:["UserMenuPermission ",e.jsx("br",{}),"user id ",s.btnId," ",e.jsx("br",{}),"user name ",s.userName]})})}function B(s){const{children:r,value:p,index:i,...h}=s;return e.jsx("div",{role:"tabpanel",hidden:p!==i,id:`simple-tabpanel-${i}`,"aria-labelledby":`simple-tab-${i}`,...h,children:p===i&&e.jsx(T,{sx:{p:0},children:e.jsx(ee,{children:r})})})}B.propTypes={children:U.node,index:U.number.isRequired,value:U.number.isRequired};function z(s){return{id:`simple-tab-${s}`,"aria-controls":`simple-tabpanel-${s}`}}function Ie(s){const[r,p]=o.useState(0),[i,h]=o.useState("Role"),a=(f,x)=>{p(x)};return o.useEffect(()=>{r===0?h("Role"):r===1?h("Profile"):r===2?h("Ward"):r===3&&h("Menu")},[r]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border shadow-lg bg-green-50",children:e.jsx("div",{className:"p-2 bg-green-400 shadow-md",children:e.jsxs("div",{className:"grid grid-cols-2 ",children:[e.jsxs("div",{className:"col-span-1",children:[" ",e.jsx("span",{children:"Manage User"})," ",e.jsxs("span",{className:"text-xl font-semibold",children:[" ",s.userName,"'s"]})," ",e.jsx("span",{className:"font-semibold",children:i})]}),e.jsx("div",{className:"col-span-1 justify-self-end",children:e.jsxs("button",{onClick:s.handleBackBtn,className:"bg-blue-600 hover:bg-blue-500 font-semibold text-white px-5 pl-2 py-1 shadow-lg rounded",children:[e.jsx("span",{className:"inline-block",children:e.jsx(ie,{})})," Back"]})})]})})}),e.jsxs(T,{sx:{width:"100%"},children:[e.jsx(T,{sx:{borderBottom:1,borderColor:"divider"},children:e.jsxs(X,{value:r,onChange:a,"aria-label":"basic tabs example",children:[e.jsx(F,{label:"Mange Role",...z(0)}),e.jsx(F,{label:"View Profile",...z(1)}),e.jsx(F,{label:"Ward Permission",...z(2)}),e.jsx(F,{label:"Menu Permission",...z(3)})]})}),e.jsx(B,{value:r,index:0,children:e.jsx(_e,{btnId:s.btnId,userName:s.userName})}),e.jsx(B,{value:r,index:1,children:e.jsx(Re,{btnId:s.btnId,userName:s.userName})}),e.jsx(B,{value:r,index:2,children:e.jsx($e,{btnId:s.btnId})}),e.jsx(B,{value:r,index:3,children:e.jsx(Pe,{btnId:s.btnId,userName:s.userName})})]})]})}const De={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"transparent",border:"none"}};function Ae(s){const[r,p]=o.useState(),{ulbListApi:i}=Y(),h=E({userName:R().required("This is a required field !"),email:R().required("This is a required field !"),userType:R().required("This is a required field !"),phone:R().required("This is a required field !").min(10,"Must be exactly 10 digit").max(10,"Must be exactly 10 digit"),password:R().required("This is a required field !").min(8,"Password must be 8 characters long").matches(/[0-9]/,"Password requires a number").matches(/[a-z]/,"Password requires a lowercase letter").matches(/[A-Z]/,"Password requires an uppercase letter").matches(/[^\w]/,"Password requires a symbol")}),a=H({initialValues:{userName:"",email:"",phone:"",userType:"",password:""},onSubmit:t=>{alert(JSON.stringify(t,null,2)),n(t)},validationSchema:h}),f=t=>a.values.userName=t.target.value,x=t=>a.values.email=t.target.value,b=t=>a.values.phone=t.target.value,y=t=>a.values.userType=t.target.value,c=t=>a.values.password=t.target.value,[u,d]=I.useState(!1),g=_(),n=t=>{console.log("Data to be saved",t);const w={name:t.userName,mobile:t.phone,email:t.email,userType:t.userType,password:t.password};v.post($+"/api/authorised-register",w,g).then(P=>(console.log("Menu saved successfully",P),j())).catch(P=>(console.log("Failed to save the menu",P),j()))};o.useEffect(()=>{s.openAddNewUserModel>0&&d(!0)},[s.openAddNewUserModel]);function l(){}function j(){d(!1),s.refetchListOfUsers()}return o.useEffect(()=>{v.get(i).then(function(t){p(t.data)}).catch(function(t){console.log("Error",t)})},[]),e.jsx("div",{className:"",children:e.jsx(D,{isOpen:u,onAfterOpen:l,onRequestClose:j,style:De,contentLabel:"Example Modal",children:e.jsxs("div",{className:"bg-sky-300 shadow-2xl border border-sky-200 p-5 m-5 rounded-md",children:[e.jsxs("div",{className:"flow-root",children:[e.jsxs("p",{className:"float-left text-center text-xl font-semibold",children:["Add New User"," "]}),e.jsxs("p",{onClick:j,className:"float-right cursor-pointer rounded-full bg-sky-200 hover:bg-gray-200 mx-3",children:[" ",e.jsx(A,{size:25})," "]})]}),e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsx("div",{className:"col-span-10"}),e.jsx("div",{className:"col-span-2"})]}),e.jsx("p",{className:"border-b py-1 mb-3"}),e.jsx("div",{children:e.jsxs("form",{onSubmit:a.handleSubmit,children:[e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["User Name",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"userName",onChange:f,className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("p",{className:"text-red-500 text-xs",children:a.touched.userName&&a.errors.userName?a.errors.userName:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["User Type",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{type:"text",name:"userType",onChange:y,className:"w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{children:"Select"}),e.jsx("option",{value:"Employee",children:"Employee"}),e.jsx("option",{value:"JSK",children:"JSK"}),e.jsx("option",{value:"Admin",children:"Admin"}),e.jsx("option",{value:"Pseudo",children:"Pseudo"})]}),e.jsx("p",{className:"text-red-500 text-xs",children:a.touched.userType&&a.errors.userType?a.errors.userType:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Enter Contact",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",name:"phone",onChange:b,className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("p",{className:"text-red-500 text-xs",children:a.touched.phone&&a.errors.phone?a.errors.phone:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Enter Email",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",name:"email",onChange:x,className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("p",{className:"text-red-500 text-xs",children:a.touched.email&&a.errors.email?a.errors.email:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Password",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"password",name:"password",onChange:c,className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("p",{className:"text-red-500 text-xs",children:a.touched.password&&a.errors.password?a.errors.password:null})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("button",{type:"submit",className:"border border-green-400 bg-green-600 hover:bg-green-500 text-white hover:text-black shadow-lg rounded-sm py-1 text-base font-semibold px-3 m-3",children:[" ","Submit"," "]})})]})})]})})})}function Le(s){const[r,p]=o.useState(0),i=_(),h=()=>{console.log("openAddNewPopup Called"),p(r+1)},a=[{Header:"Sl.",Cell:({row:d})=>e.jsx("div",{className:"px-1",children:d.index+1})},{Header:"User Name",accessor:"user_name"},{Header:"Mobile",accessor:"mobile"},{Header:"Email",accessor:"email"},{Header:"Assigned Roles",accessor:"role_name",Cell:d=>d.value?e.jsx("div",{className:"rounded-lg p-2 font-semibold",children:d.value}):e.jsx("div",{className:"rounded-lg p-2 text-red-400 font-semibold",children:"Roles Not Assigned"})},{Header:"Status",accessor:"suspended",Cell:d=>e.jsxs("p",{children:[d.value==!1&&e.jsx("p",{className:"text-green-400 font-semibold",children:"Active"}),d.value==!0&&e.jsx("p",{className:"text-red-400 font-semibold",children:"Banned"})]})},{Header:"Action",accessor:"id",Cell:({cell:d})=>e.jsx("div",{children:e.jsx("button",{onClick:()=>s.allActionBtn(d.row.values.id,d.row.values.user_name),className:"bg-sky-200 mx-1 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-sky-800 hover:text-white text-black",children:"Action"})})}],f=()=>{u()},{isLoading:x,data:b,isError:y,error:c,refetch:u}=O("get-allUSers-UserPermisonList-Query",()=>v.get($+"/api/get-all-users",i));return e.jsxs(e.Fragment,{children:[e.jsx(Ae,{openAddNewUserModel:r,refetchListOfUsers:f}),e.jsx("div",{className:"border mt-0 mx-1 pb-10 bg-white mb-20",children:e.jsx("div",{children:e.jsx("div",{children:!x&&e.jsx(q,{assessmentType:!1,columns:a,dataList:b==null?void 0:b.data.data,children:e.jsxs("button",{onClick:h,className:"float-right bg-indigo-500 px-3 py-1 rounded-sm shadow-lg hover:shadow-xl hover:bg-indigo-800 hover:text-white text-white flex items-center",children:[e.jsx(K,{})," Add new user"]})})})})})]})}function Ue(){const[s,r]=o.useState(!0),[p,i]=o.useState(!1),[h,a]=o.useState(!1),[f,x]=o.useState(),[b,y]=o.useState(),c=()=>{i(!0),r(!1),a(!1)},u=n=>{x(n),r(!1),i(!1),a(!1)},d=()=>{r(!0),i(!1),a(!1)},g=(n,l)=>{console.log("Received ID and Username ",n," ",l),x(n),y(l),r(!1),i(!1),a(!0)};return e.jsxs(e.Fragment,{children:[s&&e.jsx(Le,{viewBtn:u,addNewPermission:c,allActionBtn:g}),h&&e.jsx(Ie,{handleBackBtn:d,btnId:f,userName:b})]})}const Te={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"transparent",border:"none"}};function Ee(s){var g,n;const[r,p]=o.useState(),[i,h]=o.useState(0),[a,f]=I.useState(!1),x=_();o.useEffect(()=>{s.openPopUpState>0&&f(!0),d()},[s.openPopUpState]);function b(){}function y(){f(!1)}const c=(l,j)=>{console.log("isPermission - Menu Id : ",l,"Role Id : ",s.roleId,"Status : ",j);const t={roleId:s.roleId,menuId:l,status:j};v.post($+"/api/menu-roles/update-menu-by-role",t,x).then(w=>console.log("Role Permission Updated Successfully",w),d()).catch(w=>console.log("ERROR : Role Permission ",w),d())},u=[{Header:"Sl.",Cell:({row:l})=>e.jsx("div",{className:"px-1",children:l.index+1})},{Header:"Menu Name",accessor:"menu_string"},{Header:"Test",accessor:"menu_id"},{Header:"Permission",accessor:"permission_status",Cell:l=>e.jsx("div",{className:"",children:e.jsx(se,{checked:l.value,onChange:j=>c(l.cell.row.values.menu_id,j.target.checked),value:l.cell.row.values.menu_id,inputProps:{"aria-label":"controlled"}})})}],d=()=>{h(i+1)};return o.useEffect(()=>{(s==null?void 0:s.roleId)>0&&v.post($+"/api/menu-roles/get-menu-by-roles",{roleId:s==null?void 0:s.roleId},x).then(l=>(console.log("Fetched roles of Id",s==null?void 0:s.roleId,l),p(l))).catch(l=>console.log("Fetched roles of Id",s==null?void 0:s.roleId,l))},[i]),console.log("Menu role given to",s==null?void 0:s.roleId,r),e.jsx("div",{className:"",children:e.jsx(D,{isOpen:a,onAfterOpen:b,onRequestClose:y,style:Te,contentLabel:"Example Modal",children:e.jsxs("div",{className:"bg-white shadow-2xl border border-sky-200 p-5 m-5 rounded-md",children:[e.jsxs("p",{className:"flex flex-row-reverse",children:[" ",e.jsxs("span",{onClick:y,className:"cursor-pointer rounded-full hover:bg-gray-400",children:[" ",e.jsx(A,{size:25})," "]})," "]}),e.jsxs("p",{className:"text-center text-xl",children:["Menu Permission For :"," ",e.jsx("span",{className:"font-semibold",children:s.roleName})]}),e.jsx("p",{className:"border-b py-1 mb-3"}),e.jsx("div",{className:"text-center"}),e.jsx("div",{children:e.jsx("div",{children:(g=r==null?void 0:r.data)!=null&&g.data?e.jsx(q,{searchText:"Menu",columns:u,data:(n=r==null?void 0:r.data)==null?void 0:n.data}):"No Data Found"})})]})})})}function Oe(s){const[r,p]=o.useState(null),[i,h]=o.useState(),[a,f]=o.useState(),x=_(),b=(n,l)=>{console.log("Role Id and Name",n,l),h(n),f(l),p(r+1)},y=[{Header:"Sl.",Cell:({row:n})=>e.jsx("div",{className:"px-1",children:n.index+1})},{Header:"Role List",accessor:"role_name"},{Header:"Role Desc",accessor:"role_description"},{Header:"Created At",accessor:"created_at",Cell:({value:n})=>J(new Date(n),"dd/MM/yyyy")},{Header:"Action",accessor:"id",Cell:({cell:n})=>e.jsxs("button",{onClick:()=>b(n.row.values.id,n.row.values.role_name),className:"bg-sky-200 mx-1 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-sky-800 hover:text-white text-black",children:["Assign Menu To Roles"," "]})}],{isLoading:c,data:u,isError:d,error:g}=O("master-GetROles-UlbrOLESD--",()=>{try{return v.get($+"/api/crud/roles/get-all-roles",x)}catch(n){console.log("Error api not avalivale",n)}});return e.jsxs(e.Fragment,{children:[e.jsx(Ee,{roleId:i,roleName:a,openPopUpState:r}),e.jsx("div",{className:"border mt-0 mx-0 px-1 pt-1 pb-10 bg-white mb-20",children:e.jsx("div",{children:e.jsx("div",{children:!c||u?e.jsx(q,{exportStatus:!1,columns:y,dataList:u==null?void 0:u.data.data}):"No Data Found"})})})]})}function W(){let s=$;return{header:_(),api_ulbList:`${s}/api/get-all-ulb`,api_getSafHoldingDetails:`${s}/api/water/search-holding-saf`,api_getPendingApplicationDetails:`${s}/api/water/application/get-by-id`,api_waterApprovedApplicationDetails:`${s}/api/water/consumer/get-listed-details`,api_waterConsumerPaymentHistory:`${s}/api/water/consumer/get-payment-history`,api_getProfileDetails:`${s}/api/my-profile-details`,api_NewWaterConnection:`${s}/api/water/application/apply-new-connection`,api_WaterGetDetailsById:`${s}/api/water/admin/application/get-details-by-id`,api_WaterListDetailsById:`${s}/api/water/admin/application/list-details-by-date`,api_paymentReceipt:`${s}/api/water/admin/application/generate-payment-receipt`,api_waterListDemand:`${s}/api/water/consumer/list-demand`,api_waterSiteInspectionList:`${s}/api/water/admin/search-application`,api_waterMasterData:`${s}/api/water/master/get-listed-details`,api_waterSiteInspectionSaveData:`${s}/api/water/site-verification/save-site-details`,api_waterPayConnectionCharges:`${s}/api/water/application/payment/offline/pay-connection-charge`,api_waterApplicationPaymentHistory:`${s}/api/water/application/payment/get-payment-history`,api_waterInspectionSaveDate:`${s}/api/water/admin/application/save-inspection-date`,api_waterInspectionDetails:`${s}/api/water/admin/application/site-inspection-details`,api_waterCancelSiteInspection:`${s}/api/water/admin/application/cancel-inspection-scheduling`,api_waterGenerateDemand:`${s}/api/water/admin/consumer/generate-demand`,api_saveConnectionMeter:`${s}/api/water/admin/consumer/save-connection-meter`,api_consumerGetMeterList:`${s}/api/water/admin/consumer/get-meter-list`,api_waterInbox:`${s}/api/water/inbox`,api_waterOutbox:`${s}/api/water/outbox`,api_waterSpecialInbox:`${s}/api/water/special-inbox`,api_waterPendingApplicationById:`${s}/api/water/workflow/application/get-by-id`,api_waterPostMessage:`${s}/api/water/comment-independent`,api_waterPostNextLevel:`${s}/api/water/post-next-level`,api_waterEsclate:`${s}/api/water/escalate`,api_waterApproveRejectApplication:`${s}/api/water/application/approval-rejection`,api_waterVerifyDoc:`${s}/api/workflow/document/verify-reject`,api_waterDocList:`${s}/api/water/get-upload-documents`,api_waterListFieldVerifyInbox:`${s}/api/water/field-verified-inbox`,api_waterBtcListInbox:`${s}/api/water/btc-inbox`,api_backToCitizen:`${s}/api/water/back-to-citizen`,api_waterPostCustomData:`${s}/api/post-custom-data`,api_waterGetCustomDataTab:`${s}/api/get-all-custom-tab-data`,api_waterListDocToUpload:`${s}/api/water/workflow/get-doc-list`,api_waterSearchConsumer:`${s}/api/water/search-consumer`,api_waterSearchActiveApplication:`${s}/api/water/application/search`,api_waterUploadDocument:`${s}/api/water/upload-document`,api_menuMasterDelete:`${s}/api/crud/menu/delete-menues`,api_addNewMenu:`${s}/api/crud/menu/add-new-menues`,api_listParentSetial:`${s}/api/menu-roles/list-parent-serial`,api_getChildrenNode:`${s}/api/sub-menu/get-children-node`,api_getRolesByid:`${s}/api/workflow/role-user-maps/get-roles-by-id`,api_updateUserRoles:`${s}/api/workflows/role-user-maps/update-user-roles`,api_getMenuById:`${s}/api/menu/get-menu-by-id`,api_getAllMenu:`${s}/api/crud/menu/get-all-menues`,api_updateMenu:`${s}/api/crud/menu/update-menues`,api_listofEmployees:`${s}/api/list-employees`,api_listUnverifiedCashVerification:`${s}/api/payment/list-cash-verification`,api_listVerifiedCashVerification:`${s}/api/payment/verified-cash-verification`,api_tcCollection:`${s}/api/payment/tc-collections`,api_cashVerification:`${s}/api/payment/verify-cash`}}const Fe={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"transparent",border:"none"}},Be=E({menuName:R().required("This is a required field !")});function He(s){const{api_addNewMenu:r,api_listParentSetial:p,api_getChildrenNode:i}=W(),[h,a]=o.useState(),[f,x]=o.useState(),[b,y]=o.useState(),c=H({initialValues:{parentMenuName:"",childMenuName:"",menuName:"",menuRoute:"",serialNo:""},onSubmit:m=>{P(m),console.log("This is record",m)},validationSchema:Be}),u=m=>{c.values.parentMenuName=m.target.value,y(m.target.value)},d=m=>c.values.childMenuName=m.target.value,g=m=>c.values.menuName=m.target.value,n=m=>c.values.menuRoute=m.target.value,l=m=>c.values.serialNo=m.target.value,[j,t]=I.useState(!1),w=_(),P=m=>{console.log("Data to be saved",m),m.childMenuName?m.childMenuName:m.parentMenuName;const N={menuName:m.menuName,topLevel:"",subLevel:"",parentSerial:m.childMenuName?m.childMenuName:m.parentMenuName,serial:"",icon:"",route:m.menuRoute,description:"",serial:m.serialNo};console.log("final payload ==",N),v.post(r,N,w).then(k=>(console.log("Menu saved successfully",k),C())).catch(k=>(console.log("Failed to save the menu",k),C()))};o.useEffect(()=>{v.post(p,{},w).then(m=>{a(m.data.data)}).catch(m=>console.log("Error while getting ",m))},[]),o.useEffect(()=>{v.post(i,{id:b},w).then(m=>{x(m.data.data)}).catch(m=>console.log("Error while getting chiild menu ",m))},[b]),o.useEffect(()=>{s.openAddPopupScreen>0&&t(!0)},[s.openAddPopupScreen]);function M(){}function C(){t(!1),s.refetchMasterMenuList()}return e.jsx("div",{className:"",children:e.jsx(D,{isOpen:j,onAfterOpen:M,onRequestClose:C,style:Fe,contentLabel:"Example Modal",children:e.jsxs("div",{className:"bg-sky-200 shadow-2xl border border-sky-200 p-5 m-5 rounded-md",children:[e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsx("div",{className:"col-span-10",children:e.jsx("p",{className:"text-center text-xl",children:"Create New Menu"})}),e.jsx("div",{className:"col-span-2",children:e.jsxs("p",{onClick:C,className:"cursor-pointer rounded-full hover:bg-gray-200 mx-3",children:[" ",e.jsx(A,{size:25})," "]})})]}),e.jsx("p",{className:"border-b py-1 mb-3"}),e.jsx("div",{children:e.jsxs("form",{onSubmit:c.handleSubmit,children:[e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Menu Name",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"menuName",onChange:g,className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("p",{className:"text-red-500 text-xs",children:c.touched.menuName&&c.errors.menuName?c.errors.menuName:null})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:"Under Menu Name"}),e.jsxs("select",{name:"parentMenuName",onChange:u,className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{value:"",children:"Select"}),h==null?void 0:h.map(m=>e.jsx("option",{value:m.id,children:m.menu_string}))]}),e.jsxs("p",{className:"text-red-500 text-xs",children:[" ",c.touched.parentMenuName&&c.errors.parentMenuName?c.errors.parentMenuName:null]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:"Under Sub-Menu Name"}),e.jsxs("select",{name:"childMenuName",onChange:d,className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{value:"",children:"Select"}),f==null?void 0:f.map(m=>e.jsx("option",{value:m.id,children:m.menu_string}))]}),e.jsxs("p",{className:"text-red-500 text-xs",children:[" ",c.touched.childMenuName&&c.errors.childMenuName?c.errors.childMenuName:null]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:"Serial No."}),e.jsx("input",{type:"text",name:"serialNo",onChange:l,className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("p",{className:"text-red-500 text-xs",children:c.touched.serialNo&&c.errors.serialNo?c.errors.serialNo:null})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:"Menu Route"}),e.jsx("input",{type:"text",name:"menuRoute",onChange:n,className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("p",{className:"text-red-500 text-xs",children:c.touched.menuRoute&&c.errors.menuRoute?c.errors.menuRoute:null})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("button",{type:"submit",className:"border border-green-600 bg-green-600 hover:bg-green-500 text-white hover:text-black shadow-lg rounded-sm py-1 text-base font-semibold px-3 m-3",children:[" ","Create Menu"]})})]})})]})})})}const qe={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"transparent",border:"none"}};E({parentMenuName:R().required("This is a required field !"),menuName:R().required("This is a required field !"),menuRoute:R().required("This is a required field !")});function Ve(s){let r=s==null?void 0:s.dataToBeDeleted;const[p,i]=I.useState(!1),{api_menuMasterDelete:h,header:a}=W();o.useEffect(()=>{s.openDeletePopUp>0&&i(!0)},[s.openDeletePopUp]);function f(){}function x(){i(!1),s.refetchMasterMenuList()}const b=y=>{v.post(h,{id:y.id},a).then(c=>{console.log("Menu Delted",c),s.refetchMasterMenuList(),x()}).catch(c=>console.log("Error while Data Deleting",c))};return e.jsx("div",{className:"",children:e.jsx(D,{isOpen:p,onAfterOpen:f,onRequestClose:x,style:qe,contentLabel:"Example Modal",children:e.jsxs("div",{className:"bg-sky-200 shadow-2xl border border-sky-200 p-5 m-5 rounded-md",children:[e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsx("div",{className:"col-span-10",children:e.jsx("p",{className:"text-center text-xl",children:"Do You Want to delete menu ?"})}),e.jsx("div",{className:"col-span-2",children:e.jsxs("p",{onClick:x,className:"cursor-pointer rounded-full hover:bg-gray-200 mx-3",children:[" ",e.jsx(A,{size:25})," "]})})]}),e.jsxs("div",{children:[e.jsxs("p",{children:["Menu Name = ",r==null?void 0:r.menu_string]}),e.jsxs("p",{children:["Parent Name = ",r==null?void 0:r.parentName]}),e.jsxs("p",{children:["Route = ",r==null?void 0:r.route]})]}),e.jsx("p",{className:"border-b py-1 mb-3"}),e.jsxs("div",{className:"flex justify-center",children:[e.jsx("button",{onClick:()=>b(r),className:"rounded text-white bg-red-600 hover:bg-red-500 shadow py-2 text-base px-3 m-3",children:"Yes, Delete"}),e.jsx("button",{onClick:x,className:"rounded bg-green-500 hover:bg-green-400 shadow py-2 text-base px-3 m-3",children:"Cancel"})]})]})})})}const ze={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"transparent",border:"none"}},We=E({menuName:R().required("This is a required field !")});function Ge(s){const{api_updateMenu:r,api_listParentSetial:p,api_getChildrenNode:i,api_getMenuById:h}=W(),[a,f]=o.useState(),[x,b]=o.useState(),[y,c]=o.useState(),[u,d]=o.useState(),[g,n]=o.useState(!1),l=s.dataTobeEdited,j=_();o.useEffect(()=>{n(!0),v.post(h,{menuId:l==null?void 0:l.id},j).then(N=>{n(!1),console.log("Data to be in edit form",N),d(N.data.data)}).catch(N=>{n(!1),console.log("Exception while getling data for edit",N)})},[l]);const t=H({enableReinitialize:!0,initialValues:{parentMenuName:u==null?void 0:u.parent_serial,childMenuName:"",menuName:u==null?void 0:u.menu_string,menuRoute:u==null?void 0:u.route,serialNo:u==null?void 0:u.serialNo},onSubmit:N=>{M(N)},validationSchema:We}),[w,P]=I.useState(!1),M=N=>{console.log("Data to update",N);const k={id:l==null?void 0:l.id,menuName:N.menuName,route:N.menuRoute,parentSerial:N.childMenuName?N.childMenuName:N.parentMenuName,serial:N.serialNo};console.log("final payload ==",k),v.post(r,k,j).then(S=>(console.log("Menu saved successfully",S),m())).catch(S=>(console.log("Failed to save the menu",S),m()))};o.useEffect(()=>{v.post(p,{},j).then(N=>{f(N.data.data)}).catch(N=>console.log("Error while getting ",N))},[]),o.useEffect(()=>{v.post(i,{id:y},j).then(N=>{b(N.data.data)}).catch(N=>console.log("Error while getting chiild menu ",N))},[y]),o.useEffect(()=>{s.openEditPopUp>0&&P(!0)},[s.openEditPopUp]);function C(){}function m(){P(!1),s.refetchMasterMenuList()}return e.jsx("div",{className:"",children:e.jsx(D,{isOpen:w,onAfterOpen:C,onRequestClose:m,style:ze,contentLabel:"Example Modal",children:e.jsxs("div",{className:"bg-sky-200 shadow-2xl border border-sky-200 p-5 m-5 rounded-md",children:[e.jsxs("div",{children:[e.jsx("div",{className:"float-right",children:e.jsx("p",{onClick:m,className:"cursor-pointer rounded-full hover:bg-gray-200",children:e.jsx(A,{size:25})})}),e.jsxs("p",{className:"text-center text-lg font-semibold",children:["Edit Menu - ",e.jsx("span",{children:l==null?void 0:l.menu_string})]})]}),e.jsx("p",{className:"border-b py-1 mb-3"}),g?e.jsx("div",{className:"flex justify-center",children:e.jsx(le,{height:"80",width:"80",radius:"9",color:"#1263e6",ariaLabel:"three-dots-loading",wrapperStyle:{},wrapperClassName:"",visible:!0})}):e.jsx("div",{children:e.jsxs("form",{onSubmit:t.handleSubmit,children:[e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Menu Name",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{value:t.values.menuName,type:"text",name:"menuName",onChange:t.handleChange,className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("p",{className:"text-red-500 text-xs",children:t.touched.menuName&&t.errors.menuName?t.errors.menuName:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Under Menu Name",e.jsx("span",{className:"text-red-500",children:"*"})]}),u&&e.jsxs("select",{defaultValue:u==null?void 0:u.parent_serial,name:"parentMenuName",onChange:t.handleChange,className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"0",children:"None"}),a==null?void 0:a.map(N=>e.jsx("option",{value:N.id,children:N.menu_string}))]}),e.jsxs("p",{className:"text-red-500 text-xs",children:[" ",t.touched.parentMenuName&&t.errors.parentMenuName?t.errors.parentMenuName:null]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Under Sub-Menu Name",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"childMenuName",onChange:t.handleChange,className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{value:"",children:"Select"}),x==null?void 0:x.map(N=>e.jsx("option",{value:N.id,children:N.menu_string}))]}),e.jsxs("p",{className:"text-red-500 text-xs",children:[" ",t.touched.childMenuName&&t.errors.childMenuName?t.errors.childMenuName:null]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Serial No.",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{value:t.values.serialNo,type:"text",name:"serialNo",onChange:t.handleChange,className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("p",{className:"text-red-500 text-xs",children:t.touched.serialNo&&t.errors.serialNo?t.errors.serialNo:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Menu Route",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{value:t.values.menuRoute,type:"text",name:"menuRoute",onChange:t.handleChange,className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("p",{className:"text-red-500 text-xs",children:t.touched.menuRoute&&t.errors.menuRoute?t.errors.menuRoute:null})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{type:"submit",className:"border border-indigo-900 hover:border-red-400 bg-indigo-600 hover:bg-indigo-800 text-white shadow-lg rounded-sm py-1 text-base font-normal px-3 m-3",children:"Update Menu"})})]})})]})})})}function Je(s){var C,m,N;const[r,p]=o.useState(0),[i,h]=o.useState(0),[a,f]=o.useState(0),[x,b]=o.useState(),[y,c]=o.useState(),{api_getAllMenu:u}=W(),d=_(),g=k=>{h(S=>S+1),b(k)},n=k=>{f(S=>S+1),c(k)},l=[{Header:"Sl.",Cell:({row:k})=>e.jsx("div",{className:"px-1",children:k.index+1})},{Header:"Parent Name",accessor:"parentName"},{Header:"Menu List",accessor:"menu_string"},{Header:"Route List",accessor:"route"},{Header:"Created At",accessor:"created_at",Cell:({value:k})=>J(new Date(k),"dd/MM/yyyy")},{Header:"Action",accessor:"id",Cell:({cell:k})=>e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>n(k.row.values),className:"bg-sky-200 mx-1 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-sky-800 hover:text-white text-black",children:"Edit"}),e.jsx("button",{onClick:()=>g(k.row.values),className:"bg-red-300 mx-1 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-red-800 hover:text-white text-black",children:"Delete"})]})}],j=()=>{M()},{data:t,isError:w,error:P,refetch:M}=O("api/crud/menu/get-all-menues--",()=>{try{return v.post(u,{},d)}catch(k){console.log("Error api not avalivale",k)}});return w&&console.log("Error useQuery ",w),e.jsxs(e.Fragment,{children:[e.jsx(He,{openAddPopupScreen:r,refetchMasterMenuList:j}),e.jsx(Ge,{openEditPopUp:a,refetchMasterMenuList:j,dataTobeEdited:y}),e.jsx(Ve,{openDeletePopUp:i,refetchMasterMenuList:j,dataToBeDeleted:x}),e.jsx("div",{className:"border mt-0 mx-0 px-1 pt-1 pb-10 bg-white mb-20",children:e.jsx("div",{children:e.jsx("div",{children:Array.isArray((C=t==null?void 0:t.data)==null?void 0:C.data)&&((N=(m=t==null?void 0:t.data)==null?void 0:m.data)==null?void 0:N.length)>0?e.jsx(q,{assessmentType:!1,columns:l,dataList:t==null?void 0:t.data.data}):e.jsx(e.Fragment,{children:" No Data Found !!! "})})})})]})}function Qe(){const[s,r]=o.useState(0),p=[{title:"Role Master",tabIndex:0},{title:"User Management",tabIndex:1},{title:"Role Based Menu",tabIndex:2},{title:"Menu Master",tabIndex:3}],i=h=>{r(h)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid grid-cols-12 rounded-lg mt-4 shadow-xl broder-2 border-sky-200 bg-gray-200",children:[e.jsx("div",{className:"col-span-12 md:col-span-12 ",children:e.jsx(ne,{tabs:p,fun:i})}),s==0&&e.jsxs("div",{className:"col-span-12 sm:col-span-12 shadow-lg bg-white overflow-y-scroll",style:{height:"90vh"},children:[" ",e.jsx(ve,{})," "]}),s==1&&e.jsxs("div",{className:"col-span-12 sm:col-span-12 shadow-lg bg-white overflow-y-scroll",style:{height:"90vh"},children:[" ",e.jsx(Ue,{})," "]}),s==2&&e.jsxs("div",{className:"col-span-12 sm:col-span-12 shadow-lg bg-white overflow-y-scroll",style:{height:"90vh"},children:[" ",e.jsx(Oe,{})," "]}),s==3&&e.jsxs("div",{className:"col-span-12 sm:col-span-12 shadow-lg bg-white overflow-y-scroll",style:{height:"90vh"},children:[" ",e.jsx(Je,{})," "]})]})})}function ds(){return oe("User Role Management Workfow"),e.jsx(Qe,{})}export{ds as default};
