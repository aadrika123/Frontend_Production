import{b as C,r as t,f as _,a as x,l as h,j as a,an as s}from"./index-e310632f.js";import{e as R}from"./index.esm-fc67241b.js";import F from"./ListTableConnect-aa8f7b0e.js";import"./ListTable2v2-30011d38.js";import"./GlobalFilter-52b54a05.js";import"./index.esm-b96bed4d.js";import"./BarLoader-48585afe.js";const P=()=>{const{get_MasterData:b,searchHoldingWiseRebate:g,yearList:j}=s();C("Holding Wise Rebate Report");const[d,N]=t.useState();t.useState();const[u,w]=t.useState(),[c,k]=t.useState(!1),[m,y]=t.useState(null),[S,H]=t.useState(0),f="form-control block w-full px-2 py-1 font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none shadow-md",n=_({initialValues:{wardId:"",fiYear:""},onSubmit:e=>{console.log("submitting report search values => ",e),y({wardId:n.values.wardId,fiYear:n.values.fiYear}),H(l=>l+1)}});t.useEffect(()=>{x.get(b,h()).then(e=>{var l,i,v;((l=e==null?void 0:e.data)==null?void 0:l.status)==!0?(console.log("getting master list data => ",e),N((v=(i=e==null?void 0:e.data)==null?void 0:i.data)==null?void 0:v.ward_master)):console.log("error getting master list",e)}).catch(e=>console.log("error getting master list",e)),x.post(j,{},h()).then(e=>{var l,i;((l=e==null?void 0:e.data)==null?void 0:l.status)==!0?(console.log("year list data => ",e),w((i=e==null?void 0:e.data)==null?void 0:i.data)):console.log("error year list",e)}).catch(e=>console.log("error year list",e))},[]);const A=[{Header:"S.No.",Cell:({row:e})=>a.jsx("div",{children:(e==null?void 0:e.index)+1})},{Header:"Ward No",accessor:"ward_no",Cell:e=>{if((e==null?void 0:e.value)==null||(e==null?void 0:e.value)==""||(e==null?void 0:e.value)==null)return a.jsx("i",{className:"font-semibold ",children:"N/A"});if((e==null?void 0:e.value)!=null)return e==null?void 0:e.value}},{Header:"Holding No",accessor:"holding_no",Cell:e=>{if((e==null?void 0:e.value)==null||(e==null?void 0:e.value)==""||(e==null?void 0:e.value)==null)return a.jsx("i",{className:"font-semibold ",children:"N/A"});if((e==null?void 0:e.value)!=null)return e==null?void 0:e.value}},{Header:"Payable Amount",accessor:"total_demand",Cell:e=>{if((e==null?void 0:e.value)==null||(e==null?void 0:e.value)==""||(e==null?void 0:e.value)==null)return a.jsx("i",{className:"font-semibold ",children:"N/A"});if((e==null?void 0:e.value)!=null)return e==null?void 0:e.value}},{Header:"Amount Paid",accessor:"paid_amt",Cell:e=>{if((e==null?void 0:e.value)==null||(e==null?void 0:e.value)==""||(e==null?void 0:e.value)==null)return a.jsx("i",{className:"font-semibold ",children:"N/A"});if((e==null?void 0:e.value)!=null)return e==null?void 0:e.value}},{Header:"First Quarter Rebate",accessor:"first_qtr_rebate",Cell:e=>{if((e==null?void 0:e.value)==null||(e==null?void 0:e.value)==""||(e==null?void 0:e.value)==null)return a.jsx("i",{className:"font-semibold ",children:"N/A"});if((e==null?void 0:e.value)!=null)return e==null?void 0:e.value}},{Header:"JSK (2.5%)",accessor:"jsk_rebate",Cell:e=>{if((e==null?void 0:e.value)==null||(e==null?void 0:e.value)==""||(e==null?void 0:e.value)==null)return a.jsx("i",{className:"font-semibold ",children:"N/A"});if((e==null?void 0:e.value)!=null)return e==null?void 0:e.value}},{Header:"Online (5%)",accessor:"online_rebate",Cell:e=>{if((e==null?void 0:e.value)==null||(e==null?void 0:e.value)==""||(e==null?void 0:e.value)==null)return a.jsx("i",{className:"font-semibold ",children:"N/A"});if((e==null?void 0:e.value)!=null)return e==null?void 0:e.value}},{Header:"Total Rebate",accessor:"total_rebate",Cell:e=>{if((e==null?void 0:e.value)==null||(e==null?void 0:e.value)==""||(e==null?void 0:e.value)==null)return a.jsx("i",{className:"font-semibold ",children:"N/A"});if((e==null?void 0:e.value)!=null)return e==null?void 0:e.value}}];return a.jsxs(a.Fragment,{children:[a.jsxs("form",{onChange:n.handleChange,onSubmit:n.handleSubmit,className:"mb-4 bg-white shadow-lg rounded-md",children:[a.jsx("h1",{className:"text-xl w-full font-bold px-8 pt-4 text-gray-700",children:"Search Report"}),a.jsxs("div",{className:"flex flex-wrap flex-row justify-start w-full gap-x-6 gap-y-2 text-sm 3xl:text-base p-4 px-8",children:[a.jsxs("div",{className:"flex flex-col w-full md:w-[20%]",children:[a.jsx("div",{className:"col-span-6 font-semibold",children:"Ward No. :"}),a.jsx("div",{className:"col-span-6",children:a.jsxs("select",{name:"wardId",id:"",className:f,disabled:c,children:[a.jsx("option",{value:"",children:"All"}),d==null?void 0:d.map(e=>a.jsx(a.Fragment,{children:a.jsx("option",{value:e==null?void 0:e.id,children:e==null?void 0:e.ward_name})}))]})})]}),a.jsxs("div",{className:"flex flex-col w-full md:w-[20%]",children:[a.jsx("div",{className:"col-span-6 font-semibold",children:"Financial Year :"}),a.jsx("div",{className:"col-span-6",children:a.jsx("select",{name:"fiYear",id:"",className:f,disabled:c,children:u==null?void 0:u.map(e=>a.jsx(a.Fragment,{children:a.jsx("option",{value:e,children:e})}))})})]}),a.jsx("div",{className:"w-full md:w-[20%] flex justify-start items-end",children:a.jsxs("button",{type:"submit",className:"flex flex-row items-center border border-green-600 bg-green-600 hover:bg-green-500 text-white hover:text-black shadow-lg rounded-sm text-sm font-semibold px-5 py-1 w-max",children:[" ",a.jsx("span",{className:"mr-2",children:a.jsx(R,{})}),"Search"]})})]})]}),m!=null&&a.jsx(F,{type:"old",api:g,columns:A,requestBody:m,changeData:S}),a.jsx("div",{className:"h-[20vh]"})]})};export{P as default};
