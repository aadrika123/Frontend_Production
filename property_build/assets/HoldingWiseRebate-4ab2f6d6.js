import{b as F,r as l,f as T,a6 as h,a as f,l as j,j as a,i as k,ao as M,n as v,aL as s}from"./index-8450df66.js";import{e as A}from"./index.esm-30e6c9c9.js";import I from"./ListTableConnect-51a436db.js";import"./ListTable2v2-62f89a06.js";import"./GlobalFilter-576dd6ba.js";import"./index.esm-cc046903.js";import"./BarLoader-4f4943ce.js";const Q=()=>{const{get_MasterData:y,searchHoldingWiseRebate:g,yearList:b}=M();F("Rebate and Interest");const[o,N]=l.useState();l.useState();const[R,p]=l.useState(),[w,L]=l.useState(!1),[i,D]=l.useState(null),[c,C]=l.useState(null),[S,_]=l.useState(0),r="form-control block w-full px-2 py-1 font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none shadow-md",t=T({initialValues:{fromDate:h(new Date).format("yy-MM-DD"),uptoDate:h(new Date).format("yy-MM-DD"),reportType:["property"],wardId:"",userId:"",paymentMode:""},onSubmit:e=>{console.log("submitting report search values => ",e),C({reportType:t.values.collType,fromDate:t.values.fromDate,uptoDate:t.values.uptoDate,wardId:t.values.wardId,userId:t.values.userId,paymentMode:t.values.paymentMode}),_(n=>n+1)}});l.useEffect(()=>{f.get(y,j()).then(e=>{var n,d,m,u,x;((n=e==null?void 0:e.data)==null?void 0:n.status)==!0?(console.log("getting master list => ",e),D((m=(d=e==null?void 0:e.data)==null?void 0:d.data)==null?void 0:m.property_type),N((x=(u=e==null?void 0:e.data)==null?void 0:u.data)==null?void 0:x.ward_master)):console.log("error getting master list",e)}).catch(e=>console.log("error getting master list",e)),f.post(b,{},j()).then(e=>{var n,d;((n=e==null?void 0:e.data)==null?void 0:n.status)==!0?(console.log("year list data => ",e),p((d=e==null?void 0:e.data)==null?void 0:d.data)):console.log("error year list",e)}).catch(e=>console.log("error year list",e))},[]);const H=[{Header:"S.No.",Cell:({row:e})=>a.jsx("div",{children:(e==null?void 0:e.index)+1})},{Header:"Ward No",accessor:"ward_no",Cell:e=>v(e==null?void 0:e.value)},{Header:"Holding No",accessor:"holding_no",Cell:e=>v(e==null?void 0:e.value)},{Header:"Demand",accessor:"demand_amt",Cell:e=>s(e==null?void 0:e.value)},{Header:"Amount Paid",accessor:"paid_amount",Cell:e=>s(e==null?void 0:e.value)},{Header:"First Quarter Rebate (5%)",accessor:"first_qtr_rebate",Cell:e=>s(e==null?void 0:e.value)},{Header:"JSK (2.5%)",accessor:"jsk_rebate_amt",Cell:e=>s(e==null?void 0:e.value)},{Header:"Special Rebate (5%)",accessor:"special_rebate_amt",Cell:e=>s(e==null?void 0:e.value)},{Header:"Online (5%)",accessor:"online_rebate_amt",Cell:e=>s(e==null?void 0:e.value)},{Header:"Total Rebate",accessor:"total_rebate",Cell:e=>s(e==null?void 0:e.value)},{Header:"1% Monthly Intrest",accessor:"penalty_amt",Cell:e=>s(e==null?void 0:e.value)}];return a.jsxs(a.Fragment,{children:[a.jsxs("form",{onChange:t.handleChange,onSubmit:t.handleSubmit,className:"mb-4 bg-white shadow-lg rounded-md ",children:[a.jsx("h1",{className:"text-xl w-full font-bold px-8 pt-4 text-gray-700",children:"Search Collection Report"}),a.jsxs("div",{className:"flex flex-wrap flex-row justify-start w-full gap-x-6 gap-y-2 text-sm 3xl:text-base p-4 px-8",children:[a.jsxs("div",{className:"flex flex-col w-full md:w-[20%]",children:[a.jsx("div",{className:"col-span-6 font-semibold",children:"Report Type :"}),a.jsxs("div",{className:"col-span-6 flex items-center justify-between bg-green-100 shadow-md px-2 py-1.5 rounded-md border border-green-300 shadow-green-100",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("label",{htmlFor:"1",children:"Property"}),a.jsx("input",{className:"mt-1",type:"checkbox",name:"reportType",id:"1",value:"property",defaultChecked:!0})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("label",{htmlFor:"2",children:"SAF"}),a.jsx("input",{className:"mt-1",type:"checkbox",name:"reportType",id:"2",value:"saf"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("label",{htmlFor:"3",children:"Gov. SAF"}),a.jsx("input",{className:"mt-1",type:"checkbox",name:"reportType",id:"3",value:"gbsaf"})]})]}),a.jsx("div",{className:"col-span-12 text-start",children:t.touched.reportType&&t.errors.reportType&&a.jsx(a.Fragment,{children:a.jsx("span",{className:"text-red-600 text-xs",children:t.errors.reportType})})})]}),a.jsxs("div",{className:"flex flex-col w-full md:w-[20%]",children:[a.jsx("div",{className:"col-span-6 font-semibold",children:"From Date :"}),a.jsx("div",{className:"col-span-6",children:a.jsx("input",{type:"date",name:"fromDate",id:"",className:r,value:t.values.fromDate})}),a.jsx("div",{className:"col-span-12 text-end",children:t.touched.fromDate&&t.errors.fromDate&&a.jsx(a.Fragment,{children:a.jsx("span",{className:"text-red-600 text-xs",children:t.errors.fromDate})})})]}),a.jsxs("div",{className:"flex flex-col w-full md:w-[20%]",children:[a.jsx("div",{className:"col-span-6 font-semibold",children:"Upto Date :"}),a.jsx("div",{className:"col-span-6",children:a.jsx("input",{type:"date",name:"uptoDate",id:"",className:r,value:t.values.uptoDate})}),a.jsx("div",{className:"col-span-12 text-end",children:t.touched.uptoDate&&t.errors.uptoDate&&a.jsx(a.Fragment,{children:a.jsx("span",{className:"text-red-600 text-xs",children:t.errors.uptoDate})})})]}),a.jsxs("div",{className:"flex flex-col w-full md:w-[20%]",children:[a.jsx("div",{className:"col-span-6 font-semibold",children:"Ward No. :"}),a.jsx("div",{className:"col-span-6",children:a.jsxs("select",{name:"wardId",id:"",className:r,children:[a.jsx("option",{value:"",children:"All"}),o==null?void 0:o.map(e=>a.jsx(a.Fragment,{children:a.jsx("option",{value:e==null?void 0:e.id,children:e==null?void 0:e.ward_name})}))]})})]}),a.jsxs("div",{className:"flex flex-col w-full md:w-[20%]",children:[a.jsx("div",{className:"col-span-6 font-semibold",children:"Payment Mode :"}),a.jsx("div",{className:"col-span-6",children:a.jsxs("select",{name:"paymentMode",id:"",className:r,children:[a.jsx("option",{value:"",children:"All"}),a.jsx("option",{value:"CASH",children:"Cash"}),a.jsx("option",{value:"CHEQUE",children:"Cheque"}),a.jsx("option",{value:"DD",children:"DD"}),a.jsx("option",{value:"ONLINE",children:"Online"})]})})]}),a.jsxs("div",{className:"flex flex-col w-full md:w-[20%]",children:[a.jsx("div",{className:"col-span-6 font-semibold",children:"Property Type :"}),a.jsx("div",{className:"col-span-6",children:a.jsxs("select",{name:"propertyType",id:"",className:r,children:[a.jsx("option",{value:"",children:"All"}),i==null?void 0:i.map(e=>a.jsx(a.Fragment,{children:a.jsx("option",{value:e==null?void 0:e.id,children:e==null?void 0:e.property_type})}))]})})]}),a.jsx("div",{className:"w-full md:w-[20%] flex justify-start items-end",children:w?a.jsx(a.Fragment,{children:a.jsx("div",{className:"flex justify-start items-end",children:a.jsx(k,{strokeColor:"grey",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0})})}):a.jsxs("button",{type:"submit",className:"flex flex-row items-center border border-green-600 bg-green-600 hover:bg-green-500 text-white hover:text-black shadow-lg rounded-sm text-sm font-semibold px-5 py-1 w-max",children:[" ",a.jsx("span",{className:"mr-2",children:a.jsx(A,{})}),"Search"]})})]})]}),c!=null&&a.jsx(I,{type:"old",api:g,columns:H,requestBody:c,changeData:S}),a.jsx("div",{className:"h-[20vh]"})]})};export{Q as default};
