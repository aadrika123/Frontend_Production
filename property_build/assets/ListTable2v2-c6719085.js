import{r as n,O as s,j as t,V as D,W as G,X as O}from"./index-8b62b130.js";import{G as R}from"./GlobalFilter-58e7923f.js";import{i as A}from"./index.esm-b4477337.js";function $(e){console.log("enter in normal table");const[v,g]=n.useState("hidden"),N=n.useMemo(()=>e.columns,[]),y=n.useMemo(()=>e.dataList,[e.dataList,e==null?void 0:e.totalCount]),[d,o]=n.useState(1),[B,i]=n.useState(!0),[M,c]=n.useState(!0),[u,w]=n.useState(0),[r,h]=n.useState(0);n.useEffect(()=>{o(1),h(0)},[e==null?void 0:e.totalCount]),n.useEffect(()=>{i(!0),c(!0);let a=(e==null?void 0:e.totalCount)/(e==null?void 0:e.perPage);(e==null?void 0:e.totalCount)%(e==null?void 0:e.perPage)!=0?m(parseInt(a)+1):m(parseInt(a)),f==d&&i(!1),(f==d||d==1)&&c(!1)},[e==null?void 0:e.totalCount,u]);const{getTableProps:H,getTableBodyProps:b,headerGroups:x,page:V,nextPage:W,previousPage:X,canNextPage:q,canPreviousPage:z,prepareRow:C,pageOptions:J,gotoPage:K,pageCount:Q,setPageSize:m,state:k,rows:F,setGlobalFilter:S}=s.useTable({columns:N,data:y,initialState:{pageIndex:0}},s.useGlobalFilter,s.useSortBy,s.usePagination),{globalFilter:E,pageIndex:U,pageSize:f}=k,I=()=>{if(parseInt(r)>0)e==null||e.gotoPage(parseInt(r));else return!1},T=()=>{(e==null?void 0:e.lastPage)!=(e==null?void 0:e.currentPage)&&(c(!0),e.nextPage()),(e==null?void 0:e.lastPage)==(e==null?void 0:e.currentPage)&&i(!1)},L=()=>{(e==null?void 0:e.currentPage)!=1&&(i(!0),e.prevPage()),(e==null?void 0:e.currentPage)==1&&c(!1)};return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex mb-2 pb-2",children:[t.jsx("div",{className:"flex-initial opacity-50",children:t.jsx(R,{filter:E,setFilter:S})}),t.jsx("div",{className:"flex-initial ml-2",children:t.jsxs("button",{className:"bg-sky-400 px-3 pr-3  shadow-lg rounded py-1 text-white hover:shadow-2xl hover:bg-green-600 text-center relative",onMouseEnter:()=>g(""),onMouseLeave:()=>g("hidden"),onClick:e.exportDataF,children:["Export",t.jsx("div",{className:v+" absolute h-full top-3 text-sm left-0 text-center animate-bounce",children:t.jsx(D,{})})]})}),t.jsx("div",{className:"flex-1",children:e.children})]}),t.jsx("div",{className:"flex w-full",children:t.jsxs("div",{className:"flex-1",children:[t.jsx("span",{className:"opacity-50",children:"Total Result : "}),t.jsx("span",{className:"font-semibold",children:e==null?void 0:e.totalCount})," "]})}),(e==null?void 0:e.feedback)!=null&&t.jsx("div",{children:t.jsxs("span",{className:"text-xs bg-gray-200 opacity-50 pr-2 pl-1 py-1 rounded-sm",children:[t.jsx(A,{className:"inline text-xs text-gray-400 mr-2"}),e.feedback]})}),t.jsx("div",{className:" py-2 overflow-x-auto bg-white",children:t.jsxs("div",{className:"inline-block min-w-full rounded-lg overflow-hidden bg-white",children:[t.jsxs("table",{...b,className:"min-w-full leading-normal",children:[t.jsx("thead",{className:"font-bold text-left text-sm bg-sky-50",children:x==null?void 0:x.map(a=>t.jsx("tr",{...a.getHeaderGroupProps(),children:a.headers.map(l=>t.jsxs("th",{...l.getHeaderProps(l.getSortByToggleProps()),className:(l==null?void 0:l.className)+" px-2 py-3 border-b border-gray-200 text-gray-800  text-left text-xs uppercase ",children:[l.render("Header"),t.jsx("span",{children:l.isSorted?l.isSortedDesc?"⬆️":"⬇️":""})]}))}))}),t.jsxs("tbody",{...b(),className:"text-sm",children:[F.map((a,l)=>{var j;return C(a),t.jsx("tr",{...a.getRowProps(),className:"bg-white shadow-lg border-b border-gray-200",children:(j=a==null?void 0:a.cells)==null?void 0:j.map(P=>t.jsx("td",{...P.getCellProps(),className:"px-2 py-2 text-sm text-left",children:P.render("Cell")}))})}),t.jsx("tr",{children:t.jsx("td",{})})]})]}),t.jsxs("div",{className:"mt-3 grid grid-cols-12 items-center",children:[t.jsxs("div",{className:"sm:col-span-2 col-span-3 flex w-full ml-1 pr-10",children:[t.jsx("span",{children:t.jsx("input",{className:"h-10 w-[90%] placeholder:text-gray-600 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1 ",type:"number",onChange:a=>{h(a.target.value)},placeholder:"Go to page..."})}),t.jsxs("abbr",{className:"cursor-pointer flex items-center w-[15%] no-underline",title:"Go",onClick:()=>I(),children:[" ",t.jsx("span",{className:"font-bold bg-green-300 text-xl px-2 pb-1 rounded-full hover:text-white hover:bg-green-500",children:"⇨"})," "]})]}),t.jsxs("div",{className:"col-span-2",children:["  ",t.jsx("select",{className:"h-10 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 ",value:u,onChange:a=>{w(Number(a.target.value)),e.perPageC(Number(a.target.value))},children:[5,10,25,50].map(a=>t.jsxs("option",{value:a,children:["show ",a]},a))})]}),t.jsxs("div",{className:"col-span-3 sm:col-span-4 text-center sm:col-start-5 col-start-7",children:["   ",t.jsxs("span",{children:["page ","",t.jsxs("strong",{children:[e==null?void 0:e.currentPage," of ",e==null?void 0:e.lastPage]}),""]})]}),t.jsxs("div",{className:"col-span-3 sm:col-span-4 text-right",children:[t.jsxs("button",{className:"cursor-pointer hover:bg-sky-300 p-2 hover:text-white",onClick:()=>(e==null||e.goFirst(),c(!1),i(!0)),disabled:(e==null?void 0:e.currentPage)==1&&!0,children:[t.jsx(G,{})," "]}),t.jsx("button",{className:((e==null?void 0:e.currentPage)==1?"opacity-50":"opacity-100")+" text-xl hover:bg-sky-300 hover:text-white",onClick:()=>L(),disabled:(e==null?void 0:e.currentPage)==1&&!0,children:"⬅️"}),t.jsx("button",{className:((e==null?void 0:e.currentPage)==(e==null?void 0:e.lastPage)?"opacity-50":"opacity-100")+" text-xl hover:bg-sky-300 hover:text-white",onClick:()=>T(),disabled:(e==null?void 0:e.currentPage)==(e==null?void 0:e.lastPage)&&!0,children:"➡️"}),t.jsxs("button",{className:"cursor-pointer hover:bg-sky-300 p-2 hover:text-white",onClick:()=>(e==null||e.goLast(),i(!1),c(!0)),disabled:(e==null?void 0:e.currentPage)==(e==null?void 0:e.lastPage)&&!0,children:["  ",t.jsx(O,{})]})]})]})]})})]})}export{$ as L};
