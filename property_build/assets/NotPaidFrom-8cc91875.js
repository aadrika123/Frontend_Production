import{r as t,ad as I,u as T,b as q,f as B,a as U,l as Y,j as a,an as E}from"./index-74676008.js";import{e as R}from"./index.esm-5f7aca40.js";import W from"./ListTableConnect-c9d4660f.js";import"./ListTable2v2-8bf981a8.js";import"./GlobalFilter-c0c5f828.js";import"./index.esm-8d2b139f.js";import"./BarLoader-804db2b6.js";const X=()=>{const{get_MasterData:C,searchPreviousYearPaidButNotPaidCurrentYear:y,searchNotPaidFrom20162017:A}=E(),[g,H]=t.useState();t.useState(),t.useState(!1);const[w,S]=t.useState(null),[P,F]=t.useState(0),{year:b}=I(),_=T();q(b=="current"?"Previous Year Paid But Not paid Current Year":"Not paid From 2016-2017");const M="form-control block w-full px-2 py-1 font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none shadow-md",j=B({initialValues:{wardId:""},onSubmit:e=>{S({wardMstrId:j.values.wardId}),F(n=>n+1)}});t.useEffect(()=>{k()},[]);const k=()=>{U.get(C,Y()).then(e=>{var n,i,l;((n=e==null?void 0:e.data)==null?void 0:n.status)==!0&&H((l=(i=e==null?void 0:e.data)==null?void 0:i.data)==null?void 0:l.ward_master)}).catch(e=>console.log("error getting master list",e))},D=[{Header:"S.No.",Cell:({row:e})=>a.jsx("div",{children:(e==null?void 0:e.index)+1})},{Header:"Ward No",accessor:"ward_name",Cell:e=>{if((e==null?void 0:e.value)==null||(e==null?void 0:e.value)==""||(e==null?void 0:e.value)==null)return a.jsx("i",{className:"font-semibold ",children:"N/A"});if((e==null?void 0:e.value)!=null)return e==null?void 0:e.value}},{Header:"Property Tax No",Cell:({cell:e})=>{var n,i,l,u,d,v,m,f,c,x;if(((i=(n=e==null?void 0:e.row)==null?void 0:n.original)==null?void 0:i.pt_no)==null||((u=(l=e==null?void 0:e.row)==null?void 0:l.original)==null?void 0:u.pt_no)==""||((v=(d=e==null?void 0:e.row)==null?void 0:d.original)==null?void 0:v.pt_no)==null)return a.jsx("i",{className:"font-semibold ",children:"N/A"});if(((f=(m=e==null?void 0:e.row)==null?void 0:m.original)==null?void 0:f.pt_no)!=null)return a.jsx("div",{className:"cursor-pointer underline",onClick:()=>{var h,N;return _("/holdingPropertyDetails/"+((N=(h=e==null?void 0:e.row)==null?void 0:h.original)==null?void 0:N.property_id))},children:(x=(c=e==null?void 0:e.row)==null?void 0:c.original)==null?void 0:x.pt_no})}},{Header:"Holding No",Cell:({cell:e})=>{var n,i,l,u,d,v,m,f,c,x;if(((i=(n=e==null?void 0:e.row)==null?void 0:n.original)==null?void 0:i.holding_no)==null||((u=(l=e==null?void 0:e.row)==null?void 0:l.original)==null?void 0:u.holding_no)==""||((v=(d=e==null?void 0:e.row)==null?void 0:d.original)==null?void 0:v.holding_no)==null)return a.jsx("i",{className:"font-semibold ",children:"N/A"});if(((f=(m=e==null?void 0:e.row)==null?void 0:m.original)==null?void 0:f.holding_no)!=null)return a.jsx("div",{className:"cursor-pointer underline",onClick:()=>{var h,N;return _("/holdingPropertyDetails/"+((N=(h=e==null?void 0:e.row)==null?void 0:h.original)==null?void 0:N.property_id))},children:(x=(c=e==null?void 0:e.row)==null?void 0:c.original)==null?void 0:x.holding_no})}},{Header:"Unique House No",accessor:"new_holding_no",Cell:e=>{if((e==null?void 0:e.value)==null||(e==null?void 0:e.value)==""||(e==null?void 0:e.value)==null)return a.jsx("i",{className:"font-semibold ",children:"N/A"});if((e==null?void 0:e.value)!=null)return e==null?void 0:e.value}},{Header:"Applicant Name",accessor:"owner_name",Cell:e=>{if((e==null?void 0:e.value)==null||(e==null?void 0:e.value)==""||(e==null?void 0:e.value)==null)return a.jsx("i",{className:"font-semibold ",children:"N/A"});if((e==null?void 0:e.value)!=null)return e==null?void 0:e.value}},{Header:"Mobile No",accessor:"mobile_no",Cell:e=>{if((e==null?void 0:e.value)==null||(e==null?void 0:e.value)==""||(e==null?void 0:e.value)==null)return a.jsx("i",{className:"font-semibold ",children:"N/A"});if((e==null?void 0:e.value)!=null)return e==null?void 0:e.value}},{Header:"Address",accessor:"prop_address",Cell:e=>{if((e==null?void 0:e.value)==null||(e==null?void 0:e.value)==""||(e==null?void 0:e.value)==null)return a.jsx("i",{className:"font-semibold ",children:"N/A"});if((e==null?void 0:e.value)!=null)return e==null?void 0:e.value}}],L=[{Header:"S.No.",Cell:({row:e})=>a.jsx("div",{children:(e==null?void 0:e.index)+1})},{Header:"Ward No",accessor:"ward_name",Cell:e=>{if((e==null?void 0:e.value)==null||(e==null?void 0:e.value)==""||(e==null?void 0:e.value)==null)return a.jsx("i",{className:"font-semibold ",children:"N/A"});if((e==null?void 0:e.value)!=null)return e==null?void 0:e.value}},{Header:"Property Tax No",accessor:"pt_no",Cell:e=>{if((e==null?void 0:e.value)==null||(e==null?void 0:e.value)==""||(e==null?void 0:e.value)==null)return a.jsx("i",{className:"font-semibold ",children:"N/A"});if((e==null?void 0:e.value)!=null)return e==null?void 0:e.value}},{Header:"Holding No",accessor:"holding_no",Cell:e=>{if((e==null?void 0:e.value)==null||(e==null?void 0:e.value)==""||(e==null?void 0:e.value)==null)return a.jsx("i",{className:"font-semibold ",children:"N/A"});if((e==null?void 0:e.value)!=null)return e==null?void 0:e.value}},{Header:"Unique House No",accessor:"new_holding_no",Cell:e=>{if((e==null?void 0:e.value)==null||(e==null?void 0:e.value)==""||(e==null?void 0:e.value)==null)return a.jsx("i",{className:"font-semibold ",children:"N/A"});if((e==null?void 0:e.value)!=null)return e==null?void 0:e.value}},{Header:"Applicant Name",accessor:"owner_name",Cell:e=>{if((e==null?void 0:e.value)==null||(e==null?void 0:e.value)==""||(e==null?void 0:e.value)==null)return a.jsx("i",{className:"font-semibold ",children:"N/A"});if((e==null?void 0:e.value)!=null)return e==null?void 0:e.value}},{Header:"Mobile No",accessor:"mobile_no",Cell:e=>{if((e==null?void 0:e.value)==null||(e==null?void 0:e.value)==""||(e==null?void 0:e.value)==null)return a.jsx("i",{className:"font-semibold ",children:"N/A"});if((e==null?void 0:e.value)!=null)return e==null?void 0:e.value}},{Header:"Address",accessor:"prop_address",Cell:e=>{if((e==null?void 0:e.value)==null||(e==null?void 0:e.value)==""||(e==null?void 0:e.value)==null)return a.jsx("i",{className:"font-semibold ",children:"N/A"});if((e==null?void 0:e.value)!=null)return e==null?void 0:e.value}},{Header:"Total Demand",accessor:"total_demand",Cell:e=>{if((e==null?void 0:e.value)==null||(e==null?void 0:e.value)==""||(e==null?void 0:e.value)==null)return a.jsx("i",{className:"font-semibold ",children:"N/A"});if((e==null?void 0:e.value)!=null)return e==null?void 0:e.value}}];return a.jsxs(a.Fragment,{children:[a.jsxs("form",{onChange:j.handleChange,onSubmit:j.handleSubmit,className:"mb-4 bg-white shadow-lg rounded-md ",children:[a.jsx("h1",{className:"text-xl w-full font-bold px-8 pt-4 text-gray-700",children:"Search Report"}),a.jsxs("div",{className:"flex flex-wrap flex-row justify-start w-full gap-x-6 gap-y-2 text-sm 3xl:text-base p-4 px-8",children:[a.jsxs("div",{className:"flex flex-col w-full md:w-[20%]",children:[a.jsx("div",{className:"col-span-6 font-semibold",children:"Ward No. :"}),a.jsx("div",{className:"col-span-6",children:a.jsxs("select",{name:"wardId",id:"",className:M,children:[a.jsx("option",{value:"",children:"All"}),g==null?void 0:g.map(e=>a.jsx(a.Fragment,{children:a.jsx("option",{value:e==null?void 0:e.id,children:e==null?void 0:e.ward_name})}))]})})]}),a.jsx("div",{className:"w-full md:w-[20%] flex justify-start items-end",children:a.jsxs("button",{type:"submit",className:"flex flex-row items-center border border-green-600 bg-green-600 hover:bg-green-500 text-white hover:text-black shadow-lg rounded-sm text-sm font-semibold px-5 py-1 w-max",children:[" ",a.jsx("span",{className:"mr-2",children:a.jsx(R,{})}),"Search"]})})]})]}),w!=null&&a.jsx(W,{type:"old",api:b=="current"?y:A,columns:b=="current"?L:D,requestBody:w,changeData:P}),a.jsx("div",{className:"h-[20vh]"})]})};export{X as default};
