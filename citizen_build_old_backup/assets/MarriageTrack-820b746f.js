import{Z as U,u as G,a as i,j as e}from"./react-304bc6bc.js";import{A as f,Q as O}from"./index-ff45b2e2.js";import{P as q}from"./ProjectApiList-b5d41cfc.js";import{A as u}from"./ApiHeader-98968871.js";import{B as Q}from"./BottomErrorCard-422f9d4d.js";/* empty css                  */import{c as b,n,i as g}from"./PowerupFunctions-89427d0e.js";import{T as _}from"./index.esm-4c1918b1.js";import{L as Y}from"./ListTable-a13a129f.js";import{u as Z}from"./UseSetTitle-9fe0a387.js";import{B as J}from"./BrandLoader-eaac025b.js";import{R as K}from"./index.esm-536e5801.js";import{D as W}from"./DeleteModal-8d4a9b37.js";import{M as X}from"./index-69dc9777.js";import"./BackendUrl-b545fbc2.js";import"./CommonModal-3143ba46.js";import"./index-5febc24e.js";import"./index-da462552.js";import"./index.esm-0f2a749c.js";import"./DynamicData-45bc185a.js";import"./useTranslation-536f3488.js";import"./index.esm-dae6465a.js";function C(r){return U({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M387.581 139.712L356.755 109 216.913 248.319l30.831 30.719 139.837-139.326zM481.172 109L247.744 340.469l-91.39-91.051-30.827 30.715L247.744 403 512 139.712 481.172 109zM0 280.133L123.321 403l30.829-30.713L31.934 249.418 0 280.133z"}}]})(r)}const Ne=()=>{const r=G(),{api_getList:D,api_getDetails:M,api_deleteApplication:k}=q(),[x,h]=i.useState(!0),[w,c]=i.useState(!1),[t,S]=i.useState(null),[p,A]=i.useState([]),[L,F]=i.useState(!1),[I,E]=i.useState(""),[$,B]=i.useState(null),[d,j]=i.useState(null),[P,N]=i.useState(!1),v=()=>{N(!1)},z=()=>{N(!0)},l=(a,o)=>{E(o),F(a),!a&&r("/marriage-index")};Z(""),i.useEffect(()=>{c(!0),f.post(D,{},u()).then(a=>{var o,s,m;(o=a==null?void 0:a.data)!=null&&o.status?A((s=a==null?void 0:a.data)==null?void 0:s.data):l(!0,b((m=a==null?void 0:a.data)==null?void 0:m.message))}).catch(a=>{l(!0,"Error getting list, please try again later !")}).finally(()=>{c(!1)})},[]);const H=a=>{c(!0),f.post(M,{applicationId:a},u()).then(o=>{var s,m,y;(s=o==null?void 0:o.data)!=null&&s.status?(S((m=o==null?void 0:o.data)==null?void 0:m.data),h(!1)):l(!0,b((y=o==null?void 0:o.data)==null?void 0:y.message))}).catch(o=>{l(!0,"Error getting document list, please try again later !")}).finally(()=>{c(!1)})},R=()=>{c(!0),f.post(k,{applicationId:d},u()).then(a=>{var o,s;(o=a==null?void 0:a.data)!=null&&o.status?(O.success("Application Deleted Successfully !!!"),h(!0),j(null)):l(!0,b((s=a==null?void 0:a.data)==null?void 0:s.message))}).catch(a=>{l(!0,"Error getting document list, please try again later !")}).finally(()=>{c(!1)})},T=a=>{j(a),B(a),H(a)};let V=[{Header:"Sl.No.",Cell:({row:a})=>e.jsx("div",{children:(a==null?void 0:a.index)+1})},{Header:"Application No",accessor:"application_no",Cell:({cell:a})=>{var o;return n((o=a.row.original)==null?void 0:o.application_no)}},{Header:"Bride Name",accessor:"bride_name",Cell:({cell:a})=>{var o;return n((o=a.row.original)==null?void 0:o.bride_name)}},{Header:"Groom Name",accessor:"groom_name",Cell:({cell:a})=>{var o;return n((o=a.row.original)==null?void 0:o.groom_name)}},{Header:"Marriage Date",accessor:"marriage_date",Cell:({cell:a})=>{var o;return g((o=a.row.original)==null?void 0:o.marriage_date)}},{Header:"Marriage Place",accessor:"marriage_place",Cell:({cell:a})=>{var o;return n((o=a.row.original)==null?void 0:o.marriage_place)}},{Header:"Appointment Date",accessor:"appointment_date",Cell:({cell:a})=>{var o;return g((o=a.row.original)==null?void 0:o.appointment_date)}},{Header:"Action",Cell:({cell:a})=>e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex items-center justify-center gap-2 w-full",children:e.jsx("button",{onClick:()=>{var o,s;return T((s=(o=a==null?void 0:a.row)==null?void 0:o.original)==null?void 0:s.id)},className:"px-2 py-1 rounded-md bg-indigo-500 text-white text-sm hover:bg-indigo-600",children:"View"})})})}];return e.jsxs(e.Fragment,{children:[w&&e.jsx(J,{}),!w&&e.jsxs("div",{className:"animate__animated animate__fadeIn animate__faster overflow-x-hidden overflow-y-scroll w-[99%] mx-auto rounded-md gap-6 h-full p-[1vw]",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("h1",{className:"bg-white shadow-lg shadow-indigo-300 text-indigo-500 border-[0.17vw] border-indigo-500 px-[4vw] py-[1.5vh] w-max font-semibold text-[3vh]",children:"Track Marriage Registration"})}),L&&e.jsx(Q,{activateBottomErrorCard:l,errorTitle:I}),e.jsxs("div",{className:"flex items-center space-x-2 mt-4 sm:mb-0",children:[e.jsxs("div",{className:(x?"border-2 border-indigo-600 shadow-indigo-400":"border-none")+" select-none bg-white shadow-md rounded-md flex items-center space-x-2 px-6 py-2 cursor-pointer text-sm",onClick:()=>h(!0),children:[e.jsx("span",{className:"font-extrabold",children:e.jsx(_,{})}),e.jsx("span",{className:"font-semibold",children:"List"})]}),e.jsxs("div",{className:(!x&&d!=null?"border-2 border-indigo-600 shadow-indigo-400":"border-none")+" select-none bg-white shadow-md rounded-md flex items-center space-x-2 px-6 py-2 cursor-pointer text-sm",onClick:()=>d!=null&&h(!1),children:[e.jsx("span",{className:"font-extrabold",children:e.jsx(_,{})}),e.jsx("span",{className:"font-semibold",children:"View"})]})]}),x&&e.jsx(e.Fragment,{children:(p==null?void 0:p.length)>0?e.jsx("div",{className:"mt-4 bg-white p-4 shadow-md",children:e.jsx(Y,{dataList:p,columns:V})}):e.jsxs("div",{className:"mt-6 bg-white p-4 shadow-lg w-full flex flex-col items-center gap-4",children:[e.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 pl-4 pr-16 py-3 rounded relative text-center",role:"alert",children:[e.jsx("span",{className:"block sm:inline",children:"Sorry! You haven't applied for marriage registration."}),e.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3"})]}),e.jsx("button",{onClick:()=>r("/marriage-apply/0/new"),className:"border-[0.15vw] border-indigo-500 hover:bg-indigo-600 hover:text-white text-indigo-500 shadow-indigo-200 shadow-md px-[2.7vw] py-[0.6vh] text-[2vh] hover:shadow-none",children:"Apply Now"})]})}),!x&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative flex items-center flex-wrap w-full text-sm bg-white p-4 shadow-lg gap-2 mt-4",children:[e.jsxs("div",{className:"flex flex-col flex-wrap justify-center w-full md:w-[22%]",children:[e.jsx("div",{children:"Application No. "}),e.jsx("div",{className:"font-semibold text-base",children:n(t==null?void 0:t.application_no)})]}),e.jsxs("div",{className:"flex flex-col flex-wrap justify-center w-full md:w-[22%]",children:[e.jsx("div",{children:"Groom Name "}),e.jsx("div",{className:"font-semibold text-base",children:n(t==null?void 0:t.groom_name)})]}),e.jsxs("div",{className:"flex flex-col flex-wrap justify-center w-full md:w-[22%]",children:[e.jsx("div",{children:"Bride Name "}),e.jsx("div",{className:"font-semibold text-base",children:n(t==null?void 0:t.bride_name)})]}),e.jsxs("div",{className:"flex flex-col flex-wrap justify-center w-full md:w-[22%]",children:[e.jsx("div",{children:"Marriage Date "}),e.jsx("div",{className:"font-semibold text-base",children:g(t==null?void 0:t.marriage_date)})]}),e.jsxs("div",{className:"flex flex-col flex-wrap justify-center w-full md:w-[22%]",children:[e.jsx("div",{children:"Marriage Place "}),e.jsx("div",{className:"font-semibold text-base",children:n(t==null?void 0:t.marriage_place)})]}),e.jsxs("div",{className:"flex flex-col flex-wrap justify-center w-full md:w-[27%]",children:[e.jsx("div",{children:"Either of the Bride or Groom belongs to BPL category ?"}),e.jsx("div",{className:"font-semibold text-base",children:n(t==null?void 0:t.is_bpl)})]}),e.jsxs("div",{className:"flex flex-col flex-wrap justify-center w-full md:w-[22%]",children:[e.jsx("div",{children:"Appointment Date "}),e.jsx("div",{className:"font-semibold text-base",children:g(t==null?void 0:t.appointment_date)})]}),e.jsx("button",{onClick:()=>r(`/marriage-details/${d}`),className:"absolute bottom-1 right-1 text-sm border border-indigo-500 text-indigo-500 hover:bg-indigo-500 hover:text-white transition-all duration-300 px-4 py-1 w-max",children:"View Details"})]}),e.jsxs("div",{className:"bg-white flex flex-col gap-2 p-[1.5vw] text-[2vh] mt-[4vh] rounded-md shadow-md",children:[e.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center border-b-[0.35vh] border-gray-400 pb-[1.2vh]",children:[e.jsx("div",{className:"font-semibold col-span-4",children:"Form Fill Up"}),e.jsx("div",{className:"col-span-4 text-center",children:e.jsx("span",{className:"text-green-500",children:"Done"})}),e.jsx("div",{className:"col-span-4 text-center flex justify-center",children:(t==null?void 0:t.payment_status)==0?e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>r(`/marriage-apply/${d}/edit`),className:"border-[0.15vw] border-indigo-500 hover:bg-indigo-600 hover:text-white text-indigo-500 shadow-indigo-200 shadow-md px-[2vw] py-[0.6vh] text-[2vh] hover:shadow-none",children:"Edit"}),e.jsx("button",{onClick:()=>z(),className:"border-[0.15vw] border-red-500 hover:bg-red-600 hover:text-white text-red-500 shadow-red-200 shadow-md px-[2vw] py-[0.6vh] text-[2vh] hover:shadow-none",children:"Delete"})]}):e.jsx("span",{className:"font-bold text-green-600 text-2xl",children:e.jsx(C,{})})})]}),e.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center border-b-[0.35vh] border-gray-400 pb-[1.2vh]",children:[e.jsx("div",{className:"font-semibold col-span-4",children:"Document Upload"}),e.jsx("div",{className:"col-span-4 text-center",children:(t==null?void 0:t.is_btc)==!0?e.jsx("span",{className:"text-red-500",children:"BTC"}):e.jsx("span",{className:`${(t==null?void 0:t.doc_upload_status)==0?"text-zinc-700":"text-green-500"} `,children:(t==null?void 0:t.doc_upload_status)==0?"Pending":"Done"})}),e.jsx("div",{className:"col-span-4 text-center flex justify-center",children:(t==null?void 0:t.doc_upload_status)==0?e.jsx("button",{onClick:()=>r(`/marriage-doc-upload/${d}/${t==null?void 0:t.is_btc}`),className:"border-[0.15vw] border-indigo-500 hover:bg-indigo-600 hover:text-white text-indigo-500 shadow-indigo-200 shadow-md px-[2vw] py-[0.6vh] text-[2vh] hover:shadow-none",children:"Upload Documents"}):e.jsx(e.Fragment,{children:(t==null?void 0:t.payment_status)==0?e.jsx("button",{onClick:()=>r(`/marriage-doc-upload/${d}/${t==null?void 0:t.is_btc}`),className:"border-[0.15vw] border-indigo-500 hover:bg-indigo-600 hover:text-white text-indigo-500 shadow-indigo-200 shadow-md px-[2vw] py-[0.6vh] text-[2vh] hover:shadow-none",children:"Re-Upload"}):e.jsx("span",{className:"font-bold text-green-600 text-2xl",children:e.jsx(C,{})})})})]}),!(t!=null&&t.is_bpl)&&e.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center border-b-[0.35vh] border-gray-400 pb-[1.2vh]",children:[e.jsx("div",{className:"font-semibold col-span-4",children:"Payment"}),e.jsx("div",{className:"col-span-4 text-center",children:e.jsx("span",{className:(t==null?void 0:t.payment_status)==0?"text-zinc-700":"text-green-500",children:(t==null?void 0:t.payment_status)==0?"Pending":"Done"})}),e.jsx("div",{className:"col-span-4 text-center flex justify-center",children:(t==null?void 0:t.payment_status)==0?e.jsx("button",{className:"border-[0.15vw] border-indigo-500 hover:bg-indigo-600 hover:text-white text-indigo-500 shadow-indigo-200 shadow-md px-[2vw] py-[0.6vh] text-[2vh] hover:shadow-none",onClick:()=>r(`/marriage-payment/${$}`),children:"Pay"}):e.jsx("button",{className:"border-[0.15vw] border-indigo-500 hover:bg-indigo-600 hover:text-white text-indigo-500 shadow-indigo-200 shadow-md px-[2vw] py-[0.6vh] text-[2vh] hover:shadow-none",onClick:()=>r(`/marriage-payment-receipt/${encodeURIComponent(t==null?void 0:t.tran_no)}`),children:"View Receipt"})})]}),e.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center border-b-[0.35vh] border-gray-400 pb-[1.2vh]",children:[e.jsx("div",{className:"font-semibold col-span-4",children:"Form Verification"}),e.jsx("div",{className:"col-span-4 text-center",children:e.jsx("span",{className:`${t!=null&&t.appointment_status?" text-green-500":"text-zinc-700"}`,children:t!=null&&t.appointment_status?"Verified":"Pending"})}),e.jsx("div",{className:"col-span-4 text-center",children:(t==null?void 0:t.appointment_status)&&e.jsx("button",{className:"border-[0.15vw] border-indigo-500 hover:bg-indigo-600 hover:text-white text-indigo-500 shadow-indigo-200 shadow-md px-[2vw] py-[0.6vh] text-[2vh] hover:shadow-none",onClick:()=>r(`/marriage-certificate/${t==null?void 0:t.id}`),children:"Download Certifcate"})})]})]}),e.jsxs("div",{className:`${(t==null?void 0:t.appointment_status)&&"border-2 border-red-500 shadow-lg shadow-red-200"} bg-white flex flex-col gap-2 p-[1.5vw] text-[2vh] mt-[4vh] rounded-md shadow-md`,children:[e.jsx("span",{className:"font-semibold",children:"Important Note : "}),e.jsx("ol",{children:e.jsxs("li",{children:["After ",e.jsx("span",{className:"font-bold",children:"Form Verification"})," , download the certificate after that whatever the appointment date is given, you have to appear at the registrar office on that day with all documents you have uploaded with 2 joint photographs (3 inch x 2 inch) and downloaded certificate too."]})})]})]})]}),e.jsx(X,{isOpen:P,onRequestClose:v,className:"z-20 h-screen w-screen backdrop-blur-sm flex flex-row justify-center items-center overflow-auto",contentLabel:"Example Modal",children:e.jsxs("div",{className:" animate__animated animate__fadeInRight animate__faster w-max border-2 border-indigo-500 px-6 py-4 h-max border-t-2 border-l-2 rounded-lg shadow-lg shadow-indigo-300 relative overflow-auto",children:[e.jsx("div",{className:"absolute top-2 z-10 bg-red-200 hover:bg-red-300 right-2 rounded-full p-2 cursor-pointer",onClick:v,children:e.jsx(K,{fontSize:10})}),e.jsx(W,{closeModal:v,deleteSafFun:()=>R()})]})})]})};export{Ne as default};
