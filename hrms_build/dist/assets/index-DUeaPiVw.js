import{r as e,h as s,f as a,j as r,l as t,B as l}from"./index-pyCvve81.js";import{P as i}from"./index-BN0jNiUj.js";import{C as n,a as o,b as d,c}from"./card-bx3Oa7DD.js";import{T as m,a as x,b as h,c as j,d as u,e as g}from"./table-vFocFjjc.js";import{B as p}from"./badge-Cy7OSyyd.js";import{b as v}from"./useCustomQuery-B1PLu8pZ.js";import{P as f}from"./index-By2ZT1Is.js";import{S as y}from"./separator-DS4WD8aU.js";import{S as b}from"./index-cYG0LkNy.js";import{S as N}from"./Spinner-BDgO_yrk.js";import{S as w}from"./index-C6R_E3Ub.js";import{W as S}from"./wallet-B8syiLuY.js";import{E as _}from"./eye-DTo8qJux.js";import{F as C}from"./file-text-D21bLVNp.js";import{C as $}from"./circle-check-big-BF6C8Vh9.js";import{C as P}from"./clock-DqQh3QaC.js";import{C as E}from"./circle-alert-bSz2ewqB.js";import{C as D}from"./circle-x-CMuzPAjJ.js";import"./input-DWARB5Y9.js";import"./select-BIraycn9.js";import"./check-BHEPqzdD.js";const k=(e,s)=>{if(!e)return r.jsxs(p,{variant:"outline",className:"text-gray-500",children:[r.jsx(E,{className:"mr-1 h-3 w-3"}),"No Declaration"]});switch(s){case"approved":case"verified":return r.jsxs(p,{variant:"default",className:"bg-green-100 text-green-700",children:[r.jsx($,{className:"mr-1 h-3 w-3"}),"Approved"]});case"pending":return r.jsxs(p,{variant:"secondary",className:"bg-yellow-100 text-yellow-700",children:[r.jsx(P,{className:"mr-1 h-3 w-3"}),"Pending"]});case"rejected":return r.jsxs(p,{variant:"destructive",children:[r.jsx(D,{className:"mr-1 h-3 w-3"}),"Rejected"]});default:return r.jsxs(p,{variant:"outline",children:[r.jsx(P,{className:"mr-1 h-3 w-3"}),s]})}};function B(){var i,E,D,B,O,T,A,F,I,L,W,z;const[V,q]=e.useState(1),[M,Q]=e.useState(10),[R,U]=e.useState(""),[Y,G]=e.useState(""),H=v({api:`${s.getEmployeesWithSalaryOverview}?page=${V}&limit=${M}&q=${R}&department_id=${a(Y)}`,key:"getEmployeesWithSalaryOverview",value:[V,M,Y],options:{enabled:!0}});return r.jsx("main",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50",children:r.jsx("div",{className:"space-y-6",children:r.jsxs(n,{className:"border border-gray-200 bg-white shadow-lg",children:[r.jsx(o,{className:"rounded-t-lg bg-gradient-to-r from-blue-600 to-indigo-600 text-white",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(S,{className:"h-6 w-6"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold",children:"Salary Overview"}),r.jsxs(d,{className:"mt-1 text-blue-100",children:["Total Employees:"," ",(null==(E=null==(i=null==H?void 0:H.data)?void 0:i.pagination)?void 0:E.total)||0]})]})]})})}),r.jsxs(c,{className:"p-6",children:[r.jsx("div",{className:"mb-6",children:r.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Search Employee"}),r.jsx(b,{setSearch:U,search:R,refetch:null==H?void 0:H.refetch})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Filter by Department"}),r.jsx(w,{departmentId:Y,setDepartmentId:G})]})]})}),r.jsx(y,{className:"my-6"}),H.isLoading?r.jsx("div",{className:"flex items-center justify-center py-20",children:r.jsx(N,{})}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200",children:r.jsxs(m,{children:[r.jsx(x,{children:r.jsxs(h,{className:"bg-gray-50 hover:bg-gray-50",children:[r.jsx(j,{className:"w-16 font-semibold text-gray-700",children:"#"}),r.jsx(j,{className:"font-semibold text-gray-700",children:"Employee Code"}),r.jsx(j,{className:"font-semibold text-gray-700",children:"Employee Name"}),r.jsx(j,{className:"font-semibold text-gray-700",children:"Department"}),r.jsx(j,{className:"font-semibold text-gray-700",children:"Basic Pay"}),r.jsx(j,{className:"font-semibold text-gray-700",children:"Salary Status"}),r.jsx(j,{className:"font-semibold text-gray-700",children:"Declaration"}),r.jsx(j,{className:"text-center font-semibold text-gray-700",children:"Actions"})]})}),r.jsx(u,{children:0===(null==(B=null==(D=null==H?void 0:H.data)?void 0:D.data)?void 0:B.length)?r.jsx(h,{children:r.jsx(g,{colSpan:8,className:"py-8 text-center text-gray-500",children:"No employees found"})}):null==(T=null==(O=null==H?void 0:H.data)?void 0:O.data)?void 0:T.map((e,s)=>{var i,n,o,d;return r.jsxs(h,{className:"transition-colors duration-150 hover:bg-blue-50/50",children:[r.jsx(g,{className:"font-medium text-gray-600",children:(V-1)*M+s+1}),r.jsx(g,{className:"font-mono text-sm font-medium text-blue-600",children:r.jsx(t,{to:`/hrms/dashboard/view-employee/${a(String(e.id))}`,className:"hover:underline",children:e.emp_code})}),r.jsx(g,{className:"font-medium text-gray-900",children:e.emp_name}),r.jsx(g,{className:"text-gray-700",children:e.department_name}),r.jsx(g,{className:"font-medium text-gray-900",children:(d=e.current_basic_pay,null==d?"—":`₹${d.toLocaleString("en-IN")}`)}),r.jsx(g,{children:(o=e.salary_configured,o?r.jsxs(p,{variant:"default",className:"bg-green-100 text-green-700",children:[r.jsx($,{className:"mr-1 h-3 w-3"}),"Configured"]}):r.jsxs(p,{variant:"secondary",className:"bg-yellow-100 text-yellow-700",children:[r.jsx(P,{className:"mr-1 h-3 w-3"}),"Not Configured"]}))}),r.jsx(g,{children:k(e.has_declaration,null==(i=e.declaration)?void 0:i.verification_status)}),r.jsx(g,{children:r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx(t,{to:`/hrms/dashboard/salary/${a(String(e.id))}`,children:r.jsxs(l,{size:"sm",variant:"outline",className:"h-9 border-blue-200 px-3 text-blue-600 transition-all duration-200 hover:border-blue-300 hover:bg-blue-50 hover:text-blue-700",children:[r.jsx(_,{className:"mr-1 h-4 w-4"}),"Salary"]})}),e.has_declaration&&r.jsx(t,{to:`/hrms/dashboard/payroll/investment-proofs/${null==(n=e.declaration)?void 0:n.emp_id}`,children:r.jsxs(l,{size:"sm",variant:"outline",className:"h-9 border-indigo-200 px-3 text-indigo-600 transition-all duration-200 hover:border-indigo-300 hover:bg-indigo-50 hover:text-indigo-700",children:[r.jsx(C,{className:"mr-1 h-4 w-4"}),"Proofs"]})})]})})]},e.id)})})]})}),r.jsxs("div",{className:"mt-6 flex items-center justify-between rounded-lg border border-gray-200 bg-gray-50 p-4",children:[r.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",(V-1)*M+1," to"," ",Math.min(V*M,(null==(F=null==(A=null==H?void 0:H.data)?void 0:A.pagination)?void 0:F.total)||0)," ","of ",(null==(L=null==(I=null==H?void 0:H.data)?void 0:I.pagination)?void 0:L.total)||0," ","entries"]}),r.jsx(f,{page:V,limit:M,totalPages:null==(z=null==(W=null==H?void 0:H.data)?void 0:W.pagination)?void 0:z.totalPages,setPage:q,setLimit:Q})]})]})]})]})})})}function O(){return r.jsx(i,{title:"Salary Overview",subTitle:"View employee salary and declaration status",children:r.jsx(B,{})})}export{O as default};
