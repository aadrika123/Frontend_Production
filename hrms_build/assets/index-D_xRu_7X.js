import{r as f,p as Ie,j as e,h as M,_ as w,q as de,s as ne,B as z,e as Q}from"./index-BdkJQCNA.js";import{g as Je,d as Ke,b as Xe,e as Qe,f as Ze,h as es,i as ss,j as as,P as ts}from"./index-Bvk2Vi_h.js";import{c as me,f as ae,b as x,g as _e,a as xe,o as pe,F as he,R as g,B as le,h as ls,e as Me,i as Se,S as rs,j as ns,k as is,l as ds,m as cs}from"./label-AYT56UjD.js";import"./input-BPgDixJD.js";import{R as W,H as Ae,M as T,C as H,a as os,u as ms,D as De,b as Ve,P as Re,c as $e,d as Te,e as qe,f as Oe,g as Le,h as Ue,F as xs,i as ps,E as hs,T as We,j as He,k as Ee,l as Pe,W as us,U as gs}from"./usePdfValidator-DKSIuA6o.js";import{u as U,c as bs,b as Z,a as js}from"./useCustomQuery-DvrlGAEW.js";import{U as q,B as Ce,H as se,a as ze,P as ce,M as Be,R as fs,S as ie}from"./RHFUploadFiled-Bf3hPn8r.js";import{C as B}from"./calendar-CY1IPg8R.js";import{U as Y}from"./users-wOMFJIu5.js";import{C as Ns,H as ke,F as K,a as re}from"./house-BtGggfJF.js";import{S as Ye,d as Ge,C as X,c as te,h as oe,a as ys,e as vs}from"./Spinner-DWAshiSr.js";import{E as ws}from"./eye-BkPQF_DF.js";import{D as Fe}from"./dollar-sign-CZ4iwatj.js";const _s=me().shape({emp_type_id:ae().integer().required().label("Employee Type"),emp_code:x().max(50).required().label("Employee Code"),emp_name:x().max(100).required().label("Employee Name"),gender:x().oneOf(["male","female","other"]).optional().label("Gender"),dob:_e().optional().label("Date of Birth"),marital_status:x().oneOf(["single","married","divorced","widowed"]).optional().label("Marital Status"),religion:x().max(50).optional().label("Religion"),emp_blood_group:x().oneOf(["A+","A-","B+","B-","O+","O-","AB+","AB-"]).optional().label("Blood Group"),emp_health_status:x().max(50).optional().label("Health Status").required(),contact_no:x().max(10).optional().label("Contact Number"),emergency_contact_no:x().max(10).optional().label("Emergency Contact"),email:x().email().max(100).optional().label("Email"),emp_present_address:x().optional().label("Present Address"),present_post_office:x().max(100).optional().label("Present Post Office"),present_pin_code:x().max(6).optional().label("Present PIN Code"),present_police_station:x().max(100).optional().label("Present Police Station"),present_state:x().max(100).optional().label("Present State"),present_district:x().max(100).optional().label("Present District"),emp_permanent_address:x().optional().label("Permanent Address"),permanent_post_office:x().max(100).optional().label("Permanent Post Office"),permanent_pin_code:x().max(6).optional().label("Permanent PIN Code"),permanent_police_station:x().max(100).optional().label("Permanent Police Station"),permanent_state:x().max(100).optional().label("Permanent State"),permanent_district:x().max(100).optional().label("Permanent District"),aadhaar_no:x().max(12).optional().label("Aadhaar Number"),pan_no:x().max(10).optional().label("PAN Number"),uan_no:x().max(12).optional().label("UAN Number"),esi_no:x().max(17).optional().label("ESI Number"),passport_no:x().max(20).optional().label("Passport Number"),driving_license_no:x().max(20).optional().label("Driving License"),department_id:ae().integer().optional().label("Department"),designation_id:ae().integer().optional().label("Designation"),date_of_joining:_e().optional().label("Date of Joining")});function Ss({id:m,getDataById:d}){var E,C,S,O,L,y;const[c,j]=f.useState(!1),i=U({}),_=Ie(),n=Je(),l=Ke(),h=Xe(),N=f.useMemo(()=>{var G;if(!((G=d.data)!=null&&G.data))return{};const{ulb_id:o,status:u,created_at:A,updated_at:D,id:V,emp_image:k,...F}=d.data.data,R={};return Object.entries(F).forEach(([ee,I])=>{R[ee]=I===null?void 0:I}),R},[d.data]),r=xe({defaultValues:N,resolver:pe(_s)}),a=async o=>{var u,A,D,V;try{const k=await i.mutateAsync({api:`${(u=M)==null?void 0:u.updateEmployeeById}`,data:{id:m,...o}});(A=k.data)!=null&&A.success?(w.success((D=k==null?void 0:k.data)==null?void 0:D.message),_("/hrms/dashboard/employee-list")):w.error(((V=k.data)==null?void 0:V.message)||"Employee not created successfully")}catch(k){console.log(k),w.error("An error occurred while creating employee")}},s=o=>{if(j(o),o){const u=r.getValues("emp_present_address"),A=r.getValues("present_post_office"),D=r.getValues("present_pin_code"),V=r.getValues("present_police_station"),k=r.getValues("present_state"),F=r.getValues("present_district");r.setValue("emp_permanent_address",u),r.setValue("permanent_post_office",A),r.setValue("permanent_pin_code",D),r.setValue("permanent_police_station",V),r.setValue("permanent_state",k),r.setValue("permanent_district",F)}else r.setValue("emp_permanent_address",""),r.setValue("permanent_post_office",""),r.setValue("permanent_pin_code",""),r.setValue("permanent_police_station",""),r.setValue("permanent_state",""),r.setValue("permanent_district","")};f.useEffect(()=>{d.data&&r.reset(N)},[d.data,r]);const b=[{label:"Fit",value:"fit"},{label:"Unfit",value:"unfit"},{label:"Disabled",value:"disabled"}],v=[{label:"Male",value:"male"},{label:"Female",value:"female"},{label:"Other",value:"other"}],P=[{label:"Single",value:"single"},{label:"Married",value:"married"},{label:"Divorced",value:"divorced"},{label:"Widowed",value:"widowed"}],t=[{label:"A+",value:"A+"},{label:"A-",value:"A-"},{label:"B+",value:"B+"},{label:"B-",value:"B-"},{label:"O+",value:"O+"},{label:"O-",value:"O-"},{label:"AB+",value:"AB+"},{label:"AB-",value:"AB-"}],p=async()=>{var D,V,k,F,R,G,ee,I,ue,ge,be,je,fe,Ne,ye,ve,we;const u=await(await fetch(((V=(D=d.data)==null?void 0:D.data)==null?void 0:V.emp_image)||"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT3dSEtDvpd9KAn4SdFJVoL0K1lj4Xfc-wVWQ&s")).blob(),A=new File([u],"employee_image.jpg",{type:u.type});try{const $=new FormData;$.append("name",r.getValues("emp_name")),$.append("mobile",r.getValues("contact_no")),$.append("altMobile",r.getValues("emergency_contact_no")),$.append("email",r.getValues("email")),$.append("address",r.getValues("emp_present_address")),$.append("userType","Employee"),$.append("ulbId",((F=(k=d.data)==null?void 0:k.data)==null?void 0:F.ulb_id)||""),$.append("photo",A);const J=await i.mutateAsync({api:(R=de)==null?void 0:R.createUserAuth,data:$});console.log(J.data),(G=J.data)!=null&&G.status?(ge=(await i.mutateAsync({api:`${(ee=de)==null?void 0:ee.createMenuRoleAuth}`,data:{userId:(ue=(I=J.data)==null?void 0:I.data)==null?void 0:ue.id,permissionStatus:!0,menuRoleId:129}})).data)!=null&&ge.status&&(ve=(await i.mutateAsync({api:`${(be=M)==null?void 0:be.approveEmployee}`,data:{id:String((fe=(je=d.data)==null?void 0:je.data)==null?void 0:fe.id),authorization_id:String((ye=(Ne=J.data)==null?void 0:Ne.data)==null?void 0:ye.id),approval_status:1}})).data)!=null&&ve.success&&(w.success("Employee approved successfully"),_("/hrms/dashboard/employee-list")):w.error(((we=J.data)==null?void 0:we.message)||"Employee approval failed")}catch($){console.log($),w.error("An error occurred while approving employee")}};return e.jsxs("div",{className:"",children:[e.jsx("div",{className:"mb-8 rounded-lg border border-blue-200 bg-gradient-to-r from-blue-50 to-indigo-50 p-6 shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-blue-600 text-white shadow-md",children:e.jsx(q,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Comprehensive Employee Registration"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Please fill in all required fields marked with asterisk (*)"})]})]})}),e.jsxs(he,{methods:r,onSubmit:r.handleSubmit(a),children:[e.jsxs("div",{className:"mb-6 overflow-hidden rounded-lg border border-gray-200 bg-white shadow-sm",children:[e.jsxs("div",{className:"border-b border-gray-200 bg-gray-50 px-6 py-4",children:[e.jsxs("h2",{className:"flex items-center gap-2 text-lg font-semibold text-gray-800",children:[e.jsx(Ce,{className:"h-5 w-5 text-blue-600"}),"Employment Details"]}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Department, designation and job information"})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(se,{className:"h-4 w-4 text-gray-400"}),"Employee Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(W,{name:"emp_type_id",data:((C=(E=n==null?void 0:n.data)==null?void 0:E.data)==null?void 0:C.map(o=>({label:String(o.emp_type),value:String(o.id)})))||[]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(se,{className:"h-4 w-4 text-gray-400"}),"Employee Code ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(g,{name:"emp_code",placeholder:"Enter Employee Code",disabled:!0,inputValidation:["removeSpecialCharacterExceptSpace"]})]})]})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(ze,{className:"h-4 w-4 text-gray-400"}),"Department"]}),e.jsx(W,{name:"department_id",data:((O=(S=l==null?void 0:l.data)==null?void 0:S.data)==null?void 0:O.map(o=>({label:String(o.department_name),value:String(o.id)})))||[]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(Ce,{className:"h-4 w-4 text-gray-400"}),"Designation"]}),e.jsx(W,{name:"designation_id",data:((y=(L=h==null?void 0:h.data)==null?void 0:L.data)==null?void 0:y.map(o=>({label:String(o.designation_name),value:String(o.id)})))||[]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(B,{className:"h-4 w-4 text-gray-400"}),"Date of Joining"]}),e.jsx(g,{name:"date_of_joining",type:"date",placeholder:"Select Joining Date"})]})]})})]}),e.jsxs("div",{className:"mb-6 overflow-hidden rounded-lg border border-gray-200 bg-white shadow-sm",children:[e.jsxs("div",{className:"border-b border-gray-200 bg-gray-50 px-6 py-4",children:[e.jsxs("h2",{className:"flex items-center gap-2 text-lg font-semibold text-gray-800",children:[e.jsx(q,{className:"h-5 w-5 text-blue-600"}),"Personal Details"]}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Employee personal information"})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(q,{className:"h-4 w-4 text-gray-400"}),"Full Name"]}),e.jsx(g,{name:"emp_name",placeholder:"Enter Full Name",inputValidation:["removeSpecialCharacterExceptSpace"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(Y,{className:"h-4 w-4 text-gray-400"}),"Gender"]}),e.jsx(W,{name:"gender",data:v})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(B,{className:"h-4 w-4 text-gray-400"}),"Date of Birth"]}),e.jsx(g,{name:"dob",type:"date",placeholder:"Select Date of Birth"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(Y,{className:"h-4 w-4 text-gray-400"}),"Marital Status"]}),e.jsx(W,{name:"marital_status",data:P})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(Y,{className:"h-4 w-4 text-gray-400"}),"Religion"]}),e.jsx(g,{name:"religion",placeholder:"Enter Religion",inputValidation:["removeSpecialCharacterExceptSpace"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(Ae,{className:"h-4 w-4 text-gray-400"}),"Blood Group"]}),e.jsx(W,{name:"emp_blood_group",data:t})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(Ae,{className:"h-4 w-4 text-gray-400"}),"Health Status"]}),e.jsx(W,{name:"emp_health_status",data:b})]})]})})]}),e.jsxs("div",{className:"mb-6 overflow-hidden rounded-lg border border-gray-200 bg-white shadow-sm",children:[e.jsxs("div",{className:"border-b border-gray-200 bg-gray-50 px-6 py-4",children:[e.jsxs("h2",{className:"flex items-center gap-2 text-lg font-semibold text-gray-800",children:[e.jsx(ce,{className:"h-5 w-5 text-blue-600"}),"Contact Information"]}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Primary and emergency contact details"})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(ce,{className:"h-4 w-4 text-gray-400"}),"Contact Number"]}),e.jsx(g,{name:"contact_no",placeholder:"Enter 10-digit Mobile Number",inputValidation:["number"],maxLength:10})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(Ns,{className:"h-4 w-4 text-gray-400"}),"Emergency Contact"]}),e.jsx(g,{name:"emergency_contact_no",placeholder:"Enter Emergency Contact Number",inputValidation:["number"],maxLength:10})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(Be,{className:"h-4 w-4 text-gray-400"}),"Email Address"]}),e.jsx(g,{name:"email",type:"email",placeholder:"example@domain.com"})]})]})})]}),e.jsxs("div",{className:"mb-6 overflow-hidden rounded-lg border border-gray-200 bg-white shadow-sm",children:[e.jsxs("div",{className:"border-b border-gray-200 bg-gray-50 px-6 py-4",children:[e.jsxs("h2",{className:"flex items-center gap-2 text-lg font-semibold text-gray-800",children:[e.jsx(ke,{className:"h-5 w-5 text-blue-600"}),"Address Information"]}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Residential address details"})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"col-span-full space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(T,{className:"h-4 w-4 text-gray-400"}),"Present Address"]}),e.jsx(g,{name:"emp_present_address",placeholder:"Enter Present Address"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(T,{className:"h-4 w-4 text-gray-400"}),"Post Office"]}),e.jsx(g,{name:"present_post_office",placeholder:"Enter Post Office"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(se,{className:"h-4 w-4 text-gray-400"}),"PIN Code"]}),e.jsx(g,{name:"present_pin_code",placeholder:"Enter 6-digit PIN Code",inputValidation:["number"],maxLength:6})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(T,{className:"h-4 w-4 text-gray-400"}),"Police Station"]}),e.jsx(g,{name:"present_police_station",placeholder:"Enter Police Station"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(T,{className:"h-4 w-4 text-gray-400"}),"District"]}),e.jsx(g,{name:"present_district",placeholder:"Enter District"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(T,{className:"h-4 w-4 text-gray-400"}),"State"]}),e.jsx(g,{name:"present_state",placeholder:"Enter State"})]})]})}),e.jsxs("div",{className:"mb-6 flex items-center gap-3 rounded-lg border border-blue-200 bg-blue-50 p-4",children:[e.jsx("input",{type:"checkbox",id:"sameAsPresent",checked:c,onChange:o=>s(o.target.checked),className:"h-5 w-5 cursor-pointer rounded border-gray-300 text-blue-600 focus:ring-2 focus:ring-blue-500"}),e.jsxs("label",{htmlFor:"sameAsPresent",className:"flex cursor-pointer items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(ke,{className:"h-4 w-4 text-blue-600"}),"Permanent address is same as present address"]})]}),e.jsx("div",{children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"col-span-full space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(T,{className:"h-4 w-4 text-gray-400"}),"Permanent Address"]}),e.jsx(g,{name:"emp_permanent_address",placeholder:"Enter Permanent Address",disabled:c})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(T,{className:"h-4 w-4 text-gray-400"}),"Post Office"]}),e.jsx(g,{name:"permanent_post_office",placeholder:"Enter Post Office",disabled:c})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(se,{className:"h-4 w-4 text-gray-400"}),"PIN Code"]}),e.jsx(g,{name:"permanent_pin_code",placeholder:"Enter 6-digit PIN Code",inputValidation:["number"],maxLength:6,disabled:c})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(T,{className:"h-4 w-4 text-gray-400"}),"Police Station"]}),e.jsx(g,{name:"permanent_police_station",placeholder:"Enter Police Station",disabled:c})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(T,{className:"h-4 w-4 text-gray-400"}),"District"]}),e.jsx(g,{name:"permanent_district",placeholder:"Enter District",disabled:c})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(T,{className:"h-4 w-4 text-gray-400"}),"State"]}),e.jsx(g,{name:"permanent_state",placeholder:"Enter State",disabled:c})]})]})})]})]}),e.jsxs("div",{className:"mb-6 overflow-hidden rounded-lg border border-gray-200 bg-white shadow-sm",children:[e.jsxs("div",{className:"border-b border-gray-200 bg-gray-50 px-6 py-4",children:[e.jsxs("h2",{className:"flex items-center gap-2 text-lg font-semibold text-gray-800",children:[e.jsx(H,{className:"h-5 w-5 text-blue-600"}),"Government IDs & Documents"]}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Official identification documents"})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(H,{className:"h-4 w-4 text-gray-400"}),"Aadhaar Number"]}),e.jsx(g,{name:"aadhaar_no",placeholder:"Enter 12-digit Aadhaar",inputValidation:["aadhaar"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(H,{className:"h-4 w-4 text-gray-400"}),"PAN Number"]}),e.jsx(g,{name:"pan_no",placeholder:"Enter PAN Number",inputValidation:["pan"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(H,{className:"h-4 w-4 text-gray-400"}),"UAN Number"]}),e.jsx(g,{name:"uan_no",placeholder:"Enter UAN Number",inputValidation:["UAN"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(H,{className:"h-4 w-4 text-gray-400"}),"ESI Number"]}),e.jsx(g,{name:"esi_no",placeholder:"Enter ESI Number"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(H,{className:"h-4 w-4 text-gray-400"}),"Passport Number"]}),e.jsx(g,{name:"passport_no",placeholder:"Enter Passport Number",inputValidation:["Passport"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(H,{className:"h-4 w-4 text-gray-400"}),"Driving License"]}),e.jsx(g,{name:"driving_license_no",placeholder:"Enter Driving License Number",inputValidation:["drivingLicence"]})]})]})})]}),e.jsx("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-6 shadow-sm",children:e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"text-red-500",children:"*"})," Indicates required fields"]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(le,{isLoading:r.formState.isSubmitting,type:"submit",className:"flex h-11 items-center gap-2 rounded-lg bg-blue-600 px-8 font-semibold text-white shadow-md transition-all hover:bg-blue-700 hover:shadow-lg disabled:opacity-50",children:e.jsxs(e.Fragment,{children:[e.jsx(q,{className:"h-4 w-4"}),"Update Employee"]})}),e.jsx(le,{onClick:p,type:"button",className:"flex h-11 items-center gap-2 rounded-lg bg-green-600 px-8 font-semibold text-white shadow-md transition-all hover:bg-green-700 hover:shadow-lg disabled:opacity-50",children:e.jsxs(e.Fragment,{children:[e.jsx(os,{className:"h-4 w-4"}),"Approve"]})})]})]})})]}),e.jsx("div",{className:"mt-6 rounded-lg border border-blue-200 bg-blue-50 p-4",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Note:"})," All information provided will be stored securely and used only for official purposes. Please ensure accuracy of the details before submission."]})})]})}const As=me().shape({doc_name:x().required("Document Name is required"),doc_type_id:x().required("Document Type is required"),doc_path:ls().required("Document is required").test("fileRequired","Document is required",m=>m instanceof File||typeof m=="string"&&m!==""),description:x().required("Description is required")});function Es({title:m,id:d,edit:c,refetch:j,getDataById:i}){var t,p,E,C,S,O,L;const{validateFile:_,reset:n}=ms({maxFileSizeMB:5,strictMode:!0,autoValidate:!1}),l=U({}),h=bs({}),N=f.useRef(null),r=Qe(),{data:a}=Z({api:`${(t=M)==null?void 0:t.updateEmployeeById}/${d}`,key:"getDocumentById",options:{enabled:c}}),s=xe({defaultValues:{doc_type_id:((p=a==null?void 0:a.data)==null?void 0:p.doc_type_id)||"",doc_name:((E=a==null?void 0:a.data)==null?void 0:E.doc_name)||"",doc_path:((C=a==null?void 0:a.data)==null?void 0:C.doc_path)||"",description:((S=a==null?void 0:a.data)==null?void 0:S.description)||""},resolver:pe(As)});ne();const b=async y=>{var u;const o=(u=y.target.files)==null?void 0:u[0];if(o&&(o==null?void 0:o.type)==="application/pdf"){const A=await _(o);A.isValid?(w.success(A.message),n(),s.setValue("doc_path",o)):(w.error(A.message),y.target.value="",s.resetField("doc_path"))}else o&&s.setValue("doc_path",o)},v=async y=>{var o,u,A,D,V,k;try{const F=new FormData;if(F.append("emp_id",Q(String((u=(o=i==null?void 0:i.data)==null?void 0:o.data)==null?void 0:u.id))),F.append("doc_type_id",y.doc_type_id),F.append("doc_name",y.doc_name),F.append("description",y.description),F.append("file",y==null?void 0:y.doc_path),c&&y)console.log("Editing document with data:",y);else{const R=await l.mutateAsync({api:M.uploadEmployeeDocument,data:F});(A=R.data)!=null&&A.success?(w.success((D=R==null?void 0:R.data)==null?void 0:D.message),(V=N.current)==null||V.click()):w.error(((k=R.data)==null?void 0:k.message)||"Document not attached successfully"),s.reset({doc_name:"",description:"",doc_path:"",doc_type_id:""})}j()}catch(F){console.log("Submit Error:",F),w.error("An error occurred while processing your request")}};f.useEffect(()=>{var y,o,u,A;c&&a?s.reset({doc_type_id:(y=a==null?void 0:a.data)==null?void 0:y.doc_type_id,doc_name:(o=a==null?void 0:a.data)==null?void 0:o.doc_name,doc_path:(u=a==null?void 0:a.data)==null?void 0:u.doc_path,description:((A=a==null?void 0:a.data)==null?void 0:A.description)??""}):s.reset({doc_type_id:"",doc_name:"",doc_path:"",description:""})},[c,a]),f.useEffect(()=>{var y,o,u,A;(s==null?void 0:s.watch("doc_name"))==="Aadhaar Card"?s.setValue("description",((o=(y=i==null?void 0:i.data)==null?void 0:y.data)==null?void 0:o.aadhaar_no)||""):(s==null?void 0:s.watch("doc_name"))==="Pan Card"?s.setValue("description",((A=(u=i==null?void 0:i.data)==null?void 0:u.data)==null?void 0:A.pan_no)||""):s.setValue("description","")},[s==null?void 0:s.watch("doc_name")]);const P=s.formState.isSubmitting||h.isPending;return e.jsxs(De,{children:[e.jsx(Ve,{asChild:!0,children:e.jsxs(z,{type:"button",className:"w-full bg-blue-600 hover:bg-blue-700 sm:w-auto",children:[e.jsx(Re,{className:"mr-2 h-4 w-4"}),"Add New Document"]})}),e.jsx($e,{className:"sm:max-w-[425px]",children:e.jsxs(he,{methods:s,onSubmit:s.handleSubmit(v),children:[e.jsxs(Te,{children:[e.jsx(qe,{children:m}),e.jsx(Oe,{})]}),e.jsxs("div",{className:"mt-5 grid grid-cols-1 gap-x-2 gap-y-4",children:[e.jsx("div",{children:e.jsx(Me,{label:"Select Document",name:"doc_type_id",selectedText:"doc_name",data:((L=(O=r==null?void 0:r.data)==null?void 0:O.data)==null?void 0:L.map(y=>({label:String(y.doc_name),value:String(y.id)})))||[]})}),e.jsx("div",{children:e.jsx(fs,{label:"Upload Document",name:"doc_path",accept:".pdf,.doc,.docx,.png,.jpg,.jpeg",onChange:b,placeholder:"Upload your document"})}),e.jsx("div",{children:e.jsx(g,{label:`${(s==null?void 0:s.watch("doc_name"))||"Document"} No (Optional)`,name:"description",placeholder:`Enter ${(s==null?void 0:s.watch("doc_name"))||"Document"} No`,inputValidation:["removeDoubleSpace","removeSpecialCharacterExceptSpace"]})}),e.jsx(Ye,{})]}),e.jsxs(Le,{className:"mt-5 flex justify-between",children:[e.jsx(Ue,{asChild:!0,children:e.jsx(z,{variant:"outline",ref:N,children:"Cancel"})}),e.jsx(le,{type:"submit",isLoading:P,children:"Save changes"})]})]})})]})}function Ps({id:m,getDataById:d}){var s,b,v,P;const[c,j]=f.useState(""),[i,_]=f.useState(!1);ne();const n=Z({api:`${M.getEmployeeDocuments}`,key:"getEmployeeDocumentsId",value:[],options:{enabled:!0}}),l=U({}),h=async t=>{He("Are you sure?","Please confirm",async()=>{var p,E,C;try{const S=await l.mutateAsync({api:`${M.deleteEmployeeDocument}`,data:{id:Q(t.toString())}});(p=S==null?void 0:S.data)!=null&&p.success?(w.success(((E=S==null?void 0:S.data)==null?void 0:E.message)||"Deleted successfully"),n.refetch()):w.error(((C=S==null?void 0:S.data)==null?void 0:C.message)||"Failed to delete")}catch(S){w.error("Error deleting item"),console.error("Delete Error:",S)}})},N=t=>{var p;return((p=t.split(".").pop())==null?void 0:p.toLowerCase())||""},r=t=>{const p=N(t);return["jpg","jpeg","png","gif","webp","svg","bmp"].includes(p)},a=t=>N(t)==="pdf";return e.jsx("main",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100/50",children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900",children:"Employee Documents"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage and view all attached documents"})]}),e.jsx(Es,{title:i?"Edit Document":"Attach Document",id:m,edit:i,setEdit:_,refetch:n.refetch,getDataById:d})]}),n.isLoading?e.jsx("div",{className:"flex h-64 items-center justify-center",children:e.jsx(Ge,{})}):e.jsx(e.Fragment,{children:((b=(s=n==null?void 0:n.data)==null?void 0:s.data)==null?void 0:b.length)===0?e.jsx(X,{className:"border-2 border-dashed border-gray-300 bg-white",children:e.jsxs(te,{className:"flex flex-col items-center justify-center py-16",children:[e.jsx("div",{className:"rounded-full bg-gray-100 p-6",children:e.jsx(K,{className:"h-16 w-16 text-gray-400"})}),e.jsx("h3",{className:"mt-6 text-xl font-semibold text-gray-900",children:"No documents found"}),e.jsx("p",{className:"mt-2 text-center text-gray-600",children:c?"Try adjusting your search criteria":"Upload your first document to get started"})]})}):e.jsx("div",{className:"space-y-4",children:(P=(v=n==null?void 0:n.data)==null?void 0:v.data)==null?void 0:P.map(t=>e.jsx(X,{className:"group overflow-hidden border border-gray-200 bg-white transition-all duration-300 hover:shadow-xl",children:e.jsxs("div",{className:"flex flex-col md:flex-row",children:[e.jsxs("div",{className:"relative h-32 w-32 flex-shrink-0 overflow-hidden rounded-lg bg-gradient-to-br from-blue-50 to-indigo-50",children:[r(t==null?void 0:t.doc_path)?e.jsx("img",{src:t.doc_path,alt:(t==null?void 0:t.doc_name)||"Document",className:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-105",onError:p=>{var E,C;p.currentTarget.style.display="none",(C=(E=p.currentTarget.parentElement)==null?void 0:E.querySelector(".fallback-icon"))==null||C.classList.remove("hidden")}}):a(t==null?void 0:t.doc_path)?e.jsx("div",{className:"flex h-full items-center justify-center",children:e.jsx("div",{className:"rounded-lg bg-red-100 p-4",children:e.jsx(xs,{className:"h-12 w-12 text-red-600"})})}):e.jsx("div",{className:"flex h-full items-center justify-center",children:e.jsx("div",{className:"rounded-lg bg-blue-100 p-4",children:e.jsx(K,{className:"h-12 w-12 text-blue-600"})})}),e.jsx("div",{className:"fallback-icon flex hidden h-full items-center justify-center",children:e.jsx("div",{className:"rounded-lg bg-gray-100 p-4",children:e.jsx(K,{className:"h-12 w-12 text-gray-400"})})}),e.jsx("div",{className:"absolute bottom-1 left-1",children:e.jsx("span",{className:"rounded bg-white/95 px-2 py-0.5 text-xs font-bold uppercase text-gray-700 shadow backdrop-blur-sm",children:N(t==null?void 0:t.doc_path)||"file"})}),e.jsx("div",{className:"absolute inset-0 bg-black/70 opacity-0 transition-opacity duration-300 group-hover:opacity-100",children:e.jsxs("div",{className:"flex h-full items-center justify-center gap-2",children:[e.jsx("a",{href:t.doc_path,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 rounded bg-white px-2 py-1 text-xs text-blue-600 shadow transition-transform hover:scale-105",children:e.jsx(ws,{className:"h-3 w-3"})}),e.jsx("a",{href:t.doc_path,download:!0,className:"flex items-center gap-1 rounded bg-white px-2 py-1 text-xs text-green-600 shadow transition-transform hover:scale-105",children:e.jsx(ps,{className:"h-3 w-3"})})]})})]}),e.jsx("div",{className:"flex flex-1 items-center gap-4 p-4",children:e.jsx("div",{className:"min-w-0 flex-1",children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h3",{className:"truncate text-lg font-semibold text-gray-900",children:(t==null?void 0:t.doc_name)||"Document"}),e.jsx("p",{className:"mt-1 line-clamp-1 text-sm text-gray-600",children:(t==null?void 0:t.description)||"No description available"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx("span",{className:"whitespace-nowrap",children:oe(t==null?void 0:t.created_at).format("DD MMM YYYY")})]}),e.jsxs("a",{href:t.doc_path,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white transition-all hover:bg-blue-700",children:[e.jsx(hs,{className:"h-4 w-4"}),"Open"]}),e.jsx(z,{size:"sm",variant:"ghost",className:"h-9 w-9 rounded-lg p-0 text-red-500 transition-all hover:bg-red-50 hover:text-red-700",onClick:()=>h(t==null?void 0:t.id),children:e.jsx(We,{className:"h-4 w-4"})})]})]})})})]})},t==null?void 0:t.id))})})]})})}const Cs=me().shape({family_member_name:x().required("Family member name is required"),relationship:x().required("Relationship is required"),dob:x().required("Date of birth is required"),address:x().required("Address is required"),is_dependent:Se().default(!1),isNominee:Se().default(!1),nominee_percentage:ae().nullable().when("isNominee",{is:!0,then:m=>m.required("Nominee percentage is required when marked as nominee").min(0,"Percentage must be at least 0").max(100,"Percentage cannot exceed 100"),otherwise:m=>m.notRequired()})}),ks=[{label:"Spouse",value:"Spouse"},{label:"Son",value:"Son"},{label:"Daughter",value:"Daughter"},{label:"Father",value:"Father"},{label:"Mother",value:"Mother"},{label:"Brother",value:"Brother"},{label:"Sister",value:"Sister"},{label:"Other",value:"Other"}];function Fs({title:m="Add Family Member",id:d,edit:c,refetch:j,getDataById:i}){var s;const _=U({}),n=f.useRef(null);ne();const{data:l}=Z({api:`${(s=M)==null?void 0:s.getFamilyMemberById}`,key:"getFamilyMemberById",options:{enabled:!0}}),h=xe({defaultValues:{family_member_name:"",relationship:"",dob:"",address:"",is_dependent:!1,isNominee:!1,nominee_percentage:null},resolver:pe(Cs)}),N=h.watch("isNominee"),r=async b=>{var v,P,t,p,E,C,S,O,L,y;try{const o={emp_id:Q(String((P=(v=i==null?void 0:i.data)==null?void 0:v.data)==null?void 0:P.id)),family_member_name:b.family_member_name,relationship:b.relationship,dob:b.dob,address:b.address,is_dependent:b.is_dependent||!1,isNominee:b.isNominee||!1,nominee_percentage:b.isNominee?b.nominee_percentage:null};if(c&&d){const u=await _.mutateAsync({api:`${M.updateFamilyMemberById}/${d}`,data:o});(t=u.data)!=null&&t.success?(w.success(((p=u==null?void 0:u.data)==null?void 0:p.message)||"Family member updated successfully"),(E=n.current)==null||E.click()):w.error(((C=u.data)==null?void 0:C.message)||"Failed to update family member")}else{const u=await _.mutateAsync({api:M.createFamily,data:o});(S=u.data)!=null&&S.success?(w.success(((O=u==null?void 0:u.data)==null?void 0:O.message)||"Family member added successfully"),(L=n.current)==null||L.click()):w.error(((y=u.data)==null?void 0:y.message)||"Failed to add family member")}h.reset(),j==null||j()}catch(o){console.error("Submit Error:",o),w.error("An error occurred while processing your request")}};f.useEffect(()=>{var b,v,P,t,p,E,C;c&&l?h.reset({family_member_name:((b=l==null?void 0:l.data)==null?void 0:b.family_member_name)||"",relationship:((v=l==null?void 0:l.data)==null?void 0:v.relationship)||"",dob:((P=l==null?void 0:l.data)==null?void 0:P.dob)||"",address:((t=l==null?void 0:l.data)==null?void 0:t.address)||"",is_dependent:((p=l==null?void 0:l.data)==null?void 0:p.is_dependent)||!1,isNominee:((E=l==null?void 0:l.data)==null?void 0:E.isNominee)||!1,nominee_percentage:((C=l==null?void 0:l.data)==null?void 0:C.nominee_percentage)||null}):h.reset({family_member_name:"",relationship:"",dob:"",address:"",is_dependent:!1,isNominee:!1,nominee_percentage:null})},[c,l]);const a=h.formState.isSubmitting||_.isPending;return e.jsxs(De,{children:[e.jsx(Ve,{asChild:!0,children:e.jsxs(z,{type:"button",className:"w-full bg-blue-600 hover:bg-blue-700 sm:w-auto",children:[e.jsx(Re,{className:"mr-2 h-4 w-4"}),"Add Family Member"]})}),e.jsx($e,{className:"sm:max-w-[500px]",children:e.jsxs(he,{methods:h,onSubmit:h.handleSubmit(r),children:[e.jsxs(Te,{children:[e.jsx(qe,{children:m}),e.jsx(Oe,{children:c?"Update family member information":"Add a new family member"})]}),e.jsxs("div",{className:"mt-5 grid grid-cols-1 gap-x-2 gap-y-4",children:[e.jsx("div",{children:e.jsx(g,{label:"Family Member Name",name:"family_member_name",placeholder:"Enter family member name",inputValidation:["removeDoubleSpace","removeSpecialCharacterExceptSpace"]})}),e.jsx("div",{children:e.jsx(Me,{label:"Relationship",name:"relationship",selectedText:"relationship",data:ks})}),e.jsx("div",{children:e.jsx(g,{label:"Date of Birth",name:"dob",type:"date",placeholder:"Select date of birth"})}),e.jsx("div",{children:e.jsx(g,{label:"Address",name:"address",placeholder:"Enter address",inputValidation:["removeDoubleSpace"]})}),e.jsx(Ye,{}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(Ee,{name:"is_dependent",label:"Mark as Dependent"}),e.jsx(Ee,{name:"isNominee",label:"Mark as Nominee"}),N&&e.jsx("div",{className:"ml-6",children:e.jsx(g,{label:"Nominee Percentage",name:"nominee_percentage",placeholder:"Enter percentage (0-100)",inputValidation:["number"]})})]})]}),e.jsxs(Le,{className:"mt-5 flex justify-between",children:[e.jsx(Ue,{asChild:!0,children:e.jsx(z,{variant:"outline",ref:n,children:"Cancel"})}),e.jsx(le,{type:"submit",isLoading:a,children:c?"Update":"Save"})]})]})})]})}function Ms({id:m,getDataById:d}){var h,N,r,a;f.useState("");const[c,j]=f.useState(!1),i=Z({api:`${M.getAllFamilyDetail}`,key:"getEmployeeFamilyDetails",value:[m],options:{enabled:!0}}),_=U({}),n=async s=>{He("Are you sure?","Please confirm",async()=>{var b,v,P;try{const t=await _.mutateAsync({api:`${M.deleteFamilyMember}`,data:{id:Q(s.toString())}});(b=t==null?void 0:t.data)!=null&&b.success?(w.success(((v=t==null?void 0:t.data)==null?void 0:v.message)||"Deleted successfully"),i.refetch()):w.error(((P=t==null?void 0:t.data)==null?void 0:P.message)||"Failed to delete")}catch(t){w.error("Error deleting family member"),console.error("Delete Error:",t)}})},l=s=>({Spouse:"bg-purple-100 text-purple-700",Father:"bg-blue-100 text-blue-700",Mother:"bg-pink-100 text-pink-700",Son:"bg-green-100 text-green-700",Daughter:"bg-yellow-100 text-yellow-700",Other:"bg-gray-100 text-gray-700"})[s]||"bg-gray-100 text-gray-700";return e.jsx("main",{className:"min-h-screen bg-gray-50/50",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight text-gray-900",children:"Employee Family Members"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage family member details and nominees"})]}),e.jsx(Fs,{title:c?"Edit Family Member":"Add Family Member",id:m,edit:c,setEdit:j,refetch:i.refetch,getDataById:d})]}),e.jsx("div",{className:"grid grid-cols-1 gap-6",children:i.isLoading?e.jsx(X,{children:e.jsx(te,{className:"flex h-32 items-center justify-center",children:e.jsx(Ge,{})})}):e.jsxs(e.Fragment,{children:[(N=(h=i==null?void 0:i.data)==null?void 0:h.data)==null?void 0:N.map(s=>e.jsxs(X,{className:"border border-gray-200 transition-all duration-200 hover:shadow-lg",children:[e.jsx(ys,{className:"pb-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Y,{className:"h-6 w-6 text-blue-500"}),e.jsxs("div",{children:[e.jsx(vs,{className:"text-lg font-semibold text-gray-900",children:s==null?void 0:s.family_member_name}),e.jsx("div",{className:"mt-2 flex items-center gap-2",children:e.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-medium ${l(s==null?void 0:s.relationship)}`,children:s==null?void 0:s.relationship})})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(z,{size:"sm",variant:"ghost",className:"flex h-7 w-7 items-center p-0 text-red-500 hover:bg-red-50 hover:text-red-700",onClick:()=>n(s==null?void 0:s.id),children:e.jsx(We,{className:"h-3.5 w-3.5"})})})]})}),e.jsxs(te,{className:"space-y-4 pt-0",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"rounded-lg border bg-gray-50 p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:"Date of Birth:"})]}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:oe(s==null?void 0:s.dob).format("DD-MM-YYYY")})]}),e.jsxs("div",{className:"rounded-lg border bg-gray-50 p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[e.jsx(T,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:"Address:"})]}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:s==null?void 0:s.address})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 rounded-lg border bg-white px-3 py-2",children:[s!=null&&s.is_dependent?e.jsx(re,{className:"h-4 w-4 text-green-500"}):e.jsx(Pe,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Dependent"})]}),e.jsx("div",{className:"flex items-center gap-2 rounded-lg border bg-white px-3 py-2",children:s!=null&&s.is_nominee?e.jsxs(e.Fragment,{children:[e.jsx(re,{className:"h-4 w-4 text-green-500"}),e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Nominee (",s==null?void 0:s.nominee_percentage,"%)"]})]}):e.jsxs(e.Fragment,{children:[e.jsx(Pe,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Not a Nominee"})]})})]}),e.jsx("div",{className:"border-t pt-3",children:e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[e.jsx(B,{className:"h-3 w-3"}),e.jsxs("span",{children:["Added on"," ",oe(s==null?void 0:s.created_at).format("DD-MM-YYYY")]})]})})]})]},s==null?void 0:s.id)),((a=(r=i==null?void 0:i.data)==null?void 0:r.data)==null?void 0:a.length)===0&&e.jsx(X,{className:"py-12 text-center",children:e.jsxs(te,{children:[e.jsx(Y,{className:"mx-auto mb-4 h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mb-2 text-lg font-medium text-gray-900",children:"No family members found"}),e.jsx("p",{className:"mb-4 text-gray-600",children:"Add family member details to get started"}),e.jsx(z,{className:"bg-blue-600 hover:bg-blue-700",children:"Add First Family Member"})]})})]})})]})})}function Ds({userId:m}){const d=Ze(m);U({});const[c,j]=f.useState([]),[i,_]=f.useState({}),[n,l]=f.useState("");console.log("permittedRoleAuthData",d),f.useEffect(()=>{var s;d!=null&&d.data&&j(((s=d.data)==null?void 0:s.data)||[])},[d]);const h=c.filter(s=>s.role_name.toLowerCase().includes(n.toLowerCase())),N=c.filter(s=>s.permission_status).length,r=c.length,a=c.some(s=>s.permission_status);return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:e.jsxs("div",{children:[e.jsx("div",{className:"mb-6 rounded-lg bg-white shadow-sm",children:e.jsxs("div",{children:[e.jsx("div",{className:"mb-4 flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-800",children:"Workflow Role Permissions"}),e.jsxs("p",{className:"text-sm text-slate-500",children:[N," of ",r," roles enabled"]})]})}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search roles...",value:n,onChange:s=>l(s.target.value),className:"w-full rounded-lg border border-slate-300 px-4 py-2 pl-10 focus:border-transparent focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("svg",{className:"absolute left-3 top-2.5 h-5 w-5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]})}),e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-6",children:h.map(s=>e.jsx("div",{className:`rounded-lg border-2 bg-white p-4 shadow-sm transition-all duration-200 hover:shadow-md ${s.permission_status?"border-blue-500 bg-blue-50/30":"border-slate-200"}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsxs("span",{className:"rounded bg-slate-100 px-2 py-1 text-xs font-semibold text-slate-500",children:["ID: ",s.id]}),s.permission_status&&e.jsx("span",{className:"rounded bg-blue-100 px-2 py-1 text-xs font-semibold text-blue-600",children:"Active"})]}),e.jsx("h3",{className:"text-sm font-semibold leading-tight text-slate-800",children:s.role_name})]}),e.jsxs("label",{className:"relative ml-3 inline-flex cursor-pointer items-center",children:[e.jsx("input",{type:"checkbox",checked:s.permission_status,disabled:!0,className:"peer sr-only"}),e.jsx("div",{className:`peer h-6 w-11 rounded-full bg-slate-300 transition-all peer-checked:bg-blue-600 peer-focus:ring-4 peer-focus:ring-blue-300 ${i[s.id]||!s.permission_status&&a?"cursor-not-allowed opacity-50":""}`,children:e.jsx("div",{className:`absolute left-0.5 top-0.5 h-5 w-5 rounded-full bg-white shadow transition-transform ${s.permission_status?"translate-x-5":"translate-x-0"} ${i[s.id]?"animate-pulse":""}`,children:i[s.id]&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"h-3 w-3 animate-spin rounded-full border-2 border-blue-600 border-t-transparent"})})})})]})]})},s.id))}),h.length===0&&e.jsx("div",{className:"rounded-lg bg-white p-12 text-center shadow-sm",children:e.jsxs("div",{className:"text-lg text-slate-400",children:['No roles found matching "',n,'"']})})]})})}function Vs({userId:m}){const d=es(m);U({});const[c,j]=f.useState([]),[i,_]=f.useState({}),[n,l]=f.useState("");f.useEffect(()=>{var a;d!=null&&d.data&&j(((a=d.data)==null?void 0:a.data)||[])},[d]);const h=c.filter(a=>a.menu_role_name.toLowerCase().includes(n.toLowerCase())),N=c.filter(a=>a.permission_status).length,r=c.length;return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:e.jsxs("div",{children:[e.jsx("div",{className:"mb-6 rounded-lg bg-white shadow-sm",children:e.jsxs("div",{children:[e.jsx("div",{className:"mb-4 flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-800",children:"Permitted Roles"}),e.jsxs("p",{className:"text-sm text-slate-500",children:[N," of ",r," roles enabled"]})]})}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search roles...",value:n,onChange:a=>l(a.target.value),className:"w-full rounded-lg border border-slate-300 px-4 py-2 pl-10 focus:border-transparent focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("svg",{className:"absolute left-3 top-2.5 h-5 w-5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]})}),e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-6",children:h.map(a=>e.jsx("div",{className:`rounded-lg border-2 bg-white p-4 shadow-sm transition-all duration-200 hover:shadow-md ${a.permission_status?"border-blue-500 bg-blue-50/30":"border-slate-200"}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsxs("span",{className:"rounded bg-slate-100 px-2 py-1 text-xs font-semibold text-slate-500",children:["ID: ",a.id]}),a.permission_status&&e.jsx("span",{className:"rounded bg-blue-100 px-2 py-1 text-xs font-semibold text-blue-600",children:"Active"})]}),e.jsx("h3",{className:"text-sm font-semibold leading-tight text-slate-800",children:a.menu_role_name})]}),e.jsxs("label",{className:"relative ml-3 inline-flex cursor-pointer items-center",children:[e.jsx("input",{type:"checkbox",checked:a.permission_status,disabled:!0,className:"peer sr-only"}),e.jsx("div",{className:`peer h-6 w-11 rounded-full bg-slate-300 transition-all peer-checked:bg-blue-600 peer-focus:ring-4 peer-focus:ring-blue-300 ${i[a.id]?"cursor-not-allowed opacity-50":""}`,children:e.jsx("div",{className:`absolute left-0.5 top-0.5 h-5 w-5 rounded-full bg-white shadow transition-transform ${a.permission_status?"translate-x-5":"translate-x-0"} ${i[a.id]?"animate-pulse":""}`,children:i[a.id]&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"h-3 w-3 animate-spin rounded-full border-2 border-blue-600 border-t-transparent"})})})})]})]})},a.id))}),h.length===0&&e.jsx("div",{className:"rounded-lg bg-white p-12 text-center shadow-sm",children:e.jsxs("div",{className:"text-lg text-slate-400",children:['No roles found matching "',n,'"']})})]})})}function Rs({userId:m}){const d=ss(m);U({});const[c,j]=f.useState([]),[i,_]=f.useState({}),[n,l]=f.useState("");f.useEffect(()=>{var a;d!=null&&d.data&&j(((a=d.data)==null?void 0:a.data)||[])},[d]);const h=c.filter(a=>a.ward_name.toString().includes(n)),N=c.filter(a=>a.permission_status).length,r=c.length;return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:e.jsxs("div",{children:[e.jsx("div",{className:"mb-6 rounded-lg bg-white shadow-sm",children:e.jsxs("div",{children:[e.jsx("div",{className:"mb-4 flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-800",children:"Permitted Wards"}),e.jsxs("p",{className:"text-sm text-slate-500",children:[N," of ",r," wards enabled"]})]})}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search wards...",value:n,onChange:a=>l(a.target.value),className:"w-full rounded-lg border border-slate-300 px-4 py-2 pl-10 focus:border-transparent focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("svg",{className:"absolute left-3 top-2.5 h-5 w-5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]})}),e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-6",children:h.map(a=>e.jsx("div",{className:`rounded-lg border-2 bg-white p-4 shadow-sm transition-all duration-200 hover:shadow-md ${a.permission_status?"border-blue-500 bg-blue-50/30":"border-slate-200"}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsxs("span",{className:"rounded bg-slate-100 px-2 py-1 text-xs font-semibold text-slate-500",children:["ID: ",a.id]}),a.permission_status&&e.jsx("span",{className:"rounded bg-blue-100 px-2 py-1 text-xs font-semibold text-blue-600",children:"Active"})]}),e.jsxs("h3",{className:"text-sm font-semibold leading-tight text-slate-800",children:["Ward ",a.ward_name]})]}),e.jsxs("label",{className:"relative ml-3 inline-flex cursor-pointer items-center",children:[e.jsx("input",{type:"checkbox",checked:a.permission_status,disabled:!0,className:"peer sr-only"}),e.jsx("div",{className:`peer h-6 w-11 rounded-full bg-slate-300 transition-all peer-checked:bg-blue-600 peer-focus:ring-4 peer-focus:ring-blue-300 ${i[a.id]?"cursor-not-allowed opacity-50":""}`,children:e.jsx("div",{className:`absolute left-0.5 top-0.5 h-5 w-5 rounded-full bg-white shadow transition-transform ${a.permission_status?"translate-x-5":"translate-x-0"} ${i[a.id]?"animate-pulse":""}`,children:i[a.id]&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"h-3 w-3 animate-spin rounded-full border-2 border-blue-600 border-t-transparent"})})})})]})]})},a.id))}),h.length===0&&e.jsx("div",{className:"rounded-lg bg-white p-12 text-center shadow-sm",children:e.jsxs("div",{className:"text-lg text-slate-400",children:['No wards found matching "',n,'"']})})]})})}function $s({getDataById:m}){var N,r,a,s,b,v,P,t;f.useState(""),f.useState(!1);const[d,c]=f.useState(""),[j,i]=f.useState("workflow"),_=as(Q(String((r=(N=m==null?void 0:m.data)==null?void 0:N.data)==null?void 0:r.id))),n=js({api:(a=de)==null?void 0:a.getUsrByIdAuth,config:{id:d},value:[d],options:{enabled:!!d}}),l=(v=(b=(s=n==null?void 0:n.data)==null?void 0:s.data)==null?void 0:b.data)==null?void 0:v[0],h=[{id:"workflow",label:"Workflow Permission",icon:us},{id:"permittedRoles",label:" Permitted Roles",icon:gs},{id:"ward",label:"Ward Role",icon:ze}];return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:e.jsxs("div",{children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between py-2",children:[e.jsx("div",{children:e.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Module Access Management"})}),e.jsx("div",{className:"flex justify-end gap-4",children:e.jsx("div",{children:e.jsxs(rs,{onValueChange:p=>c(p),value:d,children:[e.jsx(ns,{className:"h-9 w-full border-2 border-slate-300 bg-slate-50 hover:border-blue-400 focus:ring-2 focus:ring-blue-500 md:w-52",children:e.jsx(is,{placeholder:"Select Module Access"})}),e.jsx(ds,{children:(t=(P=_==null?void 0:_.data)==null?void 0:P.data)==null?void 0:t.map(p=>e.jsx(cs,{value:p.module_access_id,className:"cursor-pointer hover:bg-blue-50",children:p.module_user_type},p.module_access_id))})]})})})]}),l?e.jsxs("div",{children:[e.jsx("div",{className:"mb-6 overflow-hidden rounded-xl border border-slate-200 bg-white shadow-lg",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"flex items-center space-x-3 rounded-lg border border-slate-200 bg-slate-50 p-4",children:[e.jsx("div",{className:"flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-lg bg-blue-100",children:e.jsx(q,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-xs font-semibold text-slate-500",children:"User ID"}),e.jsx("p",{className:"truncate text-sm font-medium text-slate-800",children:l.id})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 rounded-lg border border-slate-200 bg-slate-50 p-4",children:[e.jsx("div",{className:"flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-lg bg-green-100",children:e.jsx(q,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-xs font-semibold text-slate-500",children:"Username"}),e.jsx("p",{className:"truncate text-sm font-medium text-slate-800",children:l.user_name})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 rounded-lg border border-slate-200 bg-slate-50 p-4",children:[e.jsx("div",{className:"flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-lg bg-purple-100",children:e.jsx(q,{className:"h-5 w-5 text-purple-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-xs font-semibold text-slate-500",children:"Full Name"}),e.jsx("p",{className:"truncate text-sm font-medium text-slate-800",children:l.name})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 rounded-lg border border-slate-200 bg-slate-50 p-4",children:[e.jsx("div",{className:"flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-lg bg-orange-100",children:e.jsx(Be,{className:"h-5 w-5 text-orange-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-xs font-semibold text-slate-500",children:"Email"}),e.jsx("p",{className:"truncate text-sm font-medium text-slate-800",children:l.email})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 rounded-lg border border-slate-200 bg-slate-50 p-4",children:[e.jsx("div",{className:"flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-lg bg-cyan-100",children:e.jsx(ce,{className:"h-5 w-5 text-cyan-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-xs font-semibold text-slate-500",children:"Mobile"}),e.jsx("p",{className:"truncate text-sm font-medium text-slate-800",children:l.mobile})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 rounded-lg border border-slate-200 bg-slate-50 p-4",children:[e.jsx("div",{className:"flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-lg bg-indigo-100",children:e.jsx(ie,{className:"h-5 w-5 text-indigo-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-xs font-semibold text-slate-500",children:"User Type"}),e.jsx("span",{className:"inline-block rounded-full bg-indigo-100 px-3 py-1 text-xs font-medium text-indigo-700",children:l.user_type})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 rounded-lg border border-slate-200 bg-slate-50 p-4",children:[e.jsx("div",{className:"flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-lg bg-emerald-100",children:e.jsx(ie,{className:"h-5 w-5 text-emerald-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-xs font-semibold text-slate-500",children:"Status"}),e.jsx("span",{className:`inline-block rounded-full px-3 py-1 text-xs font-medium ${l.suspended?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:l.suspended?"Suspended":"Active"})]})]}),l.photo&&l.photo!=="/"&&e.jsxs("div",{className:"flex items-center space-x-3 rounded-lg border border-slate-200 bg-slate-50 p-4",children:[e.jsx("div",{className:"flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-lg bg-pink-100",children:e.jsx(q,{className:"h-5 w-5 text-pink-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-xs font-semibold text-slate-500",children:"Photo"}),e.jsx("img",{src:l.photo,alt:"User",className:"mt-1 h-12 w-12 rounded-lg border-2 border-slate-200 object-cover"})]})]})]})})}),e.jsxs("div",{className:"overflow-hidden rounded-xl border border-slate-200 bg-white shadow-lg",children:[e.jsx("div",{className:"border-b border-slate-200 bg-slate-50",children:e.jsx("div",{className:"flex overflow-x-auto",children:h.map(p=>{const E=p.icon;return e.jsxs("button",{onClick:()=>i(p.id),className:`flex items-center gap-2 whitespace-nowrap px-6 py-4 text-sm font-medium transition-all ${j===p.id?"border-b-2 border-blue-600 bg-white text-blue-600":"text-slate-600 hover:bg-slate-100 hover:text-slate-900"}`,children:[e.jsx(E,{className:"h-4 w-4"}),p.label]},p.id)})})}),e.jsxs("div",{className:"p-6",children:[j==="workflow"&&e.jsx(Ds,{userId:d}),j==="permittedRoles"&&e.jsx(Vs,{userId:d}),j==="ward"&&e.jsx(Rs,{userId:d})]})]})]}):e.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-12 text-center shadow-lg",children:[e.jsx("div",{className:"mx-auto mb-4 flex h-20 w-20 items-center justify-center rounded-full bg-slate-100",children:e.jsx(ie,{className:"h-10 w-10 text-slate-400"})}),e.jsx("h3",{className:"mb-2 text-lg font-semibold text-slate-800",children:"No Module Selected"}),e.jsx("p",{className:"text-slate-600",children:"Please select a module access type to view user details"})]})]})})}const Qs=()=>{var l,h,N,r,a;const[m,d]=f.useState("basic"),{id:c}=ne(),j={basicSalary:"45,000",hra:"18,000",da:"13,500",grossSalary:"76,500",pf:"5,400",tax:"7,650",netSalary:"63,450"},i=[{month:"November 2024",present:20,absent:0,leave:2,total:22},{month:"October 2024",present:23,absent:1,leave:1,total:25},{month:"September 2024",present:22,absent:0,leave:0,total:22},{month:"August 2024",present:24,absent:0,leave:1,total:25}],_=[{id:"basic",label:"Basic Details",icon:q},{id:"document",label:"Attached Documents",icon:K},{id:"family",label:"Family Details",icon:Y},{id:"salary",label:"Salary Details",icon:Fe},{id:"attendance",label:"Attendance",icon:B},{id:"moduleAccess",label:"Module Access",icon:re}],n=Z({api:`${(l=M)==null?void 0:l.getEmployeeById}`,key:"getEmployeeById",options:{enabled:!0}});return e.jsx(ts,{title:"Employee Management",children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-gray-100",children:e.jsx("div",{className:" py-4",children:e.jsxs("div",{className:"overflow-hidden rounded-lg bg-white shadow-xl",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-4 text-white",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-white",children:e.jsx(q,{size:32,className:"text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold",children:(N=(h=n==null?void 0:n.data)==null?void 0:h.data)==null?void 0:N.emp_name}),e.jsxs("p",{className:"text-blue-100",children:["ID: ",(a=(r=n==null?void 0:n.data)==null?void 0:r.data)==null?void 0:a.emp_code]})]})]})}),e.jsx("div",{className:"border-b border-gray-200 bg-gray-50",children:e.jsx("div",{className:"flex overflow-x-auto",children:_.map(s=>{const b=s.icon;return e.jsxs("button",{onClick:()=>d(s.id),className:`flex items-center gap-2 whitespace-nowrap px-6 py-4 font-semibold transition-all ${m===s.id?"border-b-4 border-blue-700 bg-white text-blue-700":"text-gray-600 hover:bg-gray-100 hover:text-blue-600"}`,children:[e.jsx(b,{size:20}),s.label]},s.id)})})}),e.jsxs("div",{className:"p-8",children:[m==="basic"&&e.jsx(Ss,{id:c,getDataById:n}),m==="document"&&e.jsx(Ps,{id:c,getDataById:n}),m==="family"&&e.jsx(Ms,{id:c,getDataById:n}),m==="salary"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[e.jsx(Fe,{className:"text-blue-600",size:28}),e.jsx("h3",{className:"text-2xl font-semibold text-gray-800",children:"Salary Breakdown"})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"rounded-lg border-2 border-green-200 bg-green-50 p-6",children:[e.jsxs("h4",{className:"mb-4 flex items-center gap-2 text-xl font-semibold text-green-800",children:[e.jsx(re,{size:24}),"Earnings"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-green-200 py-2",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Basic Salary"}),e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:j.basicSalary})]}),e.jsxs("div",{className:"flex items-center justify-between border-b border-green-200 py-2",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"House Rent Allowance (HRA)"}),e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:j.hra})]}),e.jsxs("div",{className:"flex items-center justify-between border-b border-green-200 py-2",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Dearness Allowance (DA)"}),e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:j.da})]}),e.jsxs("div",{className:"mt-4 flex items-center justify-between rounded-lg bg-green-100 px-3 py-3",children:[e.jsx("span",{className:"font-bold text-green-900",children:"Gross Salary"}),e.jsx("span",{className:"text-xl font-bold text-green-900",children:j.grossSalary})]})]})]}),e.jsxs("div",{className:"rounded-lg border-2 border-red-200 bg-red-50 p-6",children:[e.jsxs("h4",{className:"mb-4 flex items-center gap-2 text-xl font-semibold text-red-800",children:[e.jsx(K,{size:24}),"Deductions"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-red-200 py-2",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Provident Fund (PF)"}),e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:j.pf})]}),e.jsxs("div",{className:"flex items-center justify-between border-b border-red-200 py-2",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Income Tax (TDS)"}),e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:j.tax})]}),e.jsx("div",{className:"py-3"}),e.jsxs("div",{className:"mt-4 flex items-center justify-between rounded-lg bg-blue-100 px-3 py-3",children:[e.jsx("span",{className:"font-bold text-blue-900",children:"Net Salary"}),e.jsx("span",{className:"text-xl font-bold text-blue-900",children:j.netSalary})]})]})]})]}),e.jsx("div",{className:"mt-6 rounded-lg border border-yellow-300 bg-yellow-50 p-4",children:e.jsxs("p",{className:"text-sm text-yellow-900",children:[e.jsx("strong",{children:"Note:"})," Salary details shown are for the current month. For historical records, please contact the Accounts Department."]})})]}),m==="attendance"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[e.jsx(B,{className:"text-blue-600",size:28}),e.jsx("h3",{className:"text-2xl font-semibold text-gray-800",children:"Attendance Records"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-blue-600 text-white",children:[e.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Month"}),e.jsx("th",{className:"px-6 py-4 text-center font-semibold",children:"Present"}),e.jsx("th",{className:"px-6 py-4 text-center font-semibold",children:"Absent"}),e.jsx("th",{className:"px-6 py-4 text-center font-semibold",children:"Leave"}),e.jsx("th",{className:"px-6 py-4 text-center font-semibold",children:"Total Days"}),e.jsx("th",{className:"px-6 py-4 text-center font-semibold",children:"Attendance %"})]})}),e.jsx("tbody",{children:i.map((s,b)=>{const v=(s.present/s.total*100).toFixed(1);return e.jsxs("tr",{className:b%2===0?"bg-gray-50":"bg-white",children:[e.jsx("td",{className:"border-b border-gray-200 px-6 py-4 font-medium",children:s.month}),e.jsx("td",{className:"border-b border-gray-200 px-6 py-4 text-center",children:e.jsx("span",{className:"rounded-full bg-green-100 px-3 py-1 font-semibold text-green-800",children:s.present})}),e.jsx("td",{className:"border-b border-gray-200 px-6 py-4 text-center",children:e.jsx("span",{className:"rounded-full bg-red-100 px-3 py-1 font-semibold text-red-800",children:s.absent})}),e.jsx("td",{className:"border-b border-gray-200 px-6 py-4 text-center",children:e.jsx("span",{className:"rounded-full bg-yellow-100 px-3 py-1 font-semibold text-yellow-800",children:s.leave})}),e.jsx("td",{className:"border-b border-gray-200 px-6 py-4 text-center font-semibold",children:s.total}),e.jsx("td",{className:"border-b border-gray-200 px-6 py-4 text-center",children:e.jsxs("span",{className:`rounded-full px-3 py-1 font-semibold ${parseFloat(v)>=90?"bg-green-100 text-green-800":parseFloat(v)>=75?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[v,"%"]})})]},b)})})]})}),e.jsxs("div",{className:"mt-6 grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4 text-center",children:[e.jsx("p",{className:"mb-1 text-sm font-semibold text-green-600",children:"Average Attendance"}),e.jsx("p",{className:"text-3xl font-bold text-green-700",children:"94.6%"})]}),e.jsxs("div",{className:"rounded-lg border border-blue-200 bg-blue-50 p-4 text-center",children:[e.jsx("p",{className:"mb-1 text-sm font-semibold text-blue-600",children:"Total Present Days"}),e.jsx("p",{className:"text-3xl font-bold text-blue-700",children:"89"})]}),e.jsxs("div",{className:"rounded-lg border border-yellow-200 bg-yellow-50 p-4 text-center",children:[e.jsx("p",{className:"mb-1 text-sm font-semibold text-yellow-600",children:"Total Leave Taken"}),e.jsx("p",{className:"text-3xl font-bold text-yellow-700",children:"4"})]})]})]}),m==="moduleAccess"&&e.jsx($s,{getDataById:n})]})]})})})})};export{Qs as default};
