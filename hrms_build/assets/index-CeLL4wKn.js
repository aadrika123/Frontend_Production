import{u as e,r as s,h as a,j as l,B as t}from"./index-CaGgFSeq.js";import{P as n}from"./index-_Ebnz7ZO.js";import{C as i,a as c,d as r,b as d,c as x}from"./card-DpoqoWLt.js";import{b as o}from"./useCustomQuery-kAcgaiYY.js";import{S as m}from"./Spinner-qexXCl2s.js";import{I as j}from"./input-D-UmUPn3.js";import{S as h,a as u,b as p,c as f,d as N}from"./select-CIf9vlQt.js";import{B as g}from"./badge-BIrBucNW.js";import{S as v}from"./separator-BjkNEWW3.js";import{F as y}from"./file-text--YAkbBG1.js";import{S as b}from"./search-De7hYMPA.js";import{C as S}from"./calculator-CtfjqHzz.js";import{T as _}from"./triangle-alert-BFJgbSmn.js";import{C as w}from"./circle-check-big-BWcM736c.js";import"./check-DrWmecxK.js";function T(){var n,T,L,D,F,E,C,I,Y,$,P,k,A,R,V,B,G,H,O,Q,U,Z;const{user:q}=e(),[z,J]=s.useState(""),[K,M]=s.useState(""),[W,X]=s.useState(""),ee=(()=>{const e=[],s=(new Date).getFullYear();for(let a=0;a<6;a++){const l=s-a;e.push(`${l}-${(l+1).toString().slice(-2)}`)}return e})(),se=o({api:`${a.getTdsSummary}?emp_id=${K}&financial_year=${W}&ulb_id=${null==q?void 0:q.ulbId}`,key:"getTdsSummary",value:[K,W,null==q?void 0:q.ulbId],options:{enabled:!!K&&!!W&&!!(null==q?void 0:q.ulbId)}}),ae=null==(n=null==se?void 0:se.data)?void 0:n.data;return l.jsxs("main",{className:"grid items-start gap-4",children:[l.jsxs(i,{children:[l.jsxs(c,{children:[l.jsxs(r,{className:"flex items-center gap-2",children:[l.jsx(y,{className:"h-5 w-5"}),"Search TDS Summary"]}),l.jsx(d,{children:"Enter Employee ID and Financial Year to view TDS details"})]}),l.jsx(x,{children:l.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row",children:[l.jsx(j,{placeholder:"Enter Employee ID",value:z,onChange:e=>J(e.target.value),className:"w-48"}),l.jsxs(h,{value:W,onValueChange:X,children:[l.jsx(u,{className:"w-48",children:l.jsx(p,{placeholder:"Select Financial Year"})}),l.jsx(f,{children:ee.map(e=>l.jsxs(N,{value:e,children:["FY ",e]},e))})]}),l.jsxs(t,{onClick:()=>{z&&W&&M(z)},variant:"outline",children:[l.jsx(b,{className:"mr-2 h-4 w-4"}),"Search"]})]})})]}),K&&W&&(null==se?void 0:se.isLoading)&&l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsx(m,{})}),ae&&l.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[l.jsxs(i,{children:[l.jsxs(c,{className:"bg-gradient-to-r from-green-50 to-emerald-50",children:[l.jsx(r,{className:"text-green-700",children:"Earnings Summary"}),l.jsxs(d,{children:["Total earnings for FY ",W]})]}),l.jsx(x,{className:"pt-4",children:l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-600",children:"Gross Salary"}),l.jsxs("span",{className:"font-semibold",children:["₹",null==(T=ae.total_gross_salary)?void 0:T.toLocaleString()]})]}),l.jsx(v,{}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-slate-500",children:"Basic Pay"}),l.jsxs("span",{children:["₹",null==(L=ae.total_basic_pay)?void 0:L.toLocaleString()]})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-slate-500",children:"DA"}),l.jsxs("span",{children:["₹",null==(D=ae.total_da)?void 0:D.toLocaleString()]})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-slate-500",children:"HRA"}),l.jsxs("span",{children:["₹",null==(F=ae.total_hra)?void 0:F.toLocaleString()]})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-slate-500",children:"Other Allowances"}),l.jsxs("span",{children:["₹",null==(E=ae.total_other_allowances)?void 0:E.toLocaleString()]})]}),l.jsx(v,{}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-600",children:"Net Salary"}),l.jsxs("span",{className:"font-bold text-green-600",children:["₹",null==(C=ae.total_net_salary)?void 0:C.toLocaleString()]})]})]})})]}),l.jsxs(i,{children:[l.jsxs(c,{className:"bg-gradient-to-r from-red-50 to-orange-50",children:[l.jsx(r,{className:"text-red-700",children:"Deductions Summary"}),l.jsxs(d,{children:["Total deductions for FY ",W]})]}),l.jsx(x,{className:"pt-4",children:l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-600",children:"Total Deductions"}),l.jsxs("span",{className:"font-semibold",children:["₹",null==(I=ae.total_deductions)?void 0:I.toLocaleString()]})]}),l.jsx(v,{}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-slate-500",children:"PF (Employee)"}),l.jsxs("span",{children:["₹",null==(Y=ae.total_pf_employee)?void 0:Y.toLocaleString()]})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-slate-500",children:"Professional Tax"}),l.jsxs("span",{children:["₹",null==($=ae.total_professional_tax)?void 0:$.toLocaleString()]})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-slate-500",children:"Income Tax (TDS)"}),l.jsxs("span",{children:["₹",null==(P=ae.total_income_tax)?void 0:P.toLocaleString()]})]}),ae.total_esi_employee>0&&l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-slate-500",children:"ESI (Employee)"}),l.jsxs("span",{children:["₹",null==(k=ae.total_esi_employee)?void 0:k.toLocaleString()]})]}),l.jsx(v,{}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-slate-500",children:"PF (Employer)"}),l.jsxs("span",{className:"text-slate-400",children:["₹",null==(A=ae.total_pf_employer)?void 0:A.toLocaleString()]})]})]})})]}),l.jsxs(i,{className:"md:col-span-2",children:[l.jsx(c,{className:"bg-gradient-to-r from-blue-50 to-indigo-50",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs(r,{className:"flex items-center gap-2 text-blue-700",children:[l.jsx(S,{className:"h-5 w-5"}),"Tax Computation (Form 16)"]}),l.jsxs(d,{children:["Tax computation for FY ",W]})]}),l.jsx(g,{className:"new"===ae.tax_regime?"bg-blue-100 text-blue-700":"bg-purple-100 text-purple-700",children:"new"===ae.tax_regime?"New Tax Regime":"Old Tax Regime"})]})}),l.jsx(x,{className:"pt-4",children:l.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsx("h4",{className:"font-semibold text-slate-700",children:"Income Computation"}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-slate-500",children:"Gross Salary"}),l.jsxs("span",{children:["₹",null==(R=ae.total_gross_salary)?void 0:R.toLocaleString()]})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-slate-500",children:"Less: Standard Deduction"}),l.jsxs("span",{className:"text-red-500",children:["-₹",null==(V=ae.standard_deduction)?void 0:V.toLocaleString()]})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-slate-500",children:"Less: HRA Exemption"}),l.jsxs("span",{className:"text-red-500",children:["-₹",null==(B=ae.hra_exemption)?void 0:B.toLocaleString()]})]}),ae.chapter_vi_a_deductions>0&&l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-slate-500",children:"Less: Chapter VI-A"}),l.jsxs("span",{className:"text-red-500",children:["-₹",null==(G=ae.chapter_vi_a_deductions)?void 0:G.toLocaleString()]})]}),l.jsx(v,{}),l.jsxs("div",{className:"flex justify-between font-semibold",children:[l.jsx("span",{className:"text-slate-700",children:"Taxable Income"}),l.jsxs("span",{className:"text-blue-600",children:["₹",null==(H=ae.taxable_income)?void 0:H.toLocaleString()]})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("h4",{className:"font-semibold text-slate-700",children:"Tax Summary"}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-slate-500",children:"Tax Computed"}),l.jsxs("span",{children:["₹",null==(O=ae.tax_computed)?void 0:O.toLocaleString()]})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-slate-500",children:"Tax Deducted (TDS)"}),l.jsxs("span",{children:["₹",null==(Q=ae.tax_deducted)?void 0:Q.toLocaleString()]})]}),l.jsx(v,{}),ae.tax_shortfall>0?l.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-red-50 p-2",children:[l.jsxs("span",{className:"flex items-center gap-1 text-red-600",children:[l.jsx(_,{className:"h-4 w-4"}),"Tax Shortfall"]}),l.jsxs("span",{className:"font-bold text-red-600",children:["₹",null==(U=ae.tax_shortfall)?void 0:U.toLocaleString()]})]}):ae.tax_excess>0?l.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-green-50 p-2",children:[l.jsxs("span",{className:"flex items-center gap-1 text-green-600",children:[l.jsx(w,{className:"h-4 w-4"}),"Tax Excess (Refund)"]}),l.jsxs("span",{className:"font-bold text-green-600",children:["₹",null==(Z=ae.tax_excess)?void 0:Z.toLocaleString()]})]}):l.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-blue-50 p-2",children:[l.jsxs("span",{className:"flex items-center gap-1 text-blue-600",children:[l.jsx(w,{className:"h-4 w-4"}),"Tax Fully Paid"]}),l.jsx("span",{className:"font-bold text-blue-600",children:"₹0"})]})]})]})})]})]}),K&&W&&!(null==se?void 0:se.isLoading)&&!ae&&l.jsx(i,{className:"border-yellow-200 bg-yellow-50",children:l.jsx(x,{className:"flex items-center justify-center py-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx(_,{className:"mx-auto h-10 w-10 text-yellow-500"}),l.jsxs("p",{className:"mt-2 text-yellow-700",children:["No TDS summary found for Employee ID ",K," in FY"," ",W]})]})})})]})}function L(){return l.jsx(n,{title:"TDS Summary",subTitle:"View TDS Summary for Form 16 Generation",children:l.jsx("div",{className:"py-12",children:l.jsx(T,{})})})}export{L as default};
