import{v as e,r as s,j as n,B as t,h as a}from"./index-CaGgFSeq.js";import{b as r}from"./useCustomQuery-kAcgaiYY.js";import{S as l}from"./separator-BjkNEWW3.js";import{P as i}from"./printer-B2HbvHjp.js";import{D as d}from"./download-e8mIBQ33.js";function o(){var o,c,m;const{id:h}=e(),x=s.useRef(null),p=r({api:`${a.getPaySlipById}?id=${h}`,key:`getPaySlipById-${h}`,value:[h],options:{enabled:!!h}});if(p.isLoading)return n.jsx("div",{className:"flex min-h-screen items-center justify-center",children:n.jsx("div",{className:"text-lg",children:"Loading salary slip..."})});if(p.isError||!(null==(o=p.data)?void 0:o.data))return n.jsx("div",{className:"flex min-h-screen items-center justify-center",children:n.jsx("div",{className:"text-lg text-red-600",children:"Error loading salary slip"})});const y=p.data.data,b=e=>{const s="string"==typeof e?parseFloat(e):e;return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2}).format(s)};return n.jsxs(n.Fragment,{children:[n.jsx("style",{children:"\n          @media print {\n            * {\n              -webkit-print-color-adjust: exact !important;\n              print-color-adjust: exact !important;\n            }\n            \n            body * {\n              visibility: hidden;\n            }\n            \n            #salary-slip-print, \n            #salary-slip-print * {\n              visibility: visible;\n            }\n            \n            #salary-slip-print {\n              position: absolute;\n              left: 0;\n              top: 0;\n              width: 100%;\n              max-width: 210mm;\n              background: white;\n              padding: 0;\n              margin: 0;\n            }\n            \n            .no-print {\n              display: none !important;\n            }\n            \n            @page {\n              size: A4;\n              margin: 4mm;\n            }\n            \n            /* Prevent page breaks inside critical sections */\n            .mb-6 {\n              page-break-inside: avoid;\n              margin-bottom: 1rem !important;\n            }\n            \n            table {\n              page-break-inside: avoid;\n            }\n            \n            tr {\n              page-break-inside: avoid;\n              page-break-after: auto;\n            }\n            \n            /* Reduce grid columns for better fit */\n            .grid-cols-6 {\n              grid-template-columns: repeat(3, minmax(0, 1fr)) !important;\n            }\n            \n            .grid-cols-5 {\n              grid-template-columns: repeat(3, minmax(0, 1fr)) !important;\n            }\n            \n            .grid-cols-2 {\n              grid-template-columns: repeat(2, minmax(0, 1fr)) !important;\n            }\n            \n            /* Reduce font sizes slightly for better fit */\n            .text-2xl {\n              font-size: 1.3rem !important;\n            }\n            \n            .text-lg {\n              font-size: 0.95rem !important;\n            }\n            \n            .text-sm {\n              font-size: 0.75rem !important;\n            }\n            \n            .text-xs {\n              font-size: 0.65rem !important;\n            }\n            \n            /* Reduce padding and margins */\n            .p-8 {\n              padding: 1rem !important;\n            }\n            \n            .p-4 {\n              padding: 0.5rem !important;\n            }\n            \n            .p-3 {\n              padding: 0.4rem !important;\n            }\n            \n            .p-2 {\n              padding: 0.3rem !important;\n            }\n            \n            .gap-4 {\n              gap: 0.5rem !important;\n            }\n            \n            .gap-2 {\n              gap: 0.3rem !important;\n            }\n            \n            .my-4 {\n              margin-top: 0.5rem !important;\n              margin-bottom: 0.5rem !important;\n            }\n            \n            .mt-8 {\n              margin-top: 1rem !important;\n            }\n            \n            /* Ensure borders are visible */\n            .border,\n            .border-2,\n            .border-b,\n            .border-t-2 {\n              border-color: #333 !important;\n            }\n            \n            .border-gray-800 {\n              border-color: #1f2937 !important;\n            }\n            \n            .bg-gray-800 {\n              background-color: #1f2937 !important;\n              color: white !important;\n            }\n            \n            .bg-gray-100,\n            .bg-gray-50 {\n              background-color: #f3f4f6 !important;\n            }\n            \n            .bg-blue-50 {\n              background-color: #eff6ff !important;\n            }\n            \n            .bg-green-50 {\n              background-color: #f0fdf4 !important;\n            }\n          }\n        "}),n.jsxs("div",{className:"container mx-auto max-w-5xl p-4",children:[n.jsxs("div",{className:"no-print mb-4 flex justify-end gap-2",children:[n.jsxs(t,{onClick:()=>{window.print()},variant:"outline",className:"gap-2",children:[n.jsx(i,{className:"h-4 w-4"}),"Print"]}),n.jsxs(t,{onClick:()=>{window.print()},className:"gap-2",children:[n.jsx(d,{className:"h-4 w-4"}),"Download PDF"]})]}),n.jsxs("div",{id:"salary-slip-print",ref:x,className:"border-2 border-gray-800 bg-white p-8 shadow-lg",children:[n.jsxs("div",{className:"mb-6 text-center",children:[n.jsx("h1",{className:"mb-2 text-2xl font-bold uppercase",children:"Salary Slip"}),n.jsxs("p",{className:"text-sm text-gray-600",children:["For the month of ",y.period.month_name," ",y.period.year]}),n.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Generated on: ",(j=y.period.salary_generation_date,new Date(j).toLocaleDateString("en-IN",{day:"2-digit",month:"long",year:"numeric"}))]})]}),n.jsx(l,{className:"my-4 bg-gray-800"}),n.jsxs("div",{className:"mb-6 grid grid-cols-2 gap-4",children:[n.jsx("div",{children:n.jsx("table",{className:"w-full text-sm",children:n.jsxs("tbody",{children:[n.jsxs("tr",{children:[n.jsx("td",{className:"py-1 pr-2 font-semibold",children:"Employee Code:"}),n.jsx("td",{className:"py-1",children:y.employee.emp_code})]}),n.jsxs("tr",{children:[n.jsx("td",{className:"py-1 pr-2 font-semibold",children:"Employee Name:"}),n.jsx("td",{className:"py-1",children:y.employee.emp_name})]}),n.jsxs("tr",{children:[n.jsx("td",{className:"py-1 pr-2 font-semibold",children:"Department:"}),n.jsx("td",{className:"py-1",children:y.employee.department_name})]})]})})}),n.jsx("div",{children:n.jsx("table",{className:"w-full text-sm",children:n.jsxs("tbody",{children:[n.jsxs("tr",{children:[n.jsx("td",{className:"py-1 pr-2 font-semibold",children:"Pay Commission:"}),n.jsx("td",{className:"py-1",children:(null==(c=y.pay_commission)?void 0:c.commission_name)||"Custom"})]}),n.jsxs("tr",{children:[n.jsx("td",{className:"py-1 pr-2 font-semibold",children:"Pay Level:"}),n.jsx("td",{className:"py-1",children:(null==(m=y.pay_level)?void 0:m.level_name)||"N/A"})]}),n.jsxs("tr",{children:[n.jsx("td",{className:"py-1 pr-2 font-semibold",children:"Email:"}),n.jsx("td",{className:"py-1",children:y.employee.email})]})]})})})]}),n.jsx(l,{className:"my-4"}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"mb-2 text-sm font-bold uppercase",children:"Attendance Summary"}),n.jsxs("div",{className:"grid grid-cols-6 gap-2 text-xs",children:[n.jsxs("div",{className:"border p-2",children:[n.jsx("div",{className:"font-semibold",children:"Working Days"}),n.jsx("div",{className:"text-lg",children:y.attendance.total_working_days})]}),n.jsxs("div",{className:"border p-2",children:[n.jsx("div",{className:"font-semibold",children:"Days Present"}),n.jsx("div",{className:"text-lg",children:y.attendance.days_present})]}),n.jsxs("div",{className:"border p-2",children:[n.jsx("div",{className:"font-semibold",children:"Half Days"}),n.jsx("div",{className:"text-lg",children:y.attendance.half_days_present})]}),n.jsxs("div",{className:"border p-2",children:[n.jsx("div",{className:"font-semibold",children:"Days Absent"}),n.jsx("div",{className:"text-lg",children:y.attendance.days_absent})]}),n.jsxs("div",{className:"border p-2",children:[n.jsx("div",{className:"font-semibold",children:"Days on Leave"}),n.jsx("div",{className:"text-lg",children:y.attendance.days_on_leave})]}),n.jsxs("div",{className:"border border-blue-500 bg-blue-50 p-2",children:[n.jsx("div",{className:"font-semibold text-blue-900",children:"Payable Days"}),n.jsx("div",{className:"text-lg font-bold text-blue-900",children:y.attendance.payable_days})]})]})]}),n.jsx(l,{className:"my-4"}),n.jsxs("div",{className:"mb-6 grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"mb-3 bg-gray-100 p-2 text-sm font-bold uppercase",children:"Earnings"}),n.jsx("table",{className:"w-full text-xs",children:n.jsxs("tbody",{children:[n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"py-1.5",children:"Basic Pay"}),n.jsx("td",{className:"py-1.5 text-right",children:b(y.monthly.earnings.basic_pay)})]}),y.monthly.earnings.dearness_allowance>0&&n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"py-1.5",children:"Dearness Allowance"}),n.jsx("td",{className:"py-1.5 text-right",children:b(y.monthly.earnings.dearness_allowance)})]}),y.monthly.earnings.house_rent_allowance>0&&n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"py-1.5",children:"House Rent Allowance"}),n.jsx("td",{className:"py-1.5 text-right",children:b(y.monthly.earnings.house_rent_allowance)})]}),y.monthly.earnings.transport_allowance>0&&n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"py-1.5",children:"Transport Allowance"}),n.jsx("td",{className:"py-1.5 text-right",children:b(y.monthly.earnings.transport_allowance)})]}),y.monthly.earnings.medical_allowance>0&&n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"py-1.5",children:"Medical Allowance"}),n.jsx("td",{className:"py-1.5 text-right",children:b(y.monthly.earnings.medical_allowance)})]}),y.monthly.earnings.special_allowance>0&&n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"py-1.5",children:"Special Allowance"}),n.jsx("td",{className:"py-1.5 text-right",children:b(y.monthly.earnings.special_allowance)})]}),y.monthly.earnings.children_education_allowance>0&&n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"py-1.5",children:"Children Education Allowance"}),n.jsx("td",{className:"py-1.5 text-right",children:b(y.monthly.earnings.children_education_allowance)})]}),y.monthly.earnings.arrears>0&&n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"py-1.5",children:"Arrears"}),n.jsx("td",{className:"py-1.5 text-right",children:b(y.monthly.earnings.arrears)})]}),parseFloat(y.monthly.earnings.bonus_amount)>0&&n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"py-1.5",children:"Bonus"}),n.jsx("td",{className:"py-1.5 text-right",children:b(y.monthly.earnings.bonus_amount)})]}),n.jsxs("tr",{className:"bg-green-50 font-bold",children:[n.jsx("td",{className:"py-2",children:"Gross Salary"}),n.jsx("td",{className:"py-2 text-right",children:b(y.monthly.earnings.pro_rated_gross)})]})]})})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"mb-3 bg-gray-100 p-2 text-sm font-bold uppercase",children:["Deductions ",n.jsx("span",{className:"text-xs",children:"(Monthly)"})]}),n.jsx("table",{className:"w-full text-xs",children:n.jsxs("tbody",{children:[y.monthly.deductions.pf_contribution>0&&n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"py-1.5",children:"PF Contribution"}),n.jsx("td",{className:"py-1.5 text-right",children:b(y.monthly.deductions.pf_contribution)})]}),y.monthly.deductions.nps_contribution>0&&n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"py-1.5",children:"NPS Contribution"}),n.jsx("td",{className:"py-1.5 text-right",children:b(y.monthly.deductions.nps_contribution)})]}),y.monthly.deductions.esi_contribution>0&&n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"py-1.5",children:"ESI Contribution"}),n.jsx("td",{className:"py-1.5 text-right",children:b(y.monthly.deductions.esi_contribution)})]}),y.monthly.deductions.professional_tax>0&&n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"py-1.5",children:"Professional Tax"}),n.jsx("td",{className:"py-1.5 text-right",children:b(y.monthly.deductions.professional_tax)})]}),y.monthly.deductions.income_tax>=0&&n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"py-1.5",children:"Income Tax (TDS)"}),n.jsx("td",{className:"py-1.5 text-right",children:b(y.monthly.deductions.income_tax)})]}),parseFloat(y.monthly.deductions.loan_deduction)>0&&n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"py-1.5",children:"Loan Deduction"}),n.jsx("td",{className:"py-1.5 text-right",children:b(y.monthly.deductions.loan_deduction)})]}),parseFloat(y.monthly.deductions.advance_deduction)>0&&n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"py-1.5",children:"Advance Deduction"}),n.jsx("td",{className:"py-1.5 text-right",children:b(y.monthly.deductions.advance_deduction)})]}),y.monthly.deductions.other_deductions>0&&n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"py-1.5",children:"Other Deductions"}),n.jsx("td",{className:"py-1.5 text-right",children:b(y.monthly.deductions.other_deductions)})]}),n.jsxs("tr",{className:"bg-gray-50 font-bold",children:[n.jsx("td",{className:"py-2",children:"Total Deductions"}),n.jsx("td",{className:"py-2 text-right",children:b(y.monthly.deductions.total_deductions)})]})]})})]})]}),n.jsx(l,{className:"my-4"}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"mb-3 bg-gray-100 p-2 text-sm font-bold uppercase",children:"Employee & Employer Contributions"}),n.jsxs("table",{className:"w-full text-xs",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b-2 bg-gray-50",children:[n.jsx("th",{className:"py-2 text-left font-semibold",children:"Component"}),n.jsx("th",{className:"py-2 text-right font-semibold",children:"Employee"}),n.jsx("th",{className:"py-2 text-right font-semibold",children:"Employer"}),n.jsx("th",{className:"py-2 text-right font-semibold",children:"Total"})]})}),n.jsxs("tbody",{children:[(y.monthly.deductions.pf_contribution>0||y.monthly.employer_contributions.pf>0)&&n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"py-1.5",children:"PF Contribution"}),n.jsx("td",{className:"py-1.5 text-right",children:b(y.monthly.deductions.pf_contribution)}),n.jsx("td",{className:"py-1.5 text-right",children:b(y.monthly.employer_contributions.pf)}),n.jsx("td",{className:"py-1.5 text-right font-semibold",children:b(y.monthly.deductions.pf_contribution+y.monthly.employer_contributions.pf)})]}),(y.monthly.deductions.nps_contribution>0||y.monthly.employer_contributions.nps>0)&&n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"py-1.5",children:"NPS Contribution"}),n.jsx("td",{className:"py-1.5 text-right",children:b(y.monthly.deductions.nps_contribution)}),n.jsx("td",{className:"py-1.5 text-right",children:b(y.monthly.employer_contributions.nps)}),n.jsx("td",{className:"py-1.5 text-right font-semibold",children:b(y.monthly.deductions.nps_contribution+y.monthly.employer_contributions.nps)})]}),(y.monthly.deductions.esi_contribution>0||y.monthly.employer_contributions.esi>0)&&n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"py-1.5",children:"ESI Contribution"}),n.jsx("td",{className:"py-1.5 text-right",children:b(y.monthly.deductions.esi_contribution)}),n.jsx("td",{className:"py-1.5 text-right",children:b(y.monthly.employer_contributions.esi)}),n.jsx("td",{className:"py-1.5 text-right font-semibold",children:b(y.monthly.deductions.esi_contribution+y.monthly.employer_contributions.esi)})]}),n.jsxs("tr",{className:"bg-gray-50 font-bold",children:[n.jsx("td",{className:"py-2",children:"Total Contributions"}),n.jsx("td",{className:"py-2 text-right",children:b(y.monthly.deductions.pf_contribution+y.monthly.deductions.nps_contribution+y.monthly.deductions.esi_contribution)}),n.jsx("td",{className:"py-2 text-right",children:b(y.monthly.employer_contributions.total)}),n.jsx("td",{className:"py-2 text-right",children:b(y.monthly.deductions.pf_contribution+y.monthly.deductions.nps_contribution+y.monthly.deductions.esi_contribution+y.monthly.employer_contributions.total)})]})]})]})]}),n.jsx(l,{className:"my-4 bg-gray-800"}),n.jsx("div",{className:"mb-6 bg-gray-800 p-4 text-white",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-lg font-bold",children:"NET SALARY (In Hand)"}),n.jsx("span",{className:"text-2xl font-bold",children:b(y.monthly.net_salary)})]})}),n.jsx("div",{className:"border-gray-800 ",children:n.jsx("p",{className:"text-center text-xs text-gray-600",children:"This is a system generated salary slip and does not require a signature."})})]})]})]});var j}export{o as default};
