import{j as e,aF as t,r as n,aG as r,aH as a,aI as o,aJ as s}from"./vendor-RyuIgj66.js";import{n as u,B as l,o as i}from"./index-ey2GEmQz.js";import{I as c}from"./input-DlX9dTT0.js";import{q as d,r as m,s as f,u as h}from"./ui-B3c1eQmf.js";import{S as g,a as p,b as x,c as v,d as y}from"./select-8PAfYjod.js";import{s as w,ag as j,af as b,a4 as N}from"./icons-CxCh8mm_.js";function M({children:n,onSubmit:r,className:a,methods:o}){return e.jsx(t,{...o,children:e.jsx("form",{onSubmit:r,className:a,children:n})})}const D=d,S=m,k=n.forwardRef(({className:t,align:n="center",sideOffset:r=4,...a},o)=>e.jsx(f,{children:e.jsx(h,{ref:o,align:n,sideOffset:r,className:u("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",t),...a})}));function F(e,{max:t,min:n=0,loop:r=!1}){let a=parseInt(e,10);return Number.isNaN(a)?"00":(r?(a>t&&(a=n),a<n&&(a=t)):(a>t&&(a=t),a<n&&(a=n)),a.toString().padStart(2,"0"))}function C(e){return function(e){return/^(0[0-9]|1[0-9]|2[0-3])$/.test(e)}(e)?e:F(e,{max:23})}function R(e){return function(e){return/^(0[1-9]|1[0-2])$/.test(e)}(e)?e:F(e,{min:1,max:12})}function H(e){return function(e){return/^[0-5][0-9]$/.test(e)}(e)?e:F(e,{max:59})}function P(e,{min:t,max:n,step:r}){let a=parseInt(e,10);return Number.isNaN(a)?"00":(a+=r,F(String(a),{min:t,max:n,loop:!0}))}function A(e,t){return P(e,{min:0,max:59,step:t})}function I(e,t,n,r){switch(n){case"minutes":return function(e,t){const n=H(t);return e.setMinutes(parseInt(n,10)),e}(e,t);case"seconds":return function(e,t){const n=H(t);return e.setSeconds(parseInt(n,10)),e}(e,t);case"hours":return function(e,t){const n=C(t);return e.setHours(parseInt(n,10)),e}(e,t);case"12hours":return r?function(e,t,n){const r=function(e,t){return"PM"===t?e<=11?e+12:e:"AM"===t&&12===e?0:e}(parseInt(R(t),10),n);return e.setHours(r),e}(e,t,r):e;default:return e}}function L(e,t,n){switch(n){case"minutes":case"seconds":return A(e,t);case"hours":return function(e,t){return P(e,{min:0,max:23,step:t})}(e,t);case"12hours":return function(e,t){return P(e,{min:1,max:12,step:t})}(e,t);default:return"00"}}function Y(e){return 0===e||12===e?"12":e>=22?""+(e-12):e%12>9?`${e}`:"0"+e%12}function T({className:t,classNames:s,showOutsideDays:l=!0,yearRange:c=50,...d}){const m=n.useMemo(()=>{let e=r;const{options:t,localize:n,formatLong:o}=d.locale||{};return t&&n&&o&&(e={options:t,localize:n,formatLong:o}),function(e){return Array.from({length:12},(t,n)=>({value:n,label:a(new Date(2021,n),"MMMM",{locale:e})}))}(e)},[]),f=n.useMemo(()=>function(e=50){const t=new Date;return Array.from({length:2*e+1},(n,r)=>({value:t.getFullYear()-e+r,label:(t.getFullYear()-e+r).toString()}))}(c),[]);return e.jsx(o,{showOutsideDays:l,className:u("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4  sm:space-y-0 justify-center",month:"flex flex-col items-center space-y-4",month_caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center ",button_previous:u(i({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100 absolute left-5 top-5",(()=>{const e=new Date((new Date).getFullYear()-c,0,1);return!!d.month&&(d.month.getMonth()===e.getMonth()&&d.month.getFullYear()===e.getFullYear())})()&&"pointer-events-none"),button_next:u(i({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100 absolute right-5 top-5",(()=>{const e=new Date((new Date).getFullYear()+c,11,31);return!!d.month&&(d.month.getMonth()===e.getMonth()&&d.month.getFullYear()===e.getFullYear())})()&&"pointer-events-none"),month_grid:"w-full border-collapse space-y-1",weekdays:u("flex",d.showWeekNumber&&"justify-end"),weekday:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",week:"flex w-full mt-2",day:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20 rounded-1",day_button:u(i({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100 rounded-l-md rounded-r-md"),range_end:"day-range-end",selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground rounded-l-md rounded-r-md",today:"bg-accent text-accent-foreground",outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",disabled:"text-muted-foreground opacity-50",range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",hidden:"invisible",...s},components:{Chevron:({...t})=>"left"===t.orientation?e.jsx(j,{className:"h-4 w-4"}):e.jsx(b,{className:"h-4 w-4"}),MonthCaption:({calendarMonth:t})=>e.jsxs("div",{className:"inline-flex gap-2",children:[e.jsxs(g,{defaultValue:t.date.getMonth().toString(),onValueChange:e=>{var n;const r=new Date(t.date);r.setMonth(Number.parseInt(e,10)),null==(n=d.onMonthChange)||n.call(d,r)},children:[e.jsx(p,{className:"w-fit gap-1 border-none p-0 focus:bg-accent focus:text-accent-foreground",children:e.jsx(x,{})}),e.jsx(v,{children:m.map(t=>e.jsx(y,{value:t.value.toString(),children:t.label},t.value))})]}),e.jsxs(g,{defaultValue:t.date.getFullYear().toString(),onValueChange:e=>{var n;const r=new Date(t.date);r.setFullYear(Number.parseInt(e,10)),null==(n=d.onMonthChange)||n.call(d,r)},children:[e.jsx(p,{className:"w-fit gap-1 border-none p-0 focus:bg-accent focus:text-accent-foreground",children:e.jsx(x,{})}),e.jsx(v,{children:f.map(t=>e.jsx(y,{value:t.value.toString(),children:t.label},t.value))})]})]})},...d})}k.displayName=h.displayName,T.displayName="Calendar";const z=n.forwardRef(({period:t,setPeriod:n,date:r,onDateChange:a,onLeftFocus:o,onRightFocus:s},u)=>e.jsx("div",{className:"flex h-10 items-center",children:e.jsxs(g,{defaultValue:t,onValueChange:e=>(e=>{if(null==n||n(e),r){const e=new Date(r),n=Y(r.getHours());null==a||a(I(e,n.toString(),"12hours","AM"===t?"PM":"AM"))}})(e),children:[e.jsx(p,{ref:u,className:"w-[65px] focus:bg-accent focus:text-accent-foreground",onKeyDown:e=>{"ArrowRight"===e.key&&(null==s||s()),"ArrowLeft"===e.key&&(null==o||o())},children:e.jsx(x,{})}),e.jsxs(v,{children:[e.jsx(y,{value:"AM",children:"AM"}),e.jsx(y,{value:"PM",children:"PM"})]})]})}));z.displayName="TimePeriodSelect";const _=n.forwardRef(({className:t,type:r="tel",value:a,id:o,name:s,date:l=new Date((new Date).setHours(0,0,0,0)),onDateChange:i,onChange:d,onKeyDown:m,picker:f,period:h,onLeftFocus:g,onRightFocus:p,...x},v)=>{const[y,w]=n.useState(!1),[j,b]=n.useState("0");n.useEffect(()=>{if(y){const e=setTimeout(()=>{w(!1)},2e3);return()=>clearTimeout(e)}},[y]);const N=n.useMemo(()=>function(e,t){if(!e)return"00";switch(t){case"minutes":return H(String(e.getMinutes()));case"seconds":return H(String(e.getSeconds()));case"hours":return C(String(e.getHours()));case"12hours":return R(String(Y(e.getHours())));default:return"00"}}(l,f),[l,f]),M=e=>{if("Tab"!==e.key){if(e.preventDefault(),"ArrowRight"===e.key&&(null==p||p()),"ArrowLeft"===e.key&&(null==g||g()),["ArrowUp","ArrowDown"].includes(e.key)){const t="ArrowUp"===e.key?1:-1,n=L(N,t,f);y&&w(!1);const r=l?new Date(l):new Date;null==i||i(I(r,n,f,h))}if(e.key>="0"&&e.key<="9"){"12hours"===f&&b(e.key);const n=(t=e.key,"12hours"===f&&y&&"1"===N.slice(1,2)&&"0"===j?`0${t}`:y?N.slice(1,2)+t:`0${t}`);y&&(null==p||p()),w(e=>!e);const r=l?new Date(l):new Date;null==i||i(I(r,n,f,h))}var t}};return e.jsx(c,{ref:v,id:o||f,name:s||f,className:u("w-[48px] text-center font-mono text-base tabular-nums caret-transparent focus:bg-accent focus:text-accent-foreground [&::-webkit-inner-spin-button]:appearance-none",t),value:a||N,onChange:e=>{e.preventDefault(),null==d||d(e)},type:r,inputMode:"decimal",onKeyDown:e=>{null==m||m(e),M(e)},...x})});_.displayName="TimePickerInput";const V=n.forwardRef(({date:t,onChange:r,hourCycle:a=24,granularity:o="second"},s)=>{const u=n.useRef(null),l=n.useRef(null),i=n.useRef(null),c=n.useRef(null),[d,m]=n.useState(t&&t.getHours()>=12?"PM":"AM");return n.useImperativeHandle(s,()=>({minuteRef:u.current,hourRef:l.current,secondRef:i.current,periodRef:c.current}),[u,l,i]),e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("label",{htmlFor:"datetime-picker-hour-input",className:"cursor-pointer",children:e.jsx(N,{className:"mr-2 h-4 w-4"})}),e.jsx(_,{picker:24===a?"hours":"12hours",date:t,id:"datetime-picker-hour-input",onDateChange:r,ref:l,period:d,onRightFocus:()=>{var e;return null==(e=null==u?void 0:u.current)?void 0:e.focus()}}),("minute"===o||"second"===o)&&e.jsxs(e.Fragment,{children:[":",e.jsx(_,{picker:"minutes",date:t,onDateChange:r,ref:u,onLeftFocus:()=>{var e;return null==(e=null==l?void 0:l.current)?void 0:e.focus()},onRightFocus:()=>{var e;return null==(e=null==i?void 0:i.current)?void 0:e.focus()}})]}),"second"===o&&e.jsxs(e.Fragment,{children:[":",e.jsx(_,{picker:"seconds",date:t,onDateChange:r,ref:i,onLeftFocus:()=>{var e;return null==(e=null==u?void 0:u.current)?void 0:e.focus()},onRightFocus:()=>{var e;return null==(e=null==c?void 0:c.current)?void 0:e.focus()}})]}),12===a&&e.jsx("div",{className:"grid gap-1 text-center",children:e.jsx(z,{period:d,setPeriod:m,date:t,onDateChange:e=>{null==r||r(e),e&&(null==e?void 0:e.getHours())>=12?m("PM"):m("AM")},ref:c,onLeftFocus:()=>{var e;return null==(e=null==i?void 0:i.current)?void 0:e.focus()}})})]})});V.displayName="TimePicker";const $=n.forwardRef(({locale:t=r,defaultPopupValue:o=new Date((new Date).setHours(0,0,0,0)),value:i,onChange:c,onMonthChange:d,hourCycle:m=24,yearRange:f=50,disabled:h=!1,displayFormat:g,granularity:p="second",placeholder:x="Pick a date",className:v,...y},j)=>{const[b,N]=n.useState(i??o),M=n.useRef(null),[F,C]=n.useState(i??void 0);d||(d=c),n.useEffect(()=>{C(i)},[i]);n.useImperativeHandle(j,()=>({...M.current,value:F}),[F]);const R={hour24:(null==g?void 0:g.hour24)??"PPP HH:mm"+(p&&"second"!==p?"":":ss"),hour12:(null==g?void 0:g.hour12)??`PP hh:mm${p&&"second"!==p?"":":ss"} b`};let H=r;const{options:P,localize:A,formatLong:I}=t;return P&&A&&I&&(H={...r,options:P,localize:A,formatLong:I}),e.jsxs(D,{children:[e.jsx(S,{asChild:!0,disabled:h,children:e.jsxs(l,{variant:"outline",className:u("w-full justify-start text-left font-normal",!F&&"text-muted-foreground",v),ref:M,children:[e.jsx(w,{className:"mr-2 h-4 w-4"}),F?a(F,24===m?R.hour24:R.hour12,{locale:H}):e.jsx("span",{children:x})]})}),e.jsxs(k,{className:"w-auto p-0",children:[e.jsx(T,{mode:"single",selected:F,month:b,onSelect:e=>{var t;e&&(e.setHours((null==b?void 0:b.getHours())??0,(null==b?void 0:b.getMinutes())??0,(null==b?void 0:b.getSeconds())??0),(t=e)&&(null==c||c(t),N(t),C(t)))},onMonthChange:e=>{if(!e)return;if(!o)return e.setHours((null==b?void 0:b.getHours())??0,(null==b?void 0:b.getMinutes())??0,(null==b?void 0:b.getSeconds())??0),null==d||d(e),void N(e);const t=(e.getTime()-o.getTime())/864e5,n=s(o,{days:Math.ceil(t)});n.setHours((null==b?void 0:b.getHours())??0,(null==b?void 0:b.getMinutes())??0,(null==b?void 0:b.getSeconds())??0),null==d||d(n),N(n)},yearRange:f,locale:t,...y}),"day"!==p&&e.jsx("div",{className:"border-t border-border p-3",children:e.jsx(V,{onChange:e=>{null==c||c(e),C(e),e&&N(e)},date:b,hourCycle:m,granularity:p})})]})]})});$.displayName="DateTimePicker";export{$ as D,M as F};
