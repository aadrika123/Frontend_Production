import{k as e,v as s,r as n,j as t,B as a,h as r}from"./index-C0dR7KKl.js";import{b as l}from"./useCustomQuery-DfubPPhS.js";import{S as i}from"./separator-DK9wbIss.js";import{D as d}from"./download-iIB5oZWJ.js";
/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o=e("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);function c(){var e,c,m;const{id:h}=s(),x=n.useRef(null),p=l({api:`${r.getPaySlipById}?id=${h}`,key:`getPaySlipById-${h}`,value:[h],options:{enabled:!!h}});if(p.isLoading)return t.jsx("div",{className:"flex min-h-screen items-center justify-center",children:t.jsx("div",{className:"text-lg",children:"Loading salary slip..."})});if(p.isError||!(null==(e=p.data)?void 0:e.data))return t.jsx("div",{className:"flex min-h-screen items-center justify-center",children:t.jsx("div",{className:"text-lg text-red-600",children:"Error loading salary slip"})});const y=p.data.data,b=e=>{const s="string"==typeof e?parseFloat(e):e;return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2}).format(s)};return t.jsxs(t.Fragment,{children:[t.jsx("style",{children:"\n          @media print {\n            * {\n              -webkit-print-color-adjust: exact !important;\n              print-color-adjust: exact !important;\n            }\n            \n            body * {\n              visibility: hidden;\n            }\n            \n            #salary-slip-print, \n            #salary-slip-print * {\n              visibility: visible;\n            }\n            \n            #salary-slip-print {\n              position: absolute;\n              left: 0;\n              top: 0;\n              width: 100%;\n              max-width: 210mm;\n              background: white;\n              padding: 0;\n              margin: 0;\n            }\n            \n            .no-print {\n              display: none !important;\n            }\n            \n            @page {\n              size: A4;\n              margin: 4mm;\n            }\n            \n            /* Prevent page breaks inside critical sections */\n            .mb-6 {\n              page-break-inside: avoid;\n              margin-bottom: 1rem !important;\n            }\n            \n            table {\n              page-break-inside: avoid;\n            }\n            \n            tr {\n              page-break-inside: avoid;\n              page-break-after: auto;\n            }\n            \n            /* Reduce grid columns for better fit */\n            .grid-cols-6 {\n              grid-template-columns: repeat(3, minmax(0, 1fr)) !important;\n            }\n            \n            .grid-cols-5 {\n              grid-template-columns: repeat(3, minmax(0, 1fr)) !important;\n            }\n            \n            .grid-cols-2 {\n              grid-template-columns: repeat(2, minmax(0, 1fr)) !important;\n            }\n            \n            /* Reduce font sizes slightly for better fit */\n            .text-2xl {\n              font-size: 1.3rem !important;\n            }\n            \n            .text-lg {\n              font-size: 0.95rem !important;\n            }\n            \n            .text-sm {\n              font-size: 0.75rem !important;\n            }\n            \n            .text-xs {\n              font-size: 0.65rem !important;\n            }\n            \n            /* Reduce padding and margins */\n            .p-8 {\n              padding: 1rem !important;\n            }\n            \n            .p-4 {\n              padding: 0.5rem !important;\n            }\n            \n            .p-3 {\n              padding: 0.4rem !important;\n            }\n            \n            .p-2 {\n              padding: 0.3rem !important;\n            }\n            \n            .gap-4 {\n              gap: 0.5rem !important;\n            }\n            \n            .gap-2 {\n              gap: 0.3rem !important;\n            }\n            \n            .my-4 {\n              margin-top: 0.5rem !important;\n              margin-bottom: 0.5rem !important;\n            }\n            \n            .mt-8 {\n              margin-top: 1rem !important;\n            }\n            \n            /* Ensure borders are visible */\n            .border,\n            .border-2,\n            .border-b,\n            .border-t-2 {\n              border-color: #333 !important;\n            }\n            \n            .border-gray-800 {\n              border-color: #1f2937 !important;\n            }\n            \n            .bg-gray-800 {\n              background-color: #1f2937 !important;\n              color: white !important;\n            }\n            \n            .bg-gray-100,\n            .bg-gray-50 {\n              background-color: #f3f4f6 !important;\n            }\n            \n            .bg-blue-50 {\n              background-color: #eff6ff !important;\n            }\n            \n            .bg-green-50 {\n              background-color: #f0fdf4 !important;\n            }\n          }\n        "}),t.jsxs("div",{className:"container mx-auto max-w-5xl p-4",children:[t.jsxs("div",{className:"no-print mb-4 flex justify-end gap-2",children:[t.jsxs(a,{onClick:()=>{window.print()},variant:"outline",className:"gap-2",children:[t.jsx(o,{className:"h-4 w-4"}),"Print"]}),t.jsxs(a,{onClick:()=>{window.print()},className:"gap-2",children:[t.jsx(d,{className:"h-4 w-4"}),"Download PDF"]})]}),t.jsxs("div",{id:"salary-slip-print",ref:x,className:"border-2 border-gray-800 bg-white p-8 shadow-lg",children:[t.jsxs("div",{className:"mb-6 text-center",children:[t.jsx("h1",{className:"mb-2 text-2xl font-bold uppercase",children:"Salary Slip"}),t.jsxs("p",{className:"text-sm text-gray-600",children:["For the month of ",y.period.month_name," ",y.period.year]}),t.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Generated on: ",(j=y.period.salary_generation_date,new Date(j).toLocaleDateString("en-IN",{day:"2-digit",month:"long",year:"numeric"}))]})]}),t.jsx(i,{className:"my-4 bg-gray-800"}),t.jsxs("div",{className:"mb-6 grid grid-cols-2 gap-4",children:[t.jsx("div",{children:t.jsx("table",{className:"w-full text-sm",children:t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{className:"py-1 pr-2 font-semibold",children:"Employee Code:"}),t.jsx("td",{className:"py-1",children:y.employee.emp_code})]}),t.jsxs("tr",{children:[t.jsx("td",{className:"py-1 pr-2 font-semibold",children:"Employee Name:"}),t.jsx("td",{className:"py-1",children:y.employee.emp_name})]}),t.jsxs("tr",{children:[t.jsx("td",{className:"py-1 pr-2 font-semibold",children:"Department:"}),t.jsx("td",{className:"py-1",children:y.employee.department_name})]})]})})}),t.jsx("div",{children:t.jsx("table",{className:"w-full text-sm",children:t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{className:"py-1 pr-2 font-semibold",children:"Pay Commission:"}),t.jsx("td",{className:"py-1",children:(null==(c=y.pay_commission)?void 0:c.commission_name)||"Custom"})]}),t.jsxs("tr",{children:[t.jsx("td",{className:"py-1 pr-2 font-semibold",children:"Pay Level:"}),t.jsx("td",{className:"py-1",children:(null==(m=y.pay_level)?void 0:m.level_name)||"N/A"})]}),t.jsxs("tr",{children:[t.jsx("td",{className:"py-1 pr-2 font-semibold",children:"Email:"}),t.jsx("td",{className:"py-1",children:y.employee.email})]})]})})})]}),t.jsx(i,{className:"my-4"}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"mb-2 text-sm font-bold uppercase",children:"Attendance Summary"}),t.jsxs("div",{className:"grid grid-cols-6 gap-2 text-xs",children:[t.jsxs("div",{className:"border p-2",children:[t.jsx("div",{className:"font-semibold",children:"Working Days"}),t.jsx("div",{className:"text-lg",children:y.attendance.total_working_days})]}),t.jsxs("div",{className:"border p-2",children:[t.jsx("div",{className:"font-semibold",children:"Days Present"}),t.jsx("div",{className:"text-lg",children:y.attendance.days_present})]}),t.jsxs("div",{className:"border p-2",children:[t.jsx("div",{className:"font-semibold",children:"Half Days"}),t.jsx("div",{className:"text-lg",children:y.attendance.half_days_present})]}),t.jsxs("div",{className:"border p-2",children:[t.jsx("div",{className:"font-semibold",children:"Days Absent"}),t.jsx("div",{className:"text-lg",children:y.attendance.days_absent})]}),t.jsxs("div",{className:"border p-2",children:[t.jsx("div",{className:"font-semibold",children:"Days on Leave"}),t.jsx("div",{className:"text-lg",children:y.attendance.days_on_leave})]}),t.jsxs("div",{className:"border border-blue-500 bg-blue-50 p-2",children:[t.jsx("div",{className:"font-semibold text-blue-900",children:"Payable Days"}),t.jsx("div",{className:"text-lg font-bold text-blue-900",children:y.attendance.payable_days})]})]})]}),t.jsx(i,{className:"my-4"}),t.jsxs("div",{className:"mb-6 grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"mb-3 bg-gray-100 p-2 text-sm font-bold uppercase",children:["Earnings ",t.jsx("span",{className:"text-xs",children:"(Monthly)"})]}),t.jsx("table",{className:"w-full text-xs",children:t.jsxs("tbody",{children:[t.jsxs("tr",{className:"border-b",children:[t.jsx("td",{className:"py-1.5",children:"Basic Pay"}),t.jsx("td",{className:"py-1.5 text-right",children:b(y.monthly.earnings.basic_pay)})]}),y.monthly.earnings.dearness_allowance>0&&t.jsxs("tr",{className:"border-b",children:[t.jsx("td",{className:"py-1.5",children:"Dearness Allowance"}),t.jsx("td",{className:"py-1.5 text-right",children:b(y.monthly.earnings.dearness_allowance)})]}),y.monthly.earnings.house_rent_allowance>0&&t.jsxs("tr",{className:"border-b",children:[t.jsx("td",{className:"py-1.5",children:"House Rent Allowance"}),t.jsx("td",{className:"py-1.5 text-right",children:b(y.monthly.earnings.house_rent_allowance)})]}),y.monthly.earnings.transport_allowance>0&&t.jsxs("tr",{className:"border-b",children:[t.jsx("td",{className:"py-1.5",children:"Transport Allowance"}),t.jsx("td",{className:"py-1.5 text-right",children:b(y.monthly.earnings.transport_allowance)})]}),y.monthly.earnings.medical_allowance>0&&t.jsxs("tr",{className:"border-b",children:[t.jsx("td",{className:"py-1.5",children:"Medical Allowance"}),t.jsx("td",{className:"py-1.5 text-right",children:b(y.monthly.earnings.medical_allowance)})]}),y.monthly.earnings.special_allowance>0&&t.jsxs("tr",{className:"border-b",children:[t.jsx("td",{className:"py-1.5",children:"Special Allowance"}),t.jsx("td",{className:"py-1.5 text-right",children:b(y.monthly.earnings.special_allowance)})]}),y.monthly.earnings.children_education_allowance>0&&t.jsxs("tr",{className:"border-b",children:[t.jsx("td",{className:"py-1.5",children:"Children Education Allowance"}),t.jsx("td",{className:"py-1.5 text-right",children:b(y.monthly.earnings.children_education_allowance)})]}),y.monthly.earnings.arrears>0&&t.jsxs("tr",{className:"border-b",children:[t.jsx("td",{className:"py-1.5",children:"Arrears"}),t.jsx("td",{className:"py-1.5 text-right",children:b(y.monthly.earnings.arrears)})]}),parseFloat(y.monthly.earnings.bonus_amount)>0&&t.jsxs("tr",{className:"border-b",children:[t.jsx("td",{className:"py-1.5",children:"Bonus"}),t.jsx("td",{className:"py-1.5 text-right",children:b(y.monthly.earnings.bonus_amount)})]}),t.jsxs("tr",{className:"bg-gray-50 font-bold",children:[t.jsx("td",{className:"py-2",children:"Gross Salary"}),t.jsx("td",{className:"py-2 text-right",children:b(y.monthly.earnings.gross_salary)})]}),t.jsxs("tr",{className:"bg-green-50 font-bold",children:[t.jsx("td",{className:"py-2",children:"Pro-rated Gross"}),t.jsx("td",{className:"py-2 text-right",children:b(y.monthly.earnings.pro_rated_gross)})]})]})})]}),t.jsxs("div",{children:[t.jsxs("h3",{className:"mb-3 bg-gray-100 p-2 text-sm font-bold uppercase",children:["Deductions ",t.jsx("span",{className:"text-xs",children:"(Monthly)"})]}),t.jsx("table",{className:"w-full text-xs",children:t.jsxs("tbody",{children:[y.monthly.deductions.pf_contribution>0&&t.jsxs("tr",{className:"border-b",children:[t.jsx("td",{className:"py-1.5",children:"PF Contribution"}),t.jsx("td",{className:"py-1.5 text-right",children:b(y.monthly.deductions.pf_contribution)})]}),y.monthly.deductions.nps_contribution>0&&t.jsxs("tr",{className:"border-b",children:[t.jsx("td",{className:"py-1.5",children:"NPS Contribution"}),t.jsx("td",{className:"py-1.5 text-right",children:b(y.monthly.deductions.nps_contribution)})]}),y.monthly.deductions.esi_contribution>0&&t.jsxs("tr",{className:"border-b",children:[t.jsx("td",{className:"py-1.5",children:"ESI Contribution"}),t.jsx("td",{className:"py-1.5 text-right",children:b(y.monthly.deductions.esi_contribution)})]}),y.monthly.deductions.professional_tax>0&&t.jsxs("tr",{className:"border-b",children:[t.jsx("td",{className:"py-1.5",children:"Professional Tax"}),t.jsx("td",{className:"py-1.5 text-right",children:b(y.monthly.deductions.professional_tax)})]}),y.monthly.deductions.income_tax>=0&&t.jsxs("tr",{className:"border-b",children:[t.jsx("td",{className:"py-1.5",children:"Income Tax (TDS)"}),t.jsx("td",{className:"py-1.5 text-right",children:b(y.monthly.deductions.income_tax)})]}),parseFloat(y.monthly.deductions.loan_deduction)>0&&t.jsxs("tr",{className:"border-b",children:[t.jsx("td",{className:"py-1.5",children:"Loan Deduction"}),t.jsx("td",{className:"py-1.5 text-right",children:b(y.monthly.deductions.loan_deduction)})]}),parseFloat(y.monthly.deductions.advance_deduction)>0&&t.jsxs("tr",{className:"border-b",children:[t.jsx("td",{className:"py-1.5",children:"Advance Deduction"}),t.jsx("td",{className:"py-1.5 text-right",children:b(y.monthly.deductions.advance_deduction)})]}),y.monthly.deductions.other_deductions>0&&t.jsxs("tr",{className:"border-b",children:[t.jsx("td",{className:"py-1.5",children:"Other Deductions"}),t.jsx("td",{className:"py-1.5 text-right",children:b(y.monthly.deductions.other_deductions)})]}),t.jsxs("tr",{className:"bg-gray-50 font-bold",children:[t.jsx("td",{className:"py-2",children:"Total Deductions"}),t.jsx("td",{className:"py-2 text-right",children:b(y.monthly.deductions.total_deductions)})]})]})})]})]}),t.jsx(i,{className:"my-4"}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"mb-3 bg-gray-100 p-2 text-sm font-bold uppercase",children:"Employee & Employer Contributions"}),t.jsxs("table",{className:"w-full text-xs",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b-2 bg-gray-50",children:[t.jsx("th",{className:"py-2 text-left font-semibold",children:"Component"}),t.jsx("th",{className:"py-2 text-right font-semibold",children:"Employee"}),t.jsx("th",{className:"py-2 text-right font-semibold",children:"Employer"}),t.jsx("th",{className:"py-2 text-right font-semibold",children:"Total"})]})}),t.jsxs("tbody",{children:[(y.monthly.deductions.pf_contribution>0||y.monthly.employer_contributions.pf>0)&&t.jsxs("tr",{className:"border-b",children:[t.jsx("td",{className:"py-1.5",children:"PF Contribution"}),t.jsx("td",{className:"py-1.5 text-right",children:b(y.monthly.deductions.pf_contribution)}),t.jsx("td",{className:"py-1.5 text-right",children:b(y.monthly.employer_contributions.pf)}),t.jsx("td",{className:"py-1.5 text-right font-semibold",children:b(y.monthly.deductions.pf_contribution+y.monthly.employer_contributions.pf)})]}),(y.monthly.deductions.nps_contribution>0||y.monthly.employer_contributions.nps>0)&&t.jsxs("tr",{className:"border-b",children:[t.jsx("td",{className:"py-1.5",children:"NPS Contribution"}),t.jsx("td",{className:"py-1.5 text-right",children:b(y.monthly.deductions.nps_contribution)}),t.jsx("td",{className:"py-1.5 text-right",children:b(y.monthly.employer_contributions.nps)}),t.jsx("td",{className:"py-1.5 text-right font-semibold",children:b(y.monthly.deductions.nps_contribution+y.monthly.employer_contributions.nps)})]}),(y.monthly.deductions.esi_contribution>0||y.monthly.employer_contributions.esi>0)&&t.jsxs("tr",{className:"border-b",children:[t.jsx("td",{className:"py-1.5",children:"ESI Contribution"}),t.jsx("td",{className:"py-1.5 text-right",children:b(y.monthly.deductions.esi_contribution)}),t.jsx("td",{className:"py-1.5 text-right",children:b(y.monthly.employer_contributions.esi)}),t.jsx("td",{className:"py-1.5 text-right font-semibold",children:b(y.monthly.deductions.esi_contribution+y.monthly.employer_contributions.esi)})]}),t.jsxs("tr",{className:"bg-gray-50 font-bold",children:[t.jsx("td",{className:"py-2",children:"Total Contributions"}),t.jsx("td",{className:"py-2 text-right",children:b(y.monthly.deductions.pf_contribution+y.monthly.deductions.nps_contribution+y.monthly.deductions.esi_contribution)}),t.jsx("td",{className:"py-2 text-right",children:b(y.monthly.employer_contributions.total)}),t.jsx("td",{className:"py-2 text-right",children:b(y.monthly.deductions.pf_contribution+y.monthly.deductions.nps_contribution+y.monthly.deductions.esi_contribution+y.monthly.employer_contributions.total)})]})]})]})]}),t.jsx(i,{className:"my-4 bg-gray-800"}),t.jsx("div",{className:"mb-6 bg-gray-800 p-4 text-white",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-lg font-bold",children:"NET SALARY (In Hand)"}),t.jsx("span",{className:"text-2xl font-bold",children:b(y.monthly.net_salary)})]})}),t.jsx("div",{className:"border-gray-800 ",children:t.jsx("p",{className:"text-center text-xs text-gray-600",children:"This is a system generated salary slip and does not require a signature."})})]})]})]});var j}export{c as default};
