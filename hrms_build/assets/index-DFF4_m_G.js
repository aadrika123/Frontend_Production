import{r as e,j as s,aE as a,an as t,ak as l}from"./vendor-RyuIgj66.js";import{u as n,n as o,D as r,q as i,r as d,s as c,v as m,w as u,x,y as f,b as h,h as p,d as g,e as b,z as v,H as j,L as N}from"./index-ey2GEmQz.js";import{_ as y,$ as w,a0 as k,a1 as A,a2 as C,a3 as $,a4 as D,a5 as E,a6 as S,a7 as R,a8 as L,a9 as P}from"./ui-B3c1eQmf.js";import{y as I,ar as z,as as F,at as M,au as _,av as T,m as U,Z as B}from"./icons-CxCh8mm_.js";import{a as H,b as K}from"./useCustomQuery-DTB6aAiD.js";const W=e.forwardRef(({className:e,...a},t)=>s.jsx(y,{ref:t,className:o("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...a}));W.displayName=y.displayName;const q=e.forwardRef(({className:e,...a},t)=>s.jsx(w,{ref:t,className:o("aspect-square h-full w-full",e),...a}));q.displayName=w.displayName;const O=e.forwardRef(({className:e,...a},t)=>s.jsx(k,{ref:t,className:o("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...a}));O.displayName=k.displayName;const Q=(e,t,l)=>{a({customUI:({onClose:a})=>s.jsxs("div",{children:[s.jsx("div",{className:"fixed inset-0 bg-black opacity-50"}),s.jsxs("div",{className:"bg-white dark:bg-gray-700 py-4 px-12 shadow-lg rounded-md z-10 relative",children:[s.jsx("h1",{className:"text-lg font-bold",children:e}),s.jsx("p",{className:"text-sm",children:t}),s.jsxs("div",{className:"flex justify-end mt-4",children:[s.jsx("button",{className:"bg-red-500 text-white px-4 py-1 rounded-md",onClick:()=>{l(),a()},children:"Yes"}),s.jsx("button",{className:"bg-gray-500 text-white px-4 py-1 rounded-md ml-2",onClick:a,children:"No"})]})]})]})})};function Y(){const{user:e,logout:a}=n();return t(),s.jsxs(r,{children:[s.jsx(i,{asChild:!0,children:s.jsx(d,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:s.jsxs(W,{className:"h-10 w-10",children:[s.jsx(q,{src:(null==e?void 0:e.imgFullPath)||"/images/user.png",alt:"profile"}),s.jsx(O,{children:"SN"})]})})}),s.jsxs(c,{className:"w-56",align:"end",forceMount:!0,children:[s.jsx(m,{className:"cursor-pointer font-normal",onClick:()=>{window.location.href="/settings/dashboard/home"},children:s.jsxs("div",{className:"flex flex-col space-y-1",children:[s.jsx("p",{className:"text-sm font-medium leading-none",children:null==e?void 0:e.fullName}),s.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:null==e?void 0:e.email})]})}),s.jsx(u,{}),s.jsxs(x,{children:[s.jsxs(f,{onClick:()=>window.location.replace("/settings/dashboard/home"),className:"flex items-center gap-2",children:[s.jsx(I,{size:16}),s.jsx("span",{children:"Profile"})]}),s.jsxs(f,{onClick:()=>window.location.replace("/settings/dashboard/change-password"),className:"flex items-center gap-2",children:[s.jsx(z,{size:16}),s.jsx("span",{children:"Change Password"})]}),s.jsxs(f,{onClick:()=>window.location.replace("/settings/dashboard/notification"),className:"flex items-center gap-2",children:[s.jsx(F,{size:16}),s.jsx("span",{children:"Notifications"})]})]}),s.jsxs(f,{onClick:()=>{Q("Are you sure?","Please confirm",async()=>{a()})},className:"flex items-center gap-2 text-red-600 focus:text-red-600",children:[s.jsx(M,{size:16}),s.jsx("span",{children:"Log out"})]})]})]})}function Z(){var e;return K({api:`${null==(e=p)?void 0:e.getAllDesignationMstr}?page=1&limit=1000`,key:"getDesignationMastersads",value:[],options:{enabled:!0}})}function G(){var e;return K({api:`${null==(e=p)?void 0:e.getAllDocumentTypes}?page=1&limit=1000`,key:"getAllDocumentTypes",value:[],options:{enabled:!0}})}function J(e){var s;return K({api:`${null==(s=p)?void 0:s.getModuleAccessByEmpId}?emp_id=${e}`,key:"getEmployeeModuleAccess",value:[e],options:{enabled:!!e}})}function V(){var e;return H({api:`${null==(e=h)?void 0:e.getUserTypeAuth}`,key:"getUserTypeAuth",value:[],options:{enabled:!0}})}function X(e){var s;return H({api:`${null==(s=h)?void 0:s.getPermittedRoleAuth}`,key:"getPermittedRoleAuth",config:{userId:e},value:[e],options:{enabled:!!e}})}function ee(e){var s;return H({api:`${null==(s=h)?void 0:s.getWorkFlowRoleAuth}`,key:"getWorkFlowRoleAuth",config:{userId:e},value:[e],options:{enabled:!!e}})}function se(e){var s;return H({api:`${null==(s=h)?void 0:s.getWardAuth}`,key:"getWardAuthA213213",config:{userId:e},value:[e],options:{enabled:!!e}})}function ae(){var e;return H({api:`${null==(e=h)?void 0:e.getAllDepartmentFromAuth}`,key:"getAllDepartmentFromAuth",config:{},value:[],options:{enabled:!0}})}function te(){var e;return H({api:`${null==(e=h)?void 0:e.moduleListAuth}`,key:"moduleListAuth",config:{},value:[],options:{enabled:!0}})}function le(){var e;return K({api:`${null==(e=p)?void 0:e.getAllPayCommissions}`,key:"getPayCommissionListForDropdown",value:[],options:{enabled:!0}})}function ne(e){var s;return K({api:`${null==(s=p)?void 0:s.getAllPayLevels}?pay_commission_id=${e}`,key:"getPayLevelByCommissionId",value:[e],options:{enabled:!!e}})}function oe(e){var s;return K({api:`${null==(s=p)?void 0:s.getAllPayMatrix}?pay_level_id=${e}`,key:`getPayMatrixByPayLevelId-${e}`,value:[e],options:{enabled:!!e}})}function re(){var a,t,l;const[n,o]=e.useState(""),r=function(){var e;return H({api:`${null==(e=h)?void 0:e.getAllUlb}`,key:"getAllUlb",config:{},value:[],options:{enabled:!0}})}();e.useEffect(()=>{const e=localStorage.getItem("ulbId");if(e){const s=g(e);s&&o(s)}},[]);return null==(t=null==(a=null==r?void 0:r.data)?void 0:a.data.find(e=>e.id==n))||t.ulb_name,s.jsx("div",{className:"relative",children:s.jsxs("select",{value:n,onChange:e=>{const s=e.target.options[e.target.selectedIndex].text,a=e.target.value;if(!a)return;o(a);const t=b(a);localStorage.setItem("ulbId",t),localStorage.setItem("ulbName",s),window.location.href="/hrms"},className:"w-full cursor-pointer rounded-md border border-slate-300 bg-white py-2 pl-3 pr-10 text-sm text-slate-700 shadow-sm focus:border-slate-500 focus:outline-none focus:ring-1 focus:ring-slate-500 disabled:cursor-not-allowed disabled:opacity-50",children:[s.jsx("option",{value:"",disabled:!0,className:"text-xs text-slate-400",children:"Select ULB"}),null==(l=null==r?void 0:r.data)?void 0:l.data.map(e=>s.jsx("option",{value:e.id,className:"text-slate-700",children:e.ulb_name},e.id))]})})}const ie=A,de=C,ce=D,me=$,ue=e.forwardRef(({className:e,...a},t)=>s.jsx(P,{ref:t,className:o("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a}));ue.displayName=P.displayName;const xe=e.forwardRef(({className:e,children:a,...t},l)=>s.jsxs(ce,{children:[s.jsx(ue,{}),s.jsxs(E,{ref:l,className:o("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t,children:[a,s.jsxs($,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(S,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));xe.displayName=E.displayName;const fe=({className:e,...a})=>s.jsx("div",{className:o("flex flex-col space-y-1.5 text-center sm:text-left",e),...a});fe.displayName="DialogHeader";const he=({className:e,...a})=>s.jsx("div",{className:o("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...a});he.displayName="DialogFooter";const pe=e.forwardRef(({className:e,...a},t)=>s.jsx(R,{ref:t,className:o("text-lg font-semibold leading-none tracking-tight",e),...a}));pe.displayName=R.displayName;const ge=e.forwardRef(({className:e,...a},t)=>s.jsx(L,{ref:t,className:o("text-sm text-muted-foreground",e),...a}));function be({links:a}){const[l,n]=e.useState(""),[r,i]=e.useState([]),[d,c]=e.useState(!1),[m,u]=e.useState(-1),[x,f]=e.useState(!1),h=e.useRef(null),p=e.useRef(null),g=t(),b=(e,s=[])=>{const a=[];return e.forEach(e=>{e.href&&a.push({title:e.title,href:e.href,path:[...s,e.title]}),e.sub&&e.sub.length>0&&a.push(...b(e.sub,[...s,e.title]))}),a};e.useEffect(()=>{if(""===l.trim())return i([]),c(!1),void u(-1);const e=b(a.filter(e=>e.is_sidebar)),s=l.toLowerCase(),t=e.filter(e=>e.title.toLowerCase().includes(s)||e.path.some(e=>e.toLowerCase().includes(s)));i(t.slice(0,10)),c(!0),u(-1)},[l,a]),e.useEffect(()=>{x||(n(""),i([]),c(!1),u(-1))},[x]),e.useEffect(()=>{const e=e=>{(e.ctrlKey||e.metaKey)&&"k"===e.key&&(e.preventDefault(),f(!0),setTimeout(()=>{var e;return null==(e=p.current)?void 0:e.focus()},100))};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[]);const v=e=>{g(e),f(!1)};return s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>f(!0),className:o("flex items-center gap-2 rounded-lg border border-slate-200 bg-white px-3 py-1.5 text-sm text-slate-500 transition-all","hover:border-slate-300 hover:bg-slate-50","focus:outline-none focus:ring-2 focus:ring-blue-100"),children:[s.jsx(_,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden md:inline",children:"Search menu..."}),s.jsxs("kbd",{className:"hidden items-center gap-1 rounded border border-slate-200 bg-slate-50 px-1.5 py-0.5 text-xs font-medium text-slate-500 lg:inline-flex",children:[s.jsx(T,{className:"h-3 w-3"}),"K"]})]}),s.jsx(ie,{open:x,onOpenChange:f,children:s.jsxs(xe,{className:"sm:max-w-[600px]",children:[s.jsx(fe,{children:s.jsx(pe,{className:"sr-only",children:"Search Menu"})}),s.jsxs("div",{ref:h,className:"space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(_,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-slate-400"}),s.jsx("input",{ref:p,type:"text",placeholder:"Search menu items...",value:l,onChange:e=>n(e.target.value),onKeyDown:e=>{var s,a;if(d&&0!==r.length)switch(e.key){case"ArrowDown":e.preventDefault(),u(e=>e<r.length-1?e+1:0);break;case"ArrowUp":e.preventDefault(),u(e=>e>0?e-1:r.length-1);break;case"Enter":e.preventDefault(),m>=0&&m<r.length&&v(r[m].href);break;case"Escape":c(!1),f(!1),null==(a=p.current)||a.blur()}else"Escape"===e.key&&(f(!1),c(!1),null==(s=p.current)||s.blur())},className:o("w-full rounded-lg border border-slate-300 bg-white py-3 pl-10 pr-10 text-base outline-none transition-all","placeholder:text-slate-400","focus:border-blue-400 focus:ring-2 focus:ring-blue-100"),autoFocus:!0}),l&&s.jsx("button",{onClick:()=>{var e;n(""),c(!1),null==(e=p.current)||e.focus()},className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:s.jsx(U,{className:"h-5 w-5"})})]}),l&&s.jsx("div",{className:"max-h-[400px] overflow-y-auto rounded-lg border border-slate-200",children:r.length>0?s.jsx("div",{className:"divide-y divide-slate-100",children:r.map((e,a)=>s.jsx("button",{onClick:()=>v(e.href),className:o("w-full px-4 py-3 text-left transition-colors",m===a?"bg-blue-50 text-blue-900":"text-slate-700 hover:bg-slate-50"),children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_,{className:"h-4 w-4 text-slate-400"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm font-medium",children:e.title}),e.path.length>1&&s.jsx("div",{className:"mt-0.5 text-xs text-slate-500",children:e.path.slice(0,-1).join(" › ")})]})]})},`${e.href}-${a}`))}):s.jsxs("div",{className:"p-8 text-center text-sm text-slate-500",children:['No menu items found for "',l,'"']})}),!l&&s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-8 text-center",children:[s.jsx(_,{className:"mx-auto h-12 w-12 text-slate-300"}),s.jsx("p",{className:"mt-3 text-sm text-slate-600",children:"Type to search menu items"}),s.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Use ↑↓ to navigate, Enter to select, Esc to close"})]})]})]})})]})}ge.displayName=L.displayName;const ve=e.forwardRef(({children:a,title:t="",subTitle:o="",searchLink:r="",meta:i,name:d,code:c,description:m,...u},x)=>{!function(s=""){const{setTitle:a}=n();e.useEffect(()=>{a(s)},[s])}(t);const{user:f}=n(),h=v();return e.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},[t]),s.jsxs(s.Fragment,{children:[s.jsxs(j,{children:[s.jsx("title",{children:`${t} | HRMS`}),i]}),s.jsx("div",{ref:x,...u,children:s.jsxs(N,{fixed:!0,children:[s.jsxs(N.Header,{sticky:!0,className:"border-b bg-white/80 shadow-sm backdrop-blur-md",children:[s.jsxs("div",{className:"flex w-full items-center justify-between gap-3 px-2 sm:px-4",children:[s.jsx("div",{className:"hidden lg:block lg:w-8"}),s.jsx("div",{className:"flex flex-1 items-center justify-center",children:s.jsx("div",{className:"max-w-xs sm:max-w-sm md:max-w-md lg:max-w-lg",children:s.jsx("h1",{className:"truncate bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 bg-clip-text text-center text-lg font-bold tracking-tight text-transparent sm:text-xl md:text-2xl",children:"SUPER ADMIN"===(null==f?void 0:f.roleName)?s.jsx(re,{}):(null==f?void 0:f.ulbName)||""})})}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 md:gap-4",children:[s.jsx("div",{className:"hidden sm:block",children:s.jsx(be,{links:h})}),s.jsx("div",{className:"hidden min-w-0 flex-col items-end md:flex",children:s.jsx("span",{className:"truncate rounded-full border border-blue-200 bg-gradient-to-r from-blue-50 to-indigo-50 px-3 py-1.5 text-xs font-semibold text-blue-700 shadow-sm",children:(null==f?void 0:f.roleName)||""})}),s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Y,{})})]})]}),s.jsxs("div",{className:"flex items-center justify-between gap-2 border-t border-slate-100 px-2 py-2 sm:hidden",children:[s.jsx(be,{links:h}),s.jsx("span",{className:"truncate rounded-full border border-blue-200 bg-gradient-to-r from-blue-50 to-indigo-50 px-2.5 py-1 text-xs font-semibold text-blue-700",children:(null==f?void 0:f.roleName)||""})]})]}),s.jsxs(N.Body,{children:[s.jsxs("div",{className:"mb-2 sm:mb-4",children:[s.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between",children:[s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h2",{className:"mb-1 bg-gradient-to-r from-slate-900 to-slate-700 bg-clip-text text-xl font-bold tracking-tight text-transparent sm:text-2xl",children:t}),o&&s.jsx("p",{className:"text-sm leading-relaxed text-slate-600 sm:text-base",children:o})]}),(d||c)&&s.jsx("div",{className:"flex-shrink-0",children:s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-gradient-to-br from-slate-50 to-white p-2 shadow-sm",children:[d&&s.jsxs("div",{className:"mb-1 text-sm font-bold text-slate-900",children:["Name-: ",d]}),c&&s.jsxs("div",{className:"rounded bg-slate-100  font-mono text-xs font-bold text-slate-800",children:["Employee Code-: ",c]})]})})]}),r&&s.jsx("div",{className:"mt-4",children:s.jsxs(l,{className:"inline-flex items-center gap-2 rounded-lg bg-gradient-to-r from-blue-600 to-indigo-600 px-4 py-2.5 text-sm font-semibold text-white shadow-md transition-all hover:from-blue-700 hover:to-indigo-700 hover:shadow-lg active:scale-95",to:r,target:"_blank",children:[s.jsx(B,{className:"h-4 w-4"}),"Search Details"]})})]}),s.jsx("div",{className:"flex-1 overflow-auto",children:a})]})]})})]})});export{Q as C,ie as D,ve as P,G as a,de as b,xe as c,Z as d,fe as e,pe as f,ae as g,ge as h,he as i,me as j,te as k,V as l,ee as m,X as n,se as o,J as p,oe as q,le as r,ne as s};
