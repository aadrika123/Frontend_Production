import{r as e,h as s,f as a,j as r,l as t,B as l}from"./index-C0dR7KKl.js";import{P as i}from"./index-DLwgcCrU.js";import{C as n,a as o,b as d,c}from"./card-dfHK731x.js";import{T as m,a as x,b as h,c as j,d as u,e as g}from"./table-DGsqq0wP.js";import{B as p}from"./badge-ssHwjf40.js";import{b as v}from"./useCustomQuery-DfubPPhS.js";import{P as f}from"./index-CtQoh3RB.js";import{S as y}from"./separator-DK9wbIss.js";import{S as b}from"./index-DxKRME66.js";import{S as N}from"./Spinner-Bh5S-NfG.js";import{S as w}from"./index-D9o-DGz6.js";import{W as S}from"./wallet-lKetbRny.js";import{E as _}from"./eye-CUs8EANW.js";import{F as C}from"./file-text-BD6EF3bc.js";import{C as $}from"./circle-check-big-C251ryKd.js";import{C as P}from"./clock-zyZI13Cr.js";import{C as E}from"./circle-alert-BgC9j19D.js";import{C as k}from"./circle-x-BSdROGAg.js";import"./input-5m-sj67D.js";import"./select-PSqof_An.js";import"./check-DJnOI1b1.js";const D=(e,s)=>{if(!e)return r.jsxs(p,{variant:"outline",className:"text-gray-500",children:[r.jsx(E,{className:"mr-1 h-3 w-3"}),"No Declaration"]});switch(s){case"approved":case"verified":return r.jsxs(p,{variant:"default",className:"bg-green-100 text-green-700",children:[r.jsx($,{className:"mr-1 h-3 w-3"}),"Approved"]});case"pending":return r.jsxs(p,{variant:"secondary",className:"bg-yellow-100 text-yellow-700",children:[r.jsx(P,{className:"mr-1 h-3 w-3"}),"Pending"]});case"rejected":return r.jsxs(p,{variant:"destructive",children:[r.jsx(k,{className:"mr-1 h-3 w-3"}),"Rejected"]});default:return r.jsxs(p,{variant:"outline",children:[r.jsx(P,{className:"mr-1 h-3 w-3"}),s]})}};function O(){var i,E,k,O,B,F,I,L,R,T,W,z;const[A,Q]=e.useState(1),[V,q]=e.useState(10),[M,Y]=e.useState(""),[Z,G]=e.useState(""),H=v({api:`${s.getEmployeesWithSalaryOverview}?page=${A}&limit=${V}&q=${M}&department_id=${a(Z)}`,key:"getEmployeesWithSalaryOverview",value:[A,V,Z],options:{enabled:!0}});return r.jsx("main",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50",children:r.jsx("div",{className:"space-y-6",children:r.jsxs(n,{className:"border border-gray-200 bg-white shadow-lg",children:[r.jsx(o,{className:"rounded-t-lg bg-gradient-to-r from-blue-600 to-indigo-600 text-white",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(S,{className:"h-6 w-6"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold",children:"Salary Overview"}),r.jsxs(d,{className:"mt-1 text-blue-100",children:["Total Employees:"," ",(null==(E=null==(i=null==H?void 0:H.data)?void 0:i.pagination)?void 0:E.total)||0]})]})]})})}),r.jsxs(c,{className:"p-6",children:[r.jsx("div",{className:"mb-6",children:r.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Search Employee"}),r.jsx(b,{setSearch:Y,search:M,refetch:null==H?void 0:H.refetch})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Filter by Department"}),r.jsx(w,{departmentId:Z,setDepartmentId:G})]})]})}),r.jsx(y,{className:"my-6"}),H.isLoading?r.jsx("div",{className:"flex items-center justify-center py-20",children:r.jsx(N,{})}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200",children:r.jsxs(m,{children:[r.jsx(x,{children:r.jsxs(h,{className:"bg-gray-50 hover:bg-gray-50",children:[r.jsx(j,{className:"w-16 font-semibold text-gray-700",children:"#"}),r.jsx(j,{className:"font-semibold text-gray-700",children:"Employee Code"}),r.jsx(j,{className:"font-semibold text-gray-700",children:"Employee Name"}),r.jsx(j,{className:"font-semibold text-gray-700",children:"Department"}),r.jsx(j,{className:"font-semibold text-gray-700",children:"Basic Pay"}),r.jsx(j,{className:"font-semibold text-gray-700",children:"Salary Status"}),r.jsx(j,{className:"font-semibold text-gray-700",children:"Declaration"}),r.jsx(j,{className:"text-center font-semibold text-gray-700",children:"Actions"})]})}),r.jsx(u,{children:0===(null==(O=null==(k=null==H?void 0:H.data)?void 0:k.data)?void 0:O.length)?r.jsx(h,{children:r.jsx(g,{colSpan:8,className:"py-8 text-center text-gray-500",children:"No employees found"})}):null==(F=null==(B=null==H?void 0:H.data)?void 0:B.data)?void 0:F.map((e,s)=>{var i,n,o,d;return r.jsxs(h,{className:"transition-colors duration-150 hover:bg-blue-50/50",children:[r.jsx(g,{className:"font-medium text-gray-600",children:(A-1)*V+s+1}),r.jsx(g,{className:"font-mono text-sm font-medium text-blue-600",children:r.jsx(t,{to:`/hrms/dashboard/view-employee/${a(String(e.id))}`,className:"hover:underline",children:e.emp_code})}),r.jsx(g,{className:"font-medium text-gray-900",children:e.emp_name}),r.jsx(g,{className:"text-gray-700",children:e.department_name}),r.jsx(g,{className:"font-medium text-gray-900",children:(d=e.current_basic_pay,null==d?"—":`₹${d.toLocaleString("en-IN")}`)}),r.jsx(g,{children:(o=e.salary_configured,o?r.jsxs(p,{variant:"default",className:"bg-green-100 text-green-700",children:[r.jsx($,{className:"mr-1 h-3 w-3"}),"Configured"]}):r.jsxs(p,{variant:"secondary",className:"bg-yellow-100 text-yellow-700",children:[r.jsx(P,{className:"mr-1 h-3 w-3"}),"Not Configured"]}))}),r.jsx(g,{children:D(e.has_declaration,null==(i=e.declaration)?void 0:i.verification_status)}),r.jsx(g,{children:r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx(t,{to:`/hrms/dashboard/salary/${a(String(e.id))}`,children:r.jsxs(l,{size:"sm",variant:"outline",className:"h-9 border-blue-200 px-3 text-blue-600 transition-all duration-200 hover:border-blue-300 hover:bg-blue-50 hover:text-blue-700",children:[r.jsx(_,{className:"mr-1 h-4 w-4"}),"Salary"]})}),e.has_declaration&&r.jsx(t,{to:`/hrms/dashboard/payroll/investment-proofs/${null==(n=e.declaration)?void 0:n.emp_id}`,children:r.jsxs(l,{size:"sm",variant:"outline",className:"h-9 border-indigo-200 px-3 text-indigo-600 transition-all duration-200 hover:border-indigo-300 hover:bg-indigo-50 hover:text-indigo-700",children:[r.jsx(C,{className:"mr-1 h-4 w-4"}),"Proofs"]})})]})})]},e.id)})})]})}),r.jsxs("div",{className:"mt-6 flex items-center justify-between rounded-lg border border-gray-200 bg-gray-50 p-4",children:[r.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",(A-1)*V+1," to"," ",Math.min(A*V,(null==(L=null==(I=null==H?void 0:H.data)?void 0:I.pagination)?void 0:L.total)||0)," ","of ",(null==(T=null==(R=null==H?void 0:H.data)?void 0:R.pagination)?void 0:T.total)||0," ","entries"]}),r.jsx(f,{page:A,limit:V,totalPages:null==(z=null==(W=null==H?void 0:H.data)?void 0:W.pagination)?void 0:z.totalPages,setPage:Q,setLimit:q})]})]})]})]})})})}function B(){return r.jsx(i,{title:"Salary Overview",subTitle:"View employee salary and declaration status",children:r.jsx(O,{})})}export{B as default};
