import{r as e,j as s,ak as a}from"./vendor-RyuIgj66.js";import{P as r}from"./index-DFF4_m_G.js";import{h as t,e as i,B as l}from"./index-ey2GEmQz.js";import{C as n,a as o,b as d,c}from"./card-u7M7FP5y.js";import{T as m,a as x,b as h,c as j,d as u,e as g}from"./table-B_npepsp.js";import{B as v}from"./badge-DbWnzWn2.js";import{b as p}from"./useCustomQuery-DTB6aAiD.js";import{P as y}from"./index-BHR1l08i.js";import{S as b}from"./separator-BQijJEjG.js";import{S as N}from"./index-CUStUwt1.js";import{S as f}from"./Spinner-BwGzvoRj.js";import{S as w}from"./index-hoesIKrQ.js";import{ax as S,E as _,N as $,_ as P,a4 as E,F as C,$ as D}from"./icons-CxCh8mm_.js";import"./ui-B3c1eQmf.js";import"./query-BH9sOW2X.js";import"./axios-Dos3PyFQ.js";import"./zustand-C1rkr5lV.js";import"./input-DlX9dTT0.js";import"./select-8PAfYjod.js";const O=(e,a)=>{if(!e)return s.jsxs(v,{variant:"outline",className:"text-gray-500",children:[s.jsx(C,{className:"mr-1 h-3 w-3"}),"No Declaration"]});switch(a){case"approved":case"verified":return s.jsxs(v,{variant:"default",className:"bg-green-100 text-green-700",children:[s.jsx(P,{className:"mr-1 h-3 w-3"}),"Approved"]});case"pending":return s.jsxs(v,{variant:"secondary",className:"bg-yellow-100 text-yellow-700",children:[s.jsx(E,{className:"mr-1 h-3 w-3"}),"Pending"]});case"rejected":return s.jsxs(v,{variant:"destructive",children:[s.jsx(D,{className:"mr-1 h-3 w-3"}),"Rejected"]});default:return s.jsxs(v,{variant:"outline",children:[s.jsx(E,{className:"mr-1 h-3 w-3"}),a]})}};function z(){var r,C,D,z,B,F,I,L,T,k,q,A;const[W,M]=e.useState(1),[Q,R]=e.useState(10),[V,G]=e.useState(""),[H,J]=e.useState(""),K=p({api:`${t.getEmployeesWithSalaryOverview}?page=${W}&limit=${Q}&q=${V}&department_id=${i(H)}`,key:"getEmployeesWithSalaryOverview",value:[W,Q,H],options:{enabled:!0}});return s.jsx("main",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50",children:s.jsx("div",{className:"space-y-6",children:s.jsxs(n,{className:"border border-gray-200 bg-white shadow-lg",children:[s.jsx(o,{className:"rounded-t-lg bg-gradient-to-r from-blue-600 to-indigo-600 text-white",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(S,{className:"h-6 w-6"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Salary Overview"}),s.jsxs(d,{className:"mt-1 text-blue-100",children:["Total Employees:"," ",(null==(C=null==(r=null==K?void 0:K.data)?void 0:r.pagination)?void 0:C.total)||0]})]})]})})}),s.jsxs(c,{className:"p-6",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Search Employee"}),s.jsx(N,{setSearch:G,search:V,refetch:null==K?void 0:K.refetch})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Filter by Department"}),s.jsx(w,{departmentId:H,setDepartmentId:J})]})]})}),s.jsx(b,{className:"my-6"}),K.isLoading?s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsx(f,{})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200",children:s.jsxs(m,{children:[s.jsx(x,{children:s.jsxs(h,{className:"bg-gray-50 hover:bg-gray-50",children:[s.jsx(j,{className:"w-16 font-semibold text-gray-700",children:"#"}),s.jsx(j,{className:"font-semibold text-gray-700",children:"Employee Code"}),s.jsx(j,{className:"font-semibold text-gray-700",children:"Employee Name"}),s.jsx(j,{className:"font-semibold text-gray-700",children:"Department"}),s.jsx(j,{className:"font-semibold text-gray-700",children:"Basic Pay"}),s.jsx(j,{className:"font-semibold text-gray-700",children:"Salary Status"}),s.jsx(j,{className:"font-semibold text-gray-700",children:"Declaration"}),s.jsx(j,{className:"text-center font-semibold text-gray-700",children:"Actions"})]})}),s.jsx(u,{children:0===(null==(z=null==(D=null==K?void 0:K.data)?void 0:D.data)?void 0:z.length)?s.jsx(h,{children:s.jsx(g,{colSpan:8,className:"py-8 text-center text-gray-500",children:"No employees found"})}):null==(F=null==(B=null==K?void 0:K.data)?void 0:B.data)?void 0:F.map((e,r)=>{var t,n,o,d;return s.jsxs(h,{className:"transition-colors duration-150 hover:bg-blue-50/50",children:[s.jsx(g,{className:"font-medium text-gray-600",children:(W-1)*Q+r+1}),s.jsx(g,{className:"font-mono text-sm font-medium text-blue-600",children:s.jsx(a,{to:`/hrms/dashboard/view-employee/${i(String(e.id))}`,className:"hover:underline",children:e.emp_code})}),s.jsx(g,{className:"font-medium text-gray-900",children:e.emp_name}),s.jsx(g,{className:"text-gray-700",children:e.department_name}),s.jsx(g,{className:"font-medium text-gray-900",children:(d=e.current_basic_pay,null==d?"—":`₹${d.toLocaleString("en-IN")}`)}),s.jsx(g,{children:(o=e.salary_configured,o?s.jsxs(v,{variant:"default",className:"bg-green-100 text-green-700",children:[s.jsx(P,{className:"mr-1 h-3 w-3"}),"Configured"]}):s.jsxs(v,{variant:"secondary",className:"bg-yellow-100 text-yellow-700",children:[s.jsx(E,{className:"mr-1 h-3 w-3"}),"Not Configured"]}))}),s.jsx(g,{children:O(e.has_declaration,null==(t=e.declaration)?void 0:t.verification_status)}),s.jsx(g,{children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(a,{to:`/hrms/dashboard/salary/${i(String(e.id))}`,children:s.jsxs(l,{size:"sm",variant:"outline",className:"h-9 border-blue-200 px-3 text-blue-600 transition-all duration-200 hover:border-blue-300 hover:bg-blue-50 hover:text-blue-700",children:[s.jsx(_,{className:"mr-1 h-4 w-4"}),"Salary"]})}),e.has_declaration&&s.jsx(a,{to:`/hrms/dashboard/payroll/investment-proofs/${null==(n=e.declaration)?void 0:n.emp_id}`,children:s.jsxs(l,{size:"sm",variant:"outline",className:"h-9 border-indigo-200 px-3 text-indigo-600 transition-all duration-200 hover:border-indigo-300 hover:bg-indigo-50 hover:text-indigo-700",children:[s.jsx($,{className:"mr-1 h-4 w-4"}),"Proofs"]})})]})})]},e.id)})})]})}),s.jsxs("div",{className:"mt-6 flex items-center justify-between rounded-lg border border-gray-200 bg-gray-50 p-4",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",(W-1)*Q+1," to"," ",Math.min(W*Q,(null==(L=null==(I=null==K?void 0:K.data)?void 0:I.pagination)?void 0:L.total)||0)," ","of ",(null==(k=null==(T=null==K?void 0:K.data)?void 0:T.pagination)?void 0:k.total)||0," ","entries"]}),s.jsx(y,{page:W,limit:Q,totalPages:null==(A=null==(q=null==K?void 0:K.data)?void 0:q.pagination)?void 0:A.totalPages,setPage:M,setLimit:R})]})]})]})]})})})}function B(){return s.jsx(r,{title:"Salary Overview",subTitle:"View employee salary and declaration status",children:s.jsx(z,{})})}export{B as default};
