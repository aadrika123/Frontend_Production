import{r as e,n as s,f as a,j as l,B as t,x as n,h as i,T as r,y as d,A as o,C as c,R as m,v as x,L as h,l as u,D as p,N as b,O as j,z as f}from"./index-BJ2Di0BB.js";import{C as g,c as v,a as N,d as y,b as w}from"./card-CrOEotWM.js";import{A as _,a as S,b as k,T as C,c as P,d as A,e as F,f as T}from"./alert-BMnZh-St.js";import{B as R}from"./badge-DufY8Gpx.js";import{a as D,o as I,c as E,b as M,d as O}from"./yup-BTlf5Wf5.js";import{F as B}from"./datetime-picker-cKnQNXMD.js";import{R as G}from"./RHFTextField-BK1QXo_s.js";import{R as L}from"./RHFSelectField-CxYg0t7R.js";import"./select-4D5dQM-6.js";import{r as q,t as $,u as H,D as Y,e as V,f as U,h as X,i as z,j as W,P as Z}from"./index-L2kacWh6.js";import{S as J}from"./separator-BtSn9EpY.js";import{C as Q,I as K,W as ee,P as se,B as ae,a as le,S as te,T as ne}from"./wallet-CBMGLEcE.js";import{C as ie}from"./circle-alert-BAbvq769.js";import{A as re}from"./award-Bme9fHms.js";import{B as de}from"./building-2-UU31lvnR.js";import{C as oe}from"./calendar-days-DWOqLpZP.js";import{L as ce}from"./loader-circle--1riX2Rm.js";import{C as me}from"./circle-check-DwPXeHSD.js";import{E as xe}from"./eye-BEN4pZFN.js";import{T as he}from"./trending-up-BYweVeOB.js";import{F as ue}from"./file-text-DAcXk-69.js";import{b as pe,u as be}from"./useCustomQuery-DkqDqiry.js";import{F as je}from"./filter-nT3vt2EM.js";import{G as fe}from"./grid-3x3-BSgvruiA.js";import{C as ge}from"./calendar-B99NsLtP.js";import{D as ve}from"./download-B9AtpfuH.js";import{S as Ne}from"./square-pen-HR786vv8.js";import{B as ye}from"./ButtonLoading-B5GmY3N3.js";import{R as we}from"./SelectField-DiJp5Ra2.js";import{D as _e}from"./index-ClKtlEeL.js";import"./clock-PqgEqIzL.js";import"./check-DiqtQ1XW.js";import"./Spinner-DjUjMlqR.js";const Se=E({emp_id:M().optional(),pay_commission_id:M().required("Pay Commission is required"),pay_commission_name:M().optional(),is_matrix_based:O().optional(),pay_level_id:M().required("Pay Level is required"),cell_index:M().when("is_matrix_based",{is:!0,then:e=>e.required("Cell Index is required"),otherwise:e=>e.optional()}),grade_pay:M().when("is_matrix_based",{is:!1,then:e=>e.required("Grade Pay is required"),otherwise:e=>e.default("0")}),city_classification:M().required("City Classification is required"),hra_percentage:M().nullable().optional(),transport_allowance:M().default("0"),medical_allowance:M().default("0"),special_allowance:M().default("0"),pension_scheme:M().required("Pension Scheme is required"),nps_contribution_rate:M().nullable().optional(),gpf_contribution_rate:M().nullable().optional(),pf_employee_contribution_rate:M().nullable().optional(),bank_name:M().required("Bank Name is required"),bank_account_no:M().required("Bank Account Number is required"),bank_ifsc:M().required("IFSC Code is required"),tax_regime:M().oneOf(["old","new"],"Tax Regime must be either old or new").required("Tax Regime is required"),effective_from:M().required("Effective Date is required")});function ke({empId:m,onEstimateComplete:x}){var h,u,p,b,j,f,C,P,A,F,T,R,E,M,O,Z,te,ne,pe,be,je,fe,ge,ve,Ne,ye,we,_e,ke,Ce,Pe,Ae,Fe,Te,Re,De,Ie,Ee,Me,Oe,Be,Ge,Le,qe,$e,He,Ye,Ve,Ue,Xe,ze,We,Ze,Je,Qe,Ke,es,ss,as,ls,ts,ns,is,rs,ds,os,cs,ms,xs,hs,us,ps,bs,js,fs,gs,vs,Ns,ys,ws,_s,Ss,ks,Cs,Ps,As,Fs,Ts,Rs,Ds,Is,Es,Ms,Os,Bs,Gs,Ls,qs,$s,Hs,Ys,Vs,Us,Xs,zs,Ws,Zs,Js,Qs,Ks,ea,sa,aa,la,ta,na,ia,ra,da,oa,ca,ma,xa,ha,ua,pa,ba,ja,fa,ga;const[va,Na]=e.useState(!1),[ya,wa]=e.useState(null),[_a,Sa]=e.useState(null),[ka,Ca]=e.useState(null),[Pa,Aa]=e.useState(!1),[Fa,Ta]=e.useState(1),Ra=D({resolver:I(Se),defaultValues:{emp_id:s(String(m)),grade_pay:"0",transport_allowance:"3600",medical_allowance:"500",special_allowance:"0",tax_regime:"new",pension_scheme:"NPS",nps_contribution_rate:"10"}}),{watch:Da}=Ra,{data:Ia}=q(),{data:Ea}=$(a(Da("pay_commission_id"))),{data:Ma}=H(a(Da("pay_level_id"))),Oa=Da("pension_scheme"),Ba=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(e);e.useEffect(()=>{var e;if(Da("pay_commission_id")){const s=null==(e=null==Ia?void 0:Ia.data)?void 0:e.find(e=>e.id===Number(Da("pay_commission_id")));s&&Ra.setValue("is_matrix_based",s.is_matrix_based)}},[Da("pay_commission_id")]),e.useEffect(()=>{var e;if(Da("pay_level_id")){const s=null==(e=null==Ea?void 0:Ea.data)?void 0:e.find(e=>e.id===Number(Da("pay_level_id")));s&&Ra.setValue("grade_pay",String(s.grade_pay))}},[Da("pay_level_id")]);const Ga=({content:e})=>l.jsx(r,{children:l.jsxs(d,{children:[l.jsx(o,{asChild:!0,children:l.jsx(K,{className:"ml-1 inline h-3.5 w-3.5 cursor-help text-slate-400 hover:text-slate-600"})}),l.jsx(c,{className:"max-w-xs",children:l.jsx("p",{className:"text-sm",children:e})})]})});return l.jsxs("div",{className:"space-y-6 p-6",children:[l.jsx("div",{className:"space-y-2",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-blue-600",children:l.jsx(Q,{className:"h-6 w-6 text-white"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold tracking-tight text-slate-900",children:"Salary Configuration"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Configure employee salary structure and calculate compensation"})]})]})}),l.jsxs(_,{className:"border-l-4 border-l-blue-600 bg-slate-50",children:[l.jsx(ie,{className:"h-4 w-4 text-blue-600"}),l.jsx(S,{className:"text-sm font-semibold text-slate-900",children:"Getting Started"}),l.jsxs(k,{className:"text-sm text-slate-600",children:["Fill in the form below to configure salary. Hover over"," ",l.jsx(K,{className:"inline h-3.5 w-3.5"})," icons for help."]})]}),l.jsx(g,{className:"border-slate-200 shadow-sm",children:l.jsx(v,{className:"p-6",children:l.jsxs(B,{methods:Ra,onSubmit:Ra.handleSubmit(async e=>{var s,a;Na(!0);try{const s=await n.post(i.estimateSalary,{emp_id:Number(e.emp_id),pay_commission_id:Number(e.pay_commission_id),pay_level_id:Number(e.pay_level_id),...e.is_matrix_based&&{cell_index:Number(e.cell_index)},...!e.is_matrix_based&&{grade_pay:Number(e.grade_pay)},city_classification:e.city_classification,hra_percentage:Number(e.hra_percentage)||null,transport_allowance:Number(e.transport_allowance),medical_allowance:Number(e.medical_allowance),special_allowance:Number(e.special_allowance),pension_scheme:e.pension_scheme,..."NPS"===e.pension_scheme&&{nps_contribution_rate:Number(e.nps_contribution_rate),pf_employee_contribution_rate:Number(e.pf_employee_contribution_rate)},..."OPS"===e.pension_scheme&&{gpf_contribution_rate:Number(e.gpf_contribution_rate)},..."EPF_ONLY"===e.pension_scheme&&{pf_employee_contribution_rate:Number(e.pf_employee_contribution_rate)},bank_name:e.bank_name,bank_account_no:e.bank_account_no,bank_ifsc:e.bank_ifsc,tax_regime:e.tax_regime,effective_from:e.effective_from});s.data.success&&(wa(s.data),null==x||x(s.data,e))}catch(l){alert((null==(a=null==(s=null==l?void 0:l.response)?void 0:s.data)?void 0:a.message)||"Failed to estimate salary")}finally{Na(!1)}}),children:[l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2 pb-2",children:[l.jsx(re,{className:"h-5 w-5 text-blue-600"}),l.jsx("h3",{className:"text-base font-semibold text-slate-900",children:"Pay Structure"})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[l.jsxs("div",{className:"space-y-1.5",children:[l.jsxs("label",{className:"flex items-center text-sm font-medium text-slate-700",children:["Pay Commission ",l.jsx("span",{className:"text-red-500",children:"*"}),l.jsx(Ga,{content:"The pay commission determines the salary structure and rules applicable to the employee"})]}),l.jsx(L,{selectedText:"pay_commission_name",name:"pay_commission_id",label:"",data:(null==(h=null==Ia?void 0:Ia.data)?void 0:h.map(e=>({label:String(e.commission_name),value:String(e.id)})))||[]})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsxs("label",{className:"flex items-center text-sm font-medium text-slate-700",children:["Pay Level ",l.jsx("span",{className:"text-red-500",children:"*"}),l.jsx(Ga,{content:"Pay level defines the grade and salary range. Select pay commission first."})]}),l.jsx(L,{name:"pay_level_id",label:"",data:(null==(u=null==Ea?void 0:Ea.data)?void 0:u.map(e=>({label:`${e.level_name} (₹${e.min_basic_pay} - ₹${e.max_basic_pay})`,value:String(e.id)})))||[],disabled:!Ra.watch("pay_commission_id")})]}),Ra.watch("is_matrix_based")&&l.jsxs("div",{className:"space-y-1.5",children:[l.jsxs("label",{className:"flex items-center text-sm font-medium text-slate-700",children:["Cell Index ",l.jsx("span",{className:"text-red-500",children:"*"}),l.jsx(Ga,{content:"Cell index determines the exact basic pay within the pay level. Select pay level first."})]}),l.jsx(L,{name:"cell_index",label:"",data:(null==(p=null==Ma?void 0:Ma.data)?void 0:p.map(e=>({label:`Index ${e.cell_index} - ₹${e.basic_pay}`,value:String(e.cell_index)})))||[],disabled:!Ra.watch("pay_level_id")})]}),!Ra.watch("is_matrix_based")&&l.jsxs("div",{className:"space-y-1.5",children:[l.jsxs("label",{className:"flex items-center text-sm font-medium text-slate-700",children:["Grade Pay",l.jsx(Ga,{content:"Additional grade pay amount, if applicable (usually for 6th Pay Commission)"})]}),l.jsx(G,{name:"grade_pay",label:"",type:"number",placeholder:"0"})]})]})]}),l.jsx(J,{}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2 pb-2",children:[l.jsx(ee,{className:"h-5 w-5 text-emerald-600"}),l.jsx("h3",{className:"text-base font-semibold text-slate-900",children:"Allowances"})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[l.jsxs("div",{className:"space-y-1.5",children:[l.jsxs("label",{className:"flex items-center text-sm font-medium text-slate-700",children:["City Classification"," ",l.jsx("span",{className:"text-red-500",children:"*"}),l.jsx(Ga,{content:"HRA is calculated based on city classification: Metro (24%), Other Cities (16%), Rural (8%)"})]}),l.jsx(L,{name:"city_classification",label:"",data:[{label:"X - Metro (24% HRA)",value:"X"},{label:"Y - Other Cities (16% HRA)",value:"Y"},{label:"Z - Rural (8% HRA)",value:"Z"}]})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsxs("label",{className:"flex items-center text-sm font-medium text-slate-700",children:["Custom HRA %",l.jsx(Ga,{content:"Override the default HRA percentage if you have a special case (optional)"})]}),l.jsx(G,{name:"hra_percentage",label:"",type:"number",placeholder:"Auto-calculated"})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsxs("label",{className:"flex items-center text-sm font-medium text-slate-700",children:["Transport Allowance",l.jsx(Ga,{content:"Monthly transport allowance amount. Standard is ₹3,600"})]}),l.jsx(G,{name:"transport_allowance",label:"",type:"number",placeholder:"3600"})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsxs("label",{className:"flex items-center text-sm font-medium text-slate-700",children:["Medical Allowance",l.jsx(Ga,{content:"Monthly medical allowance amount. Standard is ₹500"})]}),l.jsx(G,{name:"medical_allowance",label:"",type:"number",placeholder:"500"})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsxs("label",{className:"flex items-center text-sm font-medium text-slate-700",children:["Special Allowance",l.jsx(Ga,{content:"Any additional special allowance if applicable"})]}),l.jsx(G,{name:"special_allowance",label:"",type:"number",placeholder:"0"})]})]})]}),l.jsx(J,{}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2 pb-2",children:[l.jsx(se,{className:"h-5 w-5 text-amber-600"}),l.jsx("h3",{className:"text-base font-semibold text-slate-900",children:"Retirement & Tax"})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[l.jsxs("div",{className:"space-y-1.5",children:[l.jsxs("label",{className:"flex items-center text-sm font-medium text-slate-700",children:["Pension Scheme ",l.jsx("span",{className:"text-red-500",children:"*"}),l.jsx(Ga,{content:"Choose the retirement savings scheme: NPS (National Pension System), GPF (General Provident Fund), or PF (Provident Fund)"})]}),l.jsx(L,{name:"pension_scheme",label:"",data:[{label:"NPS - National Pension System",value:"NPS"},{label:"GPF - General Provident Fund",value:"OPS"},{label:"EPF Only",value:"EPF_ONLY"}]})]}),"NPS"===Oa&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-1.5",children:[l.jsxs("label",{className:"flex items-center text-sm font-medium text-slate-700",children:["NPS Contribution Rate (%)",l.jsx(Ga,{content:"Percentage of basic pay + DA contributed to NPS. Standard is 10%"})]}),l.jsx(G,{name:"nps_contribution_rate",label:"",type:"number",placeholder:"10"})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsxs("label",{className:"flex items-center text-sm font-medium text-slate-700",children:["PF Employee Contribution Rate (%)",l.jsx(Ga,{content:"Percentage of basic pay + DA contributed to PF (typically 12%)"})]}),l.jsx(G,{name:"pf_employee_contribution_rate",label:"",type:"number",placeholder:"12"})]})]}),"EPF_ONLY"===Oa&&l.jsxs("div",{className:"space-y-1.5",children:[l.jsxs("label",{className:"flex items-center text-sm font-medium text-slate-700",children:["PF Employee Contribution Rate (%)",l.jsx(Ga,{content:"Percentage of basic pay + DA contributed to PF (typically 12%)"})]}),l.jsx(G,{name:"pf_employee_contribution_rate",label:"",type:"number",placeholder:"12"})]}),"OPS"===Oa&&l.jsxs("div",{className:"space-y-1.5",children:[l.jsxs("label",{className:"flex items-center text-sm font-medium text-slate-700",children:["GPF Contribution Rate (%)",l.jsx(Ga,{content:"Percentage of basic pay contributed to GPF (typically between 6-100%)"})]}),l.jsx(G,{name:"gpf_contribution_rate",label:"",type:"number",placeholder:"Enter rate"})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsxs("label",{className:"flex items-center text-sm font-medium text-slate-700",children:["Tax Regime ",l.jsx("span",{className:"text-red-500",children:"*"}),l.jsx(Ga,{content:"Choose between New Tax Regime (lower rates, fewer deductions) or Old Tax Regime (higher rates, more deductions)"})]}),l.jsx(L,{name:"tax_regime",label:"",data:[{label:"New Tax Regime",value:"new"},{label:"Old Tax Regime",value:"old"}]})]})]})]}),l.jsx(J,{}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2 pb-2",children:[l.jsx(de,{className:"h-5 w-5 text-purple-600"}),l.jsx("h3",{className:"text-base font-semibold text-slate-900",children:"Bank Details"})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[l.jsxs("div",{className:"space-y-1.5",children:[l.jsxs("label",{className:"flex items-center text-sm font-medium text-slate-700",children:["Bank Name ",l.jsx("span",{className:"text-red-500",children:"*"}),l.jsx(Ga,{content:"Name of the bank where the employee holds their salary account"})]}),l.jsx(G,{name:"bank_name",label:"",placeholder:"e.g., State Bank of India"})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsxs("label",{className:"flex items-center text-sm font-medium text-slate-700",children:["Account Number ",l.jsx("span",{className:"text-red-500",children:"*"}),l.jsx(Ga,{content:"Employee bank account number for salary credit"})]}),l.jsx(G,{name:"bank_account_no",label:"",placeholder:"Account number"})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsxs("label",{className:"flex items-center text-sm font-medium text-slate-700",children:["IFSC Code ",l.jsx("span",{className:"text-red-500",children:"*"}),l.jsx(Ga,{content:"11-character IFSC code of the bank branch (e.g., SBIN0001234)"})]}),l.jsx(G,{name:"bank_ifsc",label:"",placeholder:"e.g., SBIN0001234"})]})]})]}),l.jsx(J,{}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2 pb-2",children:[l.jsx(oe,{className:"h-5 w-5 text-indigo-600"}),l.jsx("h3",{className:"text-base font-semibold text-slate-900",children:"Effective Date"})]}),l.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:l.jsxs("div",{className:"space-y-1.5",children:[l.jsxs("label",{className:"flex items-center text-sm font-medium text-slate-700",children:["Effective From ",l.jsx("span",{className:"text-red-500",children:"*"}),l.jsx(Ga,{content:"The date from which this salary configuration will be applicable"})]}),l.jsx(G,{name:"effective_from",label:"",type:"date"})]})})]})]}),l.jsx(J,{className:"my-8"}),l.jsx("div",{className:"flex justify-end",children:l.jsx(t,{type:"submit",disabled:va,size:"lg",className:"min-w-[200px] bg-blue-600 hover:bg-blue-700",children:va?l.jsxs(l.Fragment,{children:[l.jsx(ce,{className:"mr-2 h-4 w-4 animate-spin"}),"Calculating..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Q,{className:"mr-2 h-4 w-4"}),"Calculate Salary"]})})})]})})}),ya&&l.jsxs(g,{className:"border-slate-200 shadow-sm",children:[l.jsx(N,{className:"border-b border-slate-100 bg-slate-50 pb-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-emerald-100",children:l.jsx(me,{className:"h-5 w-5 text-emerald-700"})}),l.jsxs("div",{children:[l.jsx(y,{className:"text-lg font-semibold text-slate-900",children:"Salary Calculated"}),l.jsx(w,{className:"text-sm",children:"Review the breakdown and confirm"})]})]}),l.jsxs(t,{onClick:()=>Aa(!0),variant:"outline",size:"sm",className:"text-sm",children:[l.jsx(xe,{className:"mr-2 h-4 w-4"}),"View Details"]})]})}),l.jsxs(v,{className:"p-6",children:[l.jsxs("div",{className:"mb-6 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[l.jsx("div",{className:"rounded-lg border border-slate-200 bg-white p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-slate-600",children:"Monthly Net"}),l.jsx("p",{className:"mt-1 text-xl font-bold text-emerald-700",children:Ba((null==(j=null==(b=ya.data)?void 0:b.monthly)?void 0:j.net_salary)||0)})]}),l.jsx(ae,{className:"h-8 w-8 text-emerald-200"})]})}),l.jsx("div",{className:"rounded-lg border border-slate-200 bg-white p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-slate-600",children:"Annual Net"}),l.jsx("p",{className:"mt-1 text-xl font-bold text-blue-700",children:Ba((null==(C=null==(f=ya.data)?void 0:f.annual)?void 0:C.net_salary)||0)})]}),l.jsx(he,{className:"h-8 w-8 text-blue-200"})]})}),l.jsx("div",{className:"rounded-lg border border-slate-200 bg-white p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-slate-600",children:"Monthly CTC"}),l.jsx("p",{className:"mt-1 text-xl font-bold text-purple-700",children:Ba((null==(A=null==(P=ya.data)?void 0:P.monthly)?void 0:A.ctc)||0)})]}),l.jsx(ue,{className:"h-8 w-8 text-purple-200"})]})}),l.jsx("div",{className:"rounded-lg border border-slate-200 bg-white p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-slate-600",children:"Annual CTC"}),l.jsx("p",{className:"mt-1 text-xl font-bold text-amber-700",children:Ba((null==(T=null==(F=ya.data)?void 0:F.annual)?void 0:T.ctc)||0)})]}),l.jsx(re,{className:"h-8 w-8 text-amber-200"})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Monthly Breakdown"}),l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4",children:[l.jsx("h4",{className:"mb-3 text-xs font-semibold uppercase tracking-wide text-emerald-700",children:"Earnings"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-600",children:"Basic Pay"}),l.jsx("span",{className:"font-medium text-slate-900",children:Ba((null==(M=null==(E=null==(R=ya.data)?void 0:R.monthly)?void 0:E.earnings)?void 0:M.basic_pay)||0)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-600",children:"DA"}),l.jsx("span",{className:"font-medium text-slate-900",children:Ba((null==(te=null==(Z=null==(O=ya.data)?void 0:O.monthly)?void 0:Z.earnings)?void 0:te.dearness_allowance)||0)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-600",children:"HRA"}),l.jsx("span",{className:"font-medium text-slate-900",children:Ba((null==(be=null==(pe=null==(ne=ya.data)?void 0:ne.monthly)?void 0:pe.earnings)?void 0:be.house_rent_allowance)||0)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-600",children:"Transport"}),l.jsx("span",{className:"font-medium text-slate-900",children:Ba((null==(ge=null==(fe=null==(je=ya.data)?void 0:je.monthly)?void 0:fe.earnings)?void 0:ge.transport_allowance)||0)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-600",children:"Medical"}),l.jsx("span",{className:"font-medium text-slate-900",children:Ba((null==(ye=null==(Ne=null==(ve=ya.data)?void 0:ve.monthly)?void 0:Ne.earnings)?void 0:ye.medical_allowance)||0)})]}),(null==(ke=null==(_e=null==(we=ya.data)?void 0:we.monthly)?void 0:_e.earnings)?void 0:ke.special_allowance)>0&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-600",children:"Special"}),l.jsx("span",{className:"font-medium text-slate-900",children:Ba(null==(Ae=null==(Pe=null==(Ce=ya.data)?void 0:Ce.monthly)?void 0:Pe.earnings)?void 0:Ae.special_allowance)})]}),l.jsx(J,{className:"my-2"}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"font-semibold text-slate-900",children:"Gross Salary"}),l.jsx("span",{className:"font-bold text-emerald-700",children:Ba((null==(Re=null==(Te=null==(Fe=ya.data)?void 0:Fe.monthly)?void 0:Te.earnings)?void 0:Re.gross_salary)||0)})]})]})]}),l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4",children:[l.jsx("h4",{className:"mb-3 text-xs font-semibold uppercase tracking-wide text-red-700",children:"Deductions"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[(null==(Ee=null==(Ie=null==(De=ya.data)?void 0:De.monthly)?void 0:Ie.deductions)?void 0:Ee.pf_contribution)>0&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-600",children:"PF"}),l.jsx("span",{className:"font-medium text-slate-900",children:Ba(null==(Be=null==(Oe=null==(Me=ya.data)?void 0:Me.monthly)?void 0:Oe.deductions)?void 0:Be.pf_contribution)})]}),(null==(qe=null==(Le=null==(Ge=ya.data)?void 0:Ge.monthly)?void 0:Le.deductions)?void 0:qe.nps_contribution)>0&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-600",children:"NPS"}),l.jsx("span",{className:"font-medium text-slate-900",children:Ba(null==(Ye=null==(He=null==($e=ya.data)?void 0:$e.monthly)?void 0:He.deductions)?void 0:Ye.nps_contribution)})]}),(null==(Xe=null==(Ue=null==(Ve=ya.data)?void 0:Ve.monthly)?void 0:Ue.deductions)?void 0:Xe.gpf_contribution)>0&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-600",children:"GPF"}),l.jsx("span",{className:"font-medium text-slate-900",children:Ba(null==(Ze=null==(We=null==(ze=ya.data)?void 0:ze.monthly)?void 0:We.deductions)?void 0:Ze.gpf_contribution)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-600",children:"Professional Tax"}),l.jsx("span",{className:"font-medium text-slate-900",children:Ba((null==(Ke=null==(Qe=null==(Je=ya.data)?void 0:Je.monthly)?void 0:Qe.deductions)?void 0:Ke.professional_tax)||0)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-600",children:"Income Tax"}),l.jsx("span",{className:"font-medium text-slate-900",children:Ba((null==(as=null==(ss=null==(es=ya.data)?void 0:es.monthly)?void 0:ss.deductions)?void 0:as.income_tax)||0)})]}),l.jsx(J,{className:"my-2"}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"font-semibold text-slate-900",children:"Total Deductions"}),l.jsx("span",{className:"font-bold text-red-700",children:Ba((null==(ns=null==(ts=null==(ls=ya.data)?void 0:ls.monthly)?void 0:ts.deductions)?void 0:ns.total_deductions)||0)})]})]})]}),l.jsx("div",{className:"rounded-lg bg-emerald-600 p-4 text-white",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"font-semibold",children:"Net Monthly Salary"}),l.jsx("span",{className:"text-xl font-bold",children:Ba((null==(rs=null==(is=ya.data)?void 0:is.monthly)?void 0:rs.net_salary)||0)})]})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Annual Breakdown"}),l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4",children:[l.jsx("h4",{className:"mb-3 text-xs font-semibold uppercase tracking-wide text-emerald-700",children:"Earnings"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-600",children:"Basic Pay"}),l.jsx("span",{className:"font-medium text-slate-900",children:Ba((null==(cs=null==(os=null==(ds=ya.data)?void 0:ds.annual)?void 0:os.earnings)?void 0:cs.basic_pay)||0)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-600",children:"DA"}),l.jsx("span",{className:"font-medium text-slate-900",children:Ba((null==(hs=null==(xs=null==(ms=ya.data)?void 0:ms.annual)?void 0:xs.earnings)?void 0:hs.dearness_allowance)||0)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-600",children:"HRA"}),l.jsx("span",{className:"font-medium text-slate-900",children:Ba((null==(bs=null==(ps=null==(us=ya.data)?void 0:us.annual)?void 0:ps.earnings)?void 0:bs.house_rent_allowance)||0)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-600",children:"Transport"}),l.jsx("span",{className:"font-medium text-slate-900",children:Ba((null==(gs=null==(fs=null==(js=ya.data)?void 0:js.annual)?void 0:fs.earnings)?void 0:gs.transport_allowance)||0)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-600",children:"Medical"}),l.jsx("span",{className:"font-medium text-slate-900",children:Ba((null==(ys=null==(Ns=null==(vs=ya.data)?void 0:vs.annual)?void 0:Ns.earnings)?void 0:ys.medical_allowance)||0)})]}),(null==(Ss=null==(_s=null==(ws=ya.data)?void 0:ws.annual)?void 0:_s.earnings)?void 0:Ss.special_allowance)>0&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-600",children:"Special"}),l.jsx("span",{className:"font-medium text-slate-900",children:Ba(null==(Ps=null==(Cs=null==(ks=ya.data)?void 0:ks.annual)?void 0:Cs.earnings)?void 0:Ps.special_allowance)})]}),l.jsx(J,{className:"my-2"}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"font-semibold text-slate-900",children:"Gross Salary"}),l.jsx("span",{className:"font-bold text-emerald-700",children:Ba((null==(Ts=null==(Fs=null==(As=ya.data)?void 0:As.annual)?void 0:Fs.earnings)?void 0:Ts.gross_salary)||0)})]})]})]}),l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4",children:[l.jsx("h4",{className:"mb-3 text-xs font-semibold uppercase tracking-wide text-red-700",children:"Deductions"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[(null==(Is=null==(Ds=null==(Rs=ya.data)?void 0:Rs.annual)?void 0:Ds.deductions)?void 0:Is.pf_contribution)>0&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-600",children:"PF"}),l.jsx("span",{className:"font-medium text-slate-900",children:Ba(null==(Os=null==(Ms=null==(Es=ya.data)?void 0:Es.annual)?void 0:Ms.deductions)?void 0:Os.pf_contribution)})]}),(null==(Ls=null==(Gs=null==(Bs=ya.data)?void 0:Bs.annual)?void 0:Gs.deductions)?void 0:Ls.nps_contribution)>0&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-600",children:"NPS"}),l.jsx("span",{className:"font-medium text-slate-900",children:Ba(null==(Hs=null==($s=null==(qs=ya.data)?void 0:qs.annual)?void 0:$s.deductions)?void 0:Hs.nps_contribution)})]}),(null==(Us=null==(Vs=null==(Ys=ya.data)?void 0:Ys.annual)?void 0:Vs.deductions)?void 0:Us.gpf_contribution)>0&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-600",children:"GPF"}),l.jsx("span",{className:"font-medium text-slate-900",children:Ba(null==(Ws=null==(zs=null==(Xs=ya.data)?void 0:Xs.annual)?void 0:zs.deductions)?void 0:Ws.gpf_contribution)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-600",children:"Professional Tax"}),l.jsx("span",{className:"font-medium text-slate-900",children:Ba((null==(Qs=null==(Js=null==(Zs=ya.data)?void 0:Zs.annual)?void 0:Js.deductions)?void 0:Qs.professional_tax)||0)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-600",children:"Income Tax"}),l.jsx("span",{className:"font-medium text-slate-900",children:Ba((null==(sa=null==(ea=null==(Ks=ya.data)?void 0:Ks.annual)?void 0:ea.deductions)?void 0:sa.income_tax)||0)})]}),l.jsx(J,{className:"my-2"}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"font-semibold text-slate-900",children:"Total Deductions"}),l.jsx("span",{className:"font-bold text-red-700",children:Ba((null==(ta=null==(la=null==(aa=ya.data)?void 0:aa.annual)?void 0:la.deductions)?void 0:ta.total_deductions)||0)})]})]})]}),l.jsx("div",{className:"rounded-lg bg-blue-600 p-4 text-white",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"font-semibold",children:"Net Annual Salary"}),l.jsx("span",{className:"text-xl font-bold",children:Ba((null==(ia=null==(na=ya.data)?void 0:na.annual)?void 0:ia.net_salary)||0)})]})})]})]}),(null==(ra=ya.data)?void 0:ra.tax_info)&&l.jsxs("div",{className:"mt-6 rounded-lg border border-slate-200 bg-white p-4",children:[l.jsx("h3",{className:"mb-3 text-sm font-semibold text-slate-900",children:"Tax Information"}),l.jsxs("div",{className:"grid grid-cols-1 gap-4 text-sm md:grid-cols-2 lg:grid-cols-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-slate-600",children:"Tax Regime"}),l.jsx("p",{className:"mt-1 font-semibold text-slate-900",children:"new"===ya.data.tax_info.regime?"New":"Old"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-slate-600",children:"Taxable Income"}),l.jsx("p",{className:"mt-1 font-semibold text-slate-900",children:Ba(ya.data.tax_info.annual_taxable_income)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-slate-600",children:"Standard Deduction"}),l.jsx("p",{className:"mt-1 font-semibold text-slate-900",children:Ba(ya.data.tax_info.standard_deduction)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-slate-600",children:"Annual Tax"}),l.jsx("p",{className:"mt-1 font-semibold text-red-700",children:Ba(ya.data.tax_info.annual_tax)})]})]})]})]})]}),l.jsx(Y,{open:Pa,onOpenChange:Aa,children:l.jsxs(V,{className:"max-h-[90vh] max-w-4xl overflow-y-auto",children:[l.jsxs(U,{children:[l.jsxs(X,{className:"flex items-center gap-2 text-xl",children:[l.jsx(ue,{className:"h-5 w-5 text-blue-600"}),"Complete Configuration Details"]}),l.jsx(z,{children:"Review all configuration parameters and calculated values"})]}),l.jsxs("div",{className:"space-y-6 py-4",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsxs("h3",{className:"flex items-center gap-2 text-sm font-semibold text-slate-900",children:[l.jsx(re,{className:"h-4 w-4 text-blue-600"}),"Pay Structure"]}),l.jsxs("div",{className:"grid grid-cols-1 gap-4 rounded-lg border border-slate-200 bg-slate-50 p-4 md:grid-cols-2",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-slate-600",children:"Pay Commission"}),l.jsx("p",{className:"mt-1 text-sm font-semibold text-slate-900",children:(null==(oa=null==(da=null==Ia?void 0:Ia.data)?void 0:da.find(e=>String(e.id)===Ra.watch("pay_commission_id")))?void 0:oa.commission_name)||"N/A"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-slate-600",children:"Pay Level"}),l.jsx("p",{className:"mt-1 text-sm font-semibold text-slate-900",children:(null==(ma=null==(ca=null==Ea?void 0:Ea.data)?void 0:ca.find(e=>String(e.id)===Ra.watch("pay_level_id")))?void 0:ma.level_name)||"N/A"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-slate-600",children:"Cell Index"}),l.jsx("p",{className:"mt-1 text-sm font-semibold text-slate-900",children:Ra.watch("cell_index")})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-slate-600",children:"Grade Pay"}),l.jsxs("p",{className:"mt-1 text-sm font-semibold text-slate-900",children:["₹",Ra.watch("grade_pay")]})]})]})]}),l.jsx(J,{}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("h3",{className:"flex items-center gap-2 text-sm font-semibold text-slate-900",children:[l.jsx(ee,{className:"h-4 w-4 text-emerald-600"}),"Allowances"]}),l.jsxs("div",{className:"grid grid-cols-1 gap-4 rounded-lg border border-slate-200 bg-slate-50 p-4 md:grid-cols-2",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-slate-600",children:"City Classification"}),l.jsxs("p",{className:"mt-1 text-sm font-semibold text-slate-900",children:[Ra.watch("city_classification")," -","X"===Ra.watch("city_classification")&&" Metro (24% HRA)","Y"===Ra.watch("city_classification")&&" Other Cities (16% HRA)","Z"===Ra.watch("city_classification")&&" Rural (8% HRA)"]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-slate-600",children:"HRA Percentage"}),l.jsx("p",{className:"mt-1 text-sm font-semibold text-slate-900",children:Ra.watch("hra_percentage")||"Auto-calculated"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-slate-600",children:"Transport Allowance"}),l.jsxs("p",{className:"mt-1 text-sm font-semibold text-slate-900",children:["₹",Ra.watch("transport_allowance")]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-slate-600",children:"Medical Allowance"}),l.jsxs("p",{className:"mt-1 text-sm font-semibold text-slate-900",children:["₹",Ra.watch("medical_allowance")]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-slate-600",children:"Special Allowance"}),l.jsxs("p",{className:"mt-1 text-sm font-semibold text-slate-900",children:["₹",Ra.watch("special_allowance")||"0"]})]})]})]}),l.jsx(J,{}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("h3",{className:"flex items-center gap-2 text-sm font-semibold text-slate-900",children:[l.jsx(se,{className:"h-4 w-4 text-amber-600"}),"Retirement & Tax"]}),l.jsxs("div",{className:"grid grid-cols-1 gap-4 rounded-lg border border-slate-200 bg-slate-50 p-4 md:grid-cols-2",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-slate-600",children:"Pension Scheme"}),l.jsxs("p",{className:"mt-1 text-sm font-semibold text-slate-900",children:[Ra.watch("pension_scheme")," -","NPS"===Ra.watch("pension_scheme")&&" National Pension System","GPF"===Ra.watch("pension_scheme")&&" General Provident Fund"]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-slate-600",children:"Contribution Rate"}),l.jsxs("p",{className:"mt-1 text-sm font-semibold text-slate-900",children:[Ra.watch("nps_contribution_rate")||Ra.watch("gpf_contribution_rate")||"N/A","%"]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-slate-600",children:"Tax Regime"}),l.jsx("p",{className:"mt-1 text-sm font-semibold text-slate-900",children:"new"===Ra.watch("tax_regime")?"New Tax Regime":"Old Tax Regime"})]})]})]}),l.jsx(J,{}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("h3",{className:"flex items-center gap-2 text-sm font-semibold text-slate-900",children:[l.jsx(de,{className:"h-4 w-4 text-purple-600"}),"Bank Details"]}),l.jsxs("div",{className:"grid grid-cols-1 gap-4 rounded-lg border border-slate-200 bg-slate-50 p-4 md:grid-cols-2",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-slate-600",children:"Bank Name"}),l.jsx("p",{className:"mt-1 text-sm font-semibold text-slate-900",children:Ra.watch("bank_name")})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-slate-600",children:"Account Number"}),l.jsx("p",{className:"mt-1 text-sm font-semibold text-slate-900",children:Ra.watch("bank_account_no")})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-slate-600",children:"IFSC Code"}),l.jsx("p",{className:"mt-1 text-sm font-semibold text-slate-900",children:Ra.watch("bank_ifsc")})]})]})]}),l.jsx(J,{}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("h3",{className:"flex items-center gap-2 text-sm font-semibold text-slate-900",children:[l.jsx(oe,{className:"h-4 w-4 text-indigo-600"}),"Effective Date"]}),l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4",children:[l.jsx("p",{className:"text-xs font-medium text-slate-600",children:"Effective From"}),l.jsx("p",{className:"mt-1 text-sm font-semibold text-slate-900",children:new Date(Ra.watch("effective_from")).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})})]})]}),ya&&l.jsxs(l.Fragment,{children:[l.jsx(J,{}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("h3",{className:"flex items-center gap-2 text-sm font-semibold text-slate-900",children:[l.jsx(le,{className:"h-4 w-4 text-emerald-600"}),"Salary Summary"]}),l.jsxs("div",{className:"space-y-2 rounded-lg border border-slate-200 bg-slate-50 p-4",children:[l.jsxs("div",{className:"flex justify-between border-b border-slate-200 pb-2",children:[l.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Monthly Net Salary"}),l.jsx("p",{className:"text-sm font-bold text-emerald-700",children:Ba((null==(ha=null==(xa=ya.data)?void 0:xa.monthly)?void 0:ha.net_salary)||0)})]}),l.jsxs("div",{className:"flex justify-between border-b border-slate-200 pb-2",children:[l.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Annual Net Salary"}),l.jsx("p",{className:"text-sm font-bold text-emerald-700",children:Ba((null==(pa=null==(ua=ya.data)?void 0:ua.annual)?void 0:pa.net_salary)||0)})]}),l.jsxs("div",{className:"flex justify-between border-b border-slate-200 pb-2",children:[l.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Monthly CTC"}),l.jsx("p",{className:"text-sm font-bold text-blue-700",children:Ba((null==(ja=null==(ba=ya.data)?void 0:ba.monthly)?void 0:ja.ctc)||0)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Annual CTC"}),l.jsx("p",{className:"text-sm font-bold text-blue-700",children:Ba((null==(ga=null==(fa=ya.data)?void 0:fa.annual)?void 0:ga.ctc)||0)})]})]})]})]})]}),l.jsx(W,{children:l.jsx(t,{variant:"outline",onClick:()=>Aa(!1),children:"Close"})})]})})]})}function Ce({estimatedData:s,formData:a,onSetComplete:r}){var d,o,c,m,x,h,u,p,b,j,f,S,C,P,A,F;const[T,D]=e.useState(!1),[I,E]=e.useState(!1),M=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(e);return s?l.jsxs(g,{className:"border-t-4 border-t-green-500 shadow-lg",children:[l.jsxs(N,{className:"bg-gradient-to-r from-green-50 to-white",children:[l.jsx(y,{className:"flex items-center gap-2 text-xl",children:I?l.jsxs(l.Fragment,{children:[l.jsx(me,{className:"h-6 w-6 text-green-600"}),"Salary Configuration Set Successfully"]}):l.jsxs(l.Fragment,{children:[l.jsx(te,{className:"h-6 w-6 text-blue-600"}),"Confirm Salary Configuration"]})}),l.jsx(w,{className:"mt-2 text-base",children:I?"The salary configuration has been successfully saved to the system.":"Please review the estimated salary carefully before confirming the configuration."})]}),l.jsx(v,{className:"space-y-6 pt-6",children:I?l.jsxs(_,{className:"border-green-200 bg-green-50",children:[l.jsx(me,{className:"h-4 w-4 text-green-600"}),l.jsxs(k,{className:"text-green-800",children:[l.jsx("strong",{children:"Success!"})," The salary configuration has been set successfully. You can now view the complete salary details or make updates if needed."]})]}):l.jsxs(l.Fragment,{children:[l.jsx(_,{className:"border-yellow-300 bg-yellow-50 p-4",children:l.jsxs(k,{className:"text-yellow-900",children:[l.jsx("strong",{className:"text-lg",children:"⚠️ Important Notice:"}),l.jsx("p",{className:"mt-2",children:"Once you confirm and set the salary, it will be saved to the system and will be used for payroll processing. Please review all details carefully before confirming."})]})}),l.jsxs("div",{className:"space-y-4 rounded-lg border-2 border-blue-200 bg-gradient-to-br from-blue-50 to-indigo-50 p-6",children:[l.jsxs("h3",{className:"flex items-center gap-2 text-xl font-bold text-gray-800",children:[l.jsx(le,{className:"h-5 w-5"}),"Salary Summary"]}),l.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2",children:[l.jsxs("div",{className:"rounded-lg bg-white p-4 shadow-sm",children:[l.jsx("span",{className:"mb-1 block text-sm text-gray-600",children:"Monthly Net Salary"}),l.jsx("span",{className:"text-2xl font-bold text-green-600",children:M((null==(o=null==(d=s.data)?void 0:d.monthly)?void 0:o.net_salary)||0)})]}),l.jsxs("div",{className:"rounded-lg bg-white p-4 shadow-sm",children:[l.jsx("span",{className:"mb-1 block text-sm text-gray-600",children:"Annual Net Salary"}),l.jsx("span",{className:"text-2xl font-bold text-green-600",children:M((null==(m=null==(c=s.data)?void 0:c.annual)?void 0:m.net_salary)||0)})]}),l.jsxs("div",{className:"rounded-lg bg-white p-4 shadow-sm",children:[l.jsx("span",{className:"mb-1 block text-sm text-gray-600",children:"Monthly CTC"}),l.jsx("span",{className:"text-2xl font-bold text-blue-600",children:M((null==(h=null==(x=s.data)?void 0:x.monthly)?void 0:h.ctc)||0)})]}),l.jsxs("div",{className:"rounded-lg bg-white p-4 shadow-sm",children:[l.jsx("span",{className:"mb-1 block text-sm text-gray-600",children:"Annual CTC"}),l.jsx("span",{className:"text-2xl font-bold text-blue-600",children:M((null==(p=null==(u=s.data)?void 0:u.annual)?void 0:p.ctc)||0)})]})]})]}),l.jsxs("div",{className:"space-y-3 rounded-lg border-2 border-gray-200 bg-white p-6 shadow-sm",children:[l.jsx("h3",{className:"border-b pb-2 text-lg font-bold text-gray-800",children:"Configuration Details"}),l.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Pay Commission:"}),l.jsx("p",{className:"font-medium",children:(null==(f=null==(j=null==(b=s.data)?void 0:b.pay_config)?void 0:j.pay_commission)?void 0:f.commission_name)||"N/A"})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Pay Level:"}),l.jsx("p",{className:"font-medium",children:(null==(P=null==(C=null==(S=s.data)?void 0:S.pay_config)?void 0:C.pay_level)?void 0:P.level_name)||"N/A"})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Basic Pay:"}),l.jsx("p",{className:"font-medium",children:M((null==(F=null==(A=s.data)?void 0:A.pay_config)?void 0:F.current_basic_pay)||0)})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"City Classification:"}),l.jsx("p",{className:"font-medium",children:l.jsx(R,{variant:"outline",children:a.city_classification})})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Pension Scheme:"}),l.jsx("p",{className:"font-medium",children:l.jsx(R,{children:a.pension_scheme})})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Tax Regime:"}),l.jsx("p",{className:"font-medium",children:l.jsx(R,{variant:"secondary",children:"new"===a.tax_regime?"New Regime":"Old Regime"})})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Bank Name:"}),l.jsx("p",{className:"font-medium",children:a.bank_name})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Account Number:"}),l.jsx("p",{className:"font-medium",children:a.bank_account_no})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"IFSC Code:"}),l.jsx("p",{className:"font-medium",children:a.bank_ifsc})]})]})]}),l.jsx("div",{className:"flex justify-end gap-3",children:l.jsx(t,{onClick:async()=>{var e,s;D(!0);try{const e=await n.post(i.setEmployeeSalary,{emp_id:Number(a.emp_id),pay_commission_id:Number(a.pay_commission_id),pay_level_id:Number(a.pay_level_id),...a.is_matrix_based&&{cell_index:Number(a.cell_index)},...!a.is_matrix_based&&{grade_pay:Number(a.grade_pay)},city_classification:a.city_classification,hra_percentage:Number(a.hra_percentage)||null,transport_allowance:Number(a.transport_allowance),medical_allowance:Number(a.medical_allowance),special_allowance:Number(a.special_allowance),pension_scheme:a.pension_scheme,..."NPS"===a.pension_scheme&&{nps_contribution_rate:Number(a.nps_contribution_rate),pf_employee_contribution_rate:Number(a.pf_employee_contribution_rate)},..."OPS"===a.pension_scheme&&{gpf_contribution_rate:Number(a.gpf_contribution_rate)},..."EPF_ONLY"===a.pension_scheme&&{pf_employee_contribution_rate:Number(a.pf_employee_contribution_rate)},bank_name:a.bank_name,bank_account_no:a.bank_account_no,bank_ifsc:a.bank_ifsc,tax_regime:a.tax_regime,effective_from:a.effective_from});e.data.success&&(E(!0),null==r||r(e.data))}catch(l){alert((null==(s=null==(e=null==l?void 0:l.response)?void 0:e.data)?void 0:s.message)||"Failed to set employee salary")}finally{D(!1)}},disabled:T,size:"lg",className:"min-w-[200px]",children:T?l.jsxs(l.Fragment,{children:[l.jsx(ce,{className:"mr-2 h-4 w-4 animate-spin"}),"Setting Salary..."]}):l.jsxs(l.Fragment,{children:[l.jsx(te,{className:"mr-2 h-4 w-4"}),"Confirm & Set Salary"]})})})]})})]}):l.jsx(g,{children:l.jsx(v,{className:"pt-6",children:l.jsx(_,{children:l.jsx(k,{children:"Please estimate the salary first before setting it."})})})})}function Pe(){var e,s,t,n,r,d,o;const[c,p]=m.useState(""),[b,j]=m.useState(""),{id:f}=x(),g=f||"",v=pe({api:`${null==(e=i)?void 0:e.getPaySlipList}?emp_id=${g}&${(()=>{let e="";return c&&(e+=`year=${c}&`),b&&(e+=`month=${b}&`),e})()}`,key:"salary-slip-list",value:[g,c,b],options:{enabled:!!g}}),N=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),y=e=>{switch(e){case"generated":return"bg-blue-100 text-blue-700 border-blue-200";case"approved":return"bg-green-100 text-green-700 border-green-200";case"pending":return"bg-yellow-100 text-yellow-700 border-yellow-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},[w,_]=m.useState("list");if(v.isLoading)return l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-50",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"mx-auto h-12 w-12 animate-spin rounded-full border-b-2 border-blue-600"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Loading salary slips..."})]})});if(v.error)return l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-50",children:l.jsxs("div",{className:"max-w-md rounded-lg border border-red-200 bg-red-50 p-6",children:[l.jsx(ie,{className:"mx-auto mb-4 h-12 w-12 text-red-500"}),l.jsx("p",{className:"text-center text-red-700",children:"Error loading salary slips"})]})});null==(t=null==(s=v.data)?void 0:s.data)||t.employee;const S=(null==(r=null==(n=v.data)?void 0:n.data)?void 0:r.salary_slips)||[],k=null==(o=null==(d=v.data)?void 0:d.data)?void 0:o.summary;return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[l.jsxs("div",{className:"mb-6 rounded-xl border border-gray-200 bg-white p-6 shadow-sm",children:[l.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(je,{className:"h-5 w-5 text-gray-400"}),l.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Filter Salary Slips"})]}),l.jsxs("div",{className:"flex items-center gap-2 rounded-lg bg-gray-100 p-1",children:[l.jsxs("button",{onClick:()=>_("card"),className:"flex items-center gap-2 rounded-md px-3 py-2 transition "+("card"===w?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:[l.jsx(fe,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden text-sm font-medium sm:inline",children:"Card"})]}),l.jsxs("button",{onClick:()=>_("list"),className:"flex items-center gap-2 rounded-md px-3 py-2 transition "+("list"===w?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:[l.jsx(h,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden text-sm font-medium sm:inline",children:"List"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:"Year"}),l.jsxs("select",{value:c,onChange:e=>p(e.target.value),className:"w-full rounded-lg border border-gray-300 px-4 py-2 outline-none transition focus:border-transparent focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"",children:"All Years"}),["2024","2025","2026"].map(e=>l.jsx("option",{value:e,children:e},e))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:"Month"}),l.jsxs("select",{value:b,onChange:e=>j(e.target.value),className:"w-full rounded-lg border border-gray-300 px-4 py-2 outline-none transition focus:border-transparent focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"",children:"All Months"}),["January","February","March","April","May","June","July","August","September","October","November","December"].map((e,s)=>l.jsx("option",{value:s+1,children:e},e))]})]}),l.jsx("div",{className:"flex items-end",children:l.jsx("button",{onClick:()=>{p(""),j("")},className:"w-full rounded-lg bg-gray-100 px-4 py-2 font-medium text-gray-700 transition hover:bg-gray-200",children:"Clear Filters"})})]})]}),k&&l.jsxs("div",{className:"mb-6 grid grid-cols-1 gap-4 md:grid-cols-3",children:[l.jsxs("div",{className:"rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 p-6 text-white shadow-sm",children:[l.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-medium text-blue-100",children:"Total Gross Salary"}),l.jsx(le,{className:"h-5 w-5 text-blue-200"})]}),l.jsx("p",{className:"text-3xl font-bold",children:N(k.total_gross_salary)})]}),l.jsxs("div",{className:"rounded-xl bg-gradient-to-br from-red-500 to-red-600 p-6 text-white shadow-sm",children:[l.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-medium text-red-100",children:"Total Deductions"}),l.jsx(le,{className:"h-5 w-5 text-red-200"})]}),l.jsx("p",{className:"text-3xl font-bold",children:N(k.total_deductions)})]}),l.jsxs("div",{className:"rounded-xl bg-gradient-to-br from-green-500 to-green-600 p-6 text-white shadow-sm",children:[l.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-medium text-green-100",children:"Total Net Salary"}),l.jsx(le,{className:"h-5 w-5 text-green-200"})]}),l.jsx("p",{className:"text-3xl font-bold",children:N(k.total_net_salary)})]})]}),l.jsx("div",{className:"space-y-4",children:0===S.length?l.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-12 text-center shadow-sm",children:[l.jsx(ue,{className:"mx-auto mb-4 h-16 w-16 text-gray-300"}),l.jsx("p",{className:"text-lg font-medium text-gray-500",children:"No salary slips found"}),l.jsx("p",{className:"mt-2 text-sm text-gray-400",children:"Try adjusting your filters"})]}):"card"===w?S.map(e=>l.jsx("div",{className:"overflow-hidden rounded-xl border border-gray-200 bg-white shadow-sm transition hover:shadow-md",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"mb-6 flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"rounded-lg bg-blue-100 p-3",children:l.jsx(ge,{className:"h-6 w-6 text-blue-600"})}),l.jsxs("div",{children:[l.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:[e.month_name," ",e.year]}),l.jsxs("p",{className:"text-sm text-gray-500",children:["Generated on"," ",new Date(e.salary_generation_date).toLocaleDateString("en-IN")]})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:`rounded-full border px-3 py-1 text-xs font-semibold ${y(e.salary_status)}`,children:e.salary_status.toUpperCase()}),l.jsxs("button",{className:"flex items-center gap-2 rounded-lg bg-blue-600 px-4 py-2 font-medium text-white transition hover:bg-blue-700",children:[l.jsx(ve,{className:"h-4 w-4"}),"Download"]})]})]}),l.jsxs("div",{className:"mb-6 grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4",children:[l.jsxs("div",{className:"rounded-lg bg-gray-50 p-4",children:[l.jsx("p",{className:"mb-1 text-xs text-gray-500",children:"Working Days"}),l.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[e.payable_days,"/",e.total_working_days]})]}),l.jsxs("div",{className:"rounded-lg bg-gray-50 p-4",children:[l.jsx("p",{className:"mb-1 text-xs text-gray-500",children:"Basic Pay"}),l.jsx("p",{className:"text-lg font-semibold text-gray-900",children:N(e.basic_pay)})]}),l.jsxs("div",{className:"rounded-lg bg-gray-50 p-4",children:[l.jsx("p",{className:"mb-1 text-xs text-gray-500",children:"Grade Pay"}),l.jsx("p",{className:"text-lg font-semibold text-gray-900",children:N(e.grade_pay)})]}),l.jsxs("div",{className:"rounded-lg bg-gray-50 p-4",children:[l.jsx("p",{className:"mb-1 text-xs text-gray-500",children:"HRA"}),l.jsx("p",{className:"text-lg font-semibold text-gray-900",children:N(e.house_rent_allowance)})]})]}),l.jsx("div",{className:"border-t border-gray-200 pt-6",children:l.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"mb-2 text-sm text-gray-500",children:"Gross Salary"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:N(e.gross_salary)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"mb-2 text-sm text-gray-500",children:"Total Deductions"}),l.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["-",N(e.total_deductions)]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"mb-2 text-sm text-gray-500",children:"Net Salary"}),l.jsx("p",{className:"text-2xl font-bold text-green-600",children:N(e.net_salary)})]})]})})]})},e.id)):l.jsx("div",{className:"overflow-hidden rounded-xl border border-gray-200 bg-white shadow-sm",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"border-b border-gray-200 bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Period"}),l.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Working Days"}),l.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Basic Pay"}),l.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Allowances"}),l.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Gross Salary"}),l.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Deductions"}),l.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Net Salary"}),l.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Status"}),l.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Action"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-200",children:S.map(e=>{const s=e.grade_pay+e.dearness_allowance+e.house_rent_allowance+e.transport_allowance;return l.jsxs("tr",{className:"transition hover:bg-gray-50",children:[l.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"rounded-lg bg-blue-100 p-2",children:l.jsx(ge,{className:"h-4 w-4 text-blue-600"})}),l.jsxs("div",{children:[l.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[e.month_name," ",e.year]}),l.jsx("p",{className:"text-xs text-gray-500",children:new Date(e.salary_generation_date).toLocaleDateString("en-IN")})]})]})}),l.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:l.jsxs("div",{className:"text-sm",children:[l.jsx("span",{className:"font-semibold text-gray-900",children:e.payable_days}),l.jsxs("span",{className:"text-gray-500",children:["/",e.total_working_days]})]})}),l.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-right",children:l.jsx("p",{className:"text-sm font-semibold text-gray-900",children:N(e.basic_pay)})}),l.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-right",children:l.jsx("p",{className:"text-sm font-semibold text-gray-900",children:N(s)})}),l.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-right",children:l.jsx("p",{className:"text-sm font-bold text-gray-900",children:N(e.gross_salary)})}),l.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-right",children:l.jsxs("p",{className:"text-sm font-semibold text-red-600",children:["-",N(e.total_deductions)]})}),l.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-right",children:l.jsx("p",{className:"text-sm font-bold text-green-600",children:N(e.net_salary)})}),l.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-center",children:l.jsx("span",{className:`inline-flex rounded-full border px-2 py-1 text-xs font-semibold ${y(e.salary_status)}`,children:e.salary_status.toUpperCase()})}),l.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-center",children:l.jsx(u,{to:`/hrms/dashboard/salary-slip-by-id/${a(e.id.toString())}`,target:"_blank",children:l.jsxs("button",{className:"inline-flex items-center gap-1 rounded-lg bg-blue-600 px-3 py-1.5 text-sm font-medium text-white transition hover:bg-blue-700",children:[l.jsx(ve,{className:"h-3.5 w-3.5"}),l.jsx("span",{className:"hidden lg:inline",children:"Download"})]})})})]},e.id)})})]})})})})]})}const Ae=E({id:M().required(),is_matrix_based:O().optional(),cell_index:M().when("is_matrix_based",{is:!0,then:e=>e.required("Cell Index is required"),otherwise:e=>e.optional()}),grade_pay:M().when("is_matrix_based",{is:!1,then:e=>e.required("Grade Pay is required"),otherwise:e=>e.default("0")}),city_classification:M().optional(),hra_percentage:M().nullable().optional(),transport_allowance:M().optional(),medical_allowance:M().optional(),special_allowance:M().optional(),pension_scheme:M().optional(),nps_contribution_rate:M().nullable().optional(),gpf_contribution_rate:M().nullable().optional(),pf_employee_contribution_rate:M().nullable().optional(),bank_name:M().optional(),bank_account_no:M().optional(),bank_ifsc:M().optional(),tax_regime:M().oneOf(["old","new"]).optional()});function Fe({getEmpPay:s,tabView:r}){var d,o,c,m,x,h,u,p,b,j,f,S,T,E,M,O,q,$,Y,V,U,X,z,W,Z,Q,K,ee,se,ae,te,ie,re,de,oe,me,ue,pe,be,je,fe,ge,ve,ye,we,_e,Se,ke,Ce,Fe,Te,Re,De,Ie,Ee,Me,Oe,Be,Ge,Le,qe,$e,He,Ye,Ve,Ue,Xe,ze,We,Ze,Je,Qe,Ke,es,ss,as,ls,ts,ns,is,rs,ds,os,cs,ms,xs,hs,us,ps,bs,js,fs,gs,vs,Ns,ys,ws,_s,Ss,ks,Cs,Ps,As,Fs,Ts,Rs,Ds,Is,Es,Ms,Os,Bs,Gs,Ls,qs,$s,Hs,Ys,Vs,Us,Xs,zs,Ws,Zs,Js,Qs,Ks,ea,sa,aa,la,ta,na,ia,ra,da,oa,ca,ma,xa,ha,ua,pa,ba,ja,fa,ga,va,Na,ya,wa,_a,Sa,ka,Ca,Pa,Aa,Fa,Ta,Ra,Da,Ia,Ea,Ma,Oa,Ba,Ga,La,qa;const[$a,Ha]=e.useState(!1),[Ya,Va]=e.useState(!1),{data:Ua,isLoading:Xa}=s,za=a(String((null==(o=null==(d=null==Ua?void 0:Ua.data)?void 0:d.pay_config)?void 0:o.pay_level.id)||"")),{data:Wa}=H(za),Za=D({resolver:I(Ae)}),{reset:Ja,watch:Qa}=Za,Ka=Qa("pension_scheme");e.useEffect(()=>{var e;(null==(e=null==Ua?void 0:Ua.data)?void 0:e.pay_config)&&Ja({id:Ua.data.pay_config.id.toString(),cell_index:String(Ua.data.pay_config.cell_index),is_matrix_based:Ua.data.pay_config.pay_commission.is_matrix_based,grade_pay:String(Ua.data.pay_config.grade_pay),city_classification:Ua.data.pay_config.city_classification,hra_percentage:String(Ua.data.pay_config.hra_percentage),transport_allowance:String(Ua.data.pay_config.transport_allowance),medical_allowance:String(Ua.data.pay_config.medical_allowance),special_allowance:String(Ua.data.pay_config.special_allowance||0),pension_scheme:Ua.data.pay_config.pension_scheme,...Ua.data.pay_config.nps_contribution_rate&&{nps_contribution_rate:String(Ua.data.pay_config.nps_contribution_rate)},...Ua.data.pay_config.pf_employee_contribution_rate&&{pf_employee_contribution_rate:String(Ua.data.pay_config.pf_employee_contribution_rate)},...Ua.data.pay_config.gpf_contribution_rate&&{gpf_contribution_rate:String(Ua.data.pay_config.gpf_contribution_rate)},bank_name:Ua.data.pay_config.bank_name,bank_account_no:Ua.data.pay_config.bank_account_no,bank_ifsc:Ua.data.pay_config.bank_ifsc,tax_regime:Ua.data.pay_config.tax_regime})},[Ua,Ja]);const el=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(e);return Xa?l.jsx("div",{className:"flex min-h-[500px] items-center justify-center bg-gradient-to-br from-slate-50 to-blue-50",children:l.jsxs("div",{className:"flex flex-col items-center gap-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx(ce,{className:"h-12 w-12 animate-spin text-blue-600"}),l.jsx("div",{className:"absolute inset-0 h-12 w-12 animate-ping rounded-full bg-blue-400 opacity-20"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-base font-medium text-slate-700",children:"Loading salary data..."}),l.jsx("p",{className:"text-sm text-slate-500",children:"Please wait a moment"})]})]})}):Ua?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:l.jsx("div",{className:"space-y-6",children:l.jsxs(C,{defaultValue:r,className:"w-full",children:[l.jsxs(P,{className:"inline-flex h-auto w-full items-center justify-start gap-2 rounded-xl border border-white/20 bg-white/80 p-2 shadow-lg backdrop-blur-xl",children:[l.jsx(A,{value:"overview",className:"flex-1 rounded-lg border border-transparent px-6 py-3.5 font-semibold text-slate-600 transition-all duration-200 data-[state=active]:border-blue-200 data-[state=active]:bg-gradient-to-br data-[state=active]:from-blue-600 data-[state=active]:to-indigo-600 data-[state=active]:text-white data-[state=active]:shadow-lg",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(xe,{className:"h-4 w-4"}),l.jsx("span",{children:"Overview"})]})}),l.jsx(A,{value:"monthly",className:"flex-1 rounded-lg border border-transparent px-6 py-3.5 font-semibold text-slate-600 transition-all duration-200 data-[state=active]:border-blue-200 data-[state=active]:bg-gradient-to-br data-[state=active]:from-blue-600 data-[state=active]:to-indigo-600 data-[state=active]:text-white data-[state=active]:shadow-lg",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(he,{className:"h-4 w-4"}),l.jsx("span",{children:"Monthly"})]})}),l.jsx(A,{value:"annual",className:"flex-1 rounded-lg border border-transparent px-6 py-3.5 font-semibold text-slate-600 transition-all duration-200 data-[state=active]:border-blue-200 data-[state=active]:bg-gradient-to-br data-[state=active]:from-blue-600 data-[state=active]:to-indigo-600 data-[state=active]:text-white data-[state=active]:shadow-lg",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(le,{className:"h-4 w-4"}),l.jsx("span",{children:"Annual"})]})}),l.jsx(A,{value:"config",className:"flex-1 rounded-lg border border-transparent px-6 py-3.5 font-semibold text-slate-600 transition-all duration-200 data-[state=active]:border-blue-200 data-[state=active]:bg-gradient-to-br data-[state=active]:from-blue-600 data-[state=active]:to-indigo-600 data-[state=active]:text-white data-[state=active]:shadow-lg",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ne,{className:"h-4 w-4"}),l.jsx("span",{children:"Settings"})]})}),l.jsx(A,{value:"slip-list",className:"flex-1 rounded-lg border border-transparent px-6 py-3.5 font-semibold text-slate-600 transition-all duration-200 data-[state=active]:border-blue-200 data-[state=active]:bg-gradient-to-br data-[state=active]:from-blue-600 data-[state=active]:to-indigo-600 data-[state=active]:text-white data-[state=active]:shadow-lg",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(xe,{className:"h-4 w-4"}),l.jsx("span",{children:"Pay Slips"})]})})]}),l.jsxs(F,{value:"overview",className:"mt-6 space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 gap-5 md:grid-cols-2 lg:grid-cols-4",children:[l.jsx(g,{className:"group overflow-hidden rounded-2xl border-0 bg-gradient-to-br from-emerald-500 to-teal-600 shadow-lg transition-all duration-300 hover:scale-105 hover:shadow-2xl",children:l.jsx(v,{className:"p-6",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"rounded-xl bg-white/20 p-3 backdrop-blur-sm",children:l.jsx(le,{className:"h-6 w-6 text-white"})}),l.jsx("div",{className:"rounded-full bg-white/20 px-3 py-1 text-xs font-semibold text-white backdrop-blur-sm",children:"Monthly"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-emerald-100",children:"Net Salary"}),l.jsx("p",{className:"mt-2 text-3xl font-bold text-white",children:el((null==(m=null==(c=Ua.data)?void 0:c.monthly)?void 0:m.net_salary)||0)})]})]})})}),l.jsx(g,{className:"group overflow-hidden rounded-2xl border-0 bg-gradient-to-br from-blue-500 to-cyan-600 shadow-lg transition-all duration-300 hover:scale-105 hover:shadow-2xl",children:l.jsx(v,{className:"p-6",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"rounded-xl bg-white/20 p-3 backdrop-blur-sm",children:l.jsx(he,{className:"h-6 w-6 text-white"})}),l.jsx("div",{className:"rounded-full bg-white/20 px-3 py-1 text-xs font-semibold text-white backdrop-blur-sm",children:"Monthly"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-blue-100",children:"CTC"}),l.jsx("p",{className:"mt-2 text-3xl font-bold text-white",children:el((null==(h=null==(x=Ua.data)?void 0:x.monthly)?void 0:h.ctc)||0)})]})]})})}),l.jsx(g,{className:"group overflow-hidden rounded-2xl border-0 bg-gradient-to-br from-violet-500 to-purple-600 shadow-lg transition-all duration-300 hover:scale-105 hover:shadow-2xl",children:l.jsx(v,{className:"p-6",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"rounded-xl bg-white/20 p-3 backdrop-blur-sm",children:l.jsx(le,{className:"h-6 w-6 text-white"})}),l.jsx("div",{className:"rounded-full bg-white/20 px-3 py-1 text-xs font-semibold text-white backdrop-blur-sm",children:"Annual"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-violet-100",children:"Net Salary"}),l.jsx("p",{className:"mt-2 text-3xl font-bold text-white",children:el((null==(p=null==(u=Ua.data)?void 0:u.annual)?void 0:p.net_salary)||0)})]})]})})}),l.jsx(g,{className:"group overflow-hidden rounded-2xl border-0 bg-gradient-to-br from-orange-500 to-red-600 shadow-lg transition-all duration-300 hover:scale-105 hover:shadow-2xl",children:l.jsx(v,{className:"p-6",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"rounded-xl bg-white/20 p-3 backdrop-blur-sm",children:l.jsx(he,{className:"h-6 w-6 text-white"})}),l.jsx("div",{className:"rounded-full bg-white/20 px-3 py-1 text-xs font-semibold text-white backdrop-blur-sm",children:"Annual"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-orange-100",children:"CTC"}),l.jsx("p",{className:"mt-2 text-3xl font-bold text-white",children:el((null==(j=null==(b=Ua.data)?void 0:b.annual)?void 0:j.ctc)||0)})]})]})})})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-5 md:grid-cols-2",children:[l.jsxs(g,{className:"overflow-hidden rounded-2xl border-0 bg-white shadow-xl transition-all duration-300 hover:shadow-2xl",children:[l.jsx(N,{className:"border-b border-blue-100 bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-5",children:l.jsxs(y,{className:"flex items-center gap-2 text-base font-bold text-slate-800",children:[l.jsx("div",{className:"rounded-lg bg-blue-600 p-2",children:l.jsx(le,{className:"h-4 w-4 text-white"})}),"Pay Structure"]})}),l.jsx(v,{className:"p-6",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"group flex items-center justify-between rounded-lg border border-slate-100 bg-slate-50/50 p-3 transition-all hover:border-blue-200 hover:bg-blue-50/50",children:[l.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Pay Commission"}),l.jsx("span",{className:"text-sm font-bold text-slate-900",children:null==(T=null==(S=null==(f=Ua.data)?void 0:f.pay_config)?void 0:S.pay_commission)?void 0:T.commission_name})]}),l.jsxs("div",{className:"group flex items-center justify-between rounded-lg border border-slate-100 bg-slate-50/50 p-3 transition-all hover:border-blue-200 hover:bg-blue-50/50",children:[l.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Pay Level"}),l.jsx("span",{className:"text-sm font-bold text-slate-900",children:null==(O=null==(M=null==(E=Ua.data)?void 0:E.pay_config)?void 0:M.pay_level)?void 0:O.level_name})]}),l.jsxs("div",{className:"group flex items-center justify-between rounded-lg border border-slate-100 bg-slate-50/50 p-3 transition-all hover:border-blue-200 hover:bg-blue-50/50",children:[l.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Current Basic Pay"}),l.jsx("span",{className:"text-sm font-bold text-blue-600",children:el(null==($=null==(q=Ua.data)?void 0:q.pay_config)?void 0:$.current_basic_pay)})]}),l.jsxs("div",{className:"group flex items-center justify-between rounded-lg border border-slate-100 bg-slate-50/50 p-3 transition-all hover:border-blue-200 hover:bg-blue-50/50",children:[l.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Cell Index"}),l.jsx(R,{className:"border-0 bg-gradient-to-r from-blue-600 to-indigo-600 px-4 py-1 text-xs font-semibold text-white shadow-md",children:null==(V=null==(Y=Ua.data)?void 0:Y.pay_config)?void 0:V.cell_index})]})]})})]}),l.jsxs(g,{className:"overflow-hidden rounded-2xl border-0 bg-white shadow-xl transition-all duration-300 hover:shadow-2xl",children:[l.jsx(N,{className:"border-b border-purple-100 bg-gradient-to-r from-purple-50 to-pink-50 px-6 py-5",children:l.jsxs(y,{className:"flex items-center gap-2 text-base font-bold text-slate-800",children:[l.jsx("div",{className:"rounded-lg bg-purple-600 p-2",children:l.jsx(ne,{className:"h-4 w-4 text-white"})}),"Deductions & Tax"]})}),l.jsx(v,{className:"p-6",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"group flex items-center justify-between rounded-lg border border-slate-100 bg-slate-50/50 p-3 transition-all hover:border-purple-200 hover:bg-purple-50/50",children:[l.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Pension Scheme"}),l.jsx(R,{className:"border-0 bg-gradient-to-r from-purple-600 to-pink-600 px-4 py-1 text-xs font-semibold text-white shadow-md",children:null==(X=null==(U=Ua.data)?void 0:U.pay_config)?void 0:X.pension_scheme})]}),(null==(W=null==(z=Ua.data)?void 0:z.pay_config)?void 0:W.nps_contribution_rate)&&l.jsxs("div",{className:"group flex items-center justify-between rounded-lg border border-slate-100 bg-slate-50/50 p-3 transition-all hover:border-purple-200 hover:bg-purple-50/50",children:[l.jsx("span",{className:"text-sm font-medium text-slate-600",children:"NPS Contribution Rate"}),l.jsxs("span",{className:"text-sm font-bold text-slate-900",children:[null==(Q=null==(Z=Ua.data)?void 0:Z.pay_config)?void 0:Q.nps_contribution_rate,"%"]})]}),l.jsxs("div",{className:"group flex items-center justify-between rounded-lg border border-slate-100 bg-slate-50/50 p-3 transition-all hover:border-purple-200 hover:bg-purple-50/50",children:[l.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Tax Regime"}),l.jsx(R,{className:"border border-purple-200 bg-purple-100 px-4 py-1 text-xs font-semibold text-purple-700 shadow-sm",children:"new"===(null==(ee=null==(K=Ua.data)?void 0:K.pay_config)?void 0:ee.tax_regime)?"New Regime":"Old Regime"})]}),l.jsxs("div",{className:"group flex items-center justify-between rounded-lg border border-slate-100 bg-slate-50/50 p-3 transition-all hover:border-purple-200 hover:bg-purple-50/50",children:[l.jsx("span",{className:"text-sm font-medium text-slate-600",children:"City Classification"}),l.jsxs(R,{className:"border border-slate-300 bg-white px-4 py-1 text-xs font-semibold text-slate-700 shadow-sm",children:["Class ",null==(ae=null==(se=Ua.data)?void 0:se.pay_config)?void 0:ae.city_classification]})]})]})})]})]})]}),l.jsxs(F,{value:"monthly",className:"mt-6 space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[l.jsxs(g,{className:"overflow-hidden rounded-2xl border-0 bg-white shadow-xl transition-all duration-300 hover:shadow-2xl",children:[l.jsx(N,{className:"border-b-0 bg-gradient-to-br from-emerald-600 to-teal-600 px-6 py-6",children:l.jsxs(y,{className:"flex items-center gap-3 text-lg font-bold text-white",children:[l.jsx("div",{className:"rounded-xl bg-white/20 p-2.5 backdrop-blur-sm",children:l.jsx(he,{className:"h-5 w-5"})}),l.jsxs("div",{children:[l.jsx("div",{children:"Monthly Earnings"}),l.jsx("div",{className:"mt-1 text-sm font-normal text-emerald-100",children:"Breakdown of monthly income"})]})]})}),l.jsx(v,{className:"p-6",children:l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-100 bg-gradient-to-r from-slate-50 to-transparent p-3.5 transition-all hover:border-emerald-200 hover:from-emerald-50",children:[l.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Basic Pay"}),l.jsx("span",{className:"text-sm font-bold text-slate-900",children:el((null==(re=null==(ie=null==(te=Ua.data)?void 0:te.monthly)?void 0:ie.earnings)?void 0:re.basic_pay)||0)})]}),l.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-100 bg-gradient-to-r from-slate-50 to-transparent p-3.5 transition-all hover:border-emerald-200 hover:from-emerald-50",children:[l.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Dearness Allowance (DA)"}),l.jsx("span",{className:"text-sm font-bold text-slate-900",children:el((null==(me=null==(oe=null==(de=Ua.data)?void 0:de.monthly)?void 0:oe.earnings)?void 0:me.dearness_allowance)||0)})]}),l.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-100 bg-gradient-to-r from-slate-50 to-transparent p-3.5 transition-all hover:border-emerald-200 hover:from-emerald-50",children:[l.jsx("span",{className:"text-sm font-medium text-slate-700",children:"House Rent Allowance (HRA)"}),l.jsx("span",{className:"text-sm font-bold text-slate-900",children:el((null==(be=null==(pe=null==(ue=Ua.data)?void 0:ue.monthly)?void 0:pe.earnings)?void 0:be.house_rent_allowance)||0)})]}),l.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-100 bg-gradient-to-r from-slate-50 to-transparent p-3.5 transition-all hover:border-emerald-200 hover:from-emerald-50",children:[l.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Transport Allowance"}),l.jsx("span",{className:"text-sm font-bold text-slate-900",children:el((null==(ge=null==(fe=null==(je=Ua.data)?void 0:je.monthly)?void 0:fe.earnings)?void 0:ge.transport_allowance)||0)})]}),l.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-100 bg-gradient-to-r from-slate-50 to-transparent p-3.5 transition-all hover:border-emerald-200 hover:from-emerald-50",children:[l.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Medical Allowance"}),l.jsx("span",{className:"text-sm font-bold text-slate-900",children:el((null==(we=null==(ye=null==(ve=Ua.data)?void 0:ve.monthly)?void 0:ye.earnings)?void 0:we.medical_allowance)||0)})]}),(null==(ke=null==(Se=null==(_e=Ua.data)?void 0:_e.monthly)?void 0:Se.earnings)?void 0:ke.special_allowance)>0&&l.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-100 bg-gradient-to-r from-slate-50 to-transparent p-3.5 transition-all hover:border-emerald-200 hover:from-emerald-50",children:[l.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Special Allowance"}),l.jsx("span",{className:"text-sm font-bold text-slate-900",children:el(null==(Te=null==(Fe=null==(Ce=Ua.data)?void 0:Ce.monthly)?void 0:Fe.earnings)?void 0:Te.special_allowance)})]}),l.jsx(J,{className:"my-4"}),l.jsxs("div",{className:"flex items-center justify-between rounded-xl border-2 border-emerald-200 bg-gradient-to-br from-emerald-50 to-teal-50 px-5 py-4 shadow-sm",children:[l.jsx("span",{className:"text-base font-bold text-slate-800",children:"Gross Salary"}),l.jsx("span",{className:"text-xl font-bold text-emerald-600",children:el((null==(Ie=null==(De=null==(Re=Ua.data)?void 0:Re.monthly)?void 0:De.earnings)?void 0:Ie.gross_salary)||0)})]})]})})]}),l.jsxs(g,{className:"overflow-hidden rounded-2xl border-0 bg-white shadow-xl transition-all duration-300 hover:shadow-2xl",children:[l.jsx(N,{className:"border-b-0 bg-gradient-to-br from-rose-600 to-pink-600 px-6 py-6",children:l.jsxs(y,{className:"flex items-center gap-3 text-lg font-bold text-white",children:[l.jsx("div",{className:"rounded-xl bg-white/20 p-2.5 backdrop-blur-sm",children:l.jsx(ne,{className:"h-5 w-5"})}),l.jsxs("div",{children:[l.jsx("div",{children:"Monthly Deductions"}),l.jsx("div",{className:"mt-1 text-sm font-normal text-rose-100",children:"Breakdown of monthly deductions"})]})]})}),l.jsx(v,{className:"p-6",children:l.jsxs("div",{className:"space-y-3",children:[(null==(Oe=null==(Me=null==(Ee=Ua.data)?void 0:Ee.monthly)?void 0:Me.deductions)?void 0:Oe.pf_contribution)>0&&l.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-100 bg-gradient-to-r from-slate-50 to-transparent p-3.5 transition-all hover:border-rose-200 hover:from-rose-50",children:[l.jsx("span",{className:"text-sm font-medium text-slate-700",children:"PF Contribution"}),l.jsx("span",{className:"text-sm font-bold text-slate-900",children:el(null==(Le=null==(Ge=null==(Be=Ua.data)?void 0:Be.monthly)?void 0:Ge.deductions)?void 0:Le.pf_contribution)})]}),(null==(He=null==($e=null==(qe=Ua.data)?void 0:qe.monthly)?void 0:$e.deductions)?void 0:He.nps_contribution)>0&&l.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-100 bg-gradient-to-r from-slate-50 to-transparent p-3.5 transition-all hover:border-rose-200 hover:from-rose-50",children:[l.jsx("span",{className:"text-sm font-medium text-slate-700",children:"NPS Contribution"}),l.jsx("span",{className:"text-sm font-bold text-slate-900",children:el(null==(Ue=null==(Ve=null==(Ye=Ua.data)?void 0:Ye.monthly)?void 0:Ve.deductions)?void 0:Ue.nps_contribution)})]}),(null==(We=null==(ze=null==(Xe=Ua.data)?void 0:Xe.monthly)?void 0:ze.deductions)?void 0:We.gpf_contribution)>0&&l.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-100 bg-gradient-to-r from-slate-50 to-transparent p-3.5 transition-all hover:border-rose-200 hover:from-rose-50",children:[l.jsx("span",{className:"text-sm font-medium text-slate-700",children:"GPF Contribution"}),l.jsx("span",{className:"text-sm font-bold text-slate-900",children:el(null==(Qe=null==(Je=null==(Ze=Ua.data)?void 0:Ze.monthly)?void 0:Je.deductions)?void 0:Qe.gpf_contribution)})]}),l.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-100 bg-gradient-to-r from-slate-50 to-transparent p-3.5 transition-all hover:border-rose-200 hover:from-rose-50",children:[l.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Professional Tax"}),l.jsx("span",{className:"text-sm font-bold text-slate-900",children:el((null==(ss=null==(es=null==(Ke=Ua.data)?void 0:Ke.monthly)?void 0:es.deductions)?void 0:ss.professional_tax)||0)})]}),l.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-100 bg-gradient-to-r from-slate-50 to-transparent p-3.5 transition-all hover:border-rose-200 hover:from-rose-50",children:[l.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Income Tax"}),l.jsx("span",{className:"text-sm font-bold text-slate-900",children:el((null==(ts=null==(ls=null==(as=Ua.data)?void 0:as.monthly)?void 0:ls.deductions)?void 0:ts.income_tax)||0)})]}),l.jsx(J,{className:"my-4"}),l.jsxs("div",{className:"flex items-center justify-between rounded-xl border-2 border-rose-200 bg-gradient-to-br from-rose-50 to-pink-50 px-5 py-4 shadow-sm",children:[l.jsx("span",{className:"text-base font-bold text-slate-800",children:"Total Deductions"}),l.jsx("span",{className:"text-xl font-bold text-rose-600",children:el((null==(rs=null==(is=null==(ns=Ua.data)?void 0:ns.monthly)?void 0:is.deductions)?void 0:rs.total_deductions)||0)})]})]})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-5 md:grid-cols-2",children:[l.jsx(g,{className:"overflow-hidden rounded-2xl border-0 bg-gradient-to-br from-blue-600 to-indigo-600 shadow-xl transition-all duration-300 hover:scale-[1.02] hover:shadow-2xl",children:l.jsx(v,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"rounded-lg bg-white/20 p-2 backdrop-blur-sm",children:l.jsx(le,{className:"h-5 w-5 text-white"})}),l.jsx("p",{className:"text-sm font-bold uppercase tracking-wider text-blue-100",children:"Net Monthly Salary"})]}),l.jsx("p",{className:"text-xs text-blue-200",children:"Amount credited to account"})]}),l.jsx("span",{className:"text-3xl font-bold text-white",children:el((null==(os=null==(ds=Ua.data)?void 0:ds.monthly)?void 0:os.net_salary)||0)})]})})}),l.jsx(g,{className:"overflow-hidden rounded-2xl border-0 bg-gradient-to-br from-violet-600 to-purple-600 shadow-xl transition-all duration-300 hover:scale-[1.02] hover:shadow-2xl",children:l.jsx(v,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"rounded-lg bg-white/20 p-2 backdrop-blur-sm",children:l.jsx(he,{className:"h-5 w-5 text-white"})}),l.jsx("p",{className:"text-sm font-bold uppercase tracking-wider text-violet-100",children:"Employer Contribution"})]}),l.jsx("p",{className:"text-xs text-violet-200",children:"Additional benefits"})]}),l.jsx("span",{className:"text-3xl font-bold text-white",children:el((null==(xs=null==(ms=null==(cs=Ua.data)?void 0:cs.monthly)?void 0:ms.employer_contributions)?void 0:xs.total)||0)})]})})})]})]}),l.jsxs(F,{value:"annual",className:"mt-6 space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[l.jsxs(g,{className:"overflow-hidden rounded-2xl border-0 bg-white shadow-xl transition-all duration-300 hover:shadow-2xl",children:[l.jsx(N,{className:"border-b-0 bg-gradient-to-br from-emerald-600 to-teal-600 px-6 py-6",children:l.jsxs(y,{className:"flex items-center gap-3 text-lg font-bold text-white",children:[l.jsx("div",{className:"rounded-xl bg-white/20 p-2.5 backdrop-blur-sm",children:l.jsx(he,{className:"h-5 w-5"})}),l.jsxs("div",{children:[l.jsx("div",{children:"Annual Earnings"}),l.jsx("div",{className:"mt-1 text-sm font-normal text-emerald-100",children:"Yearly income breakdown (12 months)"})]})]})}),l.jsx(v,{className:"p-6",children:l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-100 bg-gradient-to-r from-slate-50 to-transparent p-3.5 transition-all hover:border-emerald-200 hover:from-emerald-50",children:[l.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Basic Pay"}),l.jsx("span",{className:"text-sm font-bold text-slate-900",children:el((null==(ps=null==(us=null==(hs=Ua.data)?void 0:hs.annual)?void 0:us.earnings)?void 0:ps.basic_pay)||0)})]}),l.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-100 bg-gradient-to-r from-slate-50 to-transparent p-3.5 transition-all hover:border-emerald-200 hover:from-emerald-50",children:[l.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Dearness Allowance (DA)"}),l.jsx("span",{className:"text-sm font-bold text-slate-900",children:el((null==(fs=null==(js=null==(bs=Ua.data)?void 0:bs.annual)?void 0:js.earnings)?void 0:fs.dearness_allowance)||0)})]}),l.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-100 bg-gradient-to-r from-slate-50 to-transparent p-3.5 transition-all hover:border-emerald-200 hover:from-emerald-50",children:[l.jsx("span",{className:"text-sm font-medium text-slate-700",children:"House Rent Allowance (HRA)"}),l.jsx("span",{className:"text-sm font-bold text-slate-900",children:el((null==(Ns=null==(vs=null==(gs=Ua.data)?void 0:gs.annual)?void 0:vs.earnings)?void 0:Ns.house_rent_allowance)||0)})]}),l.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-100 bg-gradient-to-r from-slate-50 to-transparent p-3.5 transition-all hover:border-emerald-200 hover:from-emerald-50",children:[l.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Transport Allowance"}),l.jsx("span",{className:"text-sm font-bold text-slate-900",children:el((null==(_s=null==(ws=null==(ys=Ua.data)?void 0:ys.annual)?void 0:ws.earnings)?void 0:_s.transport_allowance)||0)})]}),l.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-100 bg-gradient-to-r from-slate-50 to-transparent p-3.5 transition-all hover:border-emerald-200 hover:from-emerald-50",children:[l.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Medical Allowance"}),l.jsx("span",{className:"text-sm font-bold text-slate-900",children:el((null==(Cs=null==(ks=null==(Ss=Ua.data)?void 0:Ss.annual)?void 0:ks.earnings)?void 0:Cs.medical_allowance)||0)})]}),l.jsx(J,{className:"my-4"}),l.jsxs("div",{className:"flex items-center justify-between rounded-xl border-2 border-emerald-200 bg-gradient-to-br from-emerald-50 to-teal-50 px-5 py-4 shadow-sm",children:[l.jsx("span",{className:"text-base font-bold text-slate-800",children:"Gross Salary"}),l.jsx("span",{className:"text-xl font-bold text-emerald-600",children:el((null==(Fs=null==(As=null==(Ps=Ua.data)?void 0:Ps.annual)?void 0:As.earnings)?void 0:Fs.gross_salary)||0)})]})]})})]}),l.jsxs(g,{className:"overflow-hidden rounded-2xl border-0 bg-white shadow-xl transition-all duration-300 hover:shadow-2xl",children:[l.jsx(N,{className:"border-b-0 bg-gradient-to-br from-rose-600 to-pink-600 px-6 py-6",children:l.jsxs(y,{className:"flex items-center gap-3 text-lg font-bold text-white",children:[l.jsx("div",{className:"rounded-xl bg-white/20 p-2.5 backdrop-blur-sm",children:l.jsx(ne,{className:"h-5 w-5"})}),l.jsxs("div",{children:[l.jsx("div",{children:"Annual Deductions"}),l.jsx("div",{className:"mt-1 text-sm font-normal text-rose-100",children:"Yearly deduction breakdown (12 months)"})]})]})}),l.jsx(v,{className:"p-6",children:l.jsxs("div",{className:"space-y-3",children:[(null==(Ds=null==(Rs=null==(Ts=Ua.data)?void 0:Ts.annual)?void 0:Rs.deductions)?void 0:Ds.pf_contribution)>0&&l.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-100 bg-gradient-to-r from-slate-50 to-transparent p-3.5 transition-all hover:border-rose-200 hover:from-rose-50",children:[l.jsx("span",{className:"text-sm font-medium text-slate-700",children:"PF Contribution"}),l.jsx("span",{className:"text-sm font-bold text-slate-900",children:el(null==(Ms=null==(Es=null==(Is=Ua.data)?void 0:Is.annual)?void 0:Es.deductions)?void 0:Ms.pf_contribution)})]}),(null==(Gs=null==(Bs=null==(Os=Ua.data)?void 0:Os.annual)?void 0:Bs.deductions)?void 0:Gs.nps_contribution)>0&&l.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-100 bg-gradient-to-r from-slate-50 to-transparent p-3.5 transition-all hover:border-rose-200 hover:from-rose-50",children:[l.jsx("span",{className:"text-sm font-medium text-slate-700",children:"NPS Contribution"}),l.jsx("span",{className:"text-sm font-bold text-slate-900",children:el(null==($s=null==(qs=null==(Ls=Ua.data)?void 0:Ls.annual)?void 0:qs.deductions)?void 0:$s.nps_contribution)})]}),l.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-100 bg-gradient-to-r from-slate-50 to-transparent p-3.5 transition-all hover:border-rose-200 hover:from-rose-50",children:[l.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Professional Tax"}),l.jsx("span",{className:"text-sm font-bold text-slate-900",children:el((null==(Vs=null==(Ys=null==(Hs=Ua.data)?void 0:Hs.annual)?void 0:Ys.deductions)?void 0:Vs.professional_tax)||0)})]}),l.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-100 bg-gradient-to-r from-slate-50 to-transparent p-3.5 transition-all hover:border-rose-200 hover:from-rose-50",children:[l.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Income Tax"}),l.jsx("span",{className:"text-sm font-bold text-slate-900",children:el((null==(zs=null==(Xs=null==(Us=Ua.data)?void 0:Us.annual)?void 0:Xs.deductions)?void 0:zs.income_tax)||0)})]}),l.jsx(J,{className:"my-4"}),l.jsxs("div",{className:"flex items-center justify-between rounded-xl border-2 border-rose-200 bg-gradient-to-br from-rose-50 to-pink-50 px-5 py-4 shadow-sm",children:[l.jsx("span",{className:"text-base font-bold text-slate-800",children:"Total Deductions"}),l.jsx("span",{className:"text-xl font-bold text-rose-600",children:el((null==(Js=null==(Zs=null==(Ws=Ua.data)?void 0:Ws.annual)?void 0:Zs.deductions)?void 0:Js.total_deductions)||0)})]})]})})]})]}),(null==(Qs=Ua.data)?void 0:Qs.tax_info)&&l.jsxs(g,{className:"overflow-hidden rounded-2xl border-0 bg-white shadow-xl",children:[l.jsx(N,{className:"border-b border-amber-100 bg-gradient-to-r from-amber-50 to-orange-50 px-6 py-5",children:l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{children:[l.jsxs(y,{className:"flex items-center gap-2 text-base font-bold text-slate-800",children:[l.jsx("div",{className:"rounded-lg bg-amber-600 p-2",children:l.jsx(le,{className:"h-4 w-4 text-white"})}),"Tax Information"]}),l.jsx(w,{className:"mt-1 text-sm text-slate-600",children:"Tax calculation and deductions summary"})]})})}),l.jsx(v,{className:"p-6",children:l.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:[l.jsxs("div",{className:"flex flex-col gap-3 rounded-xl border-2 border-amber-200 bg-gradient-to-br from-amber-50 to-orange-50 p-5 shadow-sm transition-all hover:shadow-md",children:[l.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-amber-700",children:"Tax Regime"}),l.jsx(R,{className:"w-fit border-0 bg-gradient-to-r from-amber-600 to-orange-600 px-4 py-1.5 font-semibold text-white shadow-md",children:"new"===Ua.data.tax_info.regime?"New Regime":"Old Regime"})]}),l.jsxs("div",{className:"flex flex-col gap-3 rounded-xl border-2 border-blue-200 bg-gradient-to-br from-blue-50 to-cyan-50 p-5 shadow-sm transition-all hover:shadow-md",children:[l.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-blue-700",children:"Taxable Income"}),l.jsx("span",{className:"text-xl font-bold text-slate-900",children:el(Ua.data.tax_info.annual_taxable_income)})]}),l.jsxs("div",{className:"flex flex-col gap-3 rounded-xl border-2 border-emerald-200 bg-gradient-to-br from-emerald-50 to-teal-50 p-5 shadow-sm transition-all hover:shadow-md",children:[l.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-emerald-700",children:"Standard Deduction"}),l.jsx("span",{className:"text-xl font-bold text-slate-900",children:el(Ua.data.tax_info.standard_deduction)})]}),l.jsxs("div",{className:"flex flex-col gap-3 rounded-xl border-2 border-rose-200 bg-gradient-to-br from-rose-50 to-pink-50 p-5 shadow-sm transition-all hover:shadow-md",children:[l.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-rose-700",children:"Annual Tax"}),l.jsx("span",{className:"text-xl font-bold text-slate-900",children:el(Ua.data.tax_info.annual_tax)})]}),l.jsxs("div",{className:"flex flex-col gap-3 rounded-xl border-2 border-violet-200 bg-gradient-to-br from-violet-50 to-purple-50 p-5 shadow-sm transition-all hover:shadow-md",children:[l.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-violet-700",children:"Monthly Tax"}),l.jsx("span",{className:"text-xl font-bold text-slate-900",children:el(Ua.data.tax_info.monthly_tax)})]})]})})]})]}),l.jsx(F,{value:"config",className:"mt-6 space-y-6",children:Ya?l.jsxs(g,{className:"overflow-hidden rounded-2xl border-0 bg-white shadow-xl",children:[l.jsxs(N,{className:"border-b-0 bg-gradient-to-br from-blue-600 to-indigo-600 px-6 py-6",children:[l.jsx(y,{className:"text-lg font-bold text-white",children:"Update Salary Configuration"}),l.jsx(w,{className:"text-blue-100",children:"Modify salary configuration details"})]}),l.jsx(v,{className:"p-8",children:l.jsxs(B,{methods:Za,onSubmit:Za.handleSubmit(async e=>{var s,a;Ha(!0);try{(await n.post(i.updateEmployeeSalary,{id:Number(e.id),...e.is_matrix_based&&{cell_index:Number(e.cell_index)},...!e.is_matrix_based&&{grade_pay:Number(e.grade_pay)},city_classification:e.city_classification,hra_percentage:Number(e.hra_percentage)||null,transport_allowance:Number(e.transport_allowance),medical_allowance:Number(e.medical_allowance),special_allowance:Number(e.special_allowance),pension_scheme:e.pension_scheme,..."NPS"===e.pension_scheme&&{nps_contribution_rate:Number(e.nps_contribution_rate),pf_employee_contribution_rate:Number(e.pf_employee_contribution_rate)},..."OPS"===e.pension_scheme&&{gpf_contribution_rate:Number(e.gpf_contribution_rate)},..."EPF_ONLY"===e.pension_scheme&&{pf_employee_contribution_rate:Number(e.pf_employee_contribution_rate)},bank_name:e.bank_name,bank_account_no:e.bank_account_no,bank_ifsc:e.bank_ifsc,tax_regime:e.tax_regime})).data.success&&(alert("Salary configuration updated successfully!"),Va(!1))}catch(l){alert((null==(a=null==(s=null==l?void 0:l.response)?void 0:s.data)?void 0:a.message)||"Failed to update salary configuration")}finally{Ha(!1)}}),children:[l.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[l.jsx("div",{children:(null==Za?void 0:Za.watch("is_matrix_based"))?l.jsx(L,{name:"cell_index",label:"Cell Index",data:(null==(Ks=null==Wa?void 0:Wa.data)?void 0:Ks.map(e=>({label:`Index ${e.cell_index} - ₹${e.basic_pay}`,value:String(e.cell_index)})))||[]}):l.jsx(G,{name:"grade_pay",label:"Grade Pay"})}),l.jsx("div",{children:l.jsx(L,{name:"city_classification",label:"City Classification",data:[{label:"X - Metro Cities (24%)",value:"X"},{label:"Y - Other Cities (16%)",value:"Y"},{label:"Z - Rural Areas (8%)",value:"Z"}]})}),l.jsx("div",{children:l.jsx(G,{name:"hra_percentage",label:"HRA Percentage"})}),l.jsx("div",{children:l.jsx(G,{name:"transport_allowance",label:"Transport Allowance"})}),l.jsx("div",{children:l.jsx(G,{name:"medical_allowance",label:"Medical Allowance"})}),l.jsx("div",{children:l.jsx(G,{name:"special_allowance",label:"Special Allowance"})}),l.jsx("div",{children:l.jsx(L,{name:"pension_scheme",label:"Pension Scheme",data:[{label:"NPS - National Pension System",value:"NPS"},{label:"GPF - General Provident Fund",value:"OPS"},{label:"EPF Only",value:"EPF_ONLY"}]})}),"NPS"===Ka&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"space-y-1.5",children:l.jsx(G,{name:"nps_contribution_rate",label:"NPS Contribution Rate (%)",type:"number",placeholder:"10"})}),l.jsx("div",{className:"space-y-1.5",children:l.jsx(G,{name:"pf_employee_contribution_rate",label:"PF Employee Contribution Rate (%)",type:"number",placeholder:"12"})})]}),"EPF_ONLY"===Ka&&l.jsx("div",{className:"space-y-1.5",children:l.jsx(G,{name:"pf_employee_contribution_rate",label:"PF Employee Contribution Rate (%)",type:"number",placeholder:"12"})}),"OPS"===Ka&&l.jsx("div",{className:"space-y-1.5",children:l.jsx(G,{name:"gpf_contribution_rate",label:"GPF Contribution Rate (%)",type:"number",placeholder:"Enter rate"})}),l.jsx("div",{children:l.jsx(G,{name:"bank_name",label:"Bank Name"})}),l.jsx("div",{children:l.jsx(G,{name:"bank_account_no",label:"Account Number"})}),l.jsx("div",{children:l.jsx(G,{name:"bank_ifsc",label:"IFSC Code"})}),l.jsx("div",{children:l.jsx(L,{name:"tax_regime",label:"Tax Regime",data:[{label:"New Regime",value:"new"},{label:"Old Regime",value:"old"}]})})]}),l.jsxs("div",{className:"-mx-8 -mb-8 mt-8 flex justify-end gap-4 border-t border-slate-200 bg-gradient-to-r from-slate-50 to-blue-50 px-8 py-5",children:[l.jsx(t,{type:"button",variant:"outline",onClick:()=>Va(!1),className:"min-w-[140px] border-2 border-slate-300 font-semibold shadow-sm transition-all hover:scale-105 hover:border-slate-400 hover:bg-slate-100",children:"Cancel"}),l.jsx(t,{type:"submit",disabled:$a,className:"min-w-[140px] border-0 bg-gradient-to-r from-blue-600 to-indigo-600 font-semibold shadow-lg transition-all hover:scale-105 hover:from-blue-700 hover:to-indigo-700",children:$a?l.jsxs(l.Fragment,{children:[l.jsx(ce,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Ne,{className:"mr-2 h-4 w-4"}),"Save Changes"]})})]})]})})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"flex items-center justify-end",children:l.jsxs(t,{onClick:()=>Va(!0),className:"gap-2 border-0 bg-gradient-to-r from-blue-600 to-indigo-600 px-8 py-3 font-semibold shadow-lg transition-all hover:scale-105 hover:from-blue-700 hover:to-indigo-700",children:[l.jsx(Ne,{className:"h-5 w-5"}),"Edit Configuration"]})}),l.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[l.jsxs(g,{className:"overflow-hidden rounded-2xl border-0 bg-white shadow-xl transition-all duration-300 hover:shadow-2xl",children:[l.jsx(N,{className:"border-b border-blue-100 bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-5",children:l.jsxs(y,{className:"flex items-center gap-2 text-base font-bold text-slate-800",children:[l.jsx("div",{className:"rounded-lg bg-blue-600 p-2",children:l.jsx(le,{className:"h-4 w-4 text-white"})}),"Pay Configuration"]})}),l.jsx(v,{className:"p-6",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-100 bg-slate-50/50 p-3 transition-all hover:border-blue-200 hover:bg-blue-50/50",children:[l.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Pay Commission"}),l.jsx("span",{className:"text-sm font-bold text-slate-900",children:null==(aa=null==(sa=null==(ea=Ua.data)?void 0:ea.pay_config)?void 0:sa.pay_commission)?void 0:aa.commission_name})]}),l.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-100 bg-slate-50/50 p-3 transition-all hover:border-blue-200 hover:bg-blue-50/50",children:[l.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Pay Level"}),l.jsx("span",{className:"text-sm font-bold text-slate-900",children:null==(na=null==(ta=null==(la=Ua.data)?void 0:la.pay_config)?void 0:ta.pay_level)?void 0:na.level_name})]}),l.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-100 bg-slate-50/50 p-3 transition-all hover:border-blue-200 hover:bg-blue-50/50",children:[l.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Cell Index"}),l.jsx(R,{className:"border-0 bg-gradient-to-r from-blue-600 to-indigo-600 px-4 py-1 text-xs font-semibold text-white shadow-md",children:null==(ra=null==(ia=Ua.data)?void 0:ia.pay_config)?void 0:ra.cell_index})]}),l.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-100 bg-slate-50/50 p-3 transition-all hover:border-blue-200 hover:bg-blue-50/50",children:[l.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Current Basic Pay"}),l.jsx("span",{className:"text-sm font-bold text-blue-600",children:el(null==(oa=null==(da=Ua.data)?void 0:da.pay_config)?void 0:oa.current_basic_pay)})]}),l.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-100 bg-slate-50/50 p-3 transition-all hover:border-blue-200 hover:bg-blue-50/50",children:[l.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Grade Pay"}),l.jsx("span",{className:"text-sm font-bold text-slate-900",children:el((null==(ma=null==(ca=Ua.data)?void 0:ca.pay_config)?void 0:ma.grade_pay)||0)})]}),l.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-100 bg-slate-50/50 p-3 transition-all hover:border-blue-200 hover:bg-blue-50/50",children:[l.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Effective From"}),l.jsx("span",{className:"text-sm font-bold text-slate-900",children:new Date(null==(ha=null==(xa=Ua.data)?void 0:xa.pay_config)?void 0:ha.effective_from).toLocaleDateString()})]})]})})]}),l.jsxs(g,{className:"overflow-hidden rounded-2xl border-0 bg-white shadow-xl transition-all duration-300 hover:shadow-2xl",children:[l.jsx(N,{className:"border-b border-emerald-100 bg-gradient-to-r from-emerald-50 to-teal-50 px-6 py-5",children:l.jsxs(y,{className:"flex items-center gap-2 text-base font-bold text-slate-800",children:[l.jsx("div",{className:"rounded-lg bg-emerald-600 p-2",children:l.jsx(he,{className:"h-4 w-4 text-white"})}),"Allowances"]})}),l.jsx(v,{className:"p-6",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-100 bg-slate-50/50 p-3 transition-all hover:border-emerald-200 hover:bg-emerald-50/50",children:[l.jsx("span",{className:"text-sm font-medium text-slate-600",children:"City Classification"}),l.jsxs(R,{className:"border border-emerald-300 bg-emerald-100 px-4 py-1 text-xs font-semibold text-emerald-700 shadow-sm",children:["Class"," ",null==(pa=null==(ua=Ua.data)?void 0:ua.pay_config)?void 0:pa.city_classification]})]}),(null==(ja=null==(ba=Ua.data)?void 0:ba.pay_config)?void 0:ja.hra_percentage)&&l.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-100 bg-slate-50/50 p-3 transition-all hover:border-emerald-200 hover:bg-emerald-50/50",children:[l.jsx("span",{className:"text-sm font-medium text-slate-600",children:"HRA Percentage"}),l.jsxs("span",{className:"text-sm font-bold text-slate-900",children:[null==(ga=null==(fa=Ua.data)?void 0:fa.pay_config)?void 0:ga.hra_percentage,"%"]})]}),l.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-100 bg-slate-50/50 p-3 transition-all hover:border-emerald-200 hover:bg-emerald-50/50",children:[l.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Transport Allowance"}),l.jsx("span",{className:"text-sm font-bold text-slate-900",children:el(null==(Na=null==(va=Ua.data)?void 0:va.pay_config)?void 0:Na.transport_allowance)})]}),l.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-100 bg-slate-50/50 p-3 transition-all hover:border-emerald-200 hover:bg-emerald-50/50",children:[l.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Medical Allowance"}),l.jsx("span",{className:"text-sm font-bold text-slate-900",children:el(null==(wa=null==(ya=Ua.data)?void 0:ya.pay_config)?void 0:wa.medical_allowance)})]}),(null==(Sa=null==(_a=Ua.data)?void 0:_a.pay_config)?void 0:Sa.special_allowance)>0&&l.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-100 bg-slate-50/50 p-3 transition-all hover:border-emerald-200 hover:bg-emerald-50/50",children:[l.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Special Allowance"}),l.jsx("span",{className:"text-sm font-bold text-slate-900",children:el(null==(Ca=null==(ka=Ua.data)?void 0:ka.pay_config)?void 0:Ca.special_allowance)})]})]})})]}),l.jsxs(g,{className:"overflow-hidden rounded-2xl border-0 bg-white shadow-xl transition-all duration-300 hover:shadow-2xl",children:[l.jsx(N,{className:"border-b border-purple-100 bg-gradient-to-r from-purple-50 to-pink-50 px-6 py-5",children:l.jsxs(y,{className:"flex items-center gap-2 text-base font-bold text-slate-800",children:[l.jsx("div",{className:"rounded-lg bg-purple-600 p-2",children:l.jsx(ne,{className:"h-4 w-4 text-white"})}),"Retirement & Tax"]})}),l.jsx(v,{className:"p-6",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-100 bg-slate-50/50 p-3 transition-all hover:border-purple-200 hover:bg-purple-50/50",children:[l.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Pension Scheme"}),l.jsx(R,{className:"border-0 bg-gradient-to-r from-purple-600 to-pink-600 px-4 py-1 text-xs font-semibold text-white shadow-md",children:null==(Aa=null==(Pa=Ua.data)?void 0:Pa.pay_config)?void 0:Aa.pension_scheme})]}),(null==(Ta=null==(Fa=Ua.data)?void 0:Fa.pay_config)?void 0:Ta.nps_contribution_rate)&&l.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-100 bg-slate-50/50 p-3 transition-all hover:border-purple-200 hover:bg-purple-50/50",children:[l.jsx("span",{className:"text-sm font-medium text-slate-600",children:"NPS Contribution Rate"}),l.jsxs("span",{className:"text-sm font-bold text-slate-900",children:[null==(Da=null==(Ra=Ua.data)?void 0:Ra.pay_config)?void 0:Da.nps_contribution_rate,"%"]})]}),l.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-100 bg-slate-50/50 p-3 transition-all hover:border-purple-200 hover:bg-purple-50/50",children:[l.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Tax Regime"}),l.jsx(R,{className:"border border-purple-200 bg-purple-100 px-4 py-1 text-xs font-semibold text-purple-700 shadow-sm",children:"new"===(null==(Ea=null==(Ia=Ua.data)?void 0:Ia.pay_config)?void 0:Ea.tax_regime)?"New Regime":"Old Regime"})]})]})})]}),l.jsxs(g,{className:"overflow-hidden rounded-2xl border-0 bg-white shadow-xl transition-all duration-300 hover:shadow-2xl",children:[l.jsx(N,{className:"border-b border-amber-100 bg-gradient-to-r from-amber-50 to-orange-50 px-6 py-5",children:l.jsxs(y,{className:"flex items-center gap-2 text-base font-bold text-slate-800",children:[l.jsx("div",{className:"rounded-lg bg-amber-600 p-2",children:l.jsx(le,{className:"h-4 w-4 text-white"})}),"Bank Details"]})}),l.jsx(v,{className:"p-6",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-100 bg-slate-50/50 p-3 transition-all hover:border-amber-200 hover:bg-amber-50/50",children:[l.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Bank Name"}),l.jsx("span",{className:"text-sm font-bold text-slate-900",children:null==(Oa=null==(Ma=Ua.data)?void 0:Ma.pay_config)?void 0:Oa.bank_name})]}),l.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-100 bg-slate-50/50 p-3 transition-all hover:border-amber-200 hover:bg-amber-50/50",children:[l.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Account Number"}),l.jsx("span",{className:"text-sm font-bold text-slate-900",children:null==(Ga=null==(Ba=Ua.data)?void 0:Ba.pay_config)?void 0:Ga.bank_account_no})]}),l.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-100 bg-slate-50/50 p-3 transition-all hover:border-amber-200 hover:bg-amber-50/50",children:[l.jsx("span",{className:"text-sm font-medium text-slate-600",children:"IFSC Code"}),l.jsx("span",{className:"text-sm font-bold text-slate-900",children:null==(qa=null==(La=Ua.data)?void 0:La.pay_config)?void 0:qa.bank_ifsc})]})]})})]})]})]})}),l.jsx(F,{value:"slip-list",className:"mt-6",children:l.jsx(Pe,{})})]})})}):l.jsx("div",{className:"mx-auto max-w-2xl p-6",children:l.jsx(_,{className:"border-l-4 border-l-amber-500 bg-amber-50",children:l.jsx(k,{className:"text-center text-slate-700",children:"No salary configuration found for this employee. Please estimate and set the salary first."})})})}const Te=E().shape({month:M().required("Month is required"),year:M().required("Year is required")});function Re({open:e,setOpen:a,title:t,id:n,edit:r,setEdit:d,refetch:o,setTabView:c}){const m=be({}),x=p(),h=D({defaultValues:{year:"2026",month:""},resolver:I(Te)});return l.jsx(_e,{open:e,setOpen:a,title:t,setEdit:d,edit:r,isLoading:!1,children:l.jsx(B,{methods:h,onSubmit:h.handleSubmit(async e=>{var l,t,r,u;try{const p=await m.mutateAsync({api:null==(l=i)?void 0:l.generatePaySlip,data:{emp_id:s(n||""),month:e.month,year:e.year}});(null==(t=p.data)?void 0:t.success)?(c&&c("slip-list"),x.refetchQueries({queryKey:["salary-slip-list"]}),f.success(null==(r=null==p?void 0:p.data)?void 0:r.message)):f.error((null==(u=p.data)?void 0:u.message)||"Pay slip not generated successfully"),h.reset({year:"2026",month:""}),a(!1),d(!1),o()}catch(p){}}),children:l.jsxs("div",{className:"grid grid-cols-1 gap-x-2 gap-y-4",children:[l.jsx("div",{children:l.jsx(we,{name:"year",label:"Select Financial Year",data:b})}),l.jsx("div",{children:l.jsx(we,{name:"month",label:"Select Month",data:j})}),l.jsx(J,{}),l.jsx("div",{children:l.jsx(ye,{isLoading:null==m?void 0:m.isPending,type:"submit",className:"h-11 w-full rounded-xl",children:"Submit"})})]})})})}function De(){var s,a,n,r,d,o,c,m,h,p,b,j,f,S;const{id:D}=x(),I=D||"",[E,M]=e.useState("estimate"),[O,B]=e.useState(null),[G,L]=e.useState(null),[q,$]=e.useState(!1),[H,Y]=e.useState(null),[V,U]=e.useState(!0),[X,z]=e.useState("overview"),[W,J]=e.useState(!1),Q=pe({api:`${null==(s=i)?void 0:s.getEmployeeById}?id=${D}`,key:`${null==(a=i)?void 0:a.getEmployeeById}-${D}`,value:[D],options:{enabled:Boolean(D)}}),K=pe({api:`${i.getEmployeeSalary}?emp_id=${D}`,key:`checkExistingSalary-${D}`,value:[D],options:{enabled:!!D}});e.useEffect(()=>{var e,s;(null==(e=K.data)?void 0:e.success)&&(null==(s=K.data)?void 0:s.data)&&(Y(K.data.data),$(!0),M("view")),U(K.isLoading)},[K]);const se=e=>"estimate"===e||("set"===e?!!O&&!q:"view"===e&&q);return K.isLoading?l.jsx("div",{className:"flex h-screen w-full items-center justify-center",children:l.jsx(ce,{className:"h-8 w-8 animate-spin text-blue-600"})}):l.jsxs(Z,{title:"Salary Management",subTitle:"Configure and manage employee compensation structure",name:(null==(r=null==(n=null==Q?void 0:Q.data)?void 0:n.data)?void 0:r.emp_name)||"",code:(null==(o=null==(d=null==Q?void 0:Q.data)?void 0:d.data)?void 0:o.emp_code)||"",children:[l.jsx(Re,{open:W,setOpen:J,title:"Generate Pay Slip",id:I,edit:!1,setEdit:()=>{},setTabView:z}),l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50/30 to-slate-50 ",children:l.jsxs("div",{className:"space-y-6",children:[V?l.jsxs(_,{className:"border-blue-200 bg-white shadow-sm",children:[l.jsx(ce,{className:"h-4 w-4 animate-spin text-blue-600"}),l.jsx(k,{className:"ml-2 text-slate-700",children:"Checking existing salary configuration..."})]}):q||H?l.jsxs(_,{className:"border-emerald-200 bg-white shadow-sm",children:[l.jsx(me,{className:"h-4 w-4 text-emerald-600"}),l.jsxs(k,{className:"ml-2 text-slate-700",children:[l.jsx("span",{className:"font-semibold text-emerald-700",children:"Salary Configured"})," ","- Use Increment & Promotion button to process salary revisions"]})]}):l.jsx(_,{className:"border-blue-200 bg-white shadow-sm",children:l.jsx(k,{className:"text-slate-700",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"font-semibold text-slate-900",children:"Setup Process:"}),l.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[l.jsx(R,{variant:"outline",className:"mt-0.5",children:"1"}),l.jsx("span",{children:"Calculate salary by entering employee details"})]}),l.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[l.jsx(R,{variant:"outline",className:"mt-0.5",children:"2"}),l.jsx("span",{children:"Review and confirm the salary configuration"})]}),l.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[l.jsx(R,{variant:"outline",className:"mt-0.5",children:"3"}),l.jsx("span",{children:"View complete details and update when needed"})]})]})})}),q||H?l.jsxs(g,{className:"border-slate-200 bg-white shadow-lg",children:[l.jsx(N,{className:"border-b border-slate-100 bg-gradient-to-r from-slate-50 to-white",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs(y,{className:"flex items-center gap-2 text-xl",children:[l.jsx(ee,{className:"h-5 w-5 text-blue-600"}),"Salary Details"]}),l.jsx(w,{children:"Complete salary breakdown and management"})]}),l.jsxs("div",{className:"space-x-4",children:[l.jsxs(t,{onClick:()=>J(!0),className:"bg-gradient-to-r from-green-600 to-green-600 text-white hover:from-green-700 hover:to-green-700",children:[l.jsx(ee,{className:"mr-2 h-4 w-4"}),"Generate Pay Slip"]}),l.jsx(u,{to:`/hrms/dashboard/increment-promotion/${I}`,children:l.jsxs(t,{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white hover:from-blue-700 hover:to-indigo-700",children:[l.jsx(T,{className:"mr-2 h-4 w-4"}),"Increment & Promotion"]})})]})]})}),l.jsx(v,{className:"p-6",children:l.jsx(Fe,{getEmpPay:K,tabView:X})})]}):l.jsxs(g,{className:"border-slate-200 bg-white shadow-lg",children:[l.jsxs(N,{className:"border-b border-slate-100",children:[l.jsx(y,{className:"text-xl",children:"Salary Configuration Workflow"}),l.jsx(w,{children:"Follow the step-by-step process to configure employee salary"})]}),l.jsx(v,{className:"p-6",children:l.jsxs(C,{value:E,onValueChange:M,className:"w-full",children:[l.jsxs(P,{className:"grid h-auto w-full grid-cols-3 gap-2 bg-slate-100 p-1.5",children:[l.jsxs(A,{value:"estimate",className:"flex items-center gap-2 data-[state=active]:bg-white data-[state=active]:shadow-sm",children:[l.jsx("div",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-blue-600 text-xs font-bold text-white",children:"1"}),l.jsx("span",{className:"hidden sm:inline",children:"Calculate"}),O&&l.jsx(me,{className:"h-4 w-4 text-emerald-600"})]}),l.jsxs(A,{value:"set",disabled:!se("set"),className:"flex items-center gap-2 data-[state=active]:bg-white data-[state=active]:shadow-sm",children:[l.jsx("div",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-emerald-600 text-xs font-bold text-white",children:"2"}),l.jsx("span",{className:"hidden sm:inline",children:"Confirm"}),q&&l.jsx(me,{className:"h-4 w-4 text-emerald-600"})]}),l.jsxs(A,{value:"view",disabled:!se("view"),className:"flex items-center gap-2 data-[state=active]:bg-white data-[state=active]:shadow-sm",children:[l.jsx("div",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-purple-600 text-xs font-bold text-white",children:"3"}),l.jsx("span",{className:"hidden sm:inline",children:"Review"})]})]}),l.jsx(F,{value:"estimate",className:"mt-6",children:l.jsx(ke,{empId:I,onEstimateComplete:(e,s)=>{B(e),L(s),q||H?setTimeout(()=>M("view"),500):setTimeout(()=>M("set"),500)}})}),l.jsx(F,{value:"set",className:"mt-6",children:l.jsx(Ce,{estimatedData:O,formData:G,onSetComplete:e=>{$(!0),Y(e.data),setTimeout(()=>M("view"),500)}})}),l.jsx(F,{value:"view",className:"mt-6",children:l.jsx(Fe,{getEmpPay:K,tabView:X})})]})})]}),O&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Quick Summary"}),l.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[l.jsx(g,{className:"border-emerald-200 bg-gradient-to-br from-emerald-50 to-white shadow-sm",children:l.jsx(v,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-slate-600",children:"Monthly Net"}),l.jsxs("p",{className:"mt-1 text-2xl font-bold text-emerald-700",children:["₹",((null==(m=null==(c=O.data)?void 0:c.monthly)?void 0:m.net_salary)||0).toLocaleString("en-IN")]})]}),l.jsx(he,{className:"h-8 w-8 text-emerald-600 opacity-20"})]})})}),l.jsx(g,{className:"border-blue-200 bg-gradient-to-br from-blue-50 to-white shadow-sm",children:l.jsx(v,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-slate-600",children:"Monthly CTC"}),l.jsxs("p",{className:"mt-1 text-2xl font-bold text-blue-700",children:["₹",((null==(p=null==(h=O.data)?void 0:h.monthly)?void 0:p.ctc)||0).toLocaleString("en-IN")]})]}),l.jsx(ee,{className:"h-8 w-8 text-blue-600 opacity-20"})]})})}),l.jsx(g,{className:"border-purple-200 bg-gradient-to-br from-purple-50 to-white shadow-sm",children:l.jsx(v,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-slate-600",children:"Annual Net"}),l.jsxs("p",{className:"mt-1 text-2xl font-bold text-purple-700",children:["₹",((null==(j=null==(b=O.data)?void 0:b.annual)?void 0:j.net_salary)||0).toLocaleString("en-IN")]})]}),l.jsx(he,{className:"h-8 w-8 text-purple-600 opacity-20"})]})})}),l.jsx(g,{className:"border-orange-200 bg-gradient-to-br from-orange-50 to-white shadow-sm",children:l.jsx(v,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-slate-600",children:"Annual CTC"}),l.jsxs("p",{className:"mt-1 text-2xl font-bold text-orange-700",children:["₹",((null==(S=null==(f=O.data)?void 0:f.annual)?void 0:S.ctc)||0).toLocaleString("en-IN")]})]}),l.jsx(ee,{className:"h-8 w-8 text-orange-600 opacity-20"})]})})})]})]})]})})]})}export{De as default};
