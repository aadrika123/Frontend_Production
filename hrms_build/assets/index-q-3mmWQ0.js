import{r as e,j as s}from"./vendor-RyuIgj66.js";import{P as a}from"./index-DFF4_m_G.js";import{u as l,h as t,B as n}from"./index-ey2GEmQz.js";import{C as i,a as c,d as r,b as d,c as x}from"./card-u7M7FP5y.js";import{b as o}from"./useCustomQuery-DTB6aAiD.js";import{S as m}from"./Spinner-BwGzvoRj.js";import{I as j}from"./input-DlX9dTT0.js";import{S as h,a as u,b as p,c as f,d as N}from"./select-8PAfYjod.js";import{B as g}from"./badge-DbWnzWn2.js";import{S as v}from"./separator-BQijJEjG.js";import{N as y,a2 as b,aB as S,aD as _,_ as w}from"./icons-CxCh8mm_.js";import"./ui-B3c1eQmf.js";import"./query-BH9sOW2X.js";import"./axios-Dos3PyFQ.js";import"./zustand-C1rkr5lV.js";function L(){var a,L,T,D,F,E,I,C,Y,P,$,A,R,B,G,V,k,H,O,q,z,Q;const{user:J}=l(),[K,M]=e.useState(""),[U,W]=e.useState(""),[X,Z]=e.useState(""),ee=(()=>{const e=[],s=(new Date).getFullYear();for(let a=0;a<6;a++){const l=s-a;e.push(`${l}-${(l+1).toString().slice(-2)}`)}return e})(),se=o({api:`${t.getTdsSummary}?emp_id=${U}&financial_year=${X}&ulb_id=${null==J?void 0:J.ulbId}`,key:"getTdsSummary",value:[U,X,null==J?void 0:J.ulbId],options:{enabled:!!U&&!!X&&!!(null==J?void 0:J.ulbId)}}),ae=null==(a=null==se?void 0:se.data)?void 0:a.data;return s.jsxs("main",{className:"grid items-start gap-4",children:[s.jsxs(i,{children:[s.jsxs(c,{children:[s.jsxs(r,{className:"flex items-center gap-2",children:[s.jsx(y,{className:"h-5 w-5"}),"Search TDS Summary"]}),s.jsx(d,{children:"Enter Employee ID and Financial Year to view TDS details"})]}),s.jsx(x,{children:s.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row",children:[s.jsx(j,{placeholder:"Enter Employee ID",value:K,onChange:e=>M(e.target.value),className:"w-48"}),s.jsxs(h,{value:X,onValueChange:Z,children:[s.jsx(u,{className:"w-48",children:s.jsx(p,{placeholder:"Select Financial Year"})}),s.jsx(f,{children:ee.map(e=>s.jsxs(N,{value:e,children:["FY ",e]},e))})]}),s.jsxs(n,{onClick:()=>{K&&X&&W(K)},variant:"outline",children:[s.jsx(b,{className:"mr-2 h-4 w-4"}),"Search"]})]})})]}),U&&X&&(null==se?void 0:se.isLoading)&&s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(m,{})}),ae&&s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs(i,{children:[s.jsxs(c,{className:"bg-gradient-to-r from-green-50 to-emerald-50",children:[s.jsx(r,{className:"text-green-700",children:"Earnings Summary"}),s.jsxs(d,{children:["Total earnings for FY ",X]})]}),s.jsx(x,{className:"pt-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-slate-600",children:"Gross Salary"}),s.jsxs("span",{className:"font-semibold",children:["₹",null==(L=ae.total_gross_salary)?void 0:L.toLocaleString()]})]}),s.jsx(v,{}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-slate-500",children:"Basic Pay"}),s.jsxs("span",{children:["₹",null==(T=ae.total_basic_pay)?void 0:T.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-slate-500",children:"DA"}),s.jsxs("span",{children:["₹",null==(D=ae.total_da)?void 0:D.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-slate-500",children:"HRA"}),s.jsxs("span",{children:["₹",null==(F=ae.total_hra)?void 0:F.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-slate-500",children:"Other Allowances"}),s.jsxs("span",{children:["₹",null==(E=ae.total_other_allowances)?void 0:E.toLocaleString()]})]}),s.jsx(v,{}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-slate-600",children:"Net Salary"}),s.jsxs("span",{className:"font-bold text-green-600",children:["₹",null==(I=ae.total_net_salary)?void 0:I.toLocaleString()]})]})]})})]}),s.jsxs(i,{children:[s.jsxs(c,{className:"bg-gradient-to-r from-red-50 to-orange-50",children:[s.jsx(r,{className:"text-red-700",children:"Deductions Summary"}),s.jsxs(d,{children:["Total deductions for FY ",X]})]}),s.jsx(x,{className:"pt-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-slate-600",children:"Total Deductions"}),s.jsxs("span",{className:"font-semibold",children:["₹",null==(C=ae.total_deductions)?void 0:C.toLocaleString()]})]}),s.jsx(v,{}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-slate-500",children:"PF (Employee)"}),s.jsxs("span",{children:["₹",null==(Y=ae.total_pf_employee)?void 0:Y.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-slate-500",children:"Professional Tax"}),s.jsxs("span",{children:["₹",null==(P=ae.total_professional_tax)?void 0:P.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-slate-500",children:"Income Tax (TDS)"}),s.jsxs("span",{children:["₹",null==($=ae.total_income_tax)?void 0:$.toLocaleString()]})]}),ae.total_esi_employee>0&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-slate-500",children:"ESI (Employee)"}),s.jsxs("span",{children:["₹",null==(A=ae.total_esi_employee)?void 0:A.toLocaleString()]})]}),s.jsx(v,{}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-slate-500",children:"PF (Employer)"}),s.jsxs("span",{className:"text-slate-400",children:["₹",null==(R=ae.total_pf_employer)?void 0:R.toLocaleString()]})]})]})})]}),s.jsxs(i,{className:"md:col-span-2",children:[s.jsx(c,{className:"bg-gradient-to-r from-blue-50 to-indigo-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(r,{className:"flex items-center gap-2 text-blue-700",children:[s.jsx(S,{className:"h-5 w-5"}),"Tax Computation (Form 16)"]}),s.jsxs(d,{children:["Tax computation for FY ",X]})]}),s.jsx(g,{className:"new"===ae.tax_regime?"bg-blue-100 text-blue-700":"bg-purple-100 text-purple-700",children:"new"===ae.tax_regime?"New Tax Regime":"Old Tax Regime"})]})}),s.jsx(x,{className:"pt-4",children:s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-semibold text-slate-700",children:"Income Computation"}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-slate-500",children:"Gross Salary"}),s.jsxs("span",{children:["₹",null==(B=ae.total_gross_salary)?void 0:B.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-slate-500",children:"Less: Standard Deduction"}),s.jsxs("span",{className:"text-red-500",children:["-₹",null==(G=ae.standard_deduction)?void 0:G.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-slate-500",children:"Less: HRA Exemption"}),s.jsxs("span",{className:"text-red-500",children:["-₹",null==(V=ae.hra_exemption)?void 0:V.toLocaleString()]})]}),ae.chapter_vi_a_deductions>0&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-slate-500",children:"Less: Chapter VI-A"}),s.jsxs("span",{className:"text-red-500",children:["-₹",null==(k=ae.chapter_vi_a_deductions)?void 0:k.toLocaleString()]})]}),s.jsx(v,{}),s.jsxs("div",{className:"flex justify-between font-semibold",children:[s.jsx("span",{className:"text-slate-700",children:"Taxable Income"}),s.jsxs("span",{className:"text-blue-600",children:["₹",null==(H=ae.taxable_income)?void 0:H.toLocaleString()]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-semibold text-slate-700",children:"Tax Summary"}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-slate-500",children:"Tax Computed"}),s.jsxs("span",{children:["₹",null==(O=ae.tax_computed)?void 0:O.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-slate-500",children:"Tax Deducted (TDS)"}),s.jsxs("span",{children:["₹",null==(q=ae.tax_deducted)?void 0:q.toLocaleString()]})]}),s.jsx(v,{}),ae.tax_shortfall>0?s.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-red-50 p-2",children:[s.jsxs("span",{className:"flex items-center gap-1 text-red-600",children:[s.jsx(_,{className:"h-4 w-4"}),"Tax Shortfall"]}),s.jsxs("span",{className:"font-bold text-red-600",children:["₹",null==(z=ae.tax_shortfall)?void 0:z.toLocaleString()]})]}):ae.tax_excess>0?s.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-green-50 p-2",children:[s.jsxs("span",{className:"flex items-center gap-1 text-green-600",children:[s.jsx(w,{className:"h-4 w-4"}),"Tax Excess (Refund)"]}),s.jsxs("span",{className:"font-bold text-green-600",children:["₹",null==(Q=ae.tax_excess)?void 0:Q.toLocaleString()]})]}):s.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-blue-50 p-2",children:[s.jsxs("span",{className:"flex items-center gap-1 text-blue-600",children:[s.jsx(w,{className:"h-4 w-4"}),"Tax Fully Paid"]}),s.jsx("span",{className:"font-bold text-blue-600",children:"₹0"})]})]})]})})]})]}),U&&X&&!(null==se?void 0:se.isLoading)&&!ae&&s.jsx(i,{className:"border-yellow-200 bg-yellow-50",children:s.jsx(x,{className:"flex items-center justify-center py-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx(_,{className:"mx-auto h-10 w-10 text-yellow-500"}),s.jsxs("p",{className:"mt-2 text-yellow-700",children:["No TDS summary found for Employee ID ",U," in FY"," ",X]})]})})})]})}function T(){return s.jsx(a,{title:"TDS Summary",subTitle:"View TDS Summary for Form 16 Generation",children:s.jsx("div",{className:"py-12",children:s.jsx(L,{})})})}export{T as default};
