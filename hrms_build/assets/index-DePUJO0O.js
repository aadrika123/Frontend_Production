import{r as P,p as Xe,j as e,h as F,_ as j,q as re,s as le,B as I,e as Me}from"./index-tu5RKtgL.js";import{P as Qe}from"./index-OOOJLIWo.js";import{c as de,f as se,b as i,g as we,a as ce,o as oe,F as me,R as c,B as ae,h as Ze,e as ke,i as Se}from"./label-B8fnMYg-.js";import{u as X,c as es,b as Q}from"./useCustomQuery-71QrvBqQ.js";import{R as T,H as Ae,C as ss,a as Ee,M as R,b as B,c as as,u as ts,D as Re,d as $e,P as qe,e as Oe,f as Te,g as Be,h as Ie,i as He,j as Ue,F as te,T as Le,E as ls,k as Ye,l as Pe,m as ne,n as De}from"./usePdfValidator-Cd1PnDQx.js";import{g as rs,d as ns,a as is,U as L,B as Fe,H as ee,c as ds,P as Ce,M as cs,e as os,R as ms}from"./useMasters-DiebA9Yf.js";import{C as H}from"./calendar-y2aW8foC.js";import{U as Y}from"./users-CrqJCvBN.js";import{S as ze,C as z,c as G,d as Ge,a as Je,e as We,b as xs,h as ie}from"./Spinner-q9oHHmIi.js";import{D as Ve}from"./dollar-sign-Bzi0SNSj.js";const ps=de().shape({emp_type_id:se().integer().required().label("Employee Type"),emp_code:i().max(50).required().label("Employee Code"),emp_name:i().max(100).required().label("Employee Name"),gender:i().oneOf(["male","female","other"]).optional().label("Gender"),dob:we().optional().label("Date of Birth"),marital_status:i().oneOf(["single","married","divorced","widowed"]).optional().label("Marital Status"),religion:i().max(50).optional().label("Religion"),emp_blood_group:i().oneOf(["A+","A-","B+","B-","O+","O-","AB+","AB-"]).optional().label("Blood Group"),emp_health_status:i().max(50).optional().label("Health Status").required(),contact_no:i().max(10).optional().label("Contact Number"),emergency_contact_no:i().max(10).optional().label("Emergency Contact"),email:i().email().max(100).optional().label("Email"),emp_present_address:i().optional().label("Present Address"),present_post_office:i().max(100).optional().label("Present Post Office"),present_pin_code:i().max(6).optional().label("Present PIN Code"),present_police_station:i().max(100).optional().label("Present Police Station"),present_state:i().max(100).optional().label("Present State"),present_district:i().max(100).optional().label("Present District"),emp_permanent_address:i().optional().label("Permanent Address"),permanent_post_office:i().max(100).optional().label("Permanent Post Office"),permanent_pin_code:i().max(6).optional().label("Permanent PIN Code"),permanent_police_station:i().max(100).optional().label("Permanent Police Station"),permanent_state:i().max(100).optional().label("Permanent State"),permanent_district:i().max(100).optional().label("Permanent District"),aadhaar_no:i().max(12).optional().label("Aadhaar Number"),pan_no:i().max(10).optional().label("PAN Number"),uan_no:i().max(12).optional().label("UAN Number"),esi_no:i().max(17).optional().label("ESI Number"),passport_no:i().max(20).optional().label("Passport Number"),driving_license_no:i().max(20).optional().label("Driving License"),department_id:se().integer().optional().label("Department"),designation_id:se().integer().optional().label("Designation"),date_of_joining:we().optional().label("Date of Joining")});function hs({id:m,getDataById:y}){var g,C,V,q,O,$;const[d,_]=P.useState(!1),o=X({}),A=Xe(),h=rs(),u=ns(),n=is(),f=P.useMemo(()=>{var W;if(!((W=y.data)!=null&&W.data))return{};const{ulb_id:a,status:x,created_at:v,updated_at:N,id:M,emp_image:b,...D}=y.data.data,J={};return Object.entries(D).forEach(([Z,K])=>{J[Z]=K===null?void 0:K}),J},[y.data]),l=ce({defaultValues:f,resolver:oe(ps)}),r=async a=>{var x,v,N,M;try{const b=await o.mutateAsync({api:`${(x=F)==null?void 0:x.updateEmployeeById}`,data:{id:m,...a}});(v=b.data)!=null&&v.success?(j.success((N=b==null?void 0:b.data)==null?void 0:N.message),A("/hrms/dashboard/employee-list")):j.error(((M=b.data)==null?void 0:M.message)||"Employee not created successfully")}catch(b){console.log(b),j.error("An error occurred while creating employee")}},s=a=>{if(_(a),a){const x=l.getValues("emp_present_address"),v=l.getValues("present_post_office"),N=l.getValues("present_pin_code"),M=l.getValues("present_police_station"),b=l.getValues("present_state"),D=l.getValues("present_district");l.setValue("emp_permanent_address",x),l.setValue("permanent_post_office",v),l.setValue("permanent_pin_code",N),l.setValue("permanent_police_station",M),l.setValue("permanent_state",b),l.setValue("permanent_district",D)}else l.setValue("emp_permanent_address",""),l.setValue("permanent_post_office",""),l.setValue("permanent_pin_code",""),l.setValue("permanent_police_station",""),l.setValue("permanent_state",""),l.setValue("permanent_district","")};P.useEffect(()=>{y.data&&l.reset(f)},[y.data,l]);const w=[{label:"Fit",value:"fit"},{label:"Unfit",value:"unfit"},{label:"Disabled",value:"disabled"}],t=[{label:"Male",value:"male"},{label:"Female",value:"female"},{label:"Other",value:"other"}],S=[{label:"Single",value:"single"},{label:"Married",value:"married"},{label:"Divorced",value:"divorced"},{label:"Widowed",value:"widowed"}],p=[{label:"A+",value:"A+"},{label:"A-",value:"A-"},{label:"B+",value:"B+"},{label:"B-",value:"B-"},{label:"O+",value:"O+"},{label:"O-",value:"O-"},{label:"AB+",value:"AB+"},{label:"AB-",value:"AB-"}],E=async()=>{var N,M,b,D,J,W,Z,K,xe,pe,he,ge,ue,be,je,ye,fe,Ne,ve,_e;const x=await(await fetch(((M=(N=y.data)==null?void 0:N.data)==null?void 0:M.emp_image)||"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT3dSEtDvpd9KAn4SdFJVoL0K1lj4Xfc-wVWQ&s")).blob(),v=new File([x],"employee_image.jpg",{type:x.type});try{const k=new FormData;k.append("name",l.getValues("emp_name")),k.append("mobile",l.getValues("contact_no")),k.append("altMobile",l.getValues("emergency_contact_no")),k.append("email",l.getValues("email")),k.append("address",l.getValues("emp_present_address")),k.append("userType","Employee"),k.append("ulbId",((D=(b=y.data)==null?void 0:b.data)==null?void 0:D.ulb_id)||""),k.append("photo",v);const U=await o.mutateAsync({api:(J=re)==null?void 0:J.createUserAuth,data:k});if(console.log(U.data),(W=U.data)!=null&&W.status){const Ke=await o.mutateAsync({api:`${(Z=re)==null?void 0:Z.createMenuRoleAuth}`,data:{userId:(xe=(K=U.data)==null?void 0:K.data)==null?void 0:xe.id,permissionStatus:!0,menuRoleId:129}});await o.mutateAsync({api:`${(pe=re)==null?void 0:pe.createWorkFlowRoleAuth}`,data:{userId:(ge=(he=U.data)==null?void 0:he.data)==null?void 0:ge.id,permissionStatus:!0,wfRoleId:79}}),(ue=Ke.data)!=null&&ue.status&&(ve=(await o.mutateAsync({api:`${(be=F)==null?void 0:be.approveEmployee}`,data:{id:String((ye=(je=y.data)==null?void 0:je.data)==null?void 0:ye.id),authorization_id:String((Ne=(fe=U.data)==null?void 0:fe.data)==null?void 0:Ne.id),approval_status:1}})).data)!=null&&ve.success&&(j.success("Employee approved successfully"),A("/hrms/dashboard/employee-list"))}else j.error(((_e=U.data)==null?void 0:_e.message)||"Employee approval failed")}catch(k){console.log(k),j.error("An error occurred while approving employee")}};return e.jsxs("div",{className:"",children:[e.jsx("div",{className:"mb-8 rounded-lg border border-blue-200 bg-gradient-to-r from-blue-50 to-indigo-50 p-6 shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-blue-600 text-white shadow-md",children:e.jsx(L,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Comprehensive Employee Registration"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Please fill in all required fields marked with asterisk (*)"})]})]})}),e.jsxs(me,{methods:l,onSubmit:l.handleSubmit(r),children:[e.jsxs("div",{className:"mb-6 overflow-hidden rounded-lg border border-gray-200 bg-white shadow-sm",children:[e.jsxs("div",{className:"border-b border-gray-200 bg-gray-50 px-6 py-4",children:[e.jsxs("h2",{className:"flex items-center gap-2 text-lg font-semibold text-gray-800",children:[e.jsx(Fe,{className:"h-5 w-5 text-blue-600"}),"Employment Details"]}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Department, designation and job information"})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(ee,{className:"h-4 w-4 text-gray-400"}),"Employee Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(T,{name:"emp_type_id",data:((C=(g=h==null?void 0:h.data)==null?void 0:g.data)==null?void 0:C.map(a=>({label:String(a.emp_type),value:String(a.id)})))||[]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(ee,{className:"h-4 w-4 text-gray-400"}),"Employee Code ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(c,{name:"emp_code",placeholder:"Enter Employee Code",disabled:!0,inputValidation:["removeSpecialCharacterExceptSpace"]})]})]})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(ds,{className:"h-4 w-4 text-gray-400"}),"Department"]}),e.jsx(T,{name:"department_id",data:((q=(V=u==null?void 0:u.data)==null?void 0:V.data)==null?void 0:q.map(a=>({label:String(a.department_name),value:String(a.id)})))||[]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(Fe,{className:"h-4 w-4 text-gray-400"}),"Designation"]}),e.jsx(T,{name:"designation_id",data:(($=(O=n==null?void 0:n.data)==null?void 0:O.data)==null?void 0:$.map(a=>({label:String(a.designation_name),value:String(a.id)})))||[]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(H,{className:"h-4 w-4 text-gray-400"}),"Date of Joining"]}),e.jsx(c,{name:"date_of_joining",type:"date",placeholder:"Select Joining Date"})]})]})})]}),e.jsxs("div",{className:"mb-6 overflow-hidden rounded-lg border border-gray-200 bg-white shadow-sm",children:[e.jsxs("div",{className:"border-b border-gray-200 bg-gray-50 px-6 py-4",children:[e.jsxs("h2",{className:"flex items-center gap-2 text-lg font-semibold text-gray-800",children:[e.jsx(L,{className:"h-5 w-5 text-blue-600"}),"Personal Details"]}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Employee personal information"})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(L,{className:"h-4 w-4 text-gray-400"}),"Full Name"]}),e.jsx(c,{name:"emp_name",placeholder:"Enter Full Name",inputValidation:["removeSpecialCharacterExceptSpace"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(Y,{className:"h-4 w-4 text-gray-400"}),"Gender"]}),e.jsx(T,{name:"gender",data:t})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(H,{className:"h-4 w-4 text-gray-400"}),"Date of Birth"]}),e.jsx(c,{name:"dob",type:"date",placeholder:"Select Date of Birth"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(Y,{className:"h-4 w-4 text-gray-400"}),"Marital Status"]}),e.jsx(T,{name:"marital_status",data:S})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(Y,{className:"h-4 w-4 text-gray-400"}),"Religion"]}),e.jsx(c,{name:"religion",placeholder:"Enter Religion",inputValidation:["removeSpecialCharacterExceptSpace"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(Ae,{className:"h-4 w-4 text-gray-400"}),"Blood Group"]}),e.jsx(T,{name:"emp_blood_group",data:p})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(Ae,{className:"h-4 w-4 text-gray-400"}),"Health Status"]}),e.jsx(T,{name:"emp_health_status",data:w})]})]})})]}),e.jsxs("div",{className:"mb-6 overflow-hidden rounded-lg border border-gray-200 bg-white shadow-sm",children:[e.jsxs("div",{className:"border-b border-gray-200 bg-gray-50 px-6 py-4",children:[e.jsxs("h2",{className:"flex items-center gap-2 text-lg font-semibold text-gray-800",children:[e.jsx(Ce,{className:"h-5 w-5 text-blue-600"}),"Contact Information"]}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Primary and emergency contact details"})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(Ce,{className:"h-4 w-4 text-gray-400"}),"Contact Number"]}),e.jsx(c,{name:"contact_no",placeholder:"Enter 10-digit Mobile Number",inputValidation:["number"],maxLength:10})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(ss,{className:"h-4 w-4 text-gray-400"}),"Emergency Contact"]}),e.jsx(c,{name:"emergency_contact_no",placeholder:"Enter Emergency Contact Number",inputValidation:["number"],maxLength:10})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(cs,{className:"h-4 w-4 text-gray-400"}),"Email Address"]}),e.jsx(c,{name:"email",type:"email",placeholder:"example@domain.com"})]})]})})]}),e.jsxs("div",{className:"mb-6 overflow-hidden rounded-lg border border-gray-200 bg-white shadow-sm",children:[e.jsxs("div",{className:"border-b border-gray-200 bg-gray-50 px-6 py-4",children:[e.jsxs("h2",{className:"flex items-center gap-2 text-lg font-semibold text-gray-800",children:[e.jsx(Ee,{className:"h-5 w-5 text-blue-600"}),"Address Information"]}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Residential address details"})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"col-span-full space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(R,{className:"h-4 w-4 text-gray-400"}),"Present Address"]}),e.jsx(c,{name:"emp_present_address",placeholder:"Enter Present Address"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(R,{className:"h-4 w-4 text-gray-400"}),"Post Office"]}),e.jsx(c,{name:"present_post_office",placeholder:"Enter Post Office"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(ee,{className:"h-4 w-4 text-gray-400"}),"PIN Code"]}),e.jsx(c,{name:"present_pin_code",placeholder:"Enter 6-digit PIN Code",inputValidation:["number"],maxLength:6})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(R,{className:"h-4 w-4 text-gray-400"}),"Police Station"]}),e.jsx(c,{name:"present_police_station",placeholder:"Enter Police Station"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(R,{className:"h-4 w-4 text-gray-400"}),"District"]}),e.jsx(c,{name:"present_district",placeholder:"Enter District"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(R,{className:"h-4 w-4 text-gray-400"}),"State"]}),e.jsx(c,{name:"present_state",placeholder:"Enter State"})]})]})}),e.jsxs("div",{className:"mb-6 flex items-center gap-3 rounded-lg border border-blue-200 bg-blue-50 p-4",children:[e.jsx("input",{type:"checkbox",id:"sameAsPresent",checked:d,onChange:a=>s(a.target.checked),className:"h-5 w-5 cursor-pointer rounded border-gray-300 text-blue-600 focus:ring-2 focus:ring-blue-500"}),e.jsxs("label",{htmlFor:"sameAsPresent",className:"flex cursor-pointer items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(Ee,{className:"h-4 w-4 text-blue-600"}),"Permanent address is same as present address"]})]}),e.jsx("div",{children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"col-span-full space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(R,{className:"h-4 w-4 text-gray-400"}),"Permanent Address"]}),e.jsx(c,{name:"emp_permanent_address",placeholder:"Enter Permanent Address",disabled:d})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(R,{className:"h-4 w-4 text-gray-400"}),"Post Office"]}),e.jsx(c,{name:"permanent_post_office",placeholder:"Enter Post Office",disabled:d})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(ee,{className:"h-4 w-4 text-gray-400"}),"PIN Code"]}),e.jsx(c,{name:"permanent_pin_code",placeholder:"Enter 6-digit PIN Code",inputValidation:["number"],maxLength:6,disabled:d})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(R,{className:"h-4 w-4 text-gray-400"}),"Police Station"]}),e.jsx(c,{name:"permanent_police_station",placeholder:"Enter Police Station",disabled:d})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(R,{className:"h-4 w-4 text-gray-400"}),"District"]}),e.jsx(c,{name:"permanent_district",placeholder:"Enter District",disabled:d})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(R,{className:"h-4 w-4 text-gray-400"}),"State"]}),e.jsx(c,{name:"permanent_state",placeholder:"Enter State",disabled:d})]})]})})]})]}),e.jsxs("div",{className:"mb-6 overflow-hidden rounded-lg border border-gray-200 bg-white shadow-sm",children:[e.jsxs("div",{className:"border-b border-gray-200 bg-gray-50 px-6 py-4",children:[e.jsxs("h2",{className:"flex items-center gap-2 text-lg font-semibold text-gray-800",children:[e.jsx(B,{className:"h-5 w-5 text-blue-600"}),"Government IDs & Documents"]}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Official identification documents"})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(B,{className:"h-4 w-4 text-gray-400"}),"Aadhaar Number"]}),e.jsx(c,{name:"aadhaar_no",placeholder:"Enter 12-digit Aadhaar",inputValidation:["aadhaar"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(B,{className:"h-4 w-4 text-gray-400"}),"PAN Number"]}),e.jsx(c,{name:"pan_no",placeholder:"Enter PAN Number",inputValidation:["pan"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(B,{className:"h-4 w-4 text-gray-400"}),"UAN Number"]}),e.jsx(c,{name:"uan_no",placeholder:"Enter UAN Number",inputValidation:["UAN"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(B,{className:"h-4 w-4 text-gray-400"}),"ESI Number"]}),e.jsx(c,{name:"esi_no",placeholder:"Enter ESI Number"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(B,{className:"h-4 w-4 text-gray-400"}),"Passport Number"]}),e.jsx(c,{name:"passport_no",placeholder:"Enter Passport Number",inputValidation:["Passport"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(B,{className:"h-4 w-4 text-gray-400"}),"Driving License"]}),e.jsx(c,{name:"driving_license_no",placeholder:"Enter Driving License Number",inputValidation:["drivingLicence"]})]})]})})]}),e.jsx("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-6 shadow-sm",children:e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"text-red-500",children:"*"})," Indicates required fields"]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(ae,{isLoading:l.formState.isSubmitting,type:"submit",className:"flex h-11 items-center gap-2 rounded-lg bg-blue-600 px-8 font-semibold text-white shadow-md transition-all hover:bg-blue-700 hover:shadow-lg disabled:opacity-50",children:e.jsxs(e.Fragment,{children:[e.jsx(L,{className:"h-4 w-4"}),"Update Employee"]})}),e.jsx(ae,{onClick:E,type:"button",className:"flex h-11 items-center gap-2 rounded-lg bg-green-600 px-8 font-semibold text-white shadow-md transition-all hover:bg-green-700 hover:shadow-lg disabled:opacity-50",children:e.jsxs(e.Fragment,{children:[e.jsx(as,{className:"h-4 w-4"}),"Approve"]})})]})]})})]}),e.jsx("div",{className:"mt-6 rounded-lg border border-blue-200 bg-blue-50 p-4",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Note:"})," All information provided will be stored securely and used only for official purposes. Please ensure accuracy of the details before submission."]})})]})}const gs=de().shape({doc_name:i().required("Document Name is required"),doc_type_id:i().required("Document Type is required"),doc_path:Ze().required("Document is required").test("fileRequired","Document is required",m=>m instanceof File||typeof m=="string"&&m!==""),description:i().required("Description is required")});function us({title:m,id:y,edit:d,refetch:_,getDataById:o}){var E,g,C,V,q,O,$;const{validateFile:A,reset:h}=ts({maxFileSizeMB:5,strictMode:!0,autoValidate:!1}),u=X({}),n=es({}),f=P.useRef(null),l=os(),{data:r}=Q({api:`${(E=F)==null?void 0:E.updateEmployeeById}/${y}`,key:"getDocumentById",options:{enabled:d}}),s=ce({defaultValues:{doc_type_id:((g=r==null?void 0:r.data)==null?void 0:g.doc_type_id)||"",doc_name:((C=r==null?void 0:r.data)==null?void 0:C.doc_name)||"",doc_path:((V=r==null?void 0:r.data)==null?void 0:V.doc_path)||"",description:((q=r==null?void 0:r.data)==null?void 0:q.description)||""},resolver:oe(gs)}),{id:w}=le(),t=async a=>{var v;const x=(v=a.target.files)==null?void 0:v[0];if(x&&(x==null?void 0:x.type)==="application/pdf"){const N=await A(x);N.isValid?(j.success(N.message),h(),s.setValue("doc_path",x)):(j.error(N.message),a.target.value="",s.resetField("doc_path"))}else x&&s.setValue("doc_path",x)},S=async a=>{var x,v,N,M;try{const b=new FormData;if(b.append("emp_id",String(w)),b.append("doc_type_id",a.doc_type_id),b.append("doc_name",a.doc_name),b.append("description",a.description),b.append("file",a==null?void 0:a.doc_path),d&&a)console.log("Editing document with data:",a);else{const D=await u.mutateAsync({api:F.uploadEmployeeDocument,data:b});(x=D.data)!=null&&x.success?(j.success((v=D==null?void 0:D.data)==null?void 0:v.message),(N=f.current)==null||N.click()):j.error(((M=D.data)==null?void 0:M.message)||"Document not attached successfully"),s.reset({doc_name:"",description:"",doc_path:"",doc_type_id:""})}_()}catch(b){console.log("Submit Error:",b),j.error("An error occurred while processing your request")}};P.useEffect(()=>{var a,x,v,N;d&&r?s.reset({doc_type_id:(a=r==null?void 0:r.data)==null?void 0:a.doc_type_id,doc_name:(x=r==null?void 0:r.data)==null?void 0:x.doc_name,doc_path:(v=r==null?void 0:r.data)==null?void 0:v.doc_path,description:((N=r==null?void 0:r.data)==null?void 0:N.description)??""}):s.reset({doc_type_id:"",doc_name:"",doc_path:"",description:""})},[d,r]),P.useEffect(()=>{var a,x,v,N;(s==null?void 0:s.watch("doc_name"))==="Aadhaar Card"?s.setValue("description",((x=(a=o==null?void 0:o.data)==null?void 0:a.data)==null?void 0:x.aadhaar_no)||""):(s==null?void 0:s.watch("doc_name"))==="Pan Card"?s.setValue("description",((N=(v=o==null?void 0:o.data)==null?void 0:v.data)==null?void 0:N.pan_no)||""):s.setValue("description","")},[s==null?void 0:s.watch("doc_name")]);const p=s.formState.isSubmitting||n.isPending;return e.jsxs(Re,{children:[e.jsx($e,{asChild:!0,children:e.jsxs(I,{type:"button",className:"w-full bg-blue-600 hover:bg-blue-700 sm:w-auto",children:[e.jsx(qe,{className:"mr-2 h-4 w-4"}),"Add New Document"]})}),e.jsx(Oe,{className:"sm:max-w-[425px]",children:e.jsxs(me,{methods:s,onSubmit:s.handleSubmit(S),children:[e.jsxs(Te,{children:[e.jsx(Be,{children:m}),e.jsx(Ie,{})]}),e.jsxs("div",{className:"mt-5 grid grid-cols-1 gap-x-2 gap-y-4",children:[e.jsx("div",{children:e.jsx(ke,{label:"Select Document",name:"doc_type_id",selectedText:"doc_name",data:(($=(O=l==null?void 0:l.data)==null?void 0:O.data)==null?void 0:$.map(a=>({label:String(a.doc_name),value:String(a.id)})))||[]})}),e.jsx("div",{children:e.jsx(ms,{label:"Upload Document",name:"doc_path",accept:".pdf,.doc,.docx,.png,.jpg,.jpeg",onChange:t,placeholder:"Upload your document"})}),e.jsx("div",{children:e.jsx(c,{label:`${(s==null?void 0:s.watch("doc_name"))||"Document"} No (Optional)`,name:"description",placeholder:`Enter ${(s==null?void 0:s.watch("doc_name"))||"Document"} No`,inputValidation:["removeDoubleSpace","removeSpecialCharacterExceptSpace"]})}),e.jsx(ze,{})]}),e.jsxs(He,{className:"mt-5 flex justify-between",children:[e.jsx(Ue,{asChild:!0,children:e.jsx(I,{variant:"outline",ref:f,children:"Cancel"})}),e.jsx(ae,{type:"submit",isLoading:p,children:"Save changes"})]})]})})]})}function bs({id:m,getDataById:y}){var l,r,s,w;const[d,_]=P.useState(""),[o,A]=P.useState(!1),{id:h}=le(),u=Q({api:`${F.getEmployeeDocuments}?id=${h}`,key:"getEmployeeDocumentsId",value:[],options:{enabled:!0}}),n=X({}),f=async t=>{Ye("Are you sure?","Please confirm",async()=>{var S,p,E;try{const g=await n.mutateAsync({api:`${F.deleteEmployeeDocument}`,data:{id:Me(t.toString())}});(S=g==null?void 0:g.data)!=null&&S.success?(j.success(((p=g==null?void 0:g.data)==null?void 0:p.message)||"Deleted successfully"),u.refetch()):j.error(((E=g==null?void 0:g.data)==null?void 0:E.message)||"Failed to delete")}catch(g){j.error("Error deleting item"),console.error("Delete Error:",g)}})};return e.jsx("main",{className:"min-h-screen bg-gray-50/50",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsx("h1",{className:"text-2xl font-bold tracking-tight text-gray-900",children:"Employee Attached Documents"})}),e.jsx(us,{title:o?"Edit Document":"Attach Document",id:m,edit:o,setEdit:A,refetch:u.refetch,getDataById:y})]}),e.jsx("div",{className:"grid grid-cols-1 gap-6",children:u.isLoading?e.jsx(z,{children:e.jsx(G,{className:"flex h-32 items-center justify-center",children:e.jsx(Ge,{})})}):e.jsxs(e.Fragment,{children:[(r=(l=u==null?void 0:u.data)==null?void 0:l.data)==null?void 0:r.map(t=>e.jsxs(z,{className:"border border-gray-200 transition-all duration-200 hover:shadow-lg",children:[e.jsx(Je,{className:"pb-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(te,{className:"h-6 w-6 text-blue-500"}),e.jsxs("div",{children:[e.jsx(We,{className:"text-lg font-semibold text-gray-900",children:(t==null?void 0:t.doc_name)||"Document"}),e.jsx(xs,{className:"mt-1 text-sm text-gray-600",children:t==null?void 0:t.description})]})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(H,{className:"h-4 w-4"}),e.jsx("div",{className:"",children:ie(t==null?void 0:t.created_at).format("DD-MM-YYYY")}),e.jsx("div",{className:"ml-auto flex justify-end",children:e.jsx(I,{size:"sm",variant:"ghost",className:"flex h-7 w-7 items-center p-0 text-red-500 hover:bg-red-50 hover:text-red-700",onClick:()=>f(t==null?void 0:t.id),children:e.jsx(Le,{className:"h-3.5 w-3.5"})})})]})})]})}),e.jsx(G,{className:"pt-0",children:(t==null?void 0:t.doc_path)&&e.jsxs("div",{className:"rounded-lg border bg-gray-50 p-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[e.jsx(ls,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:"Document Path:"})]}),e.jsx("a",{href:t.doc_path,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-700 hover:underline",children:"View Document"})]}),e.jsx("p",{className:"mt-1 break-all text-xs text-gray-500",children:t.doc_path})]})})]},t==null?void 0:t.id)),((w=(s=u==null?void 0:u.data)==null?void 0:s.data)==null?void 0:w.length)===0&&e.jsx(z,{className:"py-12 text-center",children:e.jsxs(G,{children:[e.jsx(te,{className:"mx-auto mb-4 h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mb-2 text-lg font-medium text-gray-900",children:"No documents found"}),e.jsx("p",{className:"mb-4 text-gray-600",children:d?"Try adjusting your search criteria":"Upload your first document to get started"})]})})]})})]})})}const js=de().shape({family_member_name:i().required("Family member name is required"),relationship:i().required("Relationship is required"),dob:i().required("Date of birth is required"),address:i().required("Address is required"),is_dependent:Se().default(!1),isNominee:Se().default(!1),nominee_percentage:se().nullable().when("isNominee",{is:!0,then:m=>m.required("Nominee percentage is required when marked as nominee").min(0,"Percentage must be at least 0").max(100,"Percentage cannot exceed 100"),otherwise:m=>m.notRequired()})}),ys=[{label:"Spouse",value:"Spouse"},{label:"Son",value:"Son"},{label:"Daughter",value:"Daughter"},{label:"Father",value:"Father"},{label:"Mother",value:"Mother"},{label:"Brother",value:"Brother"},{label:"Sister",value:"Sister"},{label:"Other",value:"Other"}];function fs({title:m="Add Family Member",id:y,edit:d,refetch:_,getDataById:o}){var w;const A=X({}),h=P.useRef(null),{id:u}=le(),{data:n}=Q({api:`${(w=F)==null?void 0:w.getFamilyMemberById}/${y}`,key:"getFamilyMemberById",options:{enabled:d&&!!y}}),f=ce({defaultValues:{family_member_name:"",relationship:"",dob:"",address:"",is_dependent:!1,isNominee:!1,nominee_percentage:null},resolver:oe(js)}),l=f.watch("isNominee"),r=async t=>{var S,p,E,g,C,V,q,O;try{const $={emp_id:u,family_member_name:t.family_member_name,relationship:t.relationship,dob:t.dob,address:t.address,is_dependent:t.is_dependent||!1,isNominee:t.isNominee||!1,nominee_percentage:t.isNominee?t.nominee_percentage:null};if(d&&y){const a=await A.mutateAsync({api:`${F.updateFamilyMemberById}/${y}`,data:$});(S=a.data)!=null&&S.success?(j.success(((p=a==null?void 0:a.data)==null?void 0:p.message)||"Family member updated successfully"),(E=h.current)==null||E.click()):j.error(((g=a.data)==null?void 0:g.message)||"Failed to update family member")}else{const a=await A.mutateAsync({api:F.createFamily,data:$});(C=a.data)!=null&&C.success?(j.success(((V=a==null?void 0:a.data)==null?void 0:V.message)||"Family member added successfully"),(q=h.current)==null||q.click()):j.error(((O=a.data)==null?void 0:O.message)||"Failed to add family member")}f.reset(),_==null||_()}catch($){console.error("Submit Error:",$),j.error("An error occurred while processing your request")}};P.useEffect(()=>{var t,S,p,E,g,C,V;d&&n?f.reset({family_member_name:((t=n==null?void 0:n.data)==null?void 0:t.family_member_name)||"",relationship:((S=n==null?void 0:n.data)==null?void 0:S.relationship)||"",dob:((p=n==null?void 0:n.data)==null?void 0:p.dob)||"",address:((E=n==null?void 0:n.data)==null?void 0:E.address)||"",is_dependent:((g=n==null?void 0:n.data)==null?void 0:g.is_dependent)||!1,isNominee:((C=n==null?void 0:n.data)==null?void 0:C.isNominee)||!1,nominee_percentage:((V=n==null?void 0:n.data)==null?void 0:V.nominee_percentage)||null}):f.reset({family_member_name:"",relationship:"",dob:"",address:"",is_dependent:!1,isNominee:!1,nominee_percentage:null})},[d,n]);const s=f.formState.isSubmitting||A.isPending;return e.jsxs(Re,{children:[e.jsx($e,{asChild:!0,children:e.jsxs(I,{type:"button",className:"w-full bg-blue-600 hover:bg-blue-700 sm:w-auto",children:[e.jsx(qe,{className:"mr-2 h-4 w-4"}),"Add Family Member"]})}),e.jsx(Oe,{className:"sm:max-w-[500px]",children:e.jsxs(me,{methods:f,onSubmit:f.handleSubmit(r),children:[e.jsxs(Te,{children:[e.jsx(Be,{children:m}),e.jsx(Ie,{children:d?"Update family member information":"Add a new family member"})]}),e.jsxs("div",{className:"mt-5 grid grid-cols-1 gap-x-2 gap-y-4",children:[e.jsx("div",{children:e.jsx(c,{label:"Family Member Name",name:"family_member_name",placeholder:"Enter family member name",inputValidation:["removeDoubleSpace","removeSpecialCharacterExceptSpace"]})}),e.jsx("div",{children:e.jsx(ke,{label:"Relationship",name:"relationship",selectedText:"relationship",data:ys})}),e.jsx("div",{children:e.jsx(c,{label:"Date of Birth",name:"dob",type:"date",placeholder:"Select date of birth"})}),e.jsx("div",{children:e.jsx(c,{label:"Address",name:"address",placeholder:"Enter address",inputValidation:["removeDoubleSpace"]})}),e.jsx(ze,{}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(Pe,{name:"is_dependent",label:"Mark as Dependent"}),e.jsx(Pe,{name:"isNominee",label:"Mark as Nominee"}),l&&e.jsx("div",{className:"ml-6",children:e.jsx(c,{label:"Nominee Percentage",name:"nominee_percentage",placeholder:"Enter percentage (0-100)",inputValidation:["number"]})})]})]}),e.jsxs(He,{className:"mt-5 flex justify-between",children:[e.jsx(Ue,{asChild:!0,children:e.jsx(I,{variant:"outline",ref:h,children:"Cancel"})}),e.jsx(ae,{type:"submit",isLoading:s,children:d?"Update":"Save"})]})]})})]})}function Ns({id:m,getDataById:y}){var n,f,l,r;P.useState("");const[d,_]=P.useState(!1),o=Q({api:`${F.getAllFamilyDetail}?id=${m}`,key:"getEmployeeFamilyDetailsId",value:[m],options:{enabled:!0}}),A=X({}),h=async s=>{Ye("Are you sure?","Please confirm",async()=>{var w,t,S;try{const p=await A.mutateAsync({api:`${F.deleteFamilyMember}`,data:{id:Me(s.toString())}});(w=p==null?void 0:p.data)!=null&&w.success?(j.success(((t=p==null?void 0:p.data)==null?void 0:t.message)||"Deleted successfully"),o.refetch()):j.error(((S=p==null?void 0:p.data)==null?void 0:S.message)||"Failed to delete")}catch(p){j.error("Error deleting family member"),console.error("Delete Error:",p)}})},u=s=>({Spouse:"bg-purple-100 text-purple-700",Father:"bg-blue-100 text-blue-700",Mother:"bg-pink-100 text-pink-700",Son:"bg-green-100 text-green-700",Daughter:"bg-yellow-100 text-yellow-700",Other:"bg-gray-100 text-gray-700"})[s]||"bg-gray-100 text-gray-700";return e.jsx("main",{className:"min-h-screen bg-gray-50/50",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight text-gray-900",children:"Employee Family Members"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage family member details and nominees"})]}),e.jsx(fs,{title:d?"Edit Family Member":"Add Family Member",id:m,edit:d,setEdit:_,refetch:o.refetch,getDataById:y})]}),e.jsx("div",{className:"grid grid-cols-1 gap-6",children:o.isLoading?e.jsx(z,{children:e.jsx(G,{className:"flex h-32 items-center justify-center",children:e.jsx(Ge,{})})}):e.jsxs(e.Fragment,{children:[(f=(n=o==null?void 0:o.data)==null?void 0:n.data)==null?void 0:f.map(s=>e.jsxs(z,{className:"border border-gray-200 transition-all duration-200 hover:shadow-lg",children:[e.jsx(Je,{className:"pb-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Y,{className:"h-6 w-6 text-blue-500"}),e.jsxs("div",{children:[e.jsx(We,{className:"text-lg font-semibold text-gray-900",children:s==null?void 0:s.family_member_name}),e.jsx("div",{className:"mt-2 flex items-center gap-2",children:e.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-medium ${u(s==null?void 0:s.relationship)}`,children:s==null?void 0:s.relationship})})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(I,{size:"sm",variant:"ghost",className:"flex h-7 w-7 items-center p-0 text-red-500 hover:bg-red-50 hover:text-red-700",onClick:()=>h(s==null?void 0:s.id),children:e.jsx(Le,{className:"h-3.5 w-3.5"})})})]})}),e.jsxs(G,{className:"space-y-4 pt-0",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"rounded-lg border bg-gray-50 p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[e.jsx(H,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:"Date of Birth:"})]}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:ie(s==null?void 0:s.dob).format("DD-MM-YYYY")})]}),e.jsxs("div",{className:"rounded-lg border bg-gray-50 p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[e.jsx(R,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:"Address:"})]}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:s==null?void 0:s.address})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 rounded-lg border bg-white px-3 py-2",children:[s!=null&&s.is_dependent?e.jsx(ne,{className:"h-4 w-4 text-green-500"}):e.jsx(De,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Dependent"})]}),e.jsx("div",{className:"flex items-center gap-2 rounded-lg border bg-white px-3 py-2",children:s!=null&&s.is_nominee?e.jsxs(e.Fragment,{children:[e.jsx(ne,{className:"h-4 w-4 text-green-500"}),e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Nominee (",s==null?void 0:s.nominee_percentage,"%)"]})]}):e.jsxs(e.Fragment,{children:[e.jsx(De,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Not a Nominee"})]})})]}),e.jsx("div",{className:"border-t pt-3",children:e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[e.jsx(H,{className:"h-3 w-3"}),e.jsxs("span",{children:["Added on"," ",ie(s==null?void 0:s.created_at).format("DD-MM-YYYY")]})]})})]})]},s==null?void 0:s.id)),((r=(l=o==null?void 0:o.data)==null?void 0:l.data)==null?void 0:r.length)===0&&e.jsx(z,{className:"py-12 text-center",children:e.jsxs(G,{children:[e.jsx(Y,{className:"mx-auto mb-4 h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mb-2 text-lg font-medium text-gray-900",children:"No family members found"}),e.jsx("p",{className:"mb-4 text-gray-600",children:"Add family member details to get started"}),e.jsx(I,{className:"bg-blue-600 hover:bg-blue-700",children:"Add First Family Member"})]})})]})})]})})}const Ms=()=>{var u,n,f,l,r;const[m,y]=P.useState("basic"),{id:d}=le(),_={basicSalary:"₹45,000",hra:"₹18,000",da:"₹13,500",grossSalary:"₹76,500",pf:"₹5,400",tax:"₹7,650",netSalary:"₹63,450"},o=[{month:"November 2024",present:20,absent:0,leave:2,total:22},{month:"October 2024",present:23,absent:1,leave:1,total:25},{month:"September 2024",present:22,absent:0,leave:0,total:22},{month:"August 2024",present:24,absent:0,leave:1,total:25}],A=[{id:"basic",label:"Basic Details",icon:L},{id:"document",label:"Attached Documents",icon:te},{id:"family",label:"Family Details",icon:Y},{id:"salary",label:"Salary Details",icon:Ve},{id:"attendance",label:"Attendance",icon:H}],h=Q({api:`${(u=F)==null?void 0:u.getEmployeeById}?id=${d}`,key:"getEmployeeById",value:[d],options:{enabled:!!d}});return e.jsx(Qe,{title:"Employee Management",children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-gray-100",children:e.jsx("div",{className:" py-4",children:e.jsxs("div",{className:"overflow-hidden rounded-lg bg-white shadow-xl",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-4 text-white",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-white",children:e.jsx(L,{size:32,className:"text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold",children:(f=(n=h==null?void 0:h.data)==null?void 0:n.data)==null?void 0:f.emp_name}),e.jsxs("p",{className:"text-blue-100",children:["ID: ",(r=(l=h==null?void 0:h.data)==null?void 0:l.data)==null?void 0:r.emp_code]})]})]})}),e.jsx("div",{className:"border-b border-gray-200 bg-gray-50",children:e.jsx("div",{className:"flex overflow-x-auto",children:A.map(s=>{const w=s.icon;return e.jsxs("button",{onClick:()=>y(s.id),className:`flex items-center gap-2 whitespace-nowrap px-6 py-4 font-semibold transition-all ${m===s.id?"border-b-4 border-blue-700 bg-white text-blue-700":"text-gray-600 hover:bg-gray-100 hover:text-blue-600"}`,children:[e.jsx(w,{size:20}),s.label]},s.id)})})}),e.jsxs("div",{className:"p-8",children:[m==="basic"&&e.jsx(hs,{id:d,getDataById:h}),m==="document"&&e.jsx(bs,{id:d,getDataById:h}),m==="family"&&e.jsx(Ns,{id:d,getDataById:h}),m==="salary"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[e.jsx(Ve,{className:"text-blue-600",size:28}),e.jsx("h3",{className:"text-2xl font-semibold text-gray-800",children:"Salary Breakdown"})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"rounded-lg border-2 border-green-200 bg-green-50 p-6",children:[e.jsxs("h4",{className:"mb-4 flex items-center gap-2 text-xl font-semibold text-green-800",children:[e.jsx(ne,{size:24}),"Earnings"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-green-200 py-2",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Basic Salary"}),e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:_.basicSalary})]}),e.jsxs("div",{className:"flex items-center justify-between border-b border-green-200 py-2",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"House Rent Allowance (HRA)"}),e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:_.hra})]}),e.jsxs("div",{className:"flex items-center justify-between border-b border-green-200 py-2",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Dearness Allowance (DA)"}),e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:_.da})]}),e.jsxs("div",{className:"mt-4 flex items-center justify-between rounded-lg bg-green-100 px-3 py-3",children:[e.jsx("span",{className:"font-bold text-green-900",children:"Gross Salary"}),e.jsx("span",{className:"text-xl font-bold text-green-900",children:_.grossSalary})]})]})]}),e.jsxs("div",{className:"rounded-lg border-2 border-red-200 bg-red-50 p-6",children:[e.jsxs("h4",{className:"mb-4 flex items-center gap-2 text-xl font-semibold text-red-800",children:[e.jsx(te,{size:24}),"Deductions"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-red-200 py-2",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Provident Fund (PF)"}),e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:_.pf})]}),e.jsxs("div",{className:"flex items-center justify-between border-b border-red-200 py-2",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Income Tax (TDS)"}),e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:_.tax})]}),e.jsx("div",{className:"py-3"}),e.jsxs("div",{className:"mt-4 flex items-center justify-between rounded-lg bg-blue-100 px-3 py-3",children:[e.jsx("span",{className:"font-bold text-blue-900",children:"Net Salary"}),e.jsx("span",{className:"text-xl font-bold text-blue-900",children:_.netSalary})]})]})]})]}),e.jsx("div",{className:"mt-6 rounded-lg border border-yellow-300 bg-yellow-50 p-4",children:e.jsxs("p",{className:"text-sm text-yellow-900",children:[e.jsx("strong",{children:"Note:"})," Salary details shown are for the current month. For historical records, please contact the Accounts Department."]})})]}),m==="attendance"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[e.jsx(H,{className:"text-blue-600",size:28}),e.jsx("h3",{className:"text-2xl font-semibold text-gray-800",children:"Attendance Records"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-blue-600 text-white",children:[e.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Month"}),e.jsx("th",{className:"px-6 py-4 text-center font-semibold",children:"Present"}),e.jsx("th",{className:"px-6 py-4 text-center font-semibold",children:"Absent"}),e.jsx("th",{className:"px-6 py-4 text-center font-semibold",children:"Leave"}),e.jsx("th",{className:"px-6 py-4 text-center font-semibold",children:"Total Days"}),e.jsx("th",{className:"px-6 py-4 text-center font-semibold",children:"Attendance %"})]})}),e.jsx("tbody",{children:o.map((s,w)=>{const t=(s.present/s.total*100).toFixed(1);return e.jsxs("tr",{className:w%2===0?"bg-gray-50":"bg-white",children:[e.jsx("td",{className:"border-b border-gray-200 px-6 py-4 font-medium",children:s.month}),e.jsx("td",{className:"border-b border-gray-200 px-6 py-4 text-center",children:e.jsx("span",{className:"rounded-full bg-green-100 px-3 py-1 font-semibold text-green-800",children:s.present})}),e.jsx("td",{className:"border-b border-gray-200 px-6 py-4 text-center",children:e.jsx("span",{className:"rounded-full bg-red-100 px-3 py-1 font-semibold text-red-800",children:s.absent})}),e.jsx("td",{className:"border-b border-gray-200 px-6 py-4 text-center",children:e.jsx("span",{className:"rounded-full bg-yellow-100 px-3 py-1 font-semibold text-yellow-800",children:s.leave})}),e.jsx("td",{className:"border-b border-gray-200 px-6 py-4 text-center font-semibold",children:s.total}),e.jsx("td",{className:"border-b border-gray-200 px-6 py-4 text-center",children:e.jsxs("span",{className:`rounded-full px-3 py-1 font-semibold ${parseFloat(t)>=90?"bg-green-100 text-green-800":parseFloat(t)>=75?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[t,"%"]})})]},w)})})]})}),e.jsxs("div",{className:"mt-6 grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4 text-center",children:[e.jsx("p",{className:"mb-1 text-sm font-semibold text-green-600",children:"Average Attendance"}),e.jsx("p",{className:"text-3xl font-bold text-green-700",children:"94.6%"})]}),e.jsxs("div",{className:"rounded-lg border border-blue-200 bg-blue-50 p-4 text-center",children:[e.jsx("p",{className:"mb-1 text-sm font-semibold text-blue-600",children:"Total Present Days"}),e.jsx("p",{className:"text-3xl font-bold text-blue-700",children:"89"})]}),e.jsxs("div",{className:"rounded-lg border border-yellow-200 bg-yellow-50 p-4 text-center",children:[e.jsx("p",{className:"mb-1 text-sm font-semibold text-yellow-600",children:"Total Leave Taken"}),e.jsx("p",{className:"text-3xl font-bold text-yellow-700",children:"4"})]})]})]})]})]})})})})};export{Ms as default};
