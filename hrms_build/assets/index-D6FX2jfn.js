import{k as e,j as s,r as a,h as l,f as t,l as i,B as r}from"./index-BJ2Di0BB.js";import{h as n}from"./moment-CBOc1lqT.js";import{C as d,a as o,b as m,c}from"./card-CrOEotWM.js";import{S as x,T as h,a as u,b as j,c as p,d as g,e as v}from"./index-BxKGIMG5.js";import{u as y,b}from"./useCustomQuery-DkqDqiry.js";import{P as f}from"./index-DZvdNKxy.js";import{S as N}from"./separator-BtSn9EpY.js";import{S as w}from"./Spinner-DjUjMlqR.js";import{g as S,P as D}from"./index-L2kacWh6.js";import{S as E,a as _,b as k,c as C,d as M,e as P,f as $}from"./select-4D5dQM-6.js";import{E as A}from"./eye-BEN4pZFN.js";import{S as I}from"./square-pen-HR786vv8.js";import"./check-DiqtQ1XW.js";
/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=e("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);function Y({departmentId:e,setDepartmentId:a}){var l,t;const i=S();return s.jsx("div",{children:s.jsxs(E,{onValueChange:e=>a(e),value:e,children:[s.jsx(_,{className:"w-full bg-white sm:w-[220px]",children:s.jsx(k,{placeholder:"All Departments"})}),s.jsx(C,{children:s.jsxs(M,{children:[s.jsx(P,{children:"Filter by Department"}),(null==(t=null==(l=null==i?void 0:i.data)?void 0:l.data)?void 0:t.length)?i.data.data.map(e=>s.jsx($,{value:String(e.id),children:e.department_name},e.id)):null]})})]})})}function q(){var e,S,E,_,k,C,M,P,$,q;y({});const[F,L]=a.useState(1),[T,z]=a.useState(10),[H,V]=a.useState(""),[B,G]=a.useState(""),[J,K]=a.useState(""),Q=b({api:`${l.getAllEmployees}?page=${F}&limit=${T}&q=${H}&department_id=${t(J)}`,key:"EmployeeResponse",value:[F,T,J],options:{enabled:!0}});return s.jsx(D,{title:"Employee Management",subTitle:"Manage and monitor employee records",children:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50",children:s.jsx("div",{className:"space-y-6",children:s.jsxs(d,{className:"border border-gray-200 bg-white shadow-lg",children:[s.jsx(o,{className:"rounded-t-lg bg-gradient-to-r from-blue-600 to-indigo-600 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Employee Registry"}),s.jsxs(m,{className:"mt-1 text-blue-100",children:["Total Records:"," ",(null==(S=null==(e=null==Q?void 0:Q.data)?void 0:e.pagination)?void 0:S.total)||0]})]}),s.jsx(i,{to:"/hrms/dashboard/add-employee",children:s.jsxs(r,{className:"rounded-lg bg-white px-6 py-2.5 font-medium text-blue-600 shadow-sm transition-all duration-200 hover:bg-gray-50 hover:shadow-md",children:[s.jsx(R,{className:"mr-2 h-4 w-4"}),"Add New Employee"]})})]})}),s.jsxs(c,{className:"p-6",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Search Employee"}),s.jsx(x,{setSearch:V,search:H,refetch:null==Q?void 0:Q.refetch})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Filter by Department"}),s.jsx(Y,{departmentId:J,setDepartmentId:K})]})]})}),s.jsx(N,{className:"my-6"}),Q.isLoading?s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsx(w,{})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200",children:s.jsxs(h,{children:[s.jsx(u,{children:s.jsxs(j,{className:"bg-gray-50 hover:bg-gray-50",children:[s.jsx(p,{className:"w-16 font-semibold text-gray-700",children:"#"}),s.jsx(p,{className:"font-semibold text-gray-700",children:"Employee Code"}),s.jsx(p,{className:"font-semibold text-gray-700",children:"Department"}),s.jsx(p,{className:"font-semibold text-gray-700",children:"Employee Name"}),s.jsx(p,{className:"font-semibold text-gray-700",children:"Contact Number"}),s.jsx(p,{className:"font-semibold text-gray-700",children:"Created Date"}),s.jsx(p,{className:"font-semibold text-gray-700",children:"Approved Status"}),s.jsx(p,{className:"text-center font-semibold text-gray-700",children:"Actions"})]})}),s.jsx(g,{children:null==(_=null==(E=null==Q?void 0:Q.data)?void 0:E.data)?void 0:_.map((e,a)=>s.jsxs(j,{className:"transition-colors duration-150 hover:bg-blue-50/50",children:[s.jsx(v,{className:"font-medium text-gray-600",children:(F-1)*T+a+1}),s.jsx(v,{className:"font-mono text-sm font-medium text-blue-600",children:null==e?void 0:e.emp_code}),s.jsx(v,{className:"text-gray-700",children:null==e?void 0:e.department_name}),s.jsx(v,{className:"font-medium text-gray-900",children:null==e?void 0:e.emp_name}),s.jsx(v,{className:"text-gray-700",children:null==e?void 0:e.contact_no}),s.jsx(v,{className:"text-gray-700",children:n(null==e?void 0:e.created_at).format("DD-MM-YYYY")}),s.jsx(v,{children:1===(null==e?void 0:e.approval_status)?s.jsx("span",{className:"inline-flex rounded-full bg-green-100 px-3 py-1 text-sm font-semibold text-green-800",children:"Approved"}):2===(null==e?void 0:e.approval_status)?s.jsx("span",{className:"inline-flex rounded-full bg-red-100 px-3 py-1 text-sm font-semibold text-red-800",children:"Rejected"}):s.jsx("span",{className:"inline-flex rounded-full bg-yellow-100 px-3 py-1 text-sm font-semibold text-yellow-800",children:"Pending"})}),s.jsx(v,{children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(i,{to:`/hrms/dashboard/view-employee/${t(String(null==e?void 0:e.id))}`,children:s.jsxs(r,{size:"sm",variant:"outline",className:"h-9 border-blue-200 px-3 text-blue-600 transition-all duration-200 hover:border-blue-300 hover:bg-blue-50 hover:text-blue-700",children:[s.jsx(A,{className:"mr-1 h-4 w-4"}),"View"]})}),s.jsx(i,{to:`/hrms/dashboard/salary/${t(String(null==e?void 0:e.id))}`,children:s.jsxs(r,{size:"sm",variant:"outline",className:"h-9 border-indigo-200 px-3 text-indigo-600 transition-all duration-200 hover:border-indigo-300 hover:bg-indigo-50 hover:text-indigo-700",children:[s.jsx(I,{className:"mr-1 h-4 w-4"}),"Salary"]})})]})})]},null==e?void 0:e.id))})]})}),s.jsxs("div",{className:"mt-6 flex items-center justify-between rounded-lg border border-gray-200 bg-gray-50 p-4",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",(F-1)*T+1," to"," ",Math.min(F*T,(null==(C=null==(k=null==Q?void 0:Q.data)?void 0:k.pagination)?void 0:C.total)||0)," ","of ",(null==(P=null==(M=null==Q?void 0:Q.data)?void 0:M.pagination)?void 0:P.total)||0," ","entries"]}),s.jsx(f,{page:F,limit:T,totalPages:null==(q=null==($=null==Q?void 0:Q.data)?void 0:$.pagination)?void 0:q.totalPages,setPage:L,setLimit:z})]})]})]})]})})})})}export{q as default};
