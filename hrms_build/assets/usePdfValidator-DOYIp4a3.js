import{i as m,j as r,r as i,v as ce,w as de,x as ue,y as b,A as _,P as F,C as R,D as A,F as fe,G as pe,H as ge,J as he,K as me,M as ye,N as xe,t as C,O as ve}from"./index-SDtq6APg.js";import{u as De,C as Ce,c as ke,d as Ne,b as I}from"./yup-V-kjDK18.js";import{C as $,L as W}from"./datetime-picker-iopySnZ3.js";/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=m("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=m("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=m("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=m("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=m("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=m("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=m("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=m("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=m("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=m("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);function ct({name:e,label:t,disabled:a,isRequired:o,className:n}){const{control:s}=De();return r.jsx(r.Fragment,{children:e?r.jsx(Ce,{name:e,control:s,render:({field:{value:c,onChange:l,...d},fieldState:{error:u}})=>r.jsxs("div",{className:n,children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx($,{...d,id:e,checked:c,onCheckedChange:l,disabled:a,className:u?"border-red-400":""}),t&&r.jsxs(W,{htmlFor:e,className:"cursor-pointer text-gray-700 dark:text-gray-200",children:[t,o&&r.jsx("span",{className:"ml-1 text-red-400",children:"*"})]})]}),u&&r.jsx("span",{className:"ml-6 mt-1 block text-xs text-red-400",children:u.message})]})}):r.jsx("div",{className:n,children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx($,{disabled:a}),t&&r.jsx(W,{className:"cursor-pointer text-gray-700 dark:text-gray-200",children:t})]})})})}function je(e){const t=Re(e),a=i.forwardRef((o,n)=>{const{children:s,...c}=o,l=i.Children.toArray(s),d=l.find(Me);if(d){const u=d.props.children,y=l.map(p=>p===d?i.Children.count(u)>1?i.Children.only(null):i.isValidElement(u)?u.props.children:null:p);return r.jsx(t,{...c,ref:n,children:i.isValidElement(u)?i.cloneElement(u,void 0,y):null})}return r.jsx(t,{...c,ref:n,children:s})});return a.displayName=`${e}.Slot`,a}function Re(e){const t=i.forwardRef((a,o)=>{const{children:n,...s}=a;if(i.isValidElement(n)){const c=we(n),l=Ee(s,n.props);return n.type!==i.Fragment&&(l.ref=o?ce(o,c):c),i.cloneElement(n,l)}return i.Children.count(n)>1?i.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Fe=Symbol("radix.slottable");function Me(e){return i.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Fe}function Ee(e,t){const a={...t};for(const o in t){const n=e[o],s=t[o];/^on[A-Z]/.test(o)?n&&s?a[o]=(...l)=>{const d=s(...l);return n(...l),d}:n&&(a[o]=n):o==="style"?a[o]={...n,...s}:o==="className"&&(a[o]=[n,s].filter(Boolean).join(" "))}return{...e,...a}}function we(e){var o,n;let t=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,a=t&&"isReactWarning"in t&&t.isReactWarning;return a?e.ref:(t=(n=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:n.get,a=t&&"isReactWarning"in t&&t.isReactWarning,a?e.props.ref:e.props.ref||e.ref)}var P="Dialog",[V]=ue(P),[Pe,g]=V(P),L=e=>{const{__scopeDialog:t,children:a,open:o,defaultOpen:n,onOpenChange:s,modal:c=!0}=e,l=i.useRef(null),d=i.useRef(null),[u,y]=de({prop:o,defaultProp:n??!1,onChange:s,caller:P});return r.jsx(Pe,{scope:t,triggerRef:l,contentRef:d,contentId:b(),titleId:b(),descriptionId:b(),open:u,onOpenChange:y,onOpenToggle:i.useCallback(()=>y(p=>!p),[y]),modal:c,children:a})};L.displayName=P;var q="DialogTrigger",B=i.forwardRef((e,t)=>{const{__scopeDialog:a,...o}=e,n=g(q,a),s=_(t,n.triggerRef);return r.jsx(F.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":T(n.open),...o,ref:s,onClick:R(e.onClick,n.onOpenToggle)})});B.displayName=q;var S="DialogPortal",[be,H]=V(S,{forceMount:void 0}),G=e=>{const{__scopeDialog:t,forceMount:a,children:o,container:n}=e,s=g(S,t);return r.jsx(be,{scope:t,forceMount:a,children:i.Children.map(o,c=>r.jsx(A,{present:a||s.open,children:r.jsx(fe,{asChild:!0,container:n,children:c})}))})};G.displayName=S;var w="DialogOverlay",U=i.forwardRef((e,t)=>{const a=H(w,e.__scopeDialog),{forceMount:o=a.forceMount,...n}=e,s=g(w,e.__scopeDialog);return s.modal?r.jsx(A,{present:o||s.open,children:r.jsx(_e,{...n,ref:t})}):null});U.displayName=w;var Ie=je("DialogOverlay.RemoveScroll"),_e=i.forwardRef((e,t)=>{const{__scopeDialog:a,...o}=e,n=g(w,a);return r.jsx(ge,{as:Ie,allowPinchZoom:!0,shards:[n.contentRef],children:r.jsx(F.div,{"data-state":T(n.open),...o,ref:t,style:{pointerEvents:"auto",...o.style}})})}),x="DialogContent",J=i.forwardRef((e,t)=>{const a=H(x,e.__scopeDialog),{forceMount:o=a.forceMount,...n}=e,s=g(x,e.__scopeDialog);return r.jsx(A,{present:o||s.open,children:s.modal?r.jsx(Ae,{...n,ref:t}):r.jsx(Se,{...n,ref:t})})});J.displayName=x;var Ae=i.forwardRef((e,t)=>{const a=g(x,e.__scopeDialog),o=i.useRef(null),n=_(t,a.contentRef,o);return i.useEffect(()=>{const s=o.current;if(s)return pe(s)},[]),r.jsx(Z,{...e,ref:n,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:R(e.onCloseAutoFocus,s=>{var c;s.preventDefault(),(c=a.triggerRef.current)==null||c.focus()}),onPointerDownOutside:R(e.onPointerDownOutside,s=>{const c=s.detail.originalEvent,l=c.button===0&&c.ctrlKey===!0;(c.button===2||l)&&s.preventDefault()}),onFocusOutside:R(e.onFocusOutside,s=>s.preventDefault())})}),Se=i.forwardRef((e,t)=>{const a=g(x,e.__scopeDialog),o=i.useRef(!1),n=i.useRef(!1);return r.jsx(Z,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var c,l;(c=e.onCloseAutoFocus)==null||c.call(e,s),s.defaultPrevented||(o.current||(l=a.triggerRef.current)==null||l.focus(),s.preventDefault()),o.current=!1,n.current=!1},onInteractOutside:s=>{var d,u;(d=e.onInteractOutside)==null||d.call(e,s),s.defaultPrevented||(o.current=!0,s.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const c=s.target;((u=a.triggerRef.current)==null?void 0:u.contains(c))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&n.current&&s.preventDefault()}})}),Z=i.forwardRef((e,t)=>{const{__scopeDialog:a,trapFocus:o,onOpenAutoFocus:n,onCloseAutoFocus:s,...c}=e,l=g(x,a),d=i.useRef(null),u=_(t,d);return he(),r.jsxs(r.Fragment,{children:[r.jsx(me,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:n,onUnmountAutoFocus:s,children:r.jsx(ye,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":T(l.open),...c,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(Oe,{titleId:l.titleId}),r.jsx($e,{contentRef:d,descriptionId:l.descriptionId})]})]})}),O="DialogTitle",K=i.forwardRef((e,t)=>{const{__scopeDialog:a,...o}=e,n=g(O,a);return r.jsx(F.h2,{id:n.titleId,...o,ref:t})});K.displayName=O;var Y="DialogDescription",Q=i.forwardRef((e,t)=>{const{__scopeDialog:a,...o}=e,n=g(Y,a);return r.jsx(F.p,{id:n.descriptionId,...o,ref:t})});Q.displayName=Y;var X="DialogClose",ee=i.forwardRef((e,t)=>{const{__scopeDialog:a,...o}=e,n=g(X,a);return r.jsx(F.button,{type:"button",...o,ref:t,onClick:R(e.onClick,()=>n.onOpenChange(!1))})});ee.displayName=X;function T(e){return e?"open":"closed"}var te="DialogTitleWarning",[dt,ae]=xe(te,{contentName:x,titleName:O,docsSlug:"dialog"}),Oe=({titleId:e})=>{const t=ae(te),a=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return i.useEffect(()=>{e&&(document.getElementById(e)||console.error(a))},[a,e]),null},Te="DialogDescriptionWarning",$e=({contentRef:e,descriptionId:t})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ae(Te).contentName}}.`;return i.useEffect(()=>{var s;const n=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&n&&(document.getElementById(t)||console.warn(o))},[o,e,t]),null},We=L,ze=B,Ve=G,oe=U,se=J,ne=K,re=Q,ie=ee;const ut=We,ft=ze,Le=Ve,pt=ie,le=i.forwardRef(({className:e,...t},a)=>r.jsx(oe,{ref:a,className:C("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));le.displayName=oe.displayName;const qe=i.forwardRef(({className:e,children:t,...a},o)=>r.jsxs(Le,{children:[r.jsx(le,{}),r.jsxs(se,{ref:o,className:C("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a,children:[t,r.jsxs(ie,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(ve,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));qe.displayName=se.displayName;const Be=({className:e,...t})=>r.jsx("div",{className:C("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Be.displayName="DialogHeader";const He=({className:e,...t})=>r.jsx("div",{className:C("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});He.displayName="DialogFooter";const Ge=i.forwardRef(({className:e,...t},a)=>r.jsx(ne,{ref:a,className:C("text-lg font-semibold leading-none tracking-tight",e),...t}));Ge.displayName=ne.displayName;const Ue=i.forwardRef(({className:e,...t},a)=>r.jsx(re,{ref:a,className:C("text-sm text-muted-foreground",e),...t}));Ue.displayName=re.displayName;ke({name:I().required("Name is required").min(2,"Name must be at least 2 characters"),email:I().required("Email is required").email("Invalid email address"),description:I(),pdfFile:Ne().required("PDF file is required")});const Je=[{name:"JavaScript",pattern:/\/JavaScript|\/JS\s*\(|app\.alert|eval\(|document\.|window\./gi,severity:"high"},{name:"OpenAction",pattern:/\/OpenAction/gi,severity:"high"},{name:"AA (Additional Actions)",pattern:/\/AA\s*<</gi,severity:"high"},{name:"Launch Action",pattern:/\/Launch/gi,severity:"high"},{name:"ImportData",pattern:/\/ImportData/gi,severity:"high"},{name:"RichMedia",pattern:/\/RichMedia/gi,severity:"high"},{name:"GoToE",pattern:/\/GoToE/gi,severity:"high"}],Ze=e=>new Promise((t,a)=>{const o=new FileReader;o.onload=n=>{var s;return t((s=n.target)==null?void 0:s.result)},o.onerror=()=>a(new Error("Failed to read file")),o.readAsText(e)}),z=e=>({high:3,medium:2,low:1})[e]||0,gt=(e={})=>{const t={maxFileSizeMB:10,strictMode:!0,autoValidate:!0,...e},[a,o]=i.useState(null),[n,s]=i.useState(null),[c,l]=i.useState(!1),d=i.useCallback(async p=>{if(l(!0),o(p),!p){const f={isValid:!1,message:"No file provided",threats:[],severity:"high"};return s(f),l(!1),f}if(p.type!=="application/pdf"){const f={isValid:!1,message:`Invalid file type. Expected PDF, got ${p.type||"unknown"}`,threats:[{name:"Invalid File Type",severity:"high",description:"Only PDF files are allowed"}],severity:"high"};return s(f),l(!1),f}const v=t.maxFileSizeMB*1024*1024;if(p.size>v){const f={isValid:!1,message:`File size (${(p.size/1024/1024).toFixed(2)}MB) exceeds the maximum limit of ${t.maxFileSizeMB}MB`,threats:[{name:"File Too Large",severity:"medium",description:`File size exceeds ${t.maxFileSizeMB}MB limit`}],severity:"medium"};return s(f),l(!1),f}try{const f=await Ze(p);if(!f.startsWith("%PDF-")){const D={isValid:!1,message:"Invalid PDF file. File does not have a valid PDF header",threats:[{name:"Invalid PDF Format",severity:"high",description:"File does not contain a valid PDF header"}],severity:"high"};return s(D),l(!1),D}const h=[];let k=null;Je.forEach(({name:D,pattern:M,severity:j})=>{const E=f.match(M);E&&E.length>0&&(h.push({name:D,severity:j,description:`Found ${E.length} occurrence(s) of ${D}`,matchCount:E.length}),(!k||z(j)>z(k))&&(k=j))});let N;if(h.length===0)N={isValid:!0,message:"PDF is safe and contains no security threats",threats:[],severity:null};else if(t.strictMode?h.length>0:h.some(M=>M.severity==="high")){const M=h.map(j=>j.name).join(", ");N={isValid:!1,message:"⚠️The file appears to be corrupted or contains malicious code. Please upload a valid file.",threats:h,severity:k}}else N={isValid:!0,message:"PDF contains low-risk elements but is approved for upload",threats:h,severity:k};return s(N),l(!1),N}catch(f){const h={isValid:!1,message:`Error reading PDF file: ${f.message}`,threats:[{name:"Read Error",severity:"high",description:f.message}],severity:"high"};return s(h),l(!1),h}},[t.maxFileSizeMB,t.strictMode]),u=i.useCallback(()=>{o(null),s(null),l(!1)},[]),y=i.useCallback(async p=>{var f;const v=(f=p.target.files)==null?void 0:f[0];v&&t.autoValidate?await d(v):v&&o(v)},[d,t.autoValidate]);return{validateFile:d,validation:n,isValidating:c,reset:u,file:a,handleFileChange:y}};export{tt as C,ut as D,ot as E,st as F,nt as H,rt as M,ct as R,it as U,lt as W,ft as a,qe as b,Be as c,Ge as d,Ue as e,He as f,pt as g,at as h,et as i,Xe as j,gt as u};
