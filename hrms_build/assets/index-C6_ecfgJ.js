import{i as A,j as e,r as c,h as _,e as S,L as w,B as P}from"./index-SDtq6APg.js";import{C as k,a as M,b as I,c as R,h as $}from"./card-BkXv33Jr.js";import{S as B,T as H,a as Y,b as C,c as l,d as F,e as n}from"./index-DiVzI3Qj.js";import{u as U,b as V}from"./useCustomQuery-DuxI2f1A.js";import{P as q}from"./index-H8LJk4gb.js";import{S as z,a as D}from"./Spinner-thyyrLKV.js";import{g as G,P as O}from"./index-CrjMXZHz.js";import{S as J,a as K,b as Q,c as W,d as X,e as Z,f as L}from"./select-C_Ik7Cfg.js";import{E as ee}from"./eye-BfV50Xls.js";import"./check-CsPaHRb5.js";/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=A("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);function se({departmentId:t,setDepartmentId:x}){var i,o;const r=G();return e.jsx("div",{children:e.jsxs(J,{onValueChange:d=>x(d),value:t,children:[e.jsx(K,{className:"w-full bg-white sm:w-[220px]",children:e.jsx(Q,{placeholder:"All Departments"})}),e.jsx(W,{children:e.jsxs(X,{children:[e.jsx(Z,{children:"Filter by Department"}),(o=(i=r==null?void 0:r.data)==null?void 0:i.data)!=null&&o.length?r.data.data.map(d=>e.jsx(L,{value:String(d.id),children:d.department_name},d.id)):null]})})]})})}function pe(){var h,g,p,j,u,b,y,f,N,v;U({});const[t,x]=c.useState(1),[r,i]=c.useState(10),[o,d]=c.useState(""),[re,te]=c.useState(""),[m,E]=c.useState(""),s=V({api:`${_.getAllEmployees}?page=${t}&limit=${r}&q=${o}&department_id=${S(m)}`,key:"EmployeeResponse",value:[t,r,m],options:{enabled:!0}});return e.jsx(O,{title:"Employee Management",subTitle:"Manage and monitor employee records",children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50",children:e.jsx("div",{className:"space-y-6",children:e.jsxs(k,{className:"border border-gray-200 bg-white shadow-lg",children:[e.jsx(M,{className:"rounded-t-lg bg-gradient-to-r from-blue-600 to-indigo-600 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Employee Registry"}),e.jsxs(I,{className:"mt-1 text-blue-100",children:["Total Records:"," ",((g=(h=s==null?void 0:s.data)==null?void 0:h.pagination)==null?void 0:g.total)||0]})]}),e.jsx(w,{to:"/hrms/dashboard/add-employee",children:e.jsxs(P,{className:"rounded-lg bg-white px-6 py-2.5 font-medium text-blue-600 shadow-sm transition-all duration-200 hover:bg-gray-50 hover:shadow-md",children:[e.jsx(ae,{className:"mr-2 h-4 w-4"}),"Add New Employee"]})})]})}),e.jsxs(R,{className:"p-6",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Search Employee"}),e.jsx(B,{setSearch:d,search:o,refetch:s==null?void 0:s.refetch})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Filter by Department"}),e.jsx(se,{departmentId:m,setDepartmentId:E})]})]})}),e.jsx(z,{className:"my-6"}),s.isLoading?e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx(D,{})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200",children:e.jsxs(H,{children:[e.jsx(Y,{children:e.jsxs(C,{className:"bg-gray-50 hover:bg-gray-50",children:[e.jsx(l,{className:"w-16 font-semibold text-gray-700",children:"#"}),e.jsx(l,{className:"font-semibold text-gray-700",children:"Employee Code"}),e.jsx(l,{className:"font-semibold text-gray-700",children:"Department"}),e.jsx(l,{className:"font-semibold text-gray-700",children:"Employee Name"}),e.jsx(l,{className:"font-semibold text-gray-700",children:"Contact Number"}),e.jsx(l,{className:"font-semibold text-gray-700",children:"Created Date"}),e.jsx(l,{className:"font-semibold text-gray-700",children:"Approved Status"}),e.jsx(l,{className:"text-center font-semibold text-gray-700",children:"Actions"})]})}),e.jsx(F,{children:(j=(p=s==null?void 0:s.data)==null?void 0:p.data)==null?void 0:j.map((a,T)=>e.jsxs(C,{className:"transition-colors duration-150 hover:bg-blue-50/50",children:[e.jsx(n,{className:"font-medium text-gray-600",children:(t-1)*r+T+1}),e.jsx(n,{className:"font-mono text-sm font-medium text-blue-600",children:a==null?void 0:a.emp_code}),e.jsx(n,{className:"text-gray-700",children:a==null?void 0:a.department_name}),e.jsx(n,{className:"font-medium text-gray-900",children:a==null?void 0:a.emp_name}),e.jsx(n,{className:"text-gray-700",children:a==null?void 0:a.contact_no}),e.jsx(n,{className:"text-gray-700",children:$(a==null?void 0:a.created_at).format("DD-MM-YYYY")}),e.jsx(n,{children:(a==null?void 0:a.approval_status)===1?e.jsx("span",{className:"inline-flex rounded-full bg-green-100 px-3 py-1 text-sm font-semibold text-green-800",children:"Approved"}):(a==null?void 0:a.approval_status)===2?e.jsx("span",{className:"inline-flex rounded-full bg-red-100 px-3 py-1 text-sm font-semibold text-red-800",children:"Rejected"}):e.jsx("span",{className:"inline-flex rounded-full bg-yellow-100 px-3 py-1 text-sm font-semibold text-yellow-800",children:"Pending"})}),e.jsx(n,{children:e.jsx("div",{className:"flex items-center justify-center gap-2",children:e.jsx(w,{to:`/hrms/dashboard/view-employee/${S(String(a==null?void 0:a.id))}`,children:e.jsxs(P,{size:"sm",variant:"outline",className:"h-9 border-blue-200 px-3 text-blue-600 transition-all duration-200 hover:border-blue-300 hover:bg-blue-50 hover:text-blue-700",children:[e.jsx(ee,{className:"mr-1 h-4 w-4"}),"View"]})})})})]},a==null?void 0:a.id))})]})}),e.jsxs("div",{className:"mt-6 flex items-center justify-between rounded-lg border border-gray-200 bg-gray-50 p-4",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",(t-1)*r+1," to"," ",Math.min(t*r,((b=(u=s==null?void 0:s.data)==null?void 0:u.pagination)==null?void 0:b.total)||0)," ","of ",((f=(y=s==null?void 0:s.data)==null?void 0:y.pagination)==null?void 0:f.total)||0," ","entries"]}),e.jsx(q,{page:t,limit:r,totalPages:(v=(N=s==null?void 0:s.data)==null?void 0:N.pagination)==null?void 0:v.totalPages,setPage:x,setLimit:i})]})]})]})]})})})})}export{pe as default};
