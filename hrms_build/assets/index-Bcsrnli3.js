import{r as e,h as s,f as a,j as r,l as t,B as l}from"./index-CaGgFSeq.js";import{P as i}from"./index-_Ebnz7ZO.js";import{C as n,a as o,b as d,c}from"./card-DpoqoWLt.js";import{T as m,a as x,b as h,c as j,d as u,e as g}from"./table-Cx7GlPK-.js";import{B as p}from"./badge-BIrBucNW.js";import{b as v}from"./useCustomQuery-kAcgaiYY.js";import{P as f}from"./index-DPZPUd0B.js";import{S as y}from"./separator-BjkNEWW3.js";import{S as b}from"./index-BTP_FOeW.js";import{S as N}from"./Spinner-qexXCl2s.js";import{S as w}from"./index-C2OnjG8u.js";import{W as S}from"./wallet-DYl0ACpv.js";import{E as _}from"./eye-Bg6KHRh8.js";import{F as C}from"./file-text--YAkbBG1.js";import{C as $}from"./circle-check-big-BWcM736c.js";import{C as P}from"./clock-B2whL4Nd.js";import{C as E}from"./circle-alert-2e3QFMXj.js";import{C as D}from"./circle-x-DjmCeqLK.js";import"./input-D-UmUPn3.js";import"./select-CIf9vlQt.js";import"./check-DrWmecxK.js";const k=(e,s)=>{if(!e)return r.jsxs(p,{variant:"outline",className:"text-gray-500",children:[r.jsx(E,{className:"mr-1 h-3 w-3"}),"No Declaration"]});switch(s){case"approved":case"verified":return r.jsxs(p,{variant:"default",className:"bg-green-100 text-green-700",children:[r.jsx($,{className:"mr-1 h-3 w-3"}),"Approved"]});case"pending":return r.jsxs(p,{variant:"secondary",className:"bg-yellow-100 text-yellow-700",children:[r.jsx(P,{className:"mr-1 h-3 w-3"}),"Pending"]});case"rejected":return r.jsxs(p,{variant:"destructive",children:[r.jsx(D,{className:"mr-1 h-3 w-3"}),"Rejected"]});default:return r.jsxs(p,{variant:"outline",children:[r.jsx(P,{className:"mr-1 h-3 w-3"}),s]})}};function O(){var i,E,D,O,B,F,I,L,T,W,z,A;const[V,q]=e.useState(1),[M,Q]=e.useState(10),[R,U]=e.useState(""),[Y,Z]=e.useState(""),G=v({api:`${s.getEmployeesWithSalaryOverview}?page=${V}&limit=${M}&q=${R}&department_id=${a(Y)}`,key:"getEmployeesWithSalaryOverview",value:[V,M,Y],options:{enabled:!0}});return r.jsx("main",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50",children:r.jsx("div",{className:"space-y-6",children:r.jsxs(n,{className:"border border-gray-200 bg-white shadow-lg",children:[r.jsx(o,{className:"rounded-t-lg bg-gradient-to-r from-blue-600 to-indigo-600 text-white",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(S,{className:"h-6 w-6"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold",children:"Salary Overview"}),r.jsxs(d,{className:"mt-1 text-blue-100",children:["Total Employees:"," ",(null==(E=null==(i=null==G?void 0:G.data)?void 0:i.pagination)?void 0:E.total)||0]})]})]})})}),r.jsxs(c,{className:"p-6",children:[r.jsx("div",{className:"mb-6",children:r.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Search Employee"}),r.jsx(b,{setSearch:U,search:R,refetch:null==G?void 0:G.refetch})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Filter by Department"}),r.jsx(w,{departmentId:Y,setDepartmentId:Z})]})]})}),r.jsx(y,{className:"my-6"}),G.isLoading?r.jsx("div",{className:"flex items-center justify-center py-20",children:r.jsx(N,{})}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200",children:r.jsxs(m,{children:[r.jsx(x,{children:r.jsxs(h,{className:"bg-gray-50 hover:bg-gray-50",children:[r.jsx(j,{className:"w-16 font-semibold text-gray-700",children:"#"}),r.jsx(j,{className:"font-semibold text-gray-700",children:"Employee Code"}),r.jsx(j,{className:"font-semibold text-gray-700",children:"Employee Name"}),r.jsx(j,{className:"font-semibold text-gray-700",children:"Department"}),r.jsx(j,{className:"font-semibold text-gray-700",children:"Basic Pay"}),r.jsx(j,{className:"font-semibold text-gray-700",children:"Salary Status"}),r.jsx(j,{className:"font-semibold text-gray-700",children:"Declaration"}),r.jsx(j,{className:"text-center font-semibold text-gray-700",children:"Actions"})]})}),r.jsx(u,{children:0===(null==(O=null==(D=null==G?void 0:G.data)?void 0:D.data)?void 0:O.length)?r.jsx(h,{children:r.jsx(g,{colSpan:8,className:"py-8 text-center text-gray-500",children:"No employees found"})}):null==(F=null==(B=null==G?void 0:G.data)?void 0:B.data)?void 0:F.map((e,s)=>{var i,n,o,d;return r.jsxs(h,{className:"transition-colors duration-150 hover:bg-blue-50/50",children:[r.jsx(g,{className:"font-medium text-gray-600",children:(V-1)*M+s+1}),r.jsx(g,{className:"font-mono text-sm font-medium text-blue-600",children:r.jsx(t,{to:`/hrms/dashboard/view-employee/${a(String(e.id))}`,className:"hover:underline",children:e.emp_code})}),r.jsx(g,{className:"font-medium text-gray-900",children:e.emp_name}),r.jsx(g,{className:"text-gray-700",children:e.department_name}),r.jsx(g,{className:"font-medium text-gray-900",children:(d=e.current_basic_pay,null==d?"—":`₹${d.toLocaleString("en-IN")}`)}),r.jsx(g,{children:(o=e.salary_configured,o?r.jsxs(p,{variant:"default",className:"bg-green-100 text-green-700",children:[r.jsx($,{className:"mr-1 h-3 w-3"}),"Configured"]}):r.jsxs(p,{variant:"secondary",className:"bg-yellow-100 text-yellow-700",children:[r.jsx(P,{className:"mr-1 h-3 w-3"}),"Not Configured"]}))}),r.jsx(g,{children:k(e.has_declaration,null==(i=e.declaration)?void 0:i.verification_status)}),r.jsx(g,{children:r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx(t,{to:`/hrms/dashboard/salary/${a(String(e.id))}`,children:r.jsxs(l,{size:"sm",variant:"outline",className:"h-9 border-blue-200 px-3 text-blue-600 transition-all duration-200 hover:border-blue-300 hover:bg-blue-50 hover:text-blue-700",children:[r.jsx(_,{className:"mr-1 h-4 w-4"}),"Salary"]})}),e.has_declaration&&r.jsx(t,{to:`/hrms/dashboard/payroll/investment-proofs/${null==(n=e.declaration)?void 0:n.emp_id}`,children:r.jsxs(l,{size:"sm",variant:"outline",className:"h-9 border-indigo-200 px-3 text-indigo-600 transition-all duration-200 hover:border-indigo-300 hover:bg-indigo-50 hover:text-indigo-700",children:[r.jsx(C,{className:"mr-1 h-4 w-4"}),"Proofs"]})})]})})]},e.id)})})]})}),r.jsxs("div",{className:"mt-6 flex items-center justify-between rounded-lg border border-gray-200 bg-gray-50 p-4",children:[r.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",(V-1)*M+1," to"," ",Math.min(V*M,(null==(L=null==(I=null==G?void 0:G.data)?void 0:I.pagination)?void 0:L.total)||0)," ","of ",(null==(W=null==(T=null==G?void 0:G.data)?void 0:T.pagination)?void 0:W.total)||0," ","entries"]}),r.jsx(f,{page:V,limit:M,totalPages:null==(A=null==(z=null==G?void 0:G.data)?void 0:z.pagination)?void 0:A.totalPages,setPage:q,setLimit:Q})]})]})]})]})})})}function B(){return r.jsx(i,{title:"Salary Overview",subTitle:"View employee salary and declaration status",children:r.jsx(O,{})})}export{B as default};
