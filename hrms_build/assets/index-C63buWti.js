import{e as I,j as e,l as U,r as i,o as zt,h as Z,_ as O,p as Ye,k as Ht,q as qt,s as Gt,t as Kt,v as Yt,w as Y,x as Xt,z as Zt,y as Jt,A as Qt,D as es,F as ts,H as ss,J as as,K as je,B as ye,i as ns}from"./index-D5-J7ryE.js";import{c as rs,a as ls}from"./index-CdSbnl5C.js";import{u as Xe,C as Ze,c as we,f as ue,b as E,g as Re,a as Je,o as Qe,F as et,R as S,B as tt,h as st,e as os}from"./switch-B8nOyPdH.js";import{I as is,u as Ee,c as cs,b as _e}from"./useCustomQuery-zzsAsz_W.js";import{g as ds,d as us,a as ms,U as X,B as Fe,H as se,b as fs,P as Me,M as xs,c as ps}from"./useMasters-DqmcMI5d.js";import{C as Q}from"./calendar-tWNUfV_8.js";import{U as J}from"./users-CC1iqW71.js";import{S as hs,C as me,c as fe,d as gs,a as bs,e as ys,b as vs,h as Ns}from"./Spinner-CpmCg_Uh.js";import{D as Oe}from"./dollar-sign-BeQ_XhLM.js";/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=I("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=I("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=I("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=I("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=I("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=I("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=I("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=I("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=I("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=I("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);function Cs({name:t,label:s,isDynamic:a,isRequired:n,...r}){const{control:l,setValue:c}=Xe();return e.jsx(Ze,{name:t,control:l,render:({field:{ref:o},fieldState:{error:p}})=>e.jsxs(e.Fragment,{children:[e.jsxs("label",{className:"text-gray-700 dark:text-gray-200",htmlFor:s,children:[s," ",n&&e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx(is,{type:"file",onChange:f=>{c(t,f.target.files?f.target.files[0]:null)},ref:o,className:`mt-1 ${p?"border-red-400":null}`,...r}),p&&e.jsx("span",{className:"text-red-400 text-xs",children:p.message})]})})}const z=({children:t,name:s,label:a,selectedText:n,className:r,data:l,initialValue:c,initialValueText:o,isRequired:p,isHookForm:f=!0,...u})=>{const{control:m,setValue:g}=Xe();return e.jsx(e.Fragment,{children:f?e.jsx(Ze,{name:s??"",control:m,render:({field:{ref:x,...h},fieldState:{error:d}})=>e.jsxs(e.Fragment,{children:[e.jsxs("h1",{className:"text-gray-700 dark:text-gray-200 ",children:[a," ",p&&e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsxs("select",{...h,onChange:b=>{var y;h.onChange(b),n&&g(n,(y=l==null?void 0:l.find(v=>v.value==b.target.value))==null?void 0:y.label)},ref:x,className:U("flex h-10 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",d?"border-red-400":null,r),...u,children:[e.jsx("option",{value:"",children:"Select"}),l==null?void 0:l.map((b,y)=>e.jsx("option",{value:b.value,children:b.label},y+1))]}),d&&e.jsx("span",{className:"text-xs text-red-400",children:d==null?void 0:d.message})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("h1",{className:"text-gray-700 dark:text-gray-200 ",children:[a," ",p&&e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsxs("select",{className:U("flex h-10 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",r),...u,children:[e.jsx("option",{value:"",children:"Select"}),l==null?void 0:l.map((x,h)=>e.jsx("option",{value:x.value,children:x.label},h+1))]})]})})},Ps=we().shape({emp_type_id:ue().integer().required().label("Employee Type"),emp_code:E().max(50).required().label("Employee Code"),emp_name:E().max(100).required().label("Employee Name"),gender:E().oneOf(["male","female","other"]).optional().label("Gender"),dob:Re().optional().label("Date of Birth"),marital_status:E().oneOf(["single","married","divorced","widowed"]).optional().label("Marital Status"),religion:E().max(50).optional().label("Religion"),emp_blood_group:E().oneOf(["A+","A-","B+","B-","O+","O-","AB+","AB-"]).optional().label("Blood Group"),emp_health_status:E().max(50).optional().label("Health Status").required(),contact_no:E().max(10).optional().label("Contact Number"),emergency_contact_no:E().max(10).optional().label("Emergency Contact"),email:E().email().max(100).optional().label("Email"),emp_present_address:E().optional().label("Present Address"),present_post_office:E().max(100).optional().label("Present Post Office"),present_pin_code:E().max(6).optional().label("Present PIN Code"),present_police_station:E().max(100).optional().label("Present Police Station"),present_state:E().max(100).optional().label("Present State"),present_district:E().max(100).optional().label("Present District"),emp_permanent_address:E().optional().label("Permanent Address"),permanent_post_office:E().max(100).optional().label("Permanent Post Office"),permanent_pin_code:E().max(6).optional().label("Permanent PIN Code"),permanent_police_station:E().max(100).optional().label("Permanent Police Station"),permanent_state:E().max(100).optional().label("Permanent State"),permanent_district:E().max(100).optional().label("Permanent District"),aadhaar_no:E().max(12).optional().label("Aadhaar Number"),pan_no:E().max(10).optional().label("PAN Number"),uan_no:E().max(12).optional().label("UAN Number"),esi_no:E().max(17).optional().label("ESI Number"),passport_no:E().max(20).optional().label("Passport Number"),driving_license_no:E().max(20).optional().label("Driving License"),department_id:ue().integer().optional().label("Department"),designation_id:ue().integer().optional().label("Designation"),date_of_joining:Re().optional().label("Date of Joining")});function Ds({id:t,getDataById:s}){var y,v,j,w,P,A;const[a,n]=i.useState(!1),r=Ee({}),l=zt(),c=ds(),o=us(),p=ms(),f=i.useMemo(()=>{var De;if(!((De=s.data)!=null&&De.data))return{};const{ulb_id:N,status:_,created_at:C,updated_at:D,id:R,emp_image:F,...M}=s.data.data,B={};return Object.entries(M).forEach(([Wt,Ae])=>{B[Wt]=Ae===null?void 0:Ae}),B},[s.data]),u=Je({defaultValues:f,resolver:Qe(Ps)}),m=async N=>{var _,C,D,R;try{const F=await r.mutateAsync({api:`${(_=Z)==null?void 0:_.updateEmployeeById}`,data:{id:t,...N}});(C=F.data)!=null&&C.success?(O.success((D=F==null?void 0:F.data)==null?void 0:D.message),l("/hrms/dashboard/employee-list")):O.error(((R=F.data)==null?void 0:R.message)||"Employee not created successfully")}catch(F){console.log(F),O.error("An error occurred while creating employee")}},g=N=>{if(n(N),N){const _=u.getValues("emp_present_address"),C=u.getValues("present_post_office"),D=u.getValues("present_pin_code"),R=u.getValues("present_police_station"),F=u.getValues("present_state"),M=u.getValues("present_district");u.setValue("emp_permanent_address",_),u.setValue("permanent_post_office",C),u.setValue("permanent_pin_code",D),u.setValue("permanent_police_station",R),u.setValue("permanent_state",F),u.setValue("permanent_district",M)}else u.setValue("emp_permanent_address",""),u.setValue("permanent_post_office",""),u.setValue("permanent_pin_code",""),u.setValue("permanent_police_station",""),u.setValue("permanent_state",""),u.setValue("permanent_district","")};i.useEffect(()=>{s.data&&u.reset(f)},[s.data,u]);const x=[{label:"Fit",value:"fit"},{label:"Unfit",value:"unfit"},{label:"Disabled",value:"disabled"}],h=[{label:"Male",value:"male"},{label:"Female",value:"female"},{label:"Other",value:"other"}],d=[{label:"Single",value:"single"},{label:"Married",value:"married"},{label:"Divorced",value:"divorced"},{label:"Widowed",value:"widowed"}],b=[{label:"A+",value:"A+"},{label:"A-",value:"A-"},{label:"B+",value:"B+"},{label:"B-",value:"B-"},{label:"O+",value:"O+"},{label:"O-",value:"O-"},{label:"AB+",value:"AB+"},{label:"AB-",value:"AB-"}];return e.jsxs("div",{className:"",children:[e.jsx("div",{className:"mb-8 rounded-lg border border-blue-200 bg-gradient-to-r from-blue-50 to-indigo-50 p-6 shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-blue-600 text-white shadow-md",children:e.jsx(X,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Comprehensive Employee Registration"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Please fill in all required fields marked with asterisk (*)"})]})]})}),e.jsxs(et,{methods:u,onSubmit:u.handleSubmit(m),children:[e.jsxs("div",{className:"mb-6 overflow-hidden rounded-lg border border-gray-200 bg-white shadow-sm",children:[e.jsxs("div",{className:"border-b border-gray-200 bg-gray-50 px-6 py-4",children:[e.jsxs("h2",{className:"flex items-center gap-2 text-lg font-semibold text-gray-800",children:[e.jsx(Fe,{className:"h-5 w-5 text-blue-600"}),"Employment Details"]}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Department, designation and job information"})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(se,{className:"h-4 w-4 text-gray-400"}),"Employee Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(z,{name:"emp_type_id",data:((v=(y=c==null?void 0:c.data)==null?void 0:y.data)==null?void 0:v.map(N=>({label:String(N.emp_type),value:String(N.id)})))||[]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(se,{className:"h-4 w-4 text-gray-400"}),"Employee Code ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(S,{name:"emp_code",placeholder:"Enter Employee Code",disabled:!0,inputValidation:["removeSpecialCharacterExceptSpace"]})]})]})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(fs,{className:"h-4 w-4 text-gray-400"}),"Department"]}),e.jsx(z,{name:"department_id",data:((w=(j=o==null?void 0:o.data)==null?void 0:j.data)==null?void 0:w.map(N=>({label:String(N.department_name),value:String(N.id)})))||[]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(Fe,{className:"h-4 w-4 text-gray-400"}),"Designation"]}),e.jsx(z,{name:"designation_id",data:((A=(P=p==null?void 0:p.data)==null?void 0:P.data)==null?void 0:A.map(N=>({label:String(N.designation_name),value:String(N.id)})))||[]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(Q,{className:"h-4 w-4 text-gray-400"}),"Date of Joining"]}),e.jsx(S,{name:"date_of_joining",type:"date",placeholder:"Select Joining Date"})]})]})})]}),e.jsxs("div",{className:"mb-6 overflow-hidden rounded-lg border border-gray-200 bg-white shadow-sm",children:[e.jsxs("div",{className:"border-b border-gray-200 bg-gray-50 px-6 py-4",children:[e.jsxs("h2",{className:"flex items-center gap-2 text-lg font-semibold text-gray-800",children:[e.jsx(X,{className:"h-5 w-5 text-blue-600"}),"Personal Details"]}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Employee personal information"})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(X,{className:"h-4 w-4 text-gray-400"}),"Full Name"]}),e.jsx(S,{name:"emp_name",placeholder:"Enter Full Name",inputValidation:["removeSpecialCharacterExceptSpace"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(J,{className:"h-4 w-4 text-gray-400"}),"Gender"]}),e.jsx(z,{name:"gender",data:h})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(Q,{className:"h-4 w-4 text-gray-400"}),"Date of Birth"]}),e.jsx(S,{name:"dob",type:"date",placeholder:"Select Date of Birth"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(J,{className:"h-4 w-4 text-gray-400"}),"Marital Status"]}),e.jsx(z,{name:"marital_status",data:d})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(J,{className:"h-4 w-4 text-gray-400"}),"Religion"]}),e.jsx(S,{name:"religion",placeholder:"Enter Religion",inputValidation:["removeSpecialCharacterExceptSpace"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(Te,{className:"h-4 w-4 text-gray-400"}),"Blood Group"]}),e.jsx(z,{name:"emp_blood_group",data:b})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(Te,{className:"h-4 w-4 text-gray-400"}),"Health Status"]}),e.jsx(z,{name:"emp_health_status",data:x})]})]})})]}),e.jsxs("div",{className:"mb-6 overflow-hidden rounded-lg border border-gray-200 bg-white shadow-sm",children:[e.jsxs("div",{className:"border-b border-gray-200 bg-gray-50 px-6 py-4",children:[e.jsxs("h2",{className:"flex items-center gap-2 text-lg font-semibold text-gray-800",children:[e.jsx(Me,{className:"h-5 w-5 text-blue-600"}),"Contact Information"]}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Primary and emergency contact details"})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(Me,{className:"h-4 w-4 text-gray-400"}),"Contact Number"]}),e.jsx(S,{name:"contact_no",placeholder:"Enter 10-digit Mobile Number",inputValidation:["number"],maxLength:10})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(js,{className:"h-4 w-4 text-gray-400"}),"Emergency Contact"]}),e.jsx(S,{name:"emergency_contact_no",placeholder:"Enter Emergency Contact Number",inputValidation:["number"],maxLength:10})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(xs,{className:"h-4 w-4 text-gray-400"}),"Email Address"]}),e.jsx(S,{name:"email",type:"email",placeholder:"example@domain.com"})]})]})})]}),e.jsxs("div",{className:"mb-6 overflow-hidden rounded-lg border border-gray-200 bg-white shadow-sm",children:[e.jsxs("div",{className:"border-b border-gray-200 bg-gray-50 px-6 py-4",children:[e.jsxs("h2",{className:"flex items-center gap-2 text-lg font-semibold text-gray-800",children:[e.jsx(ke,{className:"h-5 w-5 text-blue-600"}),"Address Information"]}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Residential address details"})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"col-span-full space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(k,{className:"h-4 w-4 text-gray-400"}),"Present Address"]}),e.jsx(S,{name:"emp_present_address",placeholder:"Enter Present Address"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(k,{className:"h-4 w-4 text-gray-400"}),"Post Office"]}),e.jsx(S,{name:"present_post_office",placeholder:"Enter Post Office"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(se,{className:"h-4 w-4 text-gray-400"}),"PIN Code"]}),e.jsx(S,{name:"present_pin_code",placeholder:"Enter 6-digit PIN Code",inputValidation:["number"],maxLength:6})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(k,{className:"h-4 w-4 text-gray-400"}),"Police Station"]}),e.jsx(S,{name:"present_police_station",placeholder:"Enter Police Station"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(k,{className:"h-4 w-4 text-gray-400"}),"District"]}),e.jsx(S,{name:"present_district",placeholder:"Enter District"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(k,{className:"h-4 w-4 text-gray-400"}),"State"]}),e.jsx(S,{name:"present_state",placeholder:"Enter State"})]})]})}),e.jsxs("div",{className:"mb-6 flex items-center gap-3 rounded-lg border border-blue-200 bg-blue-50 p-4",children:[e.jsx("input",{type:"checkbox",id:"sameAsPresent",checked:a,onChange:N=>g(N.target.checked),className:"h-5 w-5 cursor-pointer rounded border-gray-300 text-blue-600 focus:ring-2 focus:ring-blue-500"}),e.jsxs("label",{htmlFor:"sameAsPresent",className:"flex cursor-pointer items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(ke,{className:"h-4 w-4 text-blue-600"}),"Permanent address is same as present address"]})]}),e.jsx("div",{children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"col-span-full space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(k,{className:"h-4 w-4 text-gray-400"}),"Permanent Address"]}),e.jsx(S,{name:"emp_permanent_address",placeholder:"Enter Permanent Address",disabled:a})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(k,{className:"h-4 w-4 text-gray-400"}),"Post Office"]}),e.jsx(S,{name:"permanent_post_office",placeholder:"Enter Post Office",disabled:a})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(se,{className:"h-4 w-4 text-gray-400"}),"PIN Code"]}),e.jsx(S,{name:"permanent_pin_code",placeholder:"Enter 6-digit PIN Code",inputValidation:["number"],maxLength:6,disabled:a})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(k,{className:"h-4 w-4 text-gray-400"}),"Police Station"]}),e.jsx(S,{name:"permanent_police_station",placeholder:"Enter Police Station",disabled:a})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(k,{className:"h-4 w-4 text-gray-400"}),"District"]}),e.jsx(S,{name:"permanent_district",placeholder:"Enter District",disabled:a})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(k,{className:"h-4 w-4 text-gray-400"}),"State"]}),e.jsx(S,{name:"permanent_state",placeholder:"Enter State",disabled:a})]})]})})]})]}),e.jsxs("div",{className:"mb-6 overflow-hidden rounded-lg border border-gray-200 bg-white shadow-sm",children:[e.jsxs("div",{className:"border-b border-gray-200 bg-gray-50 px-6 py-4",children:[e.jsxs("h2",{className:"flex items-center gap-2 text-lg font-semibold text-gray-800",children:[e.jsx(W,{className:"h-5 w-5 text-blue-600"}),"Government IDs & Documents"]}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Official identification documents"})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(W,{className:"h-4 w-4 text-gray-400"}),"Aadhaar Number"]}),e.jsx(S,{name:"aadhaar_no",placeholder:"Enter 12-digit Aadhaar",inputValidation:["aadhaar"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(W,{className:"h-4 w-4 text-gray-400"}),"PAN Number"]}),e.jsx(S,{name:"pan_no",placeholder:"Enter PAN Number",inputValidation:["pan"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(W,{className:"h-4 w-4 text-gray-400"}),"UAN Number"]}),e.jsx(S,{name:"uan_no",placeholder:"Enter UAN Number",inputValidation:["UAN"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(W,{className:"h-4 w-4 text-gray-400"}),"ESI Number"]}),e.jsx(S,{name:"esi_no",placeholder:"Enter ESI Number"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(W,{className:"h-4 w-4 text-gray-400"}),"Passport Number"]}),e.jsx(S,{name:"passport_no",placeholder:"Enter Passport Number",inputValidation:["Passport"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(W,{className:"h-4 w-4 text-gray-400"}),"Driving License"]}),e.jsx(S,{name:"driving_license_no",placeholder:"Enter Driving License Number",inputValidation:["drivingLicence"]})]})]})})]}),e.jsx("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-6 shadow-sm",children:e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"text-red-500",children:"*"})," Indicates required fields"]}),e.jsx("div",{className:"flex gap-3",children:e.jsx(tt,{isLoading:u.formState.isSubmitting,type:"submit",className:"flex h-11 items-center gap-2 rounded-lg bg-blue-600 px-8 font-semibold text-white shadow-md transition-all hover:bg-blue-700 hover:shadow-lg disabled:opacity-50",children:e.jsxs(e.Fragment,{children:[e.jsx(X,{className:"h-4 w-4"}),"Update Employee"]})})})]})})]}),e.jsx("div",{className:"mt-6 rounded-lg border border-blue-200 bg-blue-50 p-4",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Note:"})," All information provided will be stored securely and used only for official purposes. Please ensure accuracy of the details before submission."]})})]})}const As=(t,s,a)=>{rs({customUI:({onClose:n})=>e.jsxs("div",{className:"rounded-md bg-white p-4 shadow-lg",children:[e.jsx("h1",{className:"text-lg font-bold",children:t}),e.jsx("p",{className:"text-sm",children:s}),e.jsxs("div",{className:"mt-4 flex justify-end",children:[e.jsx("button",{className:"rounded-md bg-red-500 px-4 py-1 text-white",onClick:()=>{a(),n()},children:"Yes"}),e.jsx("button",{className:"ml-2 rounded-md bg-gray-500 px-4 py-1 text-white",onClick:n,children:"No"})]})]})})};function $(t,s,{checkForDefaultPrevented:a=!0}={}){return function(r){if(t==null||t(r),a===!1||!r.defaultPrevented)return s==null?void 0:s(r)}}function Ie(t,s){if(typeof t=="function")return t(s);t!=null&&(t.current=s)}function at(...t){return s=>{let a=!1;const n=t.map(r=>{const l=Ie(r,s);return!a&&typeof l=="function"&&(a=!0),l});if(a)return()=>{for(let r=0;r<n.length;r++){const l=n[r];typeof l=="function"?l():Ie(t[r],null)}}}}function q(...t){return i.useCallback(at(...t),t)}function Rs(t,s){const a=i.createContext(s),n=l=>{const{children:c,...o}=l,p=i.useMemo(()=>o,Object.values(o));return e.jsx(a.Provider,{value:p,children:c})};n.displayName=t+"Provider";function r(l){const c=i.useContext(a);if(c)return c;if(s!==void 0)return s;throw new Error(`\`${l}\` must be used within \`${t}\``)}return[n,r]}function Fs(t,s=[]){let a=[];function n(l,c){const o=i.createContext(c),p=a.length;a=[...a,c];const f=m=>{var y;const{scope:g,children:x,...h}=m,d=((y=g==null?void 0:g[t])==null?void 0:y[p])||o,b=i.useMemo(()=>h,Object.values(h));return e.jsx(d.Provider,{value:b,children:x})};f.displayName=l+"Provider";function u(m,g){var d;const x=((d=g==null?void 0:g[t])==null?void 0:d[p])||o,h=i.useContext(x);if(h)return h;if(c!==void 0)return c;throw new Error(`\`${m}\` must be used within \`${l}\``)}return[f,u]}const r=()=>{const l=a.map(c=>i.createContext(c));return function(o){const p=(o==null?void 0:o[t])||l;return i.useMemo(()=>({[`__scope${t}`]:{...o,[t]:p}}),[o,p])}};return r.scopeName=t,[n,Ms(r,...s)]}function Ms(...t){const s=t[0];if(t.length===1)return s;const a=()=>{const n=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(l){const c=n.reduce((o,{useScope:p,scopeName:f})=>{const m=p(l)[`__scope${f}`];return{...o,...m}},{});return i.useMemo(()=>({[`__scope${s.scopeName}`]:c}),[c])}};return a.scopeName=s.scopeName,a}var ee=globalThis!=null&&globalThis.document?i.useLayoutEffect:()=>{},Os=Ye[" useId ".trim().toString()]||(()=>{}),Ts=0;function xe(t){const[s,a]=i.useState(Os());return ee(()=>{t||a(n=>n??String(Ts++))},[t]),t||(s?`radix-${s}`:"")}var ks=Ye[" useInsertionEffect ".trim().toString()]||ee;function Is({prop:t,defaultProp:s,onChange:a=()=>{},caller:n}){const[r,l,c]=Ls({defaultProp:s,onChange:a}),o=t!==void 0,p=o?t:r;{const u=i.useRef(t!==void 0);i.useEffect(()=>{const m=u.current;m!==o&&console.warn(`${n} is changing from ${m?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=o},[o,n])}const f=i.useCallback(u=>{var m;if(o){const g=Bs(u)?u(t):u;g!==t&&((m=c.current)==null||m.call(c,g))}else l(u)},[o,t,l,c]);return[p,f]}function Ls({defaultProp:t,onChange:s}){const[a,n]=i.useState(t),r=i.useRef(a),l=i.useRef(s);return ks(()=>{l.current=s},[s]),i.useEffect(()=>{var c;r.current!==a&&((c=l.current)==null||c.call(l,a),r.current=a)},[a,r]),[a,n,l]}function Bs(t){return typeof t=="function"}function nt(t){const s=Vs(t),a=i.forwardRef((n,r)=>{const{children:l,...c}=n,o=i.Children.toArray(l),p=o.find(Us);if(p){const f=p.props.children,u=o.map(m=>m===p?i.Children.count(f)>1?i.Children.only(null):i.isValidElement(f)?f.props.children:null:m);return e.jsx(s,{...c,ref:r,children:i.isValidElement(f)?i.cloneElement(f,void 0,u):null})}return e.jsx(s,{...c,ref:r,children:l})});return a.displayName=`${t}.Slot`,a}function Vs(t){const s=i.forwardRef((a,n)=>{const{children:r,...l}=a;if(i.isValidElement(r)){const c=zs(r),o=Ws(l,r.props);return r.type!==i.Fragment&&(o.ref=n?at(n,c):c),i.cloneElement(r,o)}return i.Children.count(r)>1?i.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var $s=Symbol("radix.slottable");function Us(t){return i.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===$s}function Ws(t,s){const a={...s};for(const n in s){const r=t[n],l=s[n];/^on[A-Z]/.test(n)?r&&l?a[n]=(...o)=>{const p=l(...o);return r(...o),p}:r&&(a[n]=r):n==="style"?a[n]={...r,...l}:n==="className"&&(a[n]=[r,l].filter(Boolean).join(" "))}return{...t,...a}}function zs(t){var n,r;let s=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}var Hs=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],L=Hs.reduce((t,s)=>{const a=nt(`Primitive.${s}`),n=i.forwardRef((r,l)=>{const{asChild:c,...o}=r,p=c?a:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(p,{...o,ref:l})});return n.displayName=`Primitive.${s}`,{...t,[s]:n}},{});function qs(t,s){t&&Ht.flushSync(()=>t.dispatchEvent(s))}function te(t){const s=i.useRef(t);return i.useEffect(()=>{s.current=t}),i.useMemo(()=>(...a)=>{var n;return(n=s.current)==null?void 0:n.call(s,...a)},[])}function Gs(t,s=globalThis==null?void 0:globalThis.document){const a=te(t);i.useEffect(()=>{const n=r=>{r.key==="Escape"&&a(r)};return s.addEventListener("keydown",n,{capture:!0}),()=>s.removeEventListener("keydown",n,{capture:!0})},[a,s])}var Ks="DismissableLayer",ve="dismissableLayer.update",Ys="dismissableLayer.pointerDownOutside",Xs="dismissableLayer.focusOutside",Le,rt=i.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),lt=i.forwardRef((t,s)=>{const{disableOutsidePointerEvents:a=!1,onEscapeKeyDown:n,onPointerDownOutside:r,onFocusOutside:l,onInteractOutside:c,onDismiss:o,...p}=t,f=i.useContext(rt),[u,m]=i.useState(null),g=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=i.useState({}),h=q(s,N=>m(N)),d=Array.from(f.layers),[b]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),y=d.indexOf(b),v=u?d.indexOf(u):-1,j=f.layersWithOutsidePointerEventsDisabled.size>0,w=v>=y,P=Qs(N=>{const _=N.target,C=[...f.branches].some(D=>D.contains(_));!w||C||(r==null||r(N),c==null||c(N),N.defaultPrevented||o==null||o())},g),A=ea(N=>{const _=N.target;[...f.branches].some(D=>D.contains(_))||(l==null||l(N),c==null||c(N),N.defaultPrevented||o==null||o())},g);return Gs(N=>{v===f.layers.size-1&&(n==null||n(N),!N.defaultPrevented&&o&&(N.preventDefault(),o()))},g),i.useEffect(()=>{if(u)return a&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(Le=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(u)),f.layers.add(u),Be(),()=>{a&&f.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=Le)}},[u,g,a,f]),i.useEffect(()=>()=>{u&&(f.layers.delete(u),f.layersWithOutsidePointerEventsDisabled.delete(u),Be())},[u,f]),i.useEffect(()=>{const N=()=>x({});return document.addEventListener(ve,N),()=>document.removeEventListener(ve,N)},[]),e.jsx(L.div,{...p,ref:h,style:{pointerEvents:j?w?"auto":"none":void 0,...t.style},onFocusCapture:$(t.onFocusCapture,A.onFocusCapture),onBlurCapture:$(t.onBlurCapture,A.onBlurCapture),onPointerDownCapture:$(t.onPointerDownCapture,P.onPointerDownCapture)})});lt.displayName=Ks;var Zs="DismissableLayerBranch",Js=i.forwardRef((t,s)=>{const a=i.useContext(rt),n=i.useRef(null),r=q(s,n);return i.useEffect(()=>{const l=n.current;if(l)return a.branches.add(l),()=>{a.branches.delete(l)}},[a.branches]),e.jsx(L.div,{...t,ref:r})});Js.displayName=Zs;function Qs(t,s=globalThis==null?void 0:globalThis.document){const a=te(t),n=i.useRef(!1),r=i.useRef(()=>{});return i.useEffect(()=>{const l=o=>{if(o.target&&!n.current){let p=function(){ot(Ys,a,f,{discrete:!0})};const f={originalEvent:o};o.pointerType==="touch"?(s.removeEventListener("click",r.current),r.current=p,s.addEventListener("click",r.current,{once:!0})):p()}else s.removeEventListener("click",r.current);n.current=!1},c=window.setTimeout(()=>{s.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),s.removeEventListener("pointerdown",l),s.removeEventListener("click",r.current)}},[s,a]),{onPointerDownCapture:()=>n.current=!0}}function ea(t,s=globalThis==null?void 0:globalThis.document){const a=te(t),n=i.useRef(!1);return i.useEffect(()=>{const r=l=>{l.target&&!n.current&&ot(Xs,a,{originalEvent:l},{discrete:!1})};return s.addEventListener("focusin",r),()=>s.removeEventListener("focusin",r)},[s,a]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Be(){const t=new CustomEvent(ve);document.dispatchEvent(t)}function ot(t,s,a,{discrete:n}){const r=a.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:a});s&&r.addEventListener(t,s,{once:!0}),n?qs(r,l):r.dispatchEvent(l)}var pe="focusScope.autoFocusOnMount",he="focusScope.autoFocusOnUnmount",Ve={bubbles:!1,cancelable:!0},ta="FocusScope",it=i.forwardRef((t,s)=>{const{loop:a=!1,trapped:n=!1,onMountAutoFocus:r,onUnmountAutoFocus:l,...c}=t,[o,p]=i.useState(null),f=te(r),u=te(l),m=i.useRef(null),g=q(s,d=>p(d)),x=i.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;i.useEffect(()=>{if(n){let d=function(j){if(x.paused||!o)return;const w=j.target;o.contains(w)?m.current=w:V(m.current,{select:!0})},b=function(j){if(x.paused||!o)return;const w=j.relatedTarget;w!==null&&(o.contains(w)||V(m.current,{select:!0}))},y=function(j){if(document.activeElement===document.body)for(const P of j)P.removedNodes.length>0&&V(o)};document.addEventListener("focusin",d),document.addEventListener("focusout",b);const v=new MutationObserver(y);return o&&v.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",d),document.removeEventListener("focusout",b),v.disconnect()}}},[n,o,x.paused]),i.useEffect(()=>{if(o){Ue.add(x);const d=document.activeElement;if(!o.contains(d)){const y=new CustomEvent(pe,Ve);o.addEventListener(pe,f),o.dispatchEvent(y),y.defaultPrevented||(sa(oa(ct(o)),{select:!0}),document.activeElement===d&&V(o))}return()=>{o.removeEventListener(pe,f),setTimeout(()=>{const y=new CustomEvent(he,Ve);o.addEventListener(he,u),o.dispatchEvent(y),y.defaultPrevented||V(d??document.body,{select:!0}),o.removeEventListener(he,u),Ue.remove(x)},0)}}},[o,f,u,x]);const h=i.useCallback(d=>{if(!a&&!n||x.paused)return;const b=d.key==="Tab"&&!d.altKey&&!d.ctrlKey&&!d.metaKey,y=document.activeElement;if(b&&y){const v=d.currentTarget,[j,w]=aa(v);j&&w?!d.shiftKey&&y===w?(d.preventDefault(),a&&V(j,{select:!0})):d.shiftKey&&y===j&&(d.preventDefault(),a&&V(w,{select:!0})):y===v&&d.preventDefault()}},[a,n,x.paused]);return e.jsx(L.div,{tabIndex:-1,...c,ref:g,onKeyDown:h})});it.displayName=ta;function sa(t,{select:s=!1}={}){const a=document.activeElement;for(const n of t)if(V(n,{select:s}),document.activeElement!==a)return}function aa(t){const s=ct(t),a=$e(s,t),n=$e(s.reverse(),t);return[a,n]}function ct(t){const s=[],a=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const r=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||r?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;a.nextNode();)s.push(a.currentNode);return s}function $e(t,s){for(const a of t)if(!na(a,{upTo:s}))return a}function na(t,{upTo:s}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(s!==void 0&&t===s)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function ra(t){return t instanceof HTMLInputElement&&"select"in t}function V(t,{select:s=!1}={}){if(t&&t.focus){const a=document.activeElement;t.focus({preventScroll:!0}),t!==a&&ra(t)&&s&&t.select()}}var Ue=la();function la(){let t=[];return{add(s){const a=t[0];s!==a&&(a==null||a.pause()),t=We(t,s),t.unshift(s)},remove(s){var a;t=We(t,s),(a=t[0])==null||a.resume()}}}function We(t,s){const a=[...t],n=a.indexOf(s);return n!==-1&&a.splice(n,1),a}function oa(t){return t.filter(s=>s.tagName!=="A")}var ia="Portal",dt=i.forwardRef((t,s)=>{var o;const{container:a,...n}=t,[r,l]=i.useState(!1);ee(()=>l(!0),[]);const c=a||r&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return c?qt.createPortal(e.jsx(L.div,{...n,ref:s}),c):null});dt.displayName=ia;function ca(t,s){return i.useReducer((a,n)=>s[a][n]??a,t)}var ie=t=>{const{present:s,children:a}=t,n=da(s),r=typeof a=="function"?a({present:n.isPresent}):i.Children.only(a),l=q(n.ref,ua(r));return typeof a=="function"||n.isPresent?i.cloneElement(r,{ref:l}):null};ie.displayName="Presence";function da(t){const[s,a]=i.useState(),n=i.useRef(null),r=i.useRef(t),l=i.useRef("none"),c=t?"mounted":"unmounted",[o,p]=ca(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return i.useEffect(()=>{const f=ae(n.current);l.current=o==="mounted"?f:"none"},[o]),ee(()=>{const f=n.current,u=r.current;if(u!==t){const g=l.current,x=ae(f);t?p("MOUNT"):x==="none"||(f==null?void 0:f.display)==="none"?p("UNMOUNT"):p(u&&g!==x?"ANIMATION_OUT":"UNMOUNT"),r.current=t}},[t,p]),ee(()=>{if(s){let f;const u=s.ownerDocument.defaultView??window,m=x=>{const d=ae(n.current).includes(x.animationName);if(x.target===s&&d&&(p("ANIMATION_END"),!r.current)){const b=s.style.animationFillMode;s.style.animationFillMode="forwards",f=u.setTimeout(()=>{s.style.animationFillMode==="forwards"&&(s.style.animationFillMode=b)})}},g=x=>{x.target===s&&(l.current=ae(n.current))};return s.addEventListener("animationstart",g),s.addEventListener("animationcancel",m),s.addEventListener("animationend",m),()=>{u.clearTimeout(f),s.removeEventListener("animationstart",g),s.removeEventListener("animationcancel",m),s.removeEventListener("animationend",m)}}else p("ANIMATION_END")},[s,p]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:i.useCallback(f=>{n.current=f?getComputedStyle(f):null,a(f)},[])}}function ae(t){return(t==null?void 0:t.animationName)||"none"}function ua(t){var n,r;let s=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}var ge=0;function ma(){i.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??ze()),document.body.insertAdjacentElement("beforeend",t[1]??ze()),ge++,()=>{ge===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),ge--}},[])}function ze(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ut=Gt(),be=function(){},ce=i.forwardRef(function(t,s){var a=i.useRef(null),n=i.useState({onScrollCapture:be,onWheelCapture:be,onTouchMoveCapture:be}),r=n[0],l=n[1],c=t.forwardProps,o=t.children,p=t.className,f=t.removeScrollBar,u=t.enabled,m=t.shards,g=t.sideCar,x=t.noRelative,h=t.noIsolation,d=t.inert,b=t.allowPinchZoom,y=t.as,v=y===void 0?"div":y,j=t.gapMode,w=Kt(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=g,A=Yt([a,s]),N=Y(Y({},w),r);return i.createElement(i.Fragment,null,u&&i.createElement(P,{sideCar:ut,removeScrollBar:f,shards:m,noRelative:x,noIsolation:h,inert:d,setCallbacks:l,allowPinchZoom:!!b,lockRef:a,gapMode:j}),c?i.cloneElement(i.Children.only(o),Y(Y({},N),{ref:A})):i.createElement(v,Y({},N,{className:p,ref:A}),o))});ce.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ce.classNames={fullWidth:Xt,zeroRight:Zt};var Ne=!1;if(typeof window<"u")try{var ne=Object.defineProperty({},"passive",{get:function(){return Ne=!0,!0}});window.addEventListener("test",ne,ne),window.removeEventListener("test",ne,ne)}catch{Ne=!1}var G=Ne?{passive:!1}:!1,fa=function(t){return t.tagName==="TEXTAREA"},mt=function(t,s){if(!(t instanceof Element))return!1;var a=window.getComputedStyle(t);return a[s]!=="hidden"&&!(a.overflowY===a.overflowX&&!fa(t)&&a[s]==="visible")},xa=function(t){return mt(t,"overflowY")},pa=function(t){return mt(t,"overflowX")},He=function(t,s){var a=s.ownerDocument,n=s;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=ft(t,n);if(r){var l=xt(t,n),c=l[1],o=l[2];if(c>o)return!0}n=n.parentNode}while(n&&n!==a.body);return!1},ha=function(t){var s=t.scrollTop,a=t.scrollHeight,n=t.clientHeight;return[s,a,n]},ga=function(t){var s=t.scrollLeft,a=t.scrollWidth,n=t.clientWidth;return[s,a,n]},ft=function(t,s){return t==="v"?xa(s):pa(s)},xt=function(t,s){return t==="v"?ha(s):ga(s)},ba=function(t,s){return t==="h"&&s==="rtl"?-1:1},ya=function(t,s,a,n,r){var l=ba(t,window.getComputedStyle(s).direction),c=l*n,o=a.target,p=s.contains(o),f=!1,u=c>0,m=0,g=0;do{if(!o)break;var x=xt(t,o),h=x[0],d=x[1],b=x[2],y=d-b-l*h;(h||y)&&ft(t,o)&&(m+=y,g+=h);var v=o.parentNode;o=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!p&&o!==document.body||p&&(s.contains(o)||s===o));return(u&&(Math.abs(m)<1||!r)||!u&&(Math.abs(g)<1||!r))&&(f=!0),f},re=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},qe=function(t){return[t.deltaX,t.deltaY]},Ge=function(t){return t&&"current"in t?t.current:t},va=function(t,s){return t[0]===s[0]&&t[1]===s[1]},Na=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},ja=0,K=[];function wa(t){var s=i.useRef([]),a=i.useRef([0,0]),n=i.useRef(),r=i.useState(ja++)[0],l=i.useState(Jt)[0],c=i.useRef(t);i.useEffect(function(){c.current=t},[t]),i.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(r));var d=Qt([t.lockRef.current],(t.shards||[]).map(Ge),!0).filter(Boolean);return d.forEach(function(b){return b.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),d.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(r))})}}},[t.inert,t.lockRef.current,t.shards]);var o=i.useCallback(function(d,b){if("touches"in d&&d.touches.length===2||d.type==="wheel"&&d.ctrlKey)return!c.current.allowPinchZoom;var y=re(d),v=a.current,j="deltaX"in d?d.deltaX:v[0]-y[0],w="deltaY"in d?d.deltaY:v[1]-y[1],P,A=d.target,N=Math.abs(j)>Math.abs(w)?"h":"v";if("touches"in d&&N==="h"&&A.type==="range")return!1;var _=He(N,A);if(!_)return!0;if(_?P=N:(P=N==="v"?"h":"v",_=He(N,A)),!_)return!1;if(!n.current&&"changedTouches"in d&&(j||w)&&(n.current=P),!P)return!0;var C=n.current||P;return ya(C,b,d,C==="h"?j:w,!0)},[]),p=i.useCallback(function(d){var b=d;if(!(!K.length||K[K.length-1]!==l)){var y="deltaY"in b?qe(b):re(b),v=s.current.filter(function(P){return P.name===b.type&&(P.target===b.target||b.target===P.shadowParent)&&va(P.delta,y)})[0];if(v&&v.should){b.cancelable&&b.preventDefault();return}if(!v){var j=(c.current.shards||[]).map(Ge).filter(Boolean).filter(function(P){return P.contains(b.target)}),w=j.length>0?o(b,j[0]):!c.current.noIsolation;w&&b.cancelable&&b.preventDefault()}}},[]),f=i.useCallback(function(d,b,y,v){var j={name:d,delta:b,target:y,should:v,shadowParent:Ea(y)};s.current.push(j),setTimeout(function(){s.current=s.current.filter(function(w){return w!==j})},1)},[]),u=i.useCallback(function(d){a.current=re(d),n.current=void 0},[]),m=i.useCallback(function(d){f(d.type,qe(d),d.target,o(d,t.lockRef.current))},[]),g=i.useCallback(function(d){f(d.type,re(d),d.target,o(d,t.lockRef.current))},[]);i.useEffect(function(){return K.push(l),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:g}),document.addEventListener("wheel",p,G),document.addEventListener("touchmove",p,G),document.addEventListener("touchstart",u,G),function(){K=K.filter(function(d){return d!==l}),document.removeEventListener("wheel",p,G),document.removeEventListener("touchmove",p,G),document.removeEventListener("touchstart",u,G)}},[]);var x=t.removeScrollBar,h=t.inert;return i.createElement(i.Fragment,null,h?i.createElement(l,{styles:Na(r)}):null,x?i.createElement(es,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Ea(t){for(var s=null;t!==null;)t instanceof ShadowRoot&&(s=t.host,t=t.host),t=t.parentNode;return s}const _a=ts(ut,wa);var pt=i.forwardRef(function(t,s){return i.createElement(ce,Y({},t,{ref:s,sideCar:_a}))});pt.classNames=ce.classNames;var de="Dialog",[ht,an]=Fs(de),[Sa,T]=ht(de),gt=t=>{const{__scopeDialog:s,children:a,open:n,defaultOpen:r,onOpenChange:l,modal:c=!0}=t,o=i.useRef(null),p=i.useRef(null),[f,u]=Is({prop:n,defaultProp:r??!1,onChange:l,caller:de});return e.jsx(Sa,{scope:s,triggerRef:o,contentRef:p,contentId:xe(),titleId:xe(),descriptionId:xe(),open:f,onOpenChange:u,onOpenToggle:i.useCallback(()=>u(m=>!m),[u]),modal:c,children:a})};gt.displayName=de;var bt="DialogTrigger",yt=i.forwardRef((t,s)=>{const{__scopeDialog:a,...n}=t,r=T(bt,a),l=q(s,r.triggerRef);return e.jsx(L.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":Pe(r.open),...n,ref:l,onClick:$(t.onClick,r.onOpenToggle)})});yt.displayName=bt;var Se="DialogPortal",[Ca,vt]=ht(Se,{forceMount:void 0}),Nt=t=>{const{__scopeDialog:s,forceMount:a,children:n,container:r}=t,l=T(Se,s);return e.jsx(Ca,{scope:s,forceMount:a,children:i.Children.map(n,c=>e.jsx(ie,{present:a||l.open,children:e.jsx(dt,{asChild:!0,container:r,children:c})}))})};Nt.displayName=Se;var oe="DialogOverlay",jt=i.forwardRef((t,s)=>{const a=vt(oe,t.__scopeDialog),{forceMount:n=a.forceMount,...r}=t,l=T(oe,t.__scopeDialog);return l.modal?e.jsx(ie,{present:n||l.open,children:e.jsx(Da,{...r,ref:s})}):null});jt.displayName=oe;var Pa=nt("DialogOverlay.RemoveScroll"),Da=i.forwardRef((t,s)=>{const{__scopeDialog:a,...n}=t,r=T(oe,a);return e.jsx(pt,{as:Pa,allowPinchZoom:!0,shards:[r.contentRef],children:e.jsx(L.div,{"data-state":Pe(r.open),...n,ref:s,style:{pointerEvents:"auto",...n.style}})})}),H="DialogContent",wt=i.forwardRef((t,s)=>{const a=vt(H,t.__scopeDialog),{forceMount:n=a.forceMount,...r}=t,l=T(H,t.__scopeDialog);return e.jsx(ie,{present:n||l.open,children:l.modal?e.jsx(Aa,{...r,ref:s}):e.jsx(Ra,{...r,ref:s})})});wt.displayName=H;var Aa=i.forwardRef((t,s)=>{const a=T(H,t.__scopeDialog),n=i.useRef(null),r=q(s,a.contentRef,n);return i.useEffect(()=>{const l=n.current;if(l)return ss(l)},[]),e.jsx(Et,{...t,ref:r,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:$(t.onCloseAutoFocus,l=>{var c;l.preventDefault(),(c=a.triggerRef.current)==null||c.focus()}),onPointerDownOutside:$(t.onPointerDownOutside,l=>{const c=l.detail.originalEvent,o=c.button===0&&c.ctrlKey===!0;(c.button===2||o)&&l.preventDefault()}),onFocusOutside:$(t.onFocusOutside,l=>l.preventDefault())})}),Ra=i.forwardRef((t,s)=>{const a=T(H,t.__scopeDialog),n=i.useRef(!1),r=i.useRef(!1);return e.jsx(Et,{...t,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var c,o;(c=t.onCloseAutoFocus)==null||c.call(t,l),l.defaultPrevented||(n.current||(o=a.triggerRef.current)==null||o.focus(),l.preventDefault()),n.current=!1,r.current=!1},onInteractOutside:l=>{var p,f;(p=t.onInteractOutside)==null||p.call(t,l),l.defaultPrevented||(n.current=!0,l.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const c=l.target;((f=a.triggerRef.current)==null?void 0:f.contains(c))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&r.current&&l.preventDefault()}})}),Et=i.forwardRef((t,s)=>{const{__scopeDialog:a,trapFocus:n,onOpenAutoFocus:r,onCloseAutoFocus:l,...c}=t,o=T(H,a),p=i.useRef(null),f=q(s,p);return ma(),e.jsxs(e.Fragment,{children:[e.jsx(it,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:r,onUnmountAutoFocus:l,children:e.jsx(lt,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":Pe(o.open),...c,ref:f,onDismiss:()=>o.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(Fa,{titleId:o.titleId}),e.jsx(Oa,{contentRef:p,descriptionId:o.descriptionId})]})]})}),Ce="DialogTitle",_t=i.forwardRef((t,s)=>{const{__scopeDialog:a,...n}=t,r=T(Ce,a);return e.jsx(L.h2,{id:r.titleId,...n,ref:s})});_t.displayName=Ce;var St="DialogDescription",Ct=i.forwardRef((t,s)=>{const{__scopeDialog:a,...n}=t,r=T(St,a);return e.jsx(L.p,{id:r.descriptionId,...n,ref:s})});Ct.displayName=St;var Pt="DialogClose",Dt=i.forwardRef((t,s)=>{const{__scopeDialog:a,...n}=t,r=T(Pt,a);return e.jsx(L.button,{type:"button",...n,ref:s,onClick:$(t.onClick,()=>r.onOpenChange(!1))})});Dt.displayName=Pt;function Pe(t){return t?"open":"closed"}var At="DialogTitleWarning",[nn,Rt]=Rs(At,{contentName:H,titleName:Ce,docsSlug:"dialog"}),Fa=({titleId:t})=>{const s=Rt(At),a=`\`${s.contentName}\` requires a \`${s.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${s.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${s.docsSlug}`;return i.useEffect(()=>{t&&(document.getElementById(t)||console.error(a))},[a,t]),null},Ma="DialogDescriptionWarning",Oa=({contentRef:t,descriptionId:s})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Rt(Ma).contentName}}.`;return i.useEffect(()=>{var l;const r=(l=t.current)==null?void 0:l.getAttribute("aria-describedby");s&&r&&(document.getElementById(s)||console.warn(n))},[n,t,s]),null},Ta=gt,ka=yt,Ia=Nt,Ft=jt,Mt=wt,Ot=_t,Tt=Ct,kt=Dt;const La=Ta,Ba=ka,Va=Ia,$a=kt,It=i.forwardRef(({className:t,...s},a)=>e.jsx(Ft,{ref:a,className:U("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s}));It.displayName=Ft.displayName;const Lt=i.forwardRef(({className:t,children:s,...a},n)=>e.jsxs(Va,{children:[e.jsx(It,{}),e.jsxs(Mt,{ref:n,className:U("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...a,children:[s,e.jsxs(kt,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(as,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Lt.displayName=Mt.displayName;const Bt=({className:t,...s})=>e.jsx("div",{className:U("flex flex-col space-y-1.5 text-center sm:text-left",t),...s});Bt.displayName="DialogHeader";const Vt=({className:t,...s})=>e.jsx("div",{className:U("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s});Vt.displayName="DialogFooter";const $t=i.forwardRef(({className:t,...s},a)=>e.jsx(Ot,{ref:a,className:U("text-lg font-semibold leading-none tracking-tight",t),...s}));$t.displayName=Ot.displayName;const Ut=i.forwardRef(({className:t,...s},a)=>e.jsx(Tt,{ref:a,className:U("text-sm text-muted-foreground",t),...s}));Ut.displayName=Tt.displayName;we({name:E().required("Name is required").min(2,"Name must be at least 2 characters"),email:E().required("Email is required").email("Invalid email address"),description:E(),pdfFile:st().required("PDF file is required")});const Ua=[{name:"JavaScript",pattern:/\/JavaScript|\/JS\s*\(|app\.alert|eval\(|document\.|window\./gi,severity:"high"},{name:"OpenAction",pattern:/\/OpenAction/gi,severity:"high"},{name:"AA (Additional Actions)",pattern:/\/AA\s*<</gi,severity:"high"},{name:"Launch Action",pattern:/\/Launch/gi,severity:"high"},{name:"ImportData",pattern:/\/ImportData/gi,severity:"high"},{name:"RichMedia",pattern:/\/RichMedia/gi,severity:"high"},{name:"GoToE",pattern:/\/GoToE/gi,severity:"high"}],Wa=t=>new Promise((s,a)=>{const n=new FileReader;n.onload=r=>{var l;return s((l=r.target)==null?void 0:l.result)},n.onerror=()=>a(new Error("Failed to read file")),n.readAsText(t)}),Ke=t=>({high:3,medium:2,low:1})[t]||0,za=(t={})=>{const s={maxFileSizeMB:10,strictMode:!0,autoValidate:!0,...t},[a,n]=i.useState(null),[r,l]=i.useState(null),[c,o]=i.useState(!1),p=i.useCallback(async m=>{if(o(!0),n(m),!m){const x={isValid:!1,message:"No file provided",threats:[],severity:"high"};return l(x),o(!1),x}if(m.type!=="application/pdf"){const x={isValid:!1,message:`Invalid file type. Expected PDF, got ${m.type||"unknown"}`,threats:[{name:"Invalid File Type",severity:"high",description:"Only PDF files are allowed"}],severity:"high"};return l(x),o(!1),x}const g=s.maxFileSizeMB*1024*1024;if(m.size>g){const x={isValid:!1,message:`File size (${(m.size/1024/1024).toFixed(2)}MB) exceeds the maximum limit of ${s.maxFileSizeMB}MB`,threats:[{name:"File Too Large",severity:"medium",description:`File size exceeds ${s.maxFileSizeMB}MB limit`}],severity:"medium"};return l(x),o(!1),x}try{const x=await Wa(m);if(!x.startsWith("%PDF-")){const y={isValid:!1,message:"Invalid PDF file. File does not have a valid PDF header",threats:[{name:"Invalid PDF Format",severity:"high",description:"File does not contain a valid PDF header"}],severity:"high"};return l(y),o(!1),y}const h=[];let d=null;Ua.forEach(({name:y,pattern:v,severity:j})=>{const w=x.match(v);w&&w.length>0&&(h.push({name:y,severity:j,description:`Found ${w.length} occurrence(s) of ${y}`,matchCount:w.length}),(!d||Ke(j)>Ke(d))&&(d=j))});let b;if(h.length===0)b={isValid:!0,message:"PDF is safe and contains no security threats",threats:[],severity:null};else if(s.strictMode?h.length>0:h.some(v=>v.severity==="high")){const v=h.map(j=>j.name).join(", ");b={isValid:!1,message:"The file appears to be corrupted or contains malicious code. Please upload a valid file.",threats:h,severity:d}}else b={isValid:!0,message:"PDF contains low-risk elements but is approved for upload",threats:h,severity:d};return l(b),o(!1),b}catch(x){const h={isValid:!1,message:`Error reading PDF file: ${x.message}`,threats:[{name:"Read Error",severity:"high",description:x.message}],severity:"high"};return l(h),o(!1),h}},[s.maxFileSizeMB,s.strictMode]),f=i.useCallback(()=>{n(null),l(null),o(!1)},[]),u=i.useCallback(async m=>{var x;const g=(x=m.target.files)==null?void 0:x[0];g&&s.autoValidate?await p(g):g&&n(g)},[p,s.autoValidate]);return{validateFile:p,validation:r,isValidating:c,reset:f,file:a,handleFileChange:u}},Ha=we().shape({doc_name:E().required("Document Name is required"),doc_type_id:E().required("Document Type is required"),doc_path:st().required("Document is required").test("fileRequired","Document is required",t=>t instanceof File||typeof t=="string"&&t!==""),description:E().required("Description is required")});function qa({title:t,id:s,edit:a,refetch:n,getDataById:r}){var y,v,j,w,P,A,N;const{validateFile:l,reset:c}=za({maxFileSizeMB:5,strictMode:!0,autoValidate:!1}),o=Ee({}),p=cs({}),f=i.useRef(null),u=ps(),{data:m}=_e({api:`${(y=Z)==null?void 0:y.updateEmployeeById}/${s}`,key:"getDocumentById",options:{enabled:a}}),g=Je({defaultValues:{doc_type_id:((v=m==null?void 0:m.data)==null?void 0:v.doc_type_id)||"",doc_name:((j=m==null?void 0:m.data)==null?void 0:j.doc_name)||"",doc_path:((w=m==null?void 0:m.data)==null?void 0:w.doc_path)||"",description:((P=m==null?void 0:m.data)==null?void 0:P.description)||""},resolver:Qe(Ha)}),{id:x}=je(),h=async _=>{var D;const C=(D=_.target.files)==null?void 0:D[0];if(C&&(C==null?void 0:C.type)==="application/pdf"){const R=await l(C);R.isValid?(O.success(R.message),c(),g.setValue("doc_path",C)):(O.error(R.message),_.target.value="",g.resetField("doc_path"))}else C&&g.setValue("doc_path",C)},d=async _=>{var C,D,R,F;try{const M=new FormData;if(M.append("emp_id",String(x)),M.append("doc_type_id",_.doc_type_id),M.append("doc_name",_.doc_name),M.append("description",_.description),M.append("file",_==null?void 0:_.doc_path),a&&_)console.log("Editing document with data:",_);else{const B=await o.mutateAsync({api:Z.uploadEmployeeDocument,data:M});(C=B.data)!=null&&C.success?(O.success((D=B==null?void 0:B.data)==null?void 0:D.message),(R=f.current)==null||R.click()):O.error(((F=B.data)==null?void 0:F.message)||"Document not attached successfully"),g.reset({doc_name:"",description:"",doc_path:"",doc_type_id:""})}n()}catch(M){console.log("Submit Error:",M),O.error("An error occurred while processing your request")}};i.useEffect(()=>{var _,C,D,R;a&&m?g.reset({doc_type_id:(_=m==null?void 0:m.data)==null?void 0:_.doc_type_id,doc_name:(C=m==null?void 0:m.data)==null?void 0:C.doc_name,doc_path:(D=m==null?void 0:m.data)==null?void 0:D.doc_path,description:((R=m==null?void 0:m.data)==null?void 0:R.description)??""}):g.reset({doc_type_id:"",doc_name:"",doc_path:"",description:""})},[a,m]);const b=g.formState.isSubmitting||p.isPending;return e.jsxs(La,{children:[e.jsx(Ba,{asChild:!0,children:e.jsxs(ye,{type:"button",className:"w-full bg-blue-600 hover:bg-blue-700 sm:w-auto",children:[e.jsx(_s,{className:"mr-2 h-4 w-4"}),"Add New Document"]})}),e.jsx(Lt,{className:"sm:max-w-[425px]",children:e.jsxs(et,{methods:g,onSubmit:g.handleSubmit(d),children:[e.jsxs(Bt,{children:[e.jsx($t,{children:t}),e.jsx(Ut,{})]}),e.jsxs("div",{className:"mt-5 grid grid-cols-1 gap-x-2 gap-y-4",children:[e.jsx("div",{children:e.jsx(os,{label:"Select Document",name:"doc_type_id",selectedText:"doc_name",data:((N=(A=u==null?void 0:u.data)==null?void 0:A.data)==null?void 0:N.map(_=>({label:String(_.doc_name),value:String(_.id)})))||[]})}),e.jsx("div",{children:e.jsx(Cs,{label:"Upload Document",name:"doc_path",accept:".pdf,.doc,.docx,.png,.jpg,.jpeg",onChange:h,placeholder:"Upload your document"})}),e.jsx("div",{children:e.jsx(S,{label:`${(g==null?void 0:g.watch("doc_name"))||"Document"} No (Optional)`,name:"description",placeholder:`Enter ${(g==null?void 0:g.watch("doc_name"))||"Document"} No`,inputValidation:["removeDoubleSpace","removeSpecialCharacterExceptSpace"]})}),e.jsx(hs,{})]}),e.jsxs(Vt,{className:"mt-5 flex justify-between",children:[e.jsx($a,{asChild:!0,children:e.jsx(ye,{variant:"outline",ref:f,children:"Cancel"})}),e.jsx(tt,{type:"submit",isLoading:b,children:"Save changes"})]})]})})]})}function Ga({id:t,getDataById:s}){var u,m,g,x;const[a,n]=i.useState(""),[r,l]=i.useState(!1),{id:c}=je(),o=_e({api:`${Z.getEmployeeDocuments}/${c}`,key:"getEmployeeDocuments",value:[],options:{enabled:!0}}),p=Ee({}),f=async h=>{As("Are you sure?","Please confirm",async()=>{var d,b,y;try{const v=await p.mutateAsync({api:`${Z.deleteEmployeeDocument}`,data:{id:ns(h.toString())}});(d=v==null?void 0:v.data)!=null&&d.success?(O.success(((b=v==null?void 0:v.data)==null?void 0:b.message)||"Deleted successfully"),o.refetch()):O.error(((y=v==null?void 0:v.data)==null?void 0:y.message)||"Failed to delete")}catch(v){O.error("Error deleting item"),console.error("Delete Error:",v)}})};return e.jsx("main",{className:"min-h-screen bg-gray-50/50",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsx("h1",{className:"text-2xl font-bold tracking-tight text-gray-900",children:"Employee Attached Documents"})}),e.jsx(qa,{title:r?"Edit Document":"Attach Document",id:t,edit:r,setEdit:l,refetch:o.refetch,getDataById:s})]}),e.jsx("div",{className:"grid grid-cols-1 gap-6",children:o.isLoading?e.jsx(me,{children:e.jsx(fe,{className:"flex h-32 items-center justify-center",children:e.jsx(gs,{})})}):e.jsxs(e.Fragment,{children:[(m=(u=o==null?void 0:o.data)==null?void 0:u.data)==null?void 0:m.map(h=>e.jsxs(me,{className:"border border-gray-200 transition-all duration-200 hover:shadow-lg",children:[e.jsx(bs,{className:"pb-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(le,{className:"h-6 w-6 text-blue-500"}),e.jsxs("div",{children:[e.jsx(ys,{className:"text-lg font-semibold text-gray-900",children:(h==null?void 0:h.doc_name)||"Document"}),e.jsx(vs,{className:"mt-1 text-sm text-gray-600",children:h==null?void 0:h.description})]})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(Q,{className:"h-4 w-4"}),e.jsx("div",{className:"",children:Ns(h==null?void 0:h.created_at).format("DD-MM-YYYY")}),e.jsx("div",{className:"ml-auto flex justify-end",children:e.jsx(ye,{size:"sm",variant:"ghost",className:"flex h-7 w-7 items-center p-0 text-red-500 hover:bg-red-50 hover:text-red-700",onClick:()=>f(h==null?void 0:h.id),children:e.jsx(Ss,{className:"h-3.5 w-3.5"})})})]})})]})}),e.jsx(fe,{className:"pt-0",children:(h==null?void 0:h.doc_path)&&e.jsxs("div",{className:"rounded-lg border bg-gray-50 p-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[e.jsx(Es,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:"Document Path:"})]}),e.jsx("a",{href:h.doc_path,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-700 hover:underline",children:"View Document"})]}),e.jsx("p",{className:"mt-1 break-all text-xs text-gray-500",children:h.doc_path})]})})]},h==null?void 0:h.id)),((x=(g=o==null?void 0:o.data)==null?void 0:g.data)==null?void 0:x.length)===0&&e.jsx(me,{className:"py-12 text-center",children:e.jsxs(fe,{children:[e.jsx(le,{className:"mx-auto mb-4 h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mb-2 text-lg font-medium text-gray-900",children:"No documents found"}),e.jsx("p",{className:"mb-4 text-gray-600",children:a?"Try adjusting your search criteria":"Upload your first document to get started"})]})})]})})]})})}const rn=()=>{var p,f,u,m,g;const[t,s]=i.useState("basic"),{id:a}=je(),n=[{name:"Sunita Kumar",relation:"Spouse",age:"38",occupation:"Teacher"},{name:"Amit Kumar",relation:"Son",age:"12",occupation:"Student"},{name:"Priya Kumar",relation:"Daughter",age:"8",occupation:"Student"}],r={basicSalary:"45,000",hra:"18,000",da:"13,500",grossSalary:"76,500",pf:"5,400",tax:"7,650",netSalary:"63,450"},l=[{month:"November 2024",present:20,absent:0,leave:2,total:22},{month:"October 2024",present:23,absent:1,leave:1,total:25},{month:"September 2024",present:22,absent:0,leave:0,total:22},{month:"August 2024",present:24,absent:0,leave:1,total:25}],c=[{id:"basic",label:"Basic Details",icon:X},{id:"document",label:"Attached Documents",icon:le},{id:"family",label:"Family Details",icon:J},{id:"salary",label:"Salary Details",icon:Oe},{id:"attendance",label:"Attendance",icon:Q}],o=_e({api:`${(p=Z)==null?void 0:p.getEmployeeById}/${a}`,key:"getEmployeeById",value:[a],options:{enabled:!!a}});return e.jsx(ls,{title:"Employee Management",children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-gray-100",children:e.jsx("div",{className:" py-4",children:e.jsxs("div",{className:"overflow-hidden rounded-lg bg-white shadow-xl",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-4 text-white",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-white",children:e.jsx(X,{size:32,className:"text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold",children:(u=(f=o==null?void 0:o.data)==null?void 0:f.data)==null?void 0:u.emp_name}),e.jsxs("p",{className:"text-blue-100",children:["ID: ",(g=(m=o==null?void 0:o.data)==null?void 0:m.data)==null?void 0:g.emp_code]})]})]})}),e.jsx("div",{className:"border-b border-gray-200 bg-gray-50",children:e.jsx("div",{className:"flex overflow-x-auto",children:c.map(x=>{const h=x.icon;return e.jsxs("button",{onClick:()=>s(x.id),className:`flex items-center gap-2 whitespace-nowrap px-6 py-4 font-semibold transition-all ${t===x.id?"border-b-4 border-blue-700 bg-white text-blue-700":"text-gray-600 hover:bg-gray-100 hover:text-blue-600"}`,children:[e.jsx(h,{size:20}),x.label]},x.id)})})}),e.jsxs("div",{className:"p-8",children:[t==="basic"&&e.jsx(Ds,{id:a,getDataById:o}),t==="document"&&e.jsx(Ga,{id:a,getDataById:o}),t==="family"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[e.jsx(J,{className:"text-blue-600",size:28}),e.jsx("h3",{className:"text-2xl font-semibold text-gray-800",children:"Family Members"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-blue-600 text-white",children:[e.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"S.No."}),e.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Name"}),e.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Relation"}),e.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Age"}),e.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Occupation"})]})}),e.jsx("tbody",{children:n.map((x,h)=>e.jsxs("tr",{className:h%2===0?"bg-gray-50":"bg-white",children:[e.jsx("td",{className:"border-b border-gray-200 px-6 py-4",children:h+1}),e.jsx("td",{className:"border-b border-gray-200 px-6 py-4 font-medium",children:x.name}),e.jsx("td",{className:"border-b border-gray-200 px-6 py-4",children:x.relation}),e.jsx("td",{className:"border-b border-gray-200 px-6 py-4",children:x.age}),e.jsx("td",{className:"border-b border-gray-200 px-6 py-4",children:x.occupation})]},h))})]})}),e.jsx("div",{className:"mt-6 rounded-lg border border-blue-200 bg-blue-50 p-4",children:e.jsxs("p",{className:"text-blue-800",children:[e.jsx("strong",{children:"Total Family Members:"})," ",n.length]})})]}),t==="salary"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[e.jsx(Oe,{className:"text-blue-600",size:28}),e.jsx("h3",{className:"text-2xl font-semibold text-gray-800",children:"Salary Breakdown"})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"rounded-lg border-2 border-green-200 bg-green-50 p-6",children:[e.jsxs("h4",{className:"mb-4 flex items-center gap-2 text-xl font-semibold text-green-800",children:[e.jsx(ws,{size:24}),"Earnings"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-green-200 py-2",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Basic Salary"}),e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:r.basicSalary})]}),e.jsxs("div",{className:"flex items-center justify-between border-b border-green-200 py-2",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"House Rent Allowance (HRA)"}),e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:r.hra})]}),e.jsxs("div",{className:"flex items-center justify-between border-b border-green-200 py-2",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Dearness Allowance (DA)"}),e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:r.da})]}),e.jsxs("div",{className:"mt-4 flex items-center justify-between rounded-lg bg-green-100 px-3 py-3",children:[e.jsx("span",{className:"font-bold text-green-900",children:"Gross Salary"}),e.jsx("span",{className:"text-xl font-bold text-green-900",children:r.grossSalary})]})]})]}),e.jsxs("div",{className:"rounded-lg border-2 border-red-200 bg-red-50 p-6",children:[e.jsxs("h4",{className:"mb-4 flex items-center gap-2 text-xl font-semibold text-red-800",children:[e.jsx(le,{size:24}),"Deductions"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-red-200 py-2",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Provident Fund (PF)"}),e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:r.pf})]}),e.jsxs("div",{className:"flex items-center justify-between border-b border-red-200 py-2",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Income Tax (TDS)"}),e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:r.tax})]}),e.jsx("div",{className:"py-3"}),e.jsxs("div",{className:"mt-4 flex items-center justify-between rounded-lg bg-blue-100 px-3 py-3",children:[e.jsx("span",{className:"font-bold text-blue-900",children:"Net Salary"}),e.jsx("span",{className:"text-xl font-bold text-blue-900",children:r.netSalary})]})]})]})]}),e.jsx("div",{className:"mt-6 rounded-lg border border-yellow-300 bg-yellow-50 p-4",children:e.jsxs("p",{className:"text-sm text-yellow-900",children:[e.jsx("strong",{children:"Note:"})," Salary details shown are for the current month. For historical records, please contact the Accounts Department."]})})]}),t==="attendance"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[e.jsx(Q,{className:"text-blue-600",size:28}),e.jsx("h3",{className:"text-2xl font-semibold text-gray-800",children:"Attendance Records"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-blue-600 text-white",children:[e.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Month"}),e.jsx("th",{className:"px-6 py-4 text-center font-semibold",children:"Present"}),e.jsx("th",{className:"px-6 py-4 text-center font-semibold",children:"Absent"}),e.jsx("th",{className:"px-6 py-4 text-center font-semibold",children:"Leave"}),e.jsx("th",{className:"px-6 py-4 text-center font-semibold",children:"Total Days"}),e.jsx("th",{className:"px-6 py-4 text-center font-semibold",children:"Attendance %"})]})}),e.jsx("tbody",{children:l.map((x,h)=>{const d=(x.present/x.total*100).toFixed(1);return e.jsxs("tr",{className:h%2===0?"bg-gray-50":"bg-white",children:[e.jsx("td",{className:"border-b border-gray-200 px-6 py-4 font-medium",children:x.month}),e.jsx("td",{className:"border-b border-gray-200 px-6 py-4 text-center",children:e.jsx("span",{className:"rounded-full bg-green-100 px-3 py-1 font-semibold text-green-800",children:x.present})}),e.jsx("td",{className:"border-b border-gray-200 px-6 py-4 text-center",children:e.jsx("span",{className:"rounded-full bg-red-100 px-3 py-1 font-semibold text-red-800",children:x.absent})}),e.jsx("td",{className:"border-b border-gray-200 px-6 py-4 text-center",children:e.jsx("span",{className:"rounded-full bg-yellow-100 px-3 py-1 font-semibold text-yellow-800",children:x.leave})}),e.jsx("td",{className:"border-b border-gray-200 px-6 py-4 text-center font-semibold",children:x.total}),e.jsx("td",{className:"border-b border-gray-200 px-6 py-4 text-center",children:e.jsxs("span",{className:`rounded-full px-3 py-1 font-semibold ${parseFloat(d)>=90?"bg-green-100 text-green-800":parseFloat(d)>=75?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[d,"%"]})})]},h)})})]})}),e.jsxs("div",{className:"mt-6 grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4 text-center",children:[e.jsx("p",{className:"mb-1 text-sm font-semibold text-green-600",children:"Average Attendance"}),e.jsx("p",{className:"text-3xl font-bold text-green-700",children:"94.6%"})]}),e.jsxs("div",{className:"rounded-lg border border-blue-200 bg-blue-50 p-4 text-center",children:[e.jsx("p",{className:"mb-1 text-sm font-semibold text-blue-600",children:"Total Present Days"}),e.jsx("p",{className:"text-3xl font-bold text-blue-700",children:"89"})]}),e.jsxs("div",{className:"rounded-lg border border-yellow-200 bg-yellow-50 p-4 text-center",children:[e.jsx("p",{className:"mb-1 text-sm font-semibold text-yellow-600",children:"Total Leave Taken"}),e.jsx("p",{className:"text-3xl font-bold text-yellow-700",children:"4"})]})]})]})]})]})})})})};export{rn as default};
