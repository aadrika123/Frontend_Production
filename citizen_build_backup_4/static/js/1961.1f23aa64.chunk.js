"use strict";(self.webpackChunkcitizen_landing=self.webpackChunkcitizen_landing||[]).push([[1961],{81961:function(e,t,o){o.r(t);var a=o(29439),n=o(72791),i=(o(83757),o(97948)),s=o.n(i),r=(o(60285),o(48503),o(7058),o(23178)),l=o(71507),d=(o(99554),o(800),o(70894)),c=o(57689),u=o(75985),h=o(79139),g=o(93877),p=o(64491),x=o(25229),v=o(93157),w=o(32612),m=o(40483),f=o(80184),b={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"white",border:"none"}};s().setAppElement("#root"),t.default=function(e){var t=(0,n.useState)(!1),o=(0,a.Z)(t,2),i=(o[0],o[1],(0,n.useState)(!1)),j=(0,a.Z)(i,2),Z=(j[0],j[1],(0,r.Z)()),S=Z.api_postHoardingRenewList,y=Z.api_archivedApplication,N=(0,n.useState)(),A=(0,a.Z)(N,2),C=A[0],_=(A[1],(0,n.useState)(!1)),k=(0,a.Z)(_,2),E=(k[0],k[1],(0,n.useState)()),I=(0,a.Z)(E,2),L=I[0],P=I[1],D=(0,n.useState)(),F=(0,a.Z)(D,2),H=F[0],R=F[1],T=(0,n.useState)(!1),O=(0,a.Z)(T,2),V=(O[0],O[1]),z=(0,n.useState)(!1),M=(0,a.Z)(z,2),q=M[0],U=(M[1],(0,n.useState)(!1)),B=(0,a.Z)(U,2),W=B[0],G=B[1],J=function(){return G(!1)},K=(0,n.useState)(),Q=(0,a.Z)(K,2),X=(Q[0],Q[1],(0,n.useState)(!1)),Y=(0,a.Z)(X,2),$=Y[0],ee=Y[1],te=(0,n.useState)(!1),oe=(0,a.Z)(te,2),ae=oe[0],ne=oe[1],ie=(0,n.useState)(!1),se=(0,a.Z)(ie,2),re=se[0],le=se[1],de=(0,n.useState)(0),ce=(0,a.Z)(de,2),ue=ce[0],he=ce[1],ge=(0,n.useState)(1),pe=(0,a.Z)(ge,2),xe=pe[0],ve=pe[1],we=(0,n.useState)(0),me=(0,a.Z)(we,2),fe=me[0],be=me[1],je=(0,n.useState)(10),Ze=(0,a.Z)(je,2),Se=Ze[0],ye=Ze[1],Ne=(0,n.useState)(""),Ae=(0,a.Z)(Ne,2),Ce=Ae[0],_e=Ae[1],ke=(0,n.useState)(!1),Ee=(0,a.Z)(ke,2),Ie=Ee[0],Le=Ee[1],Pe=(0,c.UO)().id;console.log("id im param",Pe);var De=function(e,t){u.Am.dismiss(),"success"==t&&u.Am.success(e),"error"==t&&u.Am.error(e)},Fe=(0,c.s0)(),He=[{Header:"#",Cell:function(e){var t=e.row;return(0,f.jsx)("div",{className:"pr-2",children:t.index+1})}},{Header:"Application No",accessor:"application_no"},{Header:"Apply Date.",accessor:"application_date"},{Header:"Action",accessor:"id",Cell:function(e){var t=e.cell;return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("div",{children:[(0,f.jsx)("button",{onClick:function(){return Re(t.row.values.id,"Approve")},className:"bg-indigo-500 px-3 py-1 rounded leading-5 shadow-lg hover:shadow-xl hover:bg-indigo-700 \r hover:text-white text-white",children:"View"}),1==t.row.original.renew_option&&(0,f.jsx)("button",{onClick:function(){return Fe("/hoarding/".concat(Pe,"/").concat(t.row.values.id,"/renew"))},className:"bg-indigo-500 px-3 py-1 ml-2 rounded leading-5 shadow-lg hover:shadow-xl hover:bg-indigo-700 \r hover:text-white text-white",children:"Renew"}),"Expired"==t.row.original.renew_option&&(0,f.jsx)("button",{className:"bg-indigo-500 px-3 py-1 ml-2 rounded leading-5 shadow-lg hover:shadow-xl hover:bg-indigo-700 \r hover:text-white text-white",disabled:!0,children:"Expired"}),"Expired"==t.row.original.renew_option&&(0,f.jsx)(h.Tooltip,{className:"bg-gray-300 text-xs text-gray-900",content:"Archived",children:(0,f.jsx)("button",{onClick:function(){return Ve(t.row.values.id)},className:"bg-indigo-500 float-right px-2 py-1 ml-2 rounded leading-5 shadow-lg hover:shadow-xl hover:bg-indigo-700 \r hover:text-white text-white",children:(0,f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-5 h-5",children:(0,f.jsx)("path",{"fill-rule":"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.006z","clip-rule":"evenodd"})})})})]})})}}],Re=function(e,t){console.log("..............application id..............",e),console.log("..............application type..............",t),R(e),P(t),G(!0)};(0,n.useEffect)((function(){Te(xe,Se,Ce)}),[xe,Ce,Se]);var Te=function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";Le(!0),le(!0),v.Z.post(S,{page:e,perPage:t,key:o},(0,w.Z)()).then((function(e){var t,o,a,n,i,s;ee(null===(t=e.data)||void 0===t||null===(o=t.data)||void 0===o?void 0:o.data),ne(!0),le(!1),he(null===(a=e.data)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.total),be(null===(i=e.data)||void 0===i||null===(s=i.data)||void 0===s?void 0:s.last_page)})).catch((function(e){console.log("Error while fetching Filter Data",e),ne(!1),le(!1)})),setTimeout((function(){Le(!1)}),[500])},Oe={totalDataCount:ue,currentPageIndex:xe,setcurrentPageIndex:ve,pageLength:Se,setpageLength:ye,lastPageIndex:fe,setlastPageIndex:be,fetchInboxList:Te,searchValue:Ce,setsearchValue:_e,refreshStatus:Ie};console.log("application renew list",C);var Ve=function(e){var t={applicationId:e};console.log("request body in renew...12",e),v.Z.post("".concat(y),t,(0,l.Z)()).then((function(e){console.log("archived response",e.data),De("Archived successfully","success")})).catch((function(e){console.log("errorrr.... ",e),De("failed to archived","error")}))};return re?(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(g.Z,{})}):q?(0,f.jsx)(p.Z,{children:(0,f.jsx)(x.Z,{title:"Server is busy",desc:"Server is too busy to respond. Please try again later.",buttonText:"View Dashboard",buttonUrl:"/propertyDashboard"})}):(console.log("application data in renew list 12",C),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(u.Ix,{position:"top-right",autoClose:2e3}),(0,f.jsx)("div",{className:"container bg-white text-gray-600 h-screen mx-auto mt-12",children:(0,f.jsxs)("div",{children:[(0,f.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-12 lg:grid-cols-12 gap-4 container mx-auto pt-4 ",children:(0,f.jsx)("div",{className:"col-span-12 p-2",children:(0,f.jsxs)("div",{className:"flex flex-row bg-white mb-4 rounded leading-5 shadow-md shadow-violet-100 ",children:[(0,f.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/3288/3288006.png",className:"h-10 ml-3 mt-2"}),(0,f.jsx)("h1",{className:"text-xl text-gray-700 font-semibold p-4",children:"RENEW APPLICATIONS"})]})})}),(0,f.jsxs)("div",{className:"grid grid-cols-1 p-2",children:[ae&&0!=(null===$||void 0===$?void 0:$.length)&&(0,f.jsx)(m.Z,{columns:He,dataList:$,values:Oe}),ae&&0==(null===$||void 0===$?void 0:$.length)&&(0,f.jsx)("div",{className:"text-xl font-semibold text-red-400 text-center",children:"Data Not Found"})]}),(0,f.jsx)("div",{className:"grid grid-cols-1",children:(0,f.jsx)(s(),{isOpen:W,onAfterOpen:function(){},onRequestClose:J,style:b,contentLabel:"Example Modal",children:(0,f.jsx)("div",{class:" rounded-lg shadow-xl border-2 border-gray-50 mx-auto px-0 ",style:{width:"80vw",height:"100%"},children:(0,f.jsx)("div",{className:"h-[44rem] bg-white overflow-y-auto",children:(0,f.jsx)(d.Z,{data:H,applicationType:L,showLoader:function(e){V(e)},closeModal:J})})})})})]})})]}))}}}]);
//# sourceMappingURL=1961.1f23aa64.chunk.js.map