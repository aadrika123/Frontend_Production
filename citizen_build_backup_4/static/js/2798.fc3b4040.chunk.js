"use strict";(self.webpackChunkcitizen_landing=self.webpackChunkcitizen_landing||[]).push([[2798],{29710:function(e,t,n){n.d(t,{Z:function(){return v}});var o=n(29439),i=n(72791),l=n(97948),a=n.n(l),s=n(55705),d=n(79139),r=n(23178),c=n(71507),u=n(70348),g=n(93157),m=n(80184),x={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"gray",border:"none"}};a().setAppElement("#root");var p=function(e){var t,n,l,p,v,h,f,j,b,w,N,y,Z,S,k,C,P,I,_,A,D,R,F,L,E,H,O,T=" text-xs  text-gray-600",V=(0,r.Z)().api_postHoardingReuploadedDocument,M=(0,i.useState)(),U=(0,o.Z)(M,2),q=U[0],z=U[1],G=(0,i.useState)(""),B=(0,o.Z)(G,2),J=B[0],K=B[1],Q=(0,i.useState)(!1),W=(0,o.Z)(Q,2),X=W[0],Y=W[1],$=(0,i.useState)(),ee=(0,o.Z)($,2),te=ee[0],ne=ee[1],oe=function(e){K(e),Y(!0)},ie={image:"",id:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.id},le=(0,s.TA)({initialValues:ie,onSubmit:function(e){console.log("image file",e),z(e),g.Z.post("".concat(V),e,(0,c.Z)()).then((function(e){console.log("re-uploaded document",e.data.data)})).catch((function(e){console.log("errorrr.... ",e)}))}}),ae=function(e){le.setFieldValue("image",e);var t=new FileReader;t.onloadend=function(){K(t.result)},t.readAsDataURL(e),console.log("file checker ",J)};return console.log("reupload doc ",e.data),(0,m.jsxs)("div",{children:[(0,m.jsx)("form",{onSubmit:le.handleSubmit,onChange:function(e){var t=e.target.name,n=(e.target.value,e.target.files[0]);ne(n),console.log("image file",te),"image"==t&&ae(n)},encType:"multipart/form-data",children:(0,m.jsxs)("div",{class:"grid grid-cols-1 md:grid-cols-5 lg:grid-cols-5 gap-1 ",children:[(0,m.jsx)("div",{className:"px-1",children:(0,m.jsx)("div",{className:"",children:(0,m.jsxs)("span",{className:"".concat(T),children:[" ",null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.doc_val," "]})})}),(0,m.jsx)("div",{className:"px-1",children:(0,m.jsxs)("div",{className:"flex items-center justify-center font-semibold text-sm",children:[(0,m.jsx)("div",{onClick:function(){return oe(J)},children:(0,m.jsx)("img",{src:"".concat(u.Z,"/").concat(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.doc_path),alt:"Preview Image",className:"".concat(T," w-8")})}),2==(null===e||void 0===e||null===(p=e.data)||void 0===p?void 0:p.verify_status)&&(0,m.jsx)("div",{children:null==(null===q||void 0===q||null===(v=q.image)||void 0===v?void 0:v.name)||void 0==(null===q||void 0===q||null===(h=q.image)||void 0===h?void 0:h.name)||""==(null===q||void 0===q||null===(f=q.image)||void 0===f?void 0:f.name)?(0,m.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/4194/4194756.png",alt:"Preview Image",className:"".concat(T," w-8")}):(0,m.jsx)(m.Fragment,{children:"pdf"==(null===q||void 0===q||null===(j=q.image)||void 0===j||null===(b=j.name)||void 0===b?void 0:b.split(".").pop())||"jpg"==(null===q||void 0===q||null===(w=q.image)||void 0===w||null===(N=w.name)||void 0===N?void 0:N.split(".").pop())||"jpeg"==(null===q||void 0===q||null===(y=q.image)||void 0===y||null===(Z=y.name)||void 0===Z?void 0:Z.split(".").pop())||"png"==(null===q||void 0===q||null===(S=q.image)||void 0===S||null===(k=S.name)||void 0===k?void 0:k.split(".").pop())?(0,m.jsxs)("div",{onClick:function(){return oe(J)},children:["pdf"==(null===q||void 0===q||null===(C=q.image)||void 0===C||null===(P=C.name)||void 0===P?void 0:P.split(".").pop())&&(0,m.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/3997/3997593.png",alt:"Preview Image",className:"".concat(T," w-8")}),"jpg"==(null===q||void 0===q||null===(I=q.image)||void 0===I||null===(_=I.name)||void 0===_?void 0:_.split(".").pop())&&(0,m.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/5719/5719824.png",alt:"Preview Image",className:"".concat(T," w-8")}),"jpeg"==(null===q||void 0===q||null===(A=q.image)||void 0===A||null===(D=A.name)||void 0===D?void 0:D.split(".").pop())&&(0,m.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/5719/5719824.png",alt:"Preview Image",className:"".concat(T," w-8")}),"png"==(null===q||void 0===q||null===(R=q.image)||void 0===R||null===(F=R.name)||void 0===F?void 0:F.split(".").pop())&&(0,m.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/5719/5719894.png",alt:"Preview Image",className:"".concat(T," w-8")})]}):(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(d.Tooltip,{className:"bg-gray-500 text-xs text-white",content:"Does not support this file extension",children:(0,m.jsx)("div",{children:(0,m.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/8316/8316660.png",className:"".concat(T," w-8 mx-auto")})})})})})})]})}),(0,m.jsx)("div",{className:"px-1",children:(0,m.jsx)("div",{className:"flex items-center justify-center font-semibold text-sm",children:(0,m.jsx)("div",{className:"form-group col-span-4 md:col-span-1 md:px-0",children:(0,m.jsx)("input",{type:"file",name:"image",accept:".png, .jpg, .jpeg, .pdf",className:"form-control block w-full px-3 py-1.5 mb-3 text-base md:text-xs font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none cursor-pointer shadow-md w-36",onChange:le.handleChange})})})}),(0,m.jsx)("div",{className:"px-1",children:(0,m.jsx)("div",{className:"flex items-center justify-center font-semibold text-sm",children:(0,m.jsxs)("div",{className:"form-group col-span-4 md:col-span-1 md:px-0 mt-2",children:[0==(null===e||void 0===e||null===(L=e.data)||void 0===L?void 0:L.verify_status)&&(0,m.jsx)("h1",{className:"bg-amber-200 text-center  w-28 text-xs rounded-full text-amber-800 shadow-md",children:"Pending"}),1==(null===e||void 0===e||null===(E=e.data)||void 0===E?void 0:E.verify_status)&&(0,m.jsx)("h1",{className:"bg-green-200 text-center w-28 text-xs rounded-full text-green-800 shadow-md",children:"Verified"}),2==(null===e||void 0===e||null===(H=e.data)||void 0===H?void 0:H.verify_status)&&(0,m.jsx)("h1",{className:"bg-red-200 text-center w-28 text-xs rounded-full text-red-800 shadow-md ",children:"Rejected"})]})})}),(0,m.jsx)("div",{className:"px-1",children:(0,m.jsx)("div",{className:"flex items-center justify-center font-semibold text-sm mt-2",children:2==(null===e||void 0===e||null===(O=e.data)||void 0===O?void 0:O.verify_status)?(0,m.jsx)("div",{className:"form-group col-span-4 md:col-span-1 md:px-0",children:null==(null===q||void 0===q?void 0:q.image)||void 0==(null===q||void 0===q?void 0:q.image)||""==(null===q||void 0===q?void 0:q.image)?(0,m.jsx)("button",{type:"submit",className:"py-0 px-2 text-[0.7rem] inline-block text-center  rounded leading-5 text-gray-100 bg-indigo-500 border border-indigo-500 hover:text-white hover:bg-indigo-600 hover:ring-0 hover:border-indigo-600 focus:bg-indigo-600 focus:border-indigo-600 focus:outline-none focus:ring-0",children:(0,m.jsx)("span",{className:"text-xs",children:"upload"})}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("p",{className:"text-xs text-teal-500 font-bold font-BreeSerif",children:" Uploaded..."}),(0,m.jsx)("button",{type:"submit",className:"py-0 px-2 text-[0.7rem] inline-block text-center  rounded leading-5 text-gray-100 bg-indigo-500 border border-indigo-500 hover:text-white hover:bg-indigo-600 hover:ring-0 hover:border-indigo-600 focus:bg-indigo-600 focus:border-indigo-600 focus:outline-none focus:ring-0",children:(0,m.jsx)("span",{className:"text-xs",children:"re-upload"})})]})}):(0,m.jsx)("button",{type:"submit",className:"py-0 px-2 text-[0.7rem] inline-block text-center  rounded leading-5 text-gray-100 bg-green-500 border border-green-500 hover:text-white focus:outline-none focus:ring-0",disabled:!0,children:(0,m.jsx)("span",{className:"text-xs",children:"uploaded"})})})})]})}),(0,m.jsx)(a(),{isOpen:X,onAfterOpen:function(){},onRequestClose:function(){return Y(!1)},style:x,contentLabel:"Example Modal",children:(0,m.jsx)("div",{class:" rounded-lg shadow-xl border-2 border-gray-50 mx-auto px-0",style:{width:"40vw",height:"80vh"},children:(0,m.jsx)("iframe",{className:"w-full h-full",src:J,frameborder:"1",children:(0,m.jsx)("img",{className:"",src:J})})})})]})};var v=function(e){var t=(0,r.Z)().api_getHoardingReuploadDoc,n=(0,i.useState)(),l=(0,o.Z)(n,2),a=l[0],s=l[1];(0,i.useEffect)((function(){d()}),[]);var d=function(){var n={applicationId:null===e||void 0===e?void 0:e.data};g.Z.post("".concat(t),n,(0,c.Z)()).then((function(e){console.log("re-uploaded document list",e.data.data),s(e.data.data)})).catch((function(e){console.log("errorrr.... ",e)}))};return console.log("application id",e.data),console.log("workflow id 1",e.workflowId),(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("div",{className:" top-4 ml-4 ",children:(0,m.jsxs)("div",{className:" grid grid-cols-1 md:grid-cols-12 lg:grid-cols-12 gap-4 container mx-auto pb-8 p-2 mt-12",children:[(0,m.jsx)("div",{className:"col-span-12",children:(0,m.jsx)("h1",{className:"text-xl",children:"Upload Rejected Document"})}),(0,m.jsx)("div",{className:"col-span-12 border border-dashed border-violet-800 ",children:(0,m.jsxs)("div",{className:"p-1",children:[(0,m.jsxs)("div",{class:"grid grid-cols-1 md:grid-cols-5 lg:grid-cols-5 gap-1 p-1 bg-white",children:[(0,m.jsx)("div",{children:(0,m.jsx)("h1",{className:"text-left  text-lg ml-12 text-gray-600 font-sans font-semibold ",children:"Document"})}),(0,m.jsx)("div",{children:(0,m.jsx)("h1",{className:"text-center text-lg ml-4 text-gray-600 font-sans font-semibold",children:"Preview"})}),(0,m.jsx)("div",{children:(0,m.jsx)("h1",{className:"text-center text-lg ml-4 text-gray-600 font-sans font-semibold",children:"Upload"})}),(0,m.jsx)("div",{children:(0,m.jsx)("h1",{className:"text-center text-lg ml-4 text-gray-600 font-sans font-semibold",children:"Status"})}),(0,m.jsx)("div",{children:(0,m.jsx)("h1",{className:"text-center text-lg ml-4 text-gray-600 font-sans font-semibold",children:"Action"})})]}),(0,m.jsx)("div",{className:"mt-2",children:null===a||void 0===a?void 0:a.map((function(e,t){return(0,m.jsx)(p,{data:e,mykey:t})}))})]})})]})})})}},22798:function(e,t,n){n.r(t);var o=n(29439),i=n(72791),l=(n(83757),n(97948)),a=n.n(l),s=n(70894),d=(n(60285),n(48503),n(7058),n(23178)),r=(n(800),n(99554),n(29710)),c=n(93877),u=n(64491),g=n(25229),m=n(93157),x=n(32612),p=n(40483),v=n(80184),h={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"white",border:"none"}};a().setAppElement("#root"),t.default=function(e){var t=(0,i.useState)(!1),n=(0,o.Z)(t,2),l=(n[0],n[1],(0,i.useState)(!1)),f=(0,o.Z)(l,2),j=(f[0],f[1],(0,d.Z)().api_getHoardingPendingApplicationList),b=(0,i.useState)(),w=(0,o.Z)(b,2),N=(w[0],w[1],(0,i.useState)()),y=(0,o.Z)(N,2),Z=y[0],S=y[1],k=(0,i.useState)(),C=(0,o.Z)(k,2),P=C[0],I=C[1],_=(0,i.useState)(!1),A=(0,o.Z)(_,2),D=(A[0],A[1]),R=(0,i.useState)(!1),F=(0,o.Z)(R,2),L=(F[0],F[1],(0,i.useState)(!1)),E=(0,o.Z)(L,2),H=E[0],O=(E[1],(0,i.useState)(!1)),T=(0,o.Z)(O,2),V=T[0],M=T[1],U=(0,i.useState)(!1),q=(0,o.Z)(U,2),z=q[0],G=q[1],B=function(){return M(!1)},J=function(){return G(!1)},K=(0,i.useState)(),Q=(0,o.Z)(K,2),W=(Q[0],Q[1],(0,i.useState)(!1)),X=(0,o.Z)(W,2),Y=X[0],$=X[1],ee=(0,i.useState)(!1),te=(0,o.Z)(ee,2),ne=te[0],oe=te[1],ie=(0,i.useState)(!1),le=(0,o.Z)(ie,2),ae=le[0],se=le[1],de=(0,i.useState)(0),re=(0,o.Z)(de,2),ce=re[0],ue=re[1],ge=(0,i.useState)(1),me=(0,o.Z)(ge,2),xe=me[0],pe=me[1],ve=(0,i.useState)(0),he=(0,o.Z)(ve,2),fe=he[0],je=he[1],be=(0,i.useState)(10),we=(0,o.Z)(be,2),Ne=we[0],ye=we[1],Ze=(0,i.useState)(""),Se=(0,o.Z)(Ze,2),ke=Se[0],Ce=Se[1],Pe=(0,i.useState)(!1),Ie=(0,o.Z)(Pe,2),_e=Ie[0],Ae=Ie[1],De=[{Header:"#",Cell:function(e){var t=e.row;return(0,v.jsx)("div",{className:"pr-2",children:t.index+1})}},{Header:"Application No",accessor:"application_no"},{Header:"Apply Date",accessor:"application_date"},{Header:"Action",accessor:"id",Cell:function(e){var t=e.cell;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("button",{onClick:function(){return Re(t.row.values.id,"Active")},className:"bg-indigo-500 text-xs px-3 py-1 rounded leading-5 shadow-lg hover:shadow-xl hover:bg-indigo-700 \r hover:text-white text-white",children:"View"}),0==t.row.original.doc_upload_status&&(0,v.jsx)("button",{onClick:function(){return Fe(t.row.values.id)},className:"bg-indigo-500 text-xs ml-4 px-3 py-1 rounded leading-5 shadow-lg hover:shadow-xl hover:bg-indigo-700\r hover:text-white text-white",children:"upload Document"})]})}}],Re=function(e,t){console.log("..............application id..............",e),console.log("..............application type..............",t),I(e),S(t),M(!0)},Fe=function(e){console.log("..............application id..............",e),I(e),G(!0)};(0,i.useEffect)((function(){Le(xe,Ne,ke)}),[xe,ke,Ne]);var Le=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";Ae(!0),se(!0),m.Z.post(j,{page:e,perPage:t,key:n},(0,x.Z)()).then((function(e){var t,n,o,i,l,a;$(null===(t=e.data)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.data),oe(!0),se(!1),ue(null===(o=e.data)||void 0===o||null===(i=o.data)||void 0===i?void 0:i.total),je(null===(l=e.data)||void 0===l||null===(a=l.data)||void 0===a?void 0:a.last_page)})).catch((function(e){console.log("Error while fetching Filter Data",e),oe(!1),se(!1)})),setTimeout((function(){Ae(!1)}),[500])},Ee={totalDataCount:ce,currentPageIndex:xe,setcurrentPageIndex:pe,pageLength:Ne,setpageLength:ye,lastPageIndex:fe,setlastPageIndex:je,fetchInboxList:Le,searchValue:ke,setsearchValue:Ce,refreshStatus:_e};return ae?(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(c.Z,{})}):H?(0,v.jsx)(u.Z,{children:(0,v.jsx)(g.Z,{title:"Server is busy",desc:"Server is too busy to respond. Please try again later.",buttonText:"View Dashboard",buttonUrl:"/propertyDashboard"})}):(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("div",{className:"container bg-white text-gray-600 h-screen mx-auto mt-16",children:(0,v.jsxs)("div",{children:[(0,v.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-12 lg:grid-cols-12 gap-4 container mx-auto pt-4 ",children:(0,v.jsx)("div",{className:"col-span-12 p-2",children:(0,v.jsxs)("div",{className:"flex flex-row bg-white mb-4 rounded leading-5 shadow-md shadow-violet-100 ",children:[(0,v.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/3288/3288006.png",className:"h-10 ml-3 mt-2"}),(0,v.jsx)("h1",{className:"text-xl text-gray-700 font-semibold p-4",children:"HOARDING PENDING APPLICATIONS"})]})})}),(0,v.jsxs)("div",{className:"grid grid-cols-1 p-2",children:[ne&&0!=(null===Y||void 0===Y?void 0:Y.length)&&(0,v.jsx)(p.Z,{columns:De,dataList:Y,values:Ee}),ne&&0==(null===Y||void 0===Y?void 0:Y.length)&&(0,v.jsx)("div",{className:"text-xl font-semibold text-red-400 text-center",children:"Data Not Found"})]}),(0,v.jsxs)("div",{className:"grid grid-cols-1",children:[(0,v.jsx)(a(),{isOpen:V,onAfterOpen:function(){},onRequestClose:B,style:h,contentLabel:"Example Modal",children:(0,v.jsx)("div",{class:" rounded-lg shadow-xl border-2 border-gray-50 mx-auto px-0 ",style:{width:"80vw",height:"100%"},children:(0,v.jsx)("div",{className:"h-[44rem] bg-white overflow-y-auto",children:(0,v.jsx)(s.Z,{data:P,applicationType:Z,showLoader:function(e){D(e)},closeModal:B})})})}),(0,v.jsx)(a(),{isOpen:z,onAfterOpen:function(){},onRequestClose:J,style:h,contentLabel:"Example Modal",children:(0,v.jsx)("div",{class:"mx-auto px-0 overflow-y-auto",style:{width:"70vw",height:"100%"},children:(0,v.jsx)("div",{className:"h-[44rem] bg-violet-50 overflow-y-auto ",children:(0,v.jsx)(r.Z,{data:P,closeModal:J})})})})]})]})})})}}}]);
//# sourceMappingURL=2798.fc3b4040.chunk.js.map