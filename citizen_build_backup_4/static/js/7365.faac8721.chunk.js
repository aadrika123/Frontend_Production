"use strict";(self.webpackChunkcitizen_landing=self.webpackChunkcitizen_landing||[]).push([[7365],{17365:function(e,t,a){a.r(t);var s=a(29439),n=a(72791),r=a(57689),i=a(65064),l=a(93877),o=a(35551),c=a(93157),d=a(72426),x=a.n(d),h=a(80184);t.default=function(){var e,t,a,d,p=(0,n.useState)(!1),u=(0,s.Z)(p,2),m=u[0],v=u[1],g=(0,n.useState)(""),y=(0,s.Z)(g,2),j=y[0],f=y[1],w=(0,n.useState)(1),N=(0,s.Z)(w,2),b=N[0],k=N[1],C=(0,n.useState)(5),_=(0,s.Z)(C,2),S=_[0],Z=_[1],P=(0,n.useState)(""),R=(0,s.Z)(P,2),z=R[0],M=R[1],T=(0,i.Z)(),D=T.api_waterCitizenPaymentHistory,F=T.header,L=(0,r.s0)();(0,n.useEffect)((function(){W()}),[b,S]);var W=function(){v(!0),c.Z.post(D,{pages:S,page:b},F).then((function(e){e.data.status?(console.log("Water Citizen payment history date",e.data.data),f(e.data.data),v(!1)):(console.log("Water Citizen payment history date",e.data.data),v(!1))})).catch((function(e){console.log("Exception while getting water payment history",e),v(!1)}))};return m?(0,h.jsx)(l.Z,{}):(null===j||void 0===j||null===(e=j.data)||void 0===e?void 0:e.length)<1?(0,h.jsx)(o.Z,{message:"No Payment History Found."}):(null===j||void 0===j||null===(t=j.data)||void 0===t?void 0:t.length)>=1?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"my-3 font-semibold text-center text-lg text-gray-700",children:" Water Payment Transactions "}),(0,h.jsxs)("div",{className:"relative overflow-x-auto sm:rounded-lg border shadow-md",children:[(0,h.jsxs)("div",{className:"flex justify-between my-3 mx-5",children:[(0,h.jsxs)("div",{className:"flex gap-3",children:[(0,h.jsx)("p",{children:"Show"}),(0,h.jsxs)("select",{onChange:function(e){return Z(e.target.value)},name:"",id:"",className:"border rounded shadow w-24",children:[(0,h.jsx)("option",{value:"5",children:"5 Records"}),(0,h.jsx)("option",{value:"10",children:"10 Records"}),(0,h.jsx)("option",{value:"20",children:"20 Records"}),(0,h.jsx)("option",{value:"30",children:"30 Records"})]})]}),(0,h.jsxs)("div",{className:"flex gap-3",children:[(0,h.jsx)("p",{children:"Search"}),(0,h.jsx)("input",{type:"text",name:"search",value:z,onChange:function(e){return M(e.target.value)},className:"border rounded shadow w-40"})]})]}),(0,h.jsxs)("table",{className:"w-full text-sm text-left text-gray-500 ",children:[(0,h.jsx)("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:(0,h.jsxs)("tr",{children:[(0,h.jsxs)("th",{scope:"col",className:"p-4",children:[" ",(0,h.jsx)("div",{className:"flex items-center",children:" SL "})," "]}),(0,h.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Transaction No."}),(0,h.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Payment Mode"}),(0,h.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Amount"}),(0,h.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Paid For"}),(0,h.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Transaction Date"}),(0,h.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Action"})]})}),(0,h.jsx)("tbody",{children:j&&(null===j||void 0===j||null===(a=j.data)||void 0===a?void 0:a.filter((function(e){return""===z||e.tran_no.toLowerCase().includes(z.toLowerCase())})).map((function(e,t){return(0,h.jsxs)("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600",children:[(0,h.jsx)("td",{className:"w-4 p-4",children:(0,h.jsx)("div",{className:"flex items-center",children:t+1})}),(0,h.jsx)("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:e.tran_no}),(0,h.jsx)("td",{className:"px-6 py-4",children:e.payment_mode}),(0,h.jsx)("td",{className:"px-6 py-4",children:e.amount}),(0,h.jsx)("td",{className:"px-6 py-4",children:e.tran_type}),(0,h.jsx)("td",{className:"px-6 py-4",children:x()(null===e||void 0===e?void 0:e.tran_date).format("DD-MMM-yy")}),(0,h.jsx)("td",{className:"px-6 py-4",children:(0,h.jsx)("p",{onClick:function(){return t=e.tran_no,a=e.tran_type_id,console.log("transId",t,a),1==a?L("/waterUserReceipt/".concat(t)):2==a?L("/waterConnReceipt/".concat(t)):void 0;var t,a},className:"font-medium text-blue-600 border-indigo-600 cursor-pointer hover:bg-indigo-600 hover:text-white shadow-md rounded border px-2 py-1 text-center whitespace-nowrap",children:"View Receipt"})})]})})))})]}),(0,h.jsxs)("nav",{className:"block md:flex items-center md:justify-between text-center md:pt-4 m-5","aria-label":"Table navigation",children:[(0,h.jsxs)("span",{className:"text-sm font-normal text-gray-500",children:["Showing ",(0,h.jsxs)("span",{className:"font-semibold text-gray-900 dark:text-white",children:[null===j||void 0===j?void 0:j.from,"-",null===j||void 0===j?void 0:j.to]})," of ",(0,h.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:null===j||void 0===j?void 0:j.total})]}),(0,h.jsx)("ul",{className:"inline-flex items-center -space-x-px",children:null===j||void 0===j||null===(d=j.links)||void 0===d?void 0:d.map((function(e){return(0,h.jsx)("li",{children:(0,h.jsx)("p",{onClick:function(){k(null===e||void 0===e?void 0:e.url.slice(-1))},className:" ".concat(1==(null===e||void 0===e?void 0:e.active)?"bg-indigo-500 text-white":"bg-white text-gray-500"," px-3 py-2 leading-tight  border border-gray-300 hover:bg-indigo-100 hover:text-gray-700 cursor-pointer whitespace-nowrap"),children:(t=e.label,"&laquo; Previous"==t?"<< Prev":"Next &raquo;"==t?">> Next":t)})});var t}))})]})]})]}):void 0}}}]);
//# sourceMappingURL=7365.faac8721.chunk.js.map