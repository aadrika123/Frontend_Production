{"version":3,"file":"static/js/7365.faac8721.chunk.js","mappings":"gPAgKA,UAtJmC,WAAO,IAADA,EAAAC,EAAAC,EAAAC,EACvCC,GAAkCC,EAAAA,EAAAA,WAAS,GAAMC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA1CI,EAASF,EAAA,GAAEG,EAAYH,EAAA,GAC9BI,GAAsCL,EAAAA,EAAAA,UAAS,IAAGM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAA3CE,EAAWD,EAAA,GAAEE,EAAcF,EAAA,GAClCG,GAA4BT,EAAAA,EAAAA,UAAS,GAAEU,GAAAR,EAAAA,EAAAA,GAAAO,EAAA,GAAhCE,EAAMD,EAAA,GAAEE,EAASF,EAAA,GACxBG,GAA0Cb,EAAAA,EAAAA,UAAS,GAAEc,GAAAZ,EAAAA,EAAAA,GAAAW,EAAA,GAA9CE,EAAaD,EAAA,GAAEE,EAAgBF,EAAA,GACtCG,GAAsCjB,EAAAA,EAAAA,UAAS,IAAGkB,GAAAhB,EAAAA,EAAAA,GAAAe,EAAA,GAA3CE,EAAWD,EAAA,GAAEE,EAAcF,EAAA,GAElCG,GAAmDC,EAAAA,EAAAA,KAA3CC,EAA8BF,EAA9BE,+BAAgCC,EAAMH,EAANG,OAElCC,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WACRC,GACF,GAAG,CAACjB,EAAQI,IAEZ,IAAMa,EAA0B,WAC9BxB,GAAa,GAEbyB,EAAAA,EAAAA,KAAuBN,EAAgC,CAAE,MAASR,EAAe,KAAQJ,GAAUa,GAChGM,MAAK,SAACC,GACDA,EAAIC,KAAKC,QACXC,QAAQC,IAAI,qCAAsCJ,EAAIC,KAAKA,MAC3DxB,EAAeuB,EAAIC,KAAKA,MACxB5B,GAAa,KAEb8B,QAAQC,IAAI,qCAAsCJ,EAAIC,KAAKA,MAC3D5B,GAAa,GAEjB,IACCgC,OAAM,SAACC,GACNH,QAAQC,IAAI,gDAAiDE,GAC7DjC,GAAa,EACf,GACJ,EAqBA,OAAID,GAAkBmC,EAAAA,EAAAA,KAACC,EAAAA,EAAW,KACnB,OAAXhC,QAAW,IAAXA,GAAiB,QAANZ,EAAXY,EAAayB,YAAI,IAAArC,OAAN,EAAXA,EAAmB6C,QAAS,GAAUF,EAAAA,EAAAA,KAACG,EAAAA,EAAiB,CAACC,QAAQ,+BAGtD,OAAXnC,QAAW,IAAXA,GAAiB,QAANX,EAAXW,EAAayB,YAAI,IAAApC,OAAN,EAAXA,EAAmB4C,SAAU,GAC/BG,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACEP,EAAAA,EAAAA,KAAA,OAAKQ,UAAU,uDAAsDD,SAAC,kCAItEF,EAAAA,EAAAA,MAAA,OAAKG,UAAU,0DAAyDD,SAAA,EAEtEF,EAAAA,EAAAA,MAAA,OAAKG,UAAU,iCAAgCD,SAAA,EAC7CF,EAAAA,EAAAA,MAAA,OAAKG,UAAU,aAAYD,SAAA,EACzBP,EAAAA,EAAAA,KAAA,KAAAO,SAAG,UACHF,EAAAA,EAAAA,MAAA,UAAQI,SAAU,SAACC,GAAC,OAAKhC,EAAiBgC,EAAEC,OAAOC,MAAM,EAAEC,KAAK,GAAGC,GAAG,GAAGN,UAAU,6BAA4BD,SAAA,EAC7GP,EAAAA,EAAAA,KAAA,UAAQY,MAAM,IAAGL,SAAC,eAClBP,EAAAA,EAAAA,KAAA,UAAQY,MAAM,KAAIL,SAAC,gBACnBP,EAAAA,EAAAA,KAAA,UAAQY,MAAM,KAAIL,SAAC,gBACnBP,EAAAA,EAAAA,KAAA,UAAQY,MAAM,KAAIL,SAAC,sBAGvBF,EAAAA,EAAAA,MAAA,OAAKG,UAAU,aAAYD,SAAA,EACzBP,EAAAA,EAAAA,KAAA,KAAAO,SAAG,YACHP,EAAAA,EAAAA,KAAA,SACEe,KAAK,OACLF,KAAK,SACLD,MAAO/B,EACP4B,SAAU,SAACC,GAAC,OAAK5B,EAAe4B,EAAEC,OAAOC,MAAM,EAC/CJ,UAAU,sCAMhBH,EAAAA,EAAAA,MAAA,SAAOG,UAAU,0CAAyCD,SAAA,EACxDP,EAAAA,EAAAA,KAAA,SAAOQ,UAAU,6CAA4CD,UAC3DF,EAAAA,EAAAA,MAAA,MAAAE,SAAA,EACEF,EAAAA,EAAAA,MAAA,MAAIW,MAAM,MAAMR,UAAU,MAAKD,SAAA,CAAC,KAACP,EAAAA,EAAAA,KAAA,OAAKQ,UAAU,oBAAmBD,SAAC,SAAU,QAC9EP,EAAAA,EAAAA,KAAA,MAAIgB,MAAM,MAAMR,UAAU,YAAWD,SAAC,qBACtCP,EAAAA,EAAAA,KAAA,MAAIgB,MAAM,MAAMR,UAAU,YAAWD,SAAC,kBACtCP,EAAAA,EAAAA,KAAA,MAAIgB,MAAM,MAAMR,UAAU,YAAWD,SAAC,YACtCP,EAAAA,EAAAA,KAAA,MAAIgB,MAAM,MAAMR,UAAU,YAAWD,SAAC,cACtCP,EAAAA,EAAAA,KAAA,MAAIgB,MAAM,MAAMR,UAAU,YAAWD,SAAC,sBACtCP,EAAAA,EAAAA,KAAA,MAAIgB,MAAM,MAAMR,UAAU,YAAWD,SAAC,iBAG1CP,EAAAA,EAAAA,KAAA,SAAAO,SAEGtC,IACY,OAAXA,QAAW,IAAXA,GAAiB,QAANV,EAAXU,EAAayB,YAAI,IAAAnC,OAAN,EAAXA,EACI0D,QAzDW,SAACC,GAC1B,MAAoB,KAAhBrC,GACGqC,EAAKC,QAAQC,cAAcC,SAASxC,EAAYuC,cACzD,IAuDeE,KAAI,SAACJ,EAAMK,GAAK,OAEflB,EAAAA,EAAAA,MAAA,MAAIG,UAAU,kGAAiGD,SAAA,EAC7GP,EAAAA,EAAAA,KAAA,MAAIQ,UAAU,UAASD,UACrBP,EAAAA,EAAAA,KAAA,OAAKQ,UAAU,oBAAmBD,SAAEgB,EAAQ,OAE9CvB,EAAAA,EAAAA,KAAA,MAAIgB,MAAM,MAAMR,UAAU,wEAAuED,SAAEW,EAAKC,WACxGnB,EAAAA,EAAAA,KAAA,MAAIQ,UAAU,YAAWD,SAAEW,EAAKM,gBAChCxB,EAAAA,EAAAA,KAAA,MAAIQ,UAAU,YAAWD,SAAEW,EAAKO,UAChCzB,EAAAA,EAAAA,KAAA,MAAIQ,UAAU,YAAWD,SAAEW,EAAKQ,aAEhC1B,EAAAA,EAAAA,KAAA,MAAIQ,UAAU,YAAWD,SAAEoB,IAAW,OAAJT,QAAI,IAAJA,OAAI,EAAJA,EAAMU,WAAWC,OAAO,gBAC1D7B,EAAAA,EAAAA,KAAA,MAAIQ,UAAU,YAAWD,UACvBP,EAAAA,EAAAA,KAAA,KAAG8B,QAAS,kBApFHC,EAoF6Bb,EAAKC,QApFzBa,EAoFkCd,EAAKe,aAnF3ErC,QAAQC,IAAI,UAAWkC,EAASC,GACjB,GAAXA,EAAqB7C,EAAS,qBAAD+C,OAAsBH,IACxC,GAAXC,EAAqB7C,EAAS,qBAAD+C,OAAsBH,SAAvD,EAH0B,IAACA,EAASC,CAoFoD,EAAExB,UAAU,mKAAkKD,SAAC,qBAEpP,WAOfF,EAAAA,EAAAA,MAAA,OAAKG,UAAU,wEAAwE,aAAW,mBAAkBD,SAAA,EAElHF,EAAAA,EAAAA,MAAA,QAAMG,UAAU,oCAAmCD,SAAA,CAAC,YAAQF,EAAAA,EAAAA,MAAA,QAAMG,UAAU,8CAA6CD,SAAA,CAAa,OAAXtC,QAAW,IAAXA,OAAW,EAAXA,EAAakE,KAAK,IAAa,OAAXlE,QAAW,IAAXA,OAAW,EAAXA,EAAamE,MAAU,QAAIpC,EAAAA,EAAAA,KAAA,QAAMQ,UAAU,8CAA6CD,SAAa,OAAXtC,QAAW,IAAXA,OAAW,EAAXA,EAAaoE,YACtPrC,EAAAA,EAAAA,KAAA,MAAIQ,UAAU,uCAAsCD,SAGtC,OAAXtC,QAAW,IAAXA,GAAkB,QAAPT,EAAXS,EAAaqE,aAAK,IAAA9E,OAAP,EAAXA,EAAoB8D,KAAI,SAACJ,GAAI,OAC5BlB,EAAAA,EAAAA,KAAA,MAAAO,UACEP,EAAAA,EAAAA,KAAA,KAAG8B,QAAS,WAAQxD,EAAc,OAAJ4C,QAAI,IAAJA,OAAI,EAAJA,EAAMqB,IAAIC,OAAO,GAAI,EAAGhC,UAAS,IAAA0B,OAAsB,IAAZ,OAAJhB,QAAI,IAAJA,OAAI,EAAJA,EAAMuB,QAAiB,2BAA6B,yBAAwB,6HAA4HlC,UA9FlQmC,EA8FoRxB,EAAKwB,MA7FnS,oBAATA,EAAoC,UAC3B,gBAATA,EAAgC,UAC7BA,OAHe,IAACA,CA+FR,oBA/EjB,CA0FF,C","sources":["Pages/Water/WaterViewAllPaymentHistory.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { useNavigate } from 'react-router-dom';\r\nimport WaterApiList from '../../Components/ApiList/WaterApiList';\r\nimport BrandLoader from '../../Components/Common/BrandLoader';\r\nimport NoDataFoundStyle1 from '../../Components/Common/NoDataFound/NoDataFoundStyle1';\r\nimport AxiosInterceptors from '../../Components/GlobalData/AxiosInterceptors';\r\nimport moment from 'moment';\r\n\r\n\r\n\r\nconst WaterViewAllPaymentHistory = () => {\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const [fetchedData, setFetchedData] = useState(\"\")\r\n  const [pageNo, setPageNo] = useState(1)\r\n  const [showNoOfPages, setShowNoOfPages] = useState(5)\r\n  const [searchValue, setSearchValue] = useState(\"\");\r\n\r\n  const { api_waterCitizenPaymentHistory, header } = WaterApiList();\r\n\r\n  const navigate = useNavigate()\r\n\r\n  useEffect(() => {\r\n    fetchTransactionHistory()\r\n  }, [pageNo, showNoOfPages])\r\n\r\n  const fetchTransactionHistory = () => {\r\n    setIsLoading(true)\r\n\r\n    AxiosInterceptors.post(api_waterCitizenPaymentHistory, { \"pages\": showNoOfPages, \"page\": pageNo }, header)\r\n      .then((res) => {\r\n        if (res.data.status) {\r\n          console.log('Water Citizen payment history date', res.data.data)\r\n          setFetchedData(res.data.data)\r\n          setIsLoading(false)\r\n        } else {\r\n          console.log('Water Citizen payment history date', res.data.data)\r\n          setIsLoading(false)\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log('Exception while getting water payment history', error)\r\n        setIsLoading(false)\r\n      })\r\n  }\r\n\r\n  const conditionalNavigate = (transNo, transId) => { // trans id => 2 = Consumer Receipt, 2 = Application Receipt(Connection, site inspection etc), \r\n    console.log(\"transId\", transNo, transId)\r\n    if (transId == 1) return navigate(`/waterUserReceipt/${transNo}`)\r\n    if (transId == 2) return navigate(`/waterConnReceipt/${transNo}`)\r\n  }\r\n\r\n\r\n  const filterLabelData = (label) => {\r\n    if (label == \"&laquo; Previous\") return \"<< Prev\";\r\n    if (label == \"Next &raquo;\") return \">> Next\";\r\n    return label;\r\n  }\r\n\r\n  const filterTransactions = (item) => {\r\n    if (searchValue === \"\") return true;\r\n    return item.tran_no.toLowerCase().includes(searchValue.toLowerCase());\r\n  };\r\n\r\n\r\n  if (isLoading) return <BrandLoader />;\r\n  if (fetchedData?.data?.length < 1) return <NoDataFoundStyle1 message=\"No Payment History Found.\" />\r\n\r\n\r\n  if (fetchedData?.data?.length >= 1) return (\r\n    <>\r\n      <div className='my-3 font-semibold text-center text-lg text-gray-700'> Water Payment Transactions </div>\r\n\r\n\r\n\r\n      <div className=\"relative overflow-x-auto sm:rounded-lg border shadow-md\">\r\n\r\n        <div className='flex justify-between my-3 mx-5'>\r\n          <div className='flex gap-3'>\r\n            <p>Show</p>\r\n            <select onChange={(e) => setShowNoOfPages(e.target.value)} name=\"\" id=\"\" className='border rounded shadow w-24'>\r\n              <option value=\"5\">5 Records</option>\r\n              <option value=\"10\">10 Records</option>\r\n              <option value=\"20\">20 Records</option>\r\n              <option value=\"30\">30 Records</option>\r\n            </select>\r\n          </div>\r\n          <div className='flex gap-3'>\r\n            <p>Search</p>\r\n            <input\r\n              type=\"text\"\r\n              name=\"search\"\r\n              value={searchValue}\r\n              onChange={(e) => setSearchValue(e.target.value)}\r\n              className=\"border rounded shadow w-40\"\r\n            />\r\n\r\n          </div>\r\n        </div>\r\n\r\n        <table className=\"w-full text-sm text-left text-gray-500 \">\r\n          <thead className=\"text-xs text-gray-700 uppercase bg-gray-50\">\r\n            <tr>\r\n              <th scope=\"col\" className=\"p-4\"> <div className=\"flex items-center\"> SL </div> </th>\r\n              <th scope=\"col\" className=\"px-6 py-3\">Transaction No.</th>\r\n              <th scope=\"col\" className=\"px-6 py-3\">Payment Mode</th>\r\n              <th scope=\"col\" className=\"px-6 py-3\">Amount</th>\r\n              <th scope=\"col\" className=\"px-6 py-3\">Paid For</th>\r\n              <th scope=\"col\" className=\"px-6 py-3\">Transaction Date</th>\r\n              <th scope=\"col\" className=\"px-6 py-3\">Action</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n\r\n            {fetchedData &&\r\n              fetchedData?.data\r\n                ?.filter(filterTransactions) // Apply search filter\r\n                .map((item, index) => (\r\n                  // Rest of the code remains the same\r\n                  <tr className=\"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600\">\r\n                    <td className=\"w-4 p-4\">\r\n                      <div className=\"flex items-center\">{index + 1}</div>\r\n                    </td>\r\n                    <th scope=\"row\" className=\"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white\">{item.tran_no}</th>\r\n                    <td className=\"px-6 py-4\">{item.payment_mode}</td>\r\n                    <td className=\"px-6 py-4\">{item.amount}</td>\r\n                    <td className=\"px-6 py-4\">{item.tran_type}</td>\r\n                    {/* <td className=\"px-6 py-4\">{item.tran_date}</td> */}\r\n                    <td className=\"px-6 py-4\">{moment(item?.tran_date).format('DD-MMM-yy')}</td>\r\n                    <td className=\"px-6 py-4\">\r\n                      <p onClick={() => conditionalNavigate(item.tran_no, item.tran_type_id)} className=\"font-medium text-blue-600 border-indigo-600 cursor-pointer hover:bg-indigo-600 hover:text-white shadow-md rounded border px-2 py-1 text-center whitespace-nowrap\">View Receipt</p>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n\r\n\r\n          </tbody>\r\n        </table>\r\n\r\n        <nav className=\"block md:flex items-center md:justify-between text-center md:pt-4 m-5\" aria-label=\"Table navigation\">\r\n\r\n          <span className=\"text-sm font-normal text-gray-500\">Showing <span className=\"font-semibold text-gray-900 dark:text-white\">{fetchedData?.from}-{fetchedData?.to}</span> of <span className=\"font-semibold text-gray-900 dark:text-white\">{fetchedData?.total}</span></span>\r\n          <ul className=\"inline-flex items-center -space-x-px\">\r\n\r\n\r\n            {fetchedData?.links?.map((item) => (\r\n              <li>\r\n                <p onClick={() => { setPageNo(item?.url.slice(-1)) }} className={` ${item?.active == true ? \"bg-indigo-500 text-white\" : \"bg-white text-gray-500\"} px-3 py-2 leading-tight  border border-gray-300 hover:bg-indigo-100 hover:text-gray-700 cursor-pointer whitespace-nowrap`}>{filterLabelData(item.label)}</p>\r\n              </li>\r\n            ))\r\n            }\r\n\r\n          </ul>\r\n        </nav>\r\n      </div>\r\n\r\n\r\n    </>\r\n  )\r\n}\r\n\r\nexport default WaterViewAllPaymentHistory\r\n"],"names":["_fetchedData$data","_fetchedData$data2","_fetchedData$data3","_fetchedData$links","_useState","useState","_useState2","_slicedToArray","isLoading","setIsLoading","_useState3","_useState4","fetchedData","setFetchedData","_useState5","_useState6","pageNo","setPageNo","_useState7","_useState8","showNoOfPages","setShowNoOfPages","_useState9","_useState10","searchValue","setSearchValue","_WaterApiList","WaterApiList","api_waterCitizenPaymentHistory","header","navigate","useNavigate","useEffect","fetchTransactionHistory","AxiosInterceptors","then","res","data","status","console","log","catch","error","_jsx","BrandLoader","length","NoDataFoundStyle1","message","_jsxs","_Fragment","children","className","onChange","e","target","value","name","id","type","scope","filter","item","tran_no","toLowerCase","includes","map","index","payment_mode","amount","tran_type","moment","tran_date","format","onClick","transNo","transId","tran_type_id","concat","from","to","total","links","url","slice","active","label"],"sourceRoot":""}