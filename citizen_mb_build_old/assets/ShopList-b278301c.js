import{r as a,a as x,A as S,j as t,F as K,b as l}from"./index-1aa8c14e.js";import{T as Q,R as W}from"./RentalApiList-afb7b831.js";import{u as X}from"./formik.esm-0998d631.js";import"./index-96adee2d.js";import"./react-tooltip.min-51dc7dc4.js";import{l as Y}from"./PowerupFunctions-9e63719f.js";import{R as Z}from"./RentalListTablePaginate2-5cdc351e.js";import"./index-bc44fcdc.js";import"./ShopListViewInCard-831fa5a0.js";import"./TollListViewInCard-1bb702f8.js";function ye(){const{bgHeaderColor:ee,titleColor:p,nextButtonColor:te,bgCardColor:ae,bgInfoColor:oe,infoTextColor:re,backButtonColor:se,backBtnHoverColor:ce,nextBtnHoverColor:le,inputStyle:ne}=Q(),{api_UlbCircleList:_,api_locationByCircleList:H,api_shopListByLocation:I}=W(),[m,k]=a.useState();a.useState(null);const[f,B]=a.useState();a.useState(null);const[i,P]=a.useState(null),[R,o]=a.useState(!1),[b,F]=a.useState(),[j,A]=a.useState(0),[d,T]=a.useState(1),[V,y]=a.useState(0),[h,E]=a.useState(5),[u,$]=a.useState(""),[q,ie]=a.useState(!1),r=X({initialValues:{location:"",circle:""},onSubmit:e=>{D(e==null?void 0:e.location)}}),D=(e,c)=>{g(e,d,h,u)};a.useEffect(()=>{g(b,d,h,u)},[b,d,u,h]);const O=[{Header:"Shop no.",accessor:"shop_no"},{Header:"Allottee",accessor:"allottee"},{Header:"Last paid on",accessor:"updated_at"},{Header:"Area",accessor:"circle_name"},{Header:"Rate",accessor:"rate"}];a.useEffect(()=>{U()},[]);const U=()=>{o(!0),x.post(_,{},S()).then(e=>{e.data.status&&k(e.data.data),o(!1)}).catch(e=>{o(!1)})},M=e=>{o(!0);const c={circleId:e};x.post(H,c,S()).then(s=>{s.data.status&&B(s.data.data),o(!1)}).catch(s=>{o(!1)})},g=(e,c,s,J="")=>{o(!0),x.post(I,{marketId:e,page:c,perPage:s,key:J},S()).then(n=>{var C,N,v,w;n.data.status&&(P(n.data.data.data),A((N=(C=n.data)==null?void 0:C.data)==null?void 0:N.total),y((w=(v=n.data)==null?void 0:v.data)==null?void 0:w.last_page)),o(!1)}).catch(n=>{o(!1)})},z=e=>{let c=e.target.name,s=e.target.value;c=="circle"&&M(s),c=="location"&&F(s)};let L="Shop Rental pay";const G={tittle:L,totalDataCount:j,currentPageIndex:d,setcurrentPageIndex:T,pageLength:h,setpageLength:E,lastPageIndex:V,setlastPageIndex:y,searchValue:u,setsearchValue:$,refreshStatus:q,fetchShopListFun:g};return t(K,{children:l("div",{className:"bg-[#eff2f0]",children:[l("div",{className:"col-span-12",children:[" ",t("h1",{className:`font-semibold ${p} text-xl px-4 py-2 text-gray-600`,children:L})]}),t("form",{onSubmit:r.handleSubmit,onChange:z,children:t("div",{className:"p-2 md:p-10 flex justify-center items-center  overflow-hidden",children:l("div",{className:"grid grid-cols-12 bg-[#fdfdfd]  w-full md:w-1/3 p-6 md:p-10 rounded-2xl shadow-md",children:[R&&Y(),t("div",{className:"form-group mb-4 md:mb-6 col-span-12 mt-2 text-gray-600 ",children:l("div",{className:"",children:[t("h1",{className:`${p} text-sm py-2 text-gray-600`,children:"Select Circle"}),l("select",{...r.getFieldProps("circle"),className:" border border-gray-100 w-full py-2 px-2 bg-white shadow-lg rounded-xl text-gray-600 font-normal",children:[t("option",{selected:!0,children:"select"}),m==null?void 0:m.map(e=>t("option",{value:e==null?void 0:e.id,children:e==null?void 0:e.circle_name}))]}),t("p",{className:"text-red-500 text-xs",children:r.touched.circle&&r.errors.circle?r.errors.circle:null})]})}),t("div",{className:"form-group mb-4 md:mb-6 col-span-12 mt-1 text-gray-600 ",children:l("div",{className:"",children:[t("h1",{className:` ${p} text-sm py-2 text-gray-600`,children:"Select Location"}),l("select",{...r.getFieldProps("location"),className:" border border-gray-100 w-full py-2 px-2 bg-white shadow-lg rounded-xl text-gray-600 font-normal",children:[t("option",{children:"select"}),f==null?void 0:f.map(e=>t("option",{value:e==null?void 0:e.id,children:e==null?void 0:e.market_name}))]}),t("p",{className:"text-red-500 text-xs",children:r.touched.location&&r.errors.location?r.errors.location:null})]})})]})})}),t("div",{children:(i==null?void 0:i.length)>0?t(Z,{canRefresh:!0,columns:O,values:G,dataList:i}):t("div",{className:"p-2 relative ",children:t("img",{src:"https://img.freepik.com/free-vector/people-using-search-box-query-engine-giving-result_74855-11000.jpg?w=1380&t=st=1689941552~exp=1689942152~hmac=2830199908ef781c2072c2c614b124d0656193ea00848ee3bc7b438e259e94ca",className:"mx-auto h-44 mt-6 "})})})]})})}export{ye as default};
