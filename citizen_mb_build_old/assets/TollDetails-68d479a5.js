import{M as b,u as L,r as d,c as g,A as y,b as t,F as P,j as a,Q as i}from"./index-cd399e7b.js";import{R as U,T as j}from"./RentalApiList-3633de92.js";import{u as B}from"./formik.esm-51ceac17.js";import{l as E,n as c}from"./PowerupFunctions-a141f7a9.js";const O={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"white",border:"none",overflowY:"scroll"}};b.setAppElement("#root");function G(){const{id:m}=L(),{api_tollDetailsById:N,api_tollTcPayment:v}=U(),{titleColor:w}=j(),S=(s,n)=>{i.dismiss(),n=="success"&&i.success(s),n=="error"&&i.error(s)},[C,o]=d.useState(!1),[e,_]=d.useState();d.useState("");const[q,z]=d.useState(""),[k,T]=d.useState(""),[p,A]=d.useState(""),[D,x]=d.useState(!1);function F(){x(!0)}function h(){x(!1)}const M=()=>{const s=new Date(k);return`${new Date(p).getDate()-s.getDate()+1}`},l=B({initialValues:{amount:"",fromDate:"",uptoDate:""},onSubmit:s=>{I(s)}}),R=s=>{let n=s.target.name,r=s.target.value;n=="ddmmyy"&&z(r),n=="fromDate"&&T(r),n=="uptoDate"&&A(r)},I=s=>{o(!0);let n;n={tollId:m,dateFrom:s==null?void 0:s.fromDate,dateUpto:s==null?void 0:s.uptoDate},g.post(v,n,y()).then(r=>{var f;r.data.status&&(S((f=r==null?void 0:r.data)==null?void 0:f.message,"success"),u()),o(!1)}).catch(r=>{o(!1)})};d.useEffect(()=>{u()},[]);const u=()=>{o(!0);const s={tollId:m};g.post(N,s,y()).then(n=>{n.data.status&&_(n.data.data),o(!1)}).catch(n=>{o(!1)})};return t(P,{children:[C&&E(),t("div",{className:"bg-[#eff2f0]",children:[t("div",{className:"col-span-12",children:[" ",a("h1",{className:`font-semibold  ${w} text-xl px-4 py-2 text-gray-600`,children:"Toll Details"})]}),a("div",{className:" flex justify-center items-center  overflow-hidden p-4 ",children:t("div",{class:"  w-full md:w-1/3 rounded-lg bg-[#fdfdfd] shadow-indigo-50 shadow-md",children:[t("div",{className:"bg-[#6c68f0] rounded-lg p-4 text-white",children:[t("p",{class:"text-md text-center font-semibold ",children:["Toll No. : ",a("span",{children:c(e==null?void 0:e.toll_no)})]}),a("p",{class:"text-center py-1",children:t("span",{class:"text-md justify-center text-gray-50 flex",children:[a("span",{className:"",children:"Payable Amount :  "}),p?t("p",{children:["Rs. ",`${e==null?void 0:e.rate}`*M()]}):t("h1",{children:["Rs. ",e==null?void 0:e.rate]})]})}),t("form",{onSubmit:l.handleSubmit,onChange:R,children:[t("div",{className:"flex space-x-2 py-1  ",children:[t("p",{class:"text-sm text-center py-1 px-1",children:["Payment Upto : ",a("span",{children:e==null?void 0:e.last_payment_date})]}),t(b,{isOpen:D,onRequestClose:h,style:O,contentLabel:"Example Modal",children:[t("div",{className:"flex space-x-2",children:[t("div",{children:[a("p",{className:"capitalize text-xs",children:"date from"}),a("input",{type:"date",name:"fromDate",className:"px-2 text-gray-800 border border-gray-300 rounded-sm",onChange:l.handleChange,value:l.values.fromDate})]}),t("div",{children:[a("p",{className:"capitalize text-xs",children:"date upto"}),a("input",{type:"date",name:"uptoDate",className:"px-2 text-gray-800 border border-gray-300 rounded-sm",onChange:l.handleChange,value:l.values.uptoDate})]})]}),a("div",{className:"mt-1 text-center",children:a("button",{className:"text-xs border bg-blue-500 py-1 px-2",onClick:h,children:"Confirm"})})]}),a("div",{className:"bg-gray-300 text-gray-600 py-1 px-4 rounded-sm capitalize text-xs mt-1",onClick:F,children:"select date"})]}),a("div",{className:"",children:a("button",{type:"submit",className:"bg-amber-500 mt-1 py-2 px-2 rounded-sm capitalize text-xs w-full ",children:"Submit"})})]})]}),a("div",{class:"bg-white shadow-lg rounded-lg  w-full mt-4",children:a("div",{children:t("ul",{children:[t("li",{className:"p-2 px-5 text-md text-gray-600 font-semibold capitalize  border-b shadow-sm",children:["vendor Name :",a("span",{className:"px-4 text-md text-gray-500 uppercase",children:c(e==null?void 0:e.vendor_name)})]}),t("li",{className:"p-2 px-5 text-md text-gray-600 font-semibold capitalize border-b shadow-sm ",children:["Address :",a("span",{className:"px-4 text-md text-gray-500 uppercase",children:c(e==null?void 0:e.address)})]}),t("li",{className:"p-2 px-5 text-md text-gray-600 font-semibold capitalize  border-b shadow-sm",children:["Circle :",a("span",{className:"px-4 text-md text-gray-500 uppercase",children:c(e==null?void 0:e.circle_name)})]}),t("li",{className:"p-2 px-5 text-md text-gray-600 font-semibold capitalize border-b shadow-sm ",children:["market :",a("span",{className:"px-4 text-md text-gray-500 uppercase",children:c(e==null?void 0:e.market_name)})]}),t("li",{className:"p-2 px-5 text-md text-gray-600 font-semibold capitalize border-b shadow-sm ",children:["Rate :",a("span",{className:"px-4 text-md text-gray-500 uppercase",children:c(e==null?void 0:e.rate)})]}),t("li",{className:"p-2 px-5 text-md text-gray-600 font-semibold capitalize border-b shadow-sm ",children:["Last Payment date :",a("span",{className:"px-4 text-md text-gray-500 uppercase",children:c(e==null?void 0:e.last_payment_date)})]}),t("li",{className:"p-2 px-5 text-md text-gray-600 font-semibold capitalize border-b shadow-sm ",children:["Last payment amt. :",a("span",{className:"px-4 text-md text-gray-500 uppercase",children:c(e==null?void 0:e.last_payment_amount)})]})]})})})]})})]})]})}export{G as default};
