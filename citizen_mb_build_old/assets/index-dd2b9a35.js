import{r as P,b as m,j as r,a2 as M,c as S,F as C}from"./index-dc2e80f3.js";import{D as G,a as L,u as R,G as I,M as F,P as O}from"./esm-4c1b239d.js";import{u as W}from"./useCustomGeoLocation-a3c0c476.js";import{a as T}from"./useCustomQuery-d19cb7d6.js";import{w as V}from"./waterAndSepticTanker-1c2bfdbb.js";import"./Hourglass-6cd7a8eb.js";import{R as z}from"./RotatingLoader-be809074.js";import"./ApiHeader2-b363f7b8.js";import"./hoist-non-react-statics.cjs-af4a2eab.js";function K({origin:e,destination:s}){const[d,c]=P.useState(null),l=t=>{t!==null&&t.status==="OK"&&c(t)};return m("div",{children:[r(G,{options:{destination:s,origin:e,travelMode:"DRIVING",drivingOptions:{departureTime:new Date}},callback:t=>l(t)}),d!==null&&r(L,{options:{directions:d}})]})}function X({bookingDetailsData:e}){var s,d,c,l,t,n,p,x,f,h,i,a,u,N,y,v,w,A,_,j;return r("div",{className:"p-4",children:r(M.Card,{children:m(M.CardBody,{children:[r("div",{className:"flex justify-between",children:r("h1",{className:"text-lg font-semibold",children:"Full Address"})}),m("div",{className:"flex flex-col mt-4",children:[r("div",{className:"flex flex-row justify-between",children:r("p",{className:"text-sm text-gray-600 font-semibold",children:(d=(s=e==null?void 0:e.data)==null?void 0:s.data)==null?void 0:d.applicant_name})}),r("div",{className:"flex flex-row justify-between",children:r("p",{className:"text-sm text-gray-600",children:(l=(c=e==null?void 0:e.data)==null?void 0:c.data)==null?void 0:l.address})}),r("hr",{className:"my-3"}),((n=(t=e==null?void 0:e.data)==null?void 0:t.data)==null?void 0:n.land_mark)&&m("div",{className:"flex flex-row gap-2",children:[r("p",{className:"text-sm text-gray-600",children:"Pin code "}),r("p",{className:"text-sm text-gray-600",children:":"}),r("p",{className:"text-sm text-gray-600",children:(x=(p=e==null?void 0:e.data)==null?void 0:p.data)==null?void 0:x.land_mark})]}),((h=(f=e==null?void 0:e.data)==null?void 0:f.data)==null?void 0:h.ward_name)&&m("div",{className:"flex flex-row gap-2",children:[r("p",{className:"text-sm text-gray-600",children:"Ward "}),r("p",{className:"text-sm text-gray-600",children:":"}),r("p",{className:"text-sm text-gray-600",children:(a=(i=e==null?void 0:e.data)==null?void 0:i.data)==null?void 0:a.ward_name})]}),((N=(u=e==null?void 0:e.data)==null?void 0:u.data)==null?void 0:N.pincode)&&m("div",{className:"flex flex-row gap-2",children:[r("p",{className:"text-sm text-gray-600",children:"Pin code "}),r("p",{className:"text-sm text-gray-600",children:":"}),r("p",{className:"text-sm text-gray-600",children:(v=(y=e==null?void 0:e.data)==null?void 0:y.data)==null?void 0:v.pincode})]}),((A=(w=e==null?void 0:e.data)==null?void 0:w.data)==null?void 0:A.mobile)&&m("div",{className:"flex flex-row gap-2",children:[r("p",{className:"text-sm text-gray-600",children:"Mobile "}),r("p",{className:"text-sm text-gray-600",children:":"}),r("p",{className:"text-sm text-gray-600",children:(j=(_=e==null?void 0:e.data)==null?void 0:_.data)==null?void 0:j.mobile})]})]})]})})})}function Z(){var n,p,x,f,h,i,a,u;const{id:e}=S(),{coords:s}=W(),d=T({api:V.bookingDetails,key:"bookingDetailsForWaterTanker",config:{applicationId:e},options:{enabled:!!e}}),[c,l]=P.useState({direction:{lat:((p=(n=d==null?void 0:d.data)==null?void 0:n.data)==null?void 0:p.booking_latitude)||23.365,lng:((f=(x=d==null?void 0:d.data)==null?void 0:x.data)==null?void 0:f.booking_longitude)||85.349419},origin:{lat:(s==null?void 0:s.latitude)||23.365,lng:(s==null?void 0:s.longitude)||85.349419}}),{isLoaded:t}=R({id:"google-map-script",googleMapsApiKey:"AIzaSyC0AArVHmqXGAxgWcljuOD_fvY5eDXfwS0"});return d!=null&&d.isFetching?r("div",{className:"flex justify-center items-center h-screen",children:r(z,{})}):t?m(C,{children:[r(X,{bookingDetailsData:d}),(i=(h=d==null?void 0:d.data)==null?void 0:h.data)!=null&&i.booking_latitude&&((u=(a=d==null?void 0:d.data)==null?void 0:a.data)!=null&&u.booking_longitude)?m(I,{mapContainerStyle:{height:"100vh",width:"100%"},center:c.direction,zoom:15,children:[r(F,{position:c.direction}),r(F,{position:c.origin}),r(O,{path:[c.origin,c.direction],options:{strokeColor:"#000",strokeOpacity:1,strokeWeight:2}}),r(K,{origin:c.origin,destination:c.direction})]}):r("div",{className:"flex flex-col justify-center items-center h-96"})]}):r(C,{})}export{Z as default};
