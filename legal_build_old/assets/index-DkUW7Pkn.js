import{c as E,u as O,r as d,M as ae,j as a,S,a2 as ne,a3 as T,m as A,g as re,a4 as se,e as oe,D as le,n as ie,a5 as ce,o as de,a6 as ue,a7 as me,a8 as fe,p as j,a9 as pe,aa as N,ab as he,l as ge}from"./index-CALXzMAa.js";import{u as M}from"./useCustomQuery-Cop2s5Sa.js";import{U as xe}from"./user-B_xC6hSP.js";const ve=E("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const ye=E("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);const be=E("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);function je(e=""){const{setTitle:t}=O();return d.useEffect(()=>{t(e)},[e]),null}var I="Avatar",[we,Ye]=ae(I),[Ne,U]=we(I),B=d.forwardRef((e,t)=>{const{__scopeAvatar:r,...s}=e,[n,c]=d.useState("idle");return a.jsx(Ne,{scope:r,imageLoadingStatus:n,onImageLoadingStatusChange:c,children:a.jsx(S.span,{...s,ref:t})})});B.displayName=I;var F="AvatarImage",D=d.forwardRef((e,t)=>{const{__scopeAvatar:r,src:s,onLoadingStatusChange:n=()=>{},...c}=e,o=U(F,r),i=Ce(s),u=ne(l=>{n(l),o.onImageLoadingStatusChange(l)});return T(()=>{i!=="idle"&&u(i)},[i,u]),i==="loaded"?a.jsx(S.img,{...c,ref:t,src:s}):null});D.displayName=F;var z="AvatarFallback",$=d.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:s,...n}=e,c=U(z,r),[o,i]=d.useState(s===void 0);return d.useEffect(()=>{if(s!==void 0){const u=window.setTimeout(()=>i(!0),s);return()=>window.clearTimeout(u)}},[s]),o&&c.imageLoadingStatus!=="loaded"?a.jsx(S.span,{...n,ref:t}):null});$.displayName=z;function Ce(e){const[t,r]=d.useState("idle");return T(()=>{if(!e){r("error");return}let s=!0;const n=new window.Image,c=o=>()=>{s&&r(o)};return r("loading"),n.onload=c("loaded"),n.onerror=c("error"),n.src=e,()=>{s=!1}},[e]),t}var K=B,q=D,G=$;const V=d.forwardRef(({className:e,...t},r)=>a.jsx(K,{ref:r,className:A("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));V.displayName=K.displayName;const W=d.forwardRef(({className:e,...t},r)=>a.jsx(q,{ref:r,className:A("aspect-square h-full w-full",e),...t}));W.displayName=q.displayName;const H=d.forwardRef(({className:e,...t},r)=>a.jsx(G,{ref:r,className:A("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));H.displayName=G.displayName;var w={},Y={exports:{}},ke="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",_e=ke,Ee=_e;function J(){}function Q(){}Q.resetWarningCache=J;var Oe=function(){function e(s,n,c,o,i,u){if(u!==Ee){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Q,resetWarningCache:J};return r.PropTypes=r,r};Y.exports=Oe();var X=Y.exports;const Je=re(X);Object.defineProperty(w,"__esModule",{value:!0});w.default=void 0;var Se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Ae=function(){function e(t,r){for(var s=0;s<r.length;s++){var n=r[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,r,s){return r&&e(t.prototype,r),s&&e(t,s),t}}(),C,R,Ie=w.confirmAlert=ze,Z=d,v=ee(Z),Re=X,m=ee(Re),P=se;function ee(e){return e&&e.__esModule?e:{default:e}}function Pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Le(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var k=(R=C=function(e){Le(t,e);function t(){var r,s,n,c;Pe(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return c=(s=(n=L(this,(r=t.__proto__||Object.getPrototypeOf(t)).call.apply(r,[this].concat(i))),n),n.handleClickButton=function(l){l.onClick&&l.onClick(),n.close()},n.handleClickOverlay=function(l){var f=n.props,p=f.closeOnClickOutside,h=f.onClickOutside,g=l.target===n.overlay;p&&g&&(h(),n.close()),l.stopPropagation()},n.close=function(){var l=n.props.afterClose;De(),Be(n.props),Me(l)},n.keyboard=function(l){var f=n.props,p=f.closeOnEscape,h=f.onKeypressEscape,g=f.onkeyPress,x=f.keyCodeForClose,y=l.keyCode,te=y===27;x.includes(y)&&n.close(),p&&te&&(h(l),n.close()),g&&g()},n.componentDidMount=function(){document.addEventListener("keydown",n.keyboard,!1)},n.componentWillUnmount=function(){document.removeEventListener("keydown",n.keyboard,!1),n.props.willUnmount()},n.renderCustomUI=function(){var l=n.props,f=l.title,p=l.message,h=l.buttons,g=l.customUI,x={title:f,message:p,buttons:h,onClose:n.close};return g(x)},s),L(n,c)}return Ae(t,[{key:"render",value:function(){var s=this,n=this.props,c=n.title,o=n.message,i=n.buttons,u=n.childrenElement,l=n.customUI,f=n.overlayClassName;return v.default.createElement("div",{className:"react-confirm-alert-overlay "+f,ref:function(h){return s.overlay=h},onClick:this.handleClickOverlay},v.default.createElement("div",{className:"react-confirm-alert"},l?this.renderCustomUI():v.default.createElement("div",{className:"react-confirm-alert-body"},c&&v.default.createElement("h1",null,c),o,u(),v.default.createElement("div",{className:"react-confirm-alert-button-group"},i.map(function(p,h){return v.default.createElement("button",Se({key:h,className:p.className},p,{onClick:function(x){return s.handleClickButton(p)}}),p.label)})))))}}]),t}(Z.Component),C.propTypes={title:m.default.string,message:m.default.string,buttons:m.default.array.isRequired,childrenElement:m.default.func,customUI:m.default.func,closeOnClickOutside:m.default.bool,closeOnEscape:m.default.bool,keyCodeForClose:m.default.arrayOf(m.default.number),willUnmount:m.default.func,afterClose:m.default.func,onClickOutside:m.default.func,onKeypressEscape:m.default.func,onkeyPress:m.default.func,overlayClassName:m.default.string},C.defaultProps={buttons:[{label:"Cancel",onClick:function(){return null},className:null},{label:"Confirm",onClick:function(){return null},className:null}],childrenElement:function(){return null},closeOnClickOutside:!0,closeOnEscape:!0,keyCodeForClose:[],willUnmount:function(){return null},afterClose:function(){return null},onClickOutside:function(){return null},onKeypressEscape:function(){return null}},R);w.default=k;var b=null,_="react-confirm-alert";function Te(){var e=document.getElementById("react-confirm-alert-firm-svg");if(!e){var t="http://www.w3.org/2000/svg",r=document.createElementNS(t,"feGaussianBlur");r.setAttribute("stdDeviation","0.3");var s=document.createElementNS(t,"filter");s.setAttribute("id","gaussian-blur"),s.appendChild(r);var n=document.createElementNS(t,"svg");n.setAttribute("id","react-confirm-alert-firm-svg"),n.setAttribute("class","react-confirm-alert-svg"),n.appendChild(s),document.body.appendChild(n)}}function Me(e){var t=document.getElementById("react-confirm-alert-firm-svg");t&&t.parentNode.removeChild(t),document.body.children[0].classList.remove("react-confirm-alert-blur"),e()}function Ue(e){var t=document.getElementById(e.targetId||_);e.targetId,t?(b=(0,P.createRoot)(t),b.render(v.default.createElement(k,e))):(document.body.children[0].classList.add("react-confirm-alert-blur"),t=document.createElement("div"),t.id=_,document.body.appendChild(t),b=(0,P.createRoot)(t),b.render(v.default.createElement(k,e)))}function Be(e){var t=document.getElementById(e.targetId||_);t&&b.unmount(t)}function Fe(){document.body.classList.add("react-confirm-alert-body-element")}function De(){document.body.classList.remove("react-confirm-alert-body-element")}function ze(e){Fe(),Te(),Ue(e)}const $e=(e,t,r)=>{Ie({customUI:({onClose:s})=>a.jsxs("div",{children:[a.jsx("div",{className:"fixed inset-0 bg-black opacity-50"}),a.jsxs("div",{className:"bg-white dark:bg-gray-700 py-4 px-12 shadow-lg rounded-md z-10 relative",children:[a.jsx("h1",{className:"text-lg font-bold",children:e}),a.jsx("p",{className:"text-sm",children:t}),a.jsxs("div",{className:"flex justify-end mt-4",children:[a.jsx("button",{className:"bg-red-500 text-white px-4 py-1 rounded-md",onClick:()=>{r(),s()},children:"Yes"}),a.jsx("button",{className:"bg-gray-500 text-white px-4 py-1 rounded-md ml-2",onClick:s,children:"No"})]})]})]})})};function Ke(){var n;M({});const{user:e,logout:t}=O(),r=()=>{$e("Are you sure?","Please confirm",async()=>{localStorage.clear(),t(),s("/legal")})},s=oe();return a.jsxs(le,{children:[a.jsx(ie,{asChild:!0,children:a.jsx(ce,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:a.jsxs(V,{className:"h-10 w-10",children:[a.jsx(W,{src:(e==null?void 0:e.imgFullPath)||"/images/user.png",alt:"profile"}),a.jsx(H,{children:"SN"})]})})}),a.jsxs(de,{className:"w-56",align:"end",forceMount:!0,children:[a.jsx(ue,{className:"font-normal",children:a.jsxs("div",{className:"flex flex-col space-y-1",children:[a.jsx("p",{className:"text-sm font-medium leading-none",children:e==null?void 0:e.fullName}),a.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:(n=e==null?void 0:e.email)==null?void 0:n.replace("@","[at]").replace(/\./g,"[dot]")})]})}),a.jsx(me,{}),a.jsxs(fe,{children:[a.jsxs(j,{onClick:()=>window.open("/settings/dashboard/home","_blank"),className:"flex items-center gap-2",children:[a.jsx(xe,{size:16}),a.jsx("span",{children:"Profile"})]}),a.jsxs(j,{onClick:()=>window.open("/settings/dashboard/change-password","_blank"),className:"flex items-center gap-2",children:[a.jsx(ye,{size:16}),a.jsx("span",{children:"Change Password"})]}),a.jsxs(j,{onClick:()=>window.open("/settings/dashboard/notification","_blank"),className:"flex items-center gap-2",children:[a.jsx(ve,{size:16}),a.jsx("span",{children:"Notifications"})]})]}),a.jsxs(j,{onClick:r,className:"flex items-center gap-2 text-red-600 focus:text-red-600",children:[a.jsx(be,{size:16}),a.jsx("span",{children:"Log out"})]})]})]})}const qe=({permittedModuleList:e,closeModuleModal:t})=>{const[r,s]=d.useState([]),n=o=>r.includes(o),c=o=>{window.location.replace(`${o}/transfer`)};return a.jsx("div",{className:"fixed  inset-0 z-50 flex items-center justify-center bg-black/50",children:a.jsx("div",{className:"animate__animated animate__zoomIn animate__faster max-h-[90vh] w-full max-w-5xl overflow-auto px-4",children:a.jsxs("div",{className:"relative rounded-xl bg-slate-500 shadow-xl",children:[a.jsx("button",{onClick:t,type:"button",className:"absolute right-3 top-3 rounded-lg bg-gray-300 p-1.5 text-gray-800 hover:bg-red-200",children:a.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}),a.jsxs("div",{className:"px-6 py-6",children:[a.jsx("h2",{className:"mb-6 text-center text-3xl font-medium text-white",children:"Choose Module"}),a.jsx("div",{className:"grid grid-cols-2 gap-6 sm:grid-cols-3 lg:grid-cols-4",children:e==null?void 0:e.map(o=>a.jsxs("div",{onClick:()=>c(o.url),className:"flex cursor-pointer flex-col items-center justify-center rounded-xl bg-gray-100 p-4 transition-all duration-200 hover:scale-105",children:[a.jsx("img",{className:"h-16 w-16",src:n(o.id)?"/images/category.png":o.image,alt:o.title,onError:()=>s(i=>[...i,o.id])}),a.jsx("div",{className:"mt-4 text-center font-bold",children:o.title})]},o.id))})]})]})})})},Ge=d.forwardRef(({children:e,title:t="",subTitle:r="",searchLink:s="",meta:n,...c},o)=>{je(t);const{user:i}=O();d.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},[t]);const u=M({}),[l,f]=d.useState([]),[p,h]=d.useState(!1),g=async()=>{var y;const x=await u.mutateAsync({api:ge.api_moduleList});f(((y=x==null?void 0:x.data)==null?void 0:y.data)||[])};return d.useEffect(()=>{g()},[]),a.jsxs(a.Fragment,{children:[a.jsxs(pe,{children:[a.jsx("title",{children:`${t} | Legal`}),n]}),a.jsxs("div",{ref:o,...c,children:[a.jsxs(N,{fixed:!0,children:[a.jsx(N.Header,{sticky:!0,className:"border-b border-r-2 border-r-muted",children:a.jsxs("div",{className:"flex w-full items-center justify-between space-x-4",children:[a.jsx("div",{}),a.jsx("button",{onClick:()=>h(!0),className:"ml-4 mr-4 flex items-center space-x-2 rounded-lg bg-[#1a4d8c] px-4 py-2 font-medium text-white shadow-md transition-all duration-200 hover:bg-[#07075b] hover:shadow-lg",children:a.jsx("span",{children:"Modules"})}),a.jsx("div",{className:"flex flex-1 justify-center",children:a.jsx("h1",{className:"bg-gradient-to-r from-slate-800 to-slate-600 bg-clip-text text-2xl font-bold tracking-tight text-transparent",children:(i==null?void 0:i.ulbName)||""})}),a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsx("div",{className:"flex min-w-0 flex-col items-end space-y-1",children:a.jsx("span",{className:"truncate rounded-full bg-slate-100 px-2 py-1 text-xs font-medium text-slate-800",children:(i==null?void 0:i.roleName)||""})}),a.jsx("div",{className:"flex-shrink-0",children:a.jsx(Ke,{})})]})]})}),a.jsxs(N.Body,{children:[a.jsxs("div",{className:"mb-2 flex items-center justify-between space-y-2",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:t}),a.jsx("p",{className:"text-muted-foreground",children:r})]}),s&&a.jsx(he,{className:"font-semibold text-blue-800 hover:underline",to:s,target:"_blank",children:a.jsx("div",{children:"Search Details"})})]}),a.jsx("div",{className:"-mx-4 flex-1 overflow-auto px-4 py-1 lg:flex-row lg:space-x-12 lg:space-y-0",children:e})]})]}),p&&a.jsx(qe,{closeModuleModal:()=>h(!1),permittedModuleList:l})]})]})}),Qe=Ge;export{Je as P,Qe as a,Ie as c};
