"use strict";(self.webpackChunkcitizen_landing=self.webpackChunkcitizen_landing||[]).push([[1916],{59053:function(e,s,t){t(72791);s.Z=t.p+"static/media/login.d89e81dc91e1fe9563b1494e61d26ec4.svg"},41916:function(e,s,t){t.r(s);var a=t(1413),o=t(29439),r=t(72791),l=t(55705),d=t(81724),n=t(59053),i=(t(21893),t(57689)),c=t(99008),x=t(18966),m=t(60786),u=t(5055),p=(t(97948),t(75985)),w=t(32612),h=(t(62037),t(7278)),f=t(82536),g=t(93157),b=t(80184);s.default=function(e){var s=(0,r.useState)(!1),t=(0,o.Z)(s,2),y=t[0],v=t[1],N=(0,c.Z)(),j=N.api_changePassword,P=N.api_forgotPassword,Z=((0,r.useContext)(u.n).notify,(0,i.s0)()),C=(0,r.useState)(),k=(0,o.Z)(C,2),S=k[0],_=(k[1],(0,r.useState)(!1)),E=(0,o.Z)(_,2),F=E[0],q=E[1],A=(0,r.useState)(null),O=(0,o.Z)(A,2),z=O[0],T=O[1],B=(0,i.UO)().type,D=d.Ry().shape({oldPassword:d.Z_().when([],{is:function(){return"change"==B},then:function(){return d.Z_().required("Enter old password")}}),newPassword:d.Z_().min(6,"Minimum six character !").max(50,"Too Long!").required("Enter new password !").matches(/^(?=.*\d)(?=.*[!@#$%^&*])(?=.*[a-z])(?=.*[A-Z]).{6,}$/,"Password Must Contains (Capital, Smail, Number, Special) eg - Abc123#."),matchNewPassword:d.Z_().required("Confirm your new password").oneOf([d.iH("newPassword"),null],"Password not match")}),M=(0,l.TA)({initialValues:{oldPassword:"",newPassword:"",matchNewPassword:""},onSubmit:function(e,s){console.log("post data",e),U(e)},validationSchema:D}),U=function(e){var s={password:e.oldPassword,newPassword:e.newPassword};console.log("request body before hit api => ",s),v(!0),g.Z.post("change"==B?j:P,s,(0,w.Z)()).then((function(e){var s,t;1==(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.status)&&(console.log("successfully changed => ",e),p.Am.success("Password changed successfully !!!"),Z("change"==B?"/landingDashboard":"/login")),0==(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.status)&&V(!0,"Error occured. Please try again later."),v(!1)})).catch((function(e){V(!0,"Error occured. Please try again later."),v(!1)}))},V=function(e,s){T(s),q(e)};return(0,b.jsxs)(b.Fragment,{children:[F&&(0,b.jsx)(f.Z,{activateBottomErrorCard:V,errorTitle:z}),(0,b.jsxs)("div",{className:"w-full text-center mx-auto h-max relative",children:[(0,b.jsx)("button",{className:"".concat(h.jn)+" absolute left-2 sm:-top-3",onClick:function(){return Z("change"==B?"/editProfile":"/login")},children:"Back"}),(0,b.jsx)("div",{className:"w-full md:w-3/5 h-max mx-auto mt-10 rounded-lg ",children:(0,b.jsx)("form",{onChange:function(e){var s=e.target.name,t=e.target.value;"mobile"==s&&M.setFieldValue("mobile",(0,m.Ud)(t,M.values.mobile,10))},children:(0,b.jsxs)("div",{className:"grid grid-cols-12 px-4 md:px-0 shadow-none md:shadow-lg ",children:[(0,b.jsx)("div",{className:"col-span-6 hidden md:block bg-white py-10",children:(0,b.jsx)("img",{className:"w-3/4",src:n.Z})}),(0,b.jsx)("div",{className:"w-full md:px-10 col-span-12 md:col-span-6 shadow-lg md:shadow-none bg-white py-10",children:(0,b.jsxs)("div",{className:"px-6 py-6 mt-10 text-gray-700 md:px-14",children:[(0,b.jsx)("h1",{className:"text-center font-semibold my-1 flex justify-center",children:(0,b.jsxs)("span",{className:"px-1 text-indigo-500 text-semibold text-2xl poppins uppercase",children:[B," Password"]})}),"change"==B&&(0,b.jsxs)("div",{className:"my-3 relative text-sm",children:[(0,b.jsx)("div",{className:"text-gray-600 static mb-1 font-semibold text-left poppins",children:"Old Password"}),(0,b.jsxs)("div",{className:"flex flex-row flex-wrap gap-x-2 gap-y-2",children:[(0,b.jsx)("input",(0,a.Z)((0,a.Z)({type:"password"},M.getFieldProps("oldPassword")),{},{className:"form-control px-3 text-xs 2xl:text-sm py-1 font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none shadow-md poppins w-full",placeholder:"Enter Your Old Password"})),(0,b.jsx)("div",{className:"w-full text-start",children:(0,b.jsx)("span",{className:"text-red-600 text-xs poppins text-start",children:M.touched.oldPassword&&M.errors.oldPassword?M.errors.oldPassword:null})})," "]})]}),(0,b.jsxs)("div",{className:"my-3 relative text-sm",children:[(0,b.jsx)("div",{className:"text-gray-600 static mb-1 font-semibold text-left poppins",children:"New Password"}),(0,b.jsxs)("div",{className:"flex flex-row flex-wrap gap-x-2 gap-y-2",children:[(0,b.jsx)("input",(0,a.Z)((0,a.Z)({type:"password"},M.getFieldProps("newPassword")),{},{className:"form-control px-3 text-xs 2xl:text-sm py-1 font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none shadow-md poppins w-full",placeholder:"Enter Your New Password"})),(0,b.jsx)("div",{className:"w-full text-start",children:(0,b.jsx)("span",{className:"text-red-600 text-xs poppins text-start",children:M.touched.newPassword&&M.errors.newPassword?M.errors.newPassword:null})})," "]})]}),(0,b.jsxs)("div",{className:"my-3 relative text-sm",children:[(0,b.jsx)("div",{className:"text-gray-600 static mb-1 font-semibold text-left poppins",children:"Confirm New Password"}),(0,b.jsxs)("div",{className:"flex flex-row flex-wrap gap-x-2 gap-y-2",children:[(0,b.jsx)("input",(0,a.Z)((0,a.Z)({type:"password"},M.getFieldProps("matchNewPassword")),{},{className:"form-control px-3 text-xs 2xl:text-sm py-1 font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none shadow-md poppins w-full",placeholder:"Confirm your new password"})),(0,b.jsx)("div",{className:"w-full text-start",children:(0,b.jsx)("span",{className:"text-red-600 text-xs poppins text-start",children:M.touched.matchNewPassword&&M.errors.matchNewPassword?M.errors.matchNewPassword:null})})," "]})]}),(0,b.jsx)("div",{className:" my-10"}),(0,b.jsx)("div",{className:"text-center mt-3 text-xs"}),(0,b.jsxs)("div",{className:"my-5   relative",children:[(0,b.jsxs)("div",{className:"text-red-600 text-sm font-semibold my-3 ",children:[" ",(0,b.jsxs)("span",{className:"",children:[" ",S]})]}),y?(0,b.jsx)("div",{className:"flex w-full justify-center",children:(0,b.jsx)(x.s5,{strokeColor:"grey",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0})}):(0,b.jsx)("button",{type:"submit",onClick:M.handleSubmit,disabled:y,className:" bg-indigo-500 hover:bg-indigo-700 px-5 shadow-xl py-2 w-[16rem]  rounded-md text-white text-md font-semibold",children:"Submit"})]})]})})]})})})]})]})}},21893:function(){}}]);
//# sourceMappingURL=1916.21e65c31.chunk.js.map