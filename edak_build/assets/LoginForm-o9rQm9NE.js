import{r as c,u as m,a as w,b as N,o as S,j as e,D as L,B as u,F as P,R as F,c as R,d as A,e as E,f as x,g as k,_ as r,h as B}from"./index-ycav3uq8.js";import{G as C,L as D}from"./GoogleLogin-Dsn3n9um.js";import{g}from"./services-KQnp_8oA.js";const G=E({email:x().required(),password:x().min(3)});function T(){const[h,n]=c.useState(!1),[d,f]=c.useState(""),p=m({}),j=m({}),{login:y}=w(),l=N({defaultValues:{email:"",password:""},resolver:S(G)}),b=async t=>{var i,o,a;try{const s=await p.mutateAsync({api:k.citizenLogin,data:t});(i=s==null?void 0:s.data)!=null&&i.success?(await y(s),r.success((o=s==null?void 0:s.data)==null?void 0:o.message)):r.error((a=s==null?void 0:s.data)==null?void 0:a.message)}catch(s){r.error(g(s.message))}},v=async()=>{var t,i,o;try{const a=await j.mutateAsync({api:B.forgetPassword,data:{email:d}});(t=a==null?void 0:a.data)!=null&&t.success?(n(!1),r.success((i=a==null?void 0:a.data)==null?void 0:i.message)):r.error((o=a==null?void 0:a.data)==null?void 0:o.message)}catch(a){r.error(g(a.message))}};return e.jsxs(e.Fragment,{children:[e.jsx(L,{open:h,setOpen:n,title:"Reset Your Password",children:e.jsx("div",{className:"p-4",children:e.jsxs("form",{onSubmit:t=>t.preventDefault(),children:[e.jsx("input",{value:d,onChange:t=>f(t.target.value),type:"text",placeholder:"Your email address",className:"input-field w-full rounded-md border border-gray-300 p-1.5"}),e.jsx("div",{children:e.jsx(u,{type:"button",onClick:v,className:"mt-4 w-full rounded-xl px-4 py-5 shadow-none",variant:"outline",children:"Send"})})]})})}),e.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-r from-blue-200 via-blue-300 to-blue-400 p-6",children:e.jsxs("div",{className:"flex w-full max-w-4xl flex-col overflow-hidden rounded-lg bg-white shadow-lg lg:flex-row",children:[e.jsxs("div",{className:"flex-1 p-10",children:[e.jsx("h2",{className:"mb-6 text-center text-xl font-bold text-gray-800",children:"Login to the Grievance Redressal System"}),e.jsx(P,{methods:l,onSubmit:l.handleSubmit(b),children:e.jsxs("div",{className:"mx-auto max-w-md space-y-4",children:[e.jsx("div",{className:"space-y-2",children:e.jsx(F,{className:"w-full rounded-lg border border-gray-300 bg-gray-100 px-5 py-5",name:"email",inputValidation:["removeSpace"],placeholder:"Enter your User Name"})}),e.jsx("div",{className:"space-y-2",children:e.jsx(R,{className:"w-full rounded-lg border border-gray-300 bg-gray-100 px-5 py-5",name:"password",placeholder:"Enter your Password"})}),e.jsx("div",{children:e.jsx(u,{type:"submit",isLoading:l.formState.isSubmitting,className:"mt-2 w-full rounded-lg bg-green-600 px-4 py-5 font-medium text-white transition duration-200 hover:bg-green-700",variant:"outline",children:"Login"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("hr",{className:"flex-1 border-gray-300"}),e.jsx("span",{className:"text-gray-500",children:"or"}),e.jsx("hr",{className:"flex-1 border-gray-300"})]}),e.jsx("div",{children:e.jsx(C,{})}),e.jsx("div",{children:e.jsx(A,{to:"https://epramaan.meripehchaan.gov.in/",children:e.jsx("div",{className:"flex cursor-pointer justify-center bg-teal-600 py-1.5 text-lg  font-medium text-white transition duration-200 hover:bg-teal-700",children:"Sign in with ePramaan"})})})]})})]}),e.jsx("div",{className:"flex hidden flex-1 items-center justify-center bg-gradient-to-b from-gray-200 to-gray-300 lg:block",children:e.jsx(D,{})})]})})]})}export{T as default};
