import{m as q,r as s,d as L,c as M,a as P,p,u as A,j as o,P as z,v as a,C as E}from"./index-dbad4e29.js";import{R as T,L as $}from"./index.esm-9b916a9c.js";import{R as V}from"./Hourglass-2bdfaa25.js";import"./index-5b2ea409.js";import"./index.esm-cdb4a20d.js";import"./ShimmerEffectInline-63140ef9.js";const K=()=>{q("Collection Report");const{api_CollectionReport:h}=z(),[x,B]=s.useState(!1);L();const f=[{Header:"Sl.No.",Cell:({row:e})=>o.jsx("div",{children:(e==null?void 0:e.index)+1})},{Header:"Name",accessor:"full_name",Cell:({cell:e})=>{var t;return a((t=e.row.original)==null?void 0:t.full_name)}},{Header:"Mobile No.",accessor:"mobile",Cell:({cell:e})=>{var t;return a((t=e.row.original)==null?void 0:t.mobile)}},{Header:"Challan No",accessor:"challan_no",Cell:({cell:e})=>{var t;return a((t=e.row.original)==null?void 0:t.challan_no)}},{Header:"Violation Made",accessor:"violation_name",Cell:({cell:e})=>{var t;return a((t=e.row.original)==null?void 0:t.violation_name)}},{Header:"Violation Section",accessor:"violation_section",Cell:({cell:e})=>{var t;return a((t=e.row.original)==null?void 0:t.violation_section)}},{Header:"Violation Place",accessor:"violation_place",Cell:({cell:e})=>{var t;return a((t=e.row.original)==null?void 0:t.violation_place)}},{Header:"Transaction No",accessor:"tran_no",Cell:({cell:e})=>{var t;return a((t=e.row.original)==null?void 0:t.tran_no)}},{Header:"Transaction Date",accessor:"tran_date",Cell:({cell:e})=>{var t;return a((t=e.row.original)==null?void 0:t.tran_date)}},{Header:"Payment Mode",accessor:"payment_mode",Cell:({cell:e})=>{var t;return a((t=e.row.original)==null?void 0:t.payment_mode)}},{Header:"Penalty Amount",accessor:"total_amount",Cell:({cell:e})=>{var t;return E((t=e.row.original)==null?void 0:t.total_amount)}}],[c,g]=s.useState({}),[b,m]=s.useState(0),[w,j]=s.useState(!1),[O,v]=s.useState(!1),y="text-gray-800 text-sm",d="border focus:outline-none drop-shadow-sm focus:drop-shadow-md px-4 py-1 text-gray-700 shadow-black placeholder:text-sm",n=[{title:"From Date",key:"fromDate",width:"md:w-[20%] w-full",type:"date",hint:"",required:!0,options:"",okey:"",ovalue:""},{title:"Upto Date",key:"uptoDate",width:"md:w-[20%] w-full",type:"date",hint:"",required:!0,options:"",okey:"",ovalue:""},{title:"Payment Mode",key:"paymentMode",width:"md:w-[20%] w-full",type:"select",hint:"Enter your name",options:[{id:"CASH",value:"Cash"},{id:"CHEQUE",value:"Cheque"},{id:"DD",value:"DD"},{id:"ONLINE",value:"Online"}],okey:"id",ovalue:"value"}],C=(e,t="",i,S="",H="",R=!1,l=[],F="",k="")=>o.jsxs("div",{className:`flex flex-col ${S} `,children:[t!=""&&o.jsxs("label",{htmlFor:e,className:y,children:[t," ",R&&o.jsx("span",{className:"text-red-500 text-xs font-bold",children:"*"})," : "]}),i!="select"&&i!="file"&&o.jsx("input",{...r.getFieldProps(e),type:i,className:d+` ${r.touched[e]&&r.errors[e]?" border-red-200 placeholder:text-red-400 ":" focus:border-zinc-300 border-zinc-200"}`,name:e,id:"",placeholder:H}),i=="select"&&o.jsx("select",{...r.getFieldProps(e),className:d+` ${r.touched[e]&&r.errors[e]?" border-red-200 placeholder:text-red-400 text-red-400":" focus:border-zinc-300 border-zinc-200 "}`,children:x?o.jsx("option",{children:"Loading..."}):o.jsxs(o.Fragment,{children:[o.jsx("option",{value:null,children:"Select"}),l==null?void 0:l.map(u=>o.jsx("option",{className:"",value:u[F],children:u[k]}))]})})]}),N=M().shape([...n].reduce((e,t)=>(t!=null&&t.required&&(e[t.key]=P().required(t==null?void 0:t.hint)),e),{})),D={fromDate:p(),uptoDate:p(),paymentMode:""},r=A({initialValues:D,enableReinitialize:!0,validationSchema:N,onSubmit:e=>{_(e)}}),_=e=>{v(!0),g({fromDate:e==null?void 0:e.fromDate,uptoDate:e==null?void 0:e.uptoDate,paymentMode:e==null?void 0:e.paymentMode}),m(t=>t+1)};return o.jsxs(o.Fragment,{children:[o.jsxs("form",{onSubmit:r.handleSubmit,onChange:r.handleChange,className:"bg-white poppins p-4 mb-8",children:[o.jsx("h1",{className:"text-xl font-semibold uppercase text-center text-gray-700 border-b border-gray-400 mb-4 pb-1",children:"Collection Report"}),o.jsxs("section",{className:"flex gap-4 flex-wrap my-6",children:[n==null?void 0:n.map(e=>C(e==null?void 0:e.key,e==null?void 0:e.title,e==null?void 0:e.type,e==null?void 0:e.width,e==null?void 0:e.hint,e==null?void 0:e.required,e==null?void 0:e.options,e==null?void 0:e.okey,e==null?void 0:e.ovalue)),o.jsx("div",{className:"mt-4 w-full md:w-[30%] flex flex-row flex-wrap items-center gap-x-4 gap-y-2 md:mt-4",children:o.jsx("div",{className:" ",children:w?o.jsx(o.Fragment,{children:o.jsx("div",{className:"flex justify-center",children:o.jsx(V,{strokeColor:"grey",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0})})}):o.jsxs("button",{type:"submit",className:" flex items-center border border-green-600 bg-green-500 hover:bg-green-600 text-white shadow-md rounded-sm  text-sm px-5 py-1",children:[o.jsx("span",{className:"",children:o.jsx(T,{fontSize:""})}),o.jsx("span",{children:"Search Record"})]})})})]})]}),Object.keys(c).length!==0&&o.jsx($,{api:h,columns:f,requestBody:c,changeData:b,search:!1,loader:e=>j(e)})]})};export{K as default};
