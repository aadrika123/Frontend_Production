import{a as j,j as e,g as N,r as o,A as u,P as y}from"./index-497a4977.js";import{A as b}from"./AxiosInterceptors-1e76cd3d.js";import{u as _}from"./useSetTitle-9b5d2d22.js";import{b as A}from"./index.esm-f666ebd4.js";import{W as k}from"./react-tooltip.min-40d19ad6.js";import{i as L,g as S,e as F,n as C}from"./PowerupFunctions-40967c8e.js";import{c as I}from"./index.esm-ef96ada6.js";import{S as P}from"./ShimmerEffectInline-fd3e1375.js";const H=t=>{var s;const l=j();return e.jsx("div",{className:" bg-white shadow-xl py-4 px-2 md:px-6 md:py-6 mt-4 mx-10 mb-10 animate__animated animate__fadeInDown animate__faster",children:e.jsxs("div",{className:"flex flex-col md:flex-row",children:[e.jsxs("div",{className:"flex-initial ml-4",children:[e.jsx("div",{className:"text-2xl font-bold text-black google-roboto capitalize",children:t==null?void 0:t.heading}),e.jsx("div",{className:"mt-1",children:e.jsxs("span",{className:"text-gray-600",children:[e.jsx(A,{className:"inline text-green-500 text-xl"}),t==null?void 0:t.subHeading]})}),e.jsx("div",{})]}),e.jsx("div",{className:"flex-1 flex text-right justify-center items-center md:justify-end md:items-end h-full mt-4 md:mt-0",children:((s=t==null?void 0:t.allRole)==null?void 0:s.user_type)=="CO"&&e.jsxs(e.Fragment,{children:[e.jsx(k,{anchorId:"button-1"}),e.jsx("button",{id:"button-1","data-tooltip-content":"Click to go to fine & penalty workflow.",onClick:()=>l(t==null?void 0:t.mainWorkflowLink),className:"cypress_floor_add_update text-white px-4 md:px-8 py-3 bg-indigo-500 font-medium border text-xs leading-tight capitalize rounded-xl shadow-md hover:bg-indigo-700 hover:shadow-lg focus:bg-indigo-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-indigo-800 active:shadow-lg transition duration-150 ease-in-out",children:"Fine & Penalty Workflow"})]})})]})})},D="/assets/forms-9a62bcb2.png",w=t=>e.jsx("div",{class:"transform hover:scale-105 transition duration-300 shadow-xl",children:e.jsxs("div",{class:"p-5 bg-white",children:[e.jsxs("div",{class:"flex justify-between border-b pb-4",children:[e.jsx("span",{className:"w-10 h-10 bg-indigo-100 rounded-full flex justify-center items-center",children:e.jsx("img",{className:"bg-indigo-50 rounded-full p-1",src:D,alt:""})}),e.jsx("div",{class:"bg-indigo-100 rounded-full h-6 px-2 flex justify-items-center text-indigo-600 font-semibold text-xs",children:e.jsx("span",{class:"flex items-center",children:L(S())})})]}),e.jsx("div",{class:"ml-2 w-full flex-1",children:e.jsx("div",{children:e.jsxs("div",{class:"flex justify-between mt-4 pr-4",children:[e.jsx("div",{class:"mt-1 text-base text-gray-600",children:t==null?void 0:t.heading}),e.jsx("div",{className:"font-bold leading-8 text-xl",children:t!=null&&t.loading?e.jsx("div",{class:"spinner2"}):F(t==null?void 0:t.total)})]})})})]})}),v=t=>{const l=j();return e.jsxs("div",{className:"w-full rounded overflow-hidden shadow-lg bg-white p-2 px-10 flex items-center gap-6",children:[e.jsx("div",{className:"flex-1",children:t==null?void 0:t.heading}),e.jsx("div",{onClick:()=>l(t==null?void 0:t.path),className:"cursor-pointer hover:bg-indigo-200 w-10 h-10 bg-indigo-50 rounded-full inline-flex justify-center items-center",children:e.jsx(I,{className:"inline text-indigo-500"})})]})},R=t=>{var s,i,x,d,r,c;const l=j();return e.jsx(e.Fragment,{children:e.jsxs("table",{className:"min-w-full leading-normal",children:[e.jsx("thead",{className:"bg-indigo-100",children:e.jsxs("tr",{className:"font-semibold",children:[e.jsx("th",{scope:"col",className:"px-2 py-2 border-b border-gray-200 text-gray-800  text-left text-sm",children:"#"}),(s=t==null?void 0:t.heading)==null?void 0:s.map(a=>e.jsx("th",{scope:"col",className:"px-2 py-2 border-b border-gray-200 text-gray-800  text-left text-sm",children:a})),e.jsx("th",{scope:"col",className:"px-2 py-2 border-b border-gray-200 text-gray-800  text-left text-sm",children:"Action"})]})}),e.jsx("tbody",{className:"bg-white",children:t!=null&&t.loading?e.jsx("tr",{children:e.jsx("td",{colSpan:((i=t==null?void 0:t.heading)==null?void 0:i.length)+2,children:e.jsx(P,{})})}):e.jsx(e.Fragment,{children:Array.isArray(t==null?void 0:t.data)&&e.jsx(e.Fragment,{children:((x=t==null?void 0:t.data)==null?void 0:x.length)>0?e.jsx(e.Fragment,{children:(r=(d=t==null?void 0:t.data)==null?void 0:d.slice(0,10))==null?void 0:r.map((a,h)=>{var m;return e.jsx(e.Fragment,{children:e.jsxs("tr",{className:"bg-white shadow-lg border-b border-gray-200",children:[e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:h+1}),(m=t==null?void 0:t.dataKey)==null?void 0:m.map((f,g)=>{var n;return e.jsx("td",{className:`px-2 py-2 text-sm text-left ${g==((n=t==null?void 0:t.dataKey)==null?void 0:n.length)-1&&"w-[7%]"}`,children:C(a[f])})}),e.jsxs("td",{className:"px-2 py-2 text-sm text-left",children:[" ",e.jsx("button",{className:"w-max cursor-pointer px-4 py-1 bg-indigo-500 hover:bg-indigo-600 text-white text-sm",onClick:()=>l(`${t==null?void 0:t.viewLink}${a==null?void 0:a.id}`),children:"View"})]})]})})})}):e.jsx("tr",{children:e.jsx("td",{colSpan:((c=t==null?void 0:t.heading)==null?void 0:c.length)+2,className:"text-center text-red-500 font-semibold py-4",children:"No Application Found"})})})})})]})})};function O(){_("Home");const{api_FPTrack:t,api_getInfractionList:l}=y(),s=N("userDetails"),[i,x]=o.useState(null),[d,r]=o.useState(null),[c,a]=o.useState(!1),[h,m]=o.useState(!1),f=()=>{a(!0),b.post(t,{},u()).then(function(n){r(n.data.data)}).catch(function(n){}).finally(()=>a(!1))},g=()=>{m(!0),b.post(l,{},u()).then(function(n){x(n.data.data),a(!1)}).catch(function(n){}).finally(()=>m(!1))};return o.useEffect(()=>{f(),g()},[]),e.jsxs(e.Fragment,{children:[e.jsx(H,{allRole:s,heading:"Fines & Penalties Home Page",subHeading:"Verified Account",mainWorkflowLink:"/fp-workflow"}),e.jsxs("div",{class:"grid grid-cols-12 items-center mx-10 ",children:[e.jsxs("div",{class:"flex flex-row flex-wrap gap-2 items-start col-span-12 md:col-span-6 ",children:[e.jsx("div",{className:"w-[45%] animate__animated animate__zoomIn animate__faster",children:e.jsx(w,{heading:"Pending Application",total:i==null?void 0:i.total,loading:c})}),e.jsx("div",{className:"w-[45%] animate__animated animate__zoomIn animate__faster",children:e.jsx(w,{heading:"Challan Generated",total:d==null?void 0:d.total,loading:c})})]}),e.jsxs("div",{class:"flex flex-col flex-wrap gap-4 justify-center col-span-12 md:col-span-6 md:mt-0 mt-10 animate__animated animate__fadeInLeft animate__faster",children:[e.jsx("div",{className:"w-full md:w-[50%]",children:e.jsx(v,{heading:"Application List",path:"/fp-list"})}),e.jsx("div",{className:"w-full md:w-[50%]",children:e.jsx(v,{heading:"Search Challan",path:"/search-challan"})})]})]}),e.jsxs("div",{className:"mx-10 mt-10 md:w-auto w-[80vw] overflow-auto animate__animated animate__fadeInUp animate__faster",children:[e.jsx("div",{className:"font-bold text-md mb-2 flex-1 text-gray-600",children:"# Recent Applications"}),e.jsx(R,{loading:h,heading:["Application No.","Name","Mobile No.","Holding No.","Violation Name","Violation Section","Amount (â‚¹)","Apply Date"],dataKey:["application_no","full_name","mobile_no","holding_no","violation_name","violation_section","amount","date"],data:(i==null?void 0:i.data)??[],viewLink:"/fp-details/"})]})]})}export{O as default};
