import{r as n,j as e,d as y,a as z,H as U,b as A,P as H,l as D,g as O,e as N,N as S,s as $,c as P,O as E}from"./index-497a4977.js";import{M as I}from"./index-38e9e338.js";import{a as T,F as V}from"./index.esm-0d997b15.js";import{B as W}from"./BarLoader-8eca6ac4.js";import{u as G}from"./DynamicData-89ec0084.js";import"./react-tooltip.min-40d19ad6.js";import"./AxiosInterceptors-1e76cd3d.js";import{B as q,a as J,b as Y}from"./index.esm-81eb4a4b.js";import{a as K,b as Q}from"./index.esm-109052b0.js";import{M as X,a as Z}from"./index.esm-f666ebd4.js";import{G as ee}from"./index.esm-a2cd3cfc.js";import{u as se}from"./useSetTitle-9b5d2d22.js";import"./index-5a75a7a3.js";const te="/assets/category-eb5fd5db.png";function le(l){var h;const[a,d]=n.useState([]),r=t=>a==null?void 0:a.some(m=>m==t),x=t=>{window.location.replace(`${t}/transfer`)};return e.jsx("div",{className:"w-full h-full md:w-1/2 mx-auto mt-40 animate__animated animate__zoomIn animate__faster ",children:e.jsxs("div",{className:"bg-slate-500 shadow-xl flex justify-center items-center relative",children:[e.jsx("button",{onClick:l==null?void 0:l.closeModuleModal,type:"button",class:"absolute top-3 right-2.5 text-gray-100 bg-transparent bg-gray-300 hover:bg-red-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center darks:hover:bg-gray-800 darks:hover:text-white",children:e.jsx("svg",{class:"w-5 h-5",fill:"currentColor",children:e.jsx("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})})}),e.jsxs("div",{className:"w-full px-4 mx-auto py-4 md:py-6 ",children:[e.jsx("div",{className:"w-full",children:e.jsx("div",{children:e.jsx("h2",{className:"text-3xl text-white font-medium text-center",children:"Choose Module"})})}),e.jsx("div",{className:"my-6 relative",children:e.jsx("div",{className:"grid gap-6 grid-cols-2 sm:grid-cols-3 lg:grid-cols-4",children:Array.isArray(l==null?void 0:l.permittedModuleList)&&((h=l==null?void 0:l.permittedModuleList)==null?void 0:h.map(t=>e.jsxs("div",{onClick:()=>x(t==null?void 0:t.url),className:"bg-gray-100 hover:scale-105 transition-all duration-200 rounded-xl flex flex-col justify-center items-center p-4 md:p-6 relative cursor-pointer",href:"",children:[e.jsx("img",{className:"h-16 w-16",src:r(t==null?void 0:t.id)?te:t==null?void 0:t.image,alt:t==null?void 0:t.title,onError:()=>d(m=>[...m,t==null?void 0:t.id])}),e.jsx("div",{className:"font-bold mt-4 text-center",children:t==null?void 0:t.title})]})))})})]})]})})}const ae=()=>{const[l,a]=n.useState(!1),[d,r]=n.useState(!1);n.useState(!1);const[x,h]=n.useState([]),[t,m]=n.useState(!1),[u,f]=n.useState(!1),i=n.useRef(null),{toggleBar:C,settoggleBar:_}=n.useContext(y),c=JSON.parse(localStorage.getItem("userDetails")),{api_moduleList:k}=H(),{brand_tag:M}=G(),L=z(),B=(c==null?void 0:c.name)||"User",p=()=>a(!0),s=()=>a(!1),b=()=>r(!1),v={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",border:"none",borderRadius:"12px",padding:"0"},overlay:{backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:1e3}},o=()=>{m(!1),D(),L("/")},g=()=>{a(!1),o()},R=()=>{A.post(k,{}).then(j=>{var w;h(((w=j==null?void 0:j.data)==null?void 0:w.data)||[])})};n.useEffect(()=>{R()},[]);const F=()=>{var j;return((j=c==null?void 0:c.name)==null?void 0:j.split(" ").map(w=>w[0]).join("").slice(0,2).toUpperCase())||"U"};return e.jsxs(e.Fragment,{children:[t&&e.jsx(W,{}),e.jsxs("header",{className:"bg-white border-b shadow-sm px-4 py-2 flex items-center justify-between print:hidden",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-9 h-9 rounded-lg bg-[#1a4d8c] text-white flex items-center justify-center font-bold",children:"UD"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold leading-tight",children:M}),e.jsx("p",{className:"text-xs text-gray-500",children:"Urban Development"})]})]}),e.jsx("button",{onClick:()=>_(!C),className:"ml-2 p-2 rounded hover:bg-gray-100",children:e.jsx("svg",{className:"w-5 h-5 text-gray-700",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M4 6h16v2H4zM4 11h16v2H4zM4 16h16v2H4z"})})}),e.jsxs("button",{onClick:()=>r(!0),className:"ml-4 bg-[#1a4d8c] text-white px-4 py-1.5 rounded-lg text-sm flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M3 3h8v8H3zM13 3h8v8h-8zM3 13h8v8H3zM13 13h8v8h-8z"})}),"Modules"]}),e.jsxs("div",{className:"ml-4 flex items-center gap-2 text-gray-800 font-medium",children:[e.jsx("svg",{className:"w-4 h-4 text-[#1a4d8c]",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M12 2L3 7v2h18V7l-9-5zM5 10v9h3v-6h2v6h4v-6h2v6h3v-9H5z"})}),(c==null?void 0:c.ulbName)||"No Ulb Specified"]})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{className:"relative",ref:i,children:[e.jsxs("button",{onClick:()=>f(!u),className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200  group",children:[e.jsx("div",{className:"relative",children:e.jsx("div",{className:"w-10 h-10 bg-[#1a4d8c] rounded-full flex items-center justify-center text-white font-bold shadow-lg",children:F()})}),e.jsx("div",{className:"hidden md:block text-left",children:e.jsx("p",{className:"font-semibold text-gray-800",children:B})}),e.jsx("svg",{className:`w-5 h-5 text-gray-500 transition-transform duration-200 ${u?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),u&&e.jsx("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-xl shadow-2xl border border-gray-100 overflow-hidden z-50 animate-fadeIn",children:e.jsxs("div",{className:"py-2",children:[e.jsxs("button",{onClick:()=>window.open("/settings/dashboard/home","_blank"),className:"w-full px-4 py-3 flex items-center space-x-3 hover:bg-blue-50 transition-colors duration-150 text-left",children:[e.jsx(U,{className:"w-5 h-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-800",children:"My Profile"}),e.jsx("p",{className:"text-sm text-gray-500",children:"View your profile"})]})]}),e.jsxs("button",{onClick:()=>window.open("/settings/dashboard/change-password","_blank"),className:"w-full px-4 py-3 flex items-center space-x-3 hover:bg-blue-50 transition-colors duration-150 text-left border-t border-gray-100",children:[e.jsx(T,{className:"w-5 h-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-800",children:"Change Password"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Update your password"})]})]}),e.jsxs("button",{onClick:()=>window.open("/settings/dashboard/notification","_blank"),className:"w-full px-4 py-3 flex items-center space-x-3 hover:bg-blue-50 transition-colors duration-150 text-left border-t border-gray-100",children:[e.jsx(q,{className:"w-5 h-5 text-orange-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-800",children:"Notifications"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Read notifications"})]})]}),e.jsxs("button",{onClick:p,className:"w-full px-4 py-3 flex items-center space-x-3 hover:bg-red-50 transition-colors duration-150 text-left border-t border-gray-100",children:[e.jsx(K,{className:"w-5 h-5 text-red-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-800",children:"Logout"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Sign out from system"})]})]})]})})]})})})]}),e.jsx(I,{isOpen:l,onRequestClose:s,style:v,contentLabel:"Logout Confirmation",children:e.jsxs("div",{className:"relative p-6",children:[e.jsx("button",{onClick:s,type:"button",className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors duration-200",children:e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-100 mb-4",children:e.jsx(V,{className:"h-10 w-10 text-red-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Confirm Logout"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to logout? You'll need to login again to access your account."}),e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsx("button",{onClick:s,className:"px-6 py-2.5 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-200",children:"Cancel"}),e.jsx("button",{onClick:g,className:"px-6 py-2.5 bg-red-600  text-white font-medium rounded-lg hover:bg-red-700 hover:to-red-800 transition-all duration-200 shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50",children:"Yes, Logout"})]})]})]})}),e.jsx(I,{isOpen:d,onRequestClose:b,className:"z-20 h-screen w-screen backdrop-blur-sm flex items-center justify-center overflow-auto",overlayClassName:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",contentLabel:"Modules",children:e.jsx(le,{closeModuleModal:b,permittedModuleList:x})})]})};const ne=l=>{var p;const{toggleBar:a,settoggleBar:d}=n.useContext(y);let r=O("userDetails");const[x,h]=n.useState(N("dropDown")||!1),[t,m]=n.useState(N("dropName")||"");let u="white",f="indigo",i="gray";const C=`block w-full pl-7 py-2 px-6 clear-both whitespace-nowrap text-sm hover:bg-${f}-700 hover:text-${i}-100 rounded-md text-sm animate__animated animate__fadeIn animate__faster `,_=`block py-3 px-4 hover:bg-${f}-700 hover:text-${i}-100 rounded-md animate__animated animate__fadeIn animate__faster `,c=`animate__animated animate__slideInLeft animate__faster bg-${u} -100 w-[16.5rem] `,k="animate__animated animate__fadeInLeft animate__faster ",M=`w-0 sm:w-3 bg-${u} -100 animate__animated `,L="animate__animated animate__fadeOutLeft animate__faster ",B=s=>{$("dropDown",!x),$("dropName",s),h(!x),m(s)};return e.jsx(e.Fragment,{children:e.jsx("header",{className:(a?c:M)+` relative select-none transition-all duration-200 h-full text-${i}-800 pt-2 border-r border-${i}-200`,children:e.jsx("div",{class:(a?k:L)+` bg-${u}-100 w-full inset-0 `,id:"mobile-menu",children:e.jsx("nav",{id:"mobile-nav",class:"flex flex-col ltr:right-0 rtl:left-0 w-full top-0 py-4 ",children:e.jsxs("div",{class:`mb-auto text-sm 2xl:text-base text-${i}-800`,children:[e.jsxs("div",{class:"text-center mb-4",children:[e.jsxs("div",{class:`text-xl text-${i}-800 flex flex-col items-start justify-center relative`,children:[e.jsxs("span",{className:"flex justify-center w-full",children:[" ",e.jsx("span",{className:`text-[50px] flex justify-center py-2 text-${i}-800`,children:e.jsx(ee,{})})]}),e.jsx("span",{className:"flex justify-center w-full",children:r==null?void 0:r.name}),e.jsxs("span",{className:"flex justify-center w-full uppercase text-xs font-semibold",children:["( ",(r==null?void 0:r.role)||"Role Name"," )"]})]}),e.jsx("hr",{className:`my-4 bg-${u} -700 h-[0.1rem]`})]}),e.jsx("div",{class:" text-sm px-4 overflow-y-auto scrollbar-width-10 scrollbar-track-blue-100 scrollbar-thumb-blue-700 scrollbar-thumb-rounded-full scrollbar-thumb-hover-blue-500 transition-all duration-200",children:e.jsx("nav",{class:"relative flex flex-wrap items-center justify-between overflow-x-hidden",children:e.jsx("ul",{id:"side-menu",class:"w-full float-none flex flex-col",children:(p=l==null?void 0:l.menu)==null?void 0:p.map(s=>{var b,v;return e.jsx(e.Fragment,{children:e.jsxs("li",{className:"relative cursor-pointer mb-1",onClick:()=>{var o;window.innerWidth<=763&&((o=s==null?void 0:s.children)==null?void 0:o.length)==0&&d(!a)},children:[e.jsxs(S,{to:(s==null?void 0:s.path)==""?null:s==null?void 0:s.path,className:({isActive:o})=>{var g;return(o&&((g=s==null?void 0:s.children)==null?void 0:g.length)==0?`bg-${f}-600 text-${i}-100 `:" ")+`${_} flex gap-4 items-center`},onClick:()=>{B(s==null?void 0:s.name),t==(s==null?void 0:s.name)&&m("")},children:[" ",e.jsx("span",{children:e.jsx(X,{})})," ",e.jsxs("div",{className:"flex justify-between items-center flex-1",children:[e.jsx("span",{children:s==null?void 0:s.name}),((s==null?void 0:s.path)==null||(s==null?void 0:s.path)=="")&&e.jsx("span",{className:t==(s==null?void 0:s.name)?"transition-all duration-200 ease-in-out rotate-90":"transition-all duration-200 ease-in-out rotate-0",children:e.jsx(J,{})})]})," "]}),((b=s==null?void 0:s.children)==null?void 0:b.length)>0&&t==(s==null?void 0:s.name)&&e.jsx("ul",{class:`block rounded rounded-t-none top-full py-0.5 ltr:text-left rtl:text-right mb-4 bg-${f}-200`,children:(v=s==null?void 0:s.children)==null?void 0:v.map(o=>e.jsx(e.Fragment,{children:e.jsx("li",{class:"relative cursor-pointer mt-1",onClick:()=>{window.innerWidth<=763&&d(!a)},children:e.jsxs(S,{to:o==null?void 0:o.path,className:({isActive:g})=>(g?`bg-${f}-600 text-${i}-100 `:" ")+`${C} flex gap-3 items-center`,children:[e.jsx("span",{children:e.jsx(Z,{})})," ",e.jsx("span",{className:"",children:o==null?void 0:o.name})]})})}))})]})})})})})})]})})})})})},re=()=>{n.useContext(y);let l=O("menuList");return e.jsx(e.Fragment,{children:e.jsx(ne,{menu:l})})};function oe(l){const a=P();se("Verification");const d=()=>{window.history.back()};if(!(a.pathname=="/"||(a==null?void 0:a.pathname)=="/login"&&(a==null?void 0:a.pathname)=="/mobile-modules")&&(l==null?void 0:l.titleBarVisibility)!==!1)return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-row  py-2 justify-center items-center pr-2 sm:pr-0",children:[e.jsx("div",{className:"flex-1 flex pl-2 text-gray-700",children:e.jsxs("span",{className:"cursor-pointer hover:text-[#122031] text-[#1A4D8C]",onClick:d,children:[e.jsx(Q,{className:"inline font-semibold"}),"Back"]})}),e.jsxs("div",{className:"flex justify-right items-center text-xl font-semibold text-[#1A4D8C]",children:[e.jsx(Y,{className:"inline mr-2"}),l==null?void 0:l.titleText]})]}),e.jsx("hr",{})]})}const we=()=>{const l=z(),{setheartBeatCounter:a,settoggleBar:d,titleBarVisibility:r,titleText:x}=n.useContext(y);return n.useEffect(()=>{a(h=>h+1)},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"relative flex justify-center items-center h-[100vh] w-full ",children:e.jsxs("div",{className:"flex flex-row flex-wrap w-full md:w-[100%] h-full md:h-[100%] bg-[#eff2f7] drop-shadow-[0_15px_15px_rgba(0,0,0,0.25)] overflow-clip ",children:[e.jsx("div",{className:"w-full",children:e.jsx(ae,{})}),e.jsx("div",{className:"md:flex md:relative absolute top-[3.4rem] md:top-0 h-full",style:{zIndex:999},children:e.jsx(re,{})}),e.jsxs("div",{className:"flex-1 h-full w-[60%] relative overflow-auto border md:border-none",onClick:()=>window.innerWidth<=763&&d(!1),children:[e.jsx("div",{className:" px-2 md:px-10 md:mt-0",children:e.jsx(oe,{titleBarVisibility:r,titleText:x})}),e.jsxs("div",{className:" md:px-5 md:my-2 pt-6 md:pt-4 ",children:[N("token")!="null"&&N("token")!=null?e.jsx(E,{}):l("/"),e.jsx("div",{className:"h-[20vh]"})]})]})]})})})};export{we as default};
