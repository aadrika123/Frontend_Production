import{r as n,j as e,c as N,a as A,l as R,g as S,d as w,N as C,s as k,b as D,O as z}from"./index-fc4cb72f.js";import{M as I}from"./index-eb971279.js";import{F as E}from"./index.esm-0fdb0cd1.js";import{B as M}from"./BarLoader-8a399d4a.js";import{u as L}from"./DynamicData-89ec0084.js";import{a as T}from"./index.esm-19b9ff4d.js";import{a as P,b as V}from"./index.esm-f8e3e383.js";import{W as B}from"./react-tooltip.min-40e1334a.js";import{B as W,a as G,b as $}from"./index.esm-516fa3b3.js";import{A as O}from"./ApiHeader-6d683756.js";import{P as F,a as q}from"./ProjectApiList-7750983f.js";import{A as H}from"./AxiosInterceptors-4f718f2a.js";import{M as J,a as U}from"./index.esm-13937e5f.js";import{G as Y}from"./index.esm-91670cfe.js";import{u as K}from"./useSetTitle-2883ebe3.js";import"./index-387d7a00.js";import"./iconBase-327396fe.js";const Q={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"white",border:"none"}};function X(a){const[l,c]=n.useState(!0),[i,d]=n.useState(!1),[r,x]=n.useState(null),{api_getNotification:f}=F(),h=()=>{},u=()=>{},g=()=>{d(!0),H.post(f,{},O()).then(function(t){var p;x((p=t==null?void 0:t.data)==null?void 0:p.data),d(!1)}).catch(function(t){d(!1)})};return n.useEffect(()=>{g()},[]),e.jsxs(e.Fragment,{children:[i&&e.jsx(M,{}),e.jsx(I,{isOpen:l,onRequestClose:h,style:Q,contentLabel:"Example Modal",children:e.jsxs("div",{class:"relative bg-white p-10 rounded-lg shadow-xl border-2 border-gray-50",children:[e.jsx("button",{onClick:()=>a==null?void 0:a.setnotificationState(!1),type:"button",class:"absolute top-3 right-2.5 bg-gray-300 text-white hover:bg-gray-200 hover:text-gray-900 rounded-full text-sm p-1.5 ml-auto inline-flex items-center",children:e.jsx("svg",{class:"w-5 h-5",fill:"currentColor",children:e.jsx("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})})}),e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("span",{className:"font-semibold relative text-lg",children:["Notification ",e.jsx("span",{className:"flex justify-center absolute -top-1 -right-3 text-center bg-pink-500 px-1 text-white rounded-full text-xs",children:e.jsx("span",{className:"align-self-center",children:r==null?void 0:r.length})})]}),e.jsx("div",{className:"w-full h-3"}),Array.isArray(r)&&(r==null?void 0:r.map(t=>e.jsxs("div",{className:"flex items-center w-full px-4 py-3 text-gray-500 bg-indigo-200 rounded-lg shadow-xl mt-2",children:[e.jsx("div",{className:"inline-flex items-center justify-center flex-shrink-0 w-8 h-8 text-indigo-500 bg-indigo-100 rounded-lg ",children:e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",d:"M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03zM12.12 15.12A3 3 0 017 13s.879.5 2.5.5c0-1 .5-4 1.25-4.5.5 1 .786 1.293 1.371 1.879A2.99 2.99 0 0113 13a2.99 2.99 0 01-.879 2.121z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3 ",children:[e.jsx("div",{className:"text-md font-normal text-indigo-800",children:t==null?void 0:t.notification}),e.jsxs("div",{className:"text-xs font-normal text-indigo-400",children:[t==null?void 0:t.time," ",t==null?void 0:t.date]})]}),e.jsxs("button",{type:"button",onClick:()=>u(t==null?void 0:t.id),className:"ml-auto -mx-1.5 -my-1.5 bg-indigo-200 text-gray-400 hover:text-gray-900 rounded-lg focus:ring-2 focus:ring-gray-300 p-1.5 hover:bg-gray-100 inline-flex h-8 w-8 darks:text-gray-500 ","data-collapse-toggle":"toast-default","aria-label":"Close",children:[e.jsx("span",{className:"sr-only",children:"Close"}),e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]}))),!Array.isArray(r)&&e.jsx("div",{children:"No notification yet !"})]})]})})]})}const Z=a=>{var m;const[l,c]=n.useState(!1),[i,d]=n.useState(!1),[r,x]=n.useState(!1),[f,h]=n.useState(!1);n.useState([]),n.useState(!1);const{toggleBar:u,settoggleBar:g,userDetails:t}=n.useContext(N),{api_moduleList:p,api_logout:y}=F();L();const _=A();function j(){c(!0)}function s(){c(!1),x(!1)}const b=()=>{o(),d(!1),R(),_("/")},v=()=>{s(),b()},o=()=>{q.post(y,{},O()).then(ae=>{}).finally(()=>{})};return n.useEffect(()=>{},[]),e.jsxs(e.Fragment,{children:[i&&e.jsx(M,{}),e.jsxs("div",{className:"bg-white flex flex-row justify-between px-2 sm:px-6 border shadow-sm print:hidden py-3 z-50 animate__animated animate__fadeInDown animate__faster",children:[e.jsxs("div",{className:"flex items-center md:w-[20rem] w-full justify-between gap-2 sm:gap-4",children:[e.jsxs("span",{className:"font-semibold flex items-center gap-2",children:[" ",e.jsx("img",{src:(m=L())==null?void 0:m.ulb_logo,alt:"",srcset:"",className:"w-9"})," ",e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"text-lg md:text-xl ",children:"Fines & Penalties"}),e.jsx("div",{className:"text-sm hidden",children:"Ranchi Nagar Nigam, Ranchi"})," "]})]}),e.jsx("div",{onClick:()=>{g(!u)},children:e.jsx("span",{className:"cursor-pointer text-gray-700 text-xl",children:e.jsx(T,{})})}),e.jsx("div",{className:"flex justify-center h-max select-none"})]}),e.jsxs("div",{className:"flex items-center sm:gap-4 gap-2",children:[e.jsxs("span",{className:"sm:visible flex items-center ",children:[e.jsx(B,{anchorId:"logout",className:"z-50"}),e.jsx("button",{id:"logout","data-tooltip-content":"Log Out",onClick:()=>j(),className:"text-2xl font-semibold",children:e.jsx(P,{})})]}),e.jsx(B,{anchorId:"notification_icon",className:"z-50"}),e.jsx(W,{id:"notification_icon","data-tooltip-content":"Show all notifications.",onClick:()=>h(!0),className:"cursor-pointer inline text-2xl font-semibold"})]})]}),e.jsxs(I,{isOpen:l,onRequestClose:s,className:"h-screen w-screen flex items-center justify-center",contentLabel:"Logout Modal",children:[e.jsx("div",{className:"bg-black absolute h-screen w-screen opacity-50 z-0 ",onClick:s}),e.jsxs("div",{className:"border bg-white z-50 px-6 py-4 flex flex-col gap-4 animate__animated animate__slideInLeft animate__faster",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("span",{className:"text-red-500 bg-red-100 p-2 block rounded-full drop-shadow-md shadow-red-300",children:e.jsx(E,{size:25})}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"text-xl font-semibold border-b pb-1",children:"Confirmation"}),e.jsx("span",{className:"text-base",children:"Are you sure want to log out ?"})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{className:"text-white bg-slate-400 hover:bg-slate-500 px-4 py-1 text-sm ",onClick:s,children:"No"}),e.jsx("button",{className:"text-white bg-red-500 hover:bg-red-600 px-4 py-1 text-sm ",onClick:v,children:"Yes"})]})]})]}),f&&e.jsx(X,{setnotificationState:h})]})};const ee=a=>{var j;const{toggleBar:l,settoggleBar:c}=n.useContext(N);let i=S("userDetails");const[d,r]=n.useState(w("dropDown")||!1),[x,f]=n.useState(w("dropName")||""),h="block w-full pl-7 py-2 px-6 clear-both whitespace-nowrap text-sm hover:bg-indigo-100 hover:text-[#1A4D8C] rounded-md text-sm animate__animated animate__fadeIn animate__faster ",u="block py-3 px-4 hover:bg-indigo-100 hover:text-[#1A4D8C] rounded-md animate__animated animate__fadeIn animate__faster ",g="animate__animated animate__slideInLeft animate__faster bg-[#1A4D8C] w-[17rem] ",t="animate__animated animate__fadeInLeft animate__faster ",p="w-0 sm:w-3 bg-[#1A4D8C] animate__animated ",y="animate__animated animate__fadeOutLeft animate__faster ",_=s=>{k("dropDown",!d),k("dropName",s),r(!d),f(s)};return e.jsx(e.Fragment,{children:e.jsx("header",{className:(l?g:p)+" relative select-none transition-all duration-200 h-full text-white pt-2",children:e.jsx("div",{class:(l?t:y)+" bg-[#1A4D8C] w-full inset-0 ",id:"mobile-menu",children:e.jsx("nav",{id:"mobile-nav",class:"flex flex-col ltr:right-0 rtl:left-0 w-full top-0 py-4 ",children:e.jsxs("div",{class:"mb-auto text-sm 2xl:text-base text-gray-50",children:[e.jsxs("div",{class:"text-center mb-4",children:[e.jsxs("div",{class:"text-sm text-gray-200 flex flex-col items-start justify-center relative",children:[e.jsxs("span",{className:"flex justify-center w-full",children:[" ",e.jsx("span",{className:"text-[50px] flex justify-center py-2 text-white",children:e.jsx(Y,{})})]}),e.jsx("span",{className:"flex justify-center w-full",children:i==null?void 0:i.user_name}),e.jsxs("span",{className:"flex justify-center w-full uppercase text-xs font-semibold",children:["( ",(i==null?void 0:i.role_name)||"Role Name"," )"]})]}),e.jsx("hr",{className:"my-4"})]}),e.jsx("div",{class:" text-sm px-4 overflow-y-auto scrollbar-width-10 scrollbar-track-blue-100 scrollbar-thumb-blue-700 scrollbar-thumb-rounded-full scrollbar-thumb-hover-blue-500 transition-all duration-200",children:e.jsx("nav",{class:"relative flex flex-wrap items-center justify-between overflow-x-hidden",children:e.jsx("ul",{id:"side-menu",class:"w-full float-none flex flex-col",children:(j=a==null?void 0:a.menu)==null?void 0:j.map(s=>{var b,v;return e.jsx(e.Fragment,{children:e.jsxs("li",{className:"relative cursor-pointer mb-1",onClick:()=>{var o;window.innerWidth<=763&&((o=s==null?void 0:s.children)==null?void 0:o.length)==0&&c(!l)},children:[e.jsxs(C,{to:(s==null?void 0:s.path)==""?null:s==null?void 0:s.path,className:({isActive:o})=>{var m;return(o&&((m=s==null?void 0:s.children)==null?void 0:m.length)==0?"bg-sky-100 text-[#133e71] ":" ")+`${u} flex gap-4 items-center`},onClick:()=>{_(s==null?void 0:s.name),x==(s==null?void 0:s.name)&&f("")},children:[" ",e.jsx("span",{children:e.jsx(J,{})})," ",e.jsxs("div",{className:"flex justify-between items-center flex-1",children:[e.jsx("span",{children:s==null?void 0:s.name}),((s==null?void 0:s.path)==null||(s==null?void 0:s.path)=="")&&e.jsx("span",{className:x==(s==null?void 0:s.name)?"transition-all duration-200 ease-in-out rotate-90":"transition-all duration-200 ease-in-out rotate-0",children:e.jsx(G,{})})]})," "]}),((b=s==null?void 0:s.children)==null?void 0:b.length)>0&&x==(s==null?void 0:s.name)&&e.jsx("ul",{class:"block rounded rounded-t-none top-full py-0.5 ltr:text-left rtl:text-right mb-4 bg-[#133e71]",children:(v=s==null?void 0:s.children)==null?void 0:v.map(o=>e.jsx(e.Fragment,{children:e.jsx("li",{class:"relative cursor-pointer mt-1",onClick:()=>{window.innerWidth<=763&&c(!l)},children:e.jsxs(C,{to:o==null?void 0:o.path,className:({isActive:m})=>(m?"bg-sky-100 text-[#133e71] ":" ")+`${h} flex gap-3 items-center`,children:[e.jsx("span",{children:e.jsx(U,{})})," ",e.jsx("span",{className:"",children:o==null?void 0:o.name})]})})}))})]})})})})})})]})})})})})},se=()=>{n.useContext(N);let a=S("menuList");return e.jsx(e.Fragment,{children:e.jsx(ee,{menu:a})})};function te(a){const l=D();K("Verification");const c=()=>{window.history.back()};if(!(l.pathname=="/"||(l==null?void 0:l.pathname)=="/login"&&(l==null?void 0:l.pathname)=="/mobile-modules")&&(a==null?void 0:a.titleBarVisibility)!==!1)return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-row  py-2 justify-center items-center pr-2 sm:pr-0",children:[e.jsx("div",{className:"flex-1 flex pl-2 text-gray-700",children:e.jsxs("span",{className:"cursor-pointer hover:text-[#122031] text-[#1A4D8C]",onClick:c,children:[e.jsx(V,{className:"inline font-semibold"}),"Back"]})}),e.jsxs("div",{className:"flex justify-right items-center text-xl font-semibold text-[#1A4D8C]",children:[e.jsx($,{className:"inline mr-2"}),a==null?void 0:a.titleText]})]}),e.jsx("hr",{})]})}const we=()=>{const a=A(),{setheartBeatCounter:l,settoggleBar:c,titleBarVisibility:i,titleText:d}=n.useContext(N);return n.useEffect(()=>{l(r=>r+1)},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"relative flex justify-center items-center h-[100vh] w-full ",children:e.jsxs("div",{className:"flex flex-row flex-wrap w-full md:w-[100%] h-full md:h-[100%] bg-[#eff2f7] drop-shadow-[0_15px_15px_rgba(0,0,0,0.25)] overflow-clip ",children:[e.jsx("div",{className:"w-full",children:e.jsx(Z,{})}),e.jsx("div",{className:"md:flex md:relative absolute top-[3.4rem] md:top-0 h-full",style:{zIndex:999},children:e.jsx(se,{})}),e.jsxs("div",{className:"flex-1 h-full w-[60%] relative overflow-auto border md:border-none",onClick:()=>window.innerWidth<=763&&c(!1),children:[e.jsx("div",{className:" px-2 md:px-10 md:mt-0",children:e.jsx(te,{titleBarVisibility:i,titleText:d})}),e.jsxs("div",{className:" md:px-5 md:my-2 pt-6 md:pt-4 ",children:[w("token")!="null"&&w("token")!=null?e.jsx(z,{}):a("/"),e.jsx("div",{className:"h-[20vh]"})]})]})]})})})};export{we as default};
