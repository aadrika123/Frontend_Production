import{G as A,r as n,j as e,B as S,M,A as O,f as R,P as z,b as w,d as I,i as F,F as D,l as E,N as C,k as V,m as G,g as k,O as H}from"./index-7b86da2c.js";import{u as L}from"./DynamicData-89ec0084.js";import{W as B}from"./react-tooltip.min-f2a82219.js";import{B as T,a as W,b as P}from"./index.esm-00d37fb0.js";import{M as U,a as $}from"./index.esm-fc7cdb23.js";import{G as q}from"./index.esm-fa5628ad.js";function Y(a){return A({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.707 17.293 8.414 13H18v-2H8.414l4.293-4.293-1.414-1.414L4.586 12l6.707 6.707z"}}]})(a)}function J(a){return A({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m2 12 5 4v-3h9v-2H7V8z"}},{tag:"path",attr:{d:"M13.001 2.999a8.938 8.938 0 0 0-6.364 2.637L8.051 7.05c1.322-1.322 3.08-2.051 4.95-2.051s3.628.729 4.95 2.051 2.051 3.08 2.051 4.95-.729 3.628-2.051 4.95-3.08 2.051-4.95 2.051-3.628-.729-4.95-2.051l-1.414 1.414c1.699 1.7 3.959 2.637 6.364 2.637s4.665-.937 6.364-2.637c1.7-1.699 2.637-3.959 2.637-6.364s-.937-4.665-2.637-6.364a8.938 8.938 0 0 0-6.364-2.637z"}}]})(a)}const K={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"white",border:"none"}};function Q(a){const[l,d]=n.useState(!0),[r,o]=n.useState(!1),[i,x]=n.useState(null),{api_getNotification:h}=z(),f=()=>{},g=()=>{},p=()=>{o(!0),O.post(h,{},R()).then(function(s){var u;x((u=s==null?void 0:s.data)==null?void 0:u.data),console.log("notification list...",s==null?void 0:s.data),o(!1)}).catch(function(s){console.log("notification get error...",s),o(!1)})};return n.useEffect(()=>{p()},[]),e.jsxs(e.Fragment,{children:[r&&e.jsx(S,{}),e.jsx(M,{isOpen:l,onRequestClose:f,style:K,contentLabel:"Example Modal",children:e.jsxs("div",{class:"relative bg-white p-10 rounded-lg shadow-xl border-2 border-gray-50",children:[e.jsx("button",{onClick:()=>a==null?void 0:a.setnotificationState(!1),type:"button",class:"absolute top-3 right-2.5 bg-gray-300 text-white hover:bg-gray-200 hover:text-gray-900 rounded-full text-sm p-1.5 ml-auto inline-flex items-center",children:e.jsx("svg",{class:"w-5 h-5",fill:"currentColor",children:e.jsx("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})})}),e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("span",{className:"font-semibold relative text-lg",children:["Notification ",e.jsx("span",{className:"flex justify-center absolute -top-1 -right-3 text-center bg-pink-500 px-1 text-white rounded-full text-xs",children:e.jsx("span",{className:"align-self-center",children:i==null?void 0:i.length})})]}),e.jsx("div",{className:"w-full h-3"}),Array.isArray(i)&&(i==null?void 0:i.map(s=>e.jsxs("div",{className:"flex items-center w-full px-4 py-3 text-gray-500 bg-indigo-200 rounded-lg shadow-xl mt-2",children:[e.jsx("div",{className:"inline-flex items-center justify-center flex-shrink-0 w-8 h-8 text-indigo-500 bg-indigo-100 rounded-lg ",children:e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",d:"M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03zM12.12 15.12A3 3 0 017 13s.879.5 2.5.5c0-1 .5-4 1.25-4.5.5 1 .786 1.293 1.371 1.879A2.99 2.99 0 0113 13a2.99 2.99 0 01-.879 2.121z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3 ",children:[e.jsx("div",{className:"text-md font-normal text-indigo-800",children:s==null?void 0:s.notification}),e.jsxs("div",{className:"text-xs font-normal text-indigo-400",children:[s==null?void 0:s.time," ",s==null?void 0:s.date]})]}),e.jsxs("button",{type:"button",onClick:()=>g(s==null?void 0:s.id),className:"ml-auto -mx-1.5 -my-1.5 bg-indigo-200 text-gray-400 hover:text-gray-900 rounded-lg focus:ring-2 focus:ring-gray-300 p-1.5 hover:bg-gray-100 inline-flex h-8 w-8 darks:text-gray-500 ","data-collapse-toggle":"toast-default","aria-label":"Close",children:[e.jsx("span",{className:"sr-only",children:"Close"}),e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]}))),!Array.isArray(i)&&e.jsx("div",{children:"No notification yet !"})]})]})})]})}const X=a=>{var t;const[l,d]=n.useState(!1),[r,o]=n.useState(!1),[i,x]=n.useState(!1),[h,f]=n.useState(!1);n.useState([]),n.useState(!1);const{toggleBar:g,settoggleBar:p,userDetails:s}=n.useContext(w);L();const u=I();function N(){d(!0)}function m(){d(!1),x(!1)}const j=()=>{o(!1),E(),u("/")},b=()=>{m(),j()};return n.useEffect(()=>{},[]),e.jsxs(e.Fragment,{children:[r&&e.jsx(S,{}),e.jsxs("div",{className:"bg-white flex flex-row justify-between px-2 sm:px-6 border shadow-sm print:hidden py-3 z-50",children:[e.jsxs("div",{className:"flex items-center md:w-[20rem] w-full justify-between gap-2 sm:gap-4",children:[e.jsxs("span",{className:"font-semibold flex items-center gap-1",children:[" ",e.jsx("img",{src:(t=L())==null?void 0:t.state_logo,alt:"",srcset:"",className:"w-9"})," ",e.jsx("span",{className:"text-lg md:text-xl ",children:"Fines & Penalties"})]}),e.jsx("div",{onClick:()=>{p(!g)},children:e.jsx("span",{className:"cursor-pointer text-gray-700 text-xl",children:e.jsx(F,{})})})]}),e.jsxs("div",{className:"flex items-center sm:gap-4 gap-2",children:[e.jsxs("span",{className:"sm:visible flex items-center ",children:[e.jsx(B,{anchorId:"logout",className:"z-50"}),e.jsx("button",{id:"logout","data-tooltip-content":"Log Out",onClick:()=>N(),className:"text-2xl font-semibold",children:e.jsx(J,{})})]}),e.jsx(B,{anchorId:"notification_icon",className:"z-50"}),e.jsx(T,{id:"notification_icon","data-tooltip-content":"Show all notifications.",onClick:()=>f(!0),className:"cursor-pointer inline text-2xl font-semibold"})]})]}),e.jsxs(M,{isOpen:l,onRequestClose:m,className:"h-screen w-screen flex items-center justify-center",contentLabel:"Logout Modal",children:[e.jsx("div",{className:"bg-black absolute h-screen w-screen opacity-50 z-0 ",onClick:m}),e.jsxs("div",{className:"border bg-white z-50 px-6 py-4 flex flex-col gap-4 animate__animated animate__slideInLeft animate__faster",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("span",{className:"text-red-500 bg-red-100 p-2 block rounded-full drop-shadow-md shadow-red-300",children:e.jsx(D,{size:25})}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"text-xl font-semibold border-b pb-1",children:"Confirmation Box"}),e.jsx("span",{className:"text-base",children:"Are you sure want to log out ?"})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{className:"text-white bg-slate-400 hover:bg-slate-500 px-4 py-1 text-sm ",onClick:m,children:"No"}),e.jsx("button",{className:"text-white bg-red-500 hover:bg-red-600 px-4 py-1 text-sm ",onClick:b,children:"Yes"})]})]})]}),h&&e.jsx(Q,{setnotificationState:f})]})};const Z=a=>{var j,b;const{toggleBar:l,settoggleBar:d,userDetails:r}=n.useContext(w),[o,i]=n.useState(!1),[x,h]=n.useState(""),f="block w-full pl-7 py-2 px-6 clear-both whitespace-nowrap text-sm hover:bg-sky-100 hover:text-[#1A4D8C] rounded-md text-sm animate__animated animate__fadeIn animate__faster ",g="block py-3 px-4 hover:bg-sky-100 hover:text-[#1A4D8C] rounded-md animate__animated animate__fadeIn animate__faster ",p="animate__animated animate__slideInLeft animate__faster bg-[#1A4D8C] w-[17rem] ",s="animate__animated animate__fadeInLeft animate__faster ",u="w-0 sm:w-3 bg-[#1A4D8C] animate__animated ",N="animate__animated animate__fadeOutLeft animate__faster ",m=t=>{i(!o),h(t)};return e.jsx(e.Fragment,{children:e.jsx("header",{className:(l?p:u)+" relative select-none transition-all duration-200 h-full text-white pt-2",children:e.jsx("div",{class:(l?s:N)+" bg-[#1A4D8C] w-full inset-0 ",id:"mobile-menu",children:e.jsx("nav",{id:"mobile-nav",class:"flex flex-col ltr:right-0 rtl:left-0 w-full top-0 py-4 ",children:e.jsxs("div",{class:"mb-auto text-sm 2xl:text-base text-gray-50",children:[e.jsxs("div",{class:"text-center mb-4",children:[e.jsxs("div",{class:"text-sm text-gray-200 flex flex-col items-start justify-center relative",children:[e.jsxs("span",{className:"flex justify-center w-full",children:[" ",e.jsx("span",{className:"text-[50px] flex justify-center py-2 text-white",children:e.jsx(q,{})})]}),e.jsx("span",{className:"flex justify-center w-full",children:r==null?void 0:r.user_name}),e.jsx("span",{className:"flex justify-center w-full",children:(j=r==null?void 0:r.roles)==null?void 0:j.map(t=>t)})]}),e.jsx("hr",{className:"my-4"})]}),e.jsx("div",{class:" text-sm px-4 overflow-y-auto scrollbar-width-10 scrollbar-track-blue-100 scrollbar-thumb-blue-700 scrollbar-thumb-rounded-full scrollbar-thumb-hover-blue-500 transition-all duration-200",children:e.jsx("nav",{class:"relative flex flex-wrap items-center justify-between overflow-x-hidden",children:e.jsx("ul",{id:"side-menu",class:"w-full float-none flex flex-col",children:(b=a==null?void 0:a.menu)==null?void 0:b.map(t=>{var y,_;return e.jsx(e.Fragment,{children:e.jsxs("li",{className:"relative cursor-pointer mb-1",onClick:()=>{var c;window.innerWidth<=763&&((c=t==null?void 0:t.children)==null?void 0:c.length)==0&&d(!l)},children:[e.jsxs(C,{to:(t==null?void 0:t.path)==""?null:t==null?void 0:t.path,className:({isActive:c})=>{var v;return(c&&((v=t==null?void 0:t.children)==null?void 0:v.length)==0?"bg-sky-100 text-[#133e71] ":" ")+`${g} flex gap-4 items-center`},onClick:()=>{m(t==null?void 0:t.name),x==(t==null?void 0:t.name)&&h("")},children:[" ",e.jsx("span",{children:e.jsx(U,{})})," ",e.jsxs("div",{className:"flex justify-between items-center flex-1",children:[e.jsx("span",{children:t==null?void 0:t.name}),((t==null?void 0:t.path)==null||(t==null?void 0:t.path)=="")&&e.jsx("span",{className:x==(t==null?void 0:t.name)?"transition-all duration-200 ease-in-out rotate-90":"transition-all duration-200 ease-in-out rotate-0",children:e.jsx(W,{})})]})," "]}),((y=t==null?void 0:t.children)==null?void 0:y.length)>0&&x==(t==null?void 0:t.name)&&e.jsx("ul",{class:"block rounded rounded-t-none top-full py-0.5 ltr:text-left rtl:text-right mb-4 bg-[#133e71]",children:(_=t==null?void 0:t.children)==null?void 0:_.map(c=>e.jsx(e.Fragment,{children:e.jsx("li",{class:"relative cursor-pointer mt-1",onClick:()=>{window.innerWidth<=763&&d(!l)},children:e.jsxs(C,{to:c==null?void 0:c.path,className:({isActive:v})=>(v?"bg-sky-100 text-[#133e71] ":" ")+`${f} flex gap-3 items-center`,children:[e.jsx("span",{children:e.jsx($,{})})," ",e.jsx("span",{className:"",children:c==null?void 0:c.name})]})})}))})]})})})})})})]})})})})})},ee=()=>{n.useContext(w);const a=[{name:"Home",path:"/home",children:[]},{name:"Apply Fine & Penalty",path:"/fp-form",children:[]},{name:"Application List",path:"/fp-list",children:[]},{name:"Search Challan",path:"/search-challan",children:[]},{name:"Violation Master",path:"/violation-master",children:[]},{name:"Workflow",path:"/fp-workflow",children:[]},{name:"Reports",path:"",children:[{name:"Challan Generated Report",path:"/challan-generated-report"},{name:"Violation Wise Report",path:"/violation-wise-report"},{name:"Collection Report",path:"/collection-report"}]}];return e.jsx(e.Fragment,{children:e.jsx(Z,{menu:a})})};function te(a){const l=V();G("Verification");const d=()=>{const r=window.location.href,o=document.referrer;r!==o?(window.history.replaceState(null,null,""),window.history.back()):console.log("Already at the previous page.")};if(!(l.pathname=="/"||(l==null?void 0:l.pathname)=="/login"&&(l==null?void 0:l.pathname)=="/mobile-modules")&&(a==null?void 0:a.titleBarVisibility)!==!1)return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-row  py-2 justify-center items-center pr-2 sm:pr-0 z-40",children:[e.jsx("div",{className:"flex-1 flex pl-2 text-gray-700",children:e.jsxs("span",{className:"cursor-pointer hover:text-[#122031] text-[#1A4D8C]",onClick:d,children:[e.jsx(Y,{className:"inline font-semibold"}),"Back"]})}),e.jsxs("div",{className:"flex justify-right items-center text-xl font-semibold text-[#1A4D8C]",children:[e.jsx(P,{className:"inline mr-2"}),a==null?void 0:a.titleText]})]}),e.jsx("hr",{})]})}const oe=()=>{const a=I(),{setheartBeatCounter:l,settoggleBar:d,titleBarVisibility:r,titleText:o}=n.useContext(w);return n.useEffect(()=>{l(i=>i+1)},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"relative flex justify-center items-center h-[100vh] w-full ",children:e.jsxs("div",{className:"flex flex-row flex-wrap w-full md:w-[100%] h-full md:h-[100%] bg-[#eff2f7] drop-shadow-[0_15px_15px_rgba(0,0,0,0.25)] overflow-clip ",children:[e.jsx("div",{className:"w-full",children:e.jsx(X,{})}),e.jsx("div",{className:"md:flex md:relative absolute top-[3.4rem] md:top-0 h-full",style:{zIndex:999},children:e.jsx(ee,{})}),e.jsxs("div",{className:"flex-1 h-full w-[60%] relative overflow-auto border md:border-none",onClick:()=>window.innerWidth<=763&&d(!1),children:[e.jsx("div",{className:" px-2 md:px-10 md:mt-0",children:e.jsx(te,{titleBarVisibility:r,titleText:o})}),e.jsxs("div",{className:" md:px-5 md:my-2 pt-6 md:pt-4 ",children:[k("token")!="null"&&k("token")!=null?e.jsx(H,{}):a("/"),e.jsx("div",{className:"h-[20vh]"})]})]})]})})})};export{oe as default};
